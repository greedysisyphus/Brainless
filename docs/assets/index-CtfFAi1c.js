var rV=Object.defineProperty;var nV=(t,e,r)=>e in t?rV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var yy=(t,e,r)=>nV(t,typeof e!="symbol"?e+"":e,r);function iV(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function zi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kP={exports:{}},A0={},QP={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bf=Symbol.for("react.element"),sV=Symbol.for("react.portal"),aV=Symbol.for("react.fragment"),oV=Symbol.for("react.strict_mode"),AV=Symbol.for("react.profiler"),lV=Symbol.for("react.provider"),cV=Symbol.for("react.context"),uV=Symbol.for("react.forward_ref"),dV=Symbol.for("react.suspense"),fV=Symbol.for("react.memo"),hV=Symbol.for("react.lazy"),QI=Symbol.iterator;function gV(t){return t===null||typeof t!="object"?null:(t=QI&&t[QI]||t["@@iterator"],typeof t=="function"?t:null)}var OP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jP=Object.assign,DP={};function Ec(t,e,r){this.props=t,this.context=e,this.refs=DP,this.updater=r||OP}Ec.prototype.isReactComponent={};Ec.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ec.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function RP(){}RP.prototype=Ec.prototype;function VB(t,e,r){this.props=t,this.context=e,this.refs=DP,this.updater=r||OP}var KB=VB.prototype=new RP;KB.constructor=VB;jP(KB,Ec.prototype);KB.isPureReactComponent=!0;var OI=Array.isArray,MP=Object.prototype.hasOwnProperty,$B={current:null},LP={key:!0,ref:!0,__self:!0,__source:!0};function HP(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)MP.call(e,n)&&!LP.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var A=Array(o),l=0;l<o;l++)A[l]=arguments[l+2];i.children=A}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:bf,type:t,key:s,ref:a,props:i,_owner:$B.current}}function mV(t,e){return{$$typeof:bf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function GB(t){return typeof t=="object"&&t!==null&&t.$$typeof===bf}function pV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var jI=/\/+/g;function wy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pV(""+t.key):e.toString(36)}function Lg(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case bf:case sV:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+wy(a,0):n,OI(i)?(r="",t!=null&&(r=t.replace(jI,"$&/")+"/"),Lg(i,e,r,"",function(l){return l})):i!=null&&(GB(i)&&(i=mV(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(jI,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",OI(t))for(var o=0;o<t.length;o++){s=t[o];var A=n+wy(s,o);a+=Lg(s,e,r,A,i)}else if(A=gV(t),typeof A=="function")for(t=A.call(t),o=0;!(s=t.next()).done;)s=s.value,A=n+wy(s,o++),a+=Lg(s,e,r,A,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ch(t,e,r){if(t==null)return t;var n=[],i=0;return Lg(t,n,"","",function(s){return e.call(r,s,i++)}),n}function vV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var zr={current:null},Hg={transition:null},yV={ReactCurrentDispatcher:zr,ReactCurrentBatchConfig:Hg,ReactCurrentOwner:$B};function VP(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:Ch,forEach:function(t,e,r){Ch(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ch(t,function(){e++}),e},toArray:function(t){return Ch(t,function(e){return e})||[]},only:function(t){if(!GB(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=Ec;Oe.Fragment=aV;Oe.Profiler=AV;Oe.PureComponent=VB;Oe.StrictMode=oV;Oe.Suspense=dV;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yV;Oe.act=VP;Oe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=jP({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=$B.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(A in e)MP.call(e,A)&&!LP.hasOwnProperty(A)&&(n[A]=e[A]===void 0&&o!==void 0?o[A]:e[A])}var A=arguments.length-2;if(A===1)n.children=r;else if(1<A){o=Array(A);for(var l=0;l<A;l++)o[l]=arguments[l+2];n.children=o}return{$$typeof:bf,type:t.type,key:i,ref:s,props:n,_owner:a}};Oe.createContext=function(t){return t={$$typeof:cV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lV,_context:t},t.Consumer=t};Oe.createElement=HP;Oe.createFactory=function(t){var e=HP.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:uV,render:t}};Oe.isValidElement=GB;Oe.lazy=function(t){return{$$typeof:hV,_payload:{_status:-1,_result:t},_init:vV}};Oe.memo=function(t,e){return{$$typeof:fV,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=Hg.transition;Hg.transition={};try{t()}finally{Hg.transition=e}};Oe.unstable_act=VP;Oe.useCallback=function(t,e){return zr.current.useCallback(t,e)};Oe.useContext=function(t){return zr.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return zr.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return zr.current.useEffect(t,e)};Oe.useId=function(){return zr.current.useId()};Oe.useImperativeHandle=function(t,e,r){return zr.current.useImperativeHandle(t,e,r)};Oe.useInsertionEffect=function(t,e){return zr.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return zr.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return zr.current.useMemo(t,e)};Oe.useReducer=function(t,e,r){return zr.current.useReducer(t,e,r)};Oe.useRef=function(t){return zr.current.useRef(t)};Oe.useState=function(t){return zr.current.useState(t)};Oe.useSyncExternalStore=function(t,e,r){return zr.current.useSyncExternalStore(t,e,r)};Oe.useTransition=function(){return zr.current.useTransition()};Oe.version="18.3.1";QP.exports=Oe;var x=QP.exports;const ti=zi(x),KP=iV({__proto__:null,default:ti},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wV=x,xV=Symbol.for("react.element"),bV=Symbol.for("react.fragment"),BV=Object.prototype.hasOwnProperty,CV=wV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EV={key:!0,ref:!0,__self:!0,__source:!0};function $P(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)BV.call(e,n)&&!EV.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:xV,type:t,key:s,ref:a,props:i,_owner:CV.current}}A0.Fragment=bV;A0.jsx=$P;A0.jsxs=$P;kP.exports=A0;var u=kP.exports,Jw={},GP={exports:{}},Pn={},WP={exports:{}},zP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,ie){var ce=q.length;q.push(ie);e:for(;0<ce;){var Se=ce-1>>>1,ne=q[Se];if(0<i(ne,ie))q[Se]=ie,q[ce]=ne,ce=Se;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var ie=q[0],ce=q.pop();if(ce!==ie){q[0]=ce;e:for(var Se=0,ne=q.length,Ne=ne>>>1;Se<Ne;){var ze=2*(Se+1)-1,j=q[ze],V=ze+1,D=q[V];if(0>i(j,ce))V<ne&&0>i(D,j)?(q[Se]=D,q[V]=ce,Se=V):(q[Se]=j,q[ze]=ce,Se=ze);else if(V<ne&&0>i(D,ce))q[Se]=D,q[V]=ce,Se=V;else break e}}return ie}function i(q,ie){var ce=q.sortIndex-ie.sortIndex;return ce!==0?ce:q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var A=[],l=[],c=1,d=null,f=3,g=!1,m=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(q){for(var ie=r(l);ie!==null;){if(ie.callback===null)n(l);else if(ie.startTime<=q)n(l),ie.sortIndex=ie.expirationTime,e(A,ie);else break;ie=r(l)}}function I(q){if(p=!1,B(q),!m)if(r(A)!==null)m=!0,me(T);else{var ie=r(l);ie!==null&&pe(I,ie.startTime-q)}}function T(q,ie){m=!1,p&&(p=!1,y(_),_=-1),g=!0;var ce=f;try{for(B(ie),d=r(A);d!==null&&(!(d.expirationTime>ie)||q&&!k());){var Se=d.callback;if(typeof Se=="function"){d.callback=null,f=d.priorityLevel;var ne=Se(d.expirationTime<=ie);ie=t.unstable_now(),typeof ne=="function"?d.callback=ne:d===r(A)&&n(A),B(ie)}else n(A);d=r(A)}if(d!==null)var Ne=!0;else{var ze=r(l);ze!==null&&pe(I,ze.startTime-ie),Ne=!1}return Ne}finally{d=null,f=ce,g=!1}}var F=!1,C=null,_=-1,S=5,U=-1;function k(){return!(t.unstable_now()-U<S)}function Q(){if(C!==null){var q=t.unstable_now();U=q;var ie=!0;try{ie=C(!0,q)}finally{ie?P():(F=!1,C=null)}}else F=!1}var P;if(typeof w=="function")P=function(){w(Q)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,xe=ae.port2;ae.port1.onmessage=Q,P=function(){xe.postMessage(null)}}else P=function(){v(Q,0)};function me(q){C=q,F||(F=!0,P())}function pe(q,ie){_=v(function(){q(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,me(T))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(A)},t.unstable_next=function(q){switch(f){case 1:case 2:case 3:var ie=3;break;default:ie=f}var ce=f;f=ie;try{return q()}finally{f=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,ie){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ce=f;f=q;try{return ie()}finally{f=ce}},t.unstable_scheduleCallback=function(q,ie,ce){var Se=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Se+ce:Se):ce=Se,q){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ce+ne,q={id:c++,callback:ie,priorityLevel:q,startTime:ce,expirationTime:ne,sortIndex:-1},ce>Se?(q.sortIndex=ce,e(l,q),r(A)===null&&q===r(l)&&(p?(y(_),_=-1):p=!0,pe(I,ce-Se))):(q.sortIndex=ne,e(A,q),m||g||(m=!0,me(T))),q},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(q){var ie=f;return function(){var ce=f;f=ie;try{return q.apply(this,arguments)}finally{f=ce}}}})(zP);WP.exports=zP;var _V=WP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IV=x,In=_V;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YP=new Set,Td={};function TA(t,e){Wl(t,e),Wl(t+"Capture",e)}function Wl(t,e){for(Td[t]=e,t=0;t<e.length;t++)YP.add(e[t])}var Fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zw=Object.prototype.hasOwnProperty,SV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DI={},RI={};function TV(t){return Zw.call(RI,t)?!0:Zw.call(DI,t)?!1:SV.test(t)?RI[t]=!0:(DI[t]=!0,!1)}function FV(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NV(t,e,r,n){if(e===null||typeof e>"u"||FV(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Br[t]=new Yr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Br[e]=new Yr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Br[t]=new Yr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Br[t]=new Yr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Br[t]=new Yr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Br[t]=new Yr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Br[t]=new Yr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Br[t]=new Yr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Br[t]=new Yr(t,5,!1,t.toLowerCase(),null,!1,!1)});var WB=/[\-:]([a-z])/g;function zB(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(WB,zB);Br[e]=new Yr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(WB,zB);Br[e]=new Yr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(WB,zB);Br[e]=new Yr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Br[t]=new Yr(t,1,!1,t.toLowerCase(),null,!1,!1)});Br.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Br[t]=new Yr(t,1,!1,t.toLowerCase(),null,!0,!0)});function YB(t,e,r,n){var i=Br.hasOwnProperty(e)?Br[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NV(e,r,i,n)&&(r=null),n||i===null?TV(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Vs=IV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eh=Symbol.for("react.element"),ml=Symbol.for("react.portal"),pl=Symbol.for("react.fragment"),XB=Symbol.for("react.strict_mode"),ex=Symbol.for("react.profiler"),XP=Symbol.for("react.provider"),qP=Symbol.for("react.context"),qB=Symbol.for("react.forward_ref"),tx=Symbol.for("react.suspense"),rx=Symbol.for("react.suspense_list"),JB=Symbol.for("react.memo"),ca=Symbol.for("react.lazy"),JP=Symbol.for("react.offscreen"),MI=Symbol.iterator;function du(t){return t===null||typeof t!="object"?null:(t=MI&&t[MI]||t["@@iterator"],typeof t=="function"?t:null)}var St=Object.assign,xy;function Du(t){if(xy===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);xy=e&&e[1]||""}return`
`+xy+t}var by=!1;function By(t,e){if(!t||by)return"";by=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var A=`
`+i[a].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=a&&0<=o);break}}}finally{by=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Du(t):""}function UV(t){switch(t.tag){case 5:return Du(t.type);case 16:return Du("Lazy");case 13:return Du("Suspense");case 19:return Du("SuspenseList");case 0:case 2:case 15:return t=By(t.type,!1),t;case 11:return t=By(t.type.render,!1),t;case 1:return t=By(t.type,!0),t;default:return""}}function nx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pl:return"Fragment";case ml:return"Portal";case ex:return"Profiler";case XB:return"StrictMode";case tx:return"Suspense";case rx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qP:return(t.displayName||"Context")+".Consumer";case XP:return(t._context.displayName||"Context")+".Provider";case qB:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case JB:return e=t.displayName||null,e!==null?e:nx(t.type)||"Memo";case ca:e=t._payload,t=t._init;try{return nx(t(e))}catch{}}return null}function PV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nx(e);case 8:return e===XB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ZP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kV(t){var e=ZP(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _h(t){t._valueTracker||(t._valueTracker=kV(t))}function ek(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=ZP(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ym(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ix(t,e){var r=e.checked;return St({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function LI(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Wa(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tk(t,e){e=e.checked,e!=null&&YB(t,"checked",e,!1)}function sx(t,e){tk(t,e);var r=Wa(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ax(t,e.type,r):e.hasOwnProperty("defaultValue")&&ax(t,e.type,Wa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function HI(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ax(t,e,r){(e!=="number"||ym(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ru=Array.isArray;function kl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Wa(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ox(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return St({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function VI(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(re(92));if(Ru(r)){if(1<r.length)throw Error(re(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Wa(r)}}function rk(t,e){var r=Wa(e.value),n=Wa(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function KI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ax(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ih,ik=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ih=Ih||document.createElement("div"),Ih.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ih.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var nd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QV=["Webkit","ms","Moz","O"];Object.keys(nd).forEach(function(t){QV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nd[e]=nd[t]})});function sk(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||nd.hasOwnProperty(t)&&nd[t]?(""+e).trim():e+"px"}function ak(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=sk(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var OV=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lx(t,e){if(e){if(OV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function cx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ux=null;function ZB(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dx=null,Ql=null,Ol=null;function $I(t){if(t=Ef(t)){if(typeof dx!="function")throw Error(re(280));var e=t.stateNode;e&&(e=f0(e),dx(t.stateNode,t.type,e))}}function ok(t){Ql?Ol?Ol.push(t):Ol=[t]:Ql=t}function Ak(){if(Ql){var t=Ql,e=Ol;if(Ol=Ql=null,$I(t),e)for(t=0;t<e.length;t++)$I(e[t])}}function lk(t,e){return t(e)}function ck(){}var Cy=!1;function uk(t,e,r){if(Cy)return t(e,r);Cy=!0;try{return lk(t,e,r)}finally{Cy=!1,(Ql!==null||Ol!==null)&&(ck(),Ak())}}function Nd(t,e){var r=t.stateNode;if(r===null)return null;var n=f0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(re(231,e,typeof r));return r}var fx=!1;if(Fs)try{var fu={};Object.defineProperty(fu,"passive",{get:function(){fx=!0}}),window.addEventListener("test",fu,fu),window.removeEventListener("test",fu,fu)}catch{fx=!1}function jV(t,e,r,n,i,s,a,o,A){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(c){this.onError(c)}}var id=!1,wm=null,xm=!1,hx=null,DV={onError:function(t){id=!0,wm=t}};function RV(t,e,r,n,i,s,a,o,A){id=!1,wm=null,jV.apply(DV,arguments)}function MV(t,e,r,n,i,s,a,o,A){if(RV.apply(this,arguments),id){if(id){var l=wm;id=!1,wm=null}else throw Error(re(198));xm||(xm=!0,hx=l)}}function FA(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function dk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function GI(t){if(FA(t)!==t)throw Error(re(188))}function LV(t){var e=t.alternate;if(!e){if(e=FA(t),e===null)throw Error(re(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return GI(i),t;if(s===n)return GI(i),e;s=s.sibling}throw Error(re(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?t:e}function fk(t){return t=LV(t),t!==null?hk(t):null}function hk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hk(t);if(e!==null)return e;t=t.sibling}return null}var gk=In.unstable_scheduleCallback,WI=In.unstable_cancelCallback,HV=In.unstable_shouldYield,VV=In.unstable_requestPaint,Rt=In.unstable_now,KV=In.unstable_getCurrentPriorityLevel,eC=In.unstable_ImmediatePriority,mk=In.unstable_UserBlockingPriority,bm=In.unstable_NormalPriority,$V=In.unstable_LowPriority,pk=In.unstable_IdlePriority,l0=null,Ri=null;function GV(t){if(Ri&&typeof Ri.onCommitFiberRoot=="function")try{Ri.onCommitFiberRoot(l0,t,void 0,(t.current.flags&128)===128)}catch{}}var bi=Math.clz32?Math.clz32:YV,WV=Math.log,zV=Math.LN2;function YV(t){return t>>>=0,t===0?32:31-(WV(t)/zV|0)|0}var Sh=64,Th=4194304;function Mu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bm(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Mu(o):(s&=a,s!==0&&(n=Mu(s)))}else a=r&~i,a!==0?n=Mu(a):s!==0&&(n=Mu(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-bi(e),i=1<<r,n|=t[r],e&=~i;return n}function XV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qV(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-bi(s),o=1<<a,A=i[a];A===-1?(!(o&r)||o&n)&&(i[a]=XV(o,e)):A<=e&&(t.expiredLanes|=o),s&=~o}}function gx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vk(){var t=Sh;return Sh<<=1,!(Sh&4194240)&&(Sh=64),t}function Ey(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Bf(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bi(e),t[e]=r}function JV(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-bi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function tC(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-bi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Je=0;function yk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wk,rC,xk,bk,Bk,mx=!1,Fh=[],Ia=null,Sa=null,Ta=null,Ud=new Map,Pd=new Map,ha=[],ZV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zI(t,e){switch(t){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":Ud.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pd.delete(e.pointerId)}}function hu(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ef(e),e!==null&&rC(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eK(t,e,r,n,i){switch(e){case"focusin":return Ia=hu(Ia,t,e,r,n,i),!0;case"dragenter":return Sa=hu(Sa,t,e,r,n,i),!0;case"mouseover":return Ta=hu(Ta,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Ud.set(s,hu(Ud.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Pd.set(s,hu(Pd.get(s)||null,t,e,r,n,i)),!0}return!1}function Ck(t){var e=Ko(t.target);if(e!==null){var r=FA(e);if(r!==null){if(e=r.tag,e===13){if(e=dk(r),e!==null){t.blockedOn=e,Bk(t.priority,function(){xk(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=px(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ux=n,r.target.dispatchEvent(n),ux=null}else return e=Ef(r),e!==null&&rC(e),t.blockedOn=r,!1;e.shift()}return!0}function YI(t,e,r){Vg(t)&&r.delete(e)}function tK(){mx=!1,Ia!==null&&Vg(Ia)&&(Ia=null),Sa!==null&&Vg(Sa)&&(Sa=null),Ta!==null&&Vg(Ta)&&(Ta=null),Ud.forEach(YI),Pd.forEach(YI)}function gu(t,e){t.blockedOn===e&&(t.blockedOn=null,mx||(mx=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,tK)))}function kd(t){function e(i){return gu(i,t)}if(0<Fh.length){gu(Fh[0],t);for(var r=1;r<Fh.length;r++){var n=Fh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ia!==null&&gu(Ia,t),Sa!==null&&gu(Sa,t),Ta!==null&&gu(Ta,t),Ud.forEach(e),Pd.forEach(e),r=0;r<ha.length;r++)n=ha[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ha.length&&(r=ha[0],r.blockedOn===null);)Ck(r),r.blockedOn===null&&ha.shift()}var jl=Vs.ReactCurrentBatchConfig,Cm=!0;function rK(t,e,r,n){var i=Je,s=jl.transition;jl.transition=null;try{Je=1,nC(t,e,r,n)}finally{Je=i,jl.transition=s}}function nK(t,e,r,n){var i=Je,s=jl.transition;jl.transition=null;try{Je=4,nC(t,e,r,n)}finally{Je=i,jl.transition=s}}function nC(t,e,r,n){if(Cm){var i=px(t,e,r,n);if(i===null)Qy(t,e,n,Em,r),zI(t,n);else if(eK(i,t,e,r,n))n.stopPropagation();else if(zI(t,n),e&4&&-1<ZV.indexOf(t)){for(;i!==null;){var s=Ef(i);if(s!==null&&wk(s),s=px(t,e,r,n),s===null&&Qy(t,e,n,Em,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Qy(t,e,n,null,r)}}var Em=null;function px(t,e,r,n){if(Em=null,t=ZB(n),t=Ko(t),t!==null)if(e=FA(t),e===null)t=null;else if(r=e.tag,r===13){if(t=dk(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Em=t,null}function Ek(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KV()){case eC:return 1;case mk:return 4;case bm:case $V:return 16;case pk:return 536870912;default:return 16}default:return 16}}var ya=null,iC=null,Kg=null;function _k(){if(Kg)return Kg;var t,e=iC,r=e.length,n,i="value"in ya?ya.value:ya.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Kg=i.slice(t,1<n?1-n:void 0)}function $g(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nh(){return!0}function XI(){return!1}function kn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Nh:XI,this.isPropagationStopped=XI,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nh)},persist:function(){},isPersistent:Nh}),e}var _c={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sC=kn(_c),Cf=St({},_c,{view:0,detail:0}),iK=kn(Cf),_y,Iy,mu,c0=St({},Cf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mu&&(mu&&t.type==="mousemove"?(_y=t.screenX-mu.screenX,Iy=t.screenY-mu.screenY):Iy=_y=0,mu=t),_y)},movementY:function(t){return"movementY"in t?t.movementY:Iy}}),qI=kn(c0),sK=St({},c0,{dataTransfer:0}),aK=kn(sK),oK=St({},Cf,{relatedTarget:0}),Sy=kn(oK),AK=St({},_c,{animationName:0,elapsedTime:0,pseudoElement:0}),lK=kn(AK),cK=St({},_c,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uK=kn(cK),dK=St({},_c,{data:0}),JI=kn(dK),fK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mK(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gK[t])?!!e[t]:!1}function aC(){return mK}var pK=St({},Cf,{key:function(t){if(t.key){var e=fK[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$g(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hK[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aC,charCode:function(t){return t.type==="keypress"?$g(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$g(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vK=kn(pK),yK=St({},c0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZI=kn(yK),wK=St({},Cf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aC}),xK=kn(wK),bK=St({},_c,{propertyName:0,elapsedTime:0,pseudoElement:0}),BK=kn(bK),CK=St({},c0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),EK=kn(CK),_K=[9,13,27,32],oC=Fs&&"CompositionEvent"in window,sd=null;Fs&&"documentMode"in document&&(sd=document.documentMode);var IK=Fs&&"TextEvent"in window&&!sd,Ik=Fs&&(!oC||sd&&8<sd&&11>=sd),eS=" ",tS=!1;function Sk(t,e){switch(t){case"keyup":return _K.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vl=!1;function SK(t,e){switch(t){case"compositionend":return Tk(e);case"keypress":return e.which!==32?null:(tS=!0,eS);case"textInput":return t=e.data,t===eS&&tS?null:t;default:return null}}function TK(t,e){if(vl)return t==="compositionend"||!oC&&Sk(t,e)?(t=_k(),Kg=iC=ya=null,vl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ik&&e.locale!=="ko"?null:e.data;default:return null}}var FK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!FK[t.type]:e==="textarea"}function Fk(t,e,r,n){ok(n),e=_m(e,"onChange"),0<e.length&&(r=new sC("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ad=null,Qd=null;function NK(t){Lk(t,0)}function u0(t){var e=xl(t);if(ek(e))return t}function UK(t,e){if(t==="change")return e}var Nk=!1;if(Fs){var Ty;if(Fs){var Fy="oninput"in document;if(!Fy){var nS=document.createElement("div");nS.setAttribute("oninput","return;"),Fy=typeof nS.oninput=="function"}Ty=Fy}else Ty=!1;Nk=Ty&&(!document.documentMode||9<document.documentMode)}function iS(){ad&&(ad.detachEvent("onpropertychange",Uk),Qd=ad=null)}function Uk(t){if(t.propertyName==="value"&&u0(Qd)){var e=[];Fk(e,Qd,t,ZB(t)),uk(NK,e)}}function PK(t,e,r){t==="focusin"?(iS(),ad=e,Qd=r,ad.attachEvent("onpropertychange",Uk)):t==="focusout"&&iS()}function kK(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return u0(Qd)}function QK(t,e){if(t==="click")return u0(e)}function OK(t,e){if(t==="input"||t==="change")return u0(e)}function jK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ci=typeof Object.is=="function"?Object.is:jK;function Od(t,e){if(Ci(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Zw.call(e,i)||!Ci(t[i],e[i]))return!1}return!0}function sS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function aS(t,e){var r=sS(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sS(r)}}function Pk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Pk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kk(){for(var t=window,e=ym();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ym(t.document)}return e}function AC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DK(t){var e=kk(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Pk(r.ownerDocument.documentElement,r)){if(n!==null&&AC(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=aS(r,s);var a=aS(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RK=Fs&&"documentMode"in document&&11>=document.documentMode,yl=null,vx=null,od=null,yx=!1;function oS(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yx||yl==null||yl!==ym(n)||(n=yl,"selectionStart"in n&&AC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),od&&Od(od,n)||(od=n,n=_m(vx,"onSelect"),0<n.length&&(e=new sC("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=yl)))}function Uh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var wl={animationend:Uh("Animation","AnimationEnd"),animationiteration:Uh("Animation","AnimationIteration"),animationstart:Uh("Animation","AnimationStart"),transitionend:Uh("Transition","TransitionEnd")},Ny={},Qk={};Fs&&(Qk=document.createElement("div").style,"AnimationEvent"in window||(delete wl.animationend.animation,delete wl.animationiteration.animation,delete wl.animationstart.animation),"TransitionEvent"in window||delete wl.transitionend.transition);function d0(t){if(Ny[t])return Ny[t];if(!wl[t])return t;var e=wl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Qk)return Ny[t]=e[r];return t}var Ok=d0("animationend"),jk=d0("animationiteration"),Dk=d0("animationstart"),Rk=d0("transitionend"),Mk=new Map,AS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(t,e){Mk.set(t,e),TA(e,[t])}for(var Uy=0;Uy<AS.length;Uy++){var Py=AS[Uy],MK=Py.toLowerCase(),LK=Py[0].toUpperCase()+Py.slice(1);oo(MK,"on"+LK)}oo(Ok,"onAnimationEnd");oo(jk,"onAnimationIteration");oo(Dk,"onAnimationStart");oo("dblclick","onDoubleClick");oo("focusin","onFocus");oo("focusout","onBlur");oo(Rk,"onTransitionEnd");Wl("onMouseEnter",["mouseout","mouseover"]);Wl("onMouseLeave",["mouseout","mouseover"]);Wl("onPointerEnter",["pointerout","pointerover"]);Wl("onPointerLeave",["pointerout","pointerover"]);TA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));TA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));TA("onBeforeInput",["compositionend","keypress","textInput","paste"]);TA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));TA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));TA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HK=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lu));function lS(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,MV(n,e,void 0,t),t.currentTarget=null}function Lk(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],A=o.instance,l=o.currentTarget;if(o=o.listener,A!==s&&i.isPropagationStopped())break e;lS(i,o,l),s=A}else for(a=0;a<n.length;a++){if(o=n[a],A=o.instance,l=o.currentTarget,o=o.listener,A!==s&&i.isPropagationStopped())break e;lS(i,o,l),s=A}}}if(xm)throw t=hx,xm=!1,hx=null,t}function ut(t,e){var r=e[Cx];r===void 0&&(r=e[Cx]=new Set);var n=t+"__bubble";r.has(n)||(Hk(e,t,2,!1),r.add(n))}function ky(t,e,r){var n=0;e&&(n|=4),Hk(r,t,n,e)}var Ph="_reactListening"+Math.random().toString(36).slice(2);function jd(t){if(!t[Ph]){t[Ph]=!0,YP.forEach(function(r){r!=="selectionchange"&&(HK.has(r)||ky(r,!1,t),ky(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ph]||(e[Ph]=!0,ky("selectionchange",!1,e))}}function Hk(t,e,r,n){switch(Ek(e)){case 1:var i=rK;break;case 4:i=nK;break;default:i=nC}r=i.bind(null,e,r,t),i=void 0,!fx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Qy(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var A=a.tag;if((A===3||A===4)&&(A=a.stateNode.containerInfo,A===i||A.nodeType===8&&A.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ko(o),a===null)return;if(A=a.tag,A===5||A===6){n=s=a;continue e}o=o.parentNode}}n=n.return}uk(function(){var l=s,c=ZB(r),d=[];e:{var f=Mk.get(t);if(f!==void 0){var g=sC,m=t;switch(t){case"keypress":if($g(r)===0)break e;case"keydown":case"keyup":g=vK;break;case"focusin":m="focus",g=Sy;break;case"focusout":m="blur",g=Sy;break;case"beforeblur":case"afterblur":g=Sy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=qI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=aK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=xK;break;case Ok:case jk:case Dk:g=lK;break;case Rk:g=BK;break;case"scroll":g=iK;break;case"wheel":g=EK;break;case"copy":case"cut":case"paste":g=uK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ZI}var p=(e&4)!==0,v=!p&&t==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var w=l,B;w!==null;){B=w;var I=B.stateNode;if(B.tag===5&&I!==null&&(B=I,y!==null&&(I=Nd(w,y),I!=null&&p.push(Dd(w,I,B)))),v)break;w=w.return}0<p.length&&(f=new g(f,m,null,r,c),d.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==ux&&(m=r.relatedTarget||r.fromElement)&&(Ko(m)||m[Ns]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=l,m=m?Ko(m):null,m!==null&&(v=FA(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=l),g!==m)){if(p=qI,I="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(p=ZI,I="onPointerLeave",y="onPointerEnter",w="pointer"),v=g==null?f:xl(g),B=m==null?f:xl(m),f=new p(I,w+"leave",g,r,c),f.target=v,f.relatedTarget=B,I=null,Ko(c)===l&&(p=new p(y,w+"enter",m,r,c),p.target=B,p.relatedTarget=v,I=p),v=I,g&&m)t:{for(p=g,y=m,w=0,B=p;B;B=YA(B))w++;for(B=0,I=y;I;I=YA(I))B++;for(;0<w-B;)p=YA(p),w--;for(;0<B-w;)y=YA(y),B--;for(;w--;){if(p===y||y!==null&&p===y.alternate)break t;p=YA(p),y=YA(y)}p=null}else p=null;g!==null&&cS(d,f,g,p,!1),m!==null&&v!==null&&cS(d,v,m,p,!0)}}e:{if(f=l?xl(l):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var T=UK;else if(rS(f))if(Nk)T=OK;else{T=kK;var F=PK}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=QK);if(T&&(T=T(t,l))){Fk(d,T,r,c);break e}F&&F(t,f,l),t==="focusout"&&(F=f._wrapperState)&&F.controlled&&f.type==="number"&&ax(f,"number",f.value)}switch(F=l?xl(l):window,t){case"focusin":(rS(F)||F.contentEditable==="true")&&(yl=F,vx=l,od=null);break;case"focusout":od=vx=yl=null;break;case"mousedown":yx=!0;break;case"contextmenu":case"mouseup":case"dragend":yx=!1,oS(d,r,c);break;case"selectionchange":if(RK)break;case"keydown":case"keyup":oS(d,r,c)}var C;if(oC)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else vl?Sk(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(Ik&&r.locale!=="ko"&&(vl||_!=="onCompositionStart"?_==="onCompositionEnd"&&vl&&(C=_k()):(ya=c,iC="value"in ya?ya.value:ya.textContent,vl=!0)),F=_m(l,_),0<F.length&&(_=new JI(_,t,null,r,c),d.push({event:_,listeners:F}),C?_.data=C:(C=Tk(r),C!==null&&(_.data=C)))),(C=IK?SK(t,r):TK(t,r))&&(l=_m(l,"onBeforeInput"),0<l.length&&(c=new JI("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:l}),c.data=C))}Lk(d,e)})}function Dd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function _m(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Nd(t,r),s!=null&&n.unshift(Dd(t,s,i)),s=Nd(t,e),s!=null&&n.push(Dd(t,s,i))),t=t.return}return n}function YA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cS(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,A=o.alternate,l=o.stateNode;if(A!==null&&A===n)break;o.tag===5&&l!==null&&(o=l,i?(A=Nd(r,s),A!=null&&a.unshift(Dd(r,A,o))):i||(A=Nd(r,s),A!=null&&a.push(Dd(r,A,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var VK=/\r\n?/g,KK=/\u0000|\uFFFD/g;function uS(t){return(typeof t=="string"?t:""+t).replace(VK,`
`).replace(KK,"")}function kh(t,e,r){if(e=uS(e),uS(t)!==e&&r)throw Error(re(425))}function Im(){}var wx=null,xx=null;function bx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bx=typeof setTimeout=="function"?setTimeout:void 0,$K=typeof clearTimeout=="function"?clearTimeout:void 0,dS=typeof Promise=="function"?Promise:void 0,GK=typeof queueMicrotask=="function"?queueMicrotask:typeof dS<"u"?function(t){return dS.resolve(null).then(t).catch(WK)}:Bx;function WK(t){setTimeout(function(){throw t})}function Oy(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),kd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);kd(e)}function Fa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ic=Math.random().toString(36).slice(2),Qi="__reactFiber$"+Ic,Rd="__reactProps$"+Ic,Ns="__reactContainer$"+Ic,Cx="__reactEvents$"+Ic,zK="__reactListeners$"+Ic,YK="__reactHandles$"+Ic;function Ko(t){var e=t[Qi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ns]||r[Qi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=fS(t);t!==null;){if(r=t[Qi])return r;t=fS(t)}return e}t=r,r=t.parentNode}return null}function Ef(t){return t=t[Qi]||t[Ns],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function f0(t){return t[Rd]||null}var Ex=[],bl=-1;function Ao(t){return{current:t}}function ft(t){0>bl||(t.current=Ex[bl],Ex[bl]=null,bl--)}function lt(t,e){bl++,Ex[bl]=t.current,t.current=e}var za={},Or=Ao(za),sn=Ao(!1),uA=za;function zl(t,e){var r=t.type.contextTypes;if(!r)return za;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function an(t){return t=t.childContextTypes,t!=null}function Sm(){ft(sn),ft(Or)}function hS(t,e,r){if(Or.current!==za)throw Error(re(168));lt(Or,e),lt(sn,r)}function Vk(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(re(108,PV(t)||"Unknown",i));return St({},r,n)}function Tm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||za,uA=Or.current,lt(Or,t),lt(sn,sn.current),!0}function gS(t,e,r){var n=t.stateNode;if(!n)throw Error(re(169));r?(t=Vk(t,e,uA),n.__reactInternalMemoizedMergedChildContext=t,ft(sn),ft(Or),lt(Or,t)):ft(sn),lt(sn,r)}var os=null,h0=!1,jy=!1;function Kk(t){os===null?os=[t]:os.push(t)}function XK(t){h0=!0,Kk(t)}function lo(){if(!jy&&os!==null){jy=!0;var t=0,e=Je;try{var r=os;for(Je=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}os=null,h0=!1}catch(i){throw os!==null&&(os=os.slice(t+1)),gk(eC,lo),i}finally{Je=e,jy=!1}}return null}var Bl=[],Cl=0,Fm=null,Nm=0,Vn=[],Kn=0,dA=null,hs=1,gs="";function Uo(t,e){Bl[Cl++]=Nm,Bl[Cl++]=Fm,Fm=t,Nm=e}function $k(t,e,r){Vn[Kn++]=hs,Vn[Kn++]=gs,Vn[Kn++]=dA,dA=t;var n=hs;t=gs;var i=32-bi(n)-1;n&=~(1<<i),r+=1;var s=32-bi(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,hs=1<<32-bi(e)+i|r<<i|n,gs=s+t}else hs=1<<s|r<<i|n,gs=t}function lC(t){t.return!==null&&(Uo(t,1),$k(t,1,0))}function cC(t){for(;t===Fm;)Fm=Bl[--Cl],Bl[Cl]=null,Nm=Bl[--Cl],Bl[Cl]=null;for(;t===dA;)dA=Vn[--Kn],Vn[Kn]=null,gs=Vn[--Kn],Vn[Kn]=null,hs=Vn[--Kn],Vn[Kn]=null}var En=null,bn=null,vt=!1,pi=null;function Gk(t,e){var r=Wn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function mS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,bn=Fa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=dA!==null?{id:hs,overflow:gs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Wn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,En=t,bn=null,!0):!1;default:return!1}}function _x(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ix(t){if(vt){var e=bn;if(e){var r=e;if(!mS(t,e)){if(_x(t))throw Error(re(418));e=Fa(r.nextSibling);var n=En;e&&mS(t,e)?Gk(n,r):(t.flags=t.flags&-4097|2,vt=!1,En=t)}}else{if(_x(t))throw Error(re(418));t.flags=t.flags&-4097|2,vt=!1,En=t}}}function pS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function Qh(t){if(t!==En)return!1;if(!vt)return pS(t),vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bx(t.type,t.memoizedProps)),e&&(e=bn)){if(_x(t))throw Wk(),Error(re(418));for(;e;)Gk(t,e),e=Fa(e.nextSibling)}if(pS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){bn=Fa(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}bn=null}}else bn=En?Fa(t.stateNode.nextSibling):null;return!0}function Wk(){for(var t=bn;t;)t=Fa(t.nextSibling)}function Yl(){bn=En=null,vt=!1}function uC(t){pi===null?pi=[t]:pi.push(t)}var qK=Vs.ReactCurrentBatchConfig;function pu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,t))}return t}function Oh(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vS(t){var e=t._init;return e(t._payload)}function zk(t){function e(y,w){if(t){var B=y.deletions;B===null?(y.deletions=[w],y.flags|=16):B.push(w)}}function r(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=ka(y,w),y.index=0,y.sibling=null,y}function s(y,w,B){return y.index=B,t?(B=y.alternate,B!==null?(B=B.index,B<w?(y.flags|=2,w):B):(y.flags|=2,w)):(y.flags|=1048576,w)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,w,B,I){return w===null||w.tag!==6?(w=Ky(B,y.mode,I),w.return=y,w):(w=i(w,B),w.return=y,w)}function A(y,w,B,I){var T=B.type;return T===pl?c(y,w,B.props.children,I,B.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ca&&vS(T)===w.type)?(I=i(w,B.props),I.ref=pu(y,w,B),I.return=y,I):(I=Jg(B.type,B.key,B.props,null,y.mode,I),I.ref=pu(y,w,B),I.return=y,I)}function l(y,w,B,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==B.containerInfo||w.stateNode.implementation!==B.implementation?(w=$y(B,y.mode,I),w.return=y,w):(w=i(w,B.children||[]),w.return=y,w)}function c(y,w,B,I,T){return w===null||w.tag!==7?(w=tA(B,y.mode,I,T),w.return=y,w):(w=i(w,B),w.return=y,w)}function d(y,w,B){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ky(""+w,y.mode,B),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Eh:return B=Jg(w.type,w.key,w.props,null,y.mode,B),B.ref=pu(y,null,w),B.return=y,B;case ml:return w=$y(w,y.mode,B),w.return=y,w;case ca:var I=w._init;return d(y,I(w._payload),B)}if(Ru(w)||du(w))return w=tA(w,y.mode,B,null),w.return=y,w;Oh(y,w)}return null}function f(y,w,B,I){var T=w!==null?w.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return T!==null?null:o(y,w,""+B,I);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Eh:return B.key===T?A(y,w,B,I):null;case ml:return B.key===T?l(y,w,B,I):null;case ca:return T=B._init,f(y,w,T(B._payload),I)}if(Ru(B)||du(B))return T!==null?null:c(y,w,B,I,null);Oh(y,B)}return null}function g(y,w,B,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return y=y.get(B)||null,o(w,y,""+I,T);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Eh:return y=y.get(I.key===null?B:I.key)||null,A(w,y,I,T);case ml:return y=y.get(I.key===null?B:I.key)||null,l(w,y,I,T);case ca:var F=I._init;return g(y,w,B,F(I._payload),T)}if(Ru(I)||du(I))return y=y.get(B)||null,c(w,y,I,T,null);Oh(w,I)}return null}function m(y,w,B,I){for(var T=null,F=null,C=w,_=w=0,S=null;C!==null&&_<B.length;_++){C.index>_?(S=C,C=null):S=C.sibling;var U=f(y,C,B[_],I);if(U===null){C===null&&(C=S);break}t&&C&&U.alternate===null&&e(y,C),w=s(U,w,_),F===null?T=U:F.sibling=U,F=U,C=S}if(_===B.length)return r(y,C),vt&&Uo(y,_),T;if(C===null){for(;_<B.length;_++)C=d(y,B[_],I),C!==null&&(w=s(C,w,_),F===null?T=C:F.sibling=C,F=C);return vt&&Uo(y,_),T}for(C=n(y,C);_<B.length;_++)S=g(C,y,_,B[_],I),S!==null&&(t&&S.alternate!==null&&C.delete(S.key===null?_:S.key),w=s(S,w,_),F===null?T=S:F.sibling=S,F=S);return t&&C.forEach(function(k){return e(y,k)}),vt&&Uo(y,_),T}function p(y,w,B,I){var T=du(B);if(typeof T!="function")throw Error(re(150));if(B=T.call(B),B==null)throw Error(re(151));for(var F=T=null,C=w,_=w=0,S=null,U=B.next();C!==null&&!U.done;_++,U=B.next()){C.index>_?(S=C,C=null):S=C.sibling;var k=f(y,C,U.value,I);if(k===null){C===null&&(C=S);break}t&&C&&k.alternate===null&&e(y,C),w=s(k,w,_),F===null?T=k:F.sibling=k,F=k,C=S}if(U.done)return r(y,C),vt&&Uo(y,_),T;if(C===null){for(;!U.done;_++,U=B.next())U=d(y,U.value,I),U!==null&&(w=s(U,w,_),F===null?T=U:F.sibling=U,F=U);return vt&&Uo(y,_),T}for(C=n(y,C);!U.done;_++,U=B.next())U=g(C,y,_,U.value,I),U!==null&&(t&&U.alternate!==null&&C.delete(U.key===null?_:U.key),w=s(U,w,_),F===null?T=U:F.sibling=U,F=U);return t&&C.forEach(function(Q){return e(y,Q)}),vt&&Uo(y,_),T}function v(y,w,B,I){if(typeof B=="object"&&B!==null&&B.type===pl&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case Eh:e:{for(var T=B.key,F=w;F!==null;){if(F.key===T){if(T=B.type,T===pl){if(F.tag===7){r(y,F.sibling),w=i(F,B.props.children),w.return=y,y=w;break e}}else if(F.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ca&&vS(T)===F.type){r(y,F.sibling),w=i(F,B.props),w.ref=pu(y,F,B),w.return=y,y=w;break e}r(y,F);break}else e(y,F);F=F.sibling}B.type===pl?(w=tA(B.props.children,y.mode,I,B.key),w.return=y,y=w):(I=Jg(B.type,B.key,B.props,null,y.mode,I),I.ref=pu(y,w,B),I.return=y,y=I)}return a(y);case ml:e:{for(F=B.key;w!==null;){if(w.key===F)if(w.tag===4&&w.stateNode.containerInfo===B.containerInfo&&w.stateNode.implementation===B.implementation){r(y,w.sibling),w=i(w,B.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else e(y,w);w=w.sibling}w=$y(B,y.mode,I),w.return=y,y=w}return a(y);case ca:return F=B._init,v(y,w,F(B._payload),I)}if(Ru(B))return m(y,w,B,I);if(du(B))return p(y,w,B,I);Oh(y,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,w!==null&&w.tag===6?(r(y,w.sibling),w=i(w,B),w.return=y,y=w):(r(y,w),w=Ky(B,y.mode,I),w.return=y,y=w),a(y)):r(y,w)}return v}var Xl=zk(!0),Yk=zk(!1),Um=Ao(null),Pm=null,El=null,dC=null;function fC(){dC=El=Pm=null}function hC(t){var e=Um.current;ft(Um),t._currentValue=e}function Sx(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Dl(t,e){Pm=t,dC=El=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function si(t){var e=t._currentValue;if(dC!==t)if(t={context:t,memoizedValue:e,next:null},El===null){if(Pm===null)throw Error(re(308));El=t,Pm.dependencies={lanes:0,firstContext:t}}else El=El.next=t;return e}var $o=null;function gC(t){$o===null?$o=[t]:$o.push(t)}function Xk(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,gC(e)):(r.next=i.next,i.next=r),e.interleaved=r,Us(t,n)}function Us(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ua=!1;function mC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Es(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Na(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ke&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Us(t,r)}return i=n.interleaved,i===null?(e.next=e,gC(n)):(e.next=i.next,i.next=e),n.interleaved=e,Us(t,r)}function Gg(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,tC(t,r)}}function yS(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function km(t,e,r,n){var i=t.updateQueue;ua=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var A=o,l=A.next;A.next=null,a===null?s=l:a.next=l,a=A;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=A))}if(s!==null){var d=i.baseState;a=0,c=l=A=null,o=s;do{var f=o.lane,g=o.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,p=o;switch(f=e,g=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(g,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,f=typeof m=="function"?m.call(g,d,f):m,f==null)break e;d=St({},d,f);break e;case 2:ua=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else g={eventTime:g,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(l=c=g,A=d):c=c.next=g,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(A=d),i.baseState=A,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);hA|=a,t.lanes=a,t.memoizedState=d}}function wS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(re(191,i));i.call(n)}}}var _f={},Mi=Ao(_f),Md=Ao(_f),Ld=Ao(_f);function Go(t){if(t===_f)throw Error(re(174));return t}function pC(t,e){switch(lt(Ld,e),lt(Md,t),lt(Mi,_f),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ax(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ax(e,t)}ft(Mi),lt(Mi,e)}function ql(){ft(Mi),ft(Md),ft(Ld)}function Jk(t){Go(Ld.current);var e=Go(Mi.current),r=Ax(e,t.type);e!==r&&(lt(Md,t),lt(Mi,r))}function vC(t){Md.current===t&&(ft(Mi),ft(Md))}var Et=Ao(0);function Qm(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dy=[];function yC(){for(var t=0;t<Dy.length;t++)Dy[t]._workInProgressVersionPrimary=null;Dy.length=0}var Wg=Vs.ReactCurrentDispatcher,Ry=Vs.ReactCurrentBatchConfig,fA=0,_t=null,Yt=null,cr=null,Om=!1,Ad=!1,Hd=0,JK=0;function _r(){throw Error(re(321))}function wC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ci(t[r],e[r]))return!1;return!0}function xC(t,e,r,n,i,s){if(fA=s,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wg.current=t===null||t.memoizedState===null?r6:n6,t=r(n,i),Ad){s=0;do{if(Ad=!1,Hd=0,25<=s)throw Error(re(301));s+=1,cr=Yt=null,e.updateQueue=null,Wg.current=i6,t=r(n,i)}while(Ad)}if(Wg.current=jm,e=Yt!==null&&Yt.next!==null,fA=0,cr=Yt=_t=null,Om=!1,e)throw Error(re(300));return t}function bC(){var t=Hd!==0;return Hd=0,t}function Ui(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?_t.memoizedState=cr=t:cr=cr.next=t,cr}function ai(){if(Yt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var e=cr===null?_t.memoizedState:cr.next;if(e!==null)cr=e,Yt=t;else{if(t===null)throw Error(re(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},cr===null?_t.memoizedState=cr=t:cr=cr.next=t}return cr}function Vd(t,e){return typeof e=="function"?e(t):e}function My(t){var e=ai(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=Yt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,A=null,l=s;do{var c=l.lane;if((fA&c)===c)A!==null&&(A=A.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};A===null?(o=A=d,a=n):A=A.next=d,_t.lanes|=c,hA|=c}l=l.next}while(l!==null&&l!==s);A===null?a=n:A.next=o,Ci(n,e.memoizedState)||(rn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=A,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,_t.lanes|=s,hA|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ly(t){var e=ai(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ci(s,e.memoizedState)||(rn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function Zk(){}function eQ(t,e){var r=_t,n=ai(),i=e(),s=!Ci(n.memoizedState,i);if(s&&(n.memoizedState=i,rn=!0),n=n.queue,BC(nQ.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||cr!==null&&cr.memoizedState.tag&1){if(r.flags|=2048,Kd(9,rQ.bind(null,r,n,i,e),void 0,null),dr===null)throw Error(re(349));fA&30||tQ(r,e,i)}return i}function tQ(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function rQ(t,e,r,n){e.value=r,e.getSnapshot=n,iQ(e)&&sQ(t)}function nQ(t,e,r){return r(function(){iQ(e)&&sQ(t)})}function iQ(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ci(t,r)}catch{return!0}}function sQ(t){var e=Us(t,1);e!==null&&Bi(e,t,1,-1)}function xS(t){var e=Ui();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:t},e.queue=t,t=t.dispatch=t6.bind(null,_t,t),[e.memoizedState,t]}function Kd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function aQ(){return ai().memoizedState}function zg(t,e,r,n){var i=Ui();_t.flags|=t,i.memoizedState=Kd(1|e,r,void 0,n===void 0?null:n)}function g0(t,e,r,n){var i=ai();n=n===void 0?null:n;var s=void 0;if(Yt!==null){var a=Yt.memoizedState;if(s=a.destroy,n!==null&&wC(n,a.deps)){i.memoizedState=Kd(e,r,s,n);return}}_t.flags|=t,i.memoizedState=Kd(1|e,r,s,n)}function bS(t,e){return zg(8390656,8,t,e)}function BC(t,e){return g0(2048,8,t,e)}function oQ(t,e){return g0(4,2,t,e)}function AQ(t,e){return g0(4,4,t,e)}function lQ(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cQ(t,e,r){return r=r!=null?r.concat([t]):null,g0(4,4,lQ.bind(null,e,t),r)}function CC(){}function uQ(t,e){var r=ai();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function dQ(t,e){var r=ai();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function fQ(t,e,r){return fA&21?(Ci(r,e)||(r=vk(),_t.lanes|=r,hA|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=r)}function ZK(t,e){var r=Je;Je=r!==0&&4>r?r:4,t(!0);var n=Ry.transition;Ry.transition={};try{t(!1),e()}finally{Je=r,Ry.transition=n}}function hQ(){return ai().memoizedState}function e6(t,e,r){var n=Pa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},gQ(t))mQ(e,r);else if(r=Xk(t,e,r,n),r!==null){var i=Vr();Bi(r,t,n,i),pQ(r,e,n)}}function t6(t,e,r){var n=Pa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(gQ(t))mQ(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Ci(o,a)){var A=e.interleaved;A===null?(i.next=i,gC(e)):(i.next=A.next,A.next=i),e.interleaved=i;return}}catch{}finally{}r=Xk(t,e,i,n),r!==null&&(i=Vr(),Bi(r,t,n,i),pQ(r,e,n))}}function gQ(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function mQ(t,e){Ad=Om=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function pQ(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,tC(t,r)}}var jm={readContext:si,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useInsertionEffect:_r,useLayoutEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useMutableSource:_r,useSyncExternalStore:_r,useId:_r,unstable_isNewReconciler:!1},r6={readContext:si,useCallback:function(t,e){return Ui().memoizedState=[t,e===void 0?null:e],t},useContext:si,useEffect:bS,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,zg(4194308,4,lQ.bind(null,e,t),r)},useLayoutEffect:function(t,e){return zg(4194308,4,t,e)},useInsertionEffect:function(t,e){return zg(4,2,t,e)},useMemo:function(t,e){var r=Ui();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ui();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=e6.bind(null,_t,t),[n.memoizedState,t]},useRef:function(t){var e=Ui();return t={current:t},e.memoizedState=t},useState:xS,useDebugValue:CC,useDeferredValue:function(t){return Ui().memoizedState=t},useTransition:function(){var t=xS(!1),e=t[0];return t=ZK.bind(null,t[1]),Ui().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=_t,i=Ui();if(vt){if(r===void 0)throw Error(re(407));r=r()}else{if(r=e(),dr===null)throw Error(re(349));fA&30||tQ(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,bS(nQ.bind(null,n,s,t),[t]),n.flags|=2048,Kd(9,rQ.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Ui(),e=dr.identifierPrefix;if(vt){var r=gs,n=hs;r=(n&~(1<<32-bi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Hd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=JK++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},n6={readContext:si,useCallback:uQ,useContext:si,useEffect:BC,useImperativeHandle:cQ,useInsertionEffect:oQ,useLayoutEffect:AQ,useMemo:dQ,useReducer:My,useRef:aQ,useState:function(){return My(Vd)},useDebugValue:CC,useDeferredValue:function(t){var e=ai();return fQ(e,Yt.memoizedState,t)},useTransition:function(){var t=My(Vd)[0],e=ai().memoizedState;return[t,e]},useMutableSource:Zk,useSyncExternalStore:eQ,useId:hQ,unstable_isNewReconciler:!1},i6={readContext:si,useCallback:uQ,useContext:si,useEffect:BC,useImperativeHandle:cQ,useInsertionEffect:oQ,useLayoutEffect:AQ,useMemo:dQ,useReducer:Ly,useRef:aQ,useState:function(){return Ly(Vd)},useDebugValue:CC,useDeferredValue:function(t){var e=ai();return Yt===null?e.memoizedState=t:fQ(e,Yt.memoizedState,t)},useTransition:function(){var t=Ly(Vd)[0],e=ai().memoizedState;return[t,e]},useMutableSource:Zk,useSyncExternalStore:eQ,useId:hQ,unstable_isNewReconciler:!1};function gi(t,e){if(t&&t.defaultProps){e=St({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Tx(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:St({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var m0={isMounted:function(t){return(t=t._reactInternals)?FA(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Vr(),i=Pa(t),s=Es(n,i);s.payload=e,r!=null&&(s.callback=r),e=Na(t,s,i),e!==null&&(Bi(e,t,i,n),Gg(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Vr(),i=Pa(t),s=Es(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Na(t,s,i),e!==null&&(Bi(e,t,i,n),Gg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Vr(),n=Pa(t),i=Es(r,n);i.tag=2,e!=null&&(i.callback=e),e=Na(t,i,n),e!==null&&(Bi(e,t,n,r),Gg(e,t,n))}};function BS(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Od(r,n)||!Od(i,s):!0}function vQ(t,e,r){var n=!1,i=za,s=e.contextType;return typeof s=="object"&&s!==null?s=si(s):(i=an(e)?uA:Or.current,n=e.contextTypes,s=(n=n!=null)?zl(t,i):za),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=m0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function CS(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&m0.enqueueReplaceState(e,e.state,null)}function Fx(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},mC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=si(s):(s=an(e)?uA:Or.current,i.context=zl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Tx(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&m0.enqueueReplaceState(i,i.state,null),km(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Jl(t,e){try{var r="",n=e;do r+=UV(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Hy(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Nx(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var s6=typeof WeakMap=="function"?WeakMap:Map;function yQ(t,e,r){r=Es(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Rm||(Rm=!0,Lx=n),Nx(t,e)},r}function wQ(t,e,r){r=Es(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Nx(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Nx(t,e),typeof n!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function ES(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new s6;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=y6.bind(null,t,e,r),e.then(t,t))}function _S(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function IS(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Es(-1,1),e.tag=2,Na(r,e,1))),r.lanes|=1),t)}var a6=Vs.ReactCurrentOwner,rn=!1;function Mr(t,e,r,n){e.child=t===null?Yk(e,null,r,n):Xl(e,t.child,r,n)}function SS(t,e,r,n,i){r=r.render;var s=e.ref;return Dl(e,i),n=xC(t,e,r,n,s,i),r=bC(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ps(t,e,i)):(vt&&r&&lC(e),e.flags|=1,Mr(t,e,n,i),e.child)}function TS(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!UC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,xQ(t,e,s,n,i)):(t=Jg(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Od,r(a,n)&&t.ref===e.ref)return Ps(t,e,i)}return e.flags|=1,t=ka(s,n),t.ref=e.ref,t.return=e,e.child=t}function xQ(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Od(s,n)&&t.ref===e.ref)if(rn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,Ps(t,e,i)}return Ux(t,e,r,n,i)}function bQ(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Il,mn),mn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(Il,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,lt(Il,mn),mn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,lt(Il,mn),mn|=n;return Mr(t,e,i,r),e.child}function BQ(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ux(t,e,r,n,i){var s=an(r)?uA:Or.current;return s=zl(e,s),Dl(e,i),r=xC(t,e,r,n,s,i),n=bC(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ps(t,e,i)):(vt&&n&&lC(e),e.flags|=1,Mr(t,e,r,i),e.child)}function FS(t,e,r,n,i){if(an(r)){var s=!0;Tm(e)}else s=!1;if(Dl(e,i),e.stateNode===null)Yg(t,e),vQ(e,r,n),Fx(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var A=a.context,l=r.contextType;typeof l=="object"&&l!==null?l=si(l):(l=an(r)?uA:Or.current,l=zl(e,l));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||A!==l)&&CS(e,a,n,l),ua=!1;var f=e.memoizedState;a.state=f,km(e,n,a,i),A=e.memoizedState,o!==n||f!==A||sn.current||ua?(typeof c=="function"&&(Tx(e,r,c,n),A=e.memoizedState),(o=ua||BS(e,r,o,n,f,A,l))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=A),a.props=n,a.state=A,a.context=l,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,qk(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:gi(e.type,o),a.props=l,d=e.pendingProps,f=a.context,A=r.contextType,typeof A=="object"&&A!==null?A=si(A):(A=an(r)?uA:Or.current,A=zl(e,A));var g=r.getDerivedStateFromProps;(c=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==A)&&CS(e,a,n,A),ua=!1,f=e.memoizedState,a.state=f,km(e,n,a,i);var m=e.memoizedState;o!==d||f!==m||sn.current||ua?(typeof g=="function"&&(Tx(e,r,g,n),m=e.memoizedState),(l=ua||BS(e,r,l,n,f,m,A)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,A),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,A)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=A,n=l):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Px(t,e,r,n,s,i)}function Px(t,e,r,n,i,s){BQ(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&gS(e,r,!1),Ps(t,e,s);n=e.stateNode,a6.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Xl(e,t.child,null,s),e.child=Xl(e,null,o,s)):Mr(t,e,o,s),e.memoizedState=n.state,i&&gS(e,r,!0),e.child}function CQ(t){var e=t.stateNode;e.pendingContext?hS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hS(t,e.context,!1),pC(t,e.containerInfo)}function NS(t,e,r,n,i){return Yl(),uC(i),e.flags|=256,Mr(t,e,r,n),e.child}var kx={dehydrated:null,treeContext:null,retryLane:0};function Qx(t){return{baseLanes:t,cachePool:null,transitions:null}}function EQ(t,e,r){var n=e.pendingProps,i=Et.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),lt(Et,i&1),t===null)return Ix(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=y0(a,n,0,null),t=tA(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Qx(r),e.memoizedState=kx,t):EC(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return o6(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var A={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=A,e.deletions=null):(n=ka(i,A),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=ka(o,s):(s=tA(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Qx(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=kx,n}return s=t.child,t=s.sibling,n=ka(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function EC(t,e){return e=y0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jh(t,e,r,n){return n!==null&&uC(n),Xl(e,t.child,null,r),t=EC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function o6(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Hy(Error(re(422))),jh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=y0({mode:"visible",children:n.children},i,0,null),s=tA(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Xl(e,t.child,null,a),e.child.memoizedState=Qx(a),e.memoizedState=kx,s);if(!(e.mode&1))return jh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(re(419)),n=Hy(s,n,void 0),jh(t,e,a,n)}if(o=(a&t.childLanes)!==0,rn||o){if(n=dr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Us(t,i),Bi(n,t,i,-1))}return NC(),n=Hy(Error(re(421))),jh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=w6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,bn=Fa(i.nextSibling),En=e,vt=!0,pi=null,t!==null&&(Vn[Kn++]=hs,Vn[Kn++]=gs,Vn[Kn++]=dA,hs=t.id,gs=t.overflow,dA=e),e=EC(e,n.children),e.flags|=4096,e)}function US(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Sx(t.return,e,r)}function Vy(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function _Q(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Mr(t,e,n.children,r),n=Et.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&US(t,r,e);else if(t.tag===19)US(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(lt(Et,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Qm(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Vy(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Qm(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Vy(e,!0,r,null,s);break;case"together":Vy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ps(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),hA|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,r=ka(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ka(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function A6(t,e,r){switch(e.tag){case 3:CQ(e),Yl();break;case 5:Jk(e);break;case 1:an(e.type)&&Tm(e);break;case 4:pC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;lt(Um,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(lt(Et,Et.current&1),e.flags|=128,null):r&e.child.childLanes?EQ(t,e,r):(lt(Et,Et.current&1),t=Ps(t,e,r),t!==null?t.sibling:null);lt(Et,Et.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return _Q(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(Et,Et.current),n)break;return null;case 22:case 23:return e.lanes=0,bQ(t,e,r)}return Ps(t,e,r)}var IQ,Ox,SQ,TQ;IQ=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ox=function(){};SQ=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Go(Mi.current);var s=null;switch(r){case"input":i=ix(t,i),n=ix(t,n),s=[];break;case"select":i=St({},i,{value:void 0}),n=St({},n,{value:void 0}),s=[];break;case"textarea":i=ox(t,i),n=ox(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Im)}lx(r,n);var a;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var o=i[l];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Td.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var A=n[l];if(o=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&A!==o&&(A!=null||o!=null))if(l==="style")if(o){for(a in o)!o.hasOwnProperty(a)||A&&A.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in A)A.hasOwnProperty(a)&&o[a]!==A[a]&&(r||(r={}),r[a]=A[a])}else r||(s||(s=[]),s.push(l,r)),r=A;else l==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,o=o?o.__html:void 0,A!=null&&o!==A&&(s=s||[]).push(l,A)):l==="children"?typeof A!="string"&&typeof A!="number"||(s=s||[]).push(l,""+A):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Td.hasOwnProperty(l)?(A!=null&&l==="onScroll"&&ut("scroll",t),s||o===A||(s=[])):(s=s||[]).push(l,A))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};TQ=function(t,e,r,n){r!==n&&(e.flags|=4)};function vu(t,e){if(!vt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ir(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function l6(t,e,r){var n=e.pendingProps;switch(cC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(e),null;case 1:return an(e.type)&&Sm(),Ir(e),null;case 3:return n=e.stateNode,ql(),ft(sn),ft(Or),yC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Qh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pi!==null&&(Kx(pi),pi=null))),Ox(t,e),Ir(e),null;case 5:vC(e);var i=Go(Ld.current);if(r=e.type,t!==null&&e.stateNode!=null)SQ(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(re(166));return Ir(e),null}if(t=Go(Mi.current),Qh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Qi]=e,n[Rd]=s,t=(e.mode&1)!==0,r){case"dialog":ut("cancel",n),ut("close",n);break;case"iframe":case"object":case"embed":ut("load",n);break;case"video":case"audio":for(i=0;i<Lu.length;i++)ut(Lu[i],n);break;case"source":ut("error",n);break;case"img":case"image":case"link":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"input":LI(n,s),ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ut("invalid",n);break;case"textarea":VI(n,s),ut("invalid",n)}lx(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&kh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&kh(n.textContent,o,t),i=["children",""+o]):Td.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ut("scroll",n)}switch(r){case"input":_h(n),HI(n,s,!0);break;case"textarea":_h(n),KI(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Im)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nk(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Qi]=e,t[Rd]=n,IQ(t,e,!1,!1),e.stateNode=t;e:{switch(a=cx(r,n),r){case"dialog":ut("cancel",t),ut("close",t),i=n;break;case"iframe":case"object":case"embed":ut("load",t),i=n;break;case"video":case"audio":for(i=0;i<Lu.length;i++)ut(Lu[i],t);i=n;break;case"source":ut("error",t),i=n;break;case"img":case"image":case"link":ut("error",t),ut("load",t),i=n;break;case"details":ut("toggle",t),i=n;break;case"input":LI(t,n),i=ix(t,n),ut("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=St({},n,{value:void 0}),ut("invalid",t);break;case"textarea":VI(t,n),i=ox(t,n),ut("invalid",t);break;default:i=n}lx(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var A=o[s];s==="style"?ak(t,A):s==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&ik(t,A)):s==="children"?typeof A=="string"?(r!=="textarea"||A!=="")&&Fd(t,A):typeof A=="number"&&Fd(t,""+A):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Td.hasOwnProperty(s)?A!=null&&s==="onScroll"&&ut("scroll",t):A!=null&&YB(t,s,A,a))}switch(r){case"input":_h(t),HI(t,n,!1);break;case"textarea":_h(t),KI(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Wa(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?kl(t,!!n.multiple,s,!1):n.defaultValue!=null&&kl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Im)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ir(e),null;case 6:if(t&&e.stateNode!=null)TQ(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(re(166));if(r=Go(Ld.current),Go(Mi.current),Qh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Qi]=e,(s=n.nodeValue!==r)&&(t=En,t!==null))switch(t.tag){case 3:kh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Qi]=e,e.stateNode=n}return Ir(e),null;case 13:if(ft(Et),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&bn!==null&&e.mode&1&&!(e.flags&128))Wk(),Yl(),e.flags|=98560,s=!1;else if(s=Qh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[Qi]=e}else Yl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ir(e),s=!1}else pi!==null&&(Kx(pi),pi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?qt===0&&(qt=3):NC())),e.updateQueue!==null&&(e.flags|=4),Ir(e),null);case 4:return ql(),Ox(t,e),t===null&&jd(e.stateNode.containerInfo),Ir(e),null;case 10:return hC(e.type._context),Ir(e),null;case 17:return an(e.type)&&Sm(),Ir(e),null;case 19:if(ft(Et),s=e.memoizedState,s===null)return Ir(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)vu(s,!1);else{if(qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Qm(t),a!==null){for(e.flags|=128,vu(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return lt(Et,Et.current&1|2),e.child}t=t.sibling}s.tail!==null&&Rt()>Zl&&(e.flags|=128,n=!0,vu(s,!1),e.lanes=4194304)}else{if(!n)if(t=Qm(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),vu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!vt)return Ir(e),null}else 2*Rt()-s.renderingStartTime>Zl&&r!==1073741824&&(e.flags|=128,n=!0,vu(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Rt(),e.sibling=null,r=Et.current,lt(Et,n?r&1|2:r&1),e):(Ir(e),null);case 22:case 23:return FC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?mn&1073741824&&(Ir(e),e.subtreeFlags&6&&(e.flags|=8192)):Ir(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function c6(t,e){switch(cC(e),e.tag){case 1:return an(e.type)&&Sm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ql(),ft(sn),ft(Or),yC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vC(e),null;case 13:if(ft(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Yl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(Et),null;case 4:return ql(),null;case 10:return hC(e.type._context),null;case 22:case 23:return FC(),null;case 24:return null;default:return null}}var Dh=!1,Pr=!1,u6=typeof WeakSet=="function"?WeakSet:Set,he=null;function _l(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ut(t,e,n)}else r.current=null}function jx(t,e,r){try{r()}catch(n){Ut(t,e,n)}}var PS=!1;function d6(t,e){if(wx=Cm,t=kk(),AC(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,A=-1,l=0,c=0,d=t,f=null;t:for(;;){for(var g;d!==r||i!==0&&d.nodeType!==3||(o=a+i),d!==s||n!==0&&d.nodeType!==3||(A=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===r&&++l===i&&(o=a),f===s&&++c===n&&(A=a),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}r=o===-1||A===-1?null:{start:o,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(xx={focusedElem:t,selectionRange:r},Cm=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,v=m.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:gi(e.type,p),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var B=e.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(I){Ut(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return m=PS,PS=!1,m}function ld(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&jx(e,r,s)}i=i.next}while(i!==n)}}function p0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Dx(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function FQ(t){var e=t.alternate;e!==null&&(t.alternate=null,FQ(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qi],delete e[Rd],delete e[Cx],delete e[zK],delete e[YK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function NQ(t){return t.tag===5||t.tag===3||t.tag===4}function kS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NQ(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Im));else if(n!==4&&(t=t.child,t!==null))for(Rx(t,e,r),t=t.sibling;t!==null;)Rx(t,e,r),t=t.sibling}function Mx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Mx(t,e,r),t=t.sibling;t!==null;)Mx(t,e,r),t=t.sibling}var mr=null,mi=!1;function ra(t,e,r){for(r=r.child;r!==null;)UQ(t,e,r),r=r.sibling}function UQ(t,e,r){if(Ri&&typeof Ri.onCommitFiberUnmount=="function")try{Ri.onCommitFiberUnmount(l0,r)}catch{}switch(r.tag){case 5:Pr||_l(r,e);case 6:var n=mr,i=mi;mr=null,ra(t,e,r),mr=n,mi=i,mr!==null&&(mi?(t=mr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):mr.removeChild(r.stateNode));break;case 18:mr!==null&&(mi?(t=mr,r=r.stateNode,t.nodeType===8?Oy(t.parentNode,r):t.nodeType===1&&Oy(t,r),kd(t)):Oy(mr,r.stateNode));break;case 4:n=mr,i=mi,mr=r.stateNode.containerInfo,mi=!0,ra(t,e,r),mr=n,mi=i;break;case 0:case 11:case 14:case 15:if(!Pr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&jx(r,e,a),i=i.next}while(i!==n)}ra(t,e,r);break;case 1:if(!Pr&&(_l(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ut(r,e,o)}ra(t,e,r);break;case 21:ra(t,e,r);break;case 22:r.mode&1?(Pr=(n=Pr)||r.memoizedState!==null,ra(t,e,r),Pr=n):ra(t,e,r);break;default:ra(t,e,r)}}function QS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new u6),e.forEach(function(n){var i=x6.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function di(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:mr=o.stateNode,mi=!1;break e;case 3:mr=o.stateNode.containerInfo,mi=!0;break e;case 4:mr=o.stateNode.containerInfo,mi=!0;break e}o=o.return}if(mr===null)throw Error(re(160));UQ(s,a,i),mr=null,mi=!1;var A=i.alternate;A!==null&&(A.return=null),i.return=null}catch(l){Ut(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PQ(e,t),e=e.sibling}function PQ(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(di(e,t),Ti(t),n&4){try{ld(3,t,t.return),p0(3,t)}catch(p){Ut(t,t.return,p)}try{ld(5,t,t.return)}catch(p){Ut(t,t.return,p)}}break;case 1:di(e,t),Ti(t),n&512&&r!==null&&_l(r,r.return);break;case 5:if(di(e,t),Ti(t),n&512&&r!==null&&_l(r,r.return),t.flags&32){var i=t.stateNode;try{Fd(i,"")}catch(p){Ut(t,t.return,p)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&tk(i,s),cx(o,a);var l=cx(o,s);for(a=0;a<A.length;a+=2){var c=A[a],d=A[a+1];c==="style"?ak(i,d):c==="dangerouslySetInnerHTML"?ik(i,d):c==="children"?Fd(i,d):YB(i,c,d,l)}switch(o){case"input":sx(i,s);break;case"textarea":rk(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?kl(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?kl(i,!!s.multiple,s.defaultValue,!0):kl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rd]=s}catch(p){Ut(t,t.return,p)}}break;case 6:if(di(e,t),Ti(t),n&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){Ut(t,t.return,p)}}break;case 3:if(di(e,t),Ti(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{kd(e.containerInfo)}catch(p){Ut(t,t.return,p)}break;case 4:di(e,t),Ti(t);break;case 13:di(e,t),Ti(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(SC=Rt())),n&4&&QS(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Pr=(l=Pr)||c,di(e,t),Pr=l):di(e,t),Ti(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(he=t,c=t.child;c!==null;){for(d=he=c;he!==null;){switch(f=he,g=f.child,f.tag){case 0:case 11:case 14:case 15:ld(4,f,f.return);break;case 1:_l(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){Ut(n,r,p)}}break;case 5:_l(f,f.return);break;case 22:if(f.memoizedState!==null){jS(d);continue}}g!==null?(g.return=f,he=g):jS(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,A=d.memoizedProps.style,a=A!=null&&A.hasOwnProperty("display")?A.display:null,o.style.display=sk("display",a))}catch(p){Ut(t,t.return,p)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(p){Ut(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:di(e,t),Ti(t),n&4&&QS(t);break;case 21:break;default:di(e,t),Ti(t)}}function Ti(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(NQ(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Fd(i,""),n.flags&=-33);var s=kS(t);Mx(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=kS(t);Rx(t,o,a);break;default:throw Error(re(161))}}catch(A){Ut(t,t.return,A)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function f6(t,e,r){he=t,kQ(t)}function kQ(t,e,r){for(var n=(t.mode&1)!==0;he!==null;){var i=he,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Dh;if(!a){var o=i.alternate,A=o!==null&&o.memoizedState!==null||Pr;o=Dh;var l=Pr;if(Dh=a,(Pr=A)&&!l)for(he=i;he!==null;)a=he,A=a.child,a.tag===22&&a.memoizedState!==null?DS(i):A!==null?(A.return=a,he=A):DS(i);for(;s!==null;)he=s,kQ(s),s=s.sibling;he=i,Dh=o,Pr=l}OS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,he=s):OS(t)}}function OS(t){for(;he!==null;){var e=he;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pr||p0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Pr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:gi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&wS(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}wS(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var A=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&r.focus();break;case"img":A.src&&(r.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&kd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Pr||e.flags&512&&Dx(e)}catch(f){Ut(e,e.return,f)}}if(e===t){he=null;break}if(r=e.sibling,r!==null){r.return=e.return,he=r;break}he=e.return}}function jS(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var r=e.sibling;if(r!==null){r.return=e.return,he=r;break}he=e.return}}function DS(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{p0(4,e)}catch(A){Ut(e,r,A)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(A){Ut(e,i,A)}}var s=e.return;try{Dx(e)}catch(A){Ut(e,s,A)}break;case 5:var a=e.return;try{Dx(e)}catch(A){Ut(e,a,A)}}}catch(A){Ut(e,e.return,A)}if(e===t){he=null;break}var o=e.sibling;if(o!==null){o.return=e.return,he=o;break}he=e.return}}var h6=Math.ceil,Dm=Vs.ReactCurrentDispatcher,_C=Vs.ReactCurrentOwner,ri=Vs.ReactCurrentBatchConfig,Ke=0,dr=null,$t=null,br=0,mn=0,Il=Ao(0),qt=0,$d=null,hA=0,v0=0,IC=0,cd=null,en=null,SC=0,Zl=1/0,is=null,Rm=!1,Lx=null,Ua=null,Rh=!1,wa=null,Mm=0,ud=0,Hx=null,Xg=-1,qg=0;function Vr(){return Ke&6?Rt():Xg!==-1?Xg:Xg=Rt()}function Pa(t){return t.mode&1?Ke&2&&br!==0?br&-br:qK.transition!==null?(qg===0&&(qg=vk()),qg):(t=Je,t!==0||(t=window.event,t=t===void 0?16:Ek(t.type)),t):1}function Bi(t,e,r,n){if(50<ud)throw ud=0,Hx=null,Error(re(185));Bf(t,r,n),(!(Ke&2)||t!==dr)&&(t===dr&&(!(Ke&2)&&(v0|=r),qt===4&&ga(t,br)),on(t,n),r===1&&Ke===0&&!(e.mode&1)&&(Zl=Rt()+500,h0&&lo()))}function on(t,e){var r=t.callbackNode;qV(t,e);var n=Bm(t,t===dr?br:0);if(n===0)r!==null&&WI(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&WI(r),e===1)t.tag===0?XK(RS.bind(null,t)):Kk(RS.bind(null,t)),GK(function(){!(Ke&6)&&lo()}),r=null;else{switch(yk(n)){case 1:r=eC;break;case 4:r=mk;break;case 16:r=bm;break;case 536870912:r=pk;break;default:r=bm}r=HQ(r,QQ.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function QQ(t,e){if(Xg=-1,qg=0,Ke&6)throw Error(re(327));var r=t.callbackNode;if(Rl()&&t.callbackNode!==r)return null;var n=Bm(t,t===dr?br:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Lm(t,n);else{e=n;var i=Ke;Ke|=2;var s=jQ();(dr!==t||br!==e)&&(is=null,Zl=Rt()+500,eA(t,e));do try{p6();break}catch(o){OQ(t,o)}while(!0);fC(),Dm.current=s,Ke=i,$t!==null?e=0:(dr=null,br=0,e=qt)}if(e!==0){if(e===2&&(i=gx(t),i!==0&&(n=i,e=Vx(t,i))),e===1)throw r=$d,eA(t,0),ga(t,n),on(t,Rt()),r;if(e===6)ga(t,n);else{if(i=t.current.alternate,!(n&30)&&!g6(i)&&(e=Lm(t,n),e===2&&(s=gx(t),s!==0&&(n=s,e=Vx(t,s))),e===1))throw r=$d,eA(t,0),ga(t,n),on(t,Rt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(re(345));case 2:Po(t,en,is);break;case 3:if(ga(t,n),(n&130023424)===n&&(e=SC+500-Rt(),10<e)){if(Bm(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Vr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Bx(Po.bind(null,t,en,is),e);break}Po(t,en,is);break;case 4:if(ga(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-bi(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Rt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*h6(n/1960))-n,10<n){t.timeoutHandle=Bx(Po.bind(null,t,en,is),n);break}Po(t,en,is);break;case 5:Po(t,en,is);break;default:throw Error(re(329))}}}return on(t,Rt()),t.callbackNode===r?QQ.bind(null,t):null}function Vx(t,e){var r=cd;return t.current.memoizedState.isDehydrated&&(eA(t,e).flags|=256),t=Lm(t,e),t!==2&&(e=en,en=r,e!==null&&Kx(e)),t}function Kx(t){en===null?en=t:en.push.apply(en,t)}function g6(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ci(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ga(t,e){for(e&=~IC,e&=~v0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-bi(e),n=1<<r;t[r]=-1,e&=~n}}function RS(t){if(Ke&6)throw Error(re(327));Rl();var e=Bm(t,0);if(!(e&1))return on(t,Rt()),null;var r=Lm(t,e);if(t.tag!==0&&r===2){var n=gx(t);n!==0&&(e=n,r=Vx(t,n))}if(r===1)throw r=$d,eA(t,0),ga(t,e),on(t,Rt()),r;if(r===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Po(t,en,is),on(t,Rt()),null}function TC(t,e){var r=Ke;Ke|=1;try{return t(e)}finally{Ke=r,Ke===0&&(Zl=Rt()+500,h0&&lo())}}function gA(t){wa!==null&&wa.tag===0&&!(Ke&6)&&Rl();var e=Ke;Ke|=1;var r=ri.transition,n=Je;try{if(ri.transition=null,Je=1,t)return t()}finally{Je=n,ri.transition=r,Ke=e,!(Ke&6)&&lo()}}function FC(){mn=Il.current,ft(Il)}function eA(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,$K(r)),$t!==null)for(r=$t.return;r!==null;){var n=r;switch(cC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Sm();break;case 3:ql(),ft(sn),ft(Or),yC();break;case 5:vC(n);break;case 4:ql();break;case 13:ft(Et);break;case 19:ft(Et);break;case 10:hC(n.type._context);break;case 22:case 23:FC()}r=r.return}if(dr=t,$t=t=ka(t.current,null),br=mn=e,qt=0,$d=null,IC=v0=hA=0,en=cd=null,$o!==null){for(e=0;e<$o.length;e++)if(r=$o[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}$o=null}return t}function OQ(t,e){do{var r=$t;try{if(fC(),Wg.current=jm,Om){for(var n=_t.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Om=!1}if(fA=0,cr=Yt=_t=null,Ad=!1,Hd=0,_C.current=null,r===null||r.return===null){qt=1,$d=e,$t=null;break}e:{var s=t,a=r.return,o=r,A=e;if(e=br,o.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var l=A,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=_S(a);if(g!==null){g.flags&=-257,IS(g,a,o,s,e),g.mode&1&&ES(s,l,e),e=g,A=l;var m=e.updateQueue;if(m===null){var p=new Set;p.add(A),e.updateQueue=p}else m.add(A);break e}else{if(!(e&1)){ES(s,l,e),NC();break e}A=Error(re(426))}}else if(vt&&o.mode&1){var v=_S(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),IS(v,a,o,s,e),uC(Jl(A,o));break e}}s=A=Jl(A,o),qt!==4&&(qt=2),cd===null?cd=[s]:cd.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=yQ(s,A,e);yS(s,y);break e;case 1:o=A;var w=s.type,B=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Ua===null||!Ua.has(B)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=wQ(s,o,e);yS(s,I);break e}}s=s.return}while(s!==null)}RQ(r)}catch(T){e=T,$t===r&&r!==null&&($t=r=r.return);continue}break}while(!0)}function jQ(){var t=Dm.current;return Dm.current=jm,t===null?jm:t}function NC(){(qt===0||qt===3||qt===2)&&(qt=4),dr===null||!(hA&268435455)&&!(v0&268435455)||ga(dr,br)}function Lm(t,e){var r=Ke;Ke|=2;var n=jQ();(dr!==t||br!==e)&&(is=null,eA(t,e));do try{m6();break}catch(i){OQ(t,i)}while(!0);if(fC(),Ke=r,Dm.current=n,$t!==null)throw Error(re(261));return dr=null,br=0,qt}function m6(){for(;$t!==null;)DQ($t)}function p6(){for(;$t!==null&&!HV();)DQ($t)}function DQ(t){var e=LQ(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?RQ(t):$t=e,_C.current=null}function RQ(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=c6(r,e),r!==null){r.flags&=32767,$t=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qt=6,$t=null;return}}else if(r=l6(r,e,mn),r!==null){$t=r;return}if(e=e.sibling,e!==null){$t=e;return}$t=e=t}while(e!==null);qt===0&&(qt=5)}function Po(t,e,r){var n=Je,i=ri.transition;try{ri.transition=null,Je=1,v6(t,e,r,n)}finally{ri.transition=i,Je=n}return null}function v6(t,e,r,n){do Rl();while(wa!==null);if(Ke&6)throw Error(re(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(JV(t,s),t===dr&&($t=dr=null,br=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rh||(Rh=!0,HQ(bm,function(){return Rl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ri.transition,ri.transition=null;var a=Je;Je=1;var o=Ke;Ke|=4,_C.current=null,d6(t,r),PQ(r,t),DK(xx),Cm=!!wx,xx=wx=null,t.current=r,f6(r),VV(),Ke=o,Je=a,ri.transition=s}else t.current=r;if(Rh&&(Rh=!1,wa=t,Mm=i),s=t.pendingLanes,s===0&&(Ua=null),GV(r.stateNode),on(t,Rt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Rm)throw Rm=!1,t=Lx,Lx=null,t;return Mm&1&&t.tag!==0&&Rl(),s=t.pendingLanes,s&1?t===Hx?ud++:(ud=0,Hx=t):ud=0,lo(),null}function Rl(){if(wa!==null){var t=yk(Mm),e=ri.transition,r=Je;try{if(ri.transition=null,Je=16>t?16:t,wa===null)var n=!1;else{if(t=wa,wa=null,Mm=0,Ke&6)throw Error(re(331));var i=Ke;for(Ke|=4,he=t.current;he!==null;){var s=he,a=s.child;if(he.flags&16){var o=s.deletions;if(o!==null){for(var A=0;A<o.length;A++){var l=o[A];for(he=l;he!==null;){var c=he;switch(c.tag){case 0:case 11:case 15:ld(8,c,s)}var d=c.child;if(d!==null)d.return=c,he=d;else for(;he!==null;){c=he;var f=c.sibling,g=c.return;if(FQ(c),c===l){he=null;break}if(f!==null){f.return=g,he=f;break}he=g}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}he=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,he=a;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ld(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,he=y;break e}he=s.return}}var w=t.current;for(he=w;he!==null;){a=he;var B=a.child;if(a.subtreeFlags&2064&&B!==null)B.return=a,he=B;else e:for(a=w;he!==null;){if(o=he,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:p0(9,o)}}catch(T){Ut(o,o.return,T)}if(o===a){he=null;break e}var I=o.sibling;if(I!==null){I.return=o.return,he=I;break e}he=o.return}}if(Ke=i,lo(),Ri&&typeof Ri.onPostCommitFiberRoot=="function")try{Ri.onPostCommitFiberRoot(l0,t)}catch{}n=!0}return n}finally{Je=r,ri.transition=e}}return!1}function MS(t,e,r){e=Jl(r,e),e=yQ(t,e,1),t=Na(t,e,1),e=Vr(),t!==null&&(Bf(t,1,e),on(t,e))}function Ut(t,e,r){if(t.tag===3)MS(t,t,r);else for(;e!==null;){if(e.tag===3){MS(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ua===null||!Ua.has(n))){t=Jl(r,t),t=wQ(e,t,1),e=Na(e,t,1),t=Vr(),e!==null&&(Bf(e,1,t),on(e,t));break}}e=e.return}}function y6(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Vr(),t.pingedLanes|=t.suspendedLanes&r,dr===t&&(br&r)===r&&(qt===4||qt===3&&(br&130023424)===br&&500>Rt()-SC?eA(t,0):IC|=r),on(t,e)}function MQ(t,e){e===0&&(t.mode&1?(e=Th,Th<<=1,!(Th&130023424)&&(Th=4194304)):e=1);var r=Vr();t=Us(t,e),t!==null&&(Bf(t,e,r),on(t,r))}function w6(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),MQ(t,r)}function x6(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(e),MQ(t,r)}var LQ;LQ=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return rn=!1,A6(t,e,r);rn=!!(t.flags&131072)}else rn=!1,vt&&e.flags&1048576&&$k(e,Nm,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Yg(t,e),t=e.pendingProps;var i=zl(e,Or.current);Dl(e,r),i=xC(null,e,n,t,i,r);var s=bC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(n)?(s=!0,Tm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mC(e),i.updater=m0,e.stateNode=i,i._reactInternals=e,Fx(e,n,t,r),e=Px(null,e,n,!0,s,r)):(e.tag=0,vt&&s&&lC(e),Mr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Yg(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=B6(n),t=gi(n,t),i){case 0:e=Ux(null,e,n,t,r);break e;case 1:e=FS(null,e,n,t,r);break e;case 11:e=SS(null,e,n,t,r);break e;case 14:e=TS(null,e,n,gi(n.type,t),r);break e}throw Error(re(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gi(n,i),Ux(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gi(n,i),FS(t,e,n,i,r);case 3:e:{if(CQ(e),t===null)throw Error(re(387));n=e.pendingProps,s=e.memoizedState,i=s.element,qk(t,e),km(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Jl(Error(re(423)),e),e=NS(t,e,n,r,i);break e}else if(n!==i){i=Jl(Error(re(424)),e),e=NS(t,e,n,r,i);break e}else for(bn=Fa(e.stateNode.containerInfo.firstChild),En=e,vt=!0,pi=null,r=Yk(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yl(),n===i){e=Ps(t,e,r);break e}Mr(t,e,n,r)}e=e.child}return e;case 5:return Jk(e),t===null&&Ix(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,bx(n,i)?a=null:s!==null&&bx(n,s)&&(e.flags|=32),BQ(t,e),Mr(t,e,a,r),e.child;case 6:return t===null&&Ix(e),null;case 13:return EQ(t,e,r);case 4:return pC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Xl(e,null,n,r):Mr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gi(n,i),SS(t,e,n,i,r);case 7:return Mr(t,e,e.pendingProps,r),e.child;case 8:return Mr(t,e,e.pendingProps.children,r),e.child;case 12:return Mr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,lt(Um,n._currentValue),n._currentValue=a,s!==null)if(Ci(s.value,a)){if(s.children===i.children&&!sn.current){e=Ps(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var A=o.firstContext;A!==null;){if(A.context===n){if(s.tag===1){A=Es(-1,r&-r),A.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?A.next=A:(A.next=c.next,c.next=A),l.pending=A}}s.lanes|=r,A=s.alternate,A!==null&&(A.lanes|=r),Sx(s.return,r,e),o.lanes|=r;break}A=A.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(re(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Sx(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Mr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Dl(e,r),i=si(i),n=n(i),e.flags|=1,Mr(t,e,n,r),e.child;case 14:return n=e.type,i=gi(n,e.pendingProps),i=gi(n.type,i),TS(t,e,n,i,r);case 15:return xQ(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gi(n,i),Yg(t,e),e.tag=1,an(n)?(t=!0,Tm(e)):t=!1,Dl(e,r),vQ(e,n,i),Fx(e,n,i,r),Px(null,e,n,!0,t,r);case 19:return _Q(t,e,r);case 22:return bQ(t,e,r)}throw Error(re(156,e.tag))};function HQ(t,e){return gk(t,e)}function b6(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(t,e,r,n){return new b6(t,e,r,n)}function UC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function B6(t){if(typeof t=="function")return UC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qB)return 11;if(t===JB)return 14}return 2}function ka(t,e){var r=t.alternate;return r===null?(r=Wn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Jg(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")UC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case pl:return tA(r.children,i,s,e);case XB:a=8,i|=8;break;case ex:return t=Wn(12,r,e,i|2),t.elementType=ex,t.lanes=s,t;case tx:return t=Wn(13,r,e,i),t.elementType=tx,t.lanes=s,t;case rx:return t=Wn(19,r,e,i),t.elementType=rx,t.lanes=s,t;case JP:return y0(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case XP:a=10;break e;case qP:a=9;break e;case qB:a=11;break e;case JB:a=14;break e;case ca:a=16,n=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Wn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function tA(t,e,r,n){return t=Wn(7,t,n,e),t.lanes=r,t}function y0(t,e,r,n){return t=Wn(22,t,n,e),t.elementType=JP,t.lanes=r,t.stateNode={isHidden:!1},t}function Ky(t,e,r){return t=Wn(6,t,null,e),t.lanes=r,t}function $y(t,e,r){return e=Wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function C6(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ey(0),this.expirationTimes=Ey(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ey(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function PC(t,e,r,n,i,s,a,o,A){return t=new C6(t,e,r,o,A),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mC(s),t}function E6(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ml,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function VQ(t){if(!t)return za;t=t._reactInternals;e:{if(FA(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var r=t.type;if(an(r))return Vk(t,r,e)}return e}function KQ(t,e,r,n,i,s,a,o,A){return t=PC(r,n,!0,t,i,s,a,o,A),t.context=VQ(null),r=t.current,n=Vr(),i=Pa(r),s=Es(n,i),s.callback=e??null,Na(r,s,i),t.current.lanes=i,Bf(t,i,n),on(t,n),t}function w0(t,e,r,n){var i=e.current,s=Vr(),a=Pa(i);return r=VQ(r),e.context===null?e.context=r:e.pendingContext=r,e=Es(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Na(i,e,a),t!==null&&(Bi(t,i,a,s),Gg(t,i,a)),a}function Hm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function LS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function kC(t,e){LS(t,e),(t=t.alternate)&&LS(t,e)}var $Q=typeof reportError=="function"?reportError:function(t){console.error(t)};function QC(t){this._internalRoot=t}x0.prototype.render=QC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));w0(t,e,null,null)};x0.prototype.unmount=QC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gA(function(){w0(null,t,null,null)}),e[Ns]=null}};function x0(t){this._internalRoot=t}x0.prototype.unstable_scheduleHydration=function(t){if(t){var e=bk();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ha.length&&e!==0&&e<ha[r].priority;r++);ha.splice(r,0,t),r===0&&Ck(t)}};function OC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function b0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function HS(){}function _6(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=Hm(a);s.call(l)}}var a=KQ(e,n,t,0,null,!1,!1,"",HS);return t._reactRootContainer=a,t[Ns]=a.current,jd(t.nodeType===8?t.parentNode:t),gA(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var l=Hm(A);o.call(l)}}var A=PC(t,0,!1,null,null,!1,!1,"",HS);return t._reactRootContainer=A,t[Ns]=A.current,jd(t.nodeType===8?t.parentNode:t),gA(function(){w0(e,A,r,n)}),A}function B0(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var A=Hm(a);o.call(A)}}w0(e,a,t,i)}else a=_6(r,e,t,i,n);return Hm(a)}wk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Mu(e.pendingLanes);r!==0&&(tC(e,r|1),on(e,Rt()),!(Ke&6)&&(Zl=Rt()+500,lo()))}break;case 13:gA(function(){var n=Us(t,1);if(n!==null){var i=Vr();Bi(n,t,1,i)}}),kC(t,1)}};rC=function(t){if(t.tag===13){var e=Us(t,134217728);if(e!==null){var r=Vr();Bi(e,t,134217728,r)}kC(t,134217728)}};xk=function(t){if(t.tag===13){var e=Pa(t),r=Us(t,e);if(r!==null){var n=Vr();Bi(r,t,e,n)}kC(t,e)}};bk=function(){return Je};Bk=function(t,e){var r=Je;try{return Je=t,e()}finally{Je=r}};dx=function(t,e,r){switch(e){case"input":if(sx(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=f0(n);if(!i)throw Error(re(90));ek(n),sx(n,i)}}}break;case"textarea":rk(t,r);break;case"select":e=r.value,e!=null&&kl(t,!!r.multiple,e,!1)}};lk=TC;ck=gA;var I6={usingClientEntryPoint:!1,Events:[Ef,xl,f0,ok,Ak,TC]},yu={findFiberByHostInstance:Ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S6={bundleType:yu.bundleType,version:yu.version,rendererPackageName:yu.rendererPackageName,rendererConfig:yu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fk(t),t===null?null:t.stateNode},findFiberByHostInstance:yu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{l0=Mh.inject(S6),Ri=Mh}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I6;Pn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!OC(e))throw Error(re(200));return E6(t,e,null,r)};Pn.createRoot=function(t,e){if(!OC(t))throw Error(re(299));var r=!1,n="",i=$Q;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=PC(t,1,!1,null,null,r,!1,n,i),t[Ns]=e.current,jd(t.nodeType===8?t.parentNode:t),new QC(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=fk(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return gA(t)};Pn.hydrate=function(t,e,r){if(!b0(e))throw Error(re(200));return B0(null,t,e,!0,r)};Pn.hydrateRoot=function(t,e,r){if(!OC(t))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=$Q;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=KQ(e,null,t,1,r??null,i,!1,s,a),t[Ns]=e.current,jd(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new x0(e)};Pn.render=function(t,e,r){if(!b0(e))throw Error(re(200));return B0(null,t,e,!1,r)};Pn.unmountComponentAtNode=function(t){if(!b0(t))throw Error(re(40));return t._reactRootContainer?(gA(function(){B0(null,null,t,!1,function(){t._reactRootContainer=null,t[Ns]=null})}),!0):!1};Pn.unstable_batchedUpdates=TC;Pn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!b0(r))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return B0(t,e,r,!1,n)};Pn.version="18.3.1-next-f1338f8080-20240426";function GQ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GQ)}catch(t){console.error(t)}}GQ(),GP.exports=Pn;var jC=GP.exports,VS=jC;Jw.createRoot=VS.createRoot,Jw.hydrateRoot=VS.hydrateRoot;const T6="modulepreload",F6=function(t){return"/Brainless/"+t},KS={},ms=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(A=>{if(A=F6(A),A in KS)return;KS[A]=!0;const l=A.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${c}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":T6,l||(d.as="script"),d.crossOrigin="",d.href=A,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((f,g)=>{d.addEventListener("load",f),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${A}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gd.apply(this,arguments)}var xa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xa||(xa={}));const $S="popstate";function N6(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:o="",hash:A=""}=NA(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),$x("",{pathname:a,search:o,hash:A},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let A=i.location.href,l=A.indexOf("#");o=l===-1?A:A.slice(0,l)}return o+"#"+(typeof s=="string"?s:Vm(s))}function n(i,s){DC(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return P6(e,r,n,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function DC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function U6(){return Math.random().toString(36).substr(2,8)}function GS(t,e){return{usr:t.state,key:t.key,idx:e}}function $x(t,e,r,n){return r===void 0&&(r=null),Gd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?NA(e):e,{state:r,key:e&&e.key||n||U6()})}function Vm(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function NA(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function P6(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=xa.Pop,A=null,l=c();l==null&&(l=0,a.replaceState(Gd({},a.state,{idx:l}),""));function c(){return(a.state||{idx:null}).idx}function d(){o=xa.Pop;let v=c(),y=v==null?null:v-l;l=v,A&&A({action:o,location:p.location,delta:y})}function f(v,y){o=xa.Push;let w=$x(p.location,v,y);r(w,v),l=c()+1;let B=GS(w,l),I=p.createHref(w);try{a.pushState(B,"",I)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(I)}s&&A&&A({action:o,location:p.location,delta:1})}function g(v,y){o=xa.Replace;let w=$x(p.location,v,y);r(w,v),l=c();let B=GS(w,l),I=p.createHref(w);a.replaceState(B,"",I),s&&A&&A({action:o,location:p.location,delta:0})}function m(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:Vm(v);return w=w.replace(/ $/,"%20"),It(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let p={get action(){return o},get location(){return t(i,a)},listen(v){if(A)throw new Error("A history only accepts one active listener");return i.addEventListener($S,d),A=v,()=>{i.removeEventListener($S,d),A=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(v){return a.go(v)}};return p}var WS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(WS||(WS={}));function k6(t,e,r){return r===void 0&&(r="/"),Q6(t,e,r)}function Q6(t,e,r,n){let i=typeof e=="string"?NA(e):e,s=ec(i.pathname||"/",r);if(s==null)return null;let a=WQ(t);O6(a);let o=null;for(let A=0;o==null&&A<a.length;++A){let l=W6(s);o=$6(a[A],l)}return o}function WQ(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let A={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};A.relativePath.startsWith("/")&&(It(A.relativePath.startsWith(n),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(n.length));let l=Qa([n,A.relativePath]),c=r.concat(A);s.children&&s.children.length>0&&(It(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),WQ(s.children,e,c,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:V6(l,s.index),routesMeta:c})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let A of zQ(s.path))i(s,a,A)}),e}function zQ(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=zQ(n.join("/")),o=[];return o.push(...a.map(A=>A===""?s:[s,A].join("/"))),i&&o.push(...a),o.map(A=>t.startsWith("/")&&A===""?"/":A)}function O6(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:K6(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const j6=/^:[\w-]+$/,D6=3,R6=2,M6=1,L6=10,H6=-2,zS=t=>t==="*";function V6(t,e){let r=t.split("/"),n=r.length;return r.some(zS)&&(n+=H6),e&&(n+=R6),r.filter(i=>!zS(i)).reduce((i,s)=>i+(j6.test(s)?D6:s===""?M6:L6),n)}function K6(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function $6(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let A=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=Gx({path:A.relativePath,caseSensitive:A.caseSensitive,end:l},c),f=A.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:Qa([s,d.pathname]),pathnameBase:q6(Qa([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Qa([s,d.pathnameBase]))}return a}function Gx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=G6(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((l,c,d)=>{let{paramName:f,isOptional:g}=c;if(f==="*"){let p=o[d]||"";a=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const m=o[d];return g&&!m?l[f]=void 0:l[f]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:a,pattern:t}}function G6(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),DC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,A)=>(n.push({paramName:o,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function W6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return DC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ec(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function z6(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?NA(t):t;return{pathname:r?r.startsWith("/")?r:Y6(r,e):e,search:J6(n),hash:Z6(i)}}function Y6(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Gy(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function X6(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function RC(t,e){let r=X6(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function MC(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=NA(t):(i=Gd({},t),It(!i.pathname||!i.pathname.includes("?"),Gy("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),Gy("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),Gy("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}o=d>=0?e[d]:"/"}let A=z6(i,o),l=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&r.endsWith("/");return!A.pathname.endsWith("/")&&(l||c)&&(A.pathname+="/"),A}const Qa=t=>t.join("/").replace(/\/\/+/g,"/"),q6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),J6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Z6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function e$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const YQ=["post","put","patch","delete"];new Set(YQ);const t$=["get",...YQ];new Set(t$);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wd(){return Wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wd.apply(this,arguments)}const C0=x.createContext(null),XQ=x.createContext(null),Ks=x.createContext(null),E0=x.createContext(null),co=x.createContext({outlet:null,matches:[],isDataRoute:!1}),qQ=x.createContext(null);function r$(t,e){let{relative:r}=e===void 0?{}:e;Sc()||It(!1);let{basename:n,navigator:i}=x.useContext(Ks),{hash:s,pathname:a,search:o}=_0(t,{relative:r}),A=a;return n!=="/"&&(A=a==="/"?n:Qa([n,a])),i.createHref({pathname:A,search:o,hash:s})}function Sc(){return x.useContext(E0)!=null}function Tc(){return Sc()||It(!1),x.useContext(E0).location}function JQ(t){x.useContext(Ks).static||x.useLayoutEffect(t)}function ZQ(){let{isDataRoute:t}=x.useContext(co);return t?g$():n$()}function n$(){Sc()||It(!1);let t=x.useContext(C0),{basename:e,future:r,navigator:n}=x.useContext(Ks),{matches:i}=x.useContext(co),{pathname:s}=Tc(),a=JSON.stringify(RC(i,r.v7_relativeSplatPath)),o=x.useRef(!1);return JQ(()=>{o.current=!0}),x.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=MC(l,JSON.parse(a),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Qa([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,a,s,t])}function _0(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=x.useContext(Ks),{matches:i}=x.useContext(co),{pathname:s}=Tc(),a=JSON.stringify(RC(i,n.v7_relativeSplatPath));return x.useMemo(()=>MC(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function i$(t,e){return s$(t,e)}function s$(t,e,r,n){Sc()||It(!1);let{navigator:i}=x.useContext(Ks),{matches:s}=x.useContext(co),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let A=a?a.pathnameBase:"/";a&&a.route;let l=Tc(),c;if(e){var d;let v=typeof e=="string"?NA(e):e;A==="/"||(d=v.pathname)!=null&&d.startsWith(A)||It(!1),c=v}else c=l;let f=c.pathname||"/",g=f;if(A!=="/"){let v=A.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=k6(t,{pathname:g}),p=c$(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Qa([A,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?A:Qa([A,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return e&&p?x.createElement(E0.Provider,{value:{location:Wd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:xa.Pop}},p):p}function a$(){let t=h$(),e=e$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),r?x.createElement("pre",{style:i},r):null,null)}const o$=x.createElement(a$,null);class A$ extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?x.createElement(co.Provider,{value:this.props.routeContext},x.createElement(qQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function l$(t){let{routeContext:e,match:r,children:n}=t,i=x.useContext(C0);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(co.Provider,{value:e},n)}function c$(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let c=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||It(!1),a=a.slice(0,Math.min(a.length,c+1))}let A=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:f,errors:g}=r,m=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||m){A=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,d,f)=>{let g,m=!1,p=null,v=null;r&&(g=o&&d.route.id?o[d.route.id]:void 0,p=d.route.errorElement||o$,A&&(l<0&&f===0?(m=!0,v=null):l===f&&(m=!0,v=d.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,f+1)),w=()=>{let B;return g?B=p:m?B=v:d.route.Component?B=x.createElement(d.route.Component,null):d.route.element?B=d.route.element:B=c,x.createElement(l$,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:r!=null},children:B})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?x.createElement(A$,{location:r.location,revalidation:r.revalidation,component:p,error:g,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var e4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(e4||{}),Km=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Km||{});function u$(t){let e=x.useContext(C0);return e||It(!1),e}function d$(t){let e=x.useContext(XQ);return e||It(!1),e}function f$(t){let e=x.useContext(co);return e||It(!1),e}function t4(t){let e=f$(),r=e.matches[e.matches.length-1];return r.route.id||It(!1),r.route.id}function h$(){var t;let e=x.useContext(qQ),r=d$(Km.UseRouteError),n=t4(Km.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function g$(){let{router:t}=u$(e4.UseNavigateStable),e=t4(Km.UseNavigateStable),r=x.useRef(!1);return JQ(()=>{r.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Wd({fromRouteId:e},s)))},[t,e])}const YS={};function m$(t,e){YS[e]||(YS[e]=!0,console.warn(e))}const XS=(t,e,r)=>m$(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function p$(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&XS("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&XS("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function v$(t){let{to:e,replace:r,state:n,relative:i}=t;Sc()||It(!1);let{future:s,static:a}=x.useContext(Ks),{matches:o}=x.useContext(co),{pathname:A}=Tc(),l=ZQ(),c=MC(e,RC(o,s.v7_relativeSplatPath),A,i==="path"),d=JSON.stringify(c);return x.useEffect(()=>l(JSON.parse(d),{replace:r,state:n,relative:i}),[l,d,i,r,n]),null}function Mn(t){It(!1)}function y$(t){let{basename:e="/",children:r=null,location:n,navigationType:i=xa.Pop,navigator:s,static:a=!1,future:o}=t;Sc()&&It(!1);let A=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:A,navigator:s,static:a,future:Wd({v7_relativeSplatPath:!1},o)}),[A,o,s,a]);typeof n=="string"&&(n=NA(n));let{pathname:c="/",search:d="",hash:f="",state:g=null,key:m="default"}=n,p=x.useMemo(()=>{let v=ec(c,A);return v==null?null:{location:{pathname:v,search:d,hash:f,state:g,key:m},navigationType:i}},[A,c,d,f,g,m,i]);return p==null?null:x.createElement(Ks.Provider,{value:l},x.createElement(E0.Provider,{children:r,value:p}))}function w$(t){let{children:e,location:r}=t;return i$(Wx(e),r)}new Promise(()=>{});function Wx(t,e){e===void 0&&(e=[]);let r=[];return x.Children.forEach(t,(n,i)=>{if(!x.isValidElement(n))return;let s=[...e,i];if(n.type===x.Fragment){r.push.apply(r,Wx(n.props.children,s));return}n.type!==Mn&&It(!1),!n.props.index||!n.props.children||It(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Wx(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$m.apply(this,arguments)}function r4(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function x$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function b$(t,e){return t.button===0&&(!e||e==="_self")&&!x$(t)}const B$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],C$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],E$="6";try{window.__reactRouterVersion=E$}catch{}const _$=x.createContext({isTransitioning:!1}),I$="startTransition",qS=KP[I$];function S$(t){let{basename:e,children:r,future:n,window:i}=t,s=x.useRef();s.current==null&&(s.current=N6({window:i,v5Compat:!0}));let a=s.current,[o,A]=x.useState({action:a.action,location:a.location}),{v7_startTransition:l}=n||{},c=x.useCallback(d=>{l&&qS?qS(()=>A(d)):A(d)},[A,l]);return x.useLayoutEffect(()=>a.listen(c),[a,c]),x.useEffect(()=>p$(n),[n]),x.createElement(y$,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const T$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",F$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N$=x.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:A,to:l,preventScrollReset:c,viewTransition:d}=e,f=r4(e,B$),{basename:g}=x.useContext(Ks),m,p=!1;if(typeof l=="string"&&F$.test(l)&&(m=l,T$))try{let B=new URL(window.location.href),I=l.startsWith("//")?new URL(B.protocol+l):new URL(l),T=ec(I.pathname,g);I.origin===B.origin&&T!=null?l=T+I.search+I.hash:p=!0}catch{}let v=r$(l,{relative:i}),y=k$(l,{replace:a,state:o,target:A,preventScrollReset:c,relative:i,viewTransition:d});function w(B){n&&n(B),B.defaultPrevented||y(B)}return x.createElement("a",$m({},f,{href:m||v,onClick:p||s?n:w,ref:r,target:A}))}),U$=x.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:A,viewTransition:l,children:c}=e,d=r4(e,C$),f=_0(A,{relative:d.relative}),g=Tc(),m=x.useContext(XQ),{navigator:p,basename:v}=x.useContext(Ks),y=m!=null&&Q$(f)&&l===!0,w=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,B=g.pathname,I=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(B=B.toLowerCase(),I=I?I.toLowerCase():null,w=w.toLowerCase()),I&&v&&(I=ec(I,v)||I);const T=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let F=B===w||!a&&B.startsWith(w)&&B.charAt(T)==="/",C=I!=null&&(I===w||!a&&I.startsWith(w)&&I.charAt(w.length)==="/"),_={isActive:F,isPending:C,isTransitioning:y},S=F?n:void 0,U;typeof s=="function"?U=s(_):U=[s,F?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(_):o;return x.createElement(N$,$m({},d,{"aria-current":S,className:U,ref:r,style:k,to:A,viewTransition:l}),typeof c=="function"?c(_):c)});var zx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(zx||(zx={}));var JS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(JS||(JS={}));function P$(t){let e=x.useContext(C0);return e||It(!1),e}function k$(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,A=ZQ(),l=Tc(),c=_0(t,{relative:a});return x.useCallback(d=>{if(b$(d,r)){d.preventDefault();let f=n!==void 0?n:Vm(l)===Vm(c);A(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[l,A,c,n,i,r,t,s,a,o])}function Q$(t,e){e===void 0&&(e={});let r=x.useContext(_$);r==null&&It(!1);let{basename:n}=P$(zx.useViewTransitionState),i=_0(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=ec(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=ec(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Gx(i.pathname,a)!=null||Gx(i.pathname,s)!=null}function O$(){const[t,e]=x.useState(null),[r,n]=x.useState(null),[i,s]=x.useState(null);x.useEffect(()=>{const A=setInterval(()=>{const l=new Date,c=l.getHours(),d=l.getMinutes(),f=c*60+d,g=4*60+30,m=13*60,p=21*60+30;let v=null;f>=g&&f<m?(v=m-f,n("workEnd"),s("morning")):f>=m&&f<p?(v=p-f,n("workEnd"),s("afternoon")):(f<g?v=g-f:v=1440-f+g,n("workStart"),s("morning")),e(v)},1e3);return()=>clearInterval(A)},[]);const a=A=>A===null?"text-text-secondary":A<=30?"text-red-400 bg-red-400/10 ring-1 ring-red-400":A<=120?"text-orange-400 bg-orange-400/10 ring-1 ring-orange-400":"text-primary bg-primary/10 ring-1 ring-primary",o=A=>{if(A===null)return"";const l=Math.floor(A/60),c=A%60;return`${l}小時 ${c}分鐘`};return u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"text-text-secondary",children:r==="workEnd"?`${i==="morning"?"早班":"晚班"}離下班還有 `:"早班離上班還有 "}),u.jsx("span",{className:`
        font-medium px-3 py-1 rounded-full
        ${a(t)}
        transition-all duration-300
      `,children:o(t)})]})}var ZS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},j$=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],A=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(A>>10)),e[n++]=String.fromCharCode(56320+(A&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},i4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,A=i+2<t.length,l=A?t[i+2]:0,c=s>>2,d=(s&3)<<4|o>>4;let f=(o&15)<<2|l>>6,g=l&63;A||(g=64,a||(f=64)),n.push(r[c],r[d],r[f],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):j$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const l=i<t.length?r[t.charAt(i)]:64;++i;const d=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||l==null||d==null)throw new D$;const f=s<<2|o>>4;if(n.push(f),l!==64){const g=o<<4&240|l>>2;if(n.push(g),d!==64){const m=l<<6&192|d;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class D$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const R$=function(t){const e=n4(t);return i4.encodeByteArray(e,!0)},Gm=function(t){return R$(t).replace(/\./g,"")},s4=function(t){try{return i4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$=()=>M$().__FIREBASE_DEFAULTS__,H$=()=>{if(typeof process>"u"||typeof ZS>"u")return;const t=ZS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},V$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&s4(t[1]);return e&&JSON.parse(e)},I0=()=>{try{return L$()||H$()||V$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},a4=t=>{var e,r;return(r=(e=I0())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},K$=t=>{const e=a4(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},o4=()=>{var t;return(t=I0())===null||t===void 0?void 0:t.config},A4=t=>{var e;return(e=I0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gm(JSON.stringify(r)),Gm(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function z$(){var t;const e=(t=I0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function X$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function q$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J$(){const t=Jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function l4(){return!z$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c4(){try{return typeof indexedDB=="object"}catch{return!1}}function Z$(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8="FirebaseError";class $s extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=e8,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,If.prototype.create)}}class If{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?t8(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new $s(i,o,n)}}function t8(t,e){return t.replace(r8,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const r8=/\{\$([^}]+)}/g;function n8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wm(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(eT(s)&&eT(a)){if(!Wm(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function eT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Hu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Vu(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function i8(t,e){const r=new s8(t,e);return r.subscribe.bind(r)}class s8{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");a8(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Wy),i.error===void 0&&(i.error=Wy),i.complete===void 0&&(i.complete=Wy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a8(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Wy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t){return t&&t._delegate?t._delegate:t}class mA{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o8=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new $$;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l8(e))try{this.getOrInitializeService({instanceIdentifier:ko})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ko){return this.instances.has(e)}getOptions(e=ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:A8(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ko){return this.component?this.component.multipleInstances?e:ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function A8(t){return t===ko?void 0:t}function l8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new o8(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const u8={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},d8=De.INFO,f8={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},h8=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=f8[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let LC=class{constructor(e){this.name=e,this._logLevel=d8,this._logHandler=h8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}};const g8=(t,e)=>e.some(r=>t instanceof r);let tT,rT;function m8(){return tT||(tT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p8(){return rT||(rT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u4=new WeakMap,Yx=new WeakMap,d4=new WeakMap,zy=new WeakMap,HC=new WeakMap;function v8(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(Oa(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&u4.set(r,t)}).catch(()=>{}),HC.set(e,t),e}function y8(t){if(Yx.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Yx.set(t,e)}let Xx={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Yx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||d4.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Oa(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function w8(t){Xx=t(Xx)}function x8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Yy(this),e,...r);return d4.set(n,e.sort?e.sort():[e]),Oa(n)}:p8().includes(t)?function(...e){return t.apply(Yy(this),e),Oa(u4.get(this))}:function(...e){return Oa(t.apply(Yy(this),e))}}function b8(t){return typeof t=="function"?x8(t):(t instanceof IDBTransaction&&y8(t),g8(t,m8())?new Proxy(t,Xx):t)}function Oa(t){if(t instanceof IDBRequest)return v8(t);if(zy.has(t))return zy.get(t);const e=b8(t);return e!==t&&(zy.set(t,e),HC.set(e,t)),e}const Yy=t=>HC.get(t);function B8(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Oa(a);return n&&a.addEventListener("upgradeneeded",A=>{n(Oa(a.result),A.oldVersion,A.newVersion,Oa(a.transaction),A)}),r&&a.addEventListener("blocked",A=>r(A.oldVersion,A.newVersion,A)),o.then(A=>{s&&A.addEventListener("close",()=>s()),i&&A.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}const C8=["get","getKey","getAll","getAllKeys","count"],E8=["put","add","delete","clear"],Xy=new Map;function nT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xy.get(e))return Xy.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=E8.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||C8.includes(r)))return;const s=async function(a,...o){const A=this.transaction(a,i?"readwrite":"readonly");let l=A.store;return n&&(l=l.index(o.shift())),(await Promise.all([l[r](...o),i&&A.done]))[0]};return Xy.set(e,s),s}w8(t=>({...t,get:(e,r,n)=>nT(e,r)||t.get(e,r,n),has:(e,r)=>!!nT(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(I8(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function I8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qx="@firebase/app",iT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new LC("@firebase/app"),S8="@firebase/app-compat",T8="@firebase/analytics-compat",F8="@firebase/analytics",N8="@firebase/app-check-compat",U8="@firebase/app-check",P8="@firebase/auth",k8="@firebase/auth-compat",Q8="@firebase/database",O8="@firebase/data-connect",j8="@firebase/database-compat",D8="@firebase/functions",R8="@firebase/functions-compat",M8="@firebase/installations",L8="@firebase/installations-compat",H8="@firebase/messaging",V8="@firebase/messaging-compat",K8="@firebase/performance",$8="@firebase/performance-compat",G8="@firebase/remote-config",W8="@firebase/remote-config-compat",z8="@firebase/storage",Y8="@firebase/storage-compat",X8="@firebase/firestore",q8="@firebase/vertexai-preview",J8="@firebase/firestore-compat",Z8="firebase",e9="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="[DEFAULT]",t9={[qx]:"fire-core",[S8]:"fire-core-compat",[F8]:"fire-analytics",[T8]:"fire-analytics-compat",[U8]:"fire-app-check",[N8]:"fire-app-check-compat",[P8]:"fire-auth",[k8]:"fire-auth-compat",[Q8]:"fire-rtdb",[O8]:"fire-data-connect",[j8]:"fire-rtdb-compat",[D8]:"fire-fn",[R8]:"fire-fn-compat",[M8]:"fire-iid",[L8]:"fire-iid-compat",[H8]:"fire-fcm",[V8]:"fire-fcm-compat",[K8]:"fire-perf",[$8]:"fire-perf-compat",[G8]:"fire-rc",[W8]:"fire-rc-compat",[z8]:"fire-gcs",[Y8]:"fire-gcs-compat",[X8]:"fire-fst",[J8]:"fire-fst-compat",[q8]:"fire-vertex","fire-js":"fire-js",[Z8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new Map,r9=new Map,Zx=new Map;function sT(t,e){try{t.container.addComponent(e)}catch(r){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function tc(t){const e=t.name;if(Zx.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;Zx.set(e,t);for(const r of zd.values())sT(r,t);for(const r of r9.values())sT(r,t);return!0}function VC(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ps(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ja=new If("app","Firebase",n9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new mA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=e9;function f4(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Jx,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw ja.create("bad-app-name",{appName:String(i)});if(r||(r=o4()),!r)throw ja.create("no-options");const s=zd.get(i);if(s){if(Wm(r,s.options)&&Wm(n,s.config))return s;throw ja.create("duplicate-app",{appName:i})}const a=new c8(i);for(const A of Zx.values())a.addComponent(A);const o=new i9(r,n,a);return zd.set(i,o),o}function h4(t=Jx){const e=zd.get(t);if(!e&&t===Jx&&o4())return f4();if(!e)throw ja.create("no-app",{appName:t});return e}function aT(){return Array.from(zd.values())}function Da(t,e,r){var n;let i=(n=t9[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(o.join(" "));return}tc(new mA(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9="firebase-heartbeat-database",a9=1,Yd="firebase-heartbeat-store";let qy=null;function g4(){return qy||(qy=B8(s9,a9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yd)}catch(r){console.warn(r)}}}}).catch(t=>{throw ja.create("idb-open",{originalErrorMessage:t.message})})),qy}async function o9(t){try{const r=(await g4()).transaction(Yd),n=await r.objectStore(Yd).get(m4(t));return await r.done,n}catch(e){if(e instanceof $s)ks.warn(e.message);else{const r=ja.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ks.warn(r.message)}}}async function oT(t,e){try{const n=(await g4()).transaction(Yd,"readwrite");await n.objectStore(Yd).put(e,m4(t)),await n.done}catch(r){if(r instanceof $s)ks.warn(r.message);else{const n=ja.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ks.warn(n.message)}}}function m4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=1024,l9=30*24*60*60*1e3;class c9{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new d9(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=AT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=l9}),this._storage.overwrite(this._heartbeatsCache))}catch(n){ks.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=AT(),{heartbeatsToSend:n,unsentEntries:i}=u9(this._heartbeatsCache.heartbeats),s=Gm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return ks.warn(r),""}}}function AT(){return new Date().toISOString().substring(0,10)}function u9(t,e=A9){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),lT(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),lT(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class d9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c4()?Z$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await o9(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return oT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return oT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function lT(t){return Gm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t){tc(new mA("platform-logger",e=>new _8(e),"PRIVATE")),tc(new mA("heartbeat",e=>new c9(e),"PRIVATE")),Da(qx,iT,t),Da(qx,iT,"esm2017"),Da("fire-js","")}f9("");var cT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rA,p4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function S(){}S.prototype=_.prototype,C.D=_.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(U,k,Q){for(var P=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)P[ae-2]=arguments[ae];return _.prototype[k].apply(U,P)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,_,S){S||(S=0);var U=Array(16);if(typeof _=="string")for(var k=0;16>k;++k)U[k]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(k=0;16>k;++k)U[k]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=C.g[0],S=C.g[1],k=C.g[2];var Q=C.g[3],P=_+(Q^S&(k^Q))+U[0]+3614090360&4294967295;_=S+(P<<7&4294967295|P>>>25),P=Q+(k^_&(S^k))+U[1]+3905402710&4294967295,Q=_+(P<<12&4294967295|P>>>20),P=k+(S^Q&(_^S))+U[2]+606105819&4294967295,k=Q+(P<<17&4294967295|P>>>15),P=S+(_^k&(Q^_))+U[3]+3250441966&4294967295,S=k+(P<<22&4294967295|P>>>10),P=_+(Q^S&(k^Q))+U[4]+4118548399&4294967295,_=S+(P<<7&4294967295|P>>>25),P=Q+(k^_&(S^k))+U[5]+1200080426&4294967295,Q=_+(P<<12&4294967295|P>>>20),P=k+(S^Q&(_^S))+U[6]+2821735955&4294967295,k=Q+(P<<17&4294967295|P>>>15),P=S+(_^k&(Q^_))+U[7]+4249261313&4294967295,S=k+(P<<22&4294967295|P>>>10),P=_+(Q^S&(k^Q))+U[8]+1770035416&4294967295,_=S+(P<<7&4294967295|P>>>25),P=Q+(k^_&(S^k))+U[9]+2336552879&4294967295,Q=_+(P<<12&4294967295|P>>>20),P=k+(S^Q&(_^S))+U[10]+4294925233&4294967295,k=Q+(P<<17&4294967295|P>>>15),P=S+(_^k&(Q^_))+U[11]+2304563134&4294967295,S=k+(P<<22&4294967295|P>>>10),P=_+(Q^S&(k^Q))+U[12]+1804603682&4294967295,_=S+(P<<7&4294967295|P>>>25),P=Q+(k^_&(S^k))+U[13]+4254626195&4294967295,Q=_+(P<<12&4294967295|P>>>20),P=k+(S^Q&(_^S))+U[14]+2792965006&4294967295,k=Q+(P<<17&4294967295|P>>>15),P=S+(_^k&(Q^_))+U[15]+1236535329&4294967295,S=k+(P<<22&4294967295|P>>>10),P=_+(k^Q&(S^k))+U[1]+4129170786&4294967295,_=S+(P<<5&4294967295|P>>>27),P=Q+(S^k&(_^S))+U[6]+3225465664&4294967295,Q=_+(P<<9&4294967295|P>>>23),P=k+(_^S&(Q^_))+U[11]+643717713&4294967295,k=Q+(P<<14&4294967295|P>>>18),P=S+(Q^_&(k^Q))+U[0]+3921069994&4294967295,S=k+(P<<20&4294967295|P>>>12),P=_+(k^Q&(S^k))+U[5]+3593408605&4294967295,_=S+(P<<5&4294967295|P>>>27),P=Q+(S^k&(_^S))+U[10]+38016083&4294967295,Q=_+(P<<9&4294967295|P>>>23),P=k+(_^S&(Q^_))+U[15]+3634488961&4294967295,k=Q+(P<<14&4294967295|P>>>18),P=S+(Q^_&(k^Q))+U[4]+3889429448&4294967295,S=k+(P<<20&4294967295|P>>>12),P=_+(k^Q&(S^k))+U[9]+568446438&4294967295,_=S+(P<<5&4294967295|P>>>27),P=Q+(S^k&(_^S))+U[14]+3275163606&4294967295,Q=_+(P<<9&4294967295|P>>>23),P=k+(_^S&(Q^_))+U[3]+4107603335&4294967295,k=Q+(P<<14&4294967295|P>>>18),P=S+(Q^_&(k^Q))+U[8]+1163531501&4294967295,S=k+(P<<20&4294967295|P>>>12),P=_+(k^Q&(S^k))+U[13]+2850285829&4294967295,_=S+(P<<5&4294967295|P>>>27),P=Q+(S^k&(_^S))+U[2]+4243563512&4294967295,Q=_+(P<<9&4294967295|P>>>23),P=k+(_^S&(Q^_))+U[7]+1735328473&4294967295,k=Q+(P<<14&4294967295|P>>>18),P=S+(Q^_&(k^Q))+U[12]+2368359562&4294967295,S=k+(P<<20&4294967295|P>>>12),P=_+(S^k^Q)+U[5]+4294588738&4294967295,_=S+(P<<4&4294967295|P>>>28),P=Q+(_^S^k)+U[8]+2272392833&4294967295,Q=_+(P<<11&4294967295|P>>>21),P=k+(Q^_^S)+U[11]+1839030562&4294967295,k=Q+(P<<16&4294967295|P>>>16),P=S+(k^Q^_)+U[14]+4259657740&4294967295,S=k+(P<<23&4294967295|P>>>9),P=_+(S^k^Q)+U[1]+2763975236&4294967295,_=S+(P<<4&4294967295|P>>>28),P=Q+(_^S^k)+U[4]+1272893353&4294967295,Q=_+(P<<11&4294967295|P>>>21),P=k+(Q^_^S)+U[7]+4139469664&4294967295,k=Q+(P<<16&4294967295|P>>>16),P=S+(k^Q^_)+U[10]+3200236656&4294967295,S=k+(P<<23&4294967295|P>>>9),P=_+(S^k^Q)+U[13]+681279174&4294967295,_=S+(P<<4&4294967295|P>>>28),P=Q+(_^S^k)+U[0]+3936430074&4294967295,Q=_+(P<<11&4294967295|P>>>21),P=k+(Q^_^S)+U[3]+3572445317&4294967295,k=Q+(P<<16&4294967295|P>>>16),P=S+(k^Q^_)+U[6]+76029189&4294967295,S=k+(P<<23&4294967295|P>>>9),P=_+(S^k^Q)+U[9]+3654602809&4294967295,_=S+(P<<4&4294967295|P>>>28),P=Q+(_^S^k)+U[12]+3873151461&4294967295,Q=_+(P<<11&4294967295|P>>>21),P=k+(Q^_^S)+U[15]+530742520&4294967295,k=Q+(P<<16&4294967295|P>>>16),P=S+(k^Q^_)+U[2]+3299628645&4294967295,S=k+(P<<23&4294967295|P>>>9),P=_+(k^(S|~Q))+U[0]+4096336452&4294967295,_=S+(P<<6&4294967295|P>>>26),P=Q+(S^(_|~k))+U[7]+1126891415&4294967295,Q=_+(P<<10&4294967295|P>>>22),P=k+(_^(Q|~S))+U[14]+2878612391&4294967295,k=Q+(P<<15&4294967295|P>>>17),P=S+(Q^(k|~_))+U[5]+4237533241&4294967295,S=k+(P<<21&4294967295|P>>>11),P=_+(k^(S|~Q))+U[12]+1700485571&4294967295,_=S+(P<<6&4294967295|P>>>26),P=Q+(S^(_|~k))+U[3]+2399980690&4294967295,Q=_+(P<<10&4294967295|P>>>22),P=k+(_^(Q|~S))+U[10]+4293915773&4294967295,k=Q+(P<<15&4294967295|P>>>17),P=S+(Q^(k|~_))+U[1]+2240044497&4294967295,S=k+(P<<21&4294967295|P>>>11),P=_+(k^(S|~Q))+U[8]+1873313359&4294967295,_=S+(P<<6&4294967295|P>>>26),P=Q+(S^(_|~k))+U[15]+4264355552&4294967295,Q=_+(P<<10&4294967295|P>>>22),P=k+(_^(Q|~S))+U[6]+2734768916&4294967295,k=Q+(P<<15&4294967295|P>>>17),P=S+(Q^(k|~_))+U[13]+1309151649&4294967295,S=k+(P<<21&4294967295|P>>>11),P=_+(k^(S|~Q))+U[4]+4149444226&4294967295,_=S+(P<<6&4294967295|P>>>26),P=Q+(S^(_|~k))+U[11]+3174756917&4294967295,Q=_+(P<<10&4294967295|P>>>22),P=k+(_^(Q|~S))+U[2]+718787259&4294967295,k=Q+(P<<15&4294967295|P>>>17),P=S+(Q^(k|~_))+U[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+Q&4294967295}n.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var S=_-this.blockSize,U=this.B,k=this.h,Q=0;Q<_;){if(k==0)for(;Q<=S;)i(this,C,Q),Q+=this.blockSize;if(typeof C=="string"){for(;Q<_;)if(U[k++]=C.charCodeAt(Q++),k==this.blockSize){i(this,U),k=0;break}}else for(;Q<_;)if(U[k++]=C[Q++],k==this.blockSize){i(this,U),k=0;break}}this.h=k,this.o+=_},n.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var S=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=S&255,S/=256;for(this.u(C),C=Array(16),_=S=0;4>_;++_)for(var U=0;32>U;U+=8)C[S++]=this.g[_]>>>U&255;return C};function s(C,_){var S=o;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=_(C)}function a(C,_){this.h=_;for(var S=[],U=!0,k=C.length-1;0<=k;k--){var Q=C[k]|0;U&&Q==_||(S[k]=Q,U=!1)}this.g=S}var o={};function A(C){return-128<=C&&128>C?s(C,function(_){return new a([_|0],0>_?-1:0)}):new a([C|0],0>C?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return v(l(-C));for(var _=[],S=1,U=0;C>=S;U++)_[U]=C/S|0,S*=4294967296;return new a(_,0)}function c(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return v(c(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=l(Math.pow(_,8)),U=d,k=0;k<C.length;k+=8){var Q=Math.min(8,C.length-k),P=parseInt(C.substring(k,k+Q),_);8>Q?(Q=l(Math.pow(_,Q)),U=U.j(Q).add(l(P))):(U=U.j(S),U=U.add(l(P)))}return U}var d=A(0),f=A(1),g=A(16777216);t=a.prototype,t.m=function(){if(p(this))return-v(this).m();for(var C=0,_=1,S=0;S<this.g.length;S++){var U=this.i(S);C+=(0<=U?U:4294967296+U)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(m(this))return"0";if(p(this))return"-"+v(this).toString(C);for(var _=l(Math.pow(C,6)),S=this,U="";;){var k=I(S,_).g;S=y(S,k.j(_));var Q=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=k,m(S))return Q+U;for(;6>Q.length;)Q="0"+Q;U=Q+U}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function m(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function p(C){return C.h==-1}t.l=function(C){return C=y(this,C),p(C)?-1:m(C)?0:1};function v(C){for(var _=C.g.length,S=[],U=0;U<_;U++)S[U]=~C.g[U];return new a(S,~C.h).add(f)}t.abs=function(){return p(this)?v(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],U=0,k=0;k<=_;k++){var Q=U+(this.i(k)&65535)+(C.i(k)&65535),P=(Q>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);U=P>>>16,Q&=65535,P&=65535,S[k]=P<<16|Q}return new a(S,S[S.length-1]&-2147483648?-1:0)};function y(C,_){return C.add(v(_))}t.j=function(C){if(m(this)||m(C))return d;if(p(this))return p(C)?v(this).j(v(C)):v(v(this).j(C));if(p(C))return v(this.j(v(C)));if(0>this.l(g)&&0>C.l(g))return l(this.m()*C.m());for(var _=this.g.length+C.g.length,S=[],U=0;U<2*_;U++)S[U]=0;for(U=0;U<this.g.length;U++)for(var k=0;k<C.g.length;k++){var Q=this.i(U)>>>16,P=this.i(U)&65535,ae=C.i(k)>>>16,xe=C.i(k)&65535;S[2*U+2*k]+=P*xe,w(S,2*U+2*k),S[2*U+2*k+1]+=Q*xe,w(S,2*U+2*k+1),S[2*U+2*k+1]+=P*ae,w(S,2*U+2*k+1),S[2*U+2*k+2]+=Q*ae,w(S,2*U+2*k+2)}for(U=0;U<_;U++)S[U]=S[2*U+1]<<16|S[2*U];for(U=_;U<2*_;U++)S[U]=0;return new a(S,0)};function w(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function B(C,_){this.g=C,this.h=_}function I(C,_){if(m(_))throw Error("division by zero");if(m(C))return new B(d,d);if(p(C))return _=I(v(C),_),new B(v(_.g),v(_.h));if(p(_))return _=I(C,v(_)),new B(v(_.g),_.h);if(30<C.g.length){if(p(C)||p(_))throw Error("slowDivide_ only works with positive integers.");for(var S=f,U=_;0>=U.l(C);)S=T(S),U=T(U);var k=F(S,1),Q=F(U,1);for(U=F(U,2),S=F(S,2);!m(U);){var P=Q.add(U);0>=P.l(C)&&(k=k.add(S),Q=P),U=F(U,1),S=F(S,1)}return _=y(C,k.j(_)),new B(k,_)}for(k=d;0<=C.l(_);){for(S=Math.max(1,Math.floor(C.m()/_.m())),U=Math.ceil(Math.log(S)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),Q=l(S),P=Q.j(_);p(P)||0<P.l(C);)S-=U,Q=l(S),P=Q.j(_);m(Q)&&(Q=f),k=k.add(Q),C=y(C,P)}return new B(k,C)}t.A=function(C){return I(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],U=0;U<_;U++)S[U]=this.i(U)&C.i(U);return new a(S,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],U=0;U<_;U++)S[U]=this.i(U)|C.i(U);return new a(S,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],U=0;U<_;U++)S[U]=this.i(U)^C.i(U);return new a(S,this.h^C.h)};function T(C){for(var _=C.g.length+1,S=[],U=0;U<_;U++)S[U]=C.i(U)<<1|C.i(U-1)>>>31;return new a(S,C.h)}function F(C,_){var S=_>>5;_%=32;for(var U=C.g.length-S,k=[],Q=0;Q<U;Q++)k[Q]=0<_?C.i(Q+S)>>>_|C.i(Q+S+1)<<32-_:C.i(Q+S);return new a(k,C.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,p4=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=c,rA=a}).apply(typeof cT<"u"?cT:typeof self<"u"?self:typeof window<"u"?window:{});var Lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v4,Ku,y4,Zg,eb,w4,x4,b4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,b,E){return h==Array.prototype||h==Object.prototype||(h[b]=E.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lh=="object"&&Lh];for(var b=0;b<h.length;++b){var E=h[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=r(this);function i(h,b){if(b)e:{var E=n;h=h.split(".");for(var N=0;N<h.length-1;N++){var H=h[N];if(!(H in E))break e;E=E[H]}h=h[h.length-1],N=E[h],b=b(N),b!=N&&b!=null&&e(E,h,{configurable:!0,writable:!0,value:b})}}function s(h,b){h instanceof String&&(h+="");var E=0,N=!1,H={next:function(){if(!N&&E<h.length){var W=E++;return{value:b(W,h[W]),done:!1}}return N=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(h){return h||function(){return s(this,function(b,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function A(h){var b=typeof h;return b=b!="object"?b:h?Array.isArray(h)?"array":b:"null",b=="array"||b=="object"&&typeof h.length=="number"}function l(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function c(h,b,E){return h.call.apply(h.bind,arguments)}function d(h,b,E){if(!h)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,N),h.apply(b,H)}}return function(){return h.apply(b,arguments)}}function f(h,b,E){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function g(h,b){var E=Array.prototype.slice.call(arguments,1);return function(){var N=E.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function m(h,b){function E(){}E.prototype=b.prototype,h.aa=b.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(N,H,W){for(var se=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)se[rt-2]=arguments[rt];return b.prototype[H].apply(N,se)}}function p(h){const b=h.length;if(0<b){const E=Array(b);for(let N=0;N<b;N++)E[N]=h[N];return E}return[]}function v(h,b){for(let E=1;E<arguments.length;E++){const N=arguments[E];if(A(N)){const H=h.length||0,W=N.length||0;h.length=H+W;for(let se=0;se<W;se++)h[H+se]=N[se]}else h.push(N)}}class y{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function w(h){return/^[\s\xa0]*$/.test(h)}function B(){var h=o.navigator;return h&&(h=h.userAgent)?h:""}function I(h){return I[" "](h),h}I[" "]=function(){};var T=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function F(h,b,E){for(const N in h)b.call(E,h[N],N,h)}function C(h,b){for(const E in h)b.call(void 0,h[E],E,h)}function _(h){const b={};for(const E in h)b[E]=h[E];return b}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(h,b){let E,N;for(let H=1;H<arguments.length;H++){N=arguments[H];for(E in N)h[E]=N[E];for(let W=0;W<S.length;W++)E=S[W],Object.prototype.hasOwnProperty.call(N,E)&&(h[E]=N[E])}}function k(h){var b=1;h=h.split(":");const E=[];for(;0<b&&h.length;)E.push(h.shift()),b--;return h.length&&E.push(h.join(":")),E}function Q(h){o.setTimeout(()=>{throw h},0)}function P(){var h=ie;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class ae{constructor(){this.h=this.g=null}add(b,E){const N=xe.get();N.set(b,E),this.h?this.h.next=N:this.g=N,this.h=N}}var xe=new y(()=>new me,h=>h.reset());class me{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,q=!1,ie=new ae,ce=()=>{const h=o.Promise.resolve(void 0);pe=()=>{h.then(Se)}};var Se=()=>{for(var h;h=P();){try{h.h.call(h.g)}catch(E){Q(E)}var b=xe;b.j(h),100>b.h&&(b.h++,h.next=b.g,b.g=h)}q=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ne(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}Ne.prototype.h=function(){this.defaultPrevented=!0};var ze=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};o.addEventListener("test",E,b),o.removeEventListener("test",E,b)}catch{}return h}();function j(h,b){if(Ne.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget){if(T){e:{try{I(b.nodeName);var H=!0;break e}catch{}H=!1}H||(b=null)}}else E=="mouseover"?b=h.fromElement:E=="mouseout"&&(b=h.toElement);this.relatedTarget=b,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:V[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&j.aa.h.call(this)}}m(j,Ne);var V={2:"touch",3:"pen",4:"mouse"};j.prototype.h=function(){j.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var D="closure_listenable_"+(1e6*Math.random()|0),Y=0;function M(h,b,E,N,H){this.listener=h,this.proxy=null,this.src=b,this.type=E,this.capture=!!N,this.ha=H,this.key=++Y,this.da=this.fa=!1}function $(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function z(h){this.src=h,this.g={},this.h=0}z.prototype.add=function(h,b,E,N,H){var W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);var se=Be(h,b,N,H);return-1<se?(b=h[se],E||(b.fa=!1)):(b=new M(b,this.src,W,!!N,H),b.fa=E,h.push(b)),b};function L(h,b){var E=b.type;if(E in h.g){var N=h.g[E],H=Array.prototype.indexOf.call(N,b,void 0),W;(W=0<=H)&&Array.prototype.splice.call(N,H,1),W&&($(b),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Be(h,b,E,N){for(var H=0;H<h.length;++H){var W=h[H];if(!W.da&&W.listener==b&&W.capture==!!E&&W.ha==N)return H}return-1}var be="closure_lm_"+(1e6*Math.random()|0),ke={};function Re(h,b,E,N,H){if(Array.isArray(b)){for(var W=0;W<b.length;W++)Re(h,b[W],E,N,H);return null}return E=Co(E),h&&h[D]?h.K(b,E,l(N)?!!N.capture:!1,H):ir(h,b,E,!1,N,H)}function ir(h,b,E,N,H,W){if(!b)throw Error("Invalid event type");var se=l(H)?!!H.capture:!!H,rt=VA(h);if(rt||(h[be]=rt=new z(h)),E=rt.add(b,E,N,se,W),E.proxy)return E;if(N=Bo(),E.proxy=N,N.src=h,N.listener=E,h.addEventListener)ze||(H=se),H===void 0&&(H=!1),h.addEventListener(b.toString(),N,H);else if(h.attachEvent)h.attachEvent(zc(b.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Bo(){function h(E){return b.call(h.src,h.listener,E)}const b=HA;return h}function LA(h,b,E,N,H){if(Array.isArray(b))for(var W=0;W<b.length;W++)LA(h,b[W],E,N,H);else N=l(N)?!!N.capture:!!N,E=Co(E),h&&h[D]?(h=h.i,b=String(b).toString(),b in h.g&&(W=h.g[b],E=Be(W,E,N,H),-1<E&&($(W[E]),Array.prototype.splice.call(W,E,1),W.length==0&&(delete h.g[b],h.h--)))):h&&(h=VA(h))&&(b=h.g[b.toString()],h=-1,b&&(h=Be(b,E,N,H)),(E=-1<h?b[h]:null)&&Js(E))}function Js(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[D])L(b.i,h);else{var E=h.type,N=h.proxy;b.removeEventListener?b.removeEventListener(E,N,h.capture):b.detachEvent?b.detachEvent(zc(E),N):b.addListener&&b.removeListener&&b.removeListener(N),(E=VA(b))?(L(E,h),E.h==0&&(E.src=null,b[be]=null)):$(h)}}}function zc(h){return h in ke?ke[h]:ke[h]="on"+h}function HA(h,b){if(h.da)h=!0;else{b=new j(b,this);var E=h.listener,N=h.ha||h.src;h.fa&&Js(h),h=E.call(N,b)}return h}function VA(h){return h=h[be],h instanceof z?h:null}var Zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Co(h){return typeof h=="function"?h:(h[Zs]||(h[Zs]=function(b){return h.handleEvent(b)}),h[Zs])}function Ht(){ne.call(this),this.i=new z(this),this.M=this,this.F=null}m(Ht,ne),Ht.prototype[D]=!0,Ht.prototype.removeEventListener=function(h,b,E,N){LA(this,h,b,E,N)};function sr(h,b){var E,N=h.F;if(N)for(E=[];N;N=N.F)E.push(N);if(h=h.M,N=b.type||b,typeof b=="string")b=new Ne(b,h);else if(b instanceof Ne)b.target=b.target||h;else{var H=b;b=new Ne(N,h),U(b,H)}if(H=!0,E)for(var W=E.length-1;0<=W;W--){var se=b.g=E[W];H=KA(se,N,!0,b)&&H}if(se=b.g=h,H=KA(se,N,!0,b)&&H,H=KA(se,N,!1,b)&&H,E)for(W=0;W<E.length;W++)se=b.g=E[W],H=KA(se,N,!1,b)&&H}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var h=this.i,b;for(b in h.g){for(var E=h.g[b],N=0;N<E.length;N++)$(E[N]);delete h.g[b],h.h--}}this.F=null},Ht.prototype.K=function(h,b,E,N){return this.i.add(String(h),b,!1,E,N)},Ht.prototype.L=function(h,b,E,N){return this.i.add(String(h),b,!0,E,N)};function KA(h,b,E,N){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();for(var H=!0,W=0;W<b.length;++W){var se=b[W];if(se&&!se.da&&se.capture==E){var rt=se.listener,hr=se.ha||se.src;se.fa&&L(h.i,se),H=rt.call(hr,N)!==!1&&H}}return H&&!N.defaultPrevented}function sh(h,b,E){if(typeof h=="function")E&&(h=f(h,E));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:o.setTimeout(h,b||0)}function ah(h){h.g=sh(()=>{h.g=null,h.i&&(h.i=!1,ah(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class Ay extends ne{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:ah(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Eo(h){ne.call(this),this.h=h,this.g={}}m(Eo,ne);var oh=[];function Ah(h){F(h.g,function(b,E){this.g.hasOwnProperty(E)&&Js(b)},h),h.g={}}Eo.prototype.N=function(){Eo.aa.N.call(this),Ah(this)},Eo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yc=o.JSON.stringify,Xc=o.JSON.parse,Ot=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function qc(){}qc.prototype.h=null;function lh(h){return h.h||(h.h=h.i())}function Jc(){}var Si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zc(){Ne.call(this,"d")}m(Zc,Ne);function eu(){Ne.call(this,"c")}m(eu,Ne);var qi={},tu=null;function $A(){return tu=tu||new Ht}qi.La="serverreachability";function ch(h){Ne.call(this,qi.La,h)}m(ch,Ne);function _o(h){const b=$A();sr(b,new ch(b))}qi.STAT_EVENT="statevent";function O(h,b){Ne.call(this,qi.STAT_EVENT,h),this.stat=b}m(O,Ne);function R(h){const b=$A();sr(b,new O(b,h))}qi.Ma="timingevent";function Z(h,b){Ne.call(this,qi.Ma,h),this.size=b}m(Z,Ne);function ee(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},b)}function J(){this.g=!0}J.prototype.xa=function(){this.g=!1};function oe(h,b,E,N,H,W){h.info(function(){if(h.g)if(W)for(var se="",rt=W.split("&"),hr=0;hr<rt.length;hr++){var $e=rt[hr].split("=");if(1<$e.length){var Cr=$e[0];$e=$e[1];var Er=Cr.split("_");se=2<=Er.length&&Er[1]=="type"?se+(Cr+"="+$e+"&"):se+(Cr+"=redacted&")}}else se=null;else se=W;return"XMLHTTP REQ ("+N+") [attempt "+H+"]: "+b+`
`+E+`
`+se})}function Ie(h,b,E,N,H,W,se){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+H+"]: "+b+`
`+E+`
`+W+" "+se})}function Qe(h,b,E,N){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+Ue(h,E)+(N?" "+N:"")})}function Me(h,b){h.info(function(){return"TIMEOUT: "+b})}J.prototype.info=function(){};function Ue(h,b){if(!h.g)return b;if(!b)return null;try{var E=JSON.parse(b);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var N=E[h];if(!(2>N.length)){var H=N[1];if(Array.isArray(H)&&!(1>H.length)){var W=H[0];if(W!="noop"&&W!="stop"&&W!="close")for(var se=1;se<H.length;se++)H[se]=""}}}}return Yc(E)}catch{return b}}var at={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gt;function Dr(){}m(Dr,qc),Dr.prototype.g=function(){return new XMLHttpRequest},Dr.prototype.i=function(){return{}},gt=new Dr;function cn(h,b,E,N){this.j=h,this.i=b,this.l=E,this.R=N||1,this.U=new Eo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new un}function un(){this.i=null,this.g="",this.h=!1}var uh={},Ji={};function Xr(h,b,E){h.L=1,h.v=gh(Zi(b)),h.m=E,h.P=!0,ru(h,null)}function ru(h,b){h.F=Date.now(),dh(h),h.A=Zi(h.v);var E=h.A,N=h.R;Array.isArray(N)||(N=[String(N)]),fI(E.i,"t",N),h.C=0,E=h.j.J,h.h=new un,h.g=NI(h.j,E?b:null,!h.m),0<h.O&&(h.M=new Ay(f(h.Y,h,h.g),h.O)),b=h.U,E=h.g,N=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(oh[0]=H.toString()),H=oh);for(var W=0;W<H.length;W++){var se=Re(E,H[W],N||b.handleEvent,!1,b.h||b);if(!se)break;b.g[se.key]=se}b=h.H?_(h.H):{},h.m?(h.u||(h.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,b)):(h.u="GET",h.g.ea(h.A,h.u,null,b)),_o(),oe(h.i,h.u,h.A,h.l,h.R,h.m)}cn.prototype.ca=function(h){h=h.target;const b=this.M;b&&es(h)==3?b.j():this.Y(h)},cn.prototype.Y=function(h){try{if(h==this.g)e:{const Er=es(this.g);var b=this.g.Ba();const zA=this.g.Z();if(!(3>Er)&&(Er!=3||this.g&&(this.h.h||this.g.oa()||wI(this.g)))){this.J||Er!=4||b==7||(b==8||0>=zA?_o(3):_o(2)),cy(this);var E=this.g.Z();this.X=E;t:if(nu(this)){var N=wI(this.g);h="";var H=N.length,W=es(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Io(this),iu(this);var se="";break t}this.h.i=new o.TextDecoder}for(b=0;b<H;b++)this.h.h=!0,h+=this.h.i.decode(N[b],{stream:!(W&&b==H-1)});N.length=0,this.h.g+=h,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=E==200,Ie(this.i,this.u,this.A,this.l,this.R,Er,E),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,hr=this.g;if((rt=hr.g?hr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(rt)){var $e=rt;break t}}$e=null}if(E=$e)Qe(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uy(this,E);else{this.o=!1,this.s=3,R(12),Io(this),iu(this);break e}}if(this.P){E=!0;let ui;for(;!this.J&&this.C<se.length;)if(ui=ly(this,se),ui==Ji){Er==4&&(this.s=4,R(14),E=!1),Qe(this.i,this.l,null,"[Incomplete Response]");break}else if(ui==uh){this.s=4,R(15),Qe(this.i,this.l,se,"[Invalid Chunk]"),E=!1;break}else Qe(this.i,this.l,ui,null),uy(this,ui);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Er!=4||se.length!=0||this.h.h||(this.s=1,R(16),E=!1),this.o=this.o&&E,!E)Qe(this.i,this.l,se,"[Invalid Chunked Response]"),Io(this),iu(this);else if(0<se.length&&!this.W){this.W=!0;var Cr=this.j;Cr.g==this&&Cr.ba&&!Cr.M&&(Cr.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),py(Cr),Cr.M=!0,R(11))}}else Qe(this.i,this.l,se,null),uy(this,se);Er==4&&Io(this),this.o&&!this.J&&(Er==4?II(this.j,this):(this.o=!1,dh(this)))}else eV(this.g),E==400&&0<se.indexOf("Unknown SID")?(this.s=3,R(12)):(this.s=0,R(13)),Io(this),iu(this)}}}catch{}finally{}};function nu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ly(h,b){var E=h.C,N=b.indexOf(`
`,E);return N==-1?Ji:(E=Number(b.substring(E,N)),isNaN(E)?uh:(N+=1,N+E>b.length?Ji:(b=b.slice(N,N+E),h.C=N+E,b)))}cn.prototype.cancel=function(){this.J=!0,Io(this)};function dh(h){h.S=Date.now()+h.I,tI(h,h.I)}function tI(h,b){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ee(f(h.ba,h),b)}function cy(h){h.B&&(o.clearTimeout(h.B),h.B=null)}cn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Me(this.i,this.A),this.L!=2&&(_o(),R(17)),Io(this),this.s=2,iu(this)):tI(this,this.S-h)};function iu(h){h.j.G==0||h.J||II(h.j,h)}function Io(h){cy(h);var b=h.M;b&&typeof b.ma=="function"&&b.ma(),h.M=null,Ah(h.U),h.g&&(b=h.g,h.g=null,b.abort(),b.ma())}function uy(h,b){try{var E=h.j;if(E.G!=0&&(E.g==h||dy(E.h,h))){if(!h.K&&dy(E.h,h)&&E.G==3){try{var N=E.Da.g.parse(b)}catch{N=null}if(Array.isArray(N)&&N.length==3){var H=N;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)xh(E),yh(E);else break e;my(E),R(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=ee(f(E.Za,E),6e3));if(1>=iI(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else To(E,11)}else if((h.K||E.g==h)&&xh(E),!w(b))for(H=E.Da.g.parse(b),b=0;b<H.length;b++){let $e=H[b];if(E.T=$e[0],$e=$e[1],E.G==2)if($e[0]=="c"){E.K=$e[1],E.ia=$e[2];const Cr=$e[3];Cr!=null&&(E.la=Cr,E.j.info("VER="+E.la));const Er=$e[4];Er!=null&&(E.Aa=Er,E.j.info("SVER="+E.Aa));const zA=$e[5];zA!=null&&typeof zA=="number"&&0<zA&&(N=1.5*zA,E.L=N,E.j.info("backChannelRequestTimeoutMs_="+N)),N=E;const ui=h.g;if(ui){const Bh=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bh){var W=N.h;W.g||Bh.indexOf("spdy")==-1&&Bh.indexOf("quic")==-1&&Bh.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(fy(W,W.h),W.h=null))}if(N.D){const vy=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;vy&&(N.ya=vy,ct(N.I,N.D,vy))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),N=E;var se=h;if(N.qa=FI(N,N.J?N.ia:null,N.W),se.K){sI(N.h,se);var rt=se,hr=N.L;hr&&(rt.I=hr),rt.B&&(cy(rt),dh(rt)),N.g=se}else EI(N);0<E.i.length&&wh(E)}else $e[0]!="stop"&&$e[0]!="close"||To(E,7);else E.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?To(E,7):gy(E):$e[0]!="noop"&&E.l&&E.l.ta($e),E.v=0)}}_o(4)}catch{}}var DH=class{constructor(h,b){this.g=h,this.map=b}};function rI(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nI(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function iI(h){return h.h?1:h.g?h.g.size:0}function dy(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function fy(h,b){h.g?h.g.add(b):h.h=b}function sI(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}rI.prototype.cancel=function(){if(this.i=aI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function aI(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const E of h.g.values())b=b.concat(E.D);return b}return p(h.i)}function RH(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(A(h)){for(var b=[],E=h.length,N=0;N<E;N++)b.push(h[N]);return b}b=[],E=0;for(N in h)b[E++]=h[N];return b}function MH(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(A(h)||typeof h=="string"){var b=[];h=h.length;for(var E=0;E<h;E++)b.push(E);return b}b=[],E=0;for(const N in h)b[E++]=N;return b}}}function oI(h,b){if(h.forEach&&typeof h.forEach=="function")h.forEach(b,void 0);else if(A(h)||typeof h=="string")Array.prototype.forEach.call(h,b,void 0);else for(var E=MH(h),N=RH(h),H=N.length,W=0;W<H;W++)b.call(void 0,N[W],E&&E[W],h)}var AI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function LH(h,b){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var N=h[E].indexOf("="),H=null;if(0<=N){var W=h[E].substring(0,N);H=h[E].substring(N+1)}else W=h[E];b(W,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function So(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof So){this.h=h.h,fh(this,h.j),this.o=h.o,this.g=h.g,hh(this,h.s),this.l=h.l;var b=h.i,E=new ou;E.i=b.i,b.g&&(E.g=new Map(b.g),E.h=b.h),lI(this,E),this.m=h.m}else h&&(b=String(h).match(AI))?(this.h=!1,fh(this,b[1]||"",!0),this.o=su(b[2]||""),this.g=su(b[3]||"",!0),hh(this,b[4]),this.l=su(b[5]||"",!0),lI(this,b[6]||"",!0),this.m=su(b[7]||"")):(this.h=!1,this.i=new ou(null,this.h))}So.prototype.toString=function(){var h=[],b=this.j;b&&h.push(au(b,cI,!0),":");var E=this.g;return(E||b=="file")&&(h.push("//"),(b=this.o)&&h.push(au(b,cI,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(au(E,E.charAt(0)=="/"?KH:VH,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",au(E,GH)),h.join("")};function Zi(h){return new So(h)}function fh(h,b,E){h.j=E?su(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function hh(h,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);h.s=b}else h.s=null}function lI(h,b,E){b instanceof ou?(h.i=b,WH(h.i,h.h)):(E||(b=au(b,$H)),h.i=new ou(b,h.h))}function ct(h,b,E){h.i.set(b,E)}function gh(h){return ct(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function su(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function au(h,b,E){return typeof h=="string"?(h=encodeURI(h).replace(b,HH),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function HH(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var cI=/[#\/\?@]/g,VH=/[#\?:]/g,KH=/[#\?]/g,$H=/[#\?@]/g,GH=/#/g;function ou(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function ea(h){h.g||(h.g=new Map,h.h=0,h.i&&LH(h.i,function(b,E){h.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}t=ou.prototype,t.add=function(h,b){ea(this),this.i=null,h=GA(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(b),this.h+=1,this};function uI(h,b){ea(h),b=GA(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function dI(h,b){return ea(h),b=GA(h,b),h.g.has(b)}t.forEach=function(h,b){ea(this),this.g.forEach(function(E,N){E.forEach(function(H){h.call(b,H,N,this)},this)},this)},t.na=function(){ea(this);const h=Array.from(this.g.values()),b=Array.from(this.g.keys()),E=[];for(let N=0;N<b.length;N++){const H=h[N];for(let W=0;W<H.length;W++)E.push(b[N])}return E},t.V=function(h){ea(this);let b=[];if(typeof h=="string")dI(this,h)&&(b=b.concat(this.g.get(GA(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)b=b.concat(h[E])}return b},t.set=function(h,b){return ea(this),this.i=null,h=GA(this,h),dI(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=this.V(h),0<h.length?String(h[0]):b):b};function fI(h,b,E){uI(h,b),0<E.length&&(h.i=null,h.g.set(GA(h,b),p(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(var E=0;E<b.length;E++){var N=b[E];const W=encodeURIComponent(String(N)),se=this.V(N);for(N=0;N<se.length;N++){var H=W;se[N]!==""&&(H+="="+encodeURIComponent(String(se[N]))),h.push(H)}}return this.i=h.join("&")};function GA(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function WH(h,b){b&&!h.j&&(ea(h),h.i=null,h.g.forEach(function(E,N){var H=N.toLowerCase();N!=H&&(uI(this,N),fI(this,H,E))},h)),h.j=b}function zH(h,b){const E=new J;if(o.Image){const N=new Image;N.onload=g(ta,E,"TestLoadImage: loaded",!0,b,N),N.onerror=g(ta,E,"TestLoadImage: error",!1,b,N),N.onabort=g(ta,E,"TestLoadImage: abort",!1,b,N),N.ontimeout=g(ta,E,"TestLoadImage: timeout",!1,b,N),o.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else b(!1)}function YH(h,b){const E=new J,N=new AbortController,H=setTimeout(()=>{N.abort(),ta(E,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:N.signal}).then(W=>{clearTimeout(H),W.ok?ta(E,"TestPingServer: ok",!0,b):ta(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(H),ta(E,"TestPingServer: error",!1,b)})}function ta(h,b,E,N,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),N(E)}catch{}}function XH(){this.g=new Ot}function qH(h,b,E){const N=E||"";try{oI(h,function(H,W){let se=H;l(H)&&(se=Yc(H)),b.push(N+W+"="+encodeURIComponent(se))})}catch(H){throw b.push(N+"type="+encodeURIComponent("_badmap")),H}}function mh(h){this.l=h.Ub||null,this.j=h.eb||!1}m(mh,qc),mh.prototype.g=function(){return new ph(this.l,this.j)},mh.prototype.i=function(h){return function(){return h}}({});function ph(h,b){Ht.call(this),this.D=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(ph,Ht),t=ph.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=b,this.readyState=1,lu(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(b.body=h),(this.D||o).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Au(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,lu(this)),this.g&&(this.readyState=3,lu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hI(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function hI(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?Au(this):lu(this),this.readyState==3&&hI(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Au(this))},t.Qa=function(h){this.g&&(this.response=h,Au(this))},t.ga=function(){this.g&&Au(this)};function Au(h){h.readyState=4,h.l=null,h.j=null,h.v=null,lu(h)}t.setRequestHeader=function(h,b){this.u.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=b.next();return h.join(`\r
`)};function lu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ph.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function gI(h){let b="";return F(h,function(E,N){b+=N,b+=":",b+=E,b+=`\r
`}),b}function hy(h,b,E){e:{for(N in E){var N=!1;break e}N=!0}N||(E=gI(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):ct(h,b,E))}function Ft(h){Ht.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Ft,Ht);var JH=/^https?$/i,ZH=["POST","PUT"];t=Ft.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,b,E,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gt.g(),this.v=this.o?lh(this.o):lh(gt),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(W){mI(this,W);return}if(h=E||"",E=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var H in N)E.set(H,N[H]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const W of N.keys())E.set(W,N.get(W));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),H=o.FormData&&h instanceof o.FormData,!(0<=Array.prototype.indexOf.call(ZH,b,void 0))||N||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,se]of E)this.g.setRequestHeader(W,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yI(this),this.u=!0,this.g.send(h),this.u=!1}catch(W){mI(this,W)}};function mI(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.m=5,pI(h),vh(h)}function pI(h){h.A||(h.A=!0,sr(h,"complete"),sr(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,sr(this,"complete"),sr(this,"abort"),vh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vh(this,!0)),Ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vI(this):this.bb())},t.bb=function(){vI(this)};function vI(h){if(h.h&&typeof a<"u"&&(!h.v[1]||es(h)!=4||h.Z()!=2)){if(h.u&&es(h)==4)sh(h.Ea,0,h);else if(sr(h,"readystatechange"),es(h)==4){h.h=!1;try{const se=h.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var N;if(N=se===0){var H=String(h.D).match(AI)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),N=!JH.test(H?H.toLowerCase():"")}E=N}if(E)sr(h,"complete"),sr(h,"success");else{h.m=6;try{var W=2<es(h)?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.Z()+"]",pI(h)}}finally{vh(h)}}}}function vh(h,b){if(h.g){yI(h);const E=h.g,N=h.v[0]?()=>{}:null;h.g=null,h.v=null,b||sr(h,"ready");try{E.onreadystatechange=N}catch{}}}function yI(h){h.I&&(o.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function es(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<es(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),Xc(b)}};function wI(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function eV(h){const b={};h=(h.g&&2<=es(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(w(h[N]))continue;var E=k(h[N]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=b[H]||[];b[H]=W,W.push(E)}C(b,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cu(h,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||b}function xI(h){this.Aa=0,this.i=[],this.j=new J,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cu("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cu("baseRetryDelayMs",5e3,h),this.cb=cu("retryDelaySeedMs",1e4,h),this.Wa=cu("forwardChannelMaxRetries",2,h),this.wa=cu("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new rI(h&&h.concurrentRequestLimit),this.Da=new XH,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=xI.prototype,t.la=8,t.G=1,t.connect=function(h,b,E,N){R(0),this.W=h,this.H=b||{},E&&N!==void 0&&(this.H.OSID=E,this.H.OAID=N),this.F=this.X,this.I=FI(this,null,this.W),wh(this)};function gy(h){if(bI(h),h.G==3){var b=h.U++,E=Zi(h.I);if(ct(E,"SID",h.K),ct(E,"RID",b),ct(E,"TYPE","terminate"),uu(h,E),b=new cn(h,h.j,b),b.L=2,b.v=gh(Zi(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(b.v.toString(),"")}catch{}!E&&o.Image&&(new Image().src=b.v,E=!0),E||(b.g=NI(b.j,null),b.g.ea(b.v)),b.F=Date.now(),dh(b)}TI(h)}function yh(h){h.g&&(py(h),h.g.cancel(),h.g=null)}function bI(h){yh(h),h.u&&(o.clearTimeout(h.u),h.u=null),xh(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&o.clearTimeout(h.s),h.s=null)}function wh(h){if(!nI(h.h)&&!h.s){h.s=!0;var b=h.Ga;pe||ce(),q||(pe(),q=!0),ie.add(b,h),h.B=0}}function tV(h,b){return iI(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=b.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ee(f(h.Ga,h,b),SI(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new cn(this,this.j,h);let W=this.o;if(this.S&&(W?(W=_(W),U(W,this.S)):W=this.S),this.m!==null||this.O||(H.H=W,W=null),this.P)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var N=this.i[E];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(b+=N,4096<b){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=CI(this,H,b),E=Zi(this.I),ct(E,"RID",h),ct(E,"CVER",22),this.D&&ct(E,"X-HTTP-Session-Id",this.D),uu(this,E),W&&(this.O?b="headers="+encodeURIComponent(String(gI(W)))+"&"+b:this.m&&hy(E,this.m,W)),fy(this.h,H),this.Ua&&ct(E,"TYPE","init"),this.P?(ct(E,"$req",b),ct(E,"SID","null"),H.T=!0,Xr(H,E,null)):Xr(H,E,b),this.G=2}}else this.G==3&&(h?BI(this,h):this.i.length==0||nI(this.h)||BI(this))};function BI(h,b){var E;b?E=b.l:E=h.U++;const N=Zi(h.I);ct(N,"SID",h.K),ct(N,"RID",E),ct(N,"AID",h.T),uu(h,N),h.m&&h.o&&hy(N,h.m,h.o),E=new cn(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),b&&(h.i=b.D.concat(h.i)),b=CI(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),fy(h.h,E),Xr(E,N,b)}function uu(h,b){h.H&&F(h.H,function(E,N){ct(b,N,E)}),h.l&&oI({},function(E,N){ct(b,N,E)})}function CI(h,b,E){E=Math.min(h.i.length,E);var N=h.l?f(h.l.Na,h.l,h):null;e:{var H=h.i;let W=-1;for(;;){const se=["count="+E];W==-1?0<E?(W=H[0].g,se.push("ofs="+W)):W=0:se.push("ofs="+W);let rt=!0;for(let hr=0;hr<E;hr++){let $e=H[hr].g;const Cr=H[hr].map;if($e-=W,0>$e)W=Math.max(0,H[hr].g-100),rt=!1;else try{qH(Cr,se,"req"+$e+"_")}catch{N&&N(Cr)}}if(rt){N=se.join("&");break e}}}return h=h.i.splice(0,E),b.D=h,N}function EI(h){if(!h.g&&!h.u){h.Y=1;var b=h.Fa;pe||ce(),q||(pe(),q=!0),ie.add(b,h),h.v=0}}function my(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ee(f(h.Fa,h),SI(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,_I(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ee(f(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,R(10),yh(this),_I(this))};function py(h){h.A!=null&&(o.clearTimeout(h.A),h.A=null)}function _I(h){h.g=new cn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var b=Zi(h.qa);ct(b,"RID","rpc"),ct(b,"SID",h.K),ct(b,"AID",h.T),ct(b,"CI",h.F?"0":"1"),!h.F&&h.ja&&ct(b,"TO",h.ja),ct(b,"TYPE","xmlhttp"),uu(h,b),h.m&&h.o&&hy(b,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=gh(Zi(b)),E.m=null,E.P=!0,ru(E,h)}t.Za=function(){this.C!=null&&(this.C=null,yh(this),my(this),R(19))};function xh(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function II(h,b){var E=null;if(h.g==b){xh(h),py(h),h.g=null;var N=2}else if(dy(h.h,b))E=b.D,sI(h.h,b),N=1;else return;if(h.G!=0){if(b.o)if(N==1){E=b.m?b.m.length:0,b=Date.now()-b.F;var H=h.B;N=$A(),sr(N,new Z(N,E)),wh(h)}else EI(h);else if(H=b.s,H==3||H==0&&0<b.X||!(N==1&&tV(h,b)||N==2&&my(h)))switch(E&&0<E.length&&(b=h.h,b.i=b.i.concat(E)),H){case 1:To(h,5);break;case 4:To(h,10);break;case 3:To(h,6);break;default:To(h,2)}}}function SI(h,b){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*b}function To(h,b){if(h.j.info("Error code "+b),b==2){var E=f(h.fb,h),N=h.Xa;const H=!N;N=new So(N||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||fh(N,"https"),gh(N),H?zH(N.toString(),E):YH(N.toString(),E)}else R(2);h.G=0,h.l&&h.l.sa(b),TI(h),bI(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),R(2)):(this.j.info("Failed to ping google.com"),R(1))};function TI(h){if(h.G=0,h.ka=[],h.l){const b=aI(h.h);(b.length!=0||h.i.length!=0)&&(v(h.ka,b),v(h.ka,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.ra()}}function FI(h,b,E){var N=E instanceof So?Zi(E):new So(E);if(N.g!="")b&&(N.g=b+"."+N.g),hh(N,N.s);else{var H=o.location;N=H.protocol,b=b?b+"."+H.hostname:H.hostname,H=+H.port;var W=new So(null);N&&fh(W,N),b&&(W.g=b),H&&hh(W,H),E&&(W.l=E),N=W}return E=h.D,b=h.ya,E&&b&&ct(N,E,b),ct(N,"VER",h.la),uu(h,N),N}function NI(h,b,E){if(b&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Ca&&!h.pa?new Ft(new mh({eb:E})):new Ft(h.pa),b.Ha(h.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function UI(){}t=UI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bh(){}bh.prototype.g=function(h,b){return new dn(h,b)};function dn(h,b){Ht.call(this),this.g=new xI(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(h?h["X-WebChannel-Client-Profile"]=b.va:h={"X-WebChannel-Client-Profile":b.va}),this.g.S=h,(h=b&&b.Sb)&&!w(h)&&(this.g.m=h),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!w(b)&&(this.g.D=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new WA(this)}m(dn,Ht),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){gy(this.g)},dn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Yc(h),h=E);b.i.push(new DH(b.Ya++,h)),b.G==3&&wh(b)},dn.prototype.N=function(){this.g.l=null,delete this.j,gy(this.g),delete this.g,dn.aa.N.call(this)};function PI(h){Zc.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const E in b){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}m(PI,Zc);function kI(){eu.call(this),this.status=1}m(kI,eu);function WA(h){this.g=h}m(WA,UI),WA.prototype.ua=function(){sr(this.g,"a")},WA.prototype.ta=function(h){sr(this.g,new PI(h))},WA.prototype.sa=function(h){sr(this.g,new kI)},WA.prototype.ra=function(){sr(this.g,"b")},bh.prototype.createWebChannel=bh.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,b4=function(){return new bh},x4=function(){return $A()},w4=qi,eb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},at.NO_ERROR=0,at.TIMEOUT=8,at.HTTP_ERROR=6,Zg=at,jn.COMPLETE="complete",y4=jn,Jc.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,Ku=Jc,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,v4=Ft}).apply(typeof Lh<"u"?Lh:typeof self<"u"?self:typeof window<"u"?window:{});const uT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new LC("@firebase/firestore");function ll(){return pA.logLevel}function te(t,...e){if(pA.logLevel<=De.DEBUG){const r=e.map(KC);pA.debug(`Firestore (${Nc}): ${t}`,...r)}}function Lr(t,...e){if(pA.logLevel<=De.ERROR){const r=e.map(KC);pA.error(`Firestore (${Nc}): ${t}`,...r)}}function Ya(t,...e){if(pA.logLevel<=De.WARN){const r=e.map(KC);pA.warn(`Firestore (${Nc}): ${t}`,...r)}}function KC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${Nc}) INTERNAL ASSERTION FAILED: `+t;throw Lr(e),new Error(e)}function we(t,e){t||ve()}function Te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends $s{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(vr.UNAUTHENTICATED))}shutdown(){}}class h9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class g9{constructor(e){this.t=e,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){we(this.o===void 0);let n=this.i;const i=A=>this.i!==n?(n=this.i,r(A)):Promise.resolve();let s=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Li,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const A=s;e.enqueueRetryable(async()=>{await A.promise,await i(this.currentUser)})},o=A=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(A=>o(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?o(A):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Li)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(we(typeof n.accessToken=="string"),new B4(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new vr(e)}}class m9{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=vr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class p9{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new m9(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class v9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){we(this.o===void 0);const n=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(we(typeof r.token=="string"),this.R=r.token,new v9(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=w9(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function Fe(t,e){return t<e?-1:t>e?1:0}function rc(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}function E4(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new fe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new fe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new fe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new bt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new bt(0,0))}static max(){return new Ce(new bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,r,n){r===void 0?r=0:r>e.length&&ve(),n===void 0?n=e.length-r:n>e.length-r&&ve(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Xd.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Xd?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class qe extends Xd{construct(e,r,n){return new qe(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new fe(X.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new qe(r)}static emptyPath(){return new qe([])}}const x9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends Xd{construct(e,r,n){return new yt(e,r,n)}static isValidIdentifier(e){return x9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yt(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new fe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new fe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const A=e[i+1];if(A!=="\\"&&A!=="."&&A!=="`")throw new fe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=A,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new fe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(r)}static emptyPath(){return new yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(qe.fromString(e))}static fromName(e){return new Ae(qe.fromString(e).popFirst(5))}static empty(){return new Ae(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return qe.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,r,n,i){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=i}}function tb(t){return t.fields.find(e=>e.kind===2)}function Qo(t){return t.fields.filter(e=>e.kind!==2)}zm.UNKNOWN_ID=-1;class em{constructor(e,r){this.fieldPath=e,this.kind=r}}class qd{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new qd(0,Sn.min())}}function b9(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(n===1e9?new bt(r+1,0):new bt(r,n));return new Sn(i,Ae.empty(),e)}function _4(t){return new Sn(t.readTime,t.key,-1)}class Sn{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Sn(Ce.min(),Ae.empty(),-1)}static max(){return new Sn(Ce.max(),Ae.empty(),-1)}}function GC(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ae.comparator(t.documentKey,e.documentKey),r!==0?r:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==I4)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new K((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof K?r:K.resolve(r)}catch(r){return K.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):K.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):K.reject(r)}static resolve(e){return new K((r,n)=>{r(e)})}static reject(e){return new K((r,n)=>{n(e)})}static waitFor(e){return new K((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},A=>n(A))}),a=!0,s===i&&r()})}static or(e){let r=K.resolve(!1);for(const n of e)r=r.next(i=>i?K.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new K((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let A=0;A<s;A++){const l=A;r(e[l]).next(c=>{a[l]=c,++o,o===s&&n(a)},c=>i(c))}})}static doWhile(e,r){return new K((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Li,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new dd(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{const i=WC(n.target.error);this.V.reject(new dd(e,i))}}static open(e,r,n,i){try{return new S0(r,e.transaction(i,n))}catch(s){throw new dd(r,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(te("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new C9(r)}}class Ra{constructor(e,r,n){this.name=e,this.version=r,this.p=n,Ra.S(Jt())===12.2&&Lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return te("SimpleDb","Removing database:",e),Ro(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!c4())return!1;if(Ra.v())return!0;const e=Jt(),r=Ra.S(e),n=0<r&&r<10,i=T4(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(te("SimpleDb","Opening database:",this.name),this.db=await new Promise((r,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;r(a)},i.onblocked=()=>{n(new dd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?n(new fe(X.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?n(new fe(X.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):n(new dd(e,a))},i.onupgradeneeded=s=>{te("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.O(a,i.transaction,s.oldVersion,this.version).next(()=>{te("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=r=>this.N(r)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,i){const s=r==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const o=S0.open(this.db,e,s?"readonly":"readwrite",n),A=i(o).next(l=>(o.g(),l)).catch(l=>(o.abort(l),K.reject(l))).toPromise();return A.catch(()=>{}),await o.m,A}catch(o){const A=o,l=A.name!=="FirebaseError"&&a<3;if(te("SimpleDb","Transaction failed with error:",A.message,"Retrying:",l),this.close(),!l)return Promise.reject(A)}}}close(){this.db&&this.db.close(),this.db=void 0}}function T4(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class B9{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ro(this.B.delete())}}class dd extends fe{constructor(e,r){super(X.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function uo(t){return t.name==="IndexedDbTransactionError"}class C9{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(te("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(te("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ro(n)}add(e){return te("SimpleDb","ADD",this.store.name,e,e),Ro(this.store.add(e))}get(e){return Ro(this.store.get(e)).next(r=>(r===void 0&&(r=null),te("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return te("SimpleDb","DELETE",this.store.name,e),Ro(this.store.delete(e))}count(){return te("SimpleDb","COUNT",this.store.name),Ro(this.store.count())}U(e,r){const n=this.options(e,r),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(n.range);return new K((a,o)=>{s.onerror=A=>{o(A.target.error)},s.onsuccess=A=>{a(A.target.result)}})}{const s=this.cursor(n),a=[];return this.W(s,(o,A)=>{a.push(A)}).next(()=>a)}}G(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new K((i,s)=>{n.onerror=a=>{s(a.target.error)},n.onsuccess=a=>{i(a.target.result)}})}j(e,r){te("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.H=!1;const i=this.cursor(n);return this.W(i,(s,a,o)=>o.delete())}J(e,r){let n;r?n=e:(n={},r=e);const i=this.cursor(n);return this.W(i,r)}Y(e){const r=this.cursor({});return new K((n,i)=>{r.onerror=s=>{const a=WC(s.target.error);i(a)},r.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(o=>{o?a.continue():n()}):n()}})}W(e,r){const n=[];return new K((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const A=new B9(o),l=r(o.primaryKey,o.value,A);if(l instanceof K){const c=l.catch(d=>(A.done(),K.reject(d)));n.push(c)}A.isDone?i():A.K===null?o.continue():o.continue(A.K)}}).next(()=>K.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Ro(t){return new K((e,r)=>{t.onsuccess=n=>{const i=n.target.result;e(i)},t.onerror=n=>{const i=WC(n.target.error);r(i)}})}let dT=!1;function WC(t){const e=Ra.S(Jt());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dT||(dT=!0,setTimeout(()=>{throw n},0)),n}}return t}class E9{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){te("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{te("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(r){uo(r)?te("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):await UA(r)}await this.X(6e4)})}}class _9{constructor(e,r){this.localStore=e,this.persistence=r}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.te(r,e))}te(e,r){const n=new Set;let i=r,s=!0;return K.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!n.has(a))return te("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next(o=>{i-=o,n.add(a)});s=!1})).next(()=>r-i)}ne(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(i=>this.localStore.localDocuments.getNextDocuments(e,r,i,n).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.re(i,s)).next(o=>(te("IndexBackfiller",`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,r,o))).next(()=>a.size)}))}re(e,r){let n=e;return r.changes.forEach((i,s)=>{const a=_4(s);GC(a,n)>0&&(n=a)}),new Sn(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}zn.oe=-1;function T0(t){return t==null}function Jd(t){return t===0&&1/t==-1/0}function I9(t){return typeof t=="number"&&Number.isInteger(t)&&!Jd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=fT(e)),e=S9(t.get(r),e);return fT(e)}function S9(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case"":r+="";break;default:r+=s}}return r}function fT(t){return t+""}function Oi(t){const e=t.length;if(we(e>=2),e===2)return we(t.charAt(0)===""&&t.charAt(1)===""),qe.emptyPath();const r=e-2,n=[];let i="";for(let s=0;s<e;){const a=t.indexOf("",s);switch((a<0||a>r)&&ve(),t.charAt(a+1)){case"":const o=t.substring(s,a);let A;i.length===0?A=o:(i+=o,A=i,i=""),n.push(A);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:ve()}s=a+2}return new qe(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t,e){return[t,Kr(e)]}function F4(t,e,r){return[t,Kr(e),r]}const T9={},F9=["prefixPath","collectionGroup","readTime","documentId"],N9=["prefixPath","collectionGroup","documentId"],U9=["collectionGroup","readTime","prefixPath","documentId"],P9=["canonicalId","targetId"],k9=["targetId","path"],Q9=["path","targetId"],O9=["collectionId","parent"],j9=["indexId","uid"],D9=["uid","sequenceNumber"],R9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],M9=["indexId","uid","orderedDocumentKey"],L9=["userId","collectionPath","documentId"],H9=["userId","collectionPath","largestBatchId"],V9=["userId","collectionGroup","largestBatchId"],N4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],K9=[...N4,"documentOverlays"],U4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],P4=U4,zC=[...P4,"indexConfiguration","indexState","indexEntries"],$9=zC,G9=[...zC,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb extends S4{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Zt(t,e){const r=Te(t);return Ra.F(r._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Uc(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function k4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,r){this.comparator=e,this.root=r||yr.EMPTY}insert(e,r){return new Bt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hh(this.root,e,this.comparator,!0)}}class Hh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yr{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??yr.RED,this.left=i??yr.EMPTY,this.right=s??yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new yr(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return yr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1;yr.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,r,n,i,s){return this}insert(e,r,n){return new yr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new mT(this.data.getIterator())}getIteratorFrom(e){return new mT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof tt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new tt(this.comparator);return r.data=e,r}}class mT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function XA(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new Yn([])}unionWith(e){let r=new tt(yt.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Yn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return rc(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Q4("Invalid base64 string: "+s):s}}(e);return new Mt(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Mt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const W9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(t){if(we(!!t),typeof t=="string"){let e=0;const r=W9.exec(t);if(we(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xa(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function XC(t){const e=t.mapValue.fields.__previous_value__;return YC(e)?XC(e):e}function Zd(t){const e=Qs(t.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,r,n,i,s,a,o,A,l){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=A,this.useFetchStreams=l}}class qa{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new qa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},rm={nullValue:"NULL_VALUE"};function vA(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?YC(t)?4:O4(t)?9007199254740991:F0(t)?10:11:ve()}function $i(t,e){if(t===e)return!0;const r=vA(t);if(r!==vA(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zd(t).isEqual(Zd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Qs(i.timestampValue),o=Qs(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Xa(i.bytesValue).isEqual(Xa(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return pt(i.geoPointValue.latitude)===pt(s.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return pt(i.integerValue)===pt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=pt(i.doubleValue),o=pt(s.doubleValue);return a===o?Jd(a)===Jd(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return rc(t.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(gT(a)!==gT(o))return!1;for(const A in a)if(a.hasOwnProperty(A)&&(o[A]===void 0||!$i(a[A],o[A])))return!1;return!0}(t,e);default:return ve()}}function ef(t,e){return(t.values||[]).find(r=>$i(r,e))!==void 0}function Ja(t,e){if(t===e)return 0;const r=vA(t),n=vA(e);if(r!==n)return Fe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=pt(s.integerValue||s.doubleValue),A=pt(a.integerValue||a.doubleValue);return o<A?-1:o>A?1:o===A?0:isNaN(o)?isNaN(A)?0:-1:1}(t,e);case 3:return pT(t.timestampValue,e.timestampValue);case 4:return pT(Zd(t),Zd(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Xa(s),A=Xa(a);return o.compareTo(A)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),A=a.split("/");for(let l=0;l<o.length&&l<A.length;l++){const c=Fe(o[l],A[l]);if(c!==0)return c}return Fe(o.length,A.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Fe(pt(s.latitude),pt(a.latitude));return o!==0?o:Fe(pt(s.longitude),pt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return vT(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,A,l,c;const d=s.fields||{},f=a.fields||{},g=(o=d.value)===null||o===void 0?void 0:o.arrayValue,m=(A=f.value)===null||A===void 0?void 0:A.arrayValue,p=Fe(((l=g==null?void 0:g.values)===null||l===void 0?void 0:l.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return p!==0?p:vT(g,m)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===ba.mapValue&&a===ba.mapValue)return 0;if(s===ba.mapValue)return 1;if(a===ba.mapValue)return-1;const o=s.fields||{},A=Object.keys(o),l=a.fields||{},c=Object.keys(l);A.sort(),c.sort();for(let d=0;d<A.length&&d<c.length;++d){const f=Fe(A[d],c[d]);if(f!==0)return f;const g=Ja(o[A[d]],l[c[d]]);if(g!==0)return g}return Fe(A.length,c.length)}(t.mapValue,e.mapValue);default:throw ve()}}function pT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const r=Qs(t),n=Qs(e),i=Fe(r.seconds,n.seconds);return i!==0?i:Fe(r.nanos,n.nanos)}function vT(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Ja(r[i],n[i]);if(s)return s}return Fe(r.length,n.length)}function nc(t){return nb(t)}function nb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Qs(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Xa(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ae.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=nb(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${nb(r.fields[a])}`;return i+"}"}(t.mapValue):ve()}function qC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ib(t){return!!t&&"integerValue"in t}function tf(t){return!!t&&"arrayValue"in t}function yT(t){return!!t&&"nullValue"in t}function wT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nm(t){return!!t&&"mapValue"in t}function F0(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function fd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Uc(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=fd(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=fd(t.arrayValue.values[r]);return e}return Object.assign({},t)}function O4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const j4={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Y9(t){return"nullValue"in t?rm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?qC(qa.empty(),Ae.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?F0(t)?j4:{mapValue:{}}:ve()}function X9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?qC(qa.empty(),Ae.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?j4:"mapValue"in t?F0(t)?{mapValue:{}}:ba:ve()}function xT(t,e){const r=Ja(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function bT(t,e){const r=Ja(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!nm(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=fd(r)}setAll(e){let r=yt.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const A=this.getFieldsMap(r);this.applyChanges(A,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=fd(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());nm(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];nm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Uc(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new tn(fd(this.value))}}function D4(t){const e=[];return Uc(t.fields,(r,n)=>{const i=new yt([r]);if(nm(n)){const s=D4(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Qt(e,0,Ce.min(),Ce.min(),Ce.min(),tn.empty(),0)}static newFoundDocument(e,r,n,i){return new Qt(e,1,r,Ce.min(),n,i,0)}static newNoDocument(e,r){return new Qt(e,2,r,Ce.min(),Ce.min(),tn.empty(),0)}static newUnknownDocument(e,r){return new Qt(e,3,r,Ce.min(),Ce.min(),tn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,r){this.position=e,this.inclusive=r}}function BT(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=Ae.comparator(Ae.fromName(a.referenceValue),r.key):n=Ja(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function CT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!$i(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,r="asc"){this.field=e,this.dir=r}}function q9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{}class Le extends R4{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new J9(e,r,n):r==="array-contains"?new tG(e,n):r==="in"?new $4(e,n):r==="not-in"?new rG(e,n):r==="array-contains-any"?new nG(e,n):new Le(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Z9(e,n):new eG(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ja(r,this.value)):r!==null&&vA(this.value)===vA(r)&&this.matchesComparison(Ja(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class et extends R4{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new et(e,r)}matches(e){return sc(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sc(t){return t.op==="and"}function sb(t){return t.op==="or"}function JC(t){return M4(t)&&sc(t)}function M4(t){for(const e of t.filters)if(e instanceof et)return!1;return!0}function ab(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+nc(t.value);if(JC(t))return t.filters.map(e=>ab(e)).join(",");{const e=t.filters.map(r=>ab(r)).join(",");return`${t.op}(${e})`}}function L4(t,e){return t instanceof Le?function(n,i){return i instanceof Le&&n.op===i.op&&n.field.isEqual(i.field)&&$i(n.value,i.value)}(t,e):t instanceof et?function(n,i){return i instanceof et&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&L4(a,i.filters[o]),!0):!1}(t,e):void ve()}function H4(t,e){const r=t.filters.concat(e);return et.create(r,t.op)}function V4(t){return t instanceof Le?function(r){return`${r.field.canonicalString()} ${r.op} ${nc(r.value)}`}(t):t instanceof et?function(r){return r.op.toString()+" {"+r.getFilters().map(V4).join(" ,")+"}"}(t):"Filter"}class J9 extends Le{constructor(e,r,n){super(e,r,n),this.key=Ae.fromName(n.referenceValue)}matches(e){const r=Ae.comparator(e.key,this.key);return this.matchesComparison(r)}}class Z9 extends Le{constructor(e,r){super(e,"in",r),this.keys=K4("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class eG extends Le{constructor(e,r){super(e,"not-in",r),this.keys=K4("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function K4(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ae.fromName(n.referenceValue))}class tG extends Le{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return tf(r)&&ef(r.arrayValue,this.value)}}class $4 extends Le{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&ef(this.value.arrayValue,r)}}class rG extends Le{constructor(e,r){super(e,"not-in",r)}matches(e){if(ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!ef(this.value.arrayValue,r)}}class nG extends Le{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!tf(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>ef(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function ob(t,e=null,r=[],n=[],i=null,s=null,a=null){return new iG(t,e,r,n,i,s,a)}function yA(t){const e=Te(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>ab(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),T0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>nc(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>nc(n)).join(",")),e.ue=r}return e.ue}function Tf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!q9(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!L4(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CT(t.startAt,e.startAt)&&CT(t.endAt,e.endAt)}function Xm(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function qm(t,e){return t.filters.filter(r=>r instanceof Le&&r.field.isEqual(e))}function ET(t,e,r){let n=rm,i=!0;for(const s of qm(t,e)){let a=rm,o=!0;switch(s.op){case"<":case"<=":a=Y9(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=rm}xT({value:n,inclusive:i},{value:a,inclusive:o})<0&&(n=a,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=r.position[s];xT({value:n,inclusive:i},{value:a,inclusive:r.inclusive})<0&&(n=a,i=r.inclusive);break}}return{value:n,inclusive:i}}function _T(t,e,r){let n=ba,i=!0;for(const s of qm(t,e)){let a=ba,o=!0;switch(s.op){case">=":case">":a=X9(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=ba}bT({value:n,inclusive:i},{value:a,inclusive:o})>0&&(n=a,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=r.position[s];bT({value:n,inclusive:i},{value:a,inclusive:r.inclusive})>0&&(n=a,i=r.inclusive);break}}return{value:n,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,A=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=A,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function sG(t,e,r,n,i,s,a,o){return new N0(t,e,r,n,i,s,a,o)}function Ff(t){return new N0(t)}function IT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aG(t){return t.collectionGroup!==null}function hd(t){const e=Te(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new tt(yt.comparator);return a.filters.forEach(A=>{A.getFlattenedFilters().forEach(l=>{l.isInequality()&&(o=o.add(l.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ym(s,n))}),r.has(yt.keyField().canonicalString())||e.ce.push(new Ym(yt.keyField(),n))}return e.ce}function ni(t){const e=Te(t);return e.le||(e.le=oG(e,hd(t))),e.le}function oG(t,e){if(t.limitType==="F")return ob(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ym(i.field,s)});const r=t.endAt?new ic(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new ic(t.startAt.position,t.startAt.inclusive):null;return ob(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Jm(t,e,r){return new N0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function U0(t,e){return Tf(ni(t),ni(e))&&t.limitType===e.limitType}function G4(t){return`${yA(ni(t))}|lt:${t.limitType}`}function cl(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>V4(i)).join(", ")}]`),T0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>nc(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>nc(i)).join(",")),`Target(${n})`}(ni(t))}; limitType=${t.limitType})`}function Nf(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Ae.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of hd(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,A){const l=BT(a,o,A);return a.inclusive?l<=0:l<0}(n.startAt,hd(n),i)||n.endAt&&!function(a,o,A){const l=BT(a,o,A);return a.inclusive?l>=0:l>0}(n.endAt,hd(n),i))}(t,e)}function AG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function W4(t){return(e,r)=>{let n=!1;for(const i of hd(t)){const s=lG(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function lG(t,e,r){const n=t.field.isKeyField()?Ae.comparator(e.key,r.key):function(s,a,o){const A=a.data.field(s),l=o.data.field(s);return A!==null&&l!==null?Ja(A,l):ve()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Uc(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return k4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG=new Bt(Ae.comparator);function Bn(){return cG}const z4=new Bt(Ae.comparator);function $u(...t){let e=z4;for(const r of t)e=e.insert(r.key,r);return e}function Y4(t){let e=z4;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ji(){return gd()}function X4(){return gd()}function gd(){return new fo(t=>t.toString(),(t,e)=>t.isEqual(e))}const uG=new Bt(Ae.comparator),dG=new tt(Ae.comparator);function Pe(...t){let e=dG;for(const r of t)e=e.add(r);return e}const fG=new tt(Fe);function hG(){return fG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(e)?"-0":e}}function q4(t){return{integerValue:""+t}}function gG(t,e){return I9(e)?q4(e):ZC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(){this._=void 0}}function mG(t,e,r){return t instanceof ac?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&YC(s)&&(s=XC(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(r,e):t instanceof oc?Z4(t,e):t instanceof Ac?eO(t,e):function(i,s){const a=J4(i,s),o=ST(a)+ST(i.Pe);return ib(a)&&ib(i.Pe)?q4(o):ZC(i.serializer,o)}(t,e)}function pG(t,e,r){return t instanceof oc?Z4(t,e):t instanceof Ac?eO(t,e):r}function J4(t,e){return t instanceof rf?function(n){return ib(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class ac extends P0{}class oc extends P0{constructor(e){super(),this.elements=e}}function Z4(t,e){const r=tO(e);for(const n of t.elements)r.some(i=>$i(i,n))||r.push(n);return{arrayValue:{values:r}}}class Ac extends P0{constructor(e){super(),this.elements=e}}function eO(t,e){let r=tO(e);for(const n of t.elements)r=r.filter(i=>!$i(i,n));return{arrayValue:{values:r}}}class rf extends P0{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function ST(t){return pt(t.integerValue||t.doubleValue)}function tO(t){return tf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,r){this.field=e,this.transform=r}}function vG(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof oc&&i instanceof oc||n instanceof Ac&&i instanceof Ac?rc(n.elements,i.elements,$i):n instanceof rf&&i instanceof rf?$i(n.Pe,i.Pe):n instanceof ac&&i instanceof ac}(t.transform,e.transform)}class yG{constructor(e,r){this.version=e,this.transformResults=r}}class Cn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function im(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class k0{}function nO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new e1(t.key,Cn.none()):new Pc(t.key,t.data,Cn.none());{const r=t.data,n=tn.empty();let i=new tt(yt.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new ho(t.key,n,new Yn(i.toArray()),Cn.none())}}function wG(t,e,r){t instanceof Pc?function(i,s,a){const o=i.value.clone(),A=FT(i.fieldTransforms,s,a.transformResults);o.setAll(A),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof ho?function(i,s,a){if(!im(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=FT(i.fieldTransforms,s,a.transformResults),A=s.data;A.setAll(iO(i)),A.setAll(o),s.convertToFoundDocument(a.version,A).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function md(t,e,r,n){return t instanceof Pc?function(s,a,o,A){if(!im(s.precondition,a))return o;const l=s.value.clone(),c=NT(s.fieldTransforms,A,a);return l.setAll(c),a.convertToFoundDocument(a.version,l).setHasLocalMutations(),null}(t,e,r,n):t instanceof ho?function(s,a,o,A){if(!im(s.precondition,a))return o;const l=NT(s.fieldTransforms,A,a),c=a.data;return c.setAll(iO(s)),c.setAll(l),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(s,a,o){return im(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function xG(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=J4(n.transform,i||null);s!=null&&(r===null&&(r=tn.empty()),r.set(n.field,s))}return r||null}function TT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&rc(n,i,(s,a)=>vG(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pc extends k0{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ho extends k0{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function iO(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function FT(t,e,r){const n=new Map;we(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,pG(a,o,r[i]))}return n}function NT(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,mG(s,a,e))}return n}class e1 extends k0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sO extends k0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&wG(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=md(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=md(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=X4();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const A=nO(a,o);A!==null&&n.set(i.key,A),a.isValidDocument()||a.convertToNoDocument(Ce.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Pe())}isEqual(e){return this.batchId===e.batchId&&rc(this.mutations,e.mutations,(r,n)=>TT(r,n))&&rc(this.baseMutations,e.baseMutations,(r,n)=>TT(r,n))}}class r1{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){we(e.mutations.length===n.length);let i=function(){return uG}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new r1(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,He;function BG(t){switch(t){default:return ve();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function aO(t){if(t===void 0)return Lr("GRPC error has no .code"),X.UNKNOWN;switch(t){case Vt.OK:return X.OK;case Vt.CANCELLED:return X.CANCELLED;case Vt.UNKNOWN:return X.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return X.INTERNAL;case Vt.UNAVAILABLE:return X.UNAVAILABLE;case Vt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Vt.NOT_FOUND:return X.NOT_FOUND;case Vt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Vt.ABORTED:return X.ABORTED;case Vt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Vt.DATA_LOSS:return X.DATA_LOSS;default:return ve()}}(He=Vt||(Vt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG=new rA([4294967295,4294967295],0);function UT(t){const e=CG().encode(t),r=new p4;return r.update(e),new Uint8Array(r.digest())}function PT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new rA([r,n],0),new rA([i,s],0)]}class i1{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Gu(`Invalid padding: ${r}`);if(n<0)throw new Gu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Gu(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Gu(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=rA.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(rA.fromNumber(n)));return i.compare(EG)===1&&(i=new rA([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=UT(e),[n,i]=PT(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new i1(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const r=UT(e),[n,i]=PT(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Uf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Q0(Ce.min(),i,new Bt(Fe),Bn(),Pe())}}class Uf{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Uf(n,r,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class oO{constructor(e,r){this.targetId=e,this.me=r}}class AO{constructor(e,r,n=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class kT{constructor(){this.fe=0,this.ge=OT(),this.pe=Mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),r=Pe(),n=Pe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ve()}}),new Uf(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=OT()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,we(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _G{constructor(e){this.Le=e,this.Be=new Map,this.ke=Bn(),this.qe=QT(),this.Qe=new Bt(Fe)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(Xm(s))if(n===0){const a=new Ae(s.path);this.Ue(r,a,Qt.newNoDocument(a,Ce.min()))}else we(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),A=o?this.Xe(o,e,a):1;if(A!==0){this.je(r);const l=A===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,l)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=Xa(n).toUint8Array()}catch(A){if(A instanceof Q4)return Ya("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw A}try{o=new i1(a,i,s)}catch(A){return Ya(A instanceof Gu?"BloomFilter error: ":"Applying bloom filter failed: ",A),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&Xm(o.target)){const A=new Ae(o.target.path);this.ke.get(A)!==null||this.it(a,A)||this.Ue(a,A,Qt.newNoDocument(A,e))}s.be&&(r.set(a,s.ve()),s.Ce())}});let n=Pe();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(A=>{const l=this.Je(A);return!l||l.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new Q0(e,r,this.Qe,this.ke,n);return this.ke=Bn(),this.qe=QT(),this.Qe=new Bt(Fe),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new kT,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new tt(Fe),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||te("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new kT),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function QT(){return new Bt(Ae.comparator)}function OT(){return new Bt(Ae.comparator)}const IG={asc:"ASCENDING",desc:"DESCENDING"},SG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TG={and:"AND",or:"OR"};class FG{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Ab(t,e){return t.useProto3Json||T0(e)?e:{value:e}}function lc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NG(t,e){return lc(t,e.toTimestamp())}function $r(t){return we(!!t),Ce.fromTimestamp(function(r){const n=Qs(r);return new bt(n.seconds,n.nanos)}(t))}function s1(t,e){return lb(t,e).canonicalString()}function lb(t,e){const r=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function cO(t){const e=qe.fromString(t);return we(yO(e)),e}function Zm(t,e){return s1(t.databaseId,e.path)}function nA(t,e){const r=cO(e);if(r.get(1)!==t.databaseId.projectId)throw new fe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new fe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ae(fO(r))}function uO(t,e){return s1(t.databaseId,e)}function dO(t){const e=cO(t);return e.length===4?qe.emptyPath():fO(e)}function cb(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fO(t){return we(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function jT(t,e,r){return{name:Zm(t,e),fields:r.value.mapValue.fields}}function UG(t,e,r){const n=nA(t,e.name),i=$r(e.updateTime),s=e.createTime?$r(e.createTime):Ce.min(),a=new tn({mapValue:{fields:e.fields}}),o=Qt.newFoundDocument(n,i,s,a);return r&&o.setHasCommittedMutations(),r?o.setHasCommittedMutations():o}function PG(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(we(c===void 0||typeof c=="string"),Mt.fromBase64String(c||"")):(we(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Mt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(l){const c=l.code===void 0?X.UNKNOWN:aO(l.code);return new fe(c,l.message||"")}(a);r=new AO(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=nA(t,n.document.name),s=$r(n.document.updateTime),a=n.document.createTime?$r(n.document.createTime):Ce.min(),o=new tn({mapValue:{fields:n.document.fields}}),A=Qt.newFoundDocument(i,s,a,o),l=n.targetIds||[],c=n.removedTargetIds||[];r=new sm(l,c,A.key,A)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=nA(t,n.document),s=n.readTime?$r(n.readTime):Ce.min(),a=Qt.newNoDocument(i,s),o=n.removedTargetIds||[];r=new sm([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=nA(t,n.document),s=n.removedTargetIds||[];r=new sm([],s,i,null)}else{if(!("filter"in e))return ve();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new bG(i,s),o=n.targetId;r=new oO(o,a)}}return r}function ep(t,e){let r;if(e instanceof Pc)r={update:jT(t,e.key,e.value)};else if(e instanceof e1)r={delete:Zm(t,e.key)};else if(e instanceof ho)r={update:jT(t,e.key,e.data),updateMask:RG(e.fieldMask)};else{if(!(e instanceof sO))return ve();r={verify:Zm(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof ac)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof oc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ac)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof rf)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw ve()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:NG(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ve()}(t,e.precondition)),r}function ub(t,e){const r=e.currentDocument?function(s){return s.updateTime!==void 0?Cn.updateTime($r(s.updateTime)):s.exists!==void 0?Cn.exists(s.exists):Cn.none()}(e.currentDocument):Cn.none(),n=e.updateTransforms?e.updateTransforms.map(i=>function(a,o){let A=null;if("setToServerValue"in o)we(o.setToServerValue==="REQUEST_TIME"),A=new ac;else if("appendMissingElements"in o){const c=o.appendMissingElements.values||[];A=new oc(c)}else if("removeAllFromArray"in o){const c=o.removeAllFromArray.values||[];A=new Ac(c)}else"increment"in o?A=new rf(a,o.increment):ve();const l=yt.fromServerFormat(o.fieldPath);return new rO(l,A)}(t,i)):[];if(e.update){e.update.name;const i=nA(t,e.update.name),s=new tn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(A){const l=A.fieldPaths||[];return new Yn(l.map(c=>yt.fromServerFormat(c)))}(e.updateMask);return new ho(i,s,a,r,n)}return new Pc(i,s,r,n)}if(e.delete){const i=nA(t,e.delete);return new e1(i,r)}if(e.verify){const i=nA(t,e.verify);return new sO(i,r)}return ve()}function kG(t,e){return t&&t.length>0?(we(e!==void 0),t.map(r=>function(i,s){let a=i.updateTime?$r(i.updateTime):$r(s);return a.isEqual(Ce.min())&&(a=$r(s)),new yG(a,i.transformResults||[])}(r,e))):[]}function hO(t,e){return{documents:[uO(t,e.path)]}}function gO(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=uO(t,i);const s=function(l){if(l.length!==0)return vO(et.create(l,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(l){if(l.length!==0)return l.map(c=>function(f){return{field:ul(f.field),direction:OG(f.dir)}}(c))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=Ab(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:r,parent:i}}function mO(t){let e=dO(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){we(n===1);const c=r.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];r.where&&(s=function(d){const f=pO(d);return f instanceof et&&JC(f)?f.getFilters():[f]}(r.where));let a=[];r.orderBy&&(a=function(d){return d.map(f=>function(m){return new Ym(dl(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(r.orderBy));let o=null;r.limit&&(o=function(d){let f;return f=typeof d=="object"?d.value:d,T0(f)?null:f}(r.limit));let A=null;r.startAt&&(A=function(d){const f=!!d.before,g=d.values||[];return new ic(g,f)}(r.startAt));let l=null;return r.endAt&&(l=function(d){const f=!d.before,g=d.values||[];return new ic(g,f)}(r.endAt)),sG(e,i,a,s,o,"F",A,l)}function QG(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function pO(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=dl(r.unaryFilter.field);return Le.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=dl(r.unaryFilter.field);return Le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=dl(r.unaryFilter.field);return Le.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=dl(r.unaryFilter.field);return Le.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(r){return Le.create(dl(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return et.create(r.compositeFilter.filters.map(n=>pO(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ve()}}(r.compositeFilter.op))}(t):ve()}function OG(t){return IG[t]}function jG(t){return SG[t]}function DG(t){return TG[t]}function ul(t){return{fieldPath:t.canonicalString()}}function dl(t){return yt.fromServerFormat(t.fieldPath)}function vO(t){return t instanceof Le?function(r){if(r.op==="=="){if(wT(r.value))return{unaryFilter:{field:ul(r.field),op:"IS_NAN"}};if(yT(r.value))return{unaryFilter:{field:ul(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(wT(r.value))return{unaryFilter:{field:ul(r.field),op:"IS_NOT_NAN"}};if(yT(r.value))return{unaryFilter:{field:ul(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ul(r.field),op:jG(r.op),value:r.value}}}(t):t instanceof et?function(r){const n=r.getFilters().map(i=>vO(i));return n.length===1?n[0]:{compositeFilter:{op:DG(r.op),filters:n}}}(t):ve()}function RG(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function yO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,r,n,i,s=Ce.min(),a=Ce.min(),o=Mt.EMPTY_BYTE_STRING,A=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=A}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.ct=e}}function MG(t,e){let r;if(e.document)r=UG(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=Ae.fromSegments(e.noDocument.path),i=xA(e.noDocument.readTime);r=Qt.newNoDocument(n,i),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return ve();{const n=Ae.fromSegments(e.unknownDocument.path),i=xA(e.unknownDocument.version);r=Qt.newUnknownDocument(n,i)}}return e.readTime&&r.setReadTime(function(i){const s=new bt(i[0],i[1]);return Ce.fromTimestamp(s)}(e.readTime)),r}function DT(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:tp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(s,a){return{name:Zm(s,a.key),fields:a.data.value.mapValue.fields,updateTime:lc(s,a.version.toTimestamp()),createTime:lc(s,a.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:wA(e.version)};else{if(!e.isUnknownDocument())return ve();n.unknownDocument={path:r.path.toArray(),version:wA(e.version)}}return n}function tp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function wA(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function xA(t){const e=new bt(t.seconds,t.nanoseconds);return Ce.fromTimestamp(e)}function Mo(t,e){const r=(e.baseMutations||[]).map(s=>ub(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const n=e.mutations.map(s=>ub(t.ct,s)),i=bt.fromMillis(e.localWriteTimeMs);return new t1(e.batchId,i,r,n)}function Wu(t){const e=xA(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?xA(t.lastLimboFreeSnapshotVersion):Ce.min();let n;return n=function(s){return s.documents!==void 0}(t.query)?function(s){return we(s.documents.length===1),ni(Ff(dO(s.documents[0])))}(t.query):function(s){return ni(mO(s))}(t.query),new vs(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,Mt.fromBase64String(t.resumeToken))}function xO(t,e){const r=wA(e.snapshotVersion),n=wA(e.lastLimboFreeSnapshotVersion);let i;i=Xm(e.target)?hO(t.ct,e.target):gO(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:yA(e.target),readTime:r,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function bO(t){const e=mO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jm(e,e.limit,"L"):e}function Jy(t,e){return new n1(e.largestBatchId,ub(t.ct,e.overlayMutation))}function RT(t,e){const r=e.path.lastSegment();return[t,Kr(e.path.popLast()),r]}function MT(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:wA(n.readTime),documentKey:Kr(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{getBundleMetadata(e,r){return LT(e).get(r).next(n=>{if(n)return function(s){return{id:s.bundleId,createTime:xA(s.createTime),version:s.version}}(n)})}saveBundleMetadata(e,r){return LT(e).put(function(i){return{bundleId:i.id,createTime:wA($r(i.createTime)),version:i.version}}(r))}getNamedQuery(e,r){return HT(e).get(r).next(n=>{if(n)return function(s){return{name:s.name,query:bO(s.bundledQuery),readTime:xA(s.readTime)}}(n)})}saveNamedQuery(e,r){return HT(e).put(function(i){return{name:i.name,readTime:wA($r(i.readTime)),bundledQuery:i.bundledQuery}}(r))}}function LT(t){return Zt(t,"bundles")}function HT(t){return Zt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){const n=r.uid||"";return new O0(e,n)}getOverlay(e,r){return wu(e).get(RT(this.userId,r)).next(n=>n?Jy(this.serializer,n):null)}getOverlays(e,r){const n=ji();return K.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){const i=[];return n.forEach((s,a)=>{const o=new n1(r,a);i.push(this.ht(e,o))}),K.waitFor(i)}removeOverlaysForBatchId(e,r,n){const i=new Set;r.forEach(a=>i.add(Kr(a.getCollectionPath())));const s=[];return i.forEach(a=>{const o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,n+1],!1,!0);s.push(wu(e).j("collectionPathOverlayIndex",o))}),K.waitFor(s)}getOverlaysForCollection(e,r,n){const i=ji(),s=Kr(r),a=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return wu(e).U("collectionPathOverlayIndex",a).next(o=>{for(const A of o){const l=Jy(this.serializer,A);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,r,n,i){const s=ji();let a;const o=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return wu(e).J({index:"collectionGroupOverlayIndex",range:o},(A,l,c)=>{const d=Jy(this.serializer,l);s.size()<i||d.largestBatchId===a?(s.set(d.getKey(),d),a=d.largestBatchId):c.done()}).next(()=>s)}ht(e,r){return wu(e).put(function(i,s,a){const[o,A,l]=RT(s,a.mutation.key);return{userId:s,collectionPath:A,documentId:l,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:ep(i.ct,a.mutation)}}(this.serializer,this.userId,r))}}function wu(t){return Zt(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{Pt(e){return Zt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const n=r==null?void 0:r.value;return n?Mt.fromUint8Array(n):Mt.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(pt(e.integerValue));else if("doubleValue"in e){const n=pt(e.doubleValue);isNaN(n)?this.dt(r,13):(this.dt(r,15),Jd(n)?r.At(0):r.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(r,20),typeof n=="string"&&(n=Qs(n)),r.Rt(`${n.seconds||""}`),r.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Xa(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(r,45),r.At(n.latitude||0),r.At(n.longitude||0)}else"mapValue"in e?O4(e)?this.dt(r,Number.MAX_SAFE_INTEGER):F0(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):ve()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const n=e.fields||{};this.dt(r,55);for(const i of Object.keys(n))this.Vt(i,r),this.Tt(n[i],r)}wt(e,r){var n,i;const s=e.fields||{};this.dt(r,53);const a="value",o=((i=(n=s[a].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.length)||0;this.dt(r,15),r.At(pt(o)),this.Vt(a,r),this.Tt(s[a],r)}bt(e,r){const n=e.values||[];this.dt(r,50);for(const i of n)this.Tt(i,r)}yt(e,r){this.dt(r,37),Ae.fromName(e).path.forEach(n=>{this.dt(r,60),this.Dt(n,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}Lo.vt=new Lo;function VG(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function VT(t){const e=64-function(n){let i=0;for(let s=0;s<8;++s){const a=VG(255&n[s]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class KG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ft(n.value),n=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ot(n.value),n=r.next();this.Nt()}Lt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const i=r.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const i=r.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const r=this.qt(e),n=VT(r);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=255&r[i]}Kt(e){const r=this.qt(e),n=VT(r);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=~(255&r[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)}(e),n=(128&r[0])!=0;r[0]^=n?255:128;for(let i=1;i<r.length;++i)r[i]^=n?255:0;return r}Ft(e){const r=255&e;r===0?(this.Ut(0),this.Ut(255)):r===255?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;r===0?(this.Gt(0),this.Gt(255)):r===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class $G{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class GG{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class xu{constructor(){this.jt=new KG,this.Ht=new $G(this.jt),this.Jt=new GG(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,r,n,i){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=i}Zt(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Ho(this.indexId,this.documentKey,this.arrayValue,n)}}function na(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=KT(t.arrayValue,e.arrayValue),r!==0?r:(r=KT(t.directionalValue,e.directionalValue),r!==0?r:Ae.comparator(t.documentKey,e.documentKey)))}function KT(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.Xt=new tt((r,n)=>yt.comparator(r.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const n=r;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(we(e.collectionGroup===this.collectionId),this.nn)return!1;const r=tb(e);if(r!==void 0&&!this.sn(r))return!1;const n=Qo(e);let i=new Set,s=0,a=0;for(;s<n.length&&this.sn(n[s]);++s)i=i.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.Xt.size>0){const o=this.Xt.getIterator().getNext();if(!i.has(o.field.canonicalString())){const A=n[s];if(!this.on(o,A)||!this._n(this.en[a++],A))return!1}++s}for(;s<n.length;++s){const o=n[s];if(a>=this.en.length||!this._n(this.en[a++],o))return!1}return!0}an(){if(this.nn)return null;let e=new tt(yt.comparator);const r=[];for(const n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new em(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new em(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new em(n.field,n.dir==="asc"?0:1)));return new zm(zm.UNKNOWN_ID,this.collectionId,r,qd.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t){var e,r;if(we(t instanceof Le||t instanceof et),t instanceof Le){if(t instanceof $4){const i=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(s=>Le.create(t.field,"==",s)))||[];return et.create(i,"or")}return t}const n=t.filters.map(i=>BO(i));return et.create(n,t.op)}function WG(t){if(t.getFilters().length===0)return[];const e=hb(BO(t));return we(CO(e)),db(e)||fb(e)?[e]:e.getFilters()}function db(t){return t instanceof Le}function fb(t){return t instanceof et&&JC(t)}function CO(t){return db(t)||fb(t)||function(r){if(r instanceof et&&sb(r)){for(const n of r.getFilters())if(!db(n)&&!fb(n))return!1;return!0}return!1}(t)}function hb(t){if(we(t instanceof Le||t instanceof et),t instanceof Le)return t;if(t.filters.length===1)return hb(t.filters[0]);const e=t.filters.map(n=>hb(n));let r=et.create(e,t.op);return r=rp(r),CO(r)?r:(we(r instanceof et),we(sc(r)),we(r.filters.length>1),r.filters.reduce((n,i)=>a1(n,i)))}function a1(t,e){let r;return we(t instanceof Le||t instanceof et),we(e instanceof Le||e instanceof et),r=t instanceof Le?e instanceof Le?function(i,s){return et.create([i,s],"and")}(t,e):GT(t,e):e instanceof Le?GT(e,t):function(i,s){if(we(i.filters.length>0&&s.filters.length>0),sc(i)&&sc(s))return H4(i,s.getFilters());const a=sb(i)?i:s,o=sb(i)?s:i,A=a.filters.map(l=>a1(l,o));return et.create(A,"or")}(t,e),rp(r)}function GT(t,e){if(sc(e))return H4(e,t.getFilters());{const r=e.filters.map(n=>a1(t,n));return et.create(r,"or")}}function rp(t){if(we(t instanceof Le||t instanceof et),t instanceof Le)return t;const e=t.getFilters();if(e.length===1)return rp(e[0]);if(M4(t))return t;const r=e.map(i=>rp(i)),n=[];return r.forEach(i=>{i instanceof Le?n.push(i):i instanceof et&&(i.op===t.op?n.push(...i.filters):n.push(i))}),n.length===1?n[0]:et.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(){this.un=new o1}addToCollectionParentIndex(e,r){return this.un.add(r),K.resolve()}getCollectionParents(e,r){return K.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return K.resolve()}deleteFieldIndex(e,r){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,r){return K.resolve()}getDocumentsMatchingTarget(e,r){return K.resolve(null)}getIndexType(e,r){return K.resolve(0)}getFieldIndexes(e,r){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,r){return K.resolve(Sn.min())}getMinOffsetFromCollectionGroup(e,r){return K.resolve(Sn.min())}updateCollectionGroup(e,r,n){return K.resolve()}updateIndexEntries(e,r){return K.resolve()}}class o1{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new tt(qe.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new tt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Uint8Array(0);class YG{constructor(e,r){this.databaseId=r,this.cn=new o1,this.ln=new fo(n=>yA(n),(n,i)=>Tf(n,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const n=r.lastSegment(),i=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const s={collectionId:n,parent:Kr(i)};return WT(e).put(s)}return K.resolve()}getCollectionParents(e,r){const n=[],i=IDBKeyRange.bound([r,""],[E4(r),""],!1,!0);return WT(e).U(i).next(s=>{for(const a of s){if(a.collectionId!==r)break;n.push(Oi(a.parent))}return n})}addFieldIndex(e,r){const n=bu(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])}}(r);delete i.indexId;const s=n.add(i);if(r.indexState){const a=JA(e);return s.next(o=>{a.put(MT(o,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return s.next()}deleteFieldIndex(e,r){const n=bu(e),i=JA(e),s=qA(e);return n.delete(r.indexId).next(()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=bu(e),n=qA(e),i=JA(e);return r.j().next(()=>n.j()).next(()=>i.j())}createTargetIndexes(e,r){return K.forEach(this.hn(r),n=>this.getIndexType(e,n).next(i=>{if(i===0||i===1){const s=new $T(n).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,r){const n=qA(e);let i=!0;const s=new Map;return K.forEach(this.hn(r),a=>this.Pn(e,a).next(o=>{i&&(i=!!o),s.set(a,o)})).next(()=>{if(i){let a=Pe();const o=[];return K.forEach(s,(A,l)=>{te("IndexedDbIndexManager",`Using index ${function(B){return`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map(I=>`${I.fieldPath}:${I.kind}`).join(",")}`}(A)} to execute ${yA(r)}`);const c=function(B,I){const T=tb(I);if(T===void 0)return null;for(const F of qm(B,T.fieldPath))switch(F.op){case"array-contains-any":return F.value.arrayValue.values||[];case"array-contains":return[F.value]}return null}(l,A),d=function(B,I){const T=new Map;for(const F of Qo(I))for(const C of qm(B,F.fieldPath))switch(C.op){case"==":case"in":T.set(F.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return T.set(F.fieldPath.canonicalString(),C.value),Array.from(T.values())}return null}(l,A),f=function(B,I){const T=[];let F=!0;for(const C of Qo(I)){const _=C.kind===0?ET(B,C.fieldPath,B.startAt):_T(B,C.fieldPath,B.startAt);T.push(_.value),F&&(F=_.inclusive)}return new ic(T,F)}(l,A),g=function(B,I){const T=[];let F=!0;for(const C of Qo(I)){const _=C.kind===0?_T(B,C.fieldPath,B.endAt):ET(B,C.fieldPath,B.endAt);T.push(_.value),F&&(F=_.inclusive)}return new ic(T,F)}(l,A),m=this.In(A,l,f),p=this.In(A,l,g),v=this.Tn(A,l,d),y=this.En(A.indexId,c,m,f.inclusive,p,g.inclusive,v);return K.forEach(y,w=>n.G(w,r.limit).next(B=>{B.forEach(I=>{const T=Ae.fromSegments(I.documentKey);a.has(T)||(a=a.add(T),o.push(T))})}))}).next(()=>o)}return K.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(e.filters.length===0?r=[e]:r=WG(et.create(e.filters,"and")).map(n=>ob(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,n,i,s,a,o){const A=(r!=null?r.length:1)*Math.max(n.length,s.length),l=A/(r!=null?r.length:1),c=[];for(let d=0;d<A;++d){const f=r?this.dn(r[d/l]):Vh,g=this.An(e,f,n[d%l],i),m=this.Rn(e,f,s[d%l],a),p=o.map(v=>this.An(e,f,v,!0));c.push(...this.createRange(g,m,p))}return c}An(e,r,n,i){const s=new Ho(e,Ae.empty(),r,n);return i?s:s.Zt()}Rn(e,r,n,i){const s=new Ho(e,Ae.empty(),r,n);return i?s.Zt():s}Pn(e,r){const n=new $T(r),i=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let a=null;for(const o of s)n.rn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a})}getIndexType(e,r){let n=2;const i=this.hn(r);return K.forEach(i,s=>this.Pn(e,s).next(a=>{a?n!==0&&a.fields.length<function(A){let l=new tt(yt.comparator),c=!1;for(const d of A.filters)for(const f of d.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?c=!0:l=l.add(f.field));for(const d of A.orderBy)d.field.isKeyField()||(l=l.add(d.field));return l.size+(c?1:0)}(s)&&(n=1):n=0})).next(()=>function(a){return a.limit!==null}(r)&&i.length>1&&n===2?1:n)}Vn(e,r){const n=new xu;for(const i of Qo(e)){const s=r.data.field(i.fieldPath);if(s==null)return null;const a=n.Yt(i.kind);Lo.vt.It(s,a)}return n.zt()}dn(e){const r=new xu;return Lo.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const n=new xu;return Lo.vt.It(qC(this.databaseId,r),n.Yt(function(s){const a=Qo(s);return a.length===0?0:a[a.length-1].kind}(e))),n.zt()}Tn(e,r,n){if(n===null)return[];let i=[];i.push(new xu);let s=0;for(const a of Qo(e)){const o=n[s++];for(const A of i)if(this.fn(r,a.fieldPath)&&tf(o))i=this.gn(i,a,o);else{const l=A.Yt(a.kind);Lo.vt.It(o,l)}}return this.pn(i)}In(e,r,n){return this.Tn(e,r,n.position)}pn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].zt();return r}gn(e,r,n){const i=[...e],s=[];for(const a of n.arrayValue.values||[])for(const o of i){const A=new xu;A.seed(o.zt()),Lo.vt.It(a,A.Yt(r.kind)),s.push(A)}return s}fn(e,r){return!!e.filters.find(n=>n instanceof Le&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,r){const n=bu(e),i=JA(e);return(r?n.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.U()).next(s=>{const a=[];return K.forEach(s,o=>i.get([o.indexId,this.uid]).next(A=>{a.push(function(c,d){const f=d?new qd(d.sequenceNumber,new Sn(xA(d.readTime),new Ae(Oi(d.documentKey)),d.largestBatchId)):qd.empty(),g=c.fields.map(([m,p])=>new em(yt.fromServerFormat(m),p));return new zm(c.indexId,c.collectionGroup,g,f)}(o,A))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((n,i)=>{const s=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Fe(n.collectionGroup,i.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const i=bu(e),s=JA(e);return this.yn(e).next(a=>i.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(o=>K.forEach(o,A=>s.put(MT(A.indexId,this.uid,a,n)))))}updateIndexEntries(e,r){const n=new Map;return K.forEach(r,(i,s)=>{const a=n.get(i.collectionGroup);return(a?K.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(o=>(n.set(i.collectionGroup,o),K.forEach(o,A=>this.wn(e,i,A).next(l=>{const c=this.Sn(s,A);return l.isEqual(c)?K.resolve():this.bn(e,s,A,l,c)}))))})}Dn(e,r,n,i){return qA(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(n,r.key),documentKey:r.key.path.toArray()})}vn(e,r,n,i){return qA(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(n,r.key),r.key.path.toArray()])}wn(e,r,n){const i=qA(e);let s=new tt(na);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,r)])},(a,o)=>{s=s.add(new Ho(n.indexId,r,o.arrayValue,o.directionalValue))}).next(()=>s)}Sn(e,r){let n=new tt(na);const i=this.Vn(r,e);if(i==null)return n;const s=tb(r);if(s!=null){const a=e.data.field(s.fieldPath);if(tf(a))for(const o of a.arrayValue.values||[])n=n.add(new Ho(r.indexId,e.key,this.dn(o),i))}else n=n.add(new Ho(r.indexId,e.key,Vh,i));return n}bn(e,r,n,i,s){te("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const a=[];return function(A,l,c,d,f){const g=A.getIterator(),m=l.getIterator();let p=XA(g),v=XA(m);for(;p||v;){let y=!1,w=!1;if(p&&v){const B=c(p,v);B<0?w=!0:B>0&&(y=!0)}else p!=null?w=!0:y=!0;y?(d(v),v=XA(m)):w?(f(p),p=XA(g)):(p=XA(g),v=XA(m))}}(i,s,na,o=>{a.push(this.Dn(e,r,n,o))},o=>{a.push(this.vn(e,r,n,o))}),K.waitFor(a)}yn(e){let r=1;return JA(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,i,s)=>{s.done(),r=i.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((a,o)=>na(a,o)).filter((a,o,A)=>!o||na(a,A[o-1])!==0);const i=[];i.push(e);for(const a of n){const o=na(a,e),A=na(a,r);if(o===0)i[0]=e.Zt();else if(o>0&&A<0)i.push(a),i.push(a.Zt());else if(A>0)break}i.push(r);const s=[];for(let a=0;a<i.length;a+=2){if(this.Cn(i[a],i[a+1]))return[];const o=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,Vh,[]],A=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,Vh,[]];s.push(IDBKeyRange.bound(o,A))}return s}Cn(e,r){return na(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(zT)}getMinOffset(e,r){return K.mapArray(this.hn(r),n=>this.Pn(e,n).next(i=>i||ve())).next(zT)}}function WT(t){return Zt(t,"collectionParents")}function qA(t){return Zt(t,"indexEntries")}function bu(t){return Zt(t,"indexConfiguration")}function JA(t){return Zt(t,"indexState")}function zT(t){we(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const i=t[n].indexState.offset;GC(i,e)<0&&(e=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new Sn(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Jr{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Jr(e,Jr.DEFAULT_COLLECTION_PERCENTILE,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t,e,r){const n=t.store("mutations"),i=t.store("documentMutations"),s=[],a=IDBKeyRange.only(r.batchId);let o=0;const A=n.J({range:a},(c,d,f)=>(o++,f.delete()));s.push(A.next(()=>{we(o===1)}));const l=[];for(const c of r.mutations){const d=F4(e,c.key.path,r.batchId);s.push(i.delete(d)),l.push(c.key)}return K.waitFor(s).next(()=>l)}function np(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ve();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr.DEFAULT_COLLECTION_PERCENTILE=10,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jr.DEFAULT=new Jr(41943040,Jr.DEFAULT_COLLECTION_PERCENTILE,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jr.DISABLED=new Jr(-1,0,0);class j0{constructor(e,r,n,i){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=i,this.Fn={}}static lt(e,r,n,i){we(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new j0(s,r,n,i)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ia(e).J({index:"userMutationsIndex",range:n},(i,s,a)=>{r=!1,a.done()}).next(()=>r)}addMutationBatch(e,r,n,i){const s=fl(e),a=ia(e);return a.add({}).next(o=>{we(typeof o=="number");const A=new t1(o,r,n,i),l=function(g,m,p){const v=p.baseMutations.map(w=>ep(g.ct,w)),y=p.mutations.map(w=>ep(g.ct,w));return{userId:m,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:v,mutations:y}}(this.serializer,this.userId,A),c=[];let d=new tt((f,g)=>Fe(f.canonicalString(),g.canonicalString()));for(const f of i){const g=F4(this.userId,f.key.path,o);d=d.add(f.key.path.popLast()),c.push(a.put(l)),c.push(s.put(g,T9))}return d.forEach(f=>{c.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[o]=A.keys()}),K.waitFor(c).next(()=>A)})}lookupMutationBatch(e,r){return ia(e).get(r).next(n=>n?(we(n.userId===this.userId),Mo(this.serializer,n)):null)}Mn(e,r){return this.Fn[r]?K.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const i=n.keys();return this.Fn[r]=i,i}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return ia(e).J({index:"userMutationsIndex",range:i},(a,o,A)=>{o.userId===this.userId&&(we(o.batchId>=n),s=Mo(this.serializer,o)),A.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return ia(e).J({index:"userMutationsIndex",range:r,reverse:!0},(i,s,a)=>{n=s.batchId,a.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ia(e).U("userMutationsIndex",r).next(n=>n.map(i=>Mo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=tm(this.userId,r.path),i=IDBKeyRange.lowerBound(n),s=[];return fl(e).J({range:i},(a,o,A)=>{const[l,c,d]=a,f=Oi(c);if(l===this.userId&&r.path.isEqual(f))return ia(e).get(d).next(g=>{if(!g)throw ve();we(g.userId===this.userId),s.push(Mo(this.serializer,g))});A.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new tt(Fe);const i=[];return r.forEach(s=>{const a=tm(this.userId,s.path),o=IDBKeyRange.lowerBound(a),A=fl(e).J({range:o},(l,c,d)=>{const[f,g,m]=l,p=Oi(g);f===this.userId&&s.path.isEqual(p)?n=n.add(m):d.done()});i.push(A)}),K.waitFor(i).next(()=>this.xn(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1,s=tm(this.userId,n),a=IDBKeyRange.lowerBound(s);let o=new tt(Fe);return fl(e).J({range:a},(A,l,c)=>{const[d,f,g]=A,m=Oi(f);d===this.userId&&n.isPrefixOf(m)?m.length===i&&(o=o.add(g)):c.done()}).next(()=>this.xn(e,o))}xn(e,r){const n=[],i=[];return r.forEach(s=>{i.push(ia(e).get(s).next(a=>{if(a===null)throw ve();we(a.userId===this.userId),n.push(Mo(this.serializer,a))}))}),K.waitFor(i).next(()=>n)}removeMutationBatch(e,r){return EO(e._e,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),K.forEach(n,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return K.resolve();const n=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return fl(e).J({range:n},(s,a,o)=>{if(s[0]===this.userId){const A=Oi(s[1]);i.push(A)}else o.done()}).next(()=>{we(i.length===0)})})}containsKey(e,r){return _O(e,this.userId,r)}Nn(e){return IO(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _O(t,e,r){const n=tm(e,r.path),i=n[1],s=IDBKeyRange.lowerBound(n);let a=!1;return fl(t).J({range:s,H:!0},(o,A,l)=>{const[c,d,f]=o;c===e&&d===i&&(a=!0),l.done()}).next(()=>a)}function ia(t){return Zt(t,"mutations")}function fl(t){return Zt(t,"documentMutations")}function IO(t){return Zt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new bA(0)}static kn(){return new bA(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const n=new bA(r.highestTargetId);return r.highestTargetId=n.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>Ce.fromTimestamp(new bt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.qn(e).next(i=>(i.highestListenSequenceNumber=r,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),r>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r),this.Qn(e,i)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(n=>(n.targetCount+=1,this.$n(r,n),this.Qn(e,n))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>ZA(e).delete(r.targetId)).next(()=>this.qn(e)).next(n=>(we(n.targetCount>0),n.targetCount-=1,this.Qn(e,n)))}removeTargets(e,r,n){let i=0;const s=[];return ZA(e).J((a,o)=>{const A=Wu(o);A.sequenceNumber<=r&&n.get(A.targetId)===null&&(i++,s.push(this.removeTargetData(e,A)))}).next(()=>K.waitFor(s)).next(()=>i)}forEachTarget(e,r){return ZA(e).J((n,i)=>{const s=Wu(i);r(s)})}qn(e){return XT(e).get("targetGlobalKey").next(r=>(we(r!==null),r))}Qn(e,r){return XT(e).put("targetGlobalKey",r)}Kn(e,r){return ZA(e).put(xO(this.serializer,r))}$n(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const n=yA(r),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return ZA(e).J({range:i,index:"queryTargetsIndex"},(a,o,A)=>{const l=Wu(o);Tf(r,l.target)&&(s=l,A.done())}).next(()=>s)}addMatchingKeys(e,r,n){const i=[],s=ma(e);return r.forEach(a=>{const o=Kr(a.path);i.push(s.put({targetId:n,path:o})),i.push(this.referenceDelegate.addReference(e,n,a))}),K.waitFor(i)}removeMatchingKeys(e,r,n){const i=ma(e);return K.forEach(r,s=>{const a=Kr(s.path);return K.waitFor([i.delete([n,a]),this.referenceDelegate.removeReference(e,n,s)])})}removeMatchingKeysForTargetId(e,r){const n=ma(e),i=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),i=ma(e);let s=Pe();return i.J({range:n,H:!0},(a,o,A)=>{const l=Oi(a[1]),c=new Ae(l);s=s.add(c)}).next(()=>s)}containsKey(e,r){const n=Kr(r.path),i=IDBKeyRange.bound([n],[E4(n)],!1,!0);let s=0;return ma(e).J({index:"documentTargetsIndex",H:!0,range:i},([a,o],A,l)=>{a!==0&&(s++,l.done())}).next(()=>s>0)}ot(e,r){return ZA(e).get(r).next(n=>n?Wu(n):null)}}function ZA(t){return Zt(t,"targets")}function XT(t){return Zt(t,"targetGlobal")}function ma(t){return Zt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT([t,e],[r,n]){const i=Fe(t,r);return i===0?Fe(e,n):i}class qG{constructor(e){this.Un=e,this.buffer=new tt(qT),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();qT(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class JG{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){uo(r)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await UA(r)}await this.Hn(3e5)})}}class ZG{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return K.resolve(zn.oe);const n=new qG(r);return this.Jn.forEachTarget(e,i=>n.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>n.zn(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(YT)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YT):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let n,i,s,a,o,A,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,a=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(n=d,o=Date.now(),this.removeTargets(e,n,r))).next(d=>(s=d,A=Date.now(),this.removeOrphanedDocuments(e,n))).next(d=>(l=Date.now(),ll()<=De.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(A-o)+`ms
	Removed ${d} documents in `+(l-A)+`ms
Total Duration: ${l-c}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function eW(t,e){return new ZG(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(e,r){this.db=e,this.garbageCollector=eW(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}er(e){let r=0;return this.Zn(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(n,i)=>r(i))}addReference(e,r,n){return Kh(e,n)}removeReference(e,r,n){return Kh(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return Kh(e,r)}nr(e,r){return function(i,s){let a=!1;return IO(i).Y(o=>_O(i,o,s).next(A=>(A&&(a=!0),K.resolve(!A)))).next(()=>a)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(a,o)=>{if(o<=r){const A=this.nr(e,a).next(l=>{if(!l)return s++,n.getEntry(e,a).next(()=>(n.removeEntry(a,Ce.min()),ma(e).delete(function(d){return[0,Kr(d.path)]}(a))))});i.push(A)}}).next(()=>K.waitFor(i)).next(()=>n.apply(e)).next(()=>s)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return Kh(e,r)}tr(e,r){const n=ma(e);let i,s=zn.oe;return n.J({index:"documentTargetsIndex"},([a,o],{path:A,sequenceNumber:l})=>{a===0?(s!==zn.oe&&r(new Ae(Oi(i)),s),s=l,i=A):s=zn.oe}).next(()=>{s!==zn.oe&&r(new Ae(Oi(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Kh(t,e){return ma(t).put(function(n,i){return{targetId:0,path:Kr(n.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.changes=new fo(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?K.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return Fo(e).put(n)}removeEntry(e,r,n){return Fo(e).delete(function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],tp(a),o[o.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.rr(e,n)))}getEntry(e,r){let n=Qt.newInvalidDocument(r);return Fo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Bu(r))},(i,s)=>{n=this.ir(r,s)}).next(()=>n)}sr(e,r){let n={size:0,document:Qt.newInvalidDocument(r)};return Fo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Bu(r))},(i,s)=>{n={document:this.ir(r,s),size:np(s)}}).next(()=>n)}getEntries(e,r){let n=Bn();return this._r(e,r,(i,s)=>{const a=this.ir(i,s);n=n.insert(i,a)}).next(()=>n)}ar(e,r){let n=Bn(),i=new Bt(Ae.comparator);return this._r(e,r,(s,a)=>{const o=this.ir(s,a);n=n.insert(s,o),i=i.insert(s,np(a))}).next(()=>({documents:n,ur:i}))}_r(e,r,n){if(r.isEmpty())return K.resolve();let i=new tt(e2);r.forEach(A=>i=i.add(A));const s=IDBKeyRange.bound(Bu(i.first()),Bu(i.last())),a=i.getIterator();let o=a.getNext();return Fo(e).J({index:"documentKeyIndex",range:s},(A,l,c)=>{const d=Ae.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;o&&e2(o,d)<0;)n(o,null),o=a.getNext();o&&o.isEqual(d)&&(n(o,l),o=a.hasNext()?a.getNext():null),o?c.$(Bu(o)):c.done()}).next(()=>{for(;o;)n(o,null),o=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,r,n,i,s){const a=r.path,o=[a.popLast().toArray(),a.lastSegment(),tp(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],A=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fo(e).U(IDBKeyRange.bound(o,A,!0)).next(l=>{s==null||s.incrementDocumentReadCount(l.length);let c=Bn();for(const d of l){const f=this.ir(Ae.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);f.isFoundDocument()&&(Nf(r,f)||i.has(f.key))&&(c=c.insert(f.key,f))}return c})}getAllFromCollectionGroup(e,r,n,i){let s=Bn();const a=ZT(r,n),o=ZT(r,Sn.max());return Fo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,o,!0)},(A,l,c)=>{const d=this.ir(Ae.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new nW(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return JT(e).get("remoteDocumentGlobalKey").next(r=>(we(!!r),r))}rr(e,r){return JT(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const n=MG(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(Ce.min())))return n}return Qt.newInvalidDocument(e)}}function TO(t){return new rW(t)}class nW extends SO{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new fo(n=>n.toString(),(n,i)=>n.isEqual(i))}applyChanges(e){const r=[];let n=0,i=new tt((s,a)=>Fe(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const o=this.lr.get(s);if(r.push(this.cr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const A=DT(this.cr.serializer,a);i=i.add(s.path.popLast());const l=np(A);n+=l-o.size,r.push(this.cr.addEntry(e,s,A))}else if(n-=o.size,this.trackRemovals){const A=DT(this.cr.serializer,a.convertToNoDocument(Ce.min()));r.push(this.cr.addEntry(e,s,A))}}),i.forEach(s=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),r.push(this.cr.updateMetadata(e,n)),K.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(n=>(this.lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:n,ur:i})=>(i.forEach((s,a)=>{this.lr.set(s,{size:a,readTime:n.get(s).readTime})}),n))}}function JT(t){return Zt(t,"remoteDocumentGlobal")}function Fo(t){return Zt(t,"remoteDocumentsV14")}function Bu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ZT(t,e){const r=e.documentKey.path.toArray();return[t,tp(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function e2(t,e){const r=t.path.toArray(),n=e.path.toArray();let i=0;for(let s=0;s<r.length-2&&s<n.length-2;++s)if(i=Fe(r[s],n[s]),i)return i;return i=Fe(r.length,n.length),i||(i=Fe(r[r.length-2],n[n.length-2]),i||Fe(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&md(n.mutation,i,Yn.empty(),bt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Pe()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Pe()){const i=ji();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=$u();return s.forEach((o,A)=>{a=a.insert(o,A.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=ji();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Pe()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=Bn();const a=gd(),o=function(){return gd()}();return r.forEach((A,l)=>{const c=n.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof ho)?s=s.insert(l.key,l):c!==void 0?(a.set(l.key,c.mutation.getFieldMask()),md(c.mutation,l,c.mutation.getFieldMask(),bt.now())):a.set(l.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,s).next(A=>(A.forEach((l,c)=>a.set(l,c)),r.forEach((l,c)=>{var d;return o.set(l,new iW(c,(d=a.get(l))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(e,r){const n=gd();let i=new Bt((a,o)=>a-o),s=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(A=>{const l=r.get(A);if(l===null)return;let c=n.get(A)||Yn.empty();c=o.applyToLocalView(l,c),n.set(A,c);const d=(i.get(o.batchId)||Pe()).add(A);i=i.insert(o.batchId,d)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const A=o.getNext(),l=A.key,c=A.value,d=X4();c.forEach(f=>{if(!s.has(f)){const g=nO(r.get(f),n.get(f));g!==null&&d.set(f,g),s=s.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,l,d))}return K.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return Ae.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):aG(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):K.resolve(ji());let o=-1,A=s;return a.next(l=>K.forEach(l,(c,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),s.get(c)?K.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{A=A.insert(c,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,A,l,Pe())).next(c=>({batchId:o,changes:Y4(c)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ae(r)).next(n=>{let i=$u();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=$u();return this.indexManager.getCollectionParents(e,s).next(o=>K.forEach(o,A=>{const l=function(d,f){return new N0(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,A.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,n,i).next(c=>{c.forEach((d,f)=>{a=a.insert(d,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((A,l)=>{const c=l.getKey();a.get(c)===null&&(a=a.insert(c,Qt.newInvalidDocument(c)))});let o=$u();return a.forEach((A,l)=>{const c=s.get(A);c!==void 0&&md(c.mutation,l,Yn.empty(),bt.now()),Nf(r,l)&&(o=o.insert(A,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return K.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:$r(i.createTime)}}(r)),K.resolve()}getNamedQuery(e,r){return K.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:bO(i.bundledQuery),readTime:$r(i.readTime)}}(r)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(){this.overlays=new Bt(Ae.comparator),this.Ir=new Map}getOverlay(e,r){return K.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ji();return K.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),K.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),K.resolve()}getOverlaysForCollection(e,r,n){const i=ji(),s=r.length+1,a=new Ae(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const A=o.getNext().value,l=A.getKey();if(!r.isPrefixOf(l.path))break;l.path.length===s&&A.largestBatchId>n&&i.set(A.getKey(),A)}return K.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Bt((l,c)=>l-c);const a=this.overlays.getIterator();for(;a.hasNext();){const l=a.getNext().value;if(l.getKey().getCollectionGroup()===r&&l.largestBatchId>n){let c=s.get(l.largestBatchId);c===null&&(c=ji(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const o=ji(),A=s.getIterator();for(;A.hasNext()&&(A.getNext().value.forEach((l,c)=>o.set(l,c)),!(o.size()>=i)););return K.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new n1(r,n));let s=this.Ir.get(r);s===void 0&&(s=Pe(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.Tr=new tt(or.Er),this.dr=new tt(or.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new or(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new or(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Ae(new qe([])),n=new or(r,e),i=new or(r,e+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Ae(new qe([])),n=new or(r,e),i=new or(r,e+1);let s=Pe();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new or(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class or{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Ae.comparator(e.key,r.key)||Fe(e.wr,r.wr)}static Ar(e,r){return Fe(e.wr,r.wr)||Ae.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new tt(or.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new t1(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new or(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,r){return K.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new or(r,0),i=new or(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const o=this.Dr(a.wr);s.push(o)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new tt(Fe);return r.forEach(i=>{const s=new or(i,0),a=new or(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{n=n.add(o.wr)})}),K.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Ae.isDocumentKey(s)||(s=s.child(""));const a=new or(new Ae(s),0);let o=new tt(Fe);return this.br.forEachWhile(A=>{const l=A.key.path;return!!n.isPrefixOf(l)&&(l.length===i&&(o=o.add(A.wr)),!0)},a),K.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){we(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return K.forEach(r.mutations,i=>{const s=new or(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new or(r,0),i=this.br.firstAfterOrEqual(n);return K.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(e){this.Mr=e,this.docs=function(){return new Bt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return K.resolve(n?n.document.mutableCopy():Qt.newInvalidDocument(r))}getEntries(e,r){let n=Bn();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Qt.newInvalidDocument(i))}),K.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=Bn();const a=r.path,o=new Ae(a.child("")),A=this.docs.getIteratorFrom(o);for(;A.hasNext();){const{key:l,value:{document:c}}=A.getNext();if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||GC(_4(c),n)<=0||(i.has(c.key)||Nf(r,c))&&(s=s.insert(c.key,c.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,r,n,i){ve()}Or(e,r){return K.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new cW(this)}getSize(e){return K.resolve(this.size)}}class cW extends SO{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),K.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e){this.persistence=e,this.Nr=new fo(r=>yA(r),Tf),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new A1,this.targetCount=0,this.kr=bA.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),K.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new bA(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,K.resolve()}updateTargetData(e,r){return this.Kn(r),K.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return K.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),K.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),K.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return K.resolve(n)}containsKey(e,r){return K.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,r){this.qr={},this.overlays={},this.Qr=new zn(0),this.Kr=!1,this.Kr=!0,this.$r=new oW,this.referenceDelegate=e(this),this.Ur=new uW(this),this.indexManager=new zG,this.remoteDocumentCache=function(i){return new lW(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new wO(r),this.Gr=new sW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new aW,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new AW(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){te("MemoryPersistence","Starting transaction:",e);const i=new dW(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return K.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class dW extends S4{constructor(e){super(),this.currentSequenceNumber=e}}class D0{constructor(e){this.persistence=e,this.Jr=new A1,this.Yr=null}static Zr(e){return new D0(e)}get Xr(){if(this.Yr)return this.Yr;throw ve()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),K.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),K.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),K.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,n=>{const i=Ae.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,Ce.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return K.or([()=>K.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e){this.serializer=e}O(e,r,n,i){const s=new S0("createOrUpgrade",r);n<1&&i>=1&&(function(A){A.createObjectStore("owner")}(e),function(A){A.createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hT,{unique:!0}),A.createObjectStore("documentMutations")}(e),t2(e),function(A){A.createObjectStore("remoteDocuments")}(e));let a=K.resolve();return n<3&&i>=3&&(n!==0&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),t2(e)),a=a.next(()=>function(A){const l=A.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ce.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(s))),n<4&&i>=4&&(n!==0&&(a=a.next(()=>function(A,l){return l.store("mutations").U().next(c=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hT,{unique:!0});const d=l.store("mutations"),f=c.map(g=>d.put(g));return K.waitFor(f)})}(e,s))),a=a.next(()=>{(function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),n<5&&i>=5&&(a=a.next(()=>this.ni(s))),n<6&&i>=6&&(a=a.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),n<7&&i>=7&&(a=a.next(()=>this.ii(s))),n<8&&i>=8&&(a=a.next(()=>this.si(e,s))),n<9&&i>=9&&(a=a.next(()=>{(function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&i>=10&&(a=a.next(()=>this.oi(s))),n<11&&i>=11&&(a=a.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&i>=12&&(a=a.next(()=>{(function(A){const l=A.createObjectStore("documentOverlays",{keyPath:L9});l.createIndex("collectionPathOverlayIndex",H9,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",V9,{unique:!1})})(e)})),n<13&&i>=13&&(a=a.next(()=>function(A){const l=A.createObjectStore("remoteDocumentsV14",{keyPath:F9});l.createIndex("documentKeyIndex",N9),l.createIndex("collectionGroupIndex",U9)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&i>=14&&(a=a.next(()=>this.ai(e,s))),n<15&&i>=15&&(a=a.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:j9}).createIndex("sequenceNumberIndex",D9,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:R9}).createIndex("documentKeyIndex",M9,{unique:!1})}(e))),n<16&&i>=16&&(a=a.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),n<17&&i>=17&&(a=a.next(()=>{(function(A){A.createObjectStore("globals",{keyPath:"name"})})(e)})),a}ri(e){let r=0;return e.store("remoteDocuments").J((n,i)=>{r+=np(i)}).next(()=>{const n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}ni(e){const r=e.store("mutationQueues"),n=e.store("mutations");return r.U().next(i=>K.forEach(i,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",a).next(o=>K.forEach(o,A=>{we(A.userId===s.userId);const l=Mo(this.serializer,A);return EO(e,s.userId,l).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return n.J((a,o)=>{const A=new qe(a),l=function(d){return[0,Kr(d)]}(A);s.push(r.get(l).next(c=>c?K.resolve():(d=>r.put({targetId:0,path:Kr(d),sequenceNumber:i.highestListenSequenceNumber}))(A)))}).next(()=>K.waitFor(s))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:O9});const n=r.store("collectionParents"),i=new o1,s=a=>{if(i.add(a)){const o=a.lastSegment(),A=a.popLast();return n.put({collectionId:o,parent:Kr(A)})}};return r.store("remoteDocuments").J({H:!0},(a,o)=>{const A=new qe(a);return s(A.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([a,o,A],l)=>{const c=Oi(o);return s(c.popLast())}))}oi(e){const r=e.store("targets");return r.J((n,i)=>{const s=Wu(i),a=xO(this.serializer,s);return r.put(a)})}_i(e,r){const n=r.store("remoteDocuments"),i=[];return n.J((s,a)=>{const o=r.store("remoteDocumentsV14"),A=function(d){return d.document?new Ae(qe.fromString(d.document.name).popFirst(5)):d.noDocument?Ae.fromSegments(d.noDocument.path):d.unknownDocument?Ae.fromSegments(d.unknownDocument.path):ve()}(a).path.toArray(),l={prefixPath:A.slice(0,A.length-2),collectionGroup:A[A.length-2],documentId:A[A.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(l))}).next(()=>K.waitFor(i))}ai(e,r){const n=r.store("mutations"),i=TO(this.serializer),s=new NO(D0.Zr,this.serializer.ct);return n.U().next(a=>{const o=new Map;return a.forEach(A=>{var l;let c=(l=o.get(A.userId))!==null&&l!==void 0?l:Pe();Mo(this.serializer,A).keys().forEach(d=>c=c.add(d)),o.set(A.userId,c)}),K.forEach(o,(A,l)=>{const c=new vr(l),d=O0.lt(this.serializer,c),f=s.getIndexManager(c),g=j0.lt(c,this.serializer,f,s.referenceDelegate);return new FO(i,g,d,f).recalculateAndSaveOverlaysForDocumentKeys(new rb(r,zn.oe),A).next()})})}}function t2(t){t.createObjectStore("targetDocuments",{keyPath:k9}).createIndex("documentTargetsIndex",Q9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",P9,{unique:!0}),t.createObjectStore("targetGlobal")}const Zy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class l1{constructor(e,r,n,i,s,a,o,A,l,c,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ui=s,this.window=a,this.document=o,this.ci=l,this.li=c,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!l1.D())throw new fe(X.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tW(this,i),this.Ai=r+"main",this.serializer=new wO(A),this.Ri=new Ra(this.Ai,this.hi,new fW(this.serializer)),this.$r=new HG,this.Ur=new XG(this.referenceDelegate,this.serializer),this.remoteDocumentCache=TO(this.serializer),this.Gr=new LG,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,c===!1&&Lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(X.FAILED_PRECONDITION,Zy);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new zn(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$h(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(uo(e))return te("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Cu(e).get("owner").next(r=>K.resolve(this.vi(r)))}Ci(e){return $h(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const n=Zt(r,"clientMetadata");return n.U().next(i=>{const s=this.xi(i,18e5),a=i.filter(o=>s.indexOf(o)===-1);return K.forEach(a,o=>n.delete(o.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Vi)for(const r of e)this.Vi.removeItem(this.Oi(r.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?K.resolve(!0):Cu(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new fe(X.FAILED_PRECONDITION,Zy);return!1}}return!(!this.networkEnabled||!this.inForeground)||$h(e).U().next(n=>this.xi(n,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&te("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new rb(e,zn.oe);return this.bi(r).next(()=>this.Ci(r))}),this.Ri.close(),this.qi()}xi(e,r){return e.filter(n=>this.Mi(n.updateTimeMs,r)&&!this.Ni(n.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>$h(e).U().next(r=>this.xi(r,18e5).map(n=>n.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return j0.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new YG(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return O0.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,n){te("IndexedDbPersistence","Starting transaction:",e);const i=r==="readonly"?"readonly":"readwrite",s=function(A){return A===17?G9:A===16?$9:A===15?zC:A===14?P4:A===13?U4:A===12?K9:A===11?N4:void ve()}(this.hi);let a;return this.Ri.runTransaction(e,i,s,o=>(a=new rb(o,this.Qr?this.Qr.next():zn.oe),r==="readwrite-primary"?this.wi(a).next(A=>!!A||this.Si(a)).next(A=>{if(!A)throw Lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new fe(X.FAILED_PRECONDITION,I4);return n(a)}).next(A=>this.Di(a).next(()=>A)):this.Ki(a).next(()=>n(a)))).then(o=>(a.raiseOnCommittedEvent(),o))}Ki(e){return Cu(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new fe(X.FAILED_PRECONDITION,Zy)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cu(e).put("owner",r)}static D(){return Ra.D()}bi(e){const r=Cu(e);return r.get("owner").next(n=>this.vi(n)?(te("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):K.resolve())}Mi(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(Lr(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;l4()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const n=((r=this.Vi)===null||r===void 0?void 0:r.getItem(this.Oi(e)))!==null;return te("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Lr("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Lr("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cu(t){return Zt(t,"owner")}function $h(t){return Zt(t,"clientMetadata")}function hW(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Pe(),i=Pe();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new c1(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return l4()?8:T4(Jt())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new gW;return this.Xi(e,r,a).next(o=>{if(s.result=o,this.zi)return this.es(e,r,a,o.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(ll()<=De.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",cl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(ll()<=De.DEBUG&&te("QueryEngine","Query:",cl(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(ll()<=De.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",cl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(r))):K.resolve())}Yi(e,r){if(IT(r))return K.resolve(null);let n=ni(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Jm(r,null,"F"),n=ni(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=Pe(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(A=>{const l=this.ts(r,o);return this.ns(r,l,a,A.readTime)?this.Yi(e,Jm(r,null,"F")):this.rs(e,l,r,A)}))})))}Zi(e,r,n,i){return IT(r)||i.isEqual(Ce.min())?K.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const a=this.ts(r,s);return this.ns(r,a,n,i)?K.resolve(null):(ll()<=De.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cl(r)),this.rs(e,a,r,b9(i,-1)).next(o=>o))})}ts(e,r){let n=new tt(W4(e));return r.forEach((i,s)=>{Nf(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return ll()<=De.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",cl(r)),this.Ji.getDocumentsMatchingQuery(e,r,Sn.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Bt(Fe),this._s=new fo(s=>yA(s),Tf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FO(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function PO(t,e,r,n){return new mW(t,e,r,n)}async function kO(t,e){const r=Te(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let A=Pe();for(const l of i){a.push(l.batchId);for(const c of l.mutations)A=A.add(c.key)}for(const l of s){o.push(l.batchId);for(const c of l.mutations)A=A.add(c.key)}return r.localDocuments.getDocuments(n,A).next(l=>({hs:l,removedBatchIds:a,addedBatchIds:o}))})})}function pW(t,e){const r=Te(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,A,l,c){const d=l.batch,f=d.keys();let g=K.resolve();return f.forEach(m=>{g=g.next(()=>c.getEntry(A,m)).next(p=>{const v=l.docVersions.get(m);we(v!==null),p.version.compareTo(v)<0&&(d.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(A,d))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let A=Pe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(A=A.add(o.batch.mutations[l].key));return A}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function QO(t){const e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function vW(t,e){const r=Te(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;o.push(r.Ur.removeMatchingKeys(s,c.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(s,c.addedDocuments,d)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Mt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,n)),i=i.insert(d,g),function(p,v,y){return p.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,g,c)&&o.push(r.Ur.updateTargetData(s,g))});let A=Bn(),l=Pe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,c))}),o.push(yW(s,a,e.documentUpdates).next(c=>{A=c.Ps,l=c.Is})),!n.isEqual(Ce.min())){const c=r.Ur.getLastRemoteSnapshotVersion(s).next(d=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(c)}return K.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,A,l)).next(()=>A)}).then(s=>(r.os=i,s))}function yW(t,e,r){let n=Pe(),i=Pe();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=Bn();return r.forEach((o,A)=>{const l=s.get(o);A.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(o)),A.isNoDocument()&&A.version.isEqual(Ce.min())?(e.removeEntry(o,A.readTime),a=a.insert(o,A)):!l.isValidDocument()||A.version.compareTo(l.version)>0||A.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(A),a=a.insert(o,A)):te("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",A.version)}),{Ps:a,Is:i}})}function wW(t,e){const r=Te(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function xW(t,e){const r=Te(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,K.resolve(i)):r.Ur.allocateTargetId(n).next(a=>(i=new vs(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function gb(t,e,r){const n=Te(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!uo(a))throw a;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function r2(t,e,r){const n=Te(t);let i=Ce.min(),s=Pe();return n.persistence.runTransaction("Execute query","readwrite",a=>function(A,l,c){const d=Te(A),f=d._s.get(c);return f!==void 0?K.resolve(d.os.get(f)):d.Ur.getTargetData(l,c)}(n,a,ni(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(A=>{s=A})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:Ce.min(),r?s:Pe())).next(o=>(bW(n,AG(e),o),{documents:o,Ts:s})))}function bW(t,e,r){let n=t.us.get(e)||Ce.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class n2{constructor(){this.activeTargetIds=hG()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OO{constructor(){this.so=new n2,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new n2,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh=null;function ew(){return Gh===null?Gh=function(){return 268435456+Math.round(2147483648*Math.random())}():Gh++,"0x"+Gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="WebChannelConnection";class _W extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,a){const o=ew(),A=this.xo(r,n.toUriEncodedString());te("RestConnection",`Sending RPC '${r}' ${o}:`,A,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,a),this.No(r,A,l,i).then(c=>(te("RestConnection",`Received RPC '${r}' ${o}: `,c),c),c=>{throw Ya("RestConnection",`RPC '${r}' ${o} failed with error: `,c,"url: ",A,"request:",i),c})}Lo(r,n,i,s,a,o){return this.Mo(r,n,i,s,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nc}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>r[a]=s),i&&i.headers.forEach((s,a)=>r[a]=s)}xo(r,n){const i=CW[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=ew();return new Promise((a,o)=>{const A=new v4;A.setWithCredentials(!0),A.listenOnce(y4.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case Zg.NO_ERROR:const c=A.getResponseJson();te(Sr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),a(c);break;case Zg.TIMEOUT:te(Sr,`RPC '${e}' ${s} timed out`),o(new fe(X.DEADLINE_EXCEEDED,"Request time out"));break;case Zg.HTTP_ERROR:const d=A.getStatus();if(te(Sr,`RPC '${e}' ${s} failed with status:`,d,"response text:",A.getResponseText()),d>0){let f=A.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const m=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(y)>=0?y:X.UNKNOWN}(g.status);o(new fe(m,g.message))}else o(new fe(X.UNKNOWN,"Server responded with status "+A.getStatus()))}else o(new fe(X.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{te(Sr,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);te(Sr,`RPC '${e}' ${s} sending request:`,i),A.send(r,"POST",l,n,15)})}Bo(e,r,n){const i=ew(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=b4(),o=x4(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(A.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(A.useFetchStreams=!0),this.Oo(A.initMessageHeaders,r,n),A.encodeInitMessageHeaders=!0;const c=s.join("");te(Sr,`Creating RPC '${e}' stream ${i}: ${c}`,A);const d=a.createWebChannel(c,A);let f=!1,g=!1;const m=new EW({Io:v=>{g?te(Sr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(te(Sr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),te(Sr,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),p=(v,y,w)=>{v.listen(y,B=>{try{w(B)}catch(I){setTimeout(()=>{throw I},0)}})};return p(d,Ku.EventType.OPEN,()=>{g||(te(Sr,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),p(d,Ku.EventType.CLOSE,()=>{g||(g=!0,te(Sr,`RPC '${e}' stream ${i} transport closed`),m.So())}),p(d,Ku.EventType.ERROR,v=>{g||(g=!0,Ya(Sr,`RPC '${e}' stream ${i} transport errored:`,v),m.So(new fe(X.UNAVAILABLE,"The operation could not be completed")))}),p(d,Ku.EventType.MESSAGE,v=>{var y;if(!g){const w=v.data[0];we(!!w);const B=w,I=B.error||((y=B[0])===null||y===void 0?void 0:y.error);if(I){te(Sr,`RPC '${e}' stream ${i} received error:`,I);const T=I.status;let F=function(S){const U=Vt[S];if(U!==void 0)return aO(U)}(T),C=I.message;F===void 0&&(F=X.INTERNAL,C="Unknown error status: "+T+" with message "+I.message),g=!0,m.So(new fe(F,C)),d.close()}else te(Sr,`RPC '${e}' stream ${i} received:`,w),m.bo(w)}}),p(o,w4.STAT_EVENT,v=>{v.stat===eb.PROXY?te(Sr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===eb.NOPROXY&&te(Sr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(){return typeof window<"u"?window:null}function am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){return new FG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,r,n,i,s,a,o,A){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=A,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new jO(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===X.RESOURCE_EXHAUSTED?(Lr(r.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new fe(X.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SW extends DO{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=PG(this.serializer,e),n=function(s){if(!("targetChange"in s))return Ce.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ce.min():a.readTime?$r(a.readTime):Ce.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=cb(this.serializer),r.addTarget=function(s,a){let o;const A=a.target;if(o=Xm(A)?{documents:hO(s,A)}:{query:gO(s,A)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=lO(s,a.resumeToken);const l=Ab(s,a.expectedCount);l!==null&&(o.expectedCount=l)}else if(a.snapshotVersion.compareTo(Ce.min())>0){o.readTime=lc(s,a.snapshotVersion.toTimestamp());const l=Ab(s,a.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const n=QG(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=cb(this.serializer),r.removeTarget=e,this.a_(r)}}class TW extends DO{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return we(!!e.streamToken),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=kG(e.writeResults,e.commitTime),n=$r(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=cb(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>ep(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new fe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,lb(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(X.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,lb(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(X.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class NW{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Lr(r),this.D_=!1):te("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{PA(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(A){const l=Te(A);l.L_.add(4),await Pf(l),l.q_.set("Unknown"),l.L_.delete(4),await M0(l)}(this))})}),this.q_=new NW(n,i)}}async function M0(t){if(PA(t))for(const e of t.B_)await e(!0)}async function Pf(t){for(const e of t.B_)await e(!1)}function RO(t,e){const r=Te(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),h1(r)?f1(r):kc(r).r_()&&d1(r,e))}function u1(t,e){const r=Te(t),n=kc(r);r.N_.delete(e),n.r_()&&MO(r,e),r.N_.size===0&&(n.r_()?n.o_():PA(r)&&r.q_.set("Unknown"))}function d1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}kc(t).A_(e)}function MO(t,e){t.Q_.xe(e),kc(t).R_(e)}function f1(t){t.Q_=new _G({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),kc(t).start(),t.q_.v_()}function h1(t){return PA(t)&&!kc(t).n_()&&t.N_.size>0}function PA(t){return Te(t).L_.size===0}function LO(t){t.Q_=void 0}async function PW(t){t.q_.set("Online")}async function kW(t){t.N_.forEach((e,r)=>{d1(t,e)})}async function QW(t,e){LO(t),h1(t)?(t.q_.M_(e),f1(t)):t.q_.set("Unknown")}async function OW(t,e,r){if(t.q_.set("Online"),e instanceof AO&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await ip(t,n)}else if(e instanceof sm?t.Q_.Ke(e):e instanceof oO?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ce.min()))try{const n=await QO(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((A,l)=>{if(A.resumeToken.approximateByteSize()>0){const c=s.N_.get(l);c&&s.N_.set(l,c.withResumeToken(A.resumeToken,a))}}),o.targetMismatches.forEach((A,l)=>{const c=s.N_.get(A);if(!c)return;s.N_.set(A,c.withResumeToken(Mt.EMPTY_BYTE_STRING,c.snapshotVersion)),MO(s,A);const d=new vs(c.target,A,l,c.sequenceNumber);d1(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){te("RemoteStore","Failed to raise snapshot:",n),await ip(t,n)}}async function ip(t,e,r){if(!uo(e))throw e;t.L_.add(1),await Pf(t),t.q_.set("Offline"),r||(r=()=>QO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await M0(t)})}function HO(t,e){return e().catch(r=>ip(t,r,e))}async function kf(t){const e=Te(t),r=Za(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;jW(e);)try{const i=await wW(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,DW(e,i)}catch(i){await ip(e,i)}VO(e)&&KO(e)}function jW(t){return PA(t)&&t.O_.length<10}function DW(t,e){t.O_.push(e);const r=Za(t);r.r_()&&r.V_&&r.m_(e.mutations)}function VO(t){return PA(t)&&!Za(t).n_()&&t.O_.length>0}function KO(t){Za(t).start()}async function RW(t){Za(t).p_()}async function MW(t){const e=Za(t);for(const r of t.O_)e.m_(r.mutations)}async function LW(t,e,r){const n=t.O_.shift(),i=r1.from(n,e,r);await HO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await kf(t)}async function HW(t,e){e&&Za(t).V_&&await async function(n,i){if(function(a){return BG(a)&&a!==X.ABORTED}(i.code)){const s=n.O_.shift();Za(n).s_(),await HO(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await kf(n)}}(t,e),VO(t)&&KO(t)}async function s2(t,e){const r=Te(t);r.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const n=PA(r);r.L_.add(3),await Pf(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await M0(r)}async function VW(t,e){const r=Te(t);e?(r.L_.delete(2),await M0(r)):e||(r.L_.add(2),await Pf(r),r.q_.set("Unknown"))}function kc(t){return t.K_||(t.K_=function(r,n,i){const s=Te(r);return s.w_(),new SW(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:PW.bind(null,t),Ro:kW.bind(null,t),mo:QW.bind(null,t),d_:OW.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),h1(t)?f1(t):t.q_.set("Unknown")):(await t.K_.stop(),LO(t))})),t.K_}function Za(t){return t.U_||(t.U_=function(r,n,i){const s=Te(r);return s.w_(),new TW(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:RW.bind(null,t),mo:HW.bind(null,t),f_:MW.bind(null,t),g_:LW.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await kf(t)):(await t.U_.stop(),t.O_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new g1(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m1(t,e){if(Lr("AsyncQueue",`${e}: ${t}`),uo(t))return new fe(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ae.comparator(r.key,n.key):(r,n)=>Ae.comparator(r.key,n.key),this.keyedMap=$u(),this.sortedSet=new Bt(this.comparator)}static emptySet(e){return new Ml(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ml)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Ml;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.W_=new Bt(Ae.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):ve():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class cc{constructor(e,r,n,i,s,a,o,A,l){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=A,this.hasCachedResults=l}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new cc(e,r,Ml.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&U0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class $W{constructor(){this.queries=o2(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Te(r),s=i.queries;i.queries=o2(),s.forEach((a,o)=>{for(const A of o.j_)A.onError(n)})})(this,new fe(X.ABORTED,"Firestore shutting down"))}}function o2(){return new fo(t=>G4(t),U0)}async function p1(t,e){const r=Te(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new KW,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=m1(a,`Initialization of query '${cl(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&y1(r)}async function v1(t,e){const r=Te(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function GW(t,e){const r=Te(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&y1(r)}function WW(t,e,r){const n=Te(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function y1(t){t.Y_.forEach(e=>{e.next()})}var mb,A2;(A2=mb||(mb={})).ea="default",A2.Cache="cache";class w1{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new cc(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==mb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.key=e}}class GO{constructor(e){this.key=e}}class zW{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Pe(),this.mutatedKeys=Pe(),this.Aa=W4(e),this.Ra=new Ml(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new a2,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const A=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),g=Nf(this.query,d)?d:null,m=!!f&&this.mutatedKeys.has(f.key),p=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let v=!1;f&&g?f.data.isEqual(g.data)?m!==p&&(n.track({type:3,doc:g}),v=!0):this.ga(f,g)||(n.track({type:2,doc:g}),v=!0,(A&&this.Aa(g,A)>0||l&&this.Aa(g,l)<0)&&(o=!0)):!f&&g?(n.track({type:0,doc:g}),v=!0):f&&!g&&(n.track({type:1,doc:f}),v=!0,(A||l)&&(o=!0)),v&&(g?(a=a.add(g),s=p?s.add(c):s.delete(c)):(a=a.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),s=s.delete(c.key),n.track({type:1,doc:c})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,d)=>function(g,m){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return p(g)-p(m)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],A=this.da.size===0&&this.current&&!i?1:0,l=A!==this.Ea;return this.Ea=A,a.length!==0||l?{snapshot:new cc(this.query,e.Ra,s,a,e.mutatedKeys,A===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new a2,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Pe(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new GO(n))}),this.da.forEach(n=>{e.has(n)||r.push(new $O(n))}),r}ba(e){this.Ta=e.Ts,this.da=Pe();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return cc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class YW{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class XW{constructor(e){this.key=e,this.va=!1}}class qW{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new fo(o=>G4(o),U0),this.Ma=new Map,this.xa=new Set,this.Oa=new Bt(Ae.comparator),this.Na=new Map,this.La=new A1,this.Ba={},this.ka=new Map,this.qa=bA.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function JW(t,e,r=!0){const n=JO(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await WO(n,e,r,!0),i}async function ZW(t,e){const r=JO(t);await WO(r,e,!0,!1)}async function WO(t,e,r,n){const i=await xW(t.localStore,ni(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await ez(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&RO(t.remoteStore,i),o}async function ez(t,e,r,n,i){t.Ka=(d,f,g)=>async function(p,v,y,w){let B=v.view.ma(y);B.ns&&(B=await r2(p.localStore,v.query,!1).then(({documents:C})=>v.view.ma(C,B)));const I=w&&w.targetChanges.get(v.targetId),T=w&&w.targetMismatches.get(v.targetId)!=null,F=v.view.applyChanges(B,p.isPrimaryClient,I,T);return c2(p,v.targetId,F.wa),F.snapshot}(t,d,f,g);const s=await r2(t.localStore,e,!0),a=new zW(e,s.Ts),o=a.ma(s.documents),A=Uf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),l=a.applyChanges(o,t.isPrimaryClient,A);c2(t,r,l.wa);const c=new YW(e,r,a);return t.Fa.set(e,c),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),l.snapshot}async function tz(t,e,r){const n=Te(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!U0(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await gb(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&u1(n.remoteStore,i.targetId),pb(n,i.targetId)}).catch(UA)):(pb(n,i.targetId),await gb(n.localStore,i.targetId,!0))}async function rz(t,e){const r=Te(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),u1(r.remoteStore,n.targetId))}async function nz(t,e,r){const n=ZO(t);try{const i=await function(a,o){const A=Te(a),l=bt.now(),c=o.reduce((g,m)=>g.add(m.key),Pe());let d,f;return A.persistence.runTransaction("Locally write mutations","readwrite",g=>{let m=Bn(),p=Pe();return A.cs.getEntries(g,c).next(v=>{m=v,m.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>A.localDocuments.getOverlayedDocuments(g,m)).next(v=>{d=v;const y=[];for(const w of o){const B=xG(w,d.get(w.key).overlayedDocument);B!=null&&y.push(new ho(w.key,B,D4(B.value.mapValue),Cn.exists(!0)))}return A.mutationQueue.addMutationBatch(g,l,y,o)}).next(v=>{f=v;const y=v.applyToLocalDocumentSet(d,p);return A.documentOverlayCache.saveOverlays(g,v.batchId,y)})}).then(()=>({batchId:f.batchId,changes:Y4(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,A){let l=a.Ba[a.currentUser.toKey()];l||(l=new Bt(Fe)),l=l.insert(o,A),a.Ba[a.currentUser.toKey()]=l}(n,i.batchId,r),await Qf(n,i.changes),await kf(n.remoteStore)}catch(i){const s=m1(i,"Failed to persist write");r.reject(s)}}async function zO(t,e){const r=Te(t);try{const n=await vW(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Na.get(s);a&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?we(a.va):i.removedDocuments.size>0&&(we(a.va),a.va=!1))}),await Qf(r,n,e)}catch(n){await UA(n)}}function l2(t,e,r){const n=Te(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const A=Te(a);A.onlineState=o;let l=!1;A.queries.forEach((c,d)=>{for(const f of d.j_)f.Z_(o)&&(l=!0)}),l&&y1(A)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function iz(t,e,r){const n=Te(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new Bt(Ae.comparator);a=a.insert(s,Qt.newNoDocument(s,Ce.min()));const o=Pe().add(s),A=new Q0(Ce.min(),new Map,new Bt(Fe),a,o);await zO(n,A),n.Oa=n.Oa.remove(s),n.Na.delete(e),x1(n)}else await gb(n.localStore,e,!1).then(()=>pb(n,e,r)).catch(UA)}async function sz(t,e){const r=Te(t),n=e.batch.batchId;try{const i=await pW(r.localStore,e);XO(r,n,null),YO(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Qf(r,i)}catch(i){await UA(i)}}async function az(t,e,r){const n=Te(t);try{const i=await function(a,o){const A=Te(a);return A.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return A.mutationQueue.lookupMutationBatch(l,o).next(d=>(we(d!==null),c=d.keys(),A.mutationQueue.removeMutationBatch(l,d))).next(()=>A.mutationQueue.performConsistencyCheck(l)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>A.localDocuments.getDocuments(l,c))})}(n.localStore,e);XO(n,e,r),YO(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Qf(n,i)}catch(i){await UA(i)}}function YO(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function XO(t,e,r){const n=Te(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function pb(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||qO(t,n)})}function qO(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(u1(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),x1(t))}function c2(t,e,r){for(const n of r)n instanceof $O?(t.La.addReference(n.key,e),oz(t,n)):n instanceof GO?(te("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||qO(t,n.key)):ve()}function oz(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(te("SyncEngine","New document in limbo: "+r),t.xa.add(n),x1(t))}function x1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Ae(qe.fromString(e)),n=t.qa.next();t.Na.set(n,new XW(r)),t.Oa=t.Oa.insert(r,n),RO(t.remoteStore,new vs(ni(Ff(r.path)),n,"TargetPurposeLimboResolution",zn.oe))}}async function Qf(t,e,r){const n=Te(t),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,A)=>{a.push(n.Ka(A,e,r).then(l=>{var c;if((l||r)&&n.isPrimaryClient){const d=l?!l.fromCache:(c=r==null?void 0:r.targetChanges.get(A.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(A.targetId,d?"current":"not-current")}if(l){i.push(l);const d=c1.Wi(A.targetId,l);s.push(d)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(A,l){const c=Te(A);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>K.forEach(l,f=>K.forEach(f.$i,g=>c.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>K.forEach(f.Ui,g=>c.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!uo(d))throw d;te("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const f=d.targetId;if(!d.fromCache){const g=c.os.get(f),m=g.snapshotVersion,p=g.withLastLimboFreeSnapshotVersion(m);c.os=c.os.insert(f,p)}}}(n.localStore,s))}async function Az(t,e){const r=Te(t);if(!r.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const n=await kO(r.localStore,e);r.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(A=>{A.reject(new fe(X.CANCELLED,a))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Qf(r,n.hs)}}function lz(t,e){const r=Te(t),n=r.Na.get(e);if(n&&n.va)return Pe().add(n.key);{let i=Pe();const s=r.Ma.get(e);if(!s)return i;for(const a of s){const o=r.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function JO(t){const e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iz.bind(null,e),e.Ca.d_=GW.bind(null,e.eventManager),e.Ca.$a=WW.bind(null,e.eventManager),e}function ZO(t){const e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=az.bind(null,e),e}class nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=R0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return PO(this.persistence,new UO,e.initialUser,this.serializer)}Ga(e){return new NO(D0.Zr,this.serializer)}Wa(e){return new OO}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nf.provider={build:()=>new nf};class cz extends nf{constructor(e,r,n){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await ZO(this.Ja.syncEngine),await kf(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return PO(this.persistence,new UO,e.initialUser,this.serializer)}ja(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new JG(n,e.asyncQueue,r)}Ha(e,r){const n=new _9(r,this.persistence);return new E9(e.asyncQueue,n)}Ga(e){const r=hW(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?Jr.withCacheSize(this.cacheSizeBytes):Jr.DEFAULT;return new l1(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,IW(),am(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new OO}}class sp{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>l2(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Az.bind(null,this.syncEngine),await VW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $W}()}createDatastore(e){const r=R0(e.databaseInfo.databaseId),n=function(s){return new _W(s)}(e.databaseInfo);return function(s,a,o,A){return new FW(s,a,o,A)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new UW(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>l2(this.syncEngine,r,0),function(){return i2.D()?new i2:new BW}())}createSyncEngine(e,r){return function(i,s,a,o,A,l,c){const d=new qW(i,s,a,o,A,l);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=Te(i);te("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Pf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}sp.provider={build:()=>new sp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=vr.UNAUTHENTICATED,this.clientId=$C.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{te("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(te("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=m1(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function tw(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await kO(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function u2(t,e){t.asyncQueue.verifyOperationInProgress();const r=await dz(t);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>s2(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>s2(e.remoteStore,i)),t._onlineComponents=e}async function dz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await tw(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Ya("Error using user provided cache. Falling back to memory cache: "+r),await tw(t,new nf)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await tw(t,new nf);return t._offlineComponents}async function ej(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await u2(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await u2(t,new sp))),t._onlineComponents}function fz(t){return ej(t).then(e=>e.syncEngine)}async function ap(t){const e=await ej(t),r=e.eventManager;return r.onListen=JW.bind(null,e.syncEngine),r.onUnlisten=tz.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=ZW.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=rz.bind(null,e.syncEngine),r}function hz(t,e,r={}){const n=new Li;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,A,l){const c=new b1({next:f=>{c.Za(),a.enqueueAndForget(()=>v1(s,d));const g=f.docs.has(o);!g&&f.fromCache?l.reject(new fe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&A&&A.source==="server"?l.reject(new fe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new w1(Ff(o.path),c,{includeMetadataChanges:!0,_a:!0});return p1(s,d)}(await ap(t),t.asyncQueue,e,r,n)),n.promise}function gz(t,e,r={}){const n=new Li;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,A,l){const c=new b1({next:f=>{c.Za(),a.enqueueAndForget(()=>v1(s,d)),f.fromCache&&A.source==="server"?l.reject(new fe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new w1(o,c,{includeMetadataChanges:!0,_a:!0});return p1(s,d)}(await ap(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t,e,r){if(!r)throw new fe(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nj(t,e,r,n){if(e===!0&&n===!0)throw new fe(X.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function f2(t){if(!Ae.isDocumentKey(t))throw new fe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function h2(t){if(Ae.isDocumentKey(t))throw new fe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function B1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function ii(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=B1(t);throw new fe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tj((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class L0{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g2(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new C4;switch(n.type){case"firstParty":return new p9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new fe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=d2.get(r);n&&(te("ComponentProvider","Removing Datastore"),d2.delete(r),n.terminate())}(this),Promise.resolve()}}function ij(t,e,r,n={}){var i;const s=(t=ii(t,L0))._getSettings(),a=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,A;if(typeof n.mockUserToken=="string")o=n.mockUserToken,A=vr.MOCK_USER;else{o=G$(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new fe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new vr(l)}t._authCredentials=new h9(new B4(o,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new kA(this.firestore,e,this._query)}}class Gr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gr(this.firestore,e,this._key)}}class _s extends kA{constructor(e,r,n){super(e,r,Ff(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gr(this.firestore,null,new Ae(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function pd(t,e,...r){if(t=An(t),rj("collection","path",e),t instanceof L0){const n=qe.fromString(e,...r);return h2(n),new _s(t,null,n)}{if(!(t instanceof Gr||t instanceof _s))throw new fe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(qe.fromString(e,...r));return h2(n),new _s(t.firestore,null,n)}}function ki(t,e,...r){if(t=An(t),arguments.length===1&&(e=$C.newId()),rj("doc","path",e),t instanceof L0){const n=qe.fromString(e,...r);return f2(n),new Gr(t,null,new Ae(n))}{if(!(t instanceof Gr||t instanceof _s))throw new fe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(qe.fromString(e,...r));return f2(n),new Gr(t.firestore,t instanceof _s?t.converter:null,new Ae(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new jO(this,"async_queue_retry"),this.Vu=()=>{const n=am();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=am();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=am();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Li;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!uo(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw Lr("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=g1.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function p2(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=-1;class eo extends L0{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new m2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m2(e),this._firestoreClient=void 0,await e}}}function aj(t,e){const r=typeof t=="object"?t:h4(),n=typeof t=="string"?t:"(default)",i=VC(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=K$("firestore");s&&ij(i,...s)}return i}function Of(t){if(t._terminated)throw new fe(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oj(t),t._firestoreClient}function oj(t){var e,r,n;const i=t._freezeSettings(),s=function(o,A,l,c){return new z9(o,A,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,tj(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new uz(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const A=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(A),_online:A}}(t._componentsProvider))}function Aj(t,e){Ya("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return mz(t,sp.provider,{build:n=>new cz(n,r.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function mz(t,e,r){if((t=ii(t,eo))._firestoreClient||t._terminated)throw new fe(X.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new fe(X.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},oj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new BA(Mt.fromBase64String(e))}catch(r){throw new fe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new BA(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new fe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new fe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new fe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz=/^__.*__$/;class vz{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new ho(e,this.data,this.fieldMask,r,this.fieldTransforms):new Pc(e,this.data,r,this.fieldTransforms)}}function lj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class C1{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new C1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return op(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(lj(this.Cu)&&pz.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class yz{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||R0(e)}Qu(e,r,n,i=!1){return new C1({Cu:e,methodName:r,qu:n,path:yt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wz(t){const e=t._freezeSettings(),r=R0(t._databaseId);return new yz(t._databaseId,!!e.ignoreUndefinedProperties,r)}function xz(t,e,r,n,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);fj("Data must be an object, but it was:",a,n);const o=uj(n,a);let A,l;if(s.merge)A=new Yn(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=bz(e,d,r);if(!a.contains(f))throw new fe(X.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Cz(c,f)||c.push(f)}A=new Yn(c),l=a.fieldTransforms.filter(d=>A.covers(d.field))}else A=null,l=a.fieldTransforms;return new vz(new tn(o),A,l)}class E1 extends V0{_toFieldTransform(e){return new rO(e.path,new ac)}isEqual(e){return e instanceof E1}}function cj(t,e){if(dj(t=An(t)))return fj("Unsupported field value:",e,t),uj(t,e);if(t instanceof V0)return function(n,i){if(!lj(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let A=cj(o,i.Lu(a));A==null&&(A={nullValue:"NULL_VALUE"}),s.push(A),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=An(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return gG(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=bt.fromDate(n);return{timestampValue:lc(i.serializer,s)}}if(n instanceof bt){const s=new bt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:lc(i.serializer,s)}}if(n instanceof K0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof BA)return{bytesValue:lO(i.serializer,n._byteString)};if(n instanceof Gr){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:s1(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof $0)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(A=>{if(typeof A!="number")throw o.Bu("VectorValues must only contain numeric values.");return ZC(o.serializer,A)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${B1(n)}`)}(t,e)}function uj(t,e){const r={};return k4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uc(t,(n,i)=>{const s=cj(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function dj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof K0||t instanceof BA||t instanceof Gr||t instanceof V0||t instanceof $0)}function fj(t,e,r){if(!dj(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=B1(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function bz(t,e,r){if((e=An(e))instanceof H0)return e._internalPath;if(typeof e=="string")return hj(t,e);throw op("Field path arguments must be of type string or ",t,!1,void 0,r)}const Bz=new RegExp("[~\\*/\\[\\]]");function hj(t,e,r){if(e.search(Bz)>=0)throw op(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new H0(...e.split("."))._internalPath}catch{throw op(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function op(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let A="";return(s||a)&&(A+=" (found",s&&(A+=` in field ${n}`),a&&(A+=` in document ${i}`),A+=")"),new fe(X.INVALID_ARGUMENT,o+t+A)}function Cz(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ez(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(mj("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Ez extends gj{data(){return super.data()}}function mj(t,e){return typeof e=="string"?hj(t,e):e instanceof H0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _z{}class vj extends _z{}class G0 extends vj{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new G0(e,r,n)}_apply(e){return new kA(e.firestore,e.converter,Jm(e._query,this._limit,this._limitType))}}function yj(t){return G0._create("limit",t,"F")}class wj{convertValue(e,r="none"){switch(vA(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Uc(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>pt(a.doubleValue));return new $0(s)}convertGeoPoint(e){return new K0(pt(e.latitude),pt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=XC(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Zd(e));default:return null}}convertTimestamp(e){const r=Qs(e);return new bt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=qe.fromString(e);we(yO(n));const i=new qa(n.get(1),n.get(3)),s=new Ae(n.popFirst(5));return i.isEqual(r)||Lr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iz(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _1 extends gj{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(mj("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class vd extends _1{data(e={}){return super.data(e)}}class I1{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Sl(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new vd(this._firestore,this._userDataWriter,n.key,n,new Sl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new fe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const A=new vd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Sl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:A,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const A=new vd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Sl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return o.type!==0&&(l=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),c=a.indexOf(o.doc.key)),{type:Sz(o.type),doc:A,oldIndex:l,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Sz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(t){t=ii(t,Gr);const e=ii(t.firestore,eo);return hz(Of(e),t._key).then(r=>bj(e,t,r))}class S1 extends wj{constructor(e){super(),this.firestore=e}convertBytes(e){return new BA(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Gr(this.firestore,null,r)}}function yd(t){t=ii(t,kA);const e=ii(t.firestore,eo),r=Of(e),n=new S1(e);return pj(t._query),gz(r,t._query).then(i=>new I1(e,n,t,i))}function Wo(t,e,r){t=ii(t,Gr);const n=ii(t.firestore,eo),i=Iz(t.converter,e);return xj(n,[xz(wz(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Cn.none())])}function sf(t,...e){var r,n,i;t=An(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||p2(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(p2(e[a])){const d=e[a];e[a]=(r=d.next)===null||r===void 0?void 0:r.bind(d),e[a+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),e[a+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let A,l,c;if(t instanceof Gr)l=ii(t.firestore,eo),c=Ff(t._key.path),A={next:d=>{e[a]&&e[a](bj(l,t,d))},error:e[a+1],complete:e[a+2]};else{const d=ii(t,kA);l=ii(d.firestore,eo),c=d._query;const f=new S1(l);A={next:g=>{e[a]&&e[a](new I1(l,f,d,g))},error:e[a+1],complete:e[a+2]},pj(t._query)}return function(f,g,m,p){const v=new b1(p),y=new w1(g,v,m);return f.asyncQueue.enqueueAndForget(async()=>p1(await ap(f),y)),()=>{v.Za(),f.asyncQueue.enqueueAndForget(async()=>v1(await ap(f),y))}}(Of(l),c,o,A)}function xj(t,e){return function(n,i){const s=new Li;return n.asyncQueue.enqueueAndForget(async()=>nz(await fz(n),i,s)),s.promise}(Of(t),e)}function bj(t,e,r){const n=r.docs.get(e._key),i=new S1(t);return new _1(t,i,e._key,n,new Sl(r.hasPendingWrites,r.fromCache),e.converter)}function Fz(){return new E1("serverTimestamp")}(function(e,r=!0){(function(i){Nc=i})(Fc),tc(new mA("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new eo(new g9(n.getProvider("auth-internal")),new y9(n.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new fe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qa(l.options.projectId,c)}(a,i),a);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Da(uT,"4.7.3",e),Da(uT,"4.7.3","esm2017")})();const om=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:wj,Bytes:BA,CACHE_SIZE_UNLIMITED:sj,CollectionReference:_s,DocumentReference:Gr,DocumentSnapshot:_1,FieldPath:H0,FieldValue:V0,Firestore:eo,FirestoreError:fe,GeoPoint:K0,Query:kA,QueryConstraint:vj,QueryDocumentSnapshot:vd,QueryLimitConstraint:G0,QuerySnapshot:I1,SnapshotMetadata:Sl,Timestamp:bt,VectorValue:$0,_AutoId:$C,_ByteString:Mt,_DatabaseId:qa,_DocumentKey:Ae,_EmptyAuthCredentialsProvider:C4,_FieldPath:yt,_cast:ii,_logWarn:Ya,_validateIsNotUsedTogether:nj,collection:pd,connectFirestoreEmulator:ij,doc:ki,enableIndexedDbPersistence:Aj,ensureFirestoreConfigured:Of,executeWrite:xj,getDoc:Tz,getDocs:yd,getFirestore:aj,limit:yj,onSnapshot:sf,serverTimestamp:Fz,setDoc:Wo},Symbol.toStringTag,{value:"Module"}));var Nz="firebase",Uz="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Da(Nz,Uz,"app");function T1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Bj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cj=Bj,Ej=new If("auth","Firebase",Bj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=new LC("@firebase/auth");function Pz(t,...e){Ap.logLevel<=De.WARN&&Ap.warn(`Auth (${Fc}): ${t}`,...e)}function Am(t,...e){Ap.logLevel<=De.ERROR&&Ap.error(`Auth (${Fc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,...e){throw F1(t,...e)}function Hi(t,...e){return F1(t,...e)}function _j(t,e,r){const n=Object.assign(Object.assign({},Cj()),{[e]:r});return new If("auth","Firebase",n).create(e,{appName:t.name})}function Ma(t){return _j(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function F1(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Ej.create(t,...e)}function _e(t,e,...r){if(!t)throw F1(e,...r)}function ys(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Am(e),new Error(e)}function Os(t,e){t||ys(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kz(){return v2()==="http:"||v2()==="https:"}function v2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kz()||X$()||"connection"in navigator)?navigator.onLine:!0}function Oz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,r){this.shortDelay=e,this.longDelay=r,Os(r>e,"Short delay should be less than long delay!"),this.isMobile=W$()||q$()}get(){return Qz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t,e){Os(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz=new jf(3e4,6e4);function QA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function go(t,e,r,n,i={}){return Sj(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=Sf(Object.assign({key:t.config.apiKey},a)).slice(1),A=await t._getAdditionalHeaders();A["Content-Type"]="application/json",t.languageCode&&(A["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:A},s);return Y$()||(l.referrerPolicy="no-referrer"),Ij.fetch()(Tj(t,t.config.apiHost,r,o),l)})}async function Sj(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},jz),e);try{const i=new Mz(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Wh(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[A,l]=o.split(" : ");if(A==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(t,"credential-already-in-use",a);if(A==="EMAIL_EXISTS")throw Wh(t,"email-already-in-use",a);if(A==="USER_DISABLED")throw Wh(t,"user-disabled",a);const c=n[A]||A.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw _j(t,c,l);Ei(t,c)}}catch(i){if(i instanceof $s)throw i;Ei(t,"network-request-failed",{message:String(i)})}}async function W0(t,e,r,n,i={}){const s=await go(t,e,r,n,i);return"mfaPendingCredential"in s&&Ei(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Tj(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?N1(t.config,i):`${t.config.apiScheme}://${i}`}function Rz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Hi(this.auth,"network-request-failed")),Dz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Hi(t,e,n);return i.customData._tokenResponse=r,i}function y2(t){return t!==void 0&&t.enterprise!==void 0}class Lz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Rz(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Hz(t,e){return go(t,"GET","/v2/recaptchaConfig",QA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vz(t,e){return go(t,"POST","/v1/accounts:delete",e)}async function Fj(t,e){return go(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Nj(t,e=!1){const r=An(t),n=await r.getIdToken(e),i=U1(n);_e(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:wd(rw(i.auth_time)),issuedAtTime:wd(rw(i.iat)),expirationTime:wd(rw(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rw(t){return Number(t)*1e3}function U1(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Am("JWT malformed, contained fewer than 3 sections"),null;try{const i=s4(r);return i?JSON.parse(i):(Am("Failed to decode base64 JWT payload"),null)}catch(i){return Am("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function w2(t){const e=U1(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof $s&&Kz(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Kz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=wd(this.lastLoginAt),this.creationTime=wd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lp(t){var e;const r=t.auth,n=await t.getIdToken(),i=await af(t,Fj(r,{idToken:n}));_e(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Pj(s.providerUserInfo):[],o=Gz(t.providerData,a),A=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=A?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new yb(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function Uj(t){const e=An(t);await lp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Gz(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function Pj(t){return t.map(e=>{var{providerId:r}=e,n=T1(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wz(t,e){const r=await Sj(t,{},async()=>{const n=Sf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=Tj(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Ij.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function zz(t,e){return go(t,"POST","/v2/accounts:revokeToken",QA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):w2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const r=w2(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await Wz(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new Ll;return n&&(_e(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(_e(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(_e(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ll,this.toJSON())}_performRefresh(){return ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ws{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=T1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $z(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yb(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await af(this,this.stsTokenManager.getToken(this.auth,e));return _e(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Nj(this,e)}reload(){return Uj(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ws(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await lp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ps(this.auth.app))return Promise.reject(Ma(this.auth));const e=await this.getIdToken();return await af(this,Vz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,a,o,A,l,c;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,f=(i=r.email)!==null&&i!==void 0?i:void 0,g=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,m=(a=r.photoURL)!==null&&a!==void 0?a:void 0,p=(o=r.tenantId)!==null&&o!==void 0?o:void 0,v=(A=r._redirectEventId)!==null&&A!==void 0?A:void 0,y=(l=r.createdAt)!==null&&l!==void 0?l:void 0,w=(c=r.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:B,emailVerified:I,isAnonymous:T,providerData:F,stsTokenManager:C}=r;_e(B&&C,e,"internal-error");const _=Ll.fromJSON(this.name,C);_e(typeof B=="string",e,"internal-error"),sa(d,e.name),sa(f,e.name),_e(typeof I=="boolean",e,"internal-error"),_e(typeof T=="boolean",e,"internal-error"),sa(g,e.name),sa(m,e.name),sa(p,e.name),sa(v,e.name),sa(y,e.name),sa(w,e.name);const S=new ws({uid:B,auth:e,email:f,emailVerified:I,displayName:d,isAnonymous:T,photoURL:m,phoneNumber:g,tenantId:p,stsTokenManager:_,createdAt:y,lastLoginAt:w});return F&&Array.isArray(F)&&(S.providerData=F.map(U=>Object.assign({},U))),v&&(S._redirectEventId=v),S}static async _fromIdTokenResponse(e,r,n=!1){const i=new Ll;i.updateFromServerResponse(r);const s=new ws({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await lp(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];_e(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Pj(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Ll;o.updateFromIdToken(n);const A=new ws({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new yb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(A,l),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new Map;function xs(t){Os(t instanceof Function,"Expected a class definition");let e=x2.get(t);return e?(Os(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,x2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}kj.type="NONE";const wb=kj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(t,e,r){return`firebase:${t}:${e}:${r}`}class Hl{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=lm(this.userKey,i.apiKey,s),this.fullPersistenceKey=lm("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ws._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Hl(xs(wb),e,n);const i=(await Promise.all(r.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||xs(wb);const a=lm(n,e.config.apiKey,e.name);let o=null;for(const l of r)try{const c=await l._get(a);if(c){const d=ws._fromJSON(e,c);l!==s&&(o=d),s=l;break}}catch{}const A=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!A.length?new Hl(s,e,n):(s=A[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async l=>{if(l!==s)try{await l._remove(a)}catch{}})),new Hl(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Dj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mj(e))return"Blackberry";if(Lj(e))return"Webos";if(Oj(e))return"Safari";if((e.includes("chrome/")||jj(e))&&!e.includes("edge/"))return"Chrome";if(Rj(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Qj(t=Jt()){return/firefox\//i.test(t)}function Oj(t=Jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jj(t=Jt()){return/crios\//i.test(t)}function Dj(t=Jt()){return/iemobile/i.test(t)}function Rj(t=Jt()){return/android/i.test(t)}function Mj(t=Jt()){return/blackberry/i.test(t)}function Lj(t=Jt()){return/webos/i.test(t)}function P1(t=Jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Yz(t=Jt()){var e;return P1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Xz(){return J$()&&document.documentMode===10}function Hj(t=Jt()){return P1(t)||Rj(t)||Lj(t)||Mj(t)||/windows phone/i.test(t)||Dj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t,e=[]){let r;switch(t){case"Browser":r=b2(Jt());break;case"Worker":r=`${b2(Jt())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Fc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const A=e(s);a(A)}catch(A){o(A)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jz(t,e={}){return go(t,"GET","/v2/passwordPolicy",QA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz=6;class e7{constructor(e){var r,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:Zz,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,a,o;const A={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,A),this.validatePasswordCharacterOptions(e,A),A.isValid&&(A.isValid=(r=A.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),A.isValid&&(A.isValid=(n=A.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),A.isValid&&(A.isValid=(i=A.containsLowercaseLetter)!==null&&i!==void 0?i:!0),A.isValid&&(A.isValid=(s=A.containsUppercaseLetter)!==null&&s!==void 0?s:!0),A.isValid&&(A.isValid=(a=A.containsNumericCharacter)!==null&&a!==void 0?a:!0),A.isValid&&(A.isValid=(o=A.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),A}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B2(this),this.idTokenSubscription=new B2(this),this.beforeStateQueue=new qz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ej,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=xs(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Hl.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Fj(this,{idToken:e}),n=await ws._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ps(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,A=await this.tryRedirectSignIn(e);(!a||a===o)&&(A!=null&&A.user)&&(i=A.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await lp(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Oz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ps(this.app))return Promise.reject(Ma(this));const r=e?An(e):null;return r&&_e(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ps(this.app)?Promise.reject(Ma(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ps(this.app)?Promise.reject(Ma(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Jz(this),r=new e7(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new If("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await zz(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&xs(e)||this._popupRedirectResolver;_e(r,this,"argument-error"),this.redirectPersistenceManager=await Hl.create(this,[xs(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const A=e.addObserver(r,n,i);return()=>{a=!0,A()}}else{const A=e.addObserver(r);return()=>{a=!0,A()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&Pz(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Qc(t){return An(t)}class B2{constructor(e){this.auth=e,this.observer=null,this.addObserver=i8(r=>this.observer=r)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function r7(t){z0=t}function Kj(t){return z0.loadJS(t)}function n7(){return z0.recaptchaEnterpriseScript}function i7(){return z0.gapiScript}function s7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const a7="recaptcha-enterprise",o7="NO_RECAPTCHA";class A7{constructor(e){this.type=a7,this.auth=Qc(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{Hz(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(A=>{if(A.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const l=new Lz(A);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,a(l.siteKey)}}).catch(A=>{o(A)})})}function i(s,a,o){const A=window.grecaptcha;y2(A)?A.enterprise.ready(()=>{A.enterprise.execute(s,{action:e}).then(l=>{a(l)}).catch(()=>{a(o7)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&y2(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let A=n7();A.length!==0&&(A+=o),Kj(A).then(()=>{i(o,s,a)}).catch(l=>{a(l)})}}).catch(o=>{a(o)})})}}async function C2(t,e,r,n=!1){const i=new A7(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function E2(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await C2(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await C2(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t,e){const r=VC(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Wm(s,e??{}))return i;Ei(i,"already-initialized")}return r.initialize({options:e})}function l7(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(xs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Gj(t,e,r){const n=Qc(t);_e(n._canInitEmulator,n,"emulator-config-failed"),_e(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=Wj(e),{host:a,port:o}=c7(e),A=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${A}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),u7()}function Wj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function c7(t){const e=Wj(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:_2(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:_2(a)}}}function _2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function u7(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,r){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}async function d7(t,e){return go(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f7(t,e){return W0(t,"POST","/v1/accounts:signInWithPassword",QA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h7(t,e){return W0(t,"POST","/v1/accounts:signInWithEmailLink",QA(t,e))}async function g7(t,e){return W0(t,"POST","/v1/accounts:signInWithEmailLink",QA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends Y0{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new uc(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new uc(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E2(e,r,"signInWithPassword",f7);case"emailLink":return h7(e,{email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E2(e,n,"signUpPassword",d7);case"emailLink":return g7(e,{idToken:r,email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t,e){return W0(t,"POST","/v1/accounts:signInWithIdp",QA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7="http://localhost";class to extends Y0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Ei("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=T1(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new to(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return Vl(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Vl(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Vl(e,r)}buildRequest(){const e={requestUri:m7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Sf(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function v7(t){const e=Hu(Vu(t)).link,r=e?Hu(Vu(e)).deep_link_id:null,n=Hu(Vu(t)).deep_link_id;return(n?Hu(Vu(n)).link:null)||n||r||e||t}class X0{constructor(e){var r,n,i,s,a,o;const A=Hu(Vu(e)),l=(r=A.apiKey)!==null&&r!==void 0?r:null,c=(n=A.oobCode)!==null&&n!==void 0?n:null,d=p7((i=A.mode)!==null&&i!==void 0?i:null);_e(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=(s=A.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=A.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=A.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=v7(e);try{return new X0(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.providerId=OA.PROVIDER_ID}static credential(e,r){return uc._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=X0.parseLink(r);return _e(n,"argument-error"),uc._fromEmailAndCode(e,n.code,n.tenantId)}}OA.PROVIDER_ID="password";OA.EMAIL_PASSWORD_SIGN_IN_METHOD="password";OA.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends zj{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Df{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Df{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return to._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ls.credential(r,n)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Df{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Df{constructor(){super("twitter.com")}static credential(e,r){return to._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return us.credential(r,n)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await ws._fromIdTokenResponse(e,n,i),a=I2(n);return new dc({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=I2(n);return new dc({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function I2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp extends $s{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,cp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new cp(e,r,n,i)}}function Yj(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?cp._fromErrorAndOperation(t,s,e,n):s})}async function y7(t,e,r=!1){const n=await af(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return dc._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w7(t,e,r=!1){const{auth:n}=t;if(ps(n.app))return Promise.reject(Ma(n));const i="reauthenticate";try{const s=await af(t,Yj(n,i,e,t),r);_e(s.idToken,n,"internal-error");const a=U1(s.idToken);_e(a,n,"internal-error");const{sub:o}=a;return _e(t.uid===o,n,"user-mismatch"),dc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ei(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(t,e,r=!1){if(ps(t.app))return Promise.reject(Ma(t));const n="signIn",i=await Yj(t,n,e),s=await dc._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function qj(t,e){return Xj(Qc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x7(t){const e=Qc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function b7(t,e,r){return ps(t.app)?Promise.reject(Ma(t)):qj(An(t),OA.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&x7(t),n})}function Jj(t,e,r,n){return An(t).onIdTokenChanged(e,r,n)}function Zj(t,e,r){return An(t).beforeAuthStateChanged(e,r)}function B7(t){return An(t).signOut()}const up="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(up,"1"),this.storage.removeItem(up),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7=1e3,E7=10;class tD extends eD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,A)=>{this.notifyListeners(a,A)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);Xz()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,E7):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},C7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}tD.type="LOCAL";const rD=tD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD extends eD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}nD.type="SESSION";const k1=nD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new q0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async l=>l(r.origin,s)),A=await _7(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:A})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}q0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,A)=>{const l=Q1("",20);i.port1.start();const c=setTimeout(()=>{A(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{A(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(f.data.response);break;default:clearTimeout(c),clearTimeout(s),A(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function S7(t){Vi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function T7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function N7(){return iD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="firebaseLocalStorageDb",U7=1,dp="firebaseLocalStorage",aD="fbase_key";class Rf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function J0(t,e){return t.transaction([dp],e?"readwrite":"readonly").objectStore(dp)}function P7(){const t=indexedDB.deleteDatabase(sD);return new Rf(t).toPromise()}function xb(){const t=indexedDB.open(sD,U7);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(dp,{keyPath:aD})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(dp)?e(n):(n.close(),await P7(),e(await xb()))})})}async function S2(t,e,r){const n=J0(t,!0).put({[aD]:e,value:r});return new Rf(n).toPromise()}async function k7(t,e){const r=J0(t,!1).get(e),n=await new Rf(r).toPromise();return n===void 0?null:n.value}function T2(t,e){const r=J0(t,!0).delete(e);return new Rf(r).toPromise()}const Q7=800,O7=3;class oD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xb(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>O7)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=q0._getInstance(N7()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await T7(),!this.activeServiceWorker)return;this.sender=new I7(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xb();return await S2(e,up,"1"),await T2(e,up),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>S2(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>k7(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>T2(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=J0(i,!1).getAll();return new Rf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Q7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oD.type="LOCAL";const AD=oD;new jf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(t,e){return e?xs(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1 extends Y0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Vl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function D7(t){return Xj(t.auth,new O1(t),t.bypassAuthState)}function R7(t){const{auth:e,user:r}=t;return _e(r,e,"internal-error"),w7(r,new O1(t),t.bypassAuthState)}async function M7(t){const{auth:e,user:r}=t;return _e(r,e,"internal-error"),y7(r,new O1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const A={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(A))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return D7;case"linkViaPopup":case"linkViaRedirect":return M7;case"reauthViaPopup":case"reauthViaRedirect":return R7;default:Ei(this.auth,"internal-error")}}resolve(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7=new jf(2e3,1e4);class Tl extends lD{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Tl.currentPopupAction&&Tl.currentPopupAction.cancel(),Tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const e=Q1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,L7.get())};e()}}Tl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7="pendingRedirect",cm=new Map;class V7 extends lD{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=cm.get(this.auth._key());if(!e){try{const n=await K7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}cm.set(this.auth._key(),e)}return this.bypassAuthState||cm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K7(t,e){const r=W7(e),n=G7(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function $7(t,e){cm.set(t._key(),e)}function G7(t){return xs(t._redirectPersistence)}function W7(t){return lm(H7,t.config.apiKey,t.name)}async function z7(t,e,r=!1){if(ps(t.app))return Promise.reject(Ma(t));const n=Qc(t),i=j7(n,e),a=await new V7(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7=10*60*1e3;class X7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q7(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!cD(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Hi(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y7&&this.cachedEventUids.clear(),this.cachedEventUids.has(F2(e))}saveEventToCache(e){this.cachedEventUids.add(F2(e)),this.lastProcessedEventTime=Date.now()}}function F2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function q7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J7(t,e={}){return go(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eY=/^https?/;async function tY(t){if(t.config.emulator)return;const{authorizedDomains:e}=await J7(t);for(const r of e)try{if(rY(r))return}catch{}Ei(t,"unauthorized-domain")}function rY(t){const e=vb(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!eY.test(r))return!1;if(Z7.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nY=new jf(3e4,6e4);function N2(){const t=Vi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function iY(t){return new Promise((e,r)=>{var n,i,s;function a(){N2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N2(),r(Hi(t,"network-request-failed"))},timeout:nY.get()})}if(!((i=(n=Vi().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Vi().gapi)===null||s===void 0)&&s.load)a();else{const o=s7("iframefcb");return Vi()[o]=()=>{gapi.load?a():r(Hi(t,"network-request-failed"))},Kj(`${i7()}?onload=${o}`).catch(A=>r(A))}}).catch(e=>{throw um=null,e})}let um=null;function sY(t){return um=um||iY(t),um}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aY=new jf(5e3,15e3),oY="__/auth/iframe",AY="emulator/auth/iframe",lY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uY(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?N1(e,AY):`https://${t.config.authDomain}/${oY}`,n={apiKey:e.apiKey,appName:t.name,v:Fc},i=cY.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Sf(n).slice(1)}`}async function dY(t){const e=await sY(t),r=Vi().gapi;return _e(r,t,"internal-error"),e.open({where:document.body,url:uY(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lY,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=Hi(t,"network-request-failed"),o=Vi().setTimeout(()=>{s(a)},aY.get());function A(){Vi().clearTimeout(o),i(n)}n.ping(A).then(A,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hY=500,gY=600,mY="_blank",pY="http://localhost";class U2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vY(t,e,r,n=hY,i=gY){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const A=Object.assign(Object.assign({},fY),{width:n.toString(),height:i.toString(),top:s,left:a}),l=Jt().toLowerCase();r&&(o=jj(l)?mY:r),Qj(l)&&(e=e||pY,A.scrollbars="yes");const c=Object.entries(A).reduce((f,[g,m])=>`${f}${g}=${m},`,"");if(Yz(l)&&o!=="_self")return yY(e||"",o),new U2(null);const d=window.open(e||"",o,c);_e(d,t,"popup-blocked");try{d.focus()}catch{}return new U2(d)}function yY(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wY="__/auth/handler",xY="emulator/auth/handler",bY=encodeURIComponent("fac");async function P2(t,e,r,n,i,s){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Fc,eventId:i};if(e instanceof zj){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",n8(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))a[c]=d}if(e instanceof Df){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const A=await t._getAppCheckToken(),l=A?`#${bY}=${encodeURIComponent(A)}`:"";return`${BY(t)}?${Sf(o).slice(1)}${l}`}function BY({config:t}){return t.emulator?N1(t,xY):`https://${t.authDomain}/${wY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="webStorageSupport";class CY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k1,this._completeRedirectFn=z7,this._overrideRedirectResult=$7}async _openPopup(e,r,n,i){var s;Os((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await P2(e,r,n,vb(),i);return vY(e,a,Q1())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await P2(e,r,n,vb(),i);return S7(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Os(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await dY(e),n=new X7(e);return r.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(nw,{type:nw},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[nw];a!==void 0&&r(!!a),Ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=tY(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Hj()||Oj()||P1()}}const uD=CY;var k2="@firebase/auth",Q2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Y(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IY(t){tc(new mA("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;_e(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const A={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vj(t)},l=new t7(n,i,s,A);return l7(l,r),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),tc(new mA("auth-internal",e=>{const r=Qc(e.getProvider("auth").getImmediate());return(n=>new EY(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Da(k2,Q2,_Y(t)),Da(k2,Q2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SY=5*60,TY=A4("authIdTokenMaxAge")||SY;let O2=null;const FY=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>TY)return;const i=r==null?void 0:r.token;O2!==i&&(O2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function dD(t=h4()){const e=VC(t,"auth");if(e.isInitialized())return e.getImmediate();const r=$j(t,{popupRedirectResolver:uD,persistence:[AD,rD,k1]}),n=A4("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=FY(s.toString());Zj(r,a,()=>a(r.currentUser)),Jj(r,o=>a(o))}}const i=a4("auth");return i&&Gj(r,`http://${i}`),r}function NY(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}r7({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=Hi("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",NY().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IY("Browser");const UY=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:X0,AuthCredential:Y0,EmailAuthCredential:uc,EmailAuthProvider:OA,FacebookAuthProvider:As,GithubAuthProvider:cs,GoogleAuthProvider:ls,OAuthCredential:to,TwitterAuthProvider:us,beforeAuthStateChanged:Zj,browserLocalPersistence:rD,browserPopupRedirectResolver:uD,browserSessionPersistence:k1,connectAuthEmulator:Gj,getAuth:dD,getIdTokenResult:Nj,inMemoryPersistence:wb,indexedDBLocalPersistence:AD,initializeAuth:$j,onIdTokenChanged:Jj,prodErrorMap:Cj,reload:Uj,signInWithCredential:qj,signInWithEmailAndPassword:b7,signOut:B7},Symbol.toStringTag,{value:"Module"})),PY={apiKey:"AIzaSyBHzCLGD1E8mrp-iVaJ1P1t9cHe5QT8LN8",authDomain:"brainless-schedule.firebaseapp.com",projectId:"brainless-schedule",storageBucket:"brainless-schedule.appspot.com",messagingSenderId:"902167883215",appId:"1:902167883215:web:8dfc400a1035929c5bf6ba"};let fp;aT().length?fp=aT()[0]:fp=f4(PY);const Ar=aj(fp),fD=dD(fp);try{Aj(Ar,{cacheSizeBytes:sj}).catch(t=>{t.code==="failed-precondition"?console.warn("離線持久性在多個標籤中失敗"):t.code==="unimplemented"&&console.warn("當前瀏覽器不支持離線持久性")})}catch(t){console.error("啟用離線功能時出錯:",t)}async function kY(){try{const t=await yd(pd(Ar,"forecasts"),yj(1));return console.log("Firebase 連接成功"),!0}catch(t){return console.error("Firebase 連接失敗:",t),!1}}const j2=new Map,QY=5*60*1e3,OY=async t=>{try{const e=`admin_${t}`,r=j2.get(e);if(r&&Date.now()-r.timestamp<QY)return r.isAdmin;const{doc:n,getDoc:i}=await ms(async()=>{const{doc:o,getDoc:A}=await Promise.resolve().then(()=>om);return{doc:o,getDoc:A}},void 0),a=(await i(n(Ar,"admins",t))).exists();return j2.set(e,{isAdmin:a,timestamp:Date.now()}),a}catch(e){return console.error("檢查管理員狀態失敗:",e),!1}},Xn={MAX_CONSECUTIVE_DAYS_CHECK:30,MIN_CONSECUTIVE_DAYS:4,MAX_CONSECUTIVE_DAYS:6,REST_SHIFTS:["休假","特休","月休","休","特"],TIME_SLOTS:{MORNING:{start:5,end:12},AFTERNOON:{start:12,end:18},EVENING:{start:18,end:22}},SHIFT_KEYWORDS:{MORNING:["早班","早","Morning","K","KK"],AFTERNOON:["中班","中","Mid","L"],EVENING:["晚班","晚","Evening","Y"]}};let dm={};const jY=t=>{dm=t},Pt={consecutiveDays:new Map,todayWorkers:new Map,todayString:null,todayDate:null,lastCacheTime:0,smartMessages:new Map,lastGenerationTime:0},Z0=(t=!1)=>{const e=Date.now(),r=new Date().toDateString();(t||Pt.lastCacheTime===0||new Date(Pt.lastCacheTime).toDateString()!==r)&&(Pt.consecutiveDays.clear(),Pt.todayWorkers.clear(),Pt.smartMessages.clear(),Pt.todayString=null,Pt.todayDate=null,Pt.lastCacheTime=e,Pt.lastGenerationTime=0)},DY=()=>{Z0(!0)},hD=()=>(Z0(),Pt.todayString||(Pt.todayString=new Date().toISOString().split("T")[0]),Pt.todayString),gD=()=>{if(Z0(),!Pt.todayDate){const t=new Date;Pt.todayDate={year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate(),day:t.getDay()}}return Pt.todayDate},RY=t=>!t||typeof t!="string"?!1:Xn.REST_SHIFTS.includes(t.trim()),Fl=t=>{if(!t||typeof t!="string")return!1;const e=t.trim();return e!==""&&!RY(e)},MY=(t,e,r)=>`${t}-${String(e).padStart(2,"0")}-${String(r).padStart(2,"0")}`,LY=t=>t.timeRestriction?fm(t.startTime,t.endTime):!0,HY=(t,e)=>(t=t.replace(/\{早班同事\}/g,e.morning.length>0?e.morning.join("、"):""),t=t.replace(/\{中班同事\}/g,e.afternoon.length>0?e.afternoon.join("、"):""),t=t.replace(/\{晚班同事\}/g,e.evening.length>0?e.evening.join("、"):""),t=t.replace(/\{所有同事\}/g,e.all.length>0?e.all.join("、"):""),t),VY=(t,e)=>(t=t.replace(/\{早班人數\}/g,e.morning.length.toString()),t=t.replace(/\{中班人數\}/g,e.afternoon.length.toString()),t=t.replace(/\{晚班人數\}/g,e.evening.length.toString()),t=t.replace(/\{總人數\}/g,e.all.length.toString()),t),KY=(t,e,r)=>(t=t.replace(/\{([^}]+)\}連續上班\{(\d+)\}/g,(n,i,s)=>{const a=Object.keys(r).find(o=>r[o]===i);if(a){const o=hp(e,a,r);return`${i}連續上班${o}天`}return n}),t=t.replace(/\{([^}]+)\}連續上班天數/g,(n,i)=>{const s=Object.keys(r).find(a=>r[a]===i);if(s){const a=hp(e,s,r);return`${i}連續上班${a}天`}return n}),t),$Y=(t,e,r)=>(t=t.replace(/\{連續上班同事\}/g,()=>{const n=fc(e,r,Xn.MIN_CONSECUTIVE_DAYS,Xn.MAX_CONSECUTIVE_DAYS);if(n.length>0){const i={};return n.forEach(a=>{i[a.consecutiveDays]||(i[a.consecutiveDays]=[]),i[a.consecutiveDays].push(a.name)}),Object.entries(i).map(([a,o])=>o.length===1?`${o[0]}連續上班${a}天`:`${o.join("、")}連續上班${a}天`).join("、")}return""}),t=t.replace(/\{連續上班同事數量\}/g,()=>fc(e,r,Xn.MIN_CONSECUTIVE_DAYS,Xn.MAX_CONSECUTIVE_DAYS).length.toString()),t),GY=(t,e,r)=>(t=t.replace(/\{連續上班(\d+)天同事\}/g,(n,i)=>{const s=parseInt(i),a=fc(e,r,s,s);if(a.length>0){const o=a.map(A=>A.name);return o.length===1?o[0]:o.join("、")}return""}),t=t.replace(/\{連續上班(\d+)天同事數量\}/g,(n,i)=>{const s=parseInt(i);return fc(e,r,s,s).length.toString()}),t),WY=t=>(t=t.replace(/\s*[，、]\s*$/g,""),t=t.replace(/^\s*[，、]\s*/g,""),t=t.replace(/\s+/g," "),t),zY=(t,e,r)=>{if((t.message.includes("{連續上班同事}")||t.message.includes("{連續上班同事數量}"))&&fc(e,r,Xn.MIN_CONSECUTIVE_DAYS,Xn.MAX_CONSECUTIVE_DAYS).length===0)return!1;const n=t.message.match(/\{連續上班(\d+)天同事\}/g);if(n)for(const i of n){const s=i.match(/\{連續上班(\d+)天同事\}/);if(s){const a=parseInt(s[1]);if(fc(e,r,a,a).length===0)return!1}}return!0},YY=(t,e,r)=>{if(!t||!Array.isArray(t)||t.length===0)return[];const n=mD(e);return n.length>0&&pD(n,r),t.filter(i=>i.enabled).map(i=>{const s=eX(i,e,r);return s&&typeof s=="string"&&s.trim()!==""?{id:`schedule-${i.id||i.name}`,type:"schedule",priority:2,message:s,source:`班表模板: ${i.name}`}:null}).filter(Boolean)},fm=(t,e)=>{const r=new Date,n=r.getHours(),i=r.getMinutes(),s=n*60+i,[a,o]=t.split(":").map(Number),[A,l]=e.split(":").map(Number),c=a*60+o,d=A*60+l;return d<c?s>=c||s<=d:s>=c&&s<=d},XY=()=>["日","一","二","三","四","五","六"][new Date().getDay()],qY=(t,e)=>{const r=new Date;return r.getMonth()+1===t&&r.getDate()===e},JY=t=>new Date().getDate()===t,ZY=t=>{if(!t||typeof t!="object")return[];const e=[],r=gD();for(const[n,i]of Object.entries(t))if(n!=="_lastUpdated"&&i&&typeof i=="object"){for(const[s,a]of Object.entries(i))if(Fl(a)){const o=parseInt(s);if(o===r.date){const A={id:`${n}_${o}`,date:MY(r.year,r.month,o),shift:a,employee:n};e.push(A)}}}return e},mD=t=>{if(!t)return[];if(Array.isArray(t)){const e=hD();return t.filter(n=>{const a=new Date(n.date).toISOString().split("T")[0]===e,o=Fl(n.shift);return a&&o})}else return ZY(t)},hp=(t,e,r={})=>{var i,s,a;if(!t||!e)return 0;Z0();const n=`${e}_${JSON.stringify(t)}`;if(Pt.consecutiveDays.has(n))return Pt.consecutiveDays.get(n);if(r[e],Array.isArray(t)){const o=hD();if(!t.find(d=>d.employee===e&&new Date(d.date).toISOString().split("T")[0]===o))return 0;let l=0,c=new Date;for(;;){const d=c.toISOString().split("T")[0],f=t.find(g=>g.employee===e&&new Date(g.date).toISOString().split("T")[0]===d);if(f&&Fl(f.shift))l++,c.setDate(c.getDate()-1);else break}return Pt.consecutiveDays.set(n,l),l}else{const o=gD(),A=(i=t[e])==null?void 0:i[o.date];if(!Fl(A))return 0;let l=0,c=o.date;for(;c>=1;){const d=(s=t[e])==null?void 0:s[c];if(Fl(d))l++,c--;else break}if(c<1){const d=new Date,f=d.getFullYear(),g=d.getMonth()+1;let m,p;g===1?(m=f-1,p=12):(m=f,p=g-1);const v=`${m}-${p.toString().padStart(2,"0")}`;if(dm&&dm[v]){const y=dm[v],w=new Date(m,p,0).getDate(),B=7;for(let I=w;I>=Math.max(1,w-B+1);I--){const T=(a=y[e])==null?void 0:a[I];if(Fl(T))l++;else break}}}return Pt.consecutiveDays.set(n,l),l}},fc=(t,e={},r=Xn.MIN_CONSECUTIVE_DAYS,n=Xn.MAX_CONSECUTIVE_DAYS)=>{if(!t)return[];const i=[];return Array.isArray(t)?[...new Set(t.map(a=>a.employee))].forEach(a=>{const o=hp(t,a,e);if(o>=r&&o<=n){const A=e[a]||a;i.push({id:a,name:A,consecutiveDays:o})}}):Object.keys(t).filter(a=>a!=="_lastUpdated").forEach(a=>{const o=hp(t,a,e);if(o>=r&&o<=n){const A=e[a]||a;i.push({id:a,name:A,consecutiveDays:o})}}),i},pD=(t,e={})=>{const r={morning:[],afternoon:[],evening:[],all:[]};return t.forEach(n=>{const i=n.shift||"",s=n.employee||"未知",a=e[s]||s;r.all.push(a),Xn.SHIFT_KEYWORDS.MORNING.some(o=>i.includes(o))?r.morning.push(a):Xn.SHIFT_KEYWORDS.AFTERNOON.some(o=>i.includes(o))?r.afternoon.push(a):Xn.SHIFT_KEYWORDS.EVENING.some(o=>i.includes(o))?r.evening.push(a):r.all.push(a)}),r},eX=(t,e,r={})=>{if(!t||!e||!LY(t))return null;const n=mD(e);if(n.length===0)return null;const i=pD(n,r);let s=t.message;return s=HY(s,i),s=VY(s,i),s=KY(s,e,r),s=$Y(s,e,r),s=GY(s,e,r),s=WY(s),zY(t,e,r)?s:null},tX=t=>{if(!Array.isArray(t)||t.length===0)return"";const e=t.filter(r=>r&&typeof r=="string"&&r.trim()!=="");return e.length===0?"":e[Math.floor(Math.random()*e.length)]},rX=(t=null,e=[],r=[],n={})=>{const i=JSON.stringify({scheduleData:t?Object.keys(t).length:0,customRules:e.length,scheduleTemplates:r.length,namesData:Object.keys(n).length,time:new Date().toDateString()});if(Pt.smartMessages.has(i)){const o=Pt.smartMessages.get(i);if(Date.now()-o.timestamp<5*60*1e3)return o.messages}const s=XY(),a=[];if(e&&Array.isArray(e)){const o=[];for(const A of e){if(!A.enabled)continue;let l=!1;A.type==="timeRange"?l=A.allDay||fm(A.startTime,A.endTime):A.type==="dayOfWeek"?l=A.day===s&&(A.allDay||fm(A.startTime,A.endTime)):A.type==="specificDate"?l=qY(A.month,A.date):A.type==="monthlyDate"&&(l=JY(A.date)&&(A.allDay||fm(A.startTime,A.endTime))),l&&A.messages&&Array.isArray(A.messages)&&A.messages.length>0&&A.messages.some(c=>c&&typeof c=="string"&&c.trim()!=="")&&o.push(A)}if(o.length>0){const A=o[Math.floor(Math.random()*o.length)],l=tX(A.messages);l&&l.trim()!==""&&a.push({id:`custom-${A.id||A.name}`,type:"custom",priority:1,message:l,source:`自定義規則: ${A.name}`})}}if(t&&r&&Array.isArray(r)){const o=YY(r,t,n);a.push(...o)}return Pt.smartMessages.set(i,{messages:a,timestamp:Date.now()}),a},el=t=>/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(t),Lve=t=>{if(!t.type||!t.messages||!Array.isArray(t.messages)||t.messages.length===0)return!1;switch(t.type){case"timeRange":return t.allDay||el(t.startTime)&&el(t.endTime);case"dayOfWeek":return["日","一","二","三","四","五","六"].includes(t.day)&&(t.allDay||el(t.startTime)&&el(t.endTime));case"specificDate":return t.month>=1&&t.month<=12&&t.date>=1&&t.date<=31;case"monthlyDate":return t.date>=1&&t.date<=31&&(t.allDay||el(t.startTime)&&el(t.endTime));default:return!1}},Hve=t=>t.message&&t.message.trim()!=="",Vve=()=>[{id:"1",name:"早上問候",type:"timeRange",startTime:"08:00",endTime:"10:00",allDay:!1,messages:["早安！新的一天開始了～","早上好！今天也要加油喔！","喵～早安！準備好迎接新的一天了嗎？"],enabled:!1},{id:"2",name:"午休提醒",type:"timeRange",startTime:"12:00",endTime:"13:00",allDay:!1,messages:["午休時間到了，記得休息一下喔～","喵～該吃午餐了！","午休愉快！"],enabled:!1},{id:"3",name:"週三進貨提醒",type:"dayOfWeek",day:"三",startTime:"14:00",endTime:"16:00",allDay:!1,messages:["週三下午進貨時間到了，加油！","喵～進貨時間！","週三進貨，辛苦了！"],enabled:!1},{id:"4",name:"週末問候",type:"dayOfWeek",day:"六",startTime:"09:00",endTime:"11:00",allDay:!1,messages:["週末愉快！好好休息喔～","喵～週末快樂！","週末愉快！享受美好時光～"],enabled:!1},{id:"5",name:"每月1號提醒",type:"monthlyDate",date:1,startTime:"08:00",endTime:"10:00",allDay:!1,messages:["新的月份開始了！大家加油！","喵～新的月份，新的開始！","每月1號，重新出發！"],enabled:!1},{id:"6",name:"週末全天問候",type:"dayOfWeek",day:"六",startTime:"08:00",endTime:"10:00",allDay:!0,messages:["週末愉快！好好享受假期～","喵～週末快樂！全天陪伴你！","週末愉快！放鬆心情～"],enabled:!1}],Kve=()=>[{id:"1",name:"早班問候",message:"{早班同事}，早安！今天也要加油喔！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"2",name:"晚班問候",message:"{晚班同事}，晚安！今天辛苦了！",enabled:!1,timeRestriction:!1,startTime:"18:00",endTime:"20:00"},{id:"3",name:"全體問候",message:"{所有同事}，工作辛苦了！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"4",name:"人數統計",message:"今天有{總人數}位同事上班，加油！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"5",name:"連續上班關心",message:"{連續上班同事}，辛苦了！記得適時休息喔～",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"6",name:"連續上班鼓勵",message:"{連續上班同事}，真是勤奮！繼續保持！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"7",name:"連續上班提醒",message:"提醒：{連續上班同事}，請注意工作時數安排",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"8",name:"連續上班統計",message:"今天有{連續上班同事數量}位同事連續上班4天以上，大家辛苦了！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"9",name:"連續上班6天提醒",message:"{連續上班6天同事}，已經連續上班6天，請務必安排休息！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"10",name:"連續上班5天關心",message:"{連續上班5天同事}，連續上班5天辛苦了，記得適時休息喔～",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"11",name:"連續上班4天鼓勵",message:"{連續上班4天同事}，連續上班4天，工作態度值得肯定！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"12",name:"連續上班6天簡潔提醒",message:"{連續上班6天同事}，請務必安排休息！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"13",name:"連續上班5天簡潔關心",message:"{連續上班5天同事}，辛苦了，記得適時休息喔～",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"}],nX=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState([]),[i,s]=x.useState(0),[a,o]=x.useState(!1),[A,l]=x.useState(4),[c,d]=x.useState(""),[f,g]=x.useState(!0),[m,p]=x.useState(!1),[v,y]=x.useState(""),[w,B]=x.useState(""),[I,T]=x.useState(""),[F,C]=x.useState(!1),[_,S]=x.useState(!1),[U,k]=x.useState(null),[Q,P]=x.useState([]),[ae,xe]=x.useState([]),[me,pe]=x.useState([]),[q,ie]=x.useState({}),[ce,Se]=x.useState(Date.now()),[ne,Ne]=x.useState([]);x.useEffect(()=>sf(ki(Ar,"catSpeech","global"),D=>{if(D.exists()){const Y=D.data();e(Y.enabled||!1),n(Y.texts||[]),l(Y.intervalSeconds||4),S(Y.smartMode||!1),P(Y.customRules||[]),xe(Y.scheduleTemplates||[]),d("")}else e(!1),n([]),l(4),S(!1),P([]),xe([]);g(!1)},D=>{console.error("監聽設定失敗:",D),d("載入對話設定失敗"),g(!1)}),[]),x.useEffect(()=>{(async()=>{try{const{doc:D,getDoc:Y}=await ms(async()=>{const{doc:$,getDoc:z}=await Promise.resolve().then(()=>om);return{doc:$,getDoc:z}},void 0),M=await Y(D(Ar,"catSpeech","dialogueOrder"));if(M.exists()){const $=M.data();$.dialogues&&Array.isArray($.dialogues)&&(Ne($.dialogues),console.log("載入排序後的對話列表:",$.dialogues.length,"個對話"))}}catch(D){console.error("載入排序對話列表失敗:",D)}})()},[]),x.useEffect(()=>{if(!_)return;(async()=>{try{const{collection:D,getDocs:Y}=await ms(async()=>{const{collection:z,getDocs:L}=await Promise.resolve().then(()=>om);return{collection:z,getDocs:L}},void 0),M=await Y(D(Ar,"names")),$={};M.forEach(z=>{const L=z.data();$[z.id]=L.name}),ie($)}catch(D){console.error("載入姓名資料失敗:",D)}})()},[_]),x.useEffect(()=>{if(!_)return;(async()=>{try{console.log("開始載入班表資料...");const{collection:D,getDocs:Y}=await ms(async()=>{const{collection:L,getDocs:Be}=await Promise.resolve().then(()=>om);return{collection:L,getDocs:Be}},void 0),M=await Y(D(Ar,"schedule")),$={};let z=null;M.forEach(L=>{const Be=L.data();$[L.id]=Be,(L.id==="currentMonth"&&!z||L.id==="nextMonth"&&!z)&&(z=Be)}),console.log("載入的班表資料:",Object.keys($)),jY($),k(z)}catch(D){console.error("載入班表資料失敗:",D)}})()},[_]),x.useEffect(()=>{if(console.log("=== 智能對話生成檢查 ==="),console.log("智能模式:",_),console.log("顯示氣泡:",t),console.log("班表資料:",U?"已載入":"未載入"),console.log("班表模板:",ae.length,"個"),console.log("自定義規則:",Q.length,"個"),console.log("姓名資料:",Object.keys(q).length,"個"),!_||!t){console.log("智能模式或顯示氣泡未開啟，跳過智能對話生成");return}const V=()=>{console.log("=== 開始生成智能對話 ==="),DY();const Y=rX(U,Q,ae,q);if(console.log("生成的智能對話數量:",Y.length),console.log("智能對話詳情:",Y.map(M=>{var $;return{id:M.id,type:M.type,message:($=M.message)==null?void 0:$.substring(0,30),source:M.source}})),Y.length>0){console.log("=== 簡化邏輯：直接使用智能對話 ===");const M=Y.map(L=>L.message).filter(L=>L&&L.trim()!=="");console.log("智能對話訊息:",M);const $=r.filter(L=>L&&typeof L=="string"&&L.trim()!==""&&!M.includes(L)),z=[...M,...$];if(console.log("原始普通對話:",$),console.log("合併後的對話:",z),z.length>0)console.log("設置合併後的對話:",z.length,"個"),console.log("最終對話內容:",z),pe(Y),n(z);else{const L=r.filter(Be=>Be&&typeof Be=="string"&&Be.trim()!=="");console.log("沒有有效對話，使用原始對話:",L),n(L)}}else{const M=r.filter($=>$&&typeof $=="string"&&$.trim()!=="");console.log("沒有智能對話，使用原始對話:",M),n(M)}};V();const D=setInterval(V,30*1e3);return()=>clearInterval(D)},[_,t,U,Q,ae,q,ce,ne]),x.useEffect(()=>{if(r.length>0){if(i>=r.length)s(0);else if(!r[i]||typeof r[i]!="string"||r[i].trim()===""){const V=r.findIndex(D=>D&&typeof D=="string"&&D.trim()!=="");s(V!==-1?V:0)}}},[r,i]),x.useEffect(()=>{if(!t||r.length===0)return;const V=setInterval(()=>{o(!0),setTimeout(()=>{s(D=>D>=r.length||D===r.length-1?0:D+1),o(!1)},300)},A*1e3);return()=>clearInterval(V)},[t,r.length,A]);const ze=()=>{Se(Date.now())};x.useEffect(()=>{const V=D=>{D.ctrlKey&&D.altKey&&D.key==="A"&&p(!0),D.ctrlKey&&D.key==="R"&&_&&(D.preventDefault(),ze())};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[_]);const j=async()=>{if(!v.trim()||!w.trim()){T("請輸入信箱和密碼");return}try{C(!0),T("");const{signInWithEmailAndPassword:V}=await ms(async()=>{const{signInWithEmailAndPassword:D}=await Promise.resolve().then(()=>UY);return{signInWithEmailAndPassword:D}},void 0);await V(fD,v,w),p(!1),y(""),B("")}catch(V){console.error("登入失敗:",V);let D="登入失敗";switch(V.code){case"auth/user-not-found":D="找不到此帳號";break;case"auth/wrong-password":D="密碼錯誤";break;case"auth/invalid-email":D="信箱格式錯誤";break;case"auth/too-many-requests":D="登入次數過多，請稍後再試";break;default:D="登入失敗："+V.message}T(D)}finally{C(!1)}};return f?u.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:u.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}):c?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:u.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),u.jsx("div",{className:"mt-2 mb-0 animate-fadeIn",children:u.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-2",children:u.jsx("div",{className:"text-red-400 text-center text-sm",children:c})})})]}):!t||r.length===0?u.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:u.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:u.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),u.jsx("div",{className:"mt-2 mb-0 animate-fadeIn",children:u.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-2xl p-2 border border-primary/20 backdrop-blur-sm shadow-lg relative",children:[_&&u.jsx("button",{onClick:ze,className:"absolute top-1 right-1 w-6 h-6 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100 z-10",title:"刷新智能對話 (Ctrl+R)",children:u.jsx("svg",{className:"w-3 h-3 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),u.jsx("div",{className:"relative",children:u.jsx("div",{className:`text-white text-center text-lg leading-relaxed min-h-[1.2rem] flex items-center justify-center transition-all duration-300 ${a?"opacity-0 transform translate-y-2":"opacity-100 transform translate-y-0"}`,children:(()=>{const V=r[i];if(V&&typeof V=="string"&&V.trim()!=="")return V;if(r.length===0)return"喵～";{const D=r.findIndex((Y,M)=>M>i&&Y&&typeof Y=="string"&&Y.trim()!=="");if(D!==-1)return r[D];{const Y=r.findIndex(M=>M&&typeof M=="string"&&M.trim()!=="");return Y!==-1?r[Y]:"喵～"}}})()})})]})}),m&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-surface rounded-xl p-6 w-96 border border-primary/20",children:[u.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"管理員登入"}),u.jsx("input",{type:"email",placeholder:"管理員信箱",value:v,onChange:V=>y(V.target.value),disabled:F,className:"w-full mb-3 p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:opacity-50",onKeyPress:V=>V.key==="Enter"&&!F&&j()}),u.jsx("input",{type:"password",placeholder:"密碼",value:w,onChange:V=>B(V.target.value),disabled:F,className:"w-full mb-4 p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:opacity-50",onKeyPress:V=>V.key==="Enter"&&!F&&j()}),I&&u.jsx("div",{className:"text-red-400 text-sm mb-3 bg-red-500/10 border border-red-500/20 rounded-lg p-2",children:I}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:j,disabled:F,className:"flex-1 bg-primary text-white p-3 rounded-lg hover:bg-primary/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:F?"登入中...":"登入"}),u.jsx("button",{onClick:()=>p(!1),disabled:F,className:"flex-1 bg-white/10 text-white p-3 rounded-lg hover:bg-white/20 transition-colors disabled:opacity-50",children:"取消"})]})]})})]})},iX="/Brainless/assets/logo-cat-CbWHoD5g.png";function sX(){return u.jsx("header",{className:"bg-surface text-white",children:u.jsx("div",{className:"container-custom py-4 md:py-6",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("div",{className:"flex items-center gap-4 relative",children:[u.jsx("img",{src:iX,alt:"Cat Logo",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full border-2 border-primary p-1 logo logo-glow logo-float"}),u.jsxs("div",{className:"flex flex-col items-start gap-1",children:[u.jsx("h1",{className:"text-2xl sm:text-4xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Brainless"}),u.jsx(O$,{})]})]}),u.jsx(nX,{})]})})})}function aX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const oX=x.forwardRef(aX);function AX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const D2=x.forwardRef(AX);function lX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const cX=x.forwardRef(lX);function uX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const dX=x.forwardRef(uX);function fX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))}const of=x.forwardRef(fX);function hX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const xd=x.forwardRef(hX);function gX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const vD=x.forwardRef(gX);function mX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const pX=x.forwardRef(mX);function vX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const bb=x.forwardRef(vX);function yX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Bb=x.forwardRef(yX);function wX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const zh=x.forwardRef(wX);function xX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Cb=x.forwardRef(xX);function bX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const BX=x.forwardRef(bX);function CX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const ss=x.forwardRef(CX);function EX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const as=x.forwardRef(EX);function _X({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const IX=x.forwardRef(_X);function SX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const yD=x.forwardRef(SX);function TX(t){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 20v-7m0 0l6-6.5H6L12 13zm-4-9h8m-8 0l-2-2m10 2l2-2"})})}const R2=[{path:"/sandwich",label:"三明治計算器",icon:u.jsx(of,{className:"w-5 h-5"})},{path:"/cashier",label:"收銀管理",icon:u.jsx(cX,{className:"w-5 h-5"})},{path:"/coffee-beans",label:"咖啡豆管理",icon:u.jsx(bb,{className:"w-5 h-5"})},{path:"/schedule",label:"班表管理",icon:u.jsx(xd,{className:"w-5 h-5"})},{path:"/daily-reports",label:"報表生成器",icon:u.jsx(Cb,{className:"w-5 h-5"})},{path:"/poursteady",label:"手沖機調整",icon:u.jsx(dX,{className:"w-5 h-5"})},{path:"/alcohol",label:"酒精計算",icon:u.jsx(TX,{className:"w-5 h-5"})}];function FX(){const[t,e]=x.useState(!1),[r,n]=x.useState(!0),[i,s]=x.useState("");if(x.useEffect(()=>{let o=!0;const A=fD.onAuthStateChanged(async l=>{if(o){if(l)try{const c=await OY(l.uid);o&&(e(c),s(""))}catch(c){console.error("檢查管理員狀態失敗:",c),o&&(e(!1),s("權限檢查失敗"))}else o&&(e(!1),s(""));o&&n(!1)}});return()=>{o=!1,A()}},[]),r)return u.jsx("nav",{className:"bg-surface sticky top-0 z-50 shadow-lg",children:u.jsx("div",{className:"container-custom py-2 sm:py-4",children:u.jsxs("div",{className:"flex justify-center gap-2 sm:gap-4",children:[R2.map(({path:o,label:A,icon:l})=>u.jsxs("div",{className:"flex flex-col items-center w-[5.5rem] sm:w-28 min-h-[4.5rem] sm:min-h-20 p-2 sm:p-3 rounded-lg animate-pulse",children:[u.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-white/10 rounded mb-1.5 sm:mb-2"}),u.jsx("div",{className:"w-12 h-3 bg-white/10 rounded text-xs sm:text-sm"})]},o)),u.jsxs("div",{className:"flex flex-col items-center w-[5.5rem] sm:w-28 min-h-[4.5rem] sm:min-h-20 p-2 sm:p-3 rounded-lg animate-pulse",children:[u.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-white/10 rounded mb-1.5 sm:mb-2"}),u.jsx("div",{className:"w-12 h-3 bg-white/10 rounded text-xs sm:text-sm"})]})]})})});const a=[...R2,...t?[{path:"/admin",label:"管理設定",icon:u.jsx(Bb,{className:"w-5 h-5"})}]:[]];return u.jsx("nav",{className:"bg-surface sticky top-0 z-50 shadow-lg",children:u.jsxs("div",{className:"container-custom py-2 sm:py-4",children:[i&&u.jsx("div",{className:"mb-4 bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"text-amber-500",children:"⚠️"}),u.jsx("p",{className:"text-amber-400 text-sm",children:i})]})}),u.jsx("div",{className:"flex justify-center gap-2 sm:gap-4",children:a.map(({path:o,label:A,icon:l})=>u.jsxs(U$,{to:o,className:({isActive:c})=>`
                flex flex-col items-center
                w-[5.5rem] sm:w-28
                min-h-[4.5rem] sm:min-h-20
                p-2 sm:p-3
                rounded-lg
                transition-all duration-200
                ${c?"text-primary bg-primary/10":"text-text-secondary hover:text-text-primary hover:bg-white/5"}
              `,children:[u.jsx("div",{className:"mb-1.5 sm:mb-2",children:ti.cloneElement(l,{className:"w-6 h-6 sm:w-7 sm:h-7"})}),u.jsx("div",{className:"text-xs sm:text-sm text-center leading-tight",children:A})]},o))})]})})}function NX({children:t}){return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(sX,{}),u.jsx(FX,{}),u.jsx("main",{className:"py-6",children:u.jsx("div",{className:"container-custom",children:t})})]})}function UX(){return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary border-t-transparent"}),u.jsx("p",{className:"text-text-secondary animate-pulse",children:"載入中..."})]})})}function PX(){return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("h1",{className:"text-4xl font-bold text-red-500",children:"出錯了！"}),u.jsx("p",{className:"text-text-secondary",children:"抱歉，頁面載入時發生錯誤。"}),u.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"重新載入"})]})})}class kX extends ti.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r),this.setState({error:e,errorInfo:r})}render(){return this.state.hasError?u.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:u.jsx("div",{className:"bg-red-500/20 border border-red-400/30 rounded-xl p-8 max-w-md mx-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl mb-4",children:"⚠️"}),u.jsx("h2",{className:"text-xl font-bold text-red-300 mb-4",children:"班表管理出現錯誤"}),u.jsx("p",{className:"text-gray-300 mb-6",children:"系統遇到意外錯誤，請重新整理頁面或聯繫管理員"}),u.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-300 rounded-lg transition-all duration-200",children:"重新整理頁面"}),!1]})})}):this.props.children}}function QX(t){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 21.5c4.5 0 7.5-3 7.5-7.5C19.5 8.5 12 2.5 12 2.5S4.5 8.5 4.5 14c0 4.5 3 7.5 7.5 7.5z"})})}const Fi={hot:[40,78,120,162,200,230],cold:{"150ml":[40,58,80,102,120,150],"140ml":[40,58,80,102,120,140],"130ml":[40,58,80,102,120,130]}},Yh={hot:[40,38,42,42,38,30],cold:{"150ml":[40,18,22,22,18,30],"140ml":[40,18,22,22,18,20],"130ml":[40,18,22,22,18,10]}};function OX(){const[t,e]=x.useState("hot"),[r,n]=x.useState("150ml"),[i,s]=x.useState({hot:Array(6).fill(""),cold:Array(6).fill("")}),a=(c,d)=>{const f=[...i[t]];f[c]=d,f.map((g,m)=>g===""?Fi[t][m]:Number(g)),s({...i,[t]:f})},o=()=>{s({...i,[t]:Array(6).fill("")})},A=c=>{n(c),s({...i,cold:Array(6).fill("")})},l=c=>{const d=i[t][c];return t==="hot"?d===""?Fi.hot[c]:Number(d):d===""?Fi.cold[r][c]:Number(d)};return u.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6 sm:space-y-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:u.jsx(QX,{className:"w-6 h-6 text-primary"})}),u.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Poursteady 注水量調整"})]}),u.jsx("button",{onClick:o,className:`
            w-full sm:w-auto px-4 py-2 rounded-lg font-medium
            transition-all duration-200
            border border-white/10
            hover:bg-white/5
          `,children:"重設"})]}),u.jsxs("div",{className:"flex gap-2 bg-surface/30 p-1.5 rounded-xl w-full sm:w-fit",children:[u.jsx("button",{onClick:()=>e("hot"),className:`
            flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
            transition-all duration-200
            ${t==="hot"?"bg-gradient-to-br from-rose-500 to-amber-500 text-white shadow-lg shadow-rose-500/20":"text-text-secondary hover:bg-white/5"}
          `,children:"熱手沖"}),u.jsx("button",{onClick:()=>e("cold"),className:`
            flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
            transition-all duration-200
            ${t==="cold"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
          `,children:"冰手沖"})]}),t==="cold"&&u.jsxs("div",{className:"flex gap-2 bg-surface/30 p-1.5 rounded-xl w-full sm:w-fit",children:[u.jsx("button",{onClick:()=>A("150ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="150ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"150ml"}),u.jsx("button",{onClick:()=>A("140ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="140ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"140ml"}),u.jsx("button",{onClick:()=>A("130ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="130ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"130ml"})]}),u.jsx("div",{className:"grid gap-4",children:(t==="hot"?Fi.hot:Fi.cold[r]).map((c,d)=>{const f=l(d),g=d>0?l(d-1):0,m=d===0?f:f-g,p=t==="hot"?Yh.hot[d]:Yh.cold[r][d],v=Math.round(m-p);return u.jsx("div",{className:`
                bg-gradient-to-br from-surface/30 to-surface/20
                rounded-xl p-5 space-y-4 border border-white/5
                transition-all duration-300 hover:shadow-lg
                ${t==="hot"?"hover:border-rose-500/20":"hover:border-blue-500/20"}
              `,children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`
                    w-8 h-8 rounded-full flex items-center justify-center font-bold
                    ${t==="hot"?"bg-gradient-to-br from-rose-400/20 to-amber-400/20 text-rose-400":"bg-gradient-to-br from-blue-400/20 to-cyan-400/20 text-blue-400"}
                  `,children:d+1}),u.jsxs("div",{children:[u.jsxs("div",{className:"font-medium",children:["第 ",d+1," 段注水"]}),u.jsxs("div",{className:"text-sm text-text-secondary",children:["累計標準: ",c," ml",u.jsxs("span",{className:"block sm:inline sm:ml-2",children:["單段標準: ",p," ml"]})]})]})]}),u.jsx("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-end",children:u.jsxs("div",{className:"w-full sm:w-32 text-center",children:[u.jsx("input",{type:"number",value:i[t][d],onChange:y=>a(d,y.target.value),placeholder:Fi[t][d],step:"0.1",className:`
                        w-full sm:w-24 text-center rounded-lg px-2 py-1.5 text-lg font-bold
                        bg-white/5 border border-white/10 focus:outline-none
                        focus:ring-1 ${t==="hot"?"focus:ring-rose-500":"focus:ring-blue-500"}
                      `}),v!==0&&u.jsxs("div",{className:`text-xs mt-1 ${v>0?"text-green-400":"text-red-400"}`,children:[v>0?`+${v}`:v," ml"]})]})})]})},d)})}),u.jsx("div",{className:`
        bg-gradient-to-br from-surface/30 to-surface/20
        rounded-xl p-5 border border-white/5
        ${t==="hot"?"hover:border-rose-500/20":"hover:border-blue-500/20"}
      `,children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-text-secondary",children:"總注水量"}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-bold mt-1",children:[l(5)," ml"]}),(()=>{const c=l(5),d=t==="hot"?Fi.hot[5]:Fi.cold[r][5],f=Math.round(c-d);return f!==0?u.jsxs("div",{className:`text-sm mt-1 ${f>0?"text-green-400":"text-red-400"}`,children:[f>0?`+${f}`:f," ml"]}):null})()]}),u.jsxs("div",{className:"text-right w-full sm:w-auto",children:[u.jsx("div",{className:"text-sm text-text-secondary",children:"標準總量"}),u.jsxs("div",{className:"text-xl mt-1",children:[t==="hot"?Fi.hot[5]:Fi.cold[r][5]," ml"]}),u.jsx("div",{className:`
              text-xs mt-2 px-2 py-1 rounded-full w-fit ml-auto
              ${t==="hot"?"bg-rose-500/10 text-rose-400":"bg-blue-500/10 text-blue-400"}
            `,children:t==="hot"?"熱手沖":"冰手沖"})]})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`
            w-1 h-5 rounded-full
            ${t==="hot"?"bg-rose-400":"bg-blue-400"}
          `}),u.jsx("h2",{className:"font-medium",children:"需調整水量"})]}),u.jsx("div",{className:"grid gap-2",children:(t==="hot"?Yh.hot:Yh.cold[r]).map((c,d)=>{const f=l(d),g=d>0?l(d-1):0,m=d===0?f:f-g,p=Math.round(c-m);return p===0?null:u.jsxs("div",{className:`
                  flex items-center justify-between
                  px-4 py-2 rounded-lg
                  ${t==="hot"?"bg-rose-500/5":"bg-blue-500/5"}
                `,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`
                    w-6 h-6 rounded-full 
                    flex items-center justify-center 
                    text-sm font-medium
                    ${t==="hot"?"bg-rose-400/10 text-rose-400":"bg-blue-400/10 text-blue-400"}
                  `,children:d+1}),u.jsxs("span",{children:["第 ",d+1," 段注水"]})]}),u.jsxs("span",{className:`
                  text-sm px-3 py-1 rounded-full font-medium
                  ${p>0?"bg-green-400/10 text-green-400":"bg-red-400/10 text-red-400"}
                `,children:[p>0?`+${p}`:p," ml"]})]},d)})})]})]})}function jX(t){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 20v-7m0 0l6-6.5H6L12 13zm-4-9h8m-8 0l-2-2m10 2l2-2"})})}function DX(){const[t,e]=x.useState([{volume:"",concentration:"",unit:"ml",id:Date.now()}]),[r,n]=x.useState({method:"volume",volume:"",cubes:"",cubeWeight:""}),[i,s]=x.useState(null),[a,o]=x.useState("ml"),A=(p,v,y)=>{if(!p)return"";const w=parseFloat(p);return v===y?w:v==="shot"?w*30:w/30},l=()=>{e([...t,{volume:"",concentration:"",unit:"ml",id:Date.now()}])},c=p=>{t.length>1&&e(t.filter(v=>v.id!==p))},d=(p,v,y)=>{e(t.map(w=>w.id===p?{...w,[v]:y}:w))},f=p=>{e(t.map(v=>{if(v.id!==p)return v;const y=v.unit==="shot"?"ml":"shot";return{...v,unit:y,volume:A(v.volume,v.unit,y).toString()}}))},g=()=>{const p=t.reduce((I,{volume:T,concentration:F,unit:C})=>{const _=parseFloat(T)||0,S=C==="shot"?_*30:_,U=parseFloat(F)||0;return I+S*(U/100)},0),v=t.reduce((I,{volume:T,unit:F})=>{const C=parseFloat(T)||0;return I+(F==="shot"?C*30:C)},0);let y=0;if(r.method==="volume")y=parseFloat(r.volume)||0;else{const I=parseFloat(r.cubes)||0,T=parseFloat(r.cubeWeight)||0;y=I*T}const w=v+y,B=p/w*100;s({originalConcentration:p/v*100,finalConcentration:B,totalVolume:w,pureAlcohol:p,meltedIceVolume:y})},m=()=>{e([{volume:"",concentration:"",unit:"ml",id:Date.now()}]),n({method:"volume",volume:"",cubes:"",cubeWeight:""}),s(null)};return u.jsx("div",{className:"container-custom py-8",children:u.jsx("div",{className:"max-w-2xl mx-auto px-4",children:u.jsxs("div",{className:"bg-surface rounded-2xl p-6 shadow-xl",children:[u.jsx("div",{className:"text-center mb-8",children:u.jsxs("div",{className:"inline-flex items-center justify-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-blue-500/20 to-cyan-500/20",children:u.jsx(jX,{className:"w-8 h-8 text-blue-400"})}),u.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"酒精濃度計算器"})]})}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-white/5 rounded-xl p-6 space-y-4",children:[u.jsxs("h2",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-5 bg-blue-400 rounded-full"}),"酒類清單"]}),u.jsx("div",{className:"space-y-4",children:t.map((p,v)=>u.jsxs("div",{className:"bg-white/5 rounded-lg p-4 transition-all duration-200 hover:bg-white/10",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"text-sm font-medium text-blue-400",children:["酒類 ",v+1]}),t.length>1&&u.jsx("button",{onClick:()=>c(p.id),className:"p-1 rounded-lg hover:bg-red-500/10 text-red-400 transition-colors",children:u.jsx(yD,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("label",{className:"text-sm text-text-secondary",children:"容量"}),u.jsx("button",{onClick:()=>f(p.id),className:`text-xs px-2 py-0.5 rounded-full bg-blue-500/10 
                                     hover:bg-blue-500/20 transition-colors text-blue-400`,children:p.unit==="shot"?"ml":"shot"})]}),u.jsx("input",{type:"number",value:p.volume,onChange:y=>d(p.id,"volume",y.target.value),className:"input-field w-full",placeholder:p.unit==="shot"?"1 shot = 30ml":"輸入毫升",min:"0",step:p.unit==="shot"?"0.5":"1"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"濃度 (%)"}),u.jsx("input",{type:"number",value:p.concentration,onChange:y=>d(p.id,"concentration",y.target.value),className:"input-field w-full",placeholder:"輸入濃度",min:"0",max:"100"})]})]})]},p.id))}),u.jsx("button",{onClick:l,className:`w-full py-3 rounded-lg border-2 border-dashed border-blue-500/30
                         hover:bg-blue-500/5 text-blue-400
                         transition-all duration-200 group`,children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(ss,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),u.jsx("span",{className:"text-sm font-medium",children:"添加酒類"})]})})]}),u.jsxs("div",{className:"bg-white/5 rounded-xl p-6",children:[u.jsxs("h2",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-5 bg-blue-400 rounded-full"}),"融冰計算"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("button",{onClick:()=>n(p=>({...p,method:"volume"})),className:`p-3 rounded-lg transition-all duration-200 ${r.method==="volume"?"bg-blue-500 text-white shadow-lg shadow-blue-500/25":"bg-white/5 hover:bg-white/10 text-text-secondary"}`,children:[u.jsx("div",{className:"text-sm font-medium",children:"直接輸入體積"}),u.jsx("div",{className:"text-xs mt-1 opacity-60",children:"手動輸入融冰量"})]}),u.jsxs("button",{onClick:()=>n(p=>({...p,method:"cubes"})),className:`p-3 rounded-lg transition-all duration-200 ${r.method==="cubes"?"bg-blue-500 text-white shadow-lg shadow-blue-500/25":"bg-white/5 hover:bg-white/10 text-text-secondary"}`,children:[u.jsx("div",{className:"text-sm font-medium",children:"計算冰塊體積"}),u.jsx("div",{className:"text-xs mt-1 opacity-60",children:"根據冰塊計算"})]})]}),u.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:r.method==="volume"?u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"融冰體積 (ml)"}),u.jsx("input",{type:"number",value:r.volume,onChange:p=>n(v=>({...v,volume:p.target.value})),className:"input-field w-full",placeholder:"輸入預計融化的體積",min:"0"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"冰塊數量"}),u.jsx("input",{type:"number",value:r.cubes,onChange:p=>n(v=>({...v,cubes:p.target.value})),className:"input-field w-full",placeholder:"輸入數量",min:"0"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"每個冰塊重量 (g)"}),u.jsx("input",{type:"number",value:r.cubeWeight,onChange:p=>n(v=>({...v,cubeWeight:p.target.value})),className:"input-field w-full",placeholder:"輸入冰塊重量",min:"0"})]})]}),r.cubes&&r.cubeWeight&&u.jsxs("div",{className:"text-sm bg-blue-500/10 text-blue-400 rounded-lg p-3",children:["預計融化體積：",(parseFloat(r.cubes)*parseFloat(r.cubeWeight)).toFixed(0)," ml"]})]})})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:g,className:`flex-1 py-3 rounded-lg bg-gradient-to-r from-blue-500 to-cyan-500
                         text-white font-medium shadow-lg shadow-blue-500/25
                         hover:shadow-xl hover:shadow-blue-500/40 
                         transition-all duration-200`,children:"計算結果"}),u.jsx("button",{onClick:m,className:`flex-1 py-3 rounded-lg bg-white/5 hover:bg-white/10 
                         text-text-secondary transition-all duration-200`,children:"重設"})]}),i&&u.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fade-in",children:[u.jsxs("div",{className:"col-span-2 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg p-4",children:[u.jsx("div",{className:"text-sm text-gray-300",children:i.meltedIceVolume>0?"加入融冰後濃度":"酒精濃度"}),u.jsxs("div",{className:"text-3xl font-bold text-blue-400 mt-1",children:[i.finalConcentration.toFixed(2),"%"]}),i.meltedIceVolume>0&&u.jsxs("div",{className:"text-sm text-gray-300 mt-2",children:["調酒前濃度：",i.originalConcentration.toFixed(2),"%"]})]}),u.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[u.jsx("div",{className:"text-sm text-text-secondary",children:"總容量"}),u.jsx("div",{className:"text-xl font-bold mt-1",children:a==="shot"?`${(i.totalVolume/30).toFixed(1)} shot`:`${i.totalVolume.toFixed(0)} ml`}),u.jsx("div",{className:"text-sm text-text-secondary mt-1",children:a==="shot"?`${i.totalVolume.toFixed(0)} ml`:`${(i.totalVolume/30).toFixed(1)} shot`}),i.meltedIceVolume>0&&u.jsxs("div",{className:"text-sm text-text-secondary mt-1",children:["含融冰：",i.meltedIceVolume.toFixed(0)," ml"]})]}),u.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[u.jsx("div",{className:"text-sm text-text-secondary",children:"純酒精含量"}),u.jsx("div",{className:"text-xl font-bold mt-1",children:a==="shot"?`${(i.pureAlcohol/30).toFixed(1)} shot`:`${i.pureAlcohol.toFixed(0)} ml`}),u.jsx("div",{className:"text-sm text-text-secondary mt-1",children:a==="shot"?`${i.pureAlcohol.toFixed(0)} ml`:`${(i.pureAlcohol/30).toFixed(1)} shot`})]})]})]})]})})})}function RX(t,e){const[r,n]=x.useState(()=>{try{const i=window.localStorage.getItem(t);return i?JSON.parse(i):e}catch(i){return console.error(i),e}});return x.useEffect(()=>{try{window.localStorage.setItem(t,JSON.stringify(r))}catch(i){console.error(i)}},[t,r]),[r,n]}const Ee={common:{loading:"載入中...",error:"出錯了！",retry:"重試",save:"儲存",cancel:"取消",confirm:"確認",delete:"刪除",edit:"編輯"},sandwich:{title:"三明治計算器",subtitle:"選擇拉奶，選擇成功",inputsTitle:"計算輸入",inputsSubtitle:"輸入現有數量",existingHam:"現有的火腿三明治",existingSalami:"現有的臘腸三明治",distribution:"分配方式",distributionEven:"平均分配",distributionHam:"優先火腿",distributionSalami:"優先臘腸",extraBagsLabel:"額外需要的麵包包數",calculate:"計算結果",reset:"重設輸入",resultsTitle:"計算結果",resultsSubtitle:"製作需求總覽",needHam:"需製作的火腿三明治",needSalami:"需製作的臘腸三明治",needBags:"需要的麵包數量",totalNeed:"總計需求",emptyHint:"點擊計算按鈕查看結果"},sandwichUi:{summaryTarget:"目標",summaryExisting:"現有",summaryToMake:"需製作",unitPiece:"個",unitBag:"包",capacityTitle:"容量與分配資訊",capacityFormula:"容量 = 包數 × 每包數量",capacityLeftover:"剩餘切片 = 容量 − 需求",capacityDistributionTitle:"分配方式",capacityEvenDetail:"平均分配：多出的切片會均分到火腿與臘腸",capacityHamDetail:"優先火腿：多出的切片全分給火腿",capacitySalamiDetail:"優先臘腸：多出的切片全分給臘腸",capacityActual:"本次實際分配",hamProgress:"火腿達成度",salamiProgress:"臘腸達成度",inputPlaceholderNumber:"輸入個數",tooltipEven:"平均分配多出的切片",tooltipHam:"多出的切片優先給火腿",tooltipSalami:"多出的切片優先給臘腸"},settings:{title:"基本設定",subtitle:"調整計算參數",breadPerBag:"每包麵包的數量",targetHam:"目標火腿三明治數量",targetSalami:"目標臘腸三明治數量",done:"完成設定"}};function tl(t){const e=parseInt(t,10);return Number.isFinite(e)?e:0}function M2(t,e){const r=Math.max(1,tl(e.breadPerBag)),n=Math.max(0,tl(e.targetHam)),i=Math.max(0,tl(e.targetSalami)),s=Math.max(0,tl(t.existingHam)),a=Math.max(0,tl(t.existingSalami)),o=Math.max(0,tl(t.extraBags)),A=t.distribution||"even",l=Math.max(0,n-s),c=Math.max(0,i-a),d=l+c,g=Math.max(0,Math.ceil(d/r))+o,m=g*r,p=Math.max(0,m-d);let v=0,y=0;switch(A){case"ham":v=p;break;case"salami":y=p;break;default:v=Math.floor(p/2),y=p-v}const w=l+v,B=c+y;return{totalHamNeeded:w,totalSalamiNeeded:B,bagsNeeded:g,totalTarget:n+i,totalExisting:s+a,baseHamNeeded:l,baseSalamiNeeded:c,baseTotalNeeded:d,totalSlices:m,extraSlices:p,extraHam:v,extraSalami:y}}function MX(){const t={breadPerBag:8,targetHam:60,targetSalami:30},[e,r]=RX("sandwich_settings",t),[n,i]=x.useState({existingHam:"",existingSalami:"",extraBags:0,distribution:"even"}),[s,a]=x.useState(!1),[o,A]=x.useState(e),[l,c]=x.useState(null),[d,f]=x.useState(!0),[g,m]=x.useState(null),[p,v]=x.useState(!1);x.useEffect(()=>{let C;try{C=sf(ki(Ar,"settings","sandwich"),_=>{_.exists()?r(_.data()):Wo(_.ref,e).catch(S=>{console.error("創建設定文件失敗:",S)}),f(!1)},_=>{console.error("讀取設定錯誤:",_),m("無法連接到 Firebase，使用本地設定"),f(!1)})}catch(_){console.error("Firebase 初始化錯誤:",_),m("Firebase 連接失敗，使用本地設定"),f(!1)}return()=>{C&&C()}},[]),x.useEffect(()=>{s&&A(e)},[s,e]);const y=async C=>{r(C);try{await Wo(ki(Ar,"settings","sandwich"),C)}catch(_){console.error("更新設定錯誤:",_),m("無法同步到 Firebase，設定已保存到本地")}},w=async()=>{await y(o),a(!1)},B=()=>{const C=M2(n,e);c(C)},I=x.useMemo(()=>M2(n,e),[n,e]),T=()=>{i({existingHam:"",existingSalami:"",extraBags:0,distribution:"even"}),c(null)},F=[{value:"even",label:Ee.sandwich.distributionEven},{value:"ham",label:Ee.sandwich.distributionHam},{value:"salami",label:Ee.sandwich.distributionSalami}];return u.jsx("div",{className:"container-custom py-8",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent mb-2",children:Ee.sandwich.title}),u.jsx("p",{className:"text-text-secondary",children:Ee.sandwich.subtitle})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[u.jsxs("div",{className:"card bg-gradient-to-br from-surface/80 to-surface/60 border-primary/20",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:u.jsx(of,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg sm:text-xl font-bold text-primary",children:Ee.sandwich.inputsTitle}),u.jsx("p",{className:"text-xs sm:text-sm text-text-secondary",children:Ee.sandwich.inputsSubtitle})]})]}),u.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-lg bg-primary/20 hover:bg-primary/30 border border-primary/30 text-primary transition-all duration-200 hover:scale-110",title:Ee.settings.title,children:u.jsx(Bb,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),d?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"})}):g?u.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 mb-4",children:u.jsxs("div",{className:"flex items-center gap-2 text-amber-400",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),u.jsx("span",{className:"text-sm font-medium",children:g})]})}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("div",{className:"rounded-lg bg-white/5 border border-white/10 p-3 text-center",children:[u.jsx("div",{className:"text-xs text-text-secondary",children:Ee.sandwichUi.summaryTarget}),u.jsx("div",{className:"text-base font-semibold",children:I.totalTarget})]}),u.jsxs("div",{className:"rounded-lg bg-white/5 border border-white/10 p-3 text-center",children:[u.jsx("div",{className:"text-xs text-text-secondary",children:Ee.sandwichUi.summaryExisting}),u.jsx("div",{className:"text-base font-semibold text-text-secondary",children:I.totalExisting})]}),u.jsxs("div",{className:"rounded-lg bg-primary/10 border border-primary/30 p-3 text-center",children:[u.jsx("div",{className:"text-xs text-text-secondary",children:Ee.sandwichUi.summaryToMake}),u.jsx("div",{className:"text-lg sm:text-xl font-bold text-primary",children:I.baseTotalNeeded})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ee.sandwich.existingHam}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",className:"input-field w-full pr-10",placeholder:Ee.sandwichUi.inputPlaceholderNumber,min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:n.existingHam,onChange:C=>i({...n,existingHam:C.target.value})}),u.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-text-secondary text-sm",children:Ee.sandwichUi.unitPiece})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ee.sandwich.existingSalami}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",className:"input-field w-full pr-10",placeholder:Ee.sandwichUi.inputPlaceholderNumber,min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:n.existingSalami,onChange:C=>i({...n,existingSalami:C.target.value})}),u.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-text-secondary text-sm",children:Ee.sandwichUi.unitPiece})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ee.sandwich.distribution}),u.jsx("div",{role:"radiogroup","aria-label":Ee.sandwich.distribution,className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:F.map(C=>u.jsx("button",{role:"radio","aria-checked":n.distribution===C.value,title:C.value==="even"?Ee.sandwichUi.tooltipEven:C.value==="ham"?Ee.sandwichUi.tooltipHam:Ee.sandwichUi.tooltipSalami,onClick:()=>i({...n,distribution:C.value}),className:`px-3 py-2 sm:px-4 sm:py-3 rounded-lg transition-all duration-200 text-sm sm:text-base ${n.distribution===C.value?"bg-primary/20 border border-primary/30 text-primary":"bg-white/5 hover:bg-white/10 text-text-secondary border border-transparent"}`,children:u.jsx("span",{className:"font-medium",children:C.label})},C.value))})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm text-text-secondary mb-2",children:[Ee.sandwich.extraBagsLabel,"：",n.extraBags]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"range",min:"0",max:"5",step:"1",value:n.extraBags,"aria-label":Ee.sandwich.extraBagsLabel,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onTouchStart:()=>v(!0),onTouchEnd:()=>v(!1),onChange:C=>i(_=>({..._,extraBags:parseInt(C.target.value,10)||0})),className:`w-full h-3 bg-white/10 rounded-lg appearance-none cursor-pointer
                                touch-manipulation
                                [&::-webkit-slider-thumb]:appearance-none
                                [&::-webkit-slider-thumb]:w-6
                                [&::-webkit-slider-thumb]:h-6
                                [&::-webkit-slider-thumb]:rounded-full
                                [&::-webkit-slider-thumb]:bg-primary
                                [&::-webkit-slider-thumb]:cursor-pointer
                                [&::-webkit-slider-thumb]:hover:bg-primary/80
                                [&::-webkit-slider-thumb]:transition-all
                                [&::-webkit-slider-thumb]:shadow-lg
                                [&::-moz-range-thumb]:appearance-none
                                [&::-moz-range-thumb]:border-0
                                [&::-moz-range-thumb]:w-6
                                [&::-moz-range-thumb]:h-6
                                [&::-moz-range-thumb]:rounded-full
                                [&::-moz-range-thumb]:bg-primary
                                [&::-moz-range-thumb]:cursor-pointer
                                [&::-moz-range-thumb]:hover:bg-primary/80
                                [&::-moz-range-thumb]:transition-all
                                [&::-moz-range-thumb]:shadow-lg`}),p&&u.jsx("div",{className:"absolute -top-7",style:{left:`${n.extraBags/5*100}%`,transform:"translateX(-50%)"},children:u.jsx("div",{className:"px-2 py-0.5 rounded bg-primary/80 text-white text-xs shadow",children:n.extraBags})})]}),u.jsxs("div",{className:"flex justify-between text-xs text-text-secondary mt-2 px-1",children:[u.jsx("span",{children:"0"}),u.jsx("span",{children:"1"}),u.jsx("span",{children:"2"}),u.jsx("span",{children:"3"}),u.jsx("span",{children:"4"}),u.jsx("span",{children:"5"})]})]}),u.jsxs("div",{className:"space-y-3 pt-4",children:[u.jsx("button",{onClick:B,className:"btn-primary w-full py-3 sm:py-4 text-sm sm:text-base",children:Ee.sandwich.calculate}),u.jsx("button",{onClick:T,className:`w-full px-3 py-2 sm:px-4 sm:py-3 bg-white/5 hover:bg-white/10 
                              text-text-secondary rounded-lg transition-all duration-200 text-sm sm:text-base`,children:Ee.sandwich.reset})]})]})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-surface/60 to-surface/40 border-primary/20",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:u.jsx(vD,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg sm:text-xl font-bold text-primary",children:Ee.sandwich.resultsTitle}),u.jsx("p",{className:"text-xs sm:text-sm text-text-secondary",children:Ee.sandwich.resultsSubtitle})]})]}),l?u.jsxs("div",{className:"space-y-4 animate-fade-in",children:[u.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[u.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalHamNeeded}),u.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Ee.sandwich.needHam,"（",Ee.sandwichUi.unitPiece,"）"]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[u.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalSalamiNeeded}),u.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Ee.sandwich.needSalami,"（",Ee.sandwichUi.unitPiece,"）"]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[u.jsx("div",{className:"text-2xl font-bold text-white",children:l.bagsNeeded}),u.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Ee.sandwich.needBags,"（",Ee.sandwichUi.unitBag,"）"]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[u.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalHamNeeded+l.totalSalamiNeeded}),u.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Ee.sandwich.totalNeed,"（",Ee.sandwichUi.unitPiece,"）"]})]}),u.jsxs("div",{className:"rounded-xl p-4 bg-white/5 border border-white/10 space-y-1.5",children:[u.jsx("div",{className:"text-sm font-semibold",children:Ee.sandwichUi.capacityTitle}),u.jsxs("div",{className:"text-xs text-text-secondary",children:[Ee.sandwichUi.capacityFormula,"：",l.bagsNeeded," × ",e.breadPerBag," = ",u.jsx("span",{className:"text-white font-medium",children:l.totalSlices})]}),u.jsxs("div",{className:"text-xs text-text-secondary",children:[Ee.sandwichUi.capacityLeftover,"：",u.jsx("span",{className:"text-white font-medium",children:l.extraSlices})]}),u.jsxs("div",{className:"text-xs text-text-secondary mt-2",children:[Ee.sandwichUi.capacityDistributionTitle,"：",u.jsxs("span",{className:"ml-1",children:[n.distribution==="even"&&Ee.sandwichUi.capacityEvenDetail,n.distribution==="ham"&&Ee.sandwichUi.capacityHamDetail,n.distribution==="salami"&&Ee.sandwichUi.capacitySalamiDetail]})]}),u.jsxs("div",{className:"text-xs text-text-secondary",children:[Ee.sandwichUi.capacityActual,"：",u.jsxs("span",{className:"ml-1 text-white font-medium",children:["火腿 +",l.extraHam]}),u.jsx("span",{className:"mx-2",children:"/"}),u.jsxs("span",{className:"text-white font-medium",children:["臘腸 +",l.extraSalami]})]})]})]}):u.jsxs("div",{className:"text-center py-12 text-text-secondary",children:[u.jsx(of,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:Ee.sandwich.emptyHint})]})]})]}),s&&u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-surface/95 backdrop-blur-md border border-white/20 rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:u.jsx(Bb,{className:"w-6 h-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-primary",children:Ee.settings.title}),u.jsx("p",{className:"text-sm text-text-secondary",children:Ee.settings.subtitle})]})]}),u.jsx("button",{onClick:()=>a(!1),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ee.settings.breadPerBag}),u.jsx("input",{type:"number",className:"input-field w-full",min:1,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.breadPerBag,onChange:C=>A(_=>({..._,breadPerBag:parseInt(C.target.value,10)||1}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ee.settings.targetHam}),u.jsx("input",{type:"number",className:"input-field w-full",min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.targetHam,onChange:C=>A(_=>({..._,targetHam:parseInt(C.target.value,10)||0}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ee.settings.targetSalami}),u.jsx("input",{type:"number",className:"input-field w-full",min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.targetSalami,onChange:C=>A(_=>({..._,targetSalami:parseInt(C.target.value,10)||0}))})]})]}),u.jsxs("div",{className:"flex gap-3 mt-6",children:[u.jsx("button",{className:"flex-1 px-4 py-2 bg-primary/20 hover:bg-primary/30 text-primary rounded-lg transition-colors",onClick:w,children:Ee.settings.done}),u.jsx("button",{className:"flex-1 px-4 py-2 bg-white/5 hover:bg-white/10 text-text-secondary rounded-lg transition-colors",onClick:()=>a(!1),children:Ee.common.cancel})]})]})})]})})}const ts={brewing:{pourOver:["水洗","日曬","阿寶","台灣豆","Geisha"],espresso:["ESP","水洗"]},retail:["水洗","日曬","阿寶","季節","台灣豆","Geisha"]},Tr=["台灣豆","Geisha"],Xh={bagWeight:121,ikeaBoxWeight:365,beanWeightPerPack:19};function LX(){const[t,e]=x.useState(!1);x.useEffect(()=>{if(t)document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=`-${window.scrollY}px`;else{const j=document.body.style.top;document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.top="",j&&window.scrollTo(0,parseInt(j||"0")*-1)}return()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.top=""}},[t]);const r=x.useRef(null),[n,i]=x.useState({brewing:{pourOver:{},espresso:{}},retail:{}}),[s,a]=x.useState("bag"),[o,A]=x.useState(!1),[l,c]=x.useState({}),[d,f]=x.useState("brewing"),[g,m]=x.useState("original"),[p,v]=x.useState(()=>{const j=localStorage.getItem("coffeeBeanWeightSettings");if(j)try{return JSON.parse(j)}catch(V){return console.error("解析重量設定失敗:",V),Xh}return Xh}),[y,w]=x.useState(()=>{const j=localStorage.getItem("coffeeBeanCalculations");if(j)try{return JSON.parse(j)}catch(V){return console.error("解析計算欄位失敗:",V),[{id:1,totalWeight:"",estimatedPacks:0}]}return[{id:1,totalWeight:"",estimatedPacks:0}]});x.useEffect(()=>{const j=localStorage.getItem("coffeeBeanInventory");j&&i(JSON.parse(j));const V=localStorage.getItem("coffeeBeanWeightMode");V&&a(V)},[]),x.useEffect(()=>{localStorage.setItem("coffeeBeanWeightSettings",JSON.stringify(p))},[p]),x.useEffect(()=>{localStorage.setItem("coffeeBeanInventory",JSON.stringify(n))},[n]),x.useEffect(()=>{localStorage.setItem("coffeeBeanCalculations",JSON.stringify(y))},[y]),x.useEffect(()=>{localStorage.setItem("coffeeBeanWeightMode",s)},[s]),x.useEffect(()=>{const j=()=>{const V=document.getElementById("brewing-section"),D=document.getElementById("retail-section");if(V&&D){const Y=V.getBoundingClientRect(),M=D.getBoundingClientRect();Y.top<window.innerHeight/2&&Y.bottom>window.innerHeight/2?f("brewing"):M.top<window.innerHeight/2&&M.bottom>window.innerHeight/2&&f("retail")}};return window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)},[]);const B=(j,V,D)=>{var Y;if(!((Y=n[j][V])!=null&&Y[D])){const $=Tr.includes(D)?{store:[""]}:{store:[""],breakRoom:[""]};i(z=>{var L;return{...z,[j]:{...z[j],[V]:{...(L=z[j])==null?void 0:L[V],[D]:$}}}})}},I=(j,V,D,Y)=>{B(j,V,D),i(M=>{var $,z,L;return{...M,[j]:{...M[j],[V]:{...M[j][V],[D]:{...($=M[j][V])==null?void 0:$[D],[Y]:[...((L=(z=M[j][V])==null?void 0:z[D])==null?void 0:L[Y])||[""],""]}}}}})},T=(j,V,D,Y,M,$)=>{B(j,V,D),i(z=>{var L,Be,be,ke;return{...z,[j]:{...z[j],[V]:{...z[j][V],[D]:{...(L=z[j][V])==null?void 0:L[D],[Y]:((ke=(be=(Be=z[j][V])==null?void 0:Be[D])==null?void 0:be[Y])==null?void 0:ke.map((Re,ir)=>ir===M?$:Re))||[""]}}}}})},F=(j,V,D,Y,M)=>{i($=>{var z,L,Be,be;return{...$,[j]:{...$[j],[V]:{...$[j][V],[D]:{...(z=$[j][V])==null?void 0:z[D],[Y]:((be=(Be=(L=$[j][V])==null?void 0:L[D])==null?void 0:Be[Y])==null?void 0:be.filter((ke,Re)=>Re!==M))||[""]}}}}})},C=j=>(j==null?void 0:j.reduce((V,D)=>V+(parseInt(D)||0),0))||0,_=j=>{if(!j)return 0;let V=0;return j.store&&(V+=C(j.store)),j.breakRoom&&(V+=C(j.breakRoom)),V},S=j=>{if(!j)return 0;const V=s==="bag"?p.bagWeight:p.ikeaBoxWeight,D=j-V;return D<=0?0:Math.round(D/p.beanWeightPerPack*10)/10},U=(j,V)=>{v(D=>({...D,[j]:parseFloat(V)||0}))},k=()=>{const j=Math.max(...y.map(V=>V.id),0)+1;w(V=>[...V,{id:j,totalWeight:"",estimatedPacks:0}])},Q=j=>{y.length>1&&w(V=>V.filter(D=>D.id!==j))},P=(j,V)=>{w(D=>D.map(Y=>Y.id===j?{...Y,totalWeight:V,estimatedPacks:S(V)}:Y))},ae=()=>{A(!0);const j={};ts.brewing.pourOver.forEach(V=>{const D=n.brewing.pourOver[V],Y=C((D==null?void 0:D.store)||[]),M=Tr.includes(V)?0:C((D==null?void 0:D.breakRoom)||[]);j[`brewing-pourOver-${V}`]={store:Y.toString(),breakRoom:M.toString(),category:"brewing",subCategory:"pourOver",beanType:V}}),ts.brewing.espresso.forEach(V=>{const D=n.brewing.espresso[V],Y=C((D==null?void 0:D.store)||[]),M=Tr.includes(V)?0:C((D==null?void 0:D.breakRoom)||[]);j[`brewing-espresso-${V}`]={store:Y.toString(),breakRoom:M.toString(),category:"brewing",subCategory:"espresso",beanType:V}}),ts.retail.forEach(V=>{const D=n.retail[V],Y=C((D==null?void 0:D.store)||[]),M=Tr.includes(V)?0:C((D==null?void 0:D.breakRoom)||[]);j[`retail-${V}`]={store:Y.toString(),breakRoom:M.toString(),category:"retail",subCategory:null,beanType:V}}),c(j)},xe=()=>{Object.entries(l).forEach(([j,V])=>{const{category:D,subCategory:Y,beanType:M,store:$,breakRoom:z}=V;i(D==="retail"?L=>({...L,retail:{...L.retail,[M]:{store:[$],...Tr.includes(M)?{}:{breakRoom:[z]}}}}):L=>({...L,[D]:{...L[D],[Y]:{...L[D][Y],[M]:{store:[$],...Tr.includes(M)?{}:{breakRoom:[z]}}}}}))}),A(!1),c({})},me=()=>{A(!1),c({})},pe=(j,V,D)=>{c(Y=>({...Y,[j]:{...Y[j],[V]:D}}))},q=()=>{confirm("確定要重置所有數據嗎？此操作無法復原。")&&(i({brewing:{pourOver:{},espresso:{}},retail:{}}),w([{id:1,totalWeight:"",estimatedPacks:0}]),v(Xh),a("bag"),A(!1),c({}),localStorage.removeItem("coffeeBeanInventory"),localStorage.removeItem("coffeeBeanWeightSettings"),localStorage.removeItem("coffeeBeanCalculations"),localStorage.removeItem("coffeeBeanWeightMode"))},ie=()=>{confirm("確定要回復原本的重量設定嗎？")&&(v(Xh),localStorage.removeItem("coffeeBeanWeightSettings"))},ce=()=>{const j=[];return ts.brewing.pourOver.forEach(V=>{const D=n.brewing.pourOver[V],Y=C((D==null?void 0:D.store)||[]),M=Tr.includes(V)?0:C((D==null?void 0:D.breakRoom)||[]),$=Y+M;j.push({category:"出杯豆",beanType:V,storeTotal:Y,breakRoomTotal:M,grandTotal:$})}),ts.brewing.espresso.forEach(V=>{const D=n.brewing.espresso[V],Y=C((D==null?void 0:D.store)||[]),M=Tr.includes(V)?0:C((D==null?void 0:D.breakRoom)||[]),$=Y+M;j.push({category:"義式豆",beanType:V,storeTotal:Y,breakRoomTotal:M,grandTotal:$})}),ts.retail.forEach(V=>{const D=n.retail[V],Y=C((D==null?void 0:D.store)||[]),M=Tr.includes(V)?0:C((D==null?void 0:D.breakRoom)||[]),$=Y+M;j.push({category:"賣豆",beanType:V,storeTotal:Y,breakRoomTotal:M,grandTotal:$})}),j},Se=()=>{const j=ce(),V=new Date().toLocaleDateString("zh-TW"),D={};return j.forEach(Y=>{D[Y.category]||(D[Y.category]=[]),D[Y.category].push(Y)}),`
      <div style="font-family: 'Microsoft JhengHei', Arial, sans-serif; max-width: 900px; margin: 0 auto; padding: 30px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); color: #2c3e50; min-height: 100vh;">
        <div style="background: white; border-radius: 15px; padding: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
          <div style="text-align: center; margin-bottom: 40px;">
            <h1 style="color: #2c3e50; margin: 0; font-size: 32px; font-weight: 700; text-shadow: 2px 2px 4px rgba(0,0,0,0.1);">咖啡豆盤點表</h1>
            <p style="color: #7f8c8d; margin: 10px 0 0 0; font-size: 16px;">盤點日期：${V}</p>
          </div>
          
          ${Object.entries(D).map(([Y,M])=>`
            <div style="margin-bottom: 30px;">
              <h2 style="color: white; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 12px 25px; border-radius: 10px 10px 0 0; margin: 0; font-size: 18px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                ${Y}
              </h2>
              
              <table style="width: 100%; border-collapse: collapse; background: white; border-radius: 0 0 10px 10px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.08);">
                <thead>
                  <tr style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); height: 40px;">
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">豆種</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">店面庫存</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">員休室庫存</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">總計</th>
                  </tr>
                </thead>
                <tbody>
                  ${M.map(($,z)=>`
                    <tr style="${z%2===0?"background: #f8f9fa;":"background: white;"}">
                      <td style="padding: 12px 15px; text-align: center; font-weight: 600; color: #2c3e50; border-bottom: 1px solid #ecf0f1;">${$.beanType}</td>
                      <td style="padding: 12px 15px; text-align: center; color: #34495e; border-bottom: 1px solid #ecf0f1;">${$.storeTotal}</td>
                      <td style="padding: 12px 15px; text-align: center; color: #34495e; border-bottom: 1px solid #ecf0f1;">${$.breakRoomTotal}</td>
                      <td style="padding: 12px 15px; text-align: center; font-weight: 700; color: #27ae60; background: linear-gradient(135deg, #a8e6cf 0%, #dcedc1 100%); border-bottom: 1px solid #ecf0f1;">${$.grandTotal}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          `).join("")}
        </div>
      </div>
    `},ne=()=>{const j=ce(),V=new Date().toLocaleDateString("zh-TW"),D={};return j.forEach(Y=>{D[Y.category]||(D[Y.category]=[]),D[Y.category].push(Y)}),`
      <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 900px; margin: 0 auto; padding: 40px; background: #13131a; color: #ffffff; min-height: 100vh; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;">
        <div style="background: #1e1e2e; border-radius: 20px; padding: 50px; box-shadow: 0 20px 40px rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1);">
          <div style="text-align: center; margin-bottom: 50px;">
            <h1 style="color: #6366f1; margin: 0; font-size: 36px; font-weight: 600; letter-spacing: -0.5px;">咖啡豆盤點表</h1>
            <p style="color: #94a3b8; margin: 12px 0 0 0; font-size: 17px; font-weight: 400;">盤點日期：${V}</p>
          </div>
          
          ${Object.entries(D).map(([Y,M])=>`
            <div style="margin-bottom: 40px;">
              <h2 style="color: #ffffff; background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); padding: 16px 24px; border-radius: 12px; margin: 0 0 24px 0; font-size: 20px; font-weight: 600; text-align: center; border: none; box-shadow: 0 8px 32px rgba(99, 102, 241, 0.2);">
                ${Y}
              </h2>
              
              <div style="background: #1e1e2e; border-radius: 16px; overflow: hidden; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 8px 32px rgba(0,0,0,0.2);">
                <table style="width: 100%; border-collapse: collapse; background: #1e1e2e;">
                  <thead>
                    <tr style="background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); height: 48px;">
                      <th style="padding: 0 20px; text-align: left; vertical-align: middle; font-weight: 600; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">豆種</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">店面庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">員休室庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">總計</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${M.map(($,z)=>`
                      <tr style="background: ${z%2===0?"#1e1e2e":"rgba(255,255,255,0.02)"}; transition: all 0.3s ease;">
                        <td style="padding: 16px 20px; text-align: left; font-weight: 500; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.05);">${$.beanType}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #3b82f6; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.05); font-weight: 500;">${$.storeTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #10b981; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.05); font-weight: 500;">${$.breakRoomTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; font-weight: 600; color: #6366f1; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.05); background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);">${$.grandTotal}</td>
                      </tr>
                    `).join("")}
                  </tbody>
                </table>
              </div>
            </div>
          `).join("")}
        </div>
      </div>
    `},Ne=()=>{const j=ce(),V=new Date().toLocaleDateString("zh-TW"),D={};return j.forEach(Y=>{D[Y.category]||(D[Y.category]=[]),D[Y.category].push(Y)}),`
      <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 800px; margin: 0 auto; padding: 40px; background: #fafafa; color: #1d1d1f; min-height: 100vh;">
        <div style="background: white; border-radius: 20px; padding: 50px; box-shadow: 0 8px 32px rgba(0,0,0,0.08);">
          <div style="text-align: center; margin-bottom: 50px;">
            <h1 style="color: #1d1d1f; margin: 0; font-size: 36px; font-weight: 600; letter-spacing: -0.5px;">咖啡豆盤點表</h1>
            <p style="color: #86868b; margin: 12px 0 0 0; font-size: 17px; font-weight: 400;">盤點日期：${V}</p>
          </div>
          
          ${Object.entries(D).map(([Y,M])=>`
            <div style="margin-bottom: 40px;">
              <h2 style="color: #1d1d1f; background: #f5f5f7; padding: 16px 24px; border-radius: 12px; margin: 0 0 24px 0; font-size: 20px; font-weight: 600; text-align: center; border: none;">
                ${Y}
              </h2>
              
              <div style="background: white; border-radius: 16px; overflow: hidden; border: 1px solid #e5e5e7;">
                <table style="width: 100%; border-collapse: collapse; background: white;">
                  <thead>
                    <tr style="background: #f5f5f7; height: 48px;">
                      <th style="padding: 0 20px; text-align: left; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">豆種</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">店面庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">員休室庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">總計</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${M.map(($,z)=>`
                      <tr style="background: ${z%2===0?"#fafafa":"white"};">
                        <td style="padding: 16px 20px; text-align: left; font-weight: 500; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${$.beanType}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #515154; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${$.storeTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #515154; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${$.breakRoomTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; font-weight: 600; color: #007aff; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${$.grandTotal}</td>
                      </tr>
                    `).join("")}
                  </tbody>
                </table>
              </div>
            </div>
          `).join("")}
        </div>
      </div>
    `},ze=async()=>{try{let j;try{j=(await ms(async()=>{const{default:z}=await Promise.resolve().then(()=>gre);return{default:z}},void 0)).default}catch(z){console.error("html2canvas 載入失敗:",z),alert("匯出功能暫時無法使用，請重新整理頁面後再試");return}let V;g==="minimalist"?V=Ne():g==="web-consistent"?V=ne():V=Se();const D=document.createElement("div");D.innerHTML=V,D.style.position="absolute",D.style.left="-9999px",D.style.top="0",D.style.width="900px",D.style.height="auto",D.style.overflow="visible",document.body.appendChild(D),await new Promise(z=>setTimeout(z,500));const Y=await j(D.firstElementChild,{backgroundColor:g==="minimalist"?"#fafafa":g==="web-consistent"?"#13131a":"#ffffff",scale:1,useCORS:!0,allowTaint:!0,logging:!0,width:900,height:D.firstElementChild.scrollHeight,scrollX:0,scrollY:0,windowWidth:900,windowHeight:D.firstElementChild.scrollHeight});if(document.body.removeChild(D),!Y||Y.width===0||Y.height===0)throw new Error("Canvas 渲染失敗");const M=document.createElement("a");let $;g==="minimalist"?$="Minimalist":g==="web-consistent"?$="網頁風格":$="原始風格",M.download=`咖啡豆盤點表_${$}_${new Date().toLocaleDateString("zh-TW")}.png`,M.href=Y.toDataURL("image/png",1),M.click()}catch(j){console.error("匯出圖片失敗:",j),alert(`匯出圖片失敗：${j.message}`)}};return u.jsxs("div",{className:"container-custom py-6 space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-primary/20 to-primary/10 border border-primary/20",children:u.jsx(bb,{className:"w-6 h-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-primary to-purple-400 bg-clip-text text-transparent",children:"咖啡豆管理工具"}),u.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"庫存管理與重量換算"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[o?u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:xe,className:"px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-500/30 text-blue-400 hover:from-blue-500/30 hover:to-cyan-500/30 hover:border-blue-500/50 transition-all duration-200 flex items-center gap-2",children:[u.jsx(bb,{className:"w-4 h-4"}),"儲存盤點"]}),u.jsx("button",{onClick:me,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 hover:bg-red-500/20 hover:border-red-500/50 transition-all duration-200",children:"取消"})]}):u.jsxs("button",{onClick:ae,className:"px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30 text-green-400 hover:from-green-500/30 hover:to-emerald-500/30 hover:border-green-500/50 transition-all duration-200 flex items-center gap-2",children:[u.jsx(of,{className:"w-4 h-4"}),"快速盤點"]}),u.jsx("button",{onClick:q,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 hover:bg-red-500/20 hover:border-red-500/50 transition-all duration-200",children:"重置數據"})]})]}),u.jsxs("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",ref:r,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-primary mb-1",children:"咖啡豆盤點表"}),u.jsx("p",{className:"text-sm text-text-secondary",children:"即時更新庫存數量"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-surface/40 rounded-lg border border-white/10",children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[u.jsx("input",{type:"radio",value:"original",checked:g==="original",onChange:j=>m(j.target.value),className:"text-blue-400 w-3 h-3"}),u.jsx("span",{children:"原始風格"})]}),u.jsx("div",{className:"w-px h-4 bg-white/20"}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[u.jsx("input",{type:"radio",value:"minimalist",checked:g==="minimalist",onChange:j=>m(j.target.value),className:"text-blue-400 w-3 h-3"}),u.jsx("span",{children:"Minimalist"})]}),u.jsx("div",{className:"w-px h-4 bg-white/20"}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[u.jsx("input",{type:"radio",value:"web-consistent",checked:g==="web-consistent",onChange:j=>m(j.target.value),className:"text-blue-400 w-3 h-3"}),u.jsx("span",{children:"網頁風格"})]})]}),u.jsxs("button",{onClick:ze,className:"px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-400/30 text-blue-400 hover:from-blue-500/30 hover:to-cyan-500/30 hover:border-blue-500/50 transition-all duration-200 flex items-center gap-2",children:[u.jsx(oX,{className:"w-4 h-4"}),"匯出圖片"]})]})]}),u.jsxs("div",{id:"brewing-section",className:"space-y-4",children:[u.jsxs("div",{className:"sticky top-0 z-30 flex items-center gap-3 mb-4 p-4 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-xl border border-blue-400/20 backdrop-blur-md",children:[u.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-blue-400 to-purple-400 rounded-full"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-blue-400",children:"出杯豆"}),u.jsx("p",{className:"text-sm text-blue-300/70",children:"用於製作飲品的咖啡豆"})]}),u.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 animate-pulse"}),u.jsx("span",{className:"text-xs text-blue-300 font-medium",children:"當前區域"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"sticky top-16 z-20 flex items-center gap-3 mb-3 p-3 bg-gradient-to-r from-blue-500/5 to-cyan-500/5 rounded-lg border border-blue-400/10 backdrop-blur-sm",children:[u.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),u.jsx("h4",{className:"text-md font-semibold text-blue-300",children:"手沖豆"}),u.jsx("span",{className:"text-xs text-blue-300/60",children:"手沖咖啡專用"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:ts.brewing.pourOver.map(j=>{const V=Tr.includes(j),D=n.brewing.pourOver[j],Y=`brewing-pourOver-${j}`,M=l[Y];return u.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h5",{className:"font-semibold text-sm text-primary",children:j}),u.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),u.jsx("input",{type:"number",value:(M==null?void 0:M.store)||"0",onChange:$=>pe(Y,"store",$.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!V&&u.jsxs("div",{children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),u.jsx("input",{type:"number",value:(M==null?void 0:M.breakRoom)||"0",onChange:$=>pe(Y,"breakRoom",$.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),u.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:u.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt((M==null?void 0:M.store)||0)+parseInt((M==null?void 0:M.breakRoom)||0)," 包"]})})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),u.jsx("button",{onClick:()=>I("brewing","pourOver",j,"store"),className:"p-1.5 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors hover:scale-110 transform",children:u.jsx(ss,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-1.5",children:((D==null?void 0:D.store)||[""]).map(($,z)=>u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("input",{type:"number",value:$,onChange:L=>T("brewing","pourOver",j,"store",z,L.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-2 px-3 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all",inputMode:"decimal"}),((D==null?void 0:D.store)||[]).length>1&&u.jsx("button",{onClick:()=>F("brewing","pourOver",j,"store",z),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:u.jsx(as,{className:"w-3 h-3"})})]},z))})]}),!V&&u.jsxs("div",{className:"mb-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),u.jsx("button",{onClick:()=>I("brewing","pourOver",j,"breakRoom"),className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:u.jsx(ss,{className:"w-3 h-3"})})]}),u.jsx("div",{className:"space-y-1.5",children:((D==null?void 0:D.breakRoom)||[""]).map(($,z)=>u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("input",{type:"number",value:$,onChange:L=>T("brewing","pourOver",j,"breakRoom",z,L.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((D==null?void 0:D.breakRoom)||[]).length>1&&u.jsx("button",{onClick:()=>F("brewing","pourOver",j,"breakRoom",z),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:u.jsx(as,{className:"w-3 h-3"})})]},z))})]}),u.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-primary/10 to-transparent rounded-lg p-2",children:u.jsxs("span",{className:"text-xs font-semibold text-primary",children:[j,"：總共 ",_(D)," 包"]})})]})]},j)})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"sticky top-16 z-20 flex items-center gap-3 mb-3 p-3 bg-gradient-to-r from-purple-500/5 to-pink-500/5 rounded-lg border border-purple-400/10 backdrop-blur-sm",children:[u.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),u.jsx("h4",{className:"text-md font-semibold text-purple-300",children:"義式豆"}),u.jsx("span",{className:"text-xs text-purple-300/60",children:"義式咖啡專用"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:ts.brewing.espresso.map(j=>{const V=Tr.includes(j),D=n.brewing.espresso[j],Y=`brewing-espresso-${j}`,M=l[Y];return u.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h5",{className:"font-semibold text-sm text-primary",children:j}),u.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),u.jsx("input",{type:"number",value:(M==null?void 0:M.store)||"0",onChange:$=>pe(Y,"store",$.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!V&&u.jsxs("div",{children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),u.jsx("input",{type:"number",value:(M==null?void 0:M.breakRoom)||"0",onChange:$=>pe(Y,"breakRoom",$.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),u.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:u.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt((M==null?void 0:M.store)||0)+parseInt((M==null?void 0:M.breakRoom)||0)," 包"]})})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),u.jsx("button",{onClick:()=>I("brewing","espresso",j,"store"),className:"p-1 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors",children:u.jsx(ss,{className:"w-3 h-3"})})]}),u.jsx("div",{className:"space-y-1.5",children:((D==null?void 0:D.store)||[""]).map(($,z)=>u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("input",{type:"number",value:$,onChange:L=>T("brewing","espresso",j,"store",z,L.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"}),((D==null?void 0:D.store)||[]).length>1&&u.jsx("button",{onClick:()=>F("brewing","espresso",j,"store",z),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:u.jsx(as,{className:"w-3 h-3"})})]},z))})]}),!V&&u.jsxs("div",{className:"mb-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),u.jsx("button",{onClick:()=>I("brewing","espresso",j,"breakRoom"),className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:u.jsx(ss,{className:"w-3 h-3"})})]}),u.jsx("div",{className:"space-y-1.5",children:((D==null?void 0:D.breakRoom)||[""]).map(($,z)=>u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("input",{type:"number",value:$,onChange:L=>T("brewing","espresso",j,"breakRoom",z,L.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((D==null?void 0:D.breakRoom)||[]).length>1&&u.jsx("button",{onClick:()=>F("brewing","espresso",j,"breakRoom",z),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:u.jsx(as,{className:"w-3 h-3"})})]},z))})]}),u.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-primary/10 to-transparent rounded-lg p-2",children:u.jsxs("span",{className:"text-xs font-semibold text-primary",children:[j,"：總共 ",_(D)," 包"]})})]})]},j)})})]})]}),u.jsxs("div",{id:"retail-section",className:"space-y-4 mt-8",children:[u.jsxs("div",{className:"sticky top-0 z-30 flex items-center gap-3 mb-4 p-4 bg-gradient-to-r from-orange-500/10 to-yellow-500/10 rounded-xl border border-orange-400/20 backdrop-blur-md",children:[u.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-orange-400 to-yellow-400 rounded-full"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-orange-400",children:"賣豆"}),u.jsx("p",{className:"text-sm text-orange-300/70",children:"用於販售的咖啡豆"})]}),u.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-400 animate-pulse"}),u.jsx("span",{className:"text-xs text-orange-300 font-medium",children:"當前區域"})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:ts.retail.map(j=>{const V=Tr.includes(j),D=n.retail[j],Y=`retail-${j}`,M=l[Y];return u.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h5",{className:"font-semibold text-sm text-primary",children:j}),u.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),u.jsx("input",{type:"number",value:(M==null?void 0:M.store)||"0",onChange:$=>pe(Y,"store",$.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!V&&u.jsxs("div",{children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),u.jsx("input",{type:"number",value:(M==null?void 0:M.breakRoom)||"0",onChange:$=>pe(Y,"breakRoom",$.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),u.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:u.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt((M==null?void 0:M.store)||0)+parseInt((M==null?void 0:M.breakRoom)||0)," 包"]})})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),u.jsx("button",{onClick:()=>{if(!n.retail[j]){const z=Tr.includes(j)?{store:[""]}:{store:[""],breakRoom:[""]};i(L=>({...L,retail:{...L.retail,[j]:z}}))}i($=>{var z;return{...$,retail:{...$.retail,[j]:{...$.retail[j],store:[...((z=$.retail[j])==null?void 0:z.store)||[""],""]}}}})},className:"p-1 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors",children:u.jsx(ss,{className:"w-3 h-3"})})]}),u.jsx("div",{className:"space-y-1.5",children:((D==null?void 0:D.store)||[""]).map(($,z)=>u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("input",{type:"number",value:$,onChange:L=>{if(!n.retail[j]){const be=Tr.includes(j)?{store:[""]}:{store:[""],breakRoom:[""]};i(ke=>({...ke,retail:{...ke.retail,[j]:be}}))}i(Be=>{var be,ke;return{...Be,retail:{...Be.retail,[j]:{...Be.retail[j],store:((ke=(be=Be.retail[j])==null?void 0:be.store)==null?void 0:ke.map((Re,ir)=>ir===z?L.target.value:Re))||[""]}}}})},placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"}),((D==null?void 0:D.store)||[]).length>1&&u.jsx("button",{onClick:()=>{i(L=>{var Be,be;return{...L,retail:{...L.retail,[j]:{...L.retail[j],store:((be=(Be=L.retail[j])==null?void 0:Be.store)==null?void 0:be.filter((ke,Re)=>Re!==z))||[""]}}}})},className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:u.jsx(as,{className:"w-3 h-3"})})]},z))})]}),!V&&u.jsxs("div",{className:"mb-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),u.jsx("button",{onClick:()=>{if(!n.retail[j]){const z=Tr.includes(j)?{store:[""]}:{store:[""],breakRoom:[""]};i(L=>({...L,retail:{...L.retail,[j]:z}}))}i($=>{var z;return{...$,retail:{...$.retail,[j]:{...$.retail[j],breakRoom:[...((z=$.retail[j])==null?void 0:z.breakRoom)||[""],""]}}}})},className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:u.jsx(ss,{className:"w-3 h-3"})})]}),u.jsx("div",{className:"space-y-1.5",children:((D==null?void 0:D.breakRoom)||[""]).map(($,z)=>u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("input",{type:"number",value:$,onChange:L=>{if(!n.retail[j]){const be=Tr.includes(j)?{store:[""]}:{store:[""],breakRoom:[""]};i(ke=>({...ke,retail:{...ke.retail,[j]:be}}))}i(Be=>{var be,ke;return{...Be,retail:{...Be.retail,[j]:{...Be.retail[j],breakRoom:((ke=(be=Be.retail[j])==null?void 0:be.breakRoom)==null?void 0:ke.map((Re,ir)=>ir===z?L.target.value:Re))||[""]}}}})},placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((D==null?void 0:D.breakRoom)||[]).length>1&&u.jsx("button",{onClick:()=>{i(L=>{var Be,be;return{...L,retail:{...L.retail,[j]:{...L.retail[j],breakRoom:((be=(Be=L.retail[j])==null?void 0:Be.breakRoom)==null?void 0:be.filter((ke,Re)=>Re!==z))||[""]}}}})},className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:u.jsx(as,{className:"w-3 h-3"})})]},z))})]}),u.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-primary/10 to-transparent rounded-lg p-2",children:u.jsxs("span",{className:"text-xs font-semibold text-primary",children:[j,"：總共 ",_(D)," 包"]})})]})]},j)})})]})]}),u.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50",children:u.jsx("div",{className:"bg-surface/90 backdrop-blur-md border border-white/20 rounded-full px-4 py-2 shadow-lg",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{onClick:()=>{var j;return(j=document.getElementById("brewing-section"))==null?void 0:j.scrollIntoView({behavior:"smooth"})},className:`flex items-center gap-2 px-3 py-1 rounded-full transition-all duration-300 ${d==="brewing"?"bg-blue-400/20 text-blue-400":"text-gray-400 hover:text-blue-300"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${d==="brewing"?"bg-blue-400":"bg-gray-400"}`}),u.jsx("span",{className:"text-sm font-medium",children:"出杯豆"})]}),u.jsx("div",{className:"w-px h-4 bg-gray-600"}),u.jsxs("button",{onClick:()=>{var j;return(j=document.getElementById("retail-section"))==null?void 0:j.scrollIntoView({behavior:"smooth"})},className:`flex items-center gap-2 px-3 py-1 rounded-full transition-all duration-300 ${d==="retail"?"bg-orange-400/20 text-orange-400":"text-gray-400 hover:text-orange-300"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${d==="retail"?"bg-orange-400":"bg-gray-400"}`}),u.jsx("span",{className:"text-sm font-medium",children:"賣豆"})]})]})})}),u.jsx("button",{onClick:()=>e(!0),className:"fixed bottom-6 right-6 p-4 bg-gradient-to-r from-primary/20 to-purple-500/20 border border-primary/30 text-primary hover:from-primary/30 hover:to-purple-500/30 hover:border-primary/50 transition-all duration-200 rounded-full shadow-lg hover:shadow-xl z-50 hover:scale-110 transform",children:u.jsx(of,{className:"w-6 h-6"})}),t&&u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:j=>{j.target===j.currentTarget&&e(!1)},children:u.jsxs("div",{className:"bg-surface/95 backdrop-blur-md border border-white/20 rounded-2xl p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl",onClick:j=>j.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-primary mb-1",children:"重量換算計算器"}),u.jsx("p",{className:"text-sm text-text-secondary",children:"估算豆包數量"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:ie,className:"px-3 py-1.5 text-xs font-medium rounded-lg border border-amber-500/30 text-amber-400 hover:bg-amber-500/10 hover:border-amber-500/50 transition-all duration-200 flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-400"}),"回復設定"]}),u.jsx("button",{onClick:()=>e(!1),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:u.jsx(yD,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-amber-400 to-orange-400 rounded-full"}),u.jsx("h3",{className:"text-lg font-bold text-primary",children:"計算模式"})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/10 hover:border-amber-400/30 transition-all duration-200 cursor-pointer bg-gradient-to-br from-surface/40 to-surface/20",children:[u.jsx("input",{type:"radio",value:"bag",checked:s==="bag",onChange:j=>a(j.target.value),className:"text-amber-400 w-4 h-4"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),u.jsx("span",{className:"font-medium",children:"外包裝袋"})]})]}),u.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/10 hover:border-amber-400/30 transition-all duration-200 cursor-pointer bg-gradient-to-br from-surface/40 to-surface/20",children:[u.jsx("input",{type:"radio",value:"ikea",checked:s==="ikea",onChange:j=>a(j.target.value),className:"text-amber-400 w-4 h-4"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),u.jsx("span",{className:"font-medium",children:"IKEA 盒子"})]})]})]})]}),u.jsxs("div",{className:"space-y-4 mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-400 to-purple-400 rounded-full"}),u.jsx("h3",{className:"text-lg font-bold text-primary",children:"重量設定"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-xl p-4 border border-white/10",children:[u.jsxs("label",{className:"block text-sm font-semibold mb-3 text-primary flex items-center gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),s==="bag"?"外包裝袋重量":"IKEA 盒重量"," (g)"]}),u.jsx("input",{type:"number",value:s==="bag"?p.bagWeight:p.ikeaBoxWeight,onChange:j=>U(s==="bag"?"bagWeight":"ikeaBoxWeight",j.target.value),className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all",placeholder:"輸入重量",inputMode:"decimal"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-xl p-4 border border-white/10",children:[u.jsxs("label",{className:"block text-sm font-semibold mb-3 text-primary flex items-center gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"每包豆子重量 (g)"]}),u.jsx("input",{type:"number",value:p.beanWeightPerPack,onChange:j=>U("beanWeightPerPack",j.target.value),className:"input-field w-full text-sm py-2.5 px-3 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",placeholder:"輸入重量",inputMode:"decimal"})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{onClick:k,className:"px-4 py-2.5 text-sm font-medium rounded-lg bg-gradient-to-r from-primary/20 to-purple-500/20 border border-primary/30 text-primary hover:from-primary/30 hover:to-purple-500/30 hover:border-primary/50 transition-all duration-200 flex items-center gap-2",children:[u.jsx(ss,{className:"w-4 h-4"}),"新增計算欄位"]})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-green-400 to-emerald-400 rounded-full"}),u.jsx("h3",{className:"text-lg font-bold text-primary",children:"計算結果"})]}),y.map(j=>u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-4 border border-white/10 hover:border-primary/30 transition-all duration-200 hover:shadow-lg hover:shadow-primary/10",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h5",{className:"font-semibold text-primary",children:["計算欄位 #",j.id]}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/60"})]}),y.length>1&&u.jsx("button",{onClick:()=>Q(j.id),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:u.jsx(as,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-lg p-3 border border-white/10",children:[u.jsxs("label",{className:"block text-sm font-semibold mb-2 text-text-secondary flex items-center gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"總重量 (g)"]}),u.jsx("input",{type:"number",value:j.totalWeight,onChange:V=>P(j.id,V.target.value),placeholder:"輸入總重量",className:"input-field w-full text-sm py-2 px-3 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-lg p-3 border border-white/10",children:[u.jsxs("label",{className:"block text-sm font-semibold mb-2 text-text-secondary flex items-center gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"估算包數"]}),u.jsxs("div",{className:"w-full text-sm py-3 px-4 rounded-lg bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-400/30 text-center font-bold text-green-400 hover:border-green-500/50 transition-all",children:[j.estimatedPacks," 包"]})]})]})]},j.id))]})]})})]})}function HX(t){return u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),u.jsx("polyline",{points:"14,2 14,8 20,8"})]})}function VX(t){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}function KX(){const[t,e]=x.useState("");x.useState(!1);const[r,n]=x.useState(0),[i,s]=x.useState(!1),[a,o]=x.useState(""),[A,l]=x.useState(!1),c=[{value:"1",label:"1月"},{value:"2",label:"2月"},{value:"3",label:"3月"},{value:"4",label:"4月"},{value:"5",label:"5月"},{value:"6",label:"6月"},{value:"7",label:"7月"},{value:"8",label:"8月"},{value:"9",label:"9月"},{value:"10",label:"10月"},{value:"11",label:"11月"},{value:"12",label:"12月"}],d=g=>[31,28,31,30,31,30,31,31,30,31,30,31][parseInt(g)-1],f=()=>{if(!t)return;const g=`DailyReport_${t}_Month.zip`,m=`https://raw.githubusercontent.com/greedysisyphus/Brainless/main/public/reports/${g}`,p=document.createElement("a");p.href=m,p.download=g,document.body.appendChild(p),p.click(),document.body.removeChild(p)};return u.jsx("div",{className:"container-custom py-6",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[u.jsx(HX,{className:"w-8 h-8 text-primary"}),u.jsx("h1",{className:"text-2xl font-bold mb-2 text-center",children:"報表生成器"})]}),u.jsx("div",{className:"mb-6",children:u.jsxs("blockquote",{className:"italic text-gray-400 text-center text-base",children:["「我愛改檔名」",u.jsx("span",{className:"block text-xs text-gray-500 mt-1 text-center",children:"— 紅葉"})]})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("h2",{className:"text-lg font-semibold text-primary mb-4 flex items-center gap-2",children:[u.jsx(xd,{className:"w-5 h-5"}),"選擇月份"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-sm text-text-secondary",children:"選擇要生成日報表的月份"}),u.jsxs("select",{value:t,onChange:g=>e(g.target.value),className:"input-field w-full max-w-xs",children:[u.jsx("option",{value:"",children:"請選擇月份"}),c.map(g=>u.jsxs("option",{value:g.value,children:[g.label," (",d(g.value),"天)"]},g.value))]}),t&&u.jsxs("div",{className:"text-sm text-text-secondary",children:["將生成 ",d(t)," 個日報表檔案"]})]})]})}),u.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("h2",{className:"text-lg font-semibold text-primary mb-4 flex items-center gap-2",children:[u.jsx(VX,{className:"w-5 h-5"}),"生成日報表"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-sm text-text-secondary",children:"點擊下方按鈕開始生成整月日報表"}),u.jsx("button",{onClick:f,disabled:!t,className:"btn-primary w-full max-w-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"下載日報表"})]})]})}),a&&u.jsx("div",{className:"card backdrop-blur-sm bg-red-500/10 border border-red-500/30",children:u.jsxs("div",{className:"p-4 flex items-center gap-3",children:[u.jsx(BX,{className:"w-5 h-5 text-red-400"}),u.jsx("span",{className:"text-red-400",children:a})]})}),A&&u.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-lg font-semibold text-primary",children:"生成進度"}),u.jsxs("span",{className:"text-sm text-text-secondary",children:[Math.round(r),"%"]})]}),u.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-primary to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${r}%`}})}),i&&u.jsxs("div",{className:"mt-4 flex items-center gap-2 text-green-400",children:[u.jsx(pX,{className:"w-5 h-5"}),u.jsx("span",{children:"日報表生成完成！"})]})]})})]})]})})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Eb=function(t,e){return Eb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Eb(t,e)};function _i(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Eb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _b=function(){return _b=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},_b.apply(this,arguments)};function Rr(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(c){try{l(n.next(c))}catch(d){a(d)}}function A(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?s(c.value):i(c.value).then(o,A)}l((n=n.apply(t,[])).next())})}function Fr(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(c){return A([l,c])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function qh(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var js=function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),ev=function(t,e){return js.fromClientRect(t,e.getBoundingClientRect())},$X=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new js(0,0,n,i)},tv=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Dt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},L2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",GX=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jh=0;Jh<L2.length;Jh++)GX[L2.charCodeAt(Jh)]=Jh;var H2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Zh=0;Zh<H2.length;Zh++)zu[H2.charCodeAt(Zh)]=Zh;var WX=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=zu[t.charCodeAt(n)],a=zu[t.charCodeAt(n+1)],o=zu[t.charCodeAt(n+2)],A=zu[t.charCodeAt(n+3)],c[i++]=s<<2|a>>4,c[i++]=(a&15)<<4|o>>2,c[i++]=(o&3)<<6|A&63;return l},zX=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},YX=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},iA=5,j1=11,iw=2,XX=j1-iA,wD=65536>>iA,qX=1<<iA,sw=qX-1,JX=1024>>iA,ZX=wD+JX,eq=ZX,tq=32,rq=eq+tq,nq=65536>>j1,iq=1<<XX,sq=iq-1,V2=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},aq=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},oq=function(t,e){var r=WX(t),n=Array.isArray(r)?YX(r):new Uint32Array(r),i=Array.isArray(r)?zX(r):new Uint16Array(r),s=24,a=V2(i,s/2,n[4]/2),o=n[5]===2?V2(i,(s+n[4])/2):aq(n,Math.ceil((s+n[4])/4));return new Aq(n[0],n[1],n[2],n[3],a,o)},Aq=function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>iA],r=(r<<iw)+(e&sw),this.data[r];if(e<=65535)return r=this.index[wD+(e-55296>>iA)],r=(r<<iw)+(e&sw),this.data[r];if(e<this.highStart)return r=rq-nq+(e>>j1),r=this.index[r],r+=e>>iA&sq,r=this.index[r],r=(r<<iw)+(e&sw),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),K2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lq=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var eg=0;eg<K2.length;eg++)lq[K2.charCodeAt(eg)]=eg;var cq="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",$2=50,uq=1,xD=2,bD=3,dq=4,fq=5,G2=7,BD=8,W2=9,Ba=10,Ib=11,z2=12,Sb=13,hq=14,Yu=15,Tb=16,tg=17,Eu=18,gq=19,Y2=20,Fb=21,_u=22,aw=23,rl=24,fn=25,Xu=26,qu=27,nl=28,mq=29,Vo=30,pq=31,rg=32,ng=33,Nb=34,Ub=35,Pb=36,Af=37,kb=38,hm=39,gm=40,ow=41,CD=42,vq=43,yq=[9001,65288],ED="!",je="×",ig="÷",Qb=oq(cq),rs=[Vo,Pb],Ob=[uq,xD,bD,fq],_D=[Ba,BD],X2=[qu,Xu],wq=Ob.concat(_D),q2=[kb,hm,gm,Nb,Ub],xq=[Yu,Sb],bq=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(s,a){var o=Qb.get(s);if(o>$2?(i.push(!0),o-=$2):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),r.push(Tb);if(o===dq||o===Ib){if(a===0)return n.push(a),r.push(Vo);var A=r[a-1];return wq.indexOf(A)===-1?(n.push(n[a-1]),r.push(A)):(n.push(a),r.push(Vo))}if(n.push(a),o===pq)return r.push(e==="strict"?Fb:Af);if(o===CD||o===mq)return r.push(Vo);if(o===vq)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(Af):r.push(Vo);r.push(o)}),[n,r,i]},Aw=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=r;s<=n.length;){s++;var a=n[s];if(a===e)return!0;if(a!==Ba)break}if(i===Ba)for(var s=r;s>0;){s--;var o=n[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var A=r;A<=n.length;){A++;var a=n[A];if(a===e)return!0;if(a!==Ba)break}if(o!==Ba)break}return!1},J2=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Ba)r--;else return n}return 0},Bq=function(t,e,r,n,i){if(r[n]===0)return je;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return je;var a=s-1,o=s+1,A=e[s],l=a>=0?e[a]:0,c=e[o];if(A===xD&&c===bD)return je;if(Ob.indexOf(A)!==-1)return ED;if(Ob.indexOf(c)!==-1||_D.indexOf(c)!==-1)return je;if(J2(s,e)===BD)return ig;if(Qb.get(t[s])===Ib||(A===rg||A===ng)&&Qb.get(t[o])===Ib||A===G2||c===G2||A===W2||[Ba,Sb,Yu].indexOf(A)===-1&&c===W2||[tg,Eu,gq,rl,nl].indexOf(c)!==-1||J2(s,e)===_u||Aw(aw,_u,s,e)||Aw([tg,Eu],Fb,s,e)||Aw(z2,z2,s,e))return je;if(A===Ba)return ig;if(A===aw||c===aw)return je;if(c===Tb||A===Tb)return ig;if([Sb,Yu,Fb].indexOf(c)!==-1||A===hq||l===Pb&&xq.indexOf(A)!==-1||A===nl&&c===Pb||c===Y2||rs.indexOf(c)!==-1&&A===fn||rs.indexOf(A)!==-1&&c===fn||A===qu&&[Af,rg,ng].indexOf(c)!==-1||[Af,rg,ng].indexOf(A)!==-1&&c===Xu||rs.indexOf(A)!==-1&&X2.indexOf(c)!==-1||X2.indexOf(A)!==-1&&rs.indexOf(c)!==-1||[qu,Xu].indexOf(A)!==-1&&(c===fn||[_u,Yu].indexOf(c)!==-1&&e[o+1]===fn)||[_u,Yu].indexOf(A)!==-1&&c===fn||A===fn&&[fn,nl,rl].indexOf(c)!==-1)return je;if([fn,nl,rl,tg,Eu].indexOf(c)!==-1)for(var d=s;d>=0;){var f=e[d];if(f===fn)return je;if([nl,rl].indexOf(f)!==-1)d--;else break}if([qu,Xu].indexOf(c)!==-1)for(var d=[tg,Eu].indexOf(A)!==-1?a:s;d>=0;){var f=e[d];if(f===fn)return je;if([nl,rl].indexOf(f)!==-1)d--;else break}if(kb===A&&[kb,hm,Nb,Ub].indexOf(c)!==-1||[hm,Nb].indexOf(A)!==-1&&[hm,gm].indexOf(c)!==-1||[gm,Ub].indexOf(A)!==-1&&c===gm||q2.indexOf(A)!==-1&&[Y2,Xu].indexOf(c)!==-1||q2.indexOf(c)!==-1&&A===qu||rs.indexOf(A)!==-1&&rs.indexOf(c)!==-1||A===rl&&rs.indexOf(c)!==-1||rs.concat(fn).indexOf(A)!==-1&&c===_u&&yq.indexOf(t[o])===-1||rs.concat(fn).indexOf(c)!==-1&&A===Eu)return je;if(A===ow&&c===ow){for(var g=r[s],m=1;g>0&&(g--,e[g]===ow);)m++;if(m%2!==0)return je}return A===rg&&c===ng?je:ig},Cq=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=bq(t,e.lineBreak),n=r[0],i=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[fn,Vo,CD].indexOf(o)!==-1?Af:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,A){return o&&t[A]>=19968&&t[A]<=40959}):void 0;return[n,i,a]},Eq=function(){function t(e,r,n,i){this.codePoints=e,this.required=r===ED,this.start=n,this.end=i}return t.prototype.slice=function(){return Dt.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),_q=function(t,e){var r=tv(t),n=Cq(r,e),i=n[0],s=n[1],a=n[2],o=r.length,A=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var c=je;l<o&&(c=Bq(r,s,i,++l,a))===je;);if(c!==je||l===o){var d=new Eq(r,c,A,l);return A=l,{value:d,done:!1}}return{done:!0,value:null}}}},Iq=1,Sq=2,Mf=4,Z2=8,gp=10,eF=47,bd=92,Tq=9,Fq=32,sg=34,Iu=61,Nq=35,Uq=36,Pq=37,ag=39,og=40,Su=41,kq=95,Zr=45,Qq=33,Oq=60,jq=62,Dq=64,Rq=91,Mq=93,Lq=61,Hq=123,Ag=63,Vq=125,tF=124,Kq=126,$q=128,rF=65533,lw=42,zo=43,Gq=44,Wq=58,zq=59,lf=46,Yq=0,Xq=8,qq=11,Jq=14,Zq=31,eJ=127,Ni=-1,ID=48,SD=97,TD=101,tJ=102,rJ=117,nJ=122,FD=65,ND=69,UD=70,iJ=85,sJ=90,Ur=function(t){return t>=ID&&t<=57},aJ=function(t){return t>=55296&&t<=57343},il=function(t){return Ur(t)||t>=FD&&t<=UD||t>=SD&&t<=tJ},oJ=function(t){return t>=SD&&t<=nJ},AJ=function(t){return t>=FD&&t<=sJ},lJ=function(t){return oJ(t)||AJ(t)},cJ=function(t){return t>=$q},lg=function(t){return t===gp||t===Tq||t===Fq},mp=function(t){return lJ(t)||cJ(t)||t===kq},nF=function(t){return mp(t)||Ur(t)||t===Zr},uJ=function(t){return t>=Yq&&t<=Xq||t===qq||t>=Jq&&t<=Zq||t===eJ},da=function(t,e){return t!==bd?!1:e!==gp},cg=function(t,e,r){return t===Zr?mp(e)||da(e,r):mp(t)?!0:!!(t===bd&&da(t,e))},cw=function(t,e,r){return t===zo||t===Zr?Ur(e)?!0:e===lf&&Ur(r):Ur(t===lf?e:t)},dJ=function(t){var e=0,r=1;(t[e]===zo||t[e]===Zr)&&(t[e]===Zr&&(r=-1),e++);for(var n=[];Ur(t[e]);)n.push(t[e++]);var i=n.length?parseInt(Dt.apply(void 0,n),10):0;t[e]===lf&&e++;for(var s=[];Ur(t[e]);)s.push(t[e++]);var a=s.length,o=a?parseInt(Dt.apply(void 0,s),10):0;(t[e]===ND||t[e]===TD)&&e++;var A=1;(t[e]===zo||t[e]===Zr)&&(t[e]===Zr&&(A=-1),e++);for(var l=[];Ur(t[e]);)l.push(t[e++]);var c=l.length?parseInt(Dt.apply(void 0,l),10):0;return r*(i+o*Math.pow(10,-a))*Math.pow(10,A*c)},fJ={type:2},hJ={type:3},gJ={type:4},mJ={type:13},pJ={type:8},vJ={type:21},yJ={type:9},wJ={type:10},xJ={type:11},bJ={type:12},BJ={type:14},ug={type:23},CJ={type:1},EJ={type:25},_J={type:24},IJ={type:26},SJ={type:27},TJ={type:28},FJ={type:29},NJ={type:31},jb={type:32},PD=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(tv(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==jb;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case sg:return this.consumeStringToken(sg);case Nq:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(nF(r)||da(n,i)){var s=cg(r,n,i)?Sq:Iq,a=this.consumeName();return{type:5,value:a,flags:s}}break;case Uq:if(this.peekCodePoint(0)===Iu)return this.consumeCodePoint(),mJ;break;case ag:return this.consumeStringToken(ag);case og:return fJ;case Su:return hJ;case lw:if(this.peekCodePoint(0)===Iu)return this.consumeCodePoint(),BJ;break;case zo:if(cw(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Gq:return gJ;case Zr:var o=e,A=this.peekCodePoint(0),l=this.peekCodePoint(1);if(cw(o,A,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(cg(o,A,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===Zr&&l===jq)return this.consumeCodePoint(),this.consumeCodePoint(),_J;break;case lf:if(cw(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case eF:if(this.peekCodePoint(0)===lw)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===lw&&(c=this.consumeCodePoint(),c===eF))return this.consumeToken();if(c===Ni)return this.consumeToken()}break;case Wq:return IJ;case zq:return SJ;case Oq:if(this.peekCodePoint(0)===Qq&&this.peekCodePoint(1)===Zr&&this.peekCodePoint(2)===Zr)return this.consumeCodePoint(),this.consumeCodePoint(),EJ;break;case Dq:var d=this.peekCodePoint(0),f=this.peekCodePoint(1),g=this.peekCodePoint(2);if(cg(d,f,g)){var a=this.consumeName();return{type:7,value:a}}break;case Rq:return TJ;case bd:if(da(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Mq:return FJ;case Lq:if(this.peekCodePoint(0)===Iu)return this.consumeCodePoint(),pJ;break;case Hq:return xJ;case Vq:return bJ;case rJ:case iJ:var m=this.peekCodePoint(0),p=this.peekCodePoint(1);return m===zo&&(il(p)||p===Ag)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case tF:if(this.peekCodePoint(0)===Iu)return this.consumeCodePoint(),yJ;if(this.peekCodePoint(0)===tF)return this.consumeCodePoint(),vJ;break;case Kq:if(this.peekCodePoint(0)===Iu)return this.consumeCodePoint(),wJ;break;case Ni:return jb}return lg(e)?(this.consumeWhiteSpace(),NJ):Ur(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):mp(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Dt(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();il(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===Ag&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Dt.apply(void 0,e.map(function(A){return A===Ag?ID:A})),16),s=parseInt(Dt.apply(void 0,e.map(function(A){return A===Ag?UD:A})),16);return{type:30,start:i,end:s}}var a=parseInt(Dt.apply(void 0,e),16);if(this.peekCodePoint(0)===Zr&&il(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];il(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var s=parseInt(Dt.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===og?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===og?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ni)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===ag||r===sg){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ni||this.peekCodePoint(0)===Su)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),ug)}for(;;){var i=this.consumeCodePoint();if(i===Ni||i===Su)return{type:22,value:Dt.apply(void 0,e)};if(lg(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ni||this.peekCodePoint(0)===Su?(this.consumeCodePoint(),{type:22,value:Dt.apply(void 0,e)}):(this.consumeBadUrlRemnants(),ug);if(i===sg||i===ag||i===og||uJ(i))return this.consumeBadUrlRemnants(),ug;if(i===bd)if(da(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ug;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;lg(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Su||e===Ni)return;da(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=Dt.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===Ni||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===gp)return this._value.splice(0,n),CJ;if(i===bd){var s=this._value[n+1];s!==Ni&&s!==void 0&&(s===gp?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):da(i,s)&&(r+=this.consumeStringSlice(n),r+=Dt(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Mf,n=this.peekCodePoint(0);for((n===zo||n===Zr)&&e.push(this.consumeCodePoint());Ur(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===lf&&Ur(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Z2;Ur(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===ND||n===TD)&&((i===zo||i===Zr)&&Ur(s)||Ur(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Z2;Ur(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[dJ(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(cg(i,s,a)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return i===Pq?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(il(e)){for(var r=Dt(e);il(this.peekCodePoint(0))&&r.length<6;)r+=Dt(this.consumeCodePoint());lg(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||aJ(n)||n>1114111?rF:n}return e===Ni?rF:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(nF(r))e+=Dt(r);else if(da(r,this.peekCodePoint(0)))e+=Dt(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),kD=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new PD;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||PJ(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?jb:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Lf=function(t){return t.type===15},Oc=function(t){return t.type===17},Ze=function(t){return t.type===20},UJ=function(t){return t.type===0},Db=function(t,e){return Ze(t)&&t.value===e},QD=function(t){return t.type!==31},hc=function(t){return t.type!==31&&t.type!==4},Yi=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},PJ=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},ro=function(t){return t.type===17||t.type===15},Kt=function(t){return t.type===16||ro(t)},OD=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},xr={type:17,number:0,flags:Mf},D1={type:16,number:50,flags:Mf},Ca={type:16,number:100,flags:Mf},Ju=function(t,e,r){var n=t[0],i=t[1];return[At(n,e),At(typeof i<"u"?i:n,r)]},At=function(t,e){if(t.type===16)return t.number/100*e;if(Lf(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},jD="deg",DD="grad",RD="rad",MD="turn",rv={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case jD:return Math.PI*e.number/180;case DD:return Math.PI/200*e.number;case RD:return e.number;case MD:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},LD=function(t){return t.type===15&&(t.unit===jD||t.unit===DD||t.unit===RD||t.unit===MD)},HD=function(t){var e=t.filter(Ze).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[xr,xr];case"to top":case"bottom":return qn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[xr,Ca];case"to right":case"left":return qn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ca,Ca];case"to bottom":case"top":return qn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ca,xr];case"to left":case"right":return qn(270)}return 0},qn=function(t){return Math.PI*t/180},La={name:"color",parse:function(t,e){if(e.type===18){var r=kJ[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return Ea(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return Ea(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return Ea(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return Ea(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=Is[e.value.toUpperCase()];if(typeof o<"u")return o}return Is.TRANSPARENT}},Ha=function(t){return(255&t)===0},ar=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},Ea=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},iF=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},sF=function(t,e){var r=e.filter(hc);if(r.length===3){var n=r.map(iF),i=n[0],s=n[1],a=n[2];return Ea(i,s,a,1)}if(r.length===4){var o=r.map(iF),i=o[0],s=o[1],a=o[2],A=o[3];return Ea(i,s,a,A)}return 0};function uw(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var aF=function(t,e){var r=e.filter(hc),n=r[0],i=r[1],s=r[2],a=r[3],o=(n.type===17?qn(n.number):rv.parse(t,n))/(Math.PI*2),A=Kt(i)?i.number/100:0,l=Kt(s)?s.number/100:0,c=typeof a<"u"&&Kt(a)?At(a,1):1;if(A===0)return Ea(l*255,l*255,l*255,1);var d=l<=.5?l*(A+1):l+A-l*A,f=l*2-d,g=uw(f,d,o+1/3),m=uw(f,d,o),p=uw(f,d,o-1/3);return Ea(g*255,m*255,p*255,c)},kJ={hsl:aF,hsla:aF,rgb:sF,rgba:sF},Bd=function(t,e){return La.parse(t,kD.create(e).parseComponentValue())},Is={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},QJ={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Ze(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},OJ={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},nv=function(t,e){var r=La.parse(t,e[0]),n=e[1];return n&&Kt(n)?{color:r,stop:n}:{color:r,stop:null}},oF=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=xr),n.stop===null&&(n.stop=Ca);for(var i=[],s=0,a=0;a<t.length;a++){var o=t[a].stop;if(o!==null){var A=At(o,e);A>s?i.push(A):i.push(s),s=A}else i.push(null)}for(var l=null,a=0;a<i.length;a++){var c=i[a];if(c===null)l===null&&(l=a);else if(l!==null){for(var d=a-l,f=i[l-1],g=(c-f)/(d+1),m=1;m<=d;m++)i[l+m-1]=g*m;l=null}}return t.map(function(p,v){var y=p.color;return{color:y,stop:Math.max(Math.min(1,i[v]/e),0)}})},jJ=function(t,e,r){var n=e/2,i=r/2,s=At(t[0],e)-n,a=i-At(t[1],r);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},DJ=function(t,e,r){var n=typeof t=="number"?t:jJ(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,a=r/2,o=i/2,A=Math.sin(n-Math.PI/2)*o,l=Math.cos(n-Math.PI/2)*o;return[i,s-l,s+l,a-A,a+A]},hi=function(t,e){return Math.sqrt(t*t+e*e)},AF=function(t,e,r,n,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(a,o){var A=o[0],l=o[1],c=hi(r-A,n-l);return(i?c<a.optimumDistance:c>a.optimumDistance)?{optimumCorner:o,optimumDistance:c}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},RJ=function(t,e,r,n,i){var s=0,a=0;switch(t.size){case 0:t.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)s=a=Math.min(hi(e,r),hi(e,r-i),hi(e-n,r),hi(e-n,r-i));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),A=AF(n,i,e,r,!0),l=A[0],c=A[1];s=hi(l-e,(c-r)/o),a=o*s}break;case 1:t.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)s=a=Math.max(hi(e,r),hi(e,r-i),hi(e-n,r),hi(e-n,r-i));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),d=AF(n,i,e,r,!1),l=d[0],c=d[1];s=hi(l-e,(c-r)/o),a=o*s}break}return Array.isArray(t.size)&&(s=At(t.size[0],n),a=t.size.length===2?At(t.size[1],i):s),[s,a]},MJ=function(t,e){var r=qn(180),n=[];return Yi(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){r=HD(i);return}else if(LD(a)){r=rv.parse(t,a);return}}var o=nv(t,i);n.push(o)}),{angle:r,stops:n,type:1}},dg=function(t,e){var r=qn(180),n=[];return Yi(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=HD(i);return}else if(LD(a)){r=(rv.parse(t,a)+qn(270))%qn(360);return}}var o=nv(t,i);n.push(o)}),{angle:r,stops:n,type:1}},LJ=function(t,e){var r=qn(180),n=[],i=1,s=0,a=3,o=[];return Yi(e).forEach(function(A,l){var c=A[0];if(l===0){if(Ze(c)&&c.value==="linear"){i=1;return}else if(Ze(c)&&c.value==="radial"){i=2;return}}if(c.type===18){if(c.name==="from"){var d=La.parse(t,c.values[0]);n.push({stop:xr,color:d})}else if(c.name==="to"){var d=La.parse(t,c.values[0]);n.push({stop:Ca,color:d})}else if(c.name==="color-stop"){var f=c.values.filter(hc);if(f.length===2){var d=La.parse(t,f[1]),g=f[0];Oc(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:d})}}}}),i===1?{angle:(r+qn(180))%qn(360),stops:n,type:i}:{size:a,shape:s,stops:n,position:o,type:i}},VD="closest-side",KD="farthest-side",$D="closest-corner",GD="farthest-corner",WD="circle",zD="ellipse",YD="cover",XD="contain",HJ=function(t,e){var r=0,n=3,i=[],s=[];return Yi(e).forEach(function(a,o){var A=!0;if(o===0){var l=!1;A=a.reduce(function(d,f){if(l)if(Ze(f))switch(f.value){case"center":return s.push(D1),d;case"top":case"left":return s.push(xr),d;case"right":case"bottom":return s.push(Ca),d}else(Kt(f)||ro(f))&&s.push(f);else if(Ze(f))switch(f.value){case WD:return r=0,!1;case zD:return r=1,!1;case"at":return l=!0,!1;case VD:return n=0,!1;case YD:case KD:return n=1,!1;case XD:case $D:return n=2,!1;case GD:return n=3,!1}else if(ro(f)||Kt(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return d},A)}if(A){var c=nv(t,a);i.push(c)}}),{size:n,shape:r,stops:i,position:s,type:2}},fg=function(t,e){var r=0,n=3,i=[],s=[];return Yi(e).forEach(function(a,o){var A=!0;if(o===0?A=a.reduce(function(c,d){if(Ze(d))switch(d.value){case"center":return s.push(D1),!1;case"top":case"left":return s.push(xr),!1;case"right":case"bottom":return s.push(Ca),!1}else if(Kt(d)||ro(d))return s.push(d),!1;return c},A):o===1&&(A=a.reduce(function(c,d){if(Ze(d))switch(d.value){case WD:return r=0,!1;case zD:return r=1,!1;case XD:case VD:return n=0,!1;case KD:return n=1,!1;case $D:return n=2,!1;case YD:case GD:return n=3,!1}else if(ro(d)||Kt(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return c},A)),A){var l=nv(t,a);i.push(l)}}),{size:n,shape:r,stops:i,position:s,type:2}},VJ=function(t){return t.type===1},KJ=function(t){return t.type===2},R1={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=qD[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function $J(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!qD[t.name])}var qD={"linear-gradient":MJ,"-moz-linear-gradient":dg,"-ms-linear-gradient":dg,"-o-linear-gradient":dg,"-webkit-linear-gradient":dg,"radial-gradient":HJ,"-moz-radial-gradient":fg,"-ms-radial-gradient":fg,"-o-radial-gradient":fg,"-webkit-radial-gradient":fg,"-webkit-gradient":LJ},GJ={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return hc(n)&&$J(n)}).map(function(n){return R1.parse(t,n)})}},WJ={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Ze(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},zJ={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Yi(e).map(function(r){return r.filter(Kt)}).map(OD)}},YJ={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Yi(e).map(function(r){return r.filter(Ze).map(function(n){return n.value}).join(" ")}).map(XJ)}},XJ=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Kl;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Kl||(Kl={}));var qJ={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Yi(e).map(function(r){return r.filter(JJ)})}},JJ=function(t){return Ze(t)||Kt(t)},iv=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},ZJ=iv("top"),eZ=iv("right"),tZ=iv("bottom"),rZ=iv("left"),sv=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return OD(r.filter(Kt))}}},nZ=sv("top-left"),iZ=sv("top-right"),sZ=sv("bottom-right"),aZ=sv("bottom-left"),av=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},oZ=av("top"),AZ=av("right"),lZ=av("bottom"),cZ=av("left"),ov=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Lf(r)?r.number:0}}},uZ=ov("top"),dZ=ov("right"),fZ=ov("bottom"),hZ=ov("left"),gZ={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},mZ={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},pZ={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Ze).reduce(function(r,n){return r|vZ(n.value)},0)}},vZ=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},yZ={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},wZ={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},pp;(function(t){t.NORMAL="normal",t.STRICT="strict"})(pp||(pp={}));var xZ={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return pp.STRICT;case"normal":default:return pp.NORMAL}}},bZ={name:"line-height",initialValue:"normal",prefix:!1,type:4},lF=function(t,e){return Ze(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Kt(t)?At(t,e):e},BZ={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:R1.parse(t,e)}},CZ={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Rb={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Av=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},EZ=Av("top"),_Z=Av("right"),IZ=Av("bottom"),SZ=Av("left"),TZ={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Ze).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},FZ={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},lv=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},NZ=lv("top"),UZ=lv("right"),PZ=lv("bottom"),kZ=lv("left"),QZ={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},OZ={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},jZ={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Db(e[0],"none")?[]:Yi(e).map(function(r){for(var n={color:Is.TRANSPARENT,offsetX:xr,offsetY:xr,blur:xr},i=0,s=0;s<r.length;s++){var a=r[s];ro(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:n.blur=a,i++):n.color=La.parse(t,a)}return n})}},DZ={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},RZ={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=HZ[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},MZ=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},LZ=function(t){var e=t.filter(function(A){return A.type===17}).map(function(A){return A.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,i,s,a,o]:null},HZ={matrix:MZ,matrix3d:LZ},cF={type:16,number:50,flags:Mf},VZ=[cF,cF],KZ={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Kt);return r.length!==2?VZ:[r[0],r[1]]}},$Z={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Cd;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Cd||(Cd={}));var GZ={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Cd.BREAK_ALL;case"keep-all":return Cd.KEEP_ALL;case"normal":default:return Cd.NORMAL}}},WZ={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Oc(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},JD={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},zZ={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Oc(e)?e.number:1}},YZ={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},XZ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Ze).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},qZ={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},JZ={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ZZ={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Oc(e))return e.number;if(Ze(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},eee={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Ze).map(function(r){return r.value})}},tee={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Xt=function(t,e){return(t&e)!==0},ree={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},nee={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(QD),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var A=o&&Oc(o)?o.number:1;n.push({counter:a.value,increment:A})}}return n}},iee={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(QD),i=0;i<n.length;i++){var s=n[i],a=n[i+1];if(Ze(s)&&s.value!=="none"){var o=a&&Oc(a)?a.number:0;r.push({counter:s.value,reset:o})}}return r}},see={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Lf).map(function(r){return JD.parse(t,r)})}},aee={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(UJ);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;n.push({open:a,close:o})}return n}},uF=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},oee={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Db(e[0],"none")?[]:Yi(e).map(function(r){for(var n={color:255,offsetX:xr,offsetY:xr,blur:xr,spread:xr,inset:!1},i=0,s=0;s<r.length;s++){var a=r[s];Db(a,"inset")?n.inset=!0:ro(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:i===2?n.blur=a:n.spread=a,i++):n.color=La.parse(t,a)}return n})}},Aee={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(Ze).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},lee={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},cee={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Lf(e)?e.number:0}},uee=function(){function t(e,r){var n,i;this.animationDuration=ue(e,see,r.animationDuration),this.backgroundClip=ue(e,QJ,r.backgroundClip),this.backgroundColor=ue(e,OJ,r.backgroundColor),this.backgroundImage=ue(e,GJ,r.backgroundImage),this.backgroundOrigin=ue(e,WJ,r.backgroundOrigin),this.backgroundPosition=ue(e,zJ,r.backgroundPosition),this.backgroundRepeat=ue(e,YJ,r.backgroundRepeat),this.backgroundSize=ue(e,qJ,r.backgroundSize),this.borderTopColor=ue(e,ZJ,r.borderTopColor),this.borderRightColor=ue(e,eZ,r.borderRightColor),this.borderBottomColor=ue(e,tZ,r.borderBottomColor),this.borderLeftColor=ue(e,rZ,r.borderLeftColor),this.borderTopLeftRadius=ue(e,nZ,r.borderTopLeftRadius),this.borderTopRightRadius=ue(e,iZ,r.borderTopRightRadius),this.borderBottomRightRadius=ue(e,sZ,r.borderBottomRightRadius),this.borderBottomLeftRadius=ue(e,aZ,r.borderBottomLeftRadius),this.borderTopStyle=ue(e,oZ,r.borderTopStyle),this.borderRightStyle=ue(e,AZ,r.borderRightStyle),this.borderBottomStyle=ue(e,lZ,r.borderBottomStyle),this.borderLeftStyle=ue(e,cZ,r.borderLeftStyle),this.borderTopWidth=ue(e,uZ,r.borderTopWidth),this.borderRightWidth=ue(e,dZ,r.borderRightWidth),this.borderBottomWidth=ue(e,fZ,r.borderBottomWidth),this.borderLeftWidth=ue(e,hZ,r.borderLeftWidth),this.boxShadow=ue(e,oee,r.boxShadow),this.color=ue(e,gZ,r.color),this.direction=ue(e,mZ,r.direction),this.display=ue(e,pZ,r.display),this.float=ue(e,yZ,r.cssFloat),this.fontFamily=ue(e,qZ,r.fontFamily),this.fontSize=ue(e,JZ,r.fontSize),this.fontStyle=ue(e,tee,r.fontStyle),this.fontVariant=ue(e,eee,r.fontVariant),this.fontWeight=ue(e,ZZ,r.fontWeight),this.letterSpacing=ue(e,wZ,r.letterSpacing),this.lineBreak=ue(e,xZ,r.lineBreak),this.lineHeight=ue(e,bZ,r.lineHeight),this.listStyleImage=ue(e,BZ,r.listStyleImage),this.listStylePosition=ue(e,CZ,r.listStylePosition),this.listStyleType=ue(e,Rb,r.listStyleType),this.marginTop=ue(e,EZ,r.marginTop),this.marginRight=ue(e,_Z,r.marginRight),this.marginBottom=ue(e,IZ,r.marginBottom),this.marginLeft=ue(e,SZ,r.marginLeft),this.opacity=ue(e,zZ,r.opacity);var s=ue(e,TZ,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=ue(e,FZ,r.overflowWrap),this.paddingTop=ue(e,NZ,r.paddingTop),this.paddingRight=ue(e,UZ,r.paddingRight),this.paddingBottom=ue(e,PZ,r.paddingBottom),this.paddingLeft=ue(e,kZ,r.paddingLeft),this.paintOrder=ue(e,Aee,r.paintOrder),this.position=ue(e,OZ,r.position),this.textAlign=ue(e,QZ,r.textAlign),this.textDecorationColor=ue(e,YZ,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=ue(e,XZ,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=ue(e,jZ,r.textShadow),this.textTransform=ue(e,DZ,r.textTransform),this.transform=ue(e,RZ,r.transform),this.transformOrigin=ue(e,KZ,r.transformOrigin),this.visibility=ue(e,$Z,r.visibility),this.webkitTextStrokeColor=ue(e,lee,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=ue(e,cee,r.webkitTextStrokeWidth),this.wordBreak=ue(e,GZ,r.wordBreak),this.zIndex=ue(e,WZ,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Ha(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Xt(this.display,4)||Xt(this.display,33554432)||Xt(this.display,268435456)||Xt(this.display,536870912)||Xt(this.display,67108864)||Xt(this.display,134217728)},t}(),dee=function(){function t(e,r){this.content=ue(e,ree,r.content),this.quotes=ue(e,aee,r.quotes)}return t}(),dF=function(){function t(e,r){this.counterIncrement=ue(e,nee,r.counterIncrement),this.counterReset=ue(e,iee,r.counterReset)}return t}(),ue=function(t,e,r){var n=new PD,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var s=new kD(n.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(t,Ze(a)?a.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return rv.parse(t,s.parseComponentValue());case"color":return La.parse(t,s.parseComponentValue());case"image":return R1.parse(t,s.parseComponentValue());case"length":var o=s.parseComponentValue();return ro(o)?o:xr;case"length-percentage":var A=s.parseComponentValue();return Kt(A)?A:xr;case"time":return JD.parse(t,s.parseComponentValue())}break}},fee="data-html2canvas-debug",hee=function(t){var e=t.getAttribute(fee);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Mb=function(t,e){var r=hee(t);return r===1||e===r},Xi=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Mb(r,3))debugger;this.styles=new uee(e,window.getComputedStyle(r,null)),Vb(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=ev(this.context,r),Mb(r,4)&&(this.flags|=16)}return t}(),gee="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",fF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hg=0;hg<fF.length;hg++)Zu[fF.charCodeAt(hg)]=hg;var mee=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=Zu[t.charCodeAt(n)],a=Zu[t.charCodeAt(n+1)],o=Zu[t.charCodeAt(n+2)],A=Zu[t.charCodeAt(n+3)],c[i++]=s<<2|a>>4,c[i++]=(a&15)<<4|o>>2,c[i++]=(o&3)<<6|A&63;return l},pee=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},vee=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},sA=5,M1=11,dw=2,yee=M1-sA,ZD=65536>>sA,wee=1<<sA,fw=wee-1,xee=1024>>sA,bee=ZD+xee,Bee=bee,Cee=32,Eee=Bee+Cee,_ee=65536>>M1,Iee=1<<yee,See=Iee-1,hF=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},Tee=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},Fee=function(t,e){var r=mee(t),n=Array.isArray(r)?vee(r):new Uint32Array(r),i=Array.isArray(r)?pee(r):new Uint16Array(r),s=24,a=hF(i,s/2,n[4]/2),o=n[5]===2?hF(i,(s+n[4])/2):Tee(n,Math.ceil((s+n[4])/4));return new Nee(n[0],n[1],n[2],n[3],a,o)},Nee=function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>sA],r=(r<<dw)+(e&fw),this.data[r];if(e<=65535)return r=this.index[ZD+(e-55296>>sA)],r=(r<<dw)+(e&fw),this.data[r];if(e<this.highStart)return r=Eee-_ee+(e>>M1),r=this.index[r],r+=e>>sA&See,r=this.index[r],r=(r<<dw)+(e&fw),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),gF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Uee=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var gg=0;gg<gF.length;gg++)Uee[gF.charCodeAt(gg)]=gg;var Pee=1,hw=2,gw=3,mF=4,pF=5,kee=7,vF=8,mw=9,pw=10,yF=11,wF=12,xF=13,bF=14,vw=15,Qee=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Oee=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},jee=Fee(gee),Hn="×",yw="÷",Dee=function(t){return jee.get(t)},Ree=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],a=e[r];if(s===hw&&a===gw)return Hn;if(s===hw||s===gw||s===mF||a===hw||a===gw||a===mF)return yw;if(s===vF&&[vF,mw,yF,wF].indexOf(a)!==-1||(s===yF||s===mw)&&(a===mw||a===pw)||(s===wF||s===pw)&&a===pw||a===xF||a===pF||a===kee||s===Pee)return Hn;if(s===xF&&a===bF){for(;i===pF;)i=e[--n];if(i===bF)return Hn}if(s===vw&&a===vw){for(var o=0;i===vw;)o++,i=e[--n];if(o%2===0)return Hn}return yw},Mee=function(t){var e=Qee(t),r=e.length,n=0,i=0,s=e.map(Dee);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=Hn;n<r&&(a=Ree(e,s,++n))===Hn;);if(a!==Hn||n===r){var o=Oee.apply(null,e.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},Lee=function(t){for(var e=Mee(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},Hee=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(n),s===e)return!0}}return!1},Vee=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=tv(n.data).map(function(A){return Dt(A)}),s=0,a={},o=i.every(function(A,l){r.setStart(n,s),r.setEnd(n,s+A.length);var c=r.getBoundingClientRect();s+=A.length;var d=c.x>a.x||c.y>a.y;return a=c,l===0?!0:d});return t.body.removeChild(e),o},Kee=function(){return typeof new Image().crossOrigin<"u"},$ee=function(){return typeof new XMLHttpRequest().responseType=="string"},Gee=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},BF=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Wee=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var a=Lb(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),CF(a).then(function(o){n.drawImage(o,0,0);var A=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var l=t.createElement("div");return l.style.backgroundImage="url("+s+")",l.style.height=r+"px",BF(A)?CF(Lb(r,r,0,0,l)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),BF(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Lb=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},CF=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},pr={get SUPPORT_RANGE_BOUNDS(){var t=Hee(document);return Object.defineProperty(pr,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=pr.SUPPORT_RANGE_BOUNDS&&Vee(document);return Object.defineProperty(pr,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Gee(document);return Object.defineProperty(pr,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Wee(document):Promise.resolve(!1);return Object.defineProperty(pr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Kee();return Object.defineProperty(pr,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=$ee();return Object.defineProperty(pr,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(pr,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(pr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Ed=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),zee=function(t,e,r,n){var i=qee(e,r),s=[],a=0;return i.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(pr.SUPPORT_RANGE_BOUNDS){var A=EF(n,a,o.length).getClientRects();if(A.length>1){var l=L1(o),c=0;l.forEach(function(f){s.push(new Ed(f,js.fromDOMRectList(t,EF(n,c+a,f.length).getClientRects()))),c+=f.length})}else s.push(new Ed(o,js.fromDOMRectList(t,A)))}else{var d=n.splitText(o.length);s.push(new Ed(o,Yee(t,n))),n=d}else pr.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),s},Yee=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=ev(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return js.EMPTY},EF=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},L1=function(t){if(pr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return Lee(t)},Xee=function(t,e){if(pr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return Zee(t,e)},qee=function(t,e){return e.letterSpacing!==0?L1(t):Xee(t,e)},Jee=[32,160,4961,65792,65793,4153,4241],Zee=function(t,e){for(var r=_q(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var a=i.value.slice(),o=tv(a),A="";o.forEach(function(l){Jee.indexOf(l)===-1?A+=Dt(l):(A.length&&n.push(A),n.push(Dt(l)),A="")}),A.length&&n.push(A)}};!(i=r.next()).done;)s();return n},ete=function(){function t(e,r,n){this.text=tte(r.data,n.textTransform),this.textBounds=zee(e,this.text,n,r)}return t}(),tte=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(rte,nte);case 2:return t.toUpperCase();default:return t}},rte=/(^|\s|:|-|\(|\))([a-z])/g,nte=function(t,e,r){return t.length>0?e+r.toUpperCase():t},eR=function(t){_i(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Xi),tR=function(t){_i(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(Xi),rR=function(t){_i(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=new XMLSerializer,a=ev(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Xi),nR=function(t){_i(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Xi),Hb=function(t){_i(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(Xi),ite=[{type:15,flags:0,unit:"px",number:3}],ste=[{type:16,flags:0,number:50}],ate=function(t){return t.width>t.height?new js(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new js(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},ote=function(t){var e=t.type===Ate?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},vp="checkbox",yp="radio",Ate="password",_F=707406591,H1=function(t){_i(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=ote(n),(i.type===vp||i.type===yp)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=ate(i.bounds)),i.type){case vp:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=ite;break;case yp:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=ste;break}return i}return e}(Xi),iR=function(t){_i(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(Xi),sR=function(t){_i(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Xi),aR=function(t){_i(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=AR(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Bd(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Is.TRANSPARENT,a=n.contentWindow.document.body?Bd(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Is.TRANSPARENT;i.backgroundColor=Ha(s)?Ha(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e}(Xi),lte=["OL","UL","MENU"],mm=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,lR(i)&&i.data.trim().length>0)r.textNodes.push(new ete(t,i,r.styles));else if(Nl(i))if(fR(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return mm(t,o,r,n)});else{var a=oR(t,i);a.styles.isVisible()&&(cte(i,a,n)?a.flags|=4:ute(a.styles)&&(a.flags|=2),lte.indexOf(i.tagName)!==-1&&(a.flags|=8),r.elements.push(a),i.slot,i.shadowRoot?mm(t,i.shadowRoot,a,n):!wp(i)&&!cR(i)&&!xp(i)&&mm(t,i,a,n))}},oR=function(t,e){return Kb(e)?new eR(t,e):uR(e)?new tR(t,e):cR(e)?new rR(t,e):dte(e)?new nR(t,e):fte(e)?new Hb(t,e):hte(e)?new H1(t,e):xp(e)?new iR(t,e):wp(e)?new sR(t,e):dR(e)?new aR(t,e):new Xi(t,e)},AR=function(t,e){var r=oR(t,e);return r.flags|=4,mm(t,e,r,r),r},cte=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||V1(t)&&r.styles.isTransparent()},ute=function(t){return t.isPositioned()||t.isFloating()},lR=function(t){return t.nodeType===Node.TEXT_NODE},Nl=function(t){return t.nodeType===Node.ELEMENT_NODE},Vb=function(t){return Nl(t)&&typeof t.style<"u"&&!pm(t)},pm=function(t){return typeof t.className=="object"},dte=function(t){return t.tagName==="LI"},fte=function(t){return t.tagName==="OL"},hte=function(t){return t.tagName==="INPUT"},gte=function(t){return t.tagName==="HTML"},cR=function(t){return t.tagName==="svg"},V1=function(t){return t.tagName==="BODY"},uR=function(t){return t.tagName==="CANVAS"},IF=function(t){return t.tagName==="VIDEO"},Kb=function(t){return t.tagName==="IMG"},dR=function(t){return t.tagName==="IFRAME"},SF=function(t){return t.tagName==="STYLE"},mte=function(t){return t.tagName==="SCRIPT"},wp=function(t){return t.tagName==="TEXTAREA"},xp=function(t){return t.tagName==="SELECT"},fR=function(t){return t.tagName==="SLOT"},TF=function(t){return t.tagName.indexOf("-")>0},pte=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(o){var A=r.counters[o.counter];A&&o.increment!==0&&(s=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var A=r.counters[o.counter];a.push(o.counter),A||(A=r.counters[o.counter]=[]),A.push(o.reset)}),a},t}(),FF={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},NF={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},vte={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},yte={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},sl=function(t,e,r,n,i,s){return t<e||t>r?cf(t,i,s.length>0):n.integers.reduce(function(a,o,A){for(;t>=o;)t-=o,a+=n.values[A];return a},"")+s},hR=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},jt=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(hR(Math.abs(t),s,n,function(a){return Dt(Math.floor(a%s)+e)})+i)},No=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return hR(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},hl=1,Aa=2,la=4,ed=8,ns=function(t,e,r,n,i,s){if(t<-9999||t>9999)return cf(t,4,i.length>0);var a=Math.abs(t),o=i;if(a===0)return e[0]+o;for(var A=0;a>0&&A<=4;A++){var l=a%10;l===0&&Xt(s,hl)&&o!==""?o=e[l]+o:l>1||l===1&&A===0||l===1&&A===1&&Xt(s,Aa)||l===1&&A===1&&Xt(s,la)&&t>100||l===1&&A>1&&Xt(s,ed)?o=e[l]+(A>0?r[A-1]:"")+o:l===1&&A>0&&(o=r[A-1]+o),a=Math.floor(a/10)}return(t<0?n:"")+o},UF="十百千萬",PF="拾佰仟萬",kF="マイナス",ww="마이너스",cf=function(t,e,r){var n=r?". ":"",i=r?"、":"",s=r?", ":"",a=r?" ":"";switch(e){case 0:return"•"+a;case 1:return"◦"+a;case 2:return"◾"+a;case 5:var o=jt(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return No(t,"〇一二三四五六七八九",i);case 6:return sl(t,1,3999,FF,3,n).toLowerCase();case 7:return sl(t,1,3999,FF,3,n);case 8:return jt(t,945,969,!1,n);case 9:return jt(t,97,122,!1,n);case 10:return jt(t,65,90,!1,n);case 11:return jt(t,1632,1641,!0,n);case 12:case 49:return sl(t,1,9999,NF,3,n);case 35:return sl(t,1,9999,NF,3,n).toLowerCase();case 13:return jt(t,2534,2543,!0,n);case 14:case 30:return jt(t,6112,6121,!0,n);case 15:return No(t,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return No(t,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return ns(t,"零一二三四五六七八九",UF,"負",i,Aa|la|ed);case 47:return ns(t,"零壹貳參肆伍陸柒捌玖",PF,"負",i,hl|Aa|la|ed);case 42:return ns(t,"零一二三四五六七八九",UF,"负",i,Aa|la|ed);case 41:return ns(t,"零壹贰叁肆伍陆柒捌玖",PF,"负",i,hl|Aa|la|ed);case 26:return ns(t,"〇一二三四五六七八九","十百千万",kF,i,0);case 25:return ns(t,"零壱弐参四伍六七八九","拾百千万",kF,i,hl|Aa|la);case 31:return ns(t,"영일이삼사오육칠팔구","십백천만",ww,s,hl|Aa|la);case 33:return ns(t,"零一二三四五六七八九","十百千萬",ww,s,0);case 32:return ns(t,"零壹貳參四五六七八九","拾百千",ww,s,hl|Aa|la);case 18:return jt(t,2406,2415,!0,n);case 20:return sl(t,1,19999,yte,3,n);case 21:return jt(t,2790,2799,!0,n);case 22:return jt(t,2662,2671,!0,n);case 22:return sl(t,1,10999,vte,3,n);case 23:return No(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return No(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return jt(t,3302,3311,!0,n);case 28:return No(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return No(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return jt(t,3792,3801,!0,n);case 37:return jt(t,6160,6169,!0,n);case 38:return jt(t,4160,4169,!0,n);case 39:return jt(t,2918,2927,!0,n);case 40:return jt(t,1776,1785,!0,n);case 43:return jt(t,3046,3055,!0,n);case 44:return jt(t,3174,3183,!0,n);case 45:return jt(t,3664,3673,!0,n);case 46:return jt(t,3872,3881,!0,n);case 3:default:return jt(t,48,57,!0,n)}},gR="data-html2canvas-ignore",QF=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new pte,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=wte(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,A=o.document,l=Bte(i).then(function(){return Rr(n,void 0,void 0,function(){var c,d;return Fr(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(Ite),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),c=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,bte(A)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(A,d)}).then(function(){return i})]:[2,i]}})})});return A.open(),A.write(Ete(document.doctype)+"<html></html>"),_te(this.referenceElement.ownerDocument,s,a),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),l},t.prototype.createElementClone=function(e){if(Mb(e,2))debugger;if(uR(e))return this.createCanvasClone(e);if(IF(e))return this.createVideoClone(e);if(SF(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return Kb(r)&&(Kb(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),TF(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return xw(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var A=o.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!Nl(r)||!mte(r)&&!r.hasAttribute(gR)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Nl(r)||!SF(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Nl(s)&&fR(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(r,o,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(lR(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Nl(e)&&(Vb(e)||pm(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&Vb(i)&&(this.clonedReferenceElement=i),V1(i)&&Fte(i);var A=this.counters.parse(new dF(this.context,s)),l=this.resolvePseudoContent(e,i,a,_d.BEFORE);TF(e)&&(r=!0),IF(e)||this.cloneChildNodes(e,i,r),l&&i.insertBefore(l,i.firstChild);var c=this.resolvePseudoContent(e,i,o,_d.AFTER);return c&&i.appendChild(c),this.counters.pop(A),(s&&(this.options.copyStyles||pm(e))&&!dR(e)||r)&&xw(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(wp(e)||xp(e))&&(wp(i)||xp(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var s=this;if(n){var a=n.content,o=r.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new dF(this.context,n));var A=new dee(this.context,n),l=o.createElement("html2canvaspseudoelement");xw(n,l),A.content.forEach(function(d){if(d.type===0)l.appendChild(o.createTextNode(d.value));else if(d.type===22){var f=o.createElement("img");f.src=d.value,f.style.opacity="1",l.appendChild(f)}else if(d.type===18){if(d.name==="attr"){var g=d.values.filter(Ze);g.length&&l.appendChild(o.createTextNode(e.getAttribute(g[0].value)||""))}else if(d.name==="counter"){var m=d.values.filter(hc),p=m[0],v=m[1];if(p&&Ze(p)){var y=s.counters.getCounterValue(p.value),w=v&&Ze(v)?Rb.parse(s.context,v.value):3;l.appendChild(o.createTextNode(cf(y,w,!1)))}}else if(d.name==="counters"){var B=d.values.filter(hc),p=B[0],I=B[1],v=B[2];if(p&&Ze(p)){var T=s.counters.getCounterValues(p.value),F=v&&Ze(v)?Rb.parse(s.context,v.value):3,C=I&&I.type===0?I.value:"",_=T.map(function(k){return cf(k,F,!1)}).join(C);l.appendChild(o.createTextNode(_))}}}else if(d.type===20)switch(d.value){case"open-quote":l.appendChild(o.createTextNode(uF(A.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(uF(A.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(d.value))}}),l.className=$b+" "+Gb;var c=i===_d.BEFORE?" "+$b:" "+Gb;return pm(r)?r.className.baseValue+=c:r.className+=c,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),_d;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(_d||(_d={}));var wte=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(gR,"true"),t.body.appendChild(r),r},xte=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},bte=function(t){return Promise.all([].slice.call(t.images,0).map(xte))},Bte=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},Cte=["all","d","content"],xw=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);Cte.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},Ete=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},_te=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},Ite=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},Ste=":before",Tte=":after",$b="___html2canvas___pseudoelement_before",Gb="___html2canvas___pseudoelement_after",OF=`{
    content: "" !important;
    display: none !important;
}`,Fte=function(t){Nte(t,"."+$b+Ste+OF+`
         .`+Gb+Tte+OF)},Nte=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},mR=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Ute=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(Bw(e)||Ote(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Rr(this,void 0,void 0,function(){var r,n,i,s,a=this;return Fr(this,function(o){switch(o.label){case 0:return r=mR.isSameOrigin(e),n=!bw(e)&&this._options.useCORS===!0&&pr.SUPPORT_CORS_IMAGES&&!r,i=!bw(e)&&!r&&!Bw(e)&&typeof this._options.proxy=="string"&&pr.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!bw(e)&&!Bw(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(A,l){var c=new Image;c.onload=function(){return A(c)},c.onerror=l,(jte(s)||n)&&(c.crossOrigin="anonymous"),c.src=s,c.complete===!0&&setTimeout(function(){return A(c)},500),a._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=pr.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(o==="text")s(A.response);else{var d=new FileReader;d.addEventListener("load",function(){return s(d.result)},!1),d.addEventListener("error",function(f){return a(f)},!1),d.readAsDataURL(A.response)}else a("Failed to proxy resource "+i+" with status code "+A.status)},A.onerror=a;var l=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=o),r._options.imageTimeout){var c=r._options.imageTimeout;A.timeout=c,A.ontimeout=function(){return a("Timed out ("+c+"ms) proxying "+i)}}A.send()})},t}(),Pte=/^data:image\/svg\+xml/i,kte=/^data:image\/.*;base64,/i,Qte=/^data:image\/.*/i,Ote=function(t){return pr.SUPPORT_SVG_DRAWING||!Dte(t)},bw=function(t){return Qte.test(t)},jte=function(t){return kte.test(t)},Bw=function(t){return t.substr(0,4)==="blob"},Dte=function(t){return t.substr(-3).toLowerCase()==="svg"||Pte.test(t)},le=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),al=function(t,e,r){return new le(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},mg=function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=al(this.start,this.startControl,e),i=al(this.startControl,this.endControl,e),s=al(this.endControl,this.end,e),a=al(n,i,e),o=al(i,s,e),A=al(a,o,e);return r?new t(this.start,n,a,A):new t(A,o,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),$n=function(t){return t.type===1},Rte=function(){function t(e){var r=e.styles,n=e.bounds,i=Ju(r.borderTopLeftRadius,n.width,n.height),s=i[0],a=i[1],o=Ju(r.borderTopRightRadius,n.width,n.height),A=o[0],l=o[1],c=Ju(r.borderBottomRightRadius,n.width,n.height),d=c[0],f=c[1],g=Ju(r.borderBottomLeftRadius,n.width,n.height),m=g[0],p=g[1],v=[];v.push((s+A)/n.width),v.push((m+d)/n.width),v.push((a+p)/n.height),v.push((l+f)/n.height);var y=Math.max.apply(Math,v);y>1&&(s/=y,a/=y,A/=y,l/=y,d/=y,f/=y,m/=y,p/=y);var w=n.width-A,B=n.height-f,I=n.width-d,T=n.height-p,F=r.borderTopWidth,C=r.borderRightWidth,_=r.borderBottomWidth,S=r.borderLeftWidth,U=At(r.paddingTop,e.bounds.width),k=At(r.paddingRight,e.bounds.width),Q=At(r.paddingBottom,e.bounds.width),P=At(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?mt(n.left+S/3,n.top+F/3,s-S/3,a-F/3,Ye.TOP_LEFT):new le(n.left+S/3,n.top+F/3),this.topRightBorderDoubleOuterBox=s>0||a>0?mt(n.left+w,n.top+F/3,A-C/3,l-F/3,Ye.TOP_RIGHT):new le(n.left+n.width-C/3,n.top+F/3),this.bottomRightBorderDoubleOuterBox=d>0||f>0?mt(n.left+I,n.top+B,d-C/3,f-_/3,Ye.BOTTOM_RIGHT):new le(n.left+n.width-C/3,n.top+n.height-_/3),this.bottomLeftBorderDoubleOuterBox=m>0||p>0?mt(n.left+S/3,n.top+T,m-S/3,p-_/3,Ye.BOTTOM_LEFT):new le(n.left+S/3,n.top+n.height-_/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?mt(n.left+S*2/3,n.top+F*2/3,s-S*2/3,a-F*2/3,Ye.TOP_LEFT):new le(n.left+S*2/3,n.top+F*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?mt(n.left+w,n.top+F*2/3,A-C*2/3,l-F*2/3,Ye.TOP_RIGHT):new le(n.left+n.width-C*2/3,n.top+F*2/3),this.bottomRightBorderDoubleInnerBox=d>0||f>0?mt(n.left+I,n.top+B,d-C*2/3,f-_*2/3,Ye.BOTTOM_RIGHT):new le(n.left+n.width-C*2/3,n.top+n.height-_*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||p>0?mt(n.left+S*2/3,n.top+T,m-S*2/3,p-_*2/3,Ye.BOTTOM_LEFT):new le(n.left+S*2/3,n.top+n.height-_*2/3),this.topLeftBorderStroke=s>0||a>0?mt(n.left+S/2,n.top+F/2,s-S/2,a-F/2,Ye.TOP_LEFT):new le(n.left+S/2,n.top+F/2),this.topRightBorderStroke=s>0||a>0?mt(n.left+w,n.top+F/2,A-C/2,l-F/2,Ye.TOP_RIGHT):new le(n.left+n.width-C/2,n.top+F/2),this.bottomRightBorderStroke=d>0||f>0?mt(n.left+I,n.top+B,d-C/2,f-_/2,Ye.BOTTOM_RIGHT):new le(n.left+n.width-C/2,n.top+n.height-_/2),this.bottomLeftBorderStroke=m>0||p>0?mt(n.left+S/2,n.top+T,m-S/2,p-_/2,Ye.BOTTOM_LEFT):new le(n.left+S/2,n.top+n.height-_/2),this.topLeftBorderBox=s>0||a>0?mt(n.left,n.top,s,a,Ye.TOP_LEFT):new le(n.left,n.top),this.topRightBorderBox=A>0||l>0?mt(n.left+w,n.top,A,l,Ye.TOP_RIGHT):new le(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||f>0?mt(n.left+I,n.top+B,d,f,Ye.BOTTOM_RIGHT):new le(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=m>0||p>0?mt(n.left,n.top+T,m,p,Ye.BOTTOM_LEFT):new le(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?mt(n.left+S,n.top+F,Math.max(0,s-S),Math.max(0,a-F),Ye.TOP_LEFT):new le(n.left+S,n.top+F),this.topRightPaddingBox=A>0||l>0?mt(n.left+Math.min(w,n.width-C),n.top+F,w>n.width+C?0:Math.max(0,A-C),Math.max(0,l-F),Ye.TOP_RIGHT):new le(n.left+n.width-C,n.top+F),this.bottomRightPaddingBox=d>0||f>0?mt(n.left+Math.min(I,n.width-S),n.top+Math.min(B,n.height-_),Math.max(0,d-C),Math.max(0,f-_),Ye.BOTTOM_RIGHT):new le(n.left+n.width-C,n.top+n.height-_),this.bottomLeftPaddingBox=m>0||p>0?mt(n.left+S,n.top+Math.min(T,n.height-_),Math.max(0,m-S),Math.max(0,p-_),Ye.BOTTOM_LEFT):new le(n.left+S,n.top+n.height-_),this.topLeftContentBox=s>0||a>0?mt(n.left+S+P,n.top+F+U,Math.max(0,s-(S+P)),Math.max(0,a-(F+U)),Ye.TOP_LEFT):new le(n.left+S+P,n.top+F+U),this.topRightContentBox=A>0||l>0?mt(n.left+Math.min(w,n.width+S+P),n.top+F+U,w>n.width+S+P?0:A-S+P,l-(F+U),Ye.TOP_RIGHT):new le(n.left+n.width-(C+k),n.top+F+U),this.bottomRightContentBox=d>0||f>0?mt(n.left+Math.min(I,n.width-(S+P)),n.top+Math.min(B,n.height+F+U),Math.max(0,d-(C+k)),f-(_+Q),Ye.BOTTOM_RIGHT):new le(n.left+n.width-(C+k),n.top+n.height-(_+Q)),this.bottomLeftContentBox=m>0||p>0?mt(n.left+S+P,n.top+T,Math.max(0,m-(S+P)),p-(_+Q),Ye.BOTTOM_LEFT):new le(n.left+S+P,n.top+n.height-(_+Q))}return t}(),Ye;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ye||(Ye={}));var mt=function(t,e,r,n,i){var s=4*((Math.sqrt(2)-1)/3),a=r*s,o=n*s,A=t+r,l=e+n;switch(i){case Ye.TOP_LEFT:return new mg(new le(t,l),new le(t,l-o),new le(A-a,e),new le(A,e));case Ye.TOP_RIGHT:return new mg(new le(t,e),new le(t+a,e),new le(A,l-o),new le(A,l));case Ye.BOTTOM_RIGHT:return new mg(new le(A,e),new le(A,e+o),new le(t+a,l),new le(t,l));case Ye.BOTTOM_LEFT:default:return new mg(new le(A,l),new le(A-a,l),new le(t,e+o),new le(t,e))}},bp=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Mte=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Bp=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Lte=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),pg=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),Hte=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),Vte=function(t){return t.type===0},pR=function(t){return t.type===1},Kte=function(t){return t.type===2},jF=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},$te=function(t,e,r,n,i){return t.map(function(s,a){switch(a){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+i);case 3:return s.add(e,r+i)}return s})},vR=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),yR=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new Rte(this.container),this.container.styles.opacity<1&&this.effects.push(new Hte(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Lte(n,i,s))}if(this.container.styles.overflowX!==0){var a=bp(this.curves),o=Bp(this.curves);jF(a,o)?this.effects.push(new pg(a,6)):(this.effects.push(new pg(a,2)),this.effects.push(new pg(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(A){return!pR(A)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=bp(n.curves),o=Bp(n.curves);jF(a,o)||i.unshift(new pg(o,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(A){return Xt(A.target,e)})},t}(),Wb=function(t,e,r,n){t.container.elements.forEach(function(i){var s=Xt(i.flags,4),a=Xt(i.flags,2),o=new yR(i,t);Xt(i.styles.display,2048)&&n.push(o);var A=Xt(i.flags,8)?[]:n;if(s||a){var l=s||i.styles.isPositioned()?r:e,c=new vR(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var f=0;l.negativeZIndex.some(function(m,p){return d>m.element.container.styles.zIndex.order?(f=p,!1):f>0}),l.negativeZIndex.splice(f,0,c)}else if(d>0){var g=0;l.positiveZIndex.some(function(m,p){return d>=m.element.container.styles.zIndex.order?(g=p+1,!1):g>0}),l.positiveZIndex.splice(g,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);Wb(o,c,s?c:r,A)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),Wb(o,e,r,A);Xt(i.flags,8)&&wR(i,A)})},wR=function(t,e){for(var r=t instanceof Hb?t.start:1,n=t instanceof Hb?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof nR&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=cf(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},Gte=function(t){var e=new yR(t,null),r=new vR(e),n=[];return Wb(e,r,r,n),wR(e.container,n),r},DF=function(t,e){switch(e){case 0:return Jn(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Jn(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Jn(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Jn(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Wte=function(t,e){switch(e){case 0:return Jn(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Jn(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Jn(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Jn(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},zte=function(t,e){switch(e){case 0:return Jn(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Jn(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Jn(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Jn(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Yte=function(t,e){switch(e){case 0:return vg(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return vg(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return vg(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return vg(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},vg=function(t,e){var r=[];return $n(t)?r.push(t.subdivide(.5,!1)):r.push(t),$n(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Jn=function(t,e,r,n){var i=[];return $n(t)?i.push(t.subdivide(.5,!1)):i.push(t),$n(r)?i.push(r.subdivide(.5,!0)):i.push(r),$n(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),$n(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},xR=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Cp=function(t){var e=t.styles,r=t.bounds,n=At(e.paddingLeft,r.width),i=At(e.paddingRight,r.width),s=At(e.paddingTop,r.width),a=At(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},Xte=function(t,e){return t===0?e.bounds:t===2?Cp(e):xR(e)},qte=function(t,e){return t===0?e.bounds:t===2?Cp(e):xR(e)},Cw=function(t,e,r){var n=Xte(gl(t.styles.backgroundOrigin,e),t),i=qte(gl(t.styles.backgroundClip,e),t),s=Jte(gl(t.styles.backgroundSize,e),r,n),a=s[0],o=s[1],A=Ju(gl(t.styles.backgroundPosition,e),n.width-a,n.height-o),l=Zte(gl(t.styles.backgroundRepeat,e),A,s,n,i),c=Math.round(n.left+A[0]),d=Math.round(n.top+A[1]);return[l,c,d,a,o]},ol=function(t){return Ze(t)&&t.value===Kl.AUTO},yg=function(t){return typeof t=="number"},Jte=function(t,e,r){var n=e[0],i=e[1],s=e[2],a=t[0],o=t[1];if(!a)return[0,0];if(Kt(a)&&o&&Kt(o))return[At(a,r.width),At(o,r.height)];var A=yg(s);if(Ze(a)&&(a.value===Kl.CONTAIN||a.value===Kl.COVER)){if(yg(s)){var l=r.width/r.height;return l<s!=(a.value===Kl.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var c=yg(n),d=yg(i),f=c||d;if(ol(a)&&(!o||ol(o))){if(c&&d)return[n,i];if(!A&&!f)return[r.width,r.height];if(f&&A){var g=c?n:i*s,m=d?i:n/s;return[g,m]}var p=c?n:r.width,v=d?i:r.height;return[p,v]}if(A){var y=0,w=0;return Kt(a)?y=At(a,r.width):Kt(o)&&(w=At(o,r.height)),ol(a)?y=w*s:(!o||ol(o))&&(w=y/s),[y,w]}var B=null,I=null;if(Kt(a)?B=At(a,r.width):o&&Kt(o)&&(I=At(o,r.height)),B!==null&&(!o||ol(o))&&(I=c&&d?B/n*i:r.height),I!==null&&ol(a)&&(B=c&&d?I/i*n:r.width),B!==null&&I!==null)return[B,I];throw new Error("Unable to calculate background-size for element")},gl=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},Zte=function(t,e,r,n,i){var s=e[0],a=e[1],o=r[0],A=r[1];switch(t){case 2:return[new le(Math.round(n.left),Math.round(n.top+a)),new le(Math.round(n.left+n.width),Math.round(n.top+a)),new le(Math.round(n.left+n.width),Math.round(A+n.top+a)),new le(Math.round(n.left),Math.round(A+n.top+a))];case 3:return[new le(Math.round(n.left+s),Math.round(n.top)),new le(Math.round(n.left+s+o),Math.round(n.top)),new le(Math.round(n.left+s+o),Math.round(n.height+n.top)),new le(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new le(Math.round(n.left+s),Math.round(n.top+a)),new le(Math.round(n.left+s+o),Math.round(n.top+a)),new le(Math.round(n.left+s+o),Math.round(n.top+a+A)),new le(Math.round(n.left+s),Math.round(n.top+a+A))];default:return[new le(Math.round(i.left),Math.round(i.top)),new le(Math.round(i.left+i.width),Math.round(i.top)),new le(Math.round(i.left+i.width),Math.round(i.height+i.top)),new le(Math.round(i.left),Math.round(i.height+i.top))]}},ere="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",RF="Hidden Text",tre=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),i.src=ere,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(RF)),n.appendChild(s),n.appendChild(i);var o=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(RF)),n.style.lineHeight="normal",i.style.verticalAlign="super";var A=i.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:A}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),bR=function(){function t(e,r){this.context=e,this.options=r}return t}(),rre=1e4,nre=function(t){_i(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new tre(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),Kte(r)&&(this.ctx.globalAlpha=r.opacity),Vte(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),pR(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Rr(this,void 0,void 0,function(){var n;return Fr(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Rr(this,void 0,void 0,function(){return Fr(this,function(n){switch(n.label){case 0:if(Xt(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var a=L1(r.text);a.reduce(function(o,A){return s.ctx.fillText(A,o,r.bounds.top+i),o+s.ctx.measureText(A).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=Are(r.fontFamily).join(", "),s=Lf(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(r,n){return Rr(this,void 0,void 0,function(){var i,s,a,o,A,l,c,d,f=this;return Fr(this,function(g){return i=this.createFontStyle(n),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(a,o),l=A.baseline,c=A.middle,d=n.paintOrder,r.textBounds.forEach(function(m){d.forEach(function(p){switch(p){case 0:f.ctx.fillStyle=ar(n.color),f.renderTextWithLetterSpacing(m,n.letterSpacing,l);var v=n.textShadow;v.length&&m.text.trim().length&&(v.slice(0).reverse().forEach(function(y){f.ctx.shadowColor=ar(y.color),f.ctx.shadowOffsetX=y.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=y.offsetY.number*f.options.scale,f.ctx.shadowBlur=y.blur.number,f.renderTextWithLetterSpacing(m,n.letterSpacing,l)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=ar(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+l),m.bounds.width,1);break;case 2:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:f.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+c),m.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&m.text.trim().length&&(f.ctx.strokeStyle=ar(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+l)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=Cp(r),a=Bp(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Rr(this,void 0,void 0,function(){var n,i,s,a,o,A,w,w,l,c,d,f,I,g,m,T,p,v,y,w,B,I,T;return Fr(this,function(F){switch(F.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,a=0,o=n.textNodes,F.label=1;case 1:return a<o.length?(A=o[a],[4,this.renderTextNode(A,s)]):[3,4];case 2:F.sent(),F.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof eR))return[3,8];F.label=5;case 5:return F.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return w=F.sent(),this.renderReplacedElement(n,i,w),[3,8];case 7:return F.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof tR&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof rR))return[3,12];F.label=9;case 9:return F.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return w=F.sent(),this.renderReplacedElement(n,i,w),[3,12];case 11:return F.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof aR&&n.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,l.render(n.tree)]):[3,14];case 13:c=F.sent(),n.width&&n.height&&this.ctx.drawImage(c,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),F.label=14;case 14:if(n instanceof H1&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===vp?n.checked&&(this.ctx.save(),this.path([new le(n.bounds.left+d*.39363,n.bounds.top+d*.79),new le(n.bounds.left+d*.16,n.bounds.top+d*.5549),new le(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new le(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new le(n.bounds.left+d*.72983,n.bounds.top+d*.23),new le(n.bounds.left+d*.84,n.bounds.top+d*.34085),new le(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=ar(_F),this.ctx.fill(),this.ctx.restore()):n.type===yp&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=ar(_F),this.ctx.fill(),this.ctx.restore())),ire(n)&&n.value.length){switch(f=this.createFontStyle(s),I=f[0],g=f[1],m=this.fontMetrics.getMetrics(I,g).baseline,this.ctx.font=I,this.ctx.fillStyle=ar(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=are(n.styles.textAlign),T=Cp(n),p=0,n.styles.textAlign){case 1:p+=T.width/2;break;case 2:p+=T.width;break}v=T.add(p,0,0,-T.height/2+1),this.ctx.save(),this.path([new le(T.left,T.top),new le(T.left+T.width,T.top),new le(T.left+T.width,T.top+T.height),new le(T.left,T.top+T.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ed(n.value,v),s.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Xt(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];w=void 0,B=y.url,F.label=15;case 15:return F.trys.push([15,17,,18]),[4,this.context.cache.match(B)];case 16:return w=F.sent(),this.ctx.drawImage(w,n.bounds.left-(w.width+10),n.bounds.top),[3,18];case 17:return F.sent(),this.context.logger.error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(I=this.createFontStyle(s)[0],this.ctx.font=I,this.ctx.fillStyle=ar(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",T=new js(n.bounds.left,n.bounds.top+At(n.styles.paddingTop,n.bounds.width),n.bounds.width,lF(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ed(r.listValue,T),s.letterSpacing,lF(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),F.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Rr(this,void 0,void 0,function(){var n,i,y,s,a,y,o,A,y,l,c,y,d,f,y,g,m,y,p,v,y;return Fr(this,function(w){switch(w.label){case 0:if(Xt(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:w.sent(),n=0,i=r.negativeZIndex,w.label=2;case 2:return n<i.length?(y=i[n],[4,this.renderStack(y)]):[3,5];case 3:w.sent(),w.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:w.sent(),s=0,a=r.nonInlineLevel,w.label=7;case 7:return s<a.length?(y=a[s],[4,this.renderNode(y)]):[3,10];case 8:w.sent(),w.label=9;case 9:return s++,[3,7];case 10:o=0,A=r.nonPositionedFloats,w.label=11;case 11:return o<A.length?(y=A[o],[4,this.renderStack(y)]):[3,14];case 12:w.sent(),w.label=13;case 13:return o++,[3,11];case 14:l=0,c=r.nonPositionedInlineLevel,w.label=15;case 15:return l<c.length?(y=c[l],[4,this.renderStack(y)]):[3,18];case 16:w.sent(),w.label=17;case 17:return l++,[3,15];case 18:d=0,f=r.inlineLevel,w.label=19;case 19:return d<f.length?(y=f[d],[4,this.renderNode(y)]):[3,22];case 20:w.sent(),w.label=21;case 21:return d++,[3,19];case 22:g=0,m=r.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return g<m.length?(y=m[g],[4,this.renderStack(y)]):[3,26];case 24:w.sent(),w.label=25;case 25:return g++,[3,23];case 26:p=0,v=r.positiveZIndex,w.label=27;case 27:return p<v.length?(y=v[p],[4,this.renderStack(y)]):[3,30];case 28:w.sent(),w.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var a=$n(i)?i.start:i;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),$n(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var A=o.getContext("2d");return A.drawImage(r,0,0,r.width,r.height,0,0,n,i),o},e.prototype.renderBackgroundImage=function(r){return Rr(this,void 0,void 0,function(){var n,i,s,a,o,A;return Fr(this,function(l){switch(l.label){case 0:n=r.styles.backgroundImage.length-1,i=function(c){var d,f,g,U,me,pe,P,ae,_,m,U,me,pe,P,ae,p,v,y,w,B,I,T,F,C,_,S,U,k,Q,P,ae,xe,me,pe,q,ie,ce,Se,ne,Ne,ze,j;return Fr(this,function(V){switch(V.label){case 0:if(c.type!==0)return[3,5];d=void 0,f=c.url,V.label=1;case 1:return V.trys.push([1,3,,4]),[4,s.context.cache.match(f)];case 2:return d=V.sent(),[3,4];case 3:return V.sent(),s.context.logger.error("Error loading background-image "+f),[3,4];case 4:return d&&(g=Cw(r,n,[d.width,d.height,d.width/d.height]),U=g[0],me=g[1],pe=g[2],P=g[3],ae=g[4],_=s.ctx.createPattern(s.resizeImage(d,P,ae),"repeat"),s.renderRepeat(U,_,me,pe)),[3,6];case 5:VJ(c)?(m=Cw(r,n,[null,null,null]),U=m[0],me=m[1],pe=m[2],P=m[3],ae=m[4],p=DJ(c.angle,P,ae),v=p[0],y=p[1],w=p[2],B=p[3],I=p[4],T=document.createElement("canvas"),T.width=P,T.height=ae,F=T.getContext("2d"),C=F.createLinearGradient(y,B,w,I),oF(c.stops,v).forEach(function(D){return C.addColorStop(D.stop,ar(D.color))}),F.fillStyle=C,F.fillRect(0,0,P,ae),P>0&&ae>0&&(_=s.ctx.createPattern(T,"repeat"),s.renderRepeat(U,_,me,pe))):KJ(c)&&(S=Cw(r,n,[null,null,null]),U=S[0],k=S[1],Q=S[2],P=S[3],ae=S[4],xe=c.position.length===0?[D1]:c.position,me=At(xe[0],P),pe=At(xe[xe.length-1],ae),q=RJ(c,me,pe,P,ae),ie=q[0],ce=q[1],ie>0&&ce>0&&(Se=s.ctx.createRadialGradient(k+me,Q+pe,0,k+me,Q+pe,ie),oF(c.stops,ie*2).forEach(function(D){return Se.addColorStop(D.stop,ar(D.color))}),s.path(U),s.ctx.fillStyle=Se,ie!==ce?(ne=r.bounds.left+.5*r.bounds.width,Ne=r.bounds.top+.5*r.bounds.height,ze=ce/ie,j=1/ze,s.ctx.save(),s.ctx.translate(ne,Ne),s.ctx.transform(1,0,0,ze,0,0),s.ctx.translate(-ne,-Ne),s.ctx.fillRect(k,j*(Q-Ne)+Ne,P,ae*j),s.ctx.restore()):s.ctx.fill())),V.label=6;case 6:return n--,[2]}})},s=this,a=0,o=r.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return a<o.length?(A=o[a],[5,i(A)]):[3,4];case 2:l.sent(),l.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return Rr(this,void 0,void 0,function(){return Fr(this,function(s){return this.path(DF(i,n)),this.ctx.fillStyle=ar(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,s){return Rr(this,void 0,void 0,function(){var a,o;return Fr(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return A.sent(),[2];case 2:return a=Wte(s,i),this.path(a),this.ctx.fillStyle=ar(r),this.ctx.fill(),o=zte(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Rr(this,void 0,void 0,function(){var n,i,s,a,o,A,l,c,d=this;return Fr(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!Ha(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=sre(gl(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Ha(n.backgroundColor)||(this.ctx.fillStyle=ar(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){d.ctx.save();var m=bp(r.curves),p=g.inset?0:rre,v=$te(m,-p+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(d.path(m),d.ctx.clip(),d.mask(v)):(d.mask(m),d.ctx.clip(),d.path(v)),d.ctx.shadowOffsetX=g.offsetX.number+p,d.ctx.shadowOffsetY=g.offsetY.number,d.ctx.shadowColor=ar(g.color),d.ctx.shadowBlur=g.blur.number,d.ctx.fillStyle=g.inset?ar(g.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),f.label=2;case 2:o=0,A=0,l=s,f.label=3;case 3:return A<l.length?(c=l[A],c.style!==0&&!Ha(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,r.curves)];case 10:f.sent(),f.label=11;case 11:o++,f.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,s,a){return Rr(this,void 0,void 0,function(){var o,A,l,c,d,f,g,m,p,v,y,w,B,I,T,F,T,F;return Fr(this,function(C){return this.ctx.save(),o=Yte(s,i),A=DF(s,i),a===2&&(this.path(A),this.ctx.clip()),$n(A[0])?(l=A[0].start.x,c=A[0].start.y):(l=A[0].x,c=A[0].y),$n(A[1])?(d=A[1].end.x,f=A[1].end.y):(d=A[1].x,f=A[1].y),i===0||i===2?g=Math.abs(l-d):g=Math.abs(c-f),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(A.slice(0,2)),m=n<3?n*3:n*2,p=n<3?n*2:n,a===3&&(m=n,p=n),v=!0,g<=m*2?v=!1:g<=m*2+p?(y=g/(2*m+p),m*=y,p*=y):(w=Math.floor((g+p)/(m+p)),B=(g-w*m)/(w-1),I=(g-(w+1)*m)/w,p=I<=0||Math.abs(p-B)<Math.abs(p-I)?B:I),v&&(a===3?this.ctx.setLineDash([0,m+p]):this.ctx.setLineDash([m,p])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=ar(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&($n(A[0])&&(T=A[3],F=A[0],this.ctx.beginPath(),this.formatPath([new le(T.end.x,T.end.y),new le(F.start.x,F.start.y)]),this.ctx.stroke()),$n(A[1])&&(T=A[1],F=A[2],this.ctx.beginPath(),this.formatPath([new le(T.end.x,T.end.y),new le(F.start.x,F.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Rr(this,void 0,void 0,function(){var n;return Fr(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ar(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Gte(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(bR),ire=function(t){return t instanceof sR||t instanceof iR?!0:t instanceof H1&&t.type!==yp&&t.type!==vp},sre=function(t,e){switch(t){case 0:return bp(e);case 2:return Mte(e);case 1:default:return Bp(e)}},are=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},ore=["-apple-system","system-ui"],Are=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return ore.indexOf(e)===-1}):t},lre=function(t){_i(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return Rr(this,void 0,void 0,function(){var n,i;return Fr(this,function(s){switch(s.label){case 0:return n=Lb(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,cre(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ar(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(bR),cre=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},ure=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,qh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,qh([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,qh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,qh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),dre=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new ure({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new Ute(this,e)}return t.instanceCount=1,t}(),BR=function(t,e){return e===void 0&&(e={}),fre(t,e)};typeof window<"u"&&mR.setContext(window);var fre=function(t,e){return Rr(void 0,void 0,void 0,function(){var r,n,i,s,a,o,A,l,c,d,f,g,m,p,v,y,w,B,I,T,C,F,C,_,S,U,k,Q,P,ae,xe,me,pe,q,ie,ce,Se,ne,Ne,ze;return Fr(this,function(j){switch(j.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(_=e.allowTaint)!==null&&_!==void 0?_:!1,imageTimeout:(S=e.imageTimeout)!==null&&S!==void 0?S:15e3,proxy:e.proxy,useCORS:(U=e.useCORS)!==null&&U!==void 0?U:!1},s=_b({logging:(k=e.logging)!==null&&k!==void 0?k:!0,cache:e.cache},i),a={windowWidth:(Q=e.windowWidth)!==null&&Q!==void 0?Q:n.innerWidth,windowHeight:(P=e.windowHeight)!==null&&P!==void 0?P:n.innerHeight,scrollX:(ae=e.scrollX)!==null&&ae!==void 0?ae:n.pageXOffset,scrollY:(xe=e.scrollY)!==null&&xe!==void 0?xe:n.pageYOffset},o=new js(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),A=new dre(s,o),l=(me=e.foreignObjectRendering)!==null&&me!==void 0?me:!1,c={allowTaint:(pe=e.allowTaint)!==null&&pe!==void 0?pe:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},A.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),d=new QF(A,t,c),f=d.clonedReferenceElement,f?[4,d.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=j.sent(),m=V1(f)||gte(f)?$X(f.ownerDocument):ev(A,f),p=m.width,v=m.height,y=m.left,w=m.top,B=hre(A,f,e.backgroundColor),I={canvas:e.canvas,backgroundColor:B,scale:(ie=(q=e.scale)!==null&&q!==void 0?q:n.devicePixelRatio)!==null&&ie!==void 0?ie:1,x:((ce=e.x)!==null&&ce!==void 0?ce:0)+y,y:((Se=e.y)!==null&&Se!==void 0?Se:0)+w,width:(ne=e.width)!==null&&ne!==void 0?ne:Math.ceil(p),height:(Ne=e.height)!==null&&Ne!==void 0?Ne:Math.ceil(v)},l?(A.logger.debug("Document cloned, using foreign object rendering"),C=new lre(A,I),[4,C.render(f)]):[3,3];case 2:return T=j.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+y+","+w+" with size "+p+"x"+v+" using computed rendering"),A.logger.debug("Starting DOM parsing"),F=AR(A,f),B===F.styles.backgroundColor&&(F.styles.backgroundColor=Is.TRANSPARENT),A.logger.debug("Starting renderer for element at "+I.x+","+I.y+" with size "+I.width+"x"+I.height),C=new nre(A,I),[4,C.render(F)];case 4:T=j.sent(),j.label=5;case 5:return(!((ze=e.removeContainer)!==null&&ze!==void 0)||ze)&&(QF.destroy(g)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,T]}})})},hre=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?Bd(t,getComputedStyle(n.documentElement).backgroundColor):Is.TRANSPARENT,s=n.body?Bd(t,getComputedStyle(n.body).backgroundColor):Is.TRANSPARENT,a=typeof r=="string"?Bd(t,r):r===null?Is.TRANSPARENT:4294967295;return e===n.documentElement?Ha(i)?Ha(s)?a:s:i:a};const gre=Object.freeze(Object.defineProperty({__proto__:null,default:BR},Symbol.toStringTag,{value:"Module"})),MF=({selectedDate:t,onDateSelect:e,className:r=""})=>{const[n,i]=x.useState(t?new Date(t):new Date),[s,a]=x.useState(n.getMonth()),[o,A]=x.useState(n.getFullYear()),l=v=>["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][v],c=()=>["日","一","二","三","四","五","六"],d=(v,y)=>new Date(v,y,1).getDay(),f=(v,y)=>new Date(v,y+1,0).getDate(),g=()=>{const v=d(o,s),y=f(o,s),w=[];for(let B=0;B<v;B++)w.push(u.jsx("div",{className:"h-7 w-7 flex items-center justify-center"},`empty-${B}`));for(let B=1;B<=y;B++){const I=new Date(o,s,B),T=t&&t.getFullYear()===o&&t.getMonth()===s&&t.getDate()===B,F=new Date().toDateString()===I.toDateString();w.push(u.jsx("button",{onClick:()=>e(I),className:`
            h-7 w-7 rounded text-xs font-medium transition-all duration-200
            flex items-center justify-center
            hover:bg-green-400/20 hover:scale-105
            ${T?"bg-green-400 text-white shadow-lg":F?"bg-blue-400/20 text-blue-400 border border-blue-400/30":"text-gray-300 hover:text-white"}
          `,children:B},B))}return w},m=()=>{s===0?(a(11),A(o-1)):a(s-1)},p=()=>{s===11?(a(0),A(o+1)):a(s+1)};return u.jsxs("div",{className:`bg-gradient-to-br from-surface/80 to-surface/60 rounded-lg p-3 border border-white/20 shadow-lg backdrop-blur-sm ${r}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("button",{onClick:m,className:"p-1.5 rounded-md bg-white/10 hover:bg-white/20 transition-colors",children:u.jsx("svg",{className:"w-4 h-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),u.jsxs("h3",{className:"text-sm font-bold text-white",children:[o,"年 ",l(s)]}),u.jsx("button",{onClick:p,className:"p-1.5 rounded-md bg-white/10 hover:bg-white/20 transition-colors",children:u.jsx("svg",{className:"w-4 h-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),u.jsx("div",{className:"grid grid-cols-7 mb-1.5",children:c().map(v=>u.jsx("div",{className:"h-6 w-7 flex items-center justify-center text-xs font-medium text-gray-400",children:v},v))}),u.jsx("div",{className:"grid grid-cols-7",children:g()})]})},mre=({startDate:t,endDate:e,onStartDateSelect:r,onEndDateSelect:n,className:i=""})=>{const[s,a]=x.useState(!1),[o,A]=x.useState(!1),l=c=>c?`${c.getFullYear()}年${c.getMonth()+1}月${c.getDate()}日`:"";return u.jsxs("div",{className:`space-y-4 ${i}`,children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx("label",{className:"block text-xs font-medium text-gray-300",children:"開始日期"}),u.jsx("button",{onClick:()=>{a(!s),A(!1)},className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-left hover:bg-white/20 transition-colors focus:border-green-400/50 text-sm",children:t?l(t):"選擇開始日期"}),s&&u.jsx("div",{className:"mt-1.5",children:u.jsx(MF,{selectedDate:t,onDateSelect:c=>{r(c),a(!1)}})})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx("label",{className:"block text-xs font-medium text-gray-300",children:"結束日期"}),u.jsx("button",{onClick:()=>{A(!o),a(!1)},className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-left hover:bg-white/20 transition-colors focus:border-green-400/50 text-sm",children:e?l(e):"選擇結束日期"}),o&&u.jsx("div",{className:"mt-1.5",children:u.jsx(MF,{selectedDate:e,onDateSelect:c=>{n(c),A(!1)}})})]})]})},pre=({size:t="md",color:e="blue",text:r="載入中..."})=>{const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"},i={blue:"border-blue-400",green:"border-green-400",red:"border-red-400",yellow:"border-yellow-400",purple:"border-purple-400",pink:"border-pink-400"};return u.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[u.jsx("div",{className:`animate-spin rounded-full border-b-2 ${n[t]} ${i[e]}`}),r&&u.jsx("p",{className:"text-sm text-gray-400",children:r})]})},CR=({isLoading:t,children:e,text:r="載入中..."})=>u.jsxs("div",{className:"relative",children:[e,t&&u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:u.jsx("div",{className:"bg-surface/90 rounded-xl p-6 border border-white/20",children:u.jsx(pre,{size:"lg",text:r})})})]}),mo=(t,e,r={})=>e(),ER=t=>()=>{},pn={early:{color:"pink",icon:u.jsx("svg",{className:"w-5 h-5 text-pink-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),title:"早班統計",gradient:"from-pink-500/20 to-rose-500/20",border:"border-pink-400/30"},night:{color:"blue",icon:u.jsx("svg",{className:"w-5 h-5 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),title:"晚班統計",gradient:"from-blue-500/20 to-indigo-500/20",border:"border-blue-400/30"},consecutive:{color:"orange",icon:u.jsx("svg",{className:"w-5 h-5 text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),title:"連續上班",gradient:"from-orange-500/20 to-yellow-500/20",border:"border-orange-400/30"},stockLover:{color:"emerald",icon:u.jsx("svg",{className:"w-5 h-5 text-emerald-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),title:"熱愛進貨",gradient:"from-emerald-500/20 to-green-500/20",border:"border-emerald-400/30"}},wg=({title:t,icon:e,themeColor:r,children:n,isLoading:i})=>u.jsxs("div",{className:`bg-gradient-to-br ${pn[r].gradient} rounded-2xl p-4 border ${pn[r].border} shadow-xl backdrop-blur-sm`,children:[u.jsxs("div",{className:"flex items-center justify-center mb-4",children:[u.jsx("div",{className:`w-10 h-10 rounded-full bg-${pn[r].color}-500/20 border border-${pn[r].color}-400/30 flex items-center justify-center mr-3`,children:e}),u.jsx("h3",{className:`text-lg font-bold text-${pn[r].color}-300`,children:t})]}),u.jsx(CR,{isLoading:i,children:n})]}),vre=({schedule:t,names:e,showAll:r=!1})=>{const i=mo("早班統計計算",()=>{const a=[],o=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();Object.keys(t).forEach(d=>{var g;if(d==="_lastUpdated")return;let f=0;for(let m=1;m<=o;m++)((g=t[d])==null?void 0:g[m])==="早"&&f++;a.push({employeeId:d,name:e[d]||d,count:f})});const A=a.sort((d,f)=>f.count-d.count);let l=1,c=null;return A.map((d,f)=>(c!==null&&d.count!==c&&(l=f+1),c=d.count,{...d,rank:l}))},{logThreshold:5}),s=r?i:i.slice(0,5);return u.jsx("div",{className:"space-y-3",children:i.length>0?s.map(a=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500/30 border border-pink-400/50 flex items-center justify-center text-xs font-bold text-pink-300",children:a.rank}),u.jsx("span",{className:"text-white font-medium text-sm",children:a.name})]}),u.jsxs("div",{className:"text-pink-300 font-bold text-sm",children:[a.count," 次"]})]},a.employeeId)):u.jsxs("div",{className:"text-center py-6 text-gray-400",children:[u.jsx("div",{className:"text-4xl mb-2",children:"🌅"}),u.jsx("div",{children:"本月無早班記錄"})]})})},yre=({schedule:t,names:e,showAll:r=!1})=>{const i=mo("晚班統計計算",()=>{const a=[],o=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();Object.keys(t).forEach(d=>{var g;if(d==="_lastUpdated")return;let f=0;for(let m=1;m<=o;m++)((g=t[d])==null?void 0:g[m])==="晚"&&f++;a.push({employeeId:d,name:e[d]||d,count:f})});const A=a.sort((d,f)=>f.count-d.count);let l=1,c=null;return A.map((d,f)=>(c!==null&&d.count!==c&&(l=f+1),c=d.count,{...d,rank:l}))},{logThreshold:5}),s=r?i:i.slice(0,5);return u.jsx("div",{className:"space-y-3",children:i.length>0?s.map(a=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500/30 border border-blue-400/50 flex items-center justify-center text-xs font-bold text-blue-300",children:a.rank}),u.jsx("span",{className:"text-white font-medium text-sm",children:a.name})]}),u.jsxs("div",{className:"text-blue-300 font-bold text-sm",children:[a.count," 次"]})]},a.employeeId)):u.jsxs("div",{className:"text-center py-6 text-gray-400",children:[u.jsx("div",{className:"text-4xl mb-2",children:"🌙"}),u.jsx("div",{children:"本月無晚班記錄"})]})})},wre=({schedule:t,names:e,showAll:r=!1})=>{const i=mo("連續上班統計計算",()=>{const a=[],o=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();Object.keys(t).forEach(d=>{var p;if(d==="_lastUpdated")return;let f=[],g=0;for(let v=1;v<=o;v++){const y=(p=t[d])==null?void 0:p[v];y==="早"||y==="中"||y==="晚"?g++:g>0&&(f.push(g),g=0)}g>0&&f.push(g);let m=0;f.length>0&&(m=f.reduce((y,w)=>y+w,0)/f.length),a.push({employeeId:d,name:e[d]||d,avgConsecutive:parseFloat(m.toFixed(1)),maxConsecutive:f.length>0?Math.max(...f):0,consecutivePeriods:f.length})});const A=a.sort((d,f)=>f.avgConsecutive-d.avgConsecutive);let l=1,c=null;return A.map((d,f)=>(c!==null&&d.avgConsecutive!==c&&(l=f+1),c=d.avgConsecutive,{...d,rank:l}))},{logThreshold:5}),s=r?i:i.slice(0,5);return u.jsx("div",{className:"space-y-3",children:i.length>0?s.map(a=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-500/30 border border-orange-400/50 flex items-center justify-center text-xs font-bold text-orange-300",children:a.rank}),u.jsx("span",{className:"text-white font-medium text-sm",children:a.name})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"text-orange-300 font-bold text-sm",children:[a.avgConsecutive," 天"]})})]},a.employeeId)):u.jsxs("div",{className:"text-center py-6 text-gray-400",children:[u.jsx("div",{className:"text-4xl mb-2",children:"⚡"}),u.jsx("div",{children:"本月無連續上班記錄"})]})})},xre=({schedule:t,names:e,showAll:r=!1})=>{const i=mo("熱愛進貨統計計算",()=>{const a=[],o=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();Object.keys(t).forEach(d=>{d!=="_lastUpdated"&&a.push({employeeId:d,name:e[d]||d,count:0})});for(let d=1;d<=o;d++)new Date(new Date().getFullYear(),new Date().getMonth(),d).getDay()===3&&Object.keys(t).forEach(m=>{var v;if(m==="_lastUpdated")return;const p=(v=t[m])==null?void 0:v[d];if(p==="中"||p==="晚"){const y=a.find(w=>w.employeeId===m);y&&y.count++}});const A=a.sort((d,f)=>f.count-d.count);let l=1,c=null;return A.map((d,f)=>(c!==null&&d.count!==c&&(l=f+1),c=d.count,{...d,rank:l}))},{logThreshold:5}),s=r?i:i.slice(0,5);return u.jsx("div",{className:"space-y-3",children:i.length>0?s.map(a=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/30 border border-emerald-400/50 flex items-center justify-center text-xs font-bold text-emerald-300",children:a.rank}),u.jsx("span",{className:"text-white font-medium text-sm",children:a.name})]}),u.jsxs("div",{className:"text-emerald-300 font-bold text-sm",children:[a.count," 次"]})]},a.employeeId)):u.jsxs("div",{className:"text-center py-6 text-gray-400",children:[u.jsx("div",{className:"text-4xl mb-2",children:"📦"}),u.jsx("div",{children:"本月無進貨記錄"})]})})};function bre({schedule:t,names:e,loadingStates:r,selectedEmployee:n,allSchedules:i,selectedMonth:s}){const a=ER(),[o,A]=ti.useState(!1);return ti.useEffect(()=>{a()}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(wg,{title:pn.early.title,icon:pn.early.icon,themeColor:"early",isLoading:r.statistics,children:u.jsx(vre,{schedule:t,names:e,showAll:o})}),u.jsx(wg,{title:pn.night.title,icon:pn.night.icon,themeColor:"night",isLoading:r.statistics,children:u.jsx(yre,{schedule:t,names:e,showAll:o})}),u.jsx(wg,{title:pn.consecutive.title,icon:pn.consecutive.icon,themeColor:"consecutive",isLoading:r.statistics,children:u.jsx(wre,{schedule:t,names:e,showAll:o})}),u.jsx(wg,{title:pn.stockLover.title,icon:pn.stockLover.icon,themeColor:"stockLover",isLoading:r.statistics,children:u.jsx(xre,{schedule:t,names:e,showAll:o})})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:()=>A(!o),className:"px-8 py-3 bg-gradient-to-r from-blue-500/20 to-purple-500/20 hover:from-blue-500/30 hover:to-purple-500/30 border border-blue-400/30 text-blue-300 rounded-xl transition-all duration-200 text-sm font-medium shadow-lg backdrop-blur-sm",children:o?"收起所有排名":"查看全部排名"})})]})}function _R(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=_R(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ge(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=_R(t))&&(n&&(n+=" "),n+=e);return n}var cv={},IR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(IR);var K1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(K1);var $1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})($1);var uv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){const n=[],i=r.length;if(i===0)return n;let s=0,a="",o="",A=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const l=r[s];o?l==="\\"&&s+1<i?(s++,a+=r[s]):l===o?o="":a+=l:A?l==='"'||l==="'"?o=l:l==="]"?(A=!1,n.push(a),a=""):a+=l:l==="["?(A=!0,a&&(n.push(a),a="")):l==="."?a&&(n.push(a),a=""):a+=l,s++}return a&&n.push(a),n}t.toPath=e})(uv);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IR,r=K1,n=$1,i=uv;function s(o,A,l){if(o==null)return l;switch(typeof A){case"string":{if(e.isUnsafeProperty(A))return l;const c=o[A];return c===void 0?r.isDeepKey(A)?s(o,i.toPath(A),l):l:c}case"number":case"symbol":{typeof A=="number"&&(A=n.toKey(A));const c=o[A];return c===void 0?l:c}default:{if(Array.isArray(A))return a(o,A,l);if(Object.is(A==null?void 0:A.valueOf(),-0)?A="-0":A=String(A),e.isUnsafeProperty(A))return l;const c=o[A];return c===void 0?l:c}}}function a(o,A,l){if(A.length===0)return l;let c=o;for(let d=0;d<A.length;d++){if(c==null||e.isUnsafeProperty(A[d]))return l;c=c[A[d]]}return c===void 0?l:c}t.get=s})(cv);var Bre=cv.get;const no=zi(Bre);var SR={exports:{}},st={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1=Symbol.for("react.transitional.element"),W1=Symbol.for("react.portal"),dv=Symbol.for("react.fragment"),fv=Symbol.for("react.strict_mode"),hv=Symbol.for("react.profiler"),gv=Symbol.for("react.consumer"),mv=Symbol.for("react.context"),pv=Symbol.for("react.forward_ref"),vv=Symbol.for("react.suspense"),yv=Symbol.for("react.suspense_list"),wv=Symbol.for("react.memo"),xv=Symbol.for("react.lazy"),Cre=Symbol.for("react.view_transition"),Ere=Symbol.for("react.client.reference");function li(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case G1:switch(t=t.type,t){case dv:case hv:case fv:case vv:case yv:case Cre:return t;default:switch(t=t&&t.$$typeof,t){case mv:case pv:case xv:case wv:return t;case gv:return t;default:return e}}case W1:return e}}}st.ContextConsumer=gv;st.ContextProvider=mv;st.Element=G1;st.ForwardRef=pv;st.Fragment=dv;st.Lazy=xv;st.Memo=wv;st.Portal=W1;st.Profiler=hv;st.StrictMode=fv;st.Suspense=vv;st.SuspenseList=yv;st.isContextConsumer=function(t){return li(t)===gv};st.isContextProvider=function(t){return li(t)===mv};st.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===G1};st.isForwardRef=function(t){return li(t)===pv};st.isFragment=function(t){return li(t)===dv};st.isLazy=function(t){return li(t)===xv};st.isMemo=function(t){return li(t)===wv};st.isPortal=function(t){return li(t)===W1};st.isProfiler=function(t){return li(t)===hv};st.isStrictMode=function(t){return li(t)===fv};st.isSuspense=function(t){return li(t)===vv};st.isSuspenseList=function(t){return li(t)===yv};st.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===dv||t===hv||t===fv||t===vv||t===yv||typeof t=="object"&&t!==null&&(t.$$typeof===xv||t.$$typeof===wv||t.$$typeof===mv||t.$$typeof===gv||t.$$typeof===pv||t.$$typeof===Ere||t.getModuleId!==void 0)};st.typeOf=li;SR.exports=st;var _re=SR.exports,ur=t=>t===0?0:t>0?1:-1,Tn=t=>typeof t=="number"&&t!=+t,Yo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,de=t=>(typeof t=="number"||t instanceof Number)&&!Tn(t),Gi=t=>de(t)||typeof t=="string",Ire=0,uf=t=>{var e=++Ire;return"".concat(t||"").concat(e)},Wr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(e)&&typeof e!="string")return n;var s;if(Yo(e)){if(r==null)return n;var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return Tn(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},TR=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1},LF=(t,e)=>de(t)&&de(e)?r=>t+r*(e-t):()=>e;function vi(t,e,r){return de(t)&&de(e)?t+r*(e-t):e}function FR(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):no(n,e))===r)}var ht=t=>t===null||typeof t>"u",Hf=t=>ht(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Sre=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function z1(t){if(typeof t!="string")return!1;var e=Sre;return e.includes(t)}var Tre=["viewBox","children"],HF=["points","pathLength"],Ew={svg:Tre,polygon:HF,polyline:HF},Y1=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(x.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{z1(i)&&(n[i]=s=>r[i](r,s))}),n},Fre=(t,e,r)=>n=>(t(e,r,n),null),Vf=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var s=t[i];z1(i)&&typeof s=="function"&&(n||(n={}),n[i]=Fre(s,e,r))}),n},Nre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function NR(t){if(typeof t!="string")return!1;var e=Nre;return e.includes(t)}function Gs(t){var e=Object.entries(t).filter(r=>{var[n]=r;return NR(n)});return Object.fromEntries(e)}var VF=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",KF=null,_w=null,UR=t=>{if(t===KF&&Array.isArray(_w))return _w;var e=[];return x.Children.forEach(t,r=>{ht(r)||(_re.isFragment(r)?e=e.concat(UR(r.props.children)):e.push(r))}),_w=e,KF=t,e};function Kf(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>VF(i)):n=[VF(e)],UR(t).forEach(i=>{var s=no(i,"type.displayName")||no(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var PR=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Ure=(t,e,r,n)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(i=n&&(Ew==null?void 0:Ew[n]))!==null&&i!==void 0?i:[],a=e.startsWith("data-"),o=typeof t!="function"&&(!!n&&s.includes(e)||NR(e)),A=!!r&&z1(e);return a||o||A},wt=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var a;Ure((a=n)===null||a===void 0?void 0:a[s],s,e,r)&&(i[s]=n[s])}),i},Pre=["children","width","height","viewBox","className","style","title","desc"];function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zb.apply(null,arguments)}function kre(t,e){if(t==null)return{};var r,n,i=Qre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Qre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var X1=x.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:o,title:A,desc:l}=t,c=kre(t,Pre),d=s||{width:n,height:i,x:0,y:0},f=Ge("recharts-surface",a);return x.createElement("svg",zb({},wt(c,!0,"svg"),{className:f,width:n,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:e}),x.createElement("title",null,A),x.createElement("desc",null,l),r)}),Ore=["children","className"];function Yb(){return Yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yb.apply(null,arguments)}function jre(t,e){if(t==null)return{};var r,n,i=Dre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Dre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var jr=x.forwardRef((t,e)=>{var{children:r,className:n}=t,i=jre(t,Ore),s=Ge("recharts-layer",n);return x.createElement("g",Yb({className:s},wt(i,!0),{ref:e}),r)}),kR=x.createContext(null),Rre=()=>x.useContext(kR);function ot(t){return function(){return t}}const QR=Math.cos,Ep=Math.sin,Ii=Math.sqrt,_p=Math.PI,bv=2*_p,Xb=Math.PI,qb=2*Xb,Oo=1e-6,Mre=qb-Oo;function OR(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Lre(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return OR;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Hre{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?OR:Lre(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,A=n-e,l=i-r,c=a-e,d=o-r,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>Oo)if(!(Math.abs(d*A-l*c)>Oo)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-a,m=i-o,p=A*A+l*l,v=g*g+m*m,y=Math.sqrt(p),w=Math.sqrt(f),B=s*Math.tan((Xb-Math.acos((p+f-v)/(2*y*w)))/2),I=B/w,T=B/y;Math.abs(I-1)>Oo&&this._append`L${e+I*c},${r+I*d}`,this._append`A${s},${s},0,0,${+(d*g>c*m)},${this._x1=e+T*A},${this._y1=r+T*l}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),A=n*Math.sin(i),l=e+o,c=r+A,d=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Oo||Math.abs(this._y1-c)>Oo)&&this._append`L${l},${c}`,n&&(f<0&&(f=f%qb+qb),f>Mre?this._append`A${n},${n},0,1,${d},${e-o},${r-A}A${n},${n},0,1,${d},${this._x1=l},${this._y1=c}`:f>Oo&&this._append`A${n},${n},0,${+(f>=Xb)},${d},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function q1(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Hre(e)}function J1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function jR(t){this._context=t}jR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Bv(t){return new jR(t)}function DR(t){return t[0]}function RR(t){return t[1]}function MR(t,e){var r=ot(!0),n=null,i=Bv,s=null,a=q1(o);t=typeof t=="function"?t:t===void 0?DR:ot(t),e=typeof e=="function"?e:e===void 0?RR:ot(e);function o(A){var l,c=(A=J1(A)).length,d,f=!1,g;for(n==null&&(s=i(g=a())),l=0;l<=c;++l)!(l<c&&r(d=A[l],l,A))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(d,l,A),+e(d,l,A));if(g)return s=null,g+""||null}return o.x=function(A){return arguments.length?(t=typeof A=="function"?A:ot(+A),o):t},o.y=function(A){return arguments.length?(e=typeof A=="function"?A:ot(+A),o):e},o.defined=function(A){return arguments.length?(r=typeof A=="function"?A:ot(!!A),o):r},o.curve=function(A){return arguments.length?(i=A,n!=null&&(s=i(n)),o):i},o.context=function(A){return arguments.length?(A==null?n=s=null:s=i(n=A),o):n},o}function xg(t,e,r){var n=null,i=ot(!0),s=null,a=Bv,o=null,A=q1(l);t=typeof t=="function"?t:t===void 0?DR:ot(+t),e=typeof e=="function"?e:ot(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?RR:ot(+r);function l(d){var f,g,m,p=(d=J1(d)).length,v,y=!1,w,B=new Array(p),I=new Array(p);for(s==null&&(o=a(w=A())),f=0;f<=p;++f){if(!(f<p&&i(v=d[f],f,d))===y)if(y=!y)g=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=f-1;m>=g;--m)o.point(B[m],I[m]);o.lineEnd(),o.areaEnd()}y&&(B[f]=+t(v,f,d),I[f]=+e(v,f,d),o.point(n?+n(v,f,d):B[f],r?+r(v,f,d):I[f]))}if(w)return o=null,w+""||null}function c(){return MR().defined(i).curve(a).context(s)}return l.x=function(d){return arguments.length?(t=typeof d=="function"?d:ot(+d),n=null,l):t},l.x0=function(d){return arguments.length?(t=typeof d=="function"?d:ot(+d),l):t},l.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ot(+d),l):n},l.y=function(d){return arguments.length?(e=typeof d=="function"?d:ot(+d),r=null,l):e},l.y0=function(d){return arguments.length?(e=typeof d=="function"?d:ot(+d),l):e},l.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ot(+d),l):r},l.lineX0=l.lineY0=function(){return c().x(t).y(e)},l.lineY1=function(){return c().x(t).y(r)},l.lineX1=function(){return c().x(n).y(e)},l.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ot(!!d),l):i},l.curve=function(d){return arguments.length?(a=d,s!=null&&(o=a(s)),l):a},l.context=function(d){return arguments.length?(d==null?s=o=null:o=a(s=d),l):s},l}class LR{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Vre(t){return new LR(t,!0)}function Kre(t){return new LR(t,!1)}const Z1={draw(t,e){const r=Ii(e/_p);t.moveTo(r,0),t.arc(0,0,r,0,bv)}},$re={draw(t,e){const r=Ii(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},HR=Ii(1/3),Gre=HR*2,Wre={draw(t,e){const r=Ii(e/Gre),n=r*HR;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},zre={draw(t,e){const r=Ii(e),n=-r/2;t.rect(n,n,r,r)}},Yre=.8908130915292852,VR=Ep(_p/10)/Ep(7*_p/10),Xre=Ep(bv/10)*VR,qre=-QR(bv/10)*VR,Jre={draw(t,e){const r=Ii(e*Yre),n=Xre*r,i=qre*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=bv*s/5,o=QR(a),A=Ep(a);t.lineTo(A*r,-o*r),t.lineTo(o*n-A*i,A*n+o*i)}t.closePath()}},Iw=Ii(3),Zre={draw(t,e){const r=-Ii(e/(Iw*3));t.moveTo(0,r*2),t.lineTo(-Iw*r,-r),t.lineTo(Iw*r,-r),t.closePath()}},Dn=-.5,Rn=Ii(3)/2,Jb=1/Ii(12),ene=(Jb/2+1)*3,tne={draw(t,e){const r=Ii(e/ene),n=r/2,i=r*Jb,s=n,a=r*Jb+r,o=-s,A=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,A),t.lineTo(Dn*n-Rn*i,Rn*n+Dn*i),t.lineTo(Dn*s-Rn*a,Rn*s+Dn*a),t.lineTo(Dn*o-Rn*A,Rn*o+Dn*A),t.lineTo(Dn*n+Rn*i,Dn*i-Rn*n),t.lineTo(Dn*s+Rn*a,Dn*a-Rn*s),t.lineTo(Dn*o+Rn*A,Dn*A-Rn*o),t.closePath()}};function rne(t,e){let r=null,n=q1(i);t=typeof t=="function"?t:ot(t||Z1),e=typeof e=="function"?e:ot(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:ot(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:ot(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Ip(){}function Sp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function KR(t){this._context=t}KR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nne(t){return new KR(t)}function $R(t){this._context=t}$R.prototype={areaStart:Ip,areaEnd:Ip,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Sp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ine(t){return new $R(t)}function GR(t){this._context=t}GR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Sp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sne(t){return new GR(t)}function WR(t){this._context=t}WR.prototype={areaStart:Ip,areaEnd:Ip,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ane(t){return new WR(t)}function $F(t){return t<0?-1:1}function GF(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return($F(s)+$F(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function WF(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Sw(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function Tp(t){this._context=t}Tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Sw(this,this._t0,WF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Sw(this,WF(this,r=GF(this,t,e)),r);break;default:Sw(this,this._t0,r=GF(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function zR(t){this._context=new YR(t)}(zR.prototype=Object.create(Tp.prototype)).point=function(t,e){Tp.prototype.point.call(this,e,t)};function YR(t){this._context=t}YR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function one(t){return new Tp(t)}function Ane(t){return new zR(t)}function XR(t){this._context=t}XR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=zF(t),i=zF(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function zF(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function lne(t){return new XR(t)}function Cv(t,e){this._context=t,this._t=e}Cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function cne(t){return new Cv(t,.5)}function une(t){return new Cv(t,0)}function dne(t){return new Cv(t,1)}function gc(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Zb(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function fne(t,e){return t[e]}function hne(t){const e=[];return e.key=t,e}function gne(){var t=ot([]),e=Zb,r=gc,n=fne;function i(s){var a=Array.from(t.apply(this,arguments),hne),o,A=a.length,l=-1,c;for(const d of s)for(o=0,++l;o<A;++o)(a[o][l]=[0,+n(d,a[o].key,l,s)]).data=d;for(o=0,c=J1(e(a));o<A;++o)a[c[o]].index=o;return r(a,c),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:ot(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:ot(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?Zb:typeof s=="function"?s:ot(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??gc,i):r},i}function mne(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}gc(t,e)}}function pne(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}gc(t,e)}}function vne(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,A=0,l=0;o<a;++o){for(var c=t[e[o]],d=c[n][1]||0,f=c[n-1][1]||0,g=(d-f)/2,m=0;m<o;++m){var p=t[e[m]],v=p[n][1]||0,y=p[n-1][1]||0;g+=v-y}A+=d,l+=g*d}i[n-1][1]+=i[n-1][0]=r,A&&(r-=l/A)}i[n-1][1]+=i[n-1][0]=r,gc(t,e)}}var yne=["type","size","sizeType"];function eB(){return eB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eB.apply(null,arguments)}function YF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YF(Object(r),!0).forEach(function(n){wne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wne(t,e,r){return(e=xne(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xne(t){var e=bne(t,"string");return typeof e=="symbol"?e:e+""}function bne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bne(t,e){if(t==null)return{};var r,n,i=Cne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Cne(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var qR={symbolCircle:Z1,symbolCross:$re,symbolDiamond:Wre,symbolSquare:zre,symbolStar:Jre,symbolTriangle:Zre,symbolWye:tne},Ene=Math.PI/180,_ne=t=>{var e="symbol".concat(Hf(t));return qR[e]||Z1},Ine=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*Ene;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Sne=(t,e)=>{qR["symbol".concat(Hf(t))]=e},eE=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=Bne(t,yne),s=XF(XF({},i),{},{type:e,size:r,sizeType:n}),a=()=>{var d=_ne(e),f=rne().type(d).size(Ine(r,n,e));return f()},{className:o,cx:A,cy:l}=s,c=wt(s,!0);return A===+A&&l===+l&&r===+r?x.createElement("path",eB({},c,{className:Ge("recharts-symbols",o),transform:"translate(".concat(A,", ").concat(l,")"),d:a()})):null};eE.registerSymbol=Sne;function tB(){return tB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tB.apply(null,arguments)}function qF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(r),!0).forEach(function(n){tE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tE(t,e,r){return(e=Fne(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fne(t){var e=Nne(t,"string");return typeof e=="symbol"?e:e+""}function Nne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fi=32;class rE extends x.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,i=fi/2,s=fi/6,a=fi/3,o=e.inactive?n:e.color,A=r??e.type;if(A==="none")return null;if(A==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:fi,y2:i,className:"recharts-legend-icon"});if(A==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(fi,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(A==="rect")return x.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(fi/8,"h").concat(fi,"v").concat(fi*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(x.isValidElement(e.legendIcon)){var l=Tne({},e);return delete l.legendIcon,x.cloneElement(e.legendIcon,l)}return x.createElement(eE,{fill:o,cx:i,cy:i,size:fi,sizeType:"diameter",type:A})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:a}=this.props,o={x:0,y:0,width:fi,height:fi},A={display:n==="horizontal"?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((c,d)=>{var f=c.formatter||i,g=Ge({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var m=c.inactive?s:c.color,p=f?f(c.value,c,d):c.value;return x.createElement("li",tB({className:g,style:A,key:"legend-item-".concat(d)},Vf(this.props,c,d)),x.createElement(X1,{width:r,height:r,viewBox:o,style:l,"aria-label":"".concat(p," legend icon")},this.renderIcon(c,a)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},p))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}tE(rE,"displayName","Legend");tE(rE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var JR={},ZR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],o=n(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(ZR);var nE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(nE);var eM={},Ev={},tM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(tM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tM;function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(Ev);var rM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(rM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ev,r=rM;function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(eM);var nM={},iM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cv;function r(n){return function(i){return e.get(i,n)}}t.property=r})(iM);var sM={},Tw={},Fw={},iE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(iE);var sE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(sE);var _v={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(_v);var JF;function Une(){return JF||(JF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aE(),r=iE,n=sE,i=_v;function s(d,f,g){return typeof g!="function"?e.isMatch(d,f):a(d,f,function m(p,v,y,w,B,I){const T=g(p,v,y,w,B,I);return T!==void 0?!!T:a(p,v,m,I)},new Map)}function a(d,f,g,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,g,m);case"function":return Object.keys(f).length>0?a(d,{...f},g,m):i.eq(d,f);default:return r.isObject(d)?typeof f=="string"?f==="":!0:i.eq(d,f)}}function o(d,f,g,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,g,m);if(f instanceof Map)return A(d,f,g,m);if(f instanceof Set)return c(d,f,g,m);const p=Object.keys(f);if(d==null)return p.length===0;if(p.length===0)return!0;if(m&&m.has(f))return m.get(f)===d;m&&m.set(f,d);try{for(let v=0;v<p.length;v++){const y=p[v];if(!n.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!g(d[y],f[y],y,d,f,m))return!1}return!0}finally{m&&m.delete(f)}}function A(d,f,g,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,v]of f.entries()){const y=d.get(p);if(g(y,v,p,d,f,m)===!1)return!1}return!0}function l(d,f,g,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let v=0;v<f.length;v++){const y=f[v];let w=!1;for(let B=0;B<d.length;B++){if(p.has(B))continue;const I=d[B];let T=!1;if(g(I,y,v,d,f,m)&&(T=!0),T){p.add(B),w=!0;break}}if(!w)return!1}return!0}function c(d,f,g,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],g,m):!1}t.isMatchWith=s,t.isSetMatch=c}(Fw)),Fw}var ZF;function aE(){return ZF||(ZF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Une();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r}(Tw)),Tw}var aM={},oE={},AE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(AE);var Iv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(Iv);var Sv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",A="[object Map]",l="[object Set]",c="[object Array]",d="[object Function]",f="[object ArrayBuffer]",g="[object Object]",m="[object Error]",p="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",w="[object Uint16Array]",B="[object Uint32Array]",I="[object BigUint64Array]",T="[object Int8Array]",F="[object Int16Array]",C="[object Int32Array]",_="[object BigInt64Array]",S="[object Float32Array]",U="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=f,t.arrayTag=c,t.bigInt64ArrayTag=_,t.bigUint64ArrayTag=I,t.booleanTag=i,t.dataViewTag=p,t.dateTag=o,t.errorTag=m,t.float32ArrayTag=S,t.float64ArrayTag=U,t.functionTag=d,t.int16ArrayTag=F,t.int32ArrayTag=C,t.int8ArrayTag=T,t.mapTag=A,t.numberTag=n,t.objectTag=g,t.regexpTag=e,t.setTag=l,t.stringTag=r,t.symbolTag=a,t.uint16ArrayTag=w,t.uint32ArrayTag=B,t.uint8ArrayTag=v,t.uint8ClampedArrayTag=y})(Sv);var oM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(oM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AE,r=Iv,n=Sv,i=sE,s=oM;function a(c,d){return o(c,void 0,c,new Map,d)}function o(c,d,f,g=new Map,m=void 0){const p=m==null?void 0:m(c,d,f,g);if(p!=null)return p;if(i.isPrimitive(c))return c;if(g.has(c))return g.get(c);if(Array.isArray(c)){const v=new Array(c.length);g.set(c,v);for(let y=0;y<c.length;y++)v[y]=o(c[y],y,f,g,m);return Object.hasOwn(c,"index")&&(v.index=c.index),Object.hasOwn(c,"input")&&(v.input=c.input),v}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const v=new RegExp(c.source,c.flags);return v.lastIndex=c.lastIndex,v}if(c instanceof Map){const v=new Map;g.set(c,v);for(const[y,w]of c)v.set(y,o(w,y,f,g,m));return v}if(c instanceof Set){const v=new Set;g.set(c,v);for(const y of c)v.add(o(y,void 0,f,g,m));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(s.isTypedArray(c)){const v=new(Object.getPrototypeOf(c)).constructor(c.length);g.set(c,v);for(let y=0;y<c.length;y++)v[y]=o(c[y],y,f,g,m);return v}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const v=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return g.set(c,v),A(v,c,f,g,m),v}if(typeof File<"u"&&c instanceof File){const v=new File([c],c.name,{type:c.type});return g.set(c,v),A(v,c,f,g,m),v}if(c instanceof Blob){const v=new Blob([c],{type:c.type});return g.set(c,v),A(v,c,f,g,m),v}if(c instanceof Error){const v=new c.constructor;return g.set(c,v),v.message=c.message,v.name=c.name,v.stack=c.stack,v.cause=c.cause,A(v,c,f,g,m),v}if(typeof c=="object"&&l(c)){const v=Object.create(Object.getPrototypeOf(c));return g.set(c,v),A(v,c,f,g,m),v}return c}function A(c,d,f=c,g,m){const p=[...Object.keys(d),...e.getSymbols(d)];for(let v=0;v<p.length;v++){const y=p[v],w=Object.getOwnPropertyDescriptor(c,y);(w==null||w.writable)&&(c[y]=o(d[y],y,f,g,m))}}function l(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=A})(oE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oE;function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(aM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aE(),r=aM;function n(i){return i=r.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=n})(sM);var AM={},lM={},cM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oE,r=Sv;function n(i,s){return e.cloneDeepWith(i,(a,o,A,l)=>{const c=s==null?void 0:s(a,o,A,l);if(c!=null)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(d,i),d}case r.argumentsTag:{const d={};return e.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}t.cloneDeepWith=n})(cM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cM;function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(lM);var uM={},lE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(lE);var dM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Iv;function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(dM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K1,r=lE,n=dM,i=uv;function s(a,o){let A;if(Array.isArray(o)?A=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?A=i.toPath(o):A=[o],A.length===0)return!1;let l=a;for(let c=0;c<A.length;c++){const d=A[c];if((l==null||!Object.hasOwn(l,d))&&!((Array.isArray(l)||n.isArguments(l))&&r.isIndex(d)&&d<l.length))return!1;l=l[d]}return!0}t.has=s})(uM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aE(),r=$1,n=lM,i=cv,s=uM;function a(o,A){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return A=n.cloneDeep(A),function(l){const c=i.get(l,o);return c===void 0?s.has(l,o):A===void 0?c===void 0:e.isMatch(c,A)}}t.matchesProperty=a})(AM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nE,r=iM,n=sM,i=AM;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}t.iteratee=s})(nM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZR,r=nE,n=eM,i=nM;function s(a,o=r.identity){return n.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}t.uniqBy=s})(JR);var Pne=JR.uniqBy;const eN=zi(Pne);function fM(t,e,r){return e===!0?eN(t,r):typeof e=="function"?eN(t,e):t}var hM={exports:{}},gM={},mM={exports:{}},pM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mc=x;function kne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qne=typeof Object.is=="function"?Object.is:kne,One=mc.useState,jne=mc.useEffect,Dne=mc.useLayoutEffect,Rne=mc.useDebugValue;function Mne(t,e){var r=e(),n=One({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return Dne(function(){i.value=r,i.getSnapshot=e,Nw(i)&&s({inst:i})},[t,r,e]),jne(function(){return Nw(i)&&s({inst:i}),t(function(){Nw(i)&&s({inst:i})})},[t]),Rne(r),r}function Nw(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Qne(t,r)}catch{return!0}}function Lne(t,e){return e()}var Hne=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Lne:Mne;pM.useSyncExternalStore=mc.useSyncExternalStore!==void 0?mc.useSyncExternalStore:Hne;mM.exports=pM;var Vne=mM.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv=x,Kne=Vne;function $ne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gne=typeof Object.is=="function"?Object.is:$ne,Wne=Kne.useSyncExternalStore,zne=Tv.useRef,Yne=Tv.useEffect,Xne=Tv.useMemo,qne=Tv.useDebugValue;gM.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=zne(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Xne(function(){function A(g){if(!l){if(l=!0,c=g,g=n(g),i!==void 0&&a.hasValue){var m=a.value;if(i(m,g))return d=m}return d=g}if(m=d,Gne(c,g))return m;var p=n(g);return i!==void 0&&i(m,p)?(c=g,m):(c=g,d=p)}var l=!1,c,d,f=r===void 0?null:r;return[function(){return A(e())},f===null?void 0:function(){return A(f())}]},[e,r,n,i]);var o=Wne(t,s[0],s[1]);return Yne(function(){a.hasValue=!0,a.value=o},[o]),qne(o),o};hM.exports=gM;var Jne=hM.exports,cE=x.createContext(null),Zne=t=>t,Tt=()=>{var t=x.useContext(cE);return t?t.store.dispatch:Zne},vm=()=>{},eie=()=>vm,tie=(t,e)=>t===e;function ye(t){var e=x.useContext(cE);return Jne.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:eie,e?e.store.getState:vm,e?e.store.getState:vm,e?t:vm,tie)}function rie(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function nie(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function iie(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var tN=t=>Array.isArray(t)?t:[t];function sie(t){const e=Array.isArray(t[0])?t[0]:t;return iie(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function aie(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var oie=class{constructor(t){this.value=t}deref(){return this.value}},Aie=typeof WeakRef<"u"?WeakRef:oie,lie=0,rN=1;function bg(){return{s:lie,v:void 0,o:null,p:null}}function vM(t,e={}){let r=bg();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var d;let o=r;const{length:A}=arguments;for(let f=0,g=A;f<g;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let p=o.o;p===null&&(o.o=p=new WeakMap);const v=p.get(m);v===void 0?(o=bg(),p.set(m,o)):o=v}else{let p=o.p;p===null&&(o.p=p=new Map);const v=p.get(m);v===void 0?(o=bg(),p.set(m,o)):o=v}}const l=o;let c;if(o.s===rN)c=o.v;else if(c=t.apply(null,arguments),s++,n){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&n(f,c)&&(c=f,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new Aie(c):c}return l.s=rN,l.v=c,c}return a.clearCache=()=>{r=bg(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function cie(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,o,A={},l=i.pop();typeof l=="object"&&(A=l,l=i.pop()),rie(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const c={...r,...A},{memoize:d,memoizeOptions:f=[],argsMemoize:g=vM,argsMemoizeOptions:m=[],devModeChecks:p={}}=c,v=tN(f),y=tN(m),w=sie(i),B=d(function(){return s++,l.apply(null,arguments)},...v),I=g(function(){a++;const F=aie(w,arguments);return o=B.apply(null,F),o},...y);return Object.assign(I,{resultFunc:l,memoizedResultFunc:B,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var G=cie(vM),uie=Object.assign((t,e=G)=>{nie(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,o,A)=>(a[r[A]]=o,a),{}))},{withTypes:()=>uie}),yM={},wM={},xM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=e(n),o=e(i);if(a===o&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=r})(xM);var bM={},uE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(uE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uE,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(bM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xM,r=bM,n=uv;function i(s,a,o,A){if(s==null)return[];o=A?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(g=>String(g));const l=(g,m)=>{let p=g;for(let v=0;v<m.length&&p!=null;++v)p=p[m[v]];return p},c=(g,m)=>m==null||g==null?m:typeof g=="object"&&"key"in g?Object.hasOwn(m,g.key)?m[g.key]:l(m,g.path):typeof g=="function"?g(m):Array.isArray(g)?l(m,g):typeof m=="object"?m[g]:m,d=a.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return s.map(g=>({original:g,criteria:d.map(m=>c(m,g))})).slice().sort((g,m)=>{for(let p=0;p<d.length;p++){const v=e.compareValues(g.criteria[p],m.criteria[p],o[p]);if(v!==0)return v}return 0}).map(g=>g.original)}t.orderBy=i})(wM);var BM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],s=Math.floor(n),a=(o,A)=>{for(let l=0;l<o.length;l++){const c=o[l];Array.isArray(c)&&A<s?a(c,A+1):i.push(c)}};return a(r,0),i}t.flatten=e})(BM);var dE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lE,r=Ev,n=iE,i=_v;function s(a,o,A){return n.isObject(A)&&(typeof o=="number"&&r.isArrayLike(A)&&e.isIndex(o)&&o<A.length||typeof o=="string"&&o in A)?i.eq(A[o],a):!1}t.isIterateeCall=s})(dE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wM,r=BM,n=dE;function i(s,...a){const o=a.length;return o>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,r.flatten(a),["asc"])}t.sortBy=i})(yM);var die=yM.sortBy;const Fv=zi(die);var CM=t=>t.legend.settings,fie=t=>t.legend.size,hie=t=>t.legend.payload,gie=G([hie,CM],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?Fv(n,r):n});function mie(){return ye(gie)}var Bg=1;function EM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>Bg||Math.abs(a.left-e.left)>Bg||Math.abs(a.top-e.top)>Bg||Math.abs(a.width-e.width)>Bg)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function gr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pie=typeof Symbol=="function"&&Symbol.observable||"@@observable",nN=pie,Uw=()=>Math.random().toString(36).substring(7).split("").join("."),vie={INIT:`@@redux/INIT${Uw()}`,REPLACE:`@@redux/REPLACE${Uw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Uw()}`},Fp=vie;function fE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function _M(t,e,r){if(typeof t!="function")throw new Error(gr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(gr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(gr(1));return r(_M)(t,e)}let n=t,i=e,s=new Map,a=s,o=0,A=!1;function l(){a===s&&(a=new Map,s.forEach((v,y)=>{a.set(y,v)}))}function c(){if(A)throw new Error(gr(3));return i}function d(v){if(typeof v!="function")throw new Error(gr(4));if(A)throw new Error(gr(5));let y=!0;l();const w=o++;return a.set(w,v),function(){if(y){if(A)throw new Error(gr(6));y=!1,l(),a.delete(w),s=null}}}function f(v){if(!fE(v))throw new Error(gr(7));if(typeof v.type>"u")throw new Error(gr(8));if(typeof v.type!="string")throw new Error(gr(17));if(A)throw new Error(gr(9));try{A=!0,i=n(i,v)}finally{A=!1}return(s=a).forEach(w=>{w()}),v}function g(v){if(typeof v!="function")throw new Error(gr(10));n=v,f({type:Fp.REPLACE})}function m(){const v=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(gr(11));function w(){const I=y;I.next&&I.next(c())}return w(),{unsubscribe:v(w)}},[nN](){return this}}}return f({type:Fp.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:g,[nN]:m}}function yie(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Fp.INIT})>"u")throw new Error(gr(12));if(typeof r(void 0,{type:Fp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gr(13))})}function IM(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{yie(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let A=!1;const l={};for(let c=0;c<n.length;c++){const d=n[c],f=r[d],g=a[d],m=f(g,o);if(typeof m>"u")throw o&&o.type,new Error(gr(14));l[d]=m,A=A||m!==g}return A=A||n.length!==Object.keys(a).length,A?l:a}}function Np(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function wie(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(gr(15))};const a={getState:i.getState,dispatch:(A,...l)=>s(A,...l)},o=t.map(A=>A(a));return s=Np(...o)(i.dispatch),{...i,dispatch:s}}}function SM(t){return fE(t)&&"type"in t&&typeof t.type=="string"}var TM=Symbol.for("immer-nothing"),iN=Symbol.for("immer-draftable"),Fn=Symbol.for("immer-state");function wi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var pc=Object.getPrototypeOf;function CA(t){return!!t&&!!t[Fn]}function Ds(t){var e;return t?FM(t)||Array.isArray(t)||!!t[iN]||!!((e=t.constructor)!=null&&e[iN])||Uv(t)||Pv(t):!1}var xie=Object.prototype.constructor.toString();function FM(t){if(!t||typeof t!="object")return!1;const e=pc(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===xie}function Up(t,e){Nv(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Nv(t){const e=t[Fn];return e?e.type_:Array.isArray(t)?1:Uv(t)?2:Pv(t)?3:0}function rB(t,e){return Nv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function NM(t,e,r){const n=Nv(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function bie(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Uv(t){return t instanceof Map}function Pv(t){return t instanceof Set}function jo(t){return t.copy_||t.base_}function nB(t,e){if(Uv(t))return new Map(t);if(Pv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=FM(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Fn];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(pc(t),n)}else{const n=pc(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function hE(t,e=!1){return kv(t)||CA(t)||!Ds(t)||(Nv(t)>1&&(t.set=t.add=t.clear=t.delete=Bie),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>hE(n,!0))),t}function Bie(){wi(2)}function kv(t){return Object.isFrozen(t)}var Cie={};function EA(t){const e=Cie[t];return e||wi(0,t),e}var df;function UM(){return df}function Eie(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function sN(t,e){e&&(EA("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function iB(t){sB(t),t.drafts_.forEach(_ie),t.drafts_=null}function sB(t){t===df&&(df=t.parent_)}function aN(t){return df=Eie(df,t)}function _ie(t){const e=t[Fn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function oN(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Fn].modified_&&(iB(e),wi(4)),Ds(t)&&(t=Pp(e,t),e.parent_||kp(e,t)),e.patches_&&EA("Patches").generateReplacementPatches_(r[Fn].base_,t,e.patches_,e.inversePatches_)):t=Pp(e,r,[]),iB(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==TM?t:void 0}function Pp(t,e,r){if(kv(e))return e;const n=e[Fn];if(!n)return Up(e,(i,s)=>AN(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return kp(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),Up(s,(o,A)=>AN(t,n,i,o,A,r,a)),kp(t,i,!1),r&&t.patches_&&EA("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function AN(t,e,r,n,i,s,a){if(CA(i)){const o=s&&e&&e.type_!==3&&!rB(e.assigned_,n)?s.concat(n):void 0,A=Pp(t,i,o);if(NM(r,n,A),CA(A))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Ds(i)&&!kv(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Pp(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&kp(t,i)}}function kp(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&hE(e,r)}function Iie(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:UM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=gE;r&&(i=[n],s=ff);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var gE={get(t,e){if(e===Fn)return t;const r=jo(t);if(!rB(r,e))return Sie(t,r,e);const n=r[e];return t.finalized_||!Ds(n)?n:n===Pw(t.base_,e)?(kw(t),t.copy_[e]=oB(n,t)):n},has(t,e){return e in jo(t)},ownKeys(t){return Reflect.ownKeys(jo(t))},set(t,e,r){const n=PM(jo(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=Pw(jo(t),e),s=i==null?void 0:i[Fn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(bie(r,i)&&(r!==void 0||rB(t.base_,e)))return!0;kw(t),aB(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Pw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,kw(t),aB(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=jo(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){wi(11)},getPrototypeOf(t){return pc(t.base_)},setPrototypeOf(){wi(12)}},ff={};Up(gE,(t,e)=>{ff[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ff.deleteProperty=function(t,e){return ff.set.call(this,t,e,void 0)};ff.set=function(t,e,r){return gE.set.call(this,t[0],e,r,t[0])};function Pw(t,e){const r=t[Fn];return(r?jo(r):t)[e]}function Sie(t,e,r){var i;const n=PM(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function PM(t,e){if(!(e in t))return;let r=pc(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=pc(r)}}function aB(t){t.modified_||(t.modified_=!0,t.parent_&&aB(t.parent_))}function kw(t){t.copy_||(t.copy_=nB(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Tie=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(A=s,...l){return a.produce(A,c=>r.call(this,c,...l))}}typeof r!="function"&&wi(6),n!==void 0&&typeof n!="function"&&wi(7);let i;if(Ds(e)){const s=aN(this),a=oB(e,void 0);let o=!0;try{i=r(a),o=!1}finally{o?iB(s):sB(s)}return sN(s,n),oN(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===TM&&(i=void 0),this.autoFreeze_&&hE(i,!0),n){const s=[],a=[];EA("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else wi(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,A=>e(A,...o));let n,i;return[this.produce(e,r,(a,o)=>{n=a,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ds(t)||wi(8),CA(t)&&(t=Ss(t));const e=aN(this),r=oB(t,void 0);return r[Fn].isManual_=!0,sB(e),r}finishDraft(t,e){const r=t&&t[Fn];(!r||!r.isManual_)&&wi(9);const{scope_:n}=r;return sN(n,e),oN(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=EA("Patches").applyPatches_;return CA(t)?n(t,e):this.produce(t,i=>n(i,e))}};function oB(t,e){const r=Uv(t)?EA("MapSet").proxyMap_(t,e):Pv(t)?EA("MapSet").proxySet_(t,e):Iie(t,e);return(e?e.scope_:UM()).drafts_.push(r),r}function Ss(t){return CA(t)||wi(10,t),kM(t)}function kM(t){if(!Ds(t)||kv(t))return t;const e=t[Fn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=nB(t,e.scope_.immer_.useStrictShallowCopy_)}else r=nB(t,!0);return Up(r,(n,i)=>{NM(r,n,kM(i))}),e&&(e.finalized_=!1),r}var Nn=new Tie,QM=Nn.produce;Nn.produceWithPatches.bind(Nn);Nn.setAutoFreeze.bind(Nn);Nn.setUseStrictShallowCopy.bind(Nn);Nn.applyPatches.bind(Nn);Nn.createDraft.bind(Nn);Nn.finishDraft.bind(Nn);function OM(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var Fie=OM(),Nie=OM,Uie=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Np:Np.apply(null,arguments)};function oi(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(_n(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>SM(n)&&n.type===t,r}var jM=class td extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,td.prototype)}static get[Symbol.species](){return td}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new td(...e[0].concat(this)):new td(...e.concat(this))}};function lN(t){return Ds(t)?QM(t,()=>{}):t}function Cg(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function Pie(t){return typeof t=="boolean"}var kie=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new jM;return r&&(Pie(r)?a.push(Fie):a.push(Nie(r.extraArgument))),a},Qie="RTK_autoBatch",cN=t=>e=>{setTimeout(e,t)},Oie=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const o=new Set,A=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:cN(10):t.type==="callback"?t.queueNotification:cN(t.timeout),l=()=>{a=!1,s&&(s=!1,o.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>i&&c(),f=n.subscribe(d);return o.add(c),()=>{f(),o.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[Qie]),s=!i,s&&(a||(a=!0,A(l))),n.dispatch(c)}finally{i=!0}}})},jie=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new jM(t);return n&&i.push(Oie(typeof n=="object"?n:void 0)),i};function Die(t){const e=kie(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:s=!0,preloadedState:a=void 0,enhancers:o=void 0}=t;let A;if(typeof r=="function")A=r;else if(fE(r))A=IM(r);else throw new Error(_n(1));let l;typeof n=="function"?l=n(e):l=e();let c=Np;i&&(c=Uie({trace:!1,...typeof i=="object"&&i}));const d=wie(...l),f=jie(d);let g=typeof o=="function"?o(f):f();const m=c(...g);return _M(A,a,m)}function DM(t){const e={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(_n(28));if(o in e)throw new Error(_n(29));return e[o]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function Rie(t){return typeof t=="function"}function Mie(t,e){let[r,n,i]=DM(e),s;if(Rie(t))s=()=>lN(t());else{const o=lN(t);s=()=>o}function a(o=s(),A){let l=[r[A.type],...n.filter(({matcher:c})=>c(A)).map(({reducer:c})=>c)];return l.filter(c=>!!c).length===0&&(l=[i]),l.reduce((c,d)=>{if(d)if(CA(c)){const g=d(c,A);return g===void 0?c:g}else{if(Ds(c))return QM(c,f=>d(f,A));{const f=d(c,A);if(f===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return c},o)}return a.getInitialState=s,a}var Lie="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Hie=(t=21)=>{let e="",r=t;for(;r--;)e+=Lie[Math.random()*64|0];return e},Vie=Symbol.for("rtk-slice-createasyncthunk");function Kie(t,e){return`${t}/${e}`}function $ie({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[Vie];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(_n(11));const o=(typeof i.reducers=="function"?i.reducers(Wie()):i.reducers)||{},A=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(I,T){const F=typeof I=="string"?I:I.type;if(!F)throw new Error(_n(12));if(F in l.sliceCaseReducersByType)throw new Error(_n(13));return l.sliceCaseReducersByType[F]=T,c},addMatcher(I,T){return l.sliceMatchers.push({matcher:I,reducer:T}),c},exposeAction(I,T){return l.actionCreators[I]=T,c},exposeCaseReducer(I,T){return l.sliceCaseReducersByName[I]=T,c}};A.forEach(I=>{const T=o[I],F={reducerName:I,type:Kie(s,I),createNotation:typeof i.reducers=="function"};Yie(T)?qie(F,T,c,e):zie(F,T,c)});function d(){const[I={},T=[],F=void 0]=typeof i.extraReducers=="function"?DM(i.extraReducers):[i.extraReducers],C={...I,...l.sliceCaseReducersByType};return Mie(i.initialState,_=>{for(let S in C)_.addCase(S,C[S]);for(let S of l.sliceMatchers)_.addMatcher(S.matcher,S.reducer);for(let S of T)_.addMatcher(S.matcher,S.reducer);F&&_.addDefaultCase(F)})}const f=I=>I,g=new Map,m=new WeakMap;let p;function v(I,T){return p||(p=d()),p(I,T)}function y(){return p||(p=d()),p.getInitialState()}function w(I,T=!1){function F(_){let S=_[I];return typeof S>"u"&&T&&(S=Cg(m,F,y)),S}function C(_=f){const S=Cg(g,T,()=>new WeakMap);return Cg(S,_,()=>{const U={};for(const[k,Q]of Object.entries(i.selectors??{}))U[k]=Gie(Q,_,()=>Cg(m,_,y),T);return U})}return{reducerPath:I,getSelectors:C,get selectors(){return C(F)},selectSlice:F}}const B={name:s,reducer:v,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:y,...w(a),injectInto(I,{reducerPath:T,...F}={}){const C=T??a;return I.inject({reducerPath:C,reducer:v},F),{...B,...w(C,!0)}}};return B}}function Gie(t,e,r,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=r()),t(o,...a)}return i.unwrapped=t,i}var Qn=$ie();function Wie(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function zie({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!Xie(n))throw new Error(_n(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?oi(t,a):oi(t))}function Yie(t){return t._reducerDefinitionType==="asyncThunk"}function Xie(t){return t._reducerDefinitionType==="reducerWithPrepare"}function qie({type:t,reducerName:e},r,n,i){if(!i)throw new Error(_n(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:A,settled:l,options:c}=r,d=i(t,s,c);n.exposeAction(e,d),a&&n.addCase(d.fulfilled,a),o&&n.addCase(d.pending,o),A&&n.addCase(d.rejected,A),l&&n.addMatcher(d.settled,l),n.exposeCaseReducer(e,{fulfilled:a||Eg,pending:o||Eg,rejected:A||Eg,settled:l||Eg})}function Eg(){}var Jie="task",RM="listener",MM="completed",mE="cancelled",Zie=`task-${mE}`,ese=`task-${MM}`,AB=`${RM}-${mE}`,tse=`${RM}-${MM}`,Qv=class{constructor(t){yy(this,"name","TaskAbortError");yy(this,"message");this.code=t,this.message=`${Jie} ${mE} (reason: ${t})`}},pE=(t,e)=>{if(typeof t!="function")throw new TypeError(_n(32))},Qp=()=>{},LM=(t,e=Qp)=>(t.catch(e),t),HM=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),aA=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},oA=t=>{if(t.aborted){const{reason:e}=t;throw new Qv(e)}};function VM(t,e){let r=Qp;return new Promise((n,i)=>{const s=()=>i(new Qv(t.reason));if(t.aborted){s();return}r=HM(t,s),e.finally(()=>r()).then(n,i)}).finally(()=>{r=Qp})}var rse=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof Qv?"cancelled":"rejected",error:r}}finally{e==null||e()}},Op=t=>e=>LM(VM(t,e).then(r=>(oA(t),r))),KM=t=>{const e=Op(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:$l}=Object,uN={},Ov="listenerMiddleware",nse=(t,e)=>{const r=n=>HM(t,()=>aA(n,t.reason));return(n,i)=>{pE(n);const s=new AbortController;r(s);const a=rse(async()=>{oA(t),oA(s.signal);const o=await n({pause:Op(s.signal),delay:KM(s.signal),signal:s.signal});return oA(s.signal),o},()=>aA(s,ese));return i!=null&&i.autoJoin&&e.push(a.catch(Qp)),{result:Op(t)(a),cancel(){aA(s,Zie)}}}},ise=(t,e)=>{const r=async(n,i)=>{oA(e);let s=()=>{};const o=[new Promise((A,l)=>{let c=t({predicate:n,effect:(d,f)=>{f.unsubscribe(),A([d,f.getState(),f.getOriginalState()])}});s=()=>{c(),l()}})];i!=null&&o.push(new Promise(A=>setTimeout(A,i,null)));try{const A=await VM(e,Promise.race(o));return oA(e),A}finally{s()}};return(n,i)=>LM(r(n,i))},$M=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=oi(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(_n(21));return pE(s),{predicate:i,type:e,effect:s}},GM=$l(t=>{const{type:e,predicate:r,effect:n}=$M(t);return{id:Hie(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(_n(22))}}},{withTypes:()=>GM}),dN=(t,e)=>{const{type:r,effect:n,predicate:i}=$M(e);return Array.from(t.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},lB=t=>{t.pending.forEach(e=>{aA(e,AB)})},sse=t=>()=>{t.forEach(lB),t.clear()},fN=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},WM=$l(oi(`${Ov}/add`),{withTypes:()=>WM}),ase=oi(`${Ov}/removeAll`),zM=$l(oi(`${Ov}/remove`),{withTypes:()=>zM}),ose=(...t)=>{console.error(`${Ov}/error`,...t)},$f=(t={})=>{const e=new Map,{extra:r,onError:n=ose}=t;pE(n);const i=c=>(c.unsubscribe=()=>e.delete(c.id),e.set(c.id,c),d=>{c.unsubscribe(),d!=null&&d.cancelActive&&lB(c)}),s=c=>{const d=dN(e,c)??GM(c);return i(d)};$l(s,{withTypes:()=>s});const a=c=>{const d=dN(e,c);return d&&(d.unsubscribe(),c.cancelActive&&lB(d)),!!d};$l(a,{withTypes:()=>a});const o=async(c,d,f,g)=>{const m=new AbortController,p=ise(s,m.signal),v=[];try{c.pending.add(m),await Promise.resolve(c.effect(d,$l({},f,{getOriginalState:g,condition:(y,w)=>p(y,w).then(Boolean),take:p,delay:KM(m.signal),pause:Op(m.signal),extra:r,signal:m.signal,fork:nse(m.signal,v),unsubscribe:c.unsubscribe,subscribe:()=>{e.set(c.id,c)},cancelActiveListeners:()=>{c.pending.forEach((y,w,B)=>{y!==m&&(aA(y,AB),B.delete(y))})},cancel:()=>{aA(m,AB),c.pending.delete(m)},throwIfCancelled:()=>{oA(m.signal)}})))}catch(y){y instanceof Qv||fN(n,y,{raisedBy:"effect"})}finally{await Promise.all(v),aA(m,tse),c.pending.delete(m)}},A=sse(e);return{middleware:c=>d=>f=>{if(!SM(f))return d(f);if(WM.match(f))return s(f.payload);if(ase.match(f)){A();return}if(zM.match(f))return a(f.payload);let g=c.getState();const m=()=>{if(g===uN)throw new Error(_n(23));return g};let p;try{if(p=d(f),e.size>0){const v=c.getState(),y=Array.from(e.values());for(const w of y){let B=!1;try{B=w.predicate(f,v,g)}catch(I){B=!1,fN(n,I,{raisedBy:"predicate"})}B&&o(w,f,c,m)}}}finally{g=uN}return p},startListening:s,stopListening:a,clearListeners:A}};function _n(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Ase={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},YM=Qn({name:"chartLayout",initialState:Ase,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:lse,setLayout:cse,setChartSize:use,setScale:dse}=YM.actions,fse=YM.reducer;function hN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(r),!0).forEach(function(n){hse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hse(t,e,r){return(e=gse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gse(t){var e=mse(t,"string");return typeof e=="symbol"?e:e+""}function mse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jp=Math.PI/180,pse=t=>t*180/Math.PI,Gt=(t,e,r,n)=>({x:t+Math.cos(-jp*n)*r,y:e+Math.sin(-jp*n)*r}),XM=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},vse=(t,e)=>{var{x:r,y:n}=t,{x:i,y:s}=e;return Math.sqrt((r-i)**2+(n-s)**2)},yse=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:s}=e,a=vse({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(r-i)/a,A=Math.acos(o);return n>s&&(A=2*Math.PI-A),{radius:a,angle:pse(A),angleInRadian:A}},wse=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:e-s*360,endAngle:r-s*360}},xse=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return t+a*360},bse=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:s}=yse({x:r,y:n},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:A,endAngle:l}=wse(e),c=s,d;if(A<=l){for(;c>l;)c-=360;for(;c<A;)c+=360;d=c>=A&&c<=l}else{for(;c>A;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=A}return d?gN(gN({},e),{},{radius:i,angle:xse(c,e)}):null},$ve=t=>!x.isValidElement(t)&&typeof t!="function"&&typeof t!="boolean"&&t!=null?t.className:"";function qM(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function mN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(r),!0).forEach(function(n){Bse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bse(t,e,r){return(e=Cse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cse(t){var e=Ese(t,"string");return typeof e=="symbol"?e:e+""}function Ese(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nt(t,e,r){return ht(t)||ht(e)?r:Gi(e)?no(t,e,r):typeof e=="function"?e(t):r}var _se=(t,e,r,n,i)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var A=0;A<o;A++){var l=A>0?r[A-1].coordinate:r[o-1].coordinate,c=r[A].coordinate,d=A>=o-1?r[0].coordinate:r[A+1].coordinate,f=void 0;if(ur(c-l)!==ur(d-c)){var g=[];if(ur(d-c)===ur(i[1]-i[0])){f=d;var m=c+i[1]-i[0];g[0]=Math.min(m,(m+l)/2),g[1]=Math.max(m,(m+l)/2)}else{f=l;var p=d+i[1]-i[0];g[0]=Math.min(c,(p+c)/2),g[1]=Math.max(c,(p+c)/2)}var v=[Math.min(c,(f+c)/2),Math.max(c,(f+c)/2)];if(t>v[0]&&t<=v[1]||t>=g[0]&&t<=g[1]){({index:a}=r[A]);break}}else{var y=Math.min(l,d),w=Math.max(l,d);if(t>(y+c)/2&&t<=(w+c)/2){({index:a}=r[A]);break}}}else if(e){for(var B=0;B<o;B++)if(B===0&&t<=(e[B].coordinate+e[B+1].coordinate)/2||B>0&&B<o-1&&t>(e[B].coordinate+e[B-1].coordinate)/2&&t<=(e[B].coordinate+e[B+1].coordinate)/2||B===o-1&&t>(e[B].coordinate+e[B-1].coordinate)/2){({index:a}=e[B]);break}}return a},Ise=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&de(t[s]))return Gn(Gn({},t),{},{[s]:t[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&de(t[a]))return Gn(Gn({},t),{},{[a]:t[a]+(i||0)})}return t},po=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",JM=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var i,s,a=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===r&&(s=!0),o.coordinate));return i||a.push(e),s||a.push(r),a},ZM=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:o,isCategorical:A,categoricalDomain:l,tickCount:c,ticks:d,niceTicks:f,axisType:g}=t;if(!a)return null;var m=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,p=i==="category"&&a.bandwidth?a.bandwidth()/m:0;if(p=g==="angleAxis"&&s&&s.length>=2?ur(s[0]-s[1])*2*p:p,d||f){var v=(d||f||[]).map((y,w)=>{var B=n?n.indexOf(y):y;return{coordinate:a(B)+p,value:y,offset:p,index:w}});return v.filter(y=>!Tn(y.coordinate))}return A&&l?l.map((y,w)=>({coordinate:a(y)+p,value:y,index:w,offset:p})):a.ticks&&c!=null?a.ticks(c).map((y,w)=>({coordinate:a(y)+p,value:y,offset:p,index:w})):a.domain().map((y,w)=>({coordinate:a(y)+p,value:n?n[y]:y,index:w,offset:p}))},pN=1e-4,Sse=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-pN,s=Math.max(n[0],n[1])+pN,a=t(e[0]),o=t(e[r-1]);(a<i||a>s||o<i||o>s)&&t.domain([e[0],e[r-1]])}},Tse=(t,e)=>{if(!e||e.length!==2||!de(e[0])||!de(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!de(t[0])||t[0]<r)&&(i[0]=r),(!de(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},Fse=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0,a=0;a<e;++a){var o=Tn(t[a][r][1])?t[a][r][0]:t[a][r][1];o>=0?(t[a][r][0]=i,t[a][r][1]=i+o,i=t[a][r][1]):(t[a][r][0]=s,t[a][r][1]=s+o,s=t[a][r][1])}},Nse=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0;s<e;++s){var a=Tn(t[s][r][1])?t[s][r][0]:t[s][r][1];a>=0?(t[s][r][0]=i,t[s][r][1]=i+a,i=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},Use={sign:Fse,expand:mne,none:gc,silhouette:pne,wiggle:vne,positive:Nse},Pse=(t,e,r)=>{var n=Use[r],i=gne().keys(e).value((s,a)=>+nt(s,a,0)).order(Zb).offset(n);return i(t)};function kse(t){return t==null?void 0:String(t)}function vN(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ht(i[e.dataKey])){var o=FR(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var A=nt(i,ht(a)?e.dataKey:a);return ht(A)?null:e.scale(A)}var yN=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return r[a]?r[a].coordinate+n:null;var o=nt(s,e.dataKey,e.scale.domain()[a]);return ht(o)?null:e.scale(o)-i/2+n},Qse=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},Ose=t=>{var e=t.flat(2).filter(de);return[Math.min(...e),Math.max(...e)]},jse=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Dse=(t,e,r)=>{if(t!=null)return jse(Object.keys(t).reduce((n,i)=>{var s=t[i],{stackedData:a}=s,o=a.reduce((A,l)=>{var c=qM(l,e,r),d=Ose(c);return[Math.min(A[0],d[0]),Math.max(A[1],d[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},wN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hf=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=Fv(e,c=>c.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var A=i[a],l=i[a-1];s=Math.min((A.coordinate||0)-(l.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function bN(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:s}=t;return Gn(Gn({},e),{},{dataKey:r,payload:n,value:i,name:s})}function jc(t,e){if(t)return String(t);if(typeof e=="string")return e}function Rse(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return n?bse({x:t,y:e},n):null}var Mse=(t,e,r,n)=>{var i=e.find(l=>l&&l.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:a}=n;return Gn(Gn(Gn({},n),Gt(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:A}=n;return Gn(Gn(Gn({},n),Gt(n.cx,n.cy,o,A)),{},{angle:A,radius:o})}return{x:0,y:0}},Lse=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Ws=t=>t.layout.width,zs=t=>t.layout.height,Hse=t=>t.layout.scale,eL=t=>t.layout.margin,vE=G(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),yE=G(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),tL="data-recharts-item-index",rL="data-recharts-item-data-key",jv=60;function BN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(r),!0).forEach(function(n){Vse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vse(t,e,r){return(e=Kse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kse(t){var e=$se(t,"string");return typeof e=="symbol"?e:e+""}function $se(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gse=t=>t.brush.height,er=G([Ws,zs,eL,Gse,vE,yE,CM,fie],(t,e,r,n,i,s,a,o)=>{var A=s.reduce((m,p)=>{var{orientation:v}=p;if(!p.mirror&&!p.hide){var y=typeof p.width=="number"?p.width:jv;return aa(aa({},m),{},{[v]:m[v]+y})}return m},{left:r.left||0,right:r.right||0}),l=i.reduce((m,p)=>{var{orientation:v}=p;return!p.mirror&&!p.hide?aa(aa({},m),{},{[v]:no(m,"".concat(v))+p.height}):m},{top:r.top||0,bottom:r.bottom||0}),c=aa(aa({},l),A),d=c.bottom;c.bottom+=n,c=Ise(c,a,o);var f=t-c.left-c.right,g=e-c.top-c.bottom;return aa(aa({brushBottom:d},c),{},{width:Math.max(f,0),height:Math.max(g,0)})}),Wse=G(er,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),nL=G(Ws,zs,(t,e)=>({x:0,y:0,width:t,height:e})),zse=x.createContext(null),ln=()=>x.useContext(zse)!=null,Dv=t=>t.brush,Rv=G([Dv,er,eL],(t,e,r)=>({height:t.height,x:de(t.x)?t.x:e.left,y:de(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:de(t.width)?t.width:e.width})),wE=()=>{var t,e=ln(),r=ye(Wse),n=ye(Rv),i=(t=ye(Dv))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},Yse={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},iL=()=>{var t;return(t=ye(er))!==null&&t!==void 0?t:Yse},xE=()=>ye(Ws),bE=()=>ye(zs),Xse={top:0,right:0,bottom:0,left:0},qse=()=>{var t;return(t=ye(e=>e.layout.margin))!==null&&t!==void 0?t:Xse},Ve=t=>t.layout.layoutType,Mv=()=>ye(Ve),Jse={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},sL=Qn({name:"legend",initialState:Jse,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=Ss(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:CN,setLegendSettings:Zse,addLegendPayload:aL,removeLegendPayload:oL}=sL.actions,eae=sL.reducer,tae=["contextPayload"];function cB(){return cB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cB.apply(null,arguments)}function EN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EN(Object(r),!0).forEach(function(n){BE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BE(t,e,r){return(e=rae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rae(t){var e=nae(t,"string");return typeof e=="symbol"?e:e+""}function nae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iae(t,e){if(t==null)return{};var r,n,i=sae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function sae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function aae(t){return t.value}function oae(t){var{contextPayload:e}=t,r=iae(t,tae),n=fM(e,t.payloadUniqBy,aae),i=vc(vc({},r),{},{payload:n});return x.isValidElement(t.content)?x.cloneElement(t.content,i):typeof t.content=="function"?x.createElement(t.content,i):x.createElement(rE,i)}function Aae(t,e,r,n,i,s){var{layout:a,align:o,verticalAlign:A}=e,l,c;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&a==="vertical"?l={left:((n||0)-s.width)/2}:l=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(A==="middle"?c={top:((i||0)-s.height)/2}:c=A==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),vc(vc({},l),c)}function lae(t){var e=Tt();return x.useEffect(()=>{e(Zse(t))},[e,t]),null}function cae(t){var e=Tt();return x.useEffect(()=>(e(CN(t)),()=>{e(CN({width:0,height:0}))}),[e,t]),null}function uae(t){var e=mie(),r=Rre(),n=qse(),{width:i,height:s,wrapperStyle:a,portal:o}=t,[A,l]=EM([e]),c=xE(),d=bE(),f=c-(n.left||0)-(n.right||0),g=_A.getWidthOrHeight(t.layout,s,i,f),m=o?a:vc(vc({position:"absolute",width:(g==null?void 0:g.width)||i||"auto",height:(g==null?void 0:g.height)||s||"auto"},Aae(a,t,n,c,d,A)),a),p=o??r;if(p==null)return null;var v=x.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:l},x.createElement(lae,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),x.createElement(cae,{width:A.width,height:A.height}),x.createElement(oae,cB({},t,g,{margin:n,chartWidth:c,chartHeight:d,contextPayload:e})));return jC.createPortal(v,p)}class _A extends x.PureComponent{static getWidthOrHeight(e,r,n,i){return e==="vertical"&&de(r)?{height:r}:e==="horizontal"?{width:n||i}:null}render(){return x.createElement(uae,this.props)}}BE(_A,"displayName","Legend");BE(_A,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function uB(){return uB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uB.apply(null,arguments)}function _N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(r),!0).forEach(function(n){dae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dae(t,e,r){return(e=fae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fae(t){var e=hae(t,"string");return typeof e=="symbol"?e:e+""}function hae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gae(t){return Array.isArray(t)&&Gi(t[0])&&Gi(t[1])?t.join(" ~ "):t}var mae=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:A,labelClassName:l,label:c,labelFormatter:d,accessibilityLayer:f=!1}=t,g=()=>{if(s&&s.length){var T={padding:0,margin:0},F=(o?Fv(s,o):s).map((C,_)=>{if(C.type==="none")return null;var S=C.formatter||a||gae,{value:U,name:k}=C,Q=U,P=k;{var ae=S(U,k,C,_,s);if(Array.isArray(ae))[Q,P]=ae;else if(ae!=null)Q=ae;else return null}var xe=Qw({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:xe},Gi(P)?x.createElement("span",{className:"recharts-tooltip-item-name"},P):null,Gi(P)?x.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,x.createElement("span",{className:"recharts-tooltip-item-value"},Q),x.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:T},F)}return null},m=Qw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),p=Qw({margin:0},i),v=!ht(c),y=v?c:"",w=Ge("recharts-default-tooltip",A),B=Ge("recharts-tooltip-label",l);v&&d&&s!==void 0&&s!==null&&(y=d(c,s));var I=f?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",uB({className:w,style:m},I),x.createElement("p",{className:B,style:p},x.isValidElement(y)?y:"".concat(y)),g())},Tu="recharts-tooltip-wrapper",pae={visibility:"hidden"};function vae(t){var{coordinate:e,translateX:r,translateY:n}=t;return Ge(Tu,{["".concat(Tu,"-right")]:de(r)&&e&&de(e.x)&&r>=e.x,["".concat(Tu,"-left")]:de(r)&&e&&de(e.x)&&r<e.x,["".concat(Tu,"-bottom")]:de(n)&&e&&de(e.y)&&n>=e.y,["".concat(Tu,"-top")]:de(n)&&e&&de(e.y)&&n<e.y})}function IN(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:A,viewBoxDimension:l}=t;if(s&&de(s[n]))return s[n];var c=r[n]-o-(i>0?i:0),d=r[n]+i;if(e[n])return a[n]?c:d;var f=A[n];if(f==null)return 0;if(a[n]){var g=c,m=f;return g<m?Math.max(d,f):Math.max(c,f)}if(l==null)return 0;var p=d+o,v=f+l;return p>v?Math.max(c,f):Math.max(d,f)}function yae(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function wae(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:A}=t,l,c,d;return a.height>0&&a.width>0&&r?(c=IN({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:A,viewBoxDimension:A.width}),d=IN({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:A,viewBoxDimension:A.height}),l=yae({translateX:c,translateY:d,useTranslate3d:o})):l=pae,{cssProperties:l,cssClasses:vae({translateX:c,translateY:d,coordinate:r})}}function SN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _g(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SN(Object(r),!0).forEach(function(n){dB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dB(t,e,r){return(e=xae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xae(t){var e=bae(t,"string");return typeof e=="symbol"?e:e+""}function bae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Bae extends x.PureComponent{constructor(){super(...arguments),dB(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),dB(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:A,offset:l,position:c,reverseDirection:d,useTranslate3d:f,viewBox:g,wrapperStyle:m,lastBoundingBox:p,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:w,cssProperties:B}=wae({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:l,position:c,reverseDirection:d,tooltipBox:{height:p.height,width:p.width},useTranslate3d:f,viewBox:g}),I=y?{}:_g(_g({transition:A&&e?"transform ".concat(n,"ms ").concat(i):void 0},B),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),T=_g(_g({},I),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},m);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:T,ref:v},s)}}var Cae=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),jA={isSsr:Cae()},AL=()=>ye(t=>t.rootProps.accessibilityLayer);function Un(t){return Number.isFinite(t)}function yc(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function fB(){return fB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fB.apply(null,arguments)}function TN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(r),!0).forEach(function(n){Eae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eae(t,e,r){return(e=_ae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ae(t){var e=Iae(t,"string");return typeof e=="symbol"?e:e+""}function Iae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NN={curveBasisClosed:ine,curveBasisOpen:sne,curveBasis:nne,curveBumpX:Vre,curveBumpY:Kre,curveLinearClosed:ane,curveLinear:Bv,curveMonotoneX:one,curveMonotoneY:Ane,curveNatural:lne,curveStep:cne,curveStepAfter:dne,curveStepBefore:une},Ig=t=>Un(t.x)&&Un(t.y),Fu=t=>t.x,Nu=t=>t.y,Sae=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(Hf(t));return(r==="curveMonotone"||r==="curveBump")&&e?NN["".concat(r).concat(e==="vertical"?"Y":"X")]:NN[r]||Bv},Tae=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=t,a=Sae(e,i),o=s?r.filter(Ig):r,A;if(Array.isArray(n)){var l=s?n.filter(d=>Ig(d)):n,c=o.map((d,f)=>FN(FN({},d),{},{base:l[f]}));return i==="vertical"?A=xg().y(Nu).x1(Fu).x0(d=>d.base.x):A=xg().x(Fu).y1(Nu).y0(d=>d.base.y),A.defined(Ig).curve(a),A(c)}return i==="vertical"&&de(n)?A=xg().y(Nu).x1(Fu).x0(n):de(n)?A=xg().x(Fu).y1(Nu).y0(n):A=MR().x(Fu).y(Nu),A.defined(Ig).curve(a),A(o)},CE=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var s=r&&r.length?Tae(t):n;return x.createElement("path",fB({},Gs(t),Y1(t),{className:Ge("recharts-curve",e),d:s===null?void 0:s,ref:i}))},Fae=["x","y","top","left","width","height","className"];function hB(){return hB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hB.apply(null,arguments)}function UN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(r),!0).forEach(function(n){Uae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uae(t,e,r){return(e=Pae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pae(t){var e=kae(t,"string");return typeof e=="symbol"?e:e+""}function kae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qae(t,e){if(t==null)return{};var r,n,i=Oae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Oae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var jae=(t,e,r,n,i,s)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(r),Dae=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:o}=t,A=Qae(t,Fae),l=Nae({x:e,y:r,top:n,left:i,width:s,height:a},A);return!de(e)||!de(r)||!de(s)||!de(a)||!de(n)||!de(i)?null:x.createElement("path",hB({},wt(l,!0),{className:Ge("recharts-cross",o),d:jae(e,r,s,a,n,i)}))};function Rae(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function PN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(r),!0).forEach(function(n){Lae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lae(t,e,r){return(e=Hae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hae(t){var e=Vae(t,"string");return typeof e=="symbol"?e:e+""}function Vae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function On(t,e){var r=Mae({},t),n=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&n[o]!==void 0&&(a[o]=n[o]),a),r);return s}var lL={},cL={},uL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}t.isPlainObject=e})(uL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uL,r=AE,n=Iv,i=Sv,s=_v;function a(l,c,d){return o(l,c,void 0,void 0,void 0,void 0,d)}function o(l,c,d,f,g,m,p){const v=p(l,c,d,f,g,m);if(v!==void 0)return v;if(typeof l==typeof c)switch(typeof l){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return l===c;case"number":return l===c||Object.is(l,c);case"function":return l===c;case"object":return A(l,c,m,p)}return A(l,c,m,p)}function A(l,c,d,f){if(Object.is(l,c))return!0;let g=n.getTag(l),m=n.getTag(c);if(g===i.argumentsTag&&(g=i.objectTag),m===i.argumentsTag&&(m=i.objectTag),g!==m)return!1;switch(g){case i.stringTag:return l.toString()===c.toString();case i.numberTag:{const y=l.valueOf(),w=c.valueOf();return s.eq(y,w)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(l.valueOf(),c.valueOf());case i.regexpTag:return l.source===c.source&&l.flags===c.flags;case i.functionTag:return l===c}d=d??new Map;const p=d.get(l),v=d.get(c);if(p!=null&&v!=null)return p===c;d.set(l,c),d.set(c,l);try{switch(g){case i.mapTag:{if(l.size!==c.size)return!1;for(const[y,w]of l.entries())if(!c.has(y)||!o(w,c.get(y),y,l,c,d,f))return!1;return!0}case i.setTag:{if(l.size!==c.size)return!1;const y=Array.from(l.values()),w=Array.from(c.values());for(let B=0;B<y.length;B++){const I=y[B],T=w.findIndex(F=>o(I,F,void 0,l,c,d,f));if(T===-1)return!1;w.splice(T,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(l)!==Buffer.isBuffer(c)||l.length!==c.length)return!1;for(let y=0;y<l.length;y++)if(!o(l[y],c[y],y,l,c,d,f))return!1;return!0}case i.arrayBufferTag:return l.byteLength!==c.byteLength?!1:A(new Uint8Array(l),new Uint8Array(c),d,f);case i.dataViewTag:return l.byteLength!==c.byteLength||l.byteOffset!==c.byteOffset?!1:A(new Uint8Array(l),new Uint8Array(c),d,f);case i.errorTag:return l.name===c.name&&l.message===c.message;case i.objectTag:{if(!(A(l.constructor,c.constructor,d,f)||e.isPlainObject(l)&&e.isPlainObject(c)))return!1;const w=[...Object.keys(l),...r.getSymbols(l)],B=[...Object.keys(c),...r.getSymbols(c)];if(w.length!==B.length)return!1;for(let I=0;I<w.length;I++){const T=w[I],F=l[T];if(!Object.hasOwn(c,T))return!1;const C=c[T];if(!o(F,C,T,l,c,d,f))return!1}return!0}default:return!1}}finally{d.delete(l),d.delete(c)}}t.isEqualWith=a})(cL);var dL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(dL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cL,r=dL;function n(i,s){return e.isEqualWith(i,s,r.noop)}t.isEqual=n})(lL);var Kae=lL.isEqual;const $ae=zi(Kae);var Dp=1e-4,fL=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],hL=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),kN=(t,e)=>r=>{var n=fL(t,e);return hL(n,r)},Gae=(t,e)=>r=>{var n=fL(t,e),i=[...n.map((s,a)=>s*a).slice(1),0];return hL(i,r)},QN=function(){for(var e,r,n,i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var A=a[0].split("(");A[0]==="cubic-bezier"&&A[1].split(")")[0].split(",").length===4&&([e,n,r,i]=A[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else a.length===4&&([e,n,r,i]=a);var l=kN(e,r),c=kN(n,i),d=Gae(e,r),f=m=>m>1?1:m<0?0:m,g=m=>{for(var p=m>1?1:m,v=p,y=0;y<8;++y){var w=l(v)-p,B=d(v);if(Math.abs(w-p)<Dp||B<Dp)return c(v);v=f(v-w/B)}return c(v)};return g.isStepper=!1,g},Wae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,s=(a,o,A)=>{var l=-(a-o)*r,c=A*n,d=A+(l-c)*i/1e3,f=A*i/1e3+a;return Math.abs(f-o)<Dp&&Math.abs(d)<Dp?[o,0]:[f,d]};return s.isStepper=!0,s.dt=i,s},gL=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QN(t);case"spring":return Wae();default:if(t.split("(")[0]==="cubic-bezier")return QN(t)}return typeof t=="function"?t:null};function ON(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(r),!0).forEach(function(n){zae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zae(t,e,r){return(e=Yae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yae(t){var e=Xae(t,"string");return typeof e=="symbol"?e:e+""}function Xae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qae=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Jae=(t,e,r)=>t.map(n=>"".concat(qae(n)," ").concat(e,"ms ").concat(r)).join(","),Zae=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),gf=(t,e)=>Object.keys(e).reduce((r,n)=>jN(jN({},r),{},{[n]:t(n,e[n])}),{});function DN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(r),!0).forEach(function(n){eoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eoe(t,e,r){return(e=toe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function toe(t){var e=roe(t,"string");return typeof e=="symbol"?e:e+""}function roe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rp=(t,e,r)=>t+(e-t)*r,gB=t=>{var{from:e,to:r}=t;return e!==r},mL=(t,e,r)=>{var n=gf((i,s)=>{if(gB(s)){var[a,o]=t(s.from,s.to,s.velocity);return wr(wr({},s),{},{from:a,velocity:o})}return s},e);return r<1?gf((i,s)=>gB(s)?wr(wr({},s),{},{velocity:Rp(s.velocity,n[i].velocity,r),from:Rp(s.from,n[i].from,r)}):s,e):mL(t,n,r-1)};function noe(t,e,r,n,i,s){var a,o=n.reduce((f,g)=>wr(wr({},f),{},{[g]:{from:t[g],velocity:0,to:e[g]}}),{}),A=()=>gf((f,g)=>g.from,o),l=()=>!Object.values(o).filter(gB).length,c=null,d=f=>{a||(a=f);var g=f-a,m=g/r.dt;o=mL(r,o,m),i(wr(wr(wr({},t),e),A())),a=f,l()||(c=s.setTimeout(d))};return()=>(c=s.setTimeout(d),()=>{c()})}function ioe(t,e,r,n,i,s,a){var o=null,A=i.reduce((d,f)=>wr(wr({},d),{},{[f]:[t[f],e[f]]}),{}),l,c=d=>{l||(l=d);var f=(d-l)/n,g=gf((p,v)=>Rp(...v,r(f)),A);if(s(wr(wr(wr({},t),e),g)),f<1)o=a.setTimeout(c);else{var m=gf((p,v)=>Rp(...v,r(1)),A);s(wr(wr(wr({},t),e),m))}};return()=>(o=a.setTimeout(c),()=>{o()})}const pL=(t,e,r,n,i,s)=>{var a=Zae(t,e);return r.isStepper===!0?noe(t,e,r,a,i,s):ioe(t,e,r,n,a,i,s)};function soe(t){var e,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[A,...l]=o;if(typeof A=="number"){i=t.setTimeout(s.bind(null,l),A);return}s(A),i=t.setTimeout(s.bind(null,l));return}typeof a=="string"&&(e=a,r(e)),typeof a=="object"&&(e=a,r(e)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>t}}class aoe{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function ooe(){return soe(new aoe)}var Aoe=x.createContext(ooe);function vL(t,e){var r=x.useContext(Aoe);return x.useMemo(()=>e??r(t),[t,e,r])}var loe=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function mB(){return mB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mB.apply(null,arguments)}function coe(t,e){if(t==null)return{};var r,n,i=uoe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function uoe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function RN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(r),!0).forEach(function(n){Xo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xo(t,e,r){return(e=doe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function doe(t){var e=foe(t,"string");return typeof e=="symbol"?e:e+""}function foe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class EE extends x.PureComponent{constructor(e,r){super(e,r),Xo(this,"mounted",!1),Xo(this,"manager",void 0),Xo(this,"stopJSAnimation",null),Xo(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:s,to:a,children:o,duration:A,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||A<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:a});return}if(s){if(typeof o=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:r}=this.props;this.mounted=!0,!(!e||!r)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:s,to:a,from:o}=this.props,{style:A}=this.state;if(n){if(!r){var l={style:i?{[i]:a}:a};this.state&&A&&(i&&A[i]!==a||!i&&A!==a)&&this.setState(l);return}if(!($ae(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||s?o:e.to;if(this.state&&A){var f={style:i?{[i]:d}:d};(i&&A[i]!==d||!i&&A!==d)&&this.setState(f)}this.runAnimation(oa(oa({},this.props),{},{from:d,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:r,to:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:A}=e,l=pL(r,n,gL(s),i,this.changeStyle,this.manager.getTimeoutController()),c=()=>{this.stopJSAnimation=l()};this.manager.start([A,a,c,i,o])}runAnimation(e){var{begin:r,duration:n,attributeName:i,to:s,easing:a,onAnimationStart:o,onAnimationEnd:A,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof l=="function"||a==="spring"){this.runJSAnimation(e);return}var c=i?{[i]:s}:s,d=Jae(Object.keys(c),n,a);this.manager.start([o,r,oa(oa({},c),{},{transition:d}),n,A])}render(){var e=this.props,{children:r,begin:n,duration:i,attributeName:s,easing:a,isActive:o,from:A,to:l,canBegin:c,onAnimationEnd:d,shouldReAnimate:f,onAnimationReStart:g,animationManager:m}=e,p=coe(e,loe),v=x.Children.count(r),y=this.state.style;if(typeof r=="function")return r(y);if(!o||v===0||i<=0)return r;var w=B=>{var{style:I={},className:T}=B.props,F=x.cloneElement(B,oa(oa({},p),{},{style:oa(oa({},I),y),className:T}));return F};return v===1?w(x.Children.only(r)):x.createElement("div",null,x.Children.map(r,B=>w(B)))}}Xo(EE,"displayName","Animate");Xo(EE,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Mp(t){var e,r=vL((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return x.createElement(EE,mB({},t,{animationManager:r}))}function Lp(){return Lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lp.apply(null,arguments)}var MN=(t,e,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,o=r>=0?1:-1,A=n>=0&&r>=0||n<0&&r<0?1:0,l;if(s>0&&i instanceof Array){for(var c=[0,0,0,0],d=0,f=4;d<f;d++)c[d]=i[d]>s?s:i[d];l="M".concat(t,",").concat(e+a*c[0]),c[0]>0&&(l+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(A,",").concat(t+o*c[0],",").concat(e)),l+="L ".concat(t+r-o*c[1],",").concat(e),c[1]>0&&(l+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(A,`,
        `).concat(t+r,",").concat(e+a*c[1])),l+="L ".concat(t+r,",").concat(e+n-a*c[2]),c[2]>0&&(l+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(A,`,
        `).concat(t+r-o*c[2],",").concat(e+n)),l+="L ".concat(t+o*c[3],",").concat(e+n),c[3]>0&&(l+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(A,`,
        `).concat(t,",").concat(e+n-a*c[3])),l+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);l="M ".concat(t,",").concat(e+a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+o*g,",").concat(e,`
            L `).concat(t+r-o*g,",").concat(e,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+r,",").concat(e+a*g,`
            L `).concat(t+r,",").concat(e+n-a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+r-o*g,",").concat(e+n,`
            L `).concat(t+o*g,",").concat(e+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t,",").concat(e+n-a*g," Z")}else l="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return l},hoe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yL=t=>{var e=On(t,hoe),r=x.useRef(null),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&i(y)}catch{}},[]);var{x:s,y:a,width:o,height:A,radius:l,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:g,isAnimationActive:m,isUpdateAnimationActive:p}=e;if(s!==+s||a!==+a||o!==+o||A!==+A||o===0||A===0)return null;var v=Ge("recharts-rectangle",c);return p?x.createElement(Mp,{canBegin:n>0,from:{width:o,height:A,x:s,y:a},to:{width:o,height:A,x:s,y:a},duration:f,animationEasing:d,isActive:p},y=>{var{width:w,height:B,x:I,y:T}=y;return x.createElement(Mp,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,isActive:m,easing:d},x.createElement("path",Lp({},wt(e,!0),{className:v,d:MN(I,T,w,B,l),ref:r})))}):x.createElement("path",Lp({},wt(e,!0),{className:v,d:MN(s,a,o,A,l)}))};function wL(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:s}=t,a=Gt(e,r,n,i),o=Gt(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function pB(){return pB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pB.apply(null,arguments)}var goe=(t,e)=>{var r=ur(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},Sg=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:A}=t,l=o*(a?1:-1)+n,c=Math.asin(o/l)/jp,d=A?i:i+s*c,f=Gt(e,r,l,d),g=Gt(e,r,n,d),m=A?i-s*c:i,p=Gt(e,r,l*Math.cos(c*jp),m);return{center:f,circleTangency:g,lineTangency:p,theta:c}},xL=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=t,o=goe(s,a),A=s+o,l=Gt(e,r,i,s),c=Gt(e,r,i,A),d="M ".concat(l.x,",").concat(l.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>A),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(n>0){var f=Gt(e,r,n,s),g=Gt(e,r,n,A);d+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=A),`,
            `).concat(f.x,",").concat(f.y," Z")}else d+="L ".concat(e,",").concat(r," Z");return d},moe=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:A,endAngle:l}=t,c=ur(l-A),{circleTangency:d,lineTangency:f,theta:g}=Sg({cx:e,cy:r,radius:i,angle:A,sign:c,cornerRadius:s,cornerIsExternal:o}),{circleTangency:m,lineTangency:p,theta:v}=Sg({cx:e,cy:r,radius:i,angle:l,sign:-c,cornerRadius:s,cornerIsExternal:o}),y=o?Math.abs(A-l):Math.abs(A-l)-g-v;if(y<0)return a?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):xL({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:A,endAngle:l});var w="M ".concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(c<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(p.x,",").concat(p.y,`
  `);if(n>0){var{circleTangency:B,lineTangency:I,theta:T}=Sg({cx:e,cy:r,radius:n,angle:A,sign:c,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:F,lineTangency:C,theta:_}=Sg({cx:e,cy:r,radius:n,angle:l,sign:-c,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),S=o?Math.abs(A-l):Math.abs(A-l)-T-_;if(S<0&&s===0)return"".concat(w,"L").concat(e,",").concat(r,"Z");w+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(S>180),",").concat(+(c>0),",").concat(B.x,",").concat(B.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(I.x,",").concat(I.y,"Z")}else w+="L".concat(e,",").concat(r,"Z");return w},poe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bL=t=>{var e=On(t,poe),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:A,startAngle:l,endAngle:c,className:d}=e;if(s<i||l===c)return null;var f=Ge("recharts-sector",d),g=s-i,m=Wr(a,g,0,!0),p;return m>0&&Math.abs(l-c)<360?p=moe({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:o,cornerIsExternal:A,startAngle:l,endAngle:c}):p=xL({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:l,endAngle:c}),x.createElement("path",pB({},wt(e,!0),{className:f,d:p}))};function voe(t,e,r){var n,i,s,a;if(t==="horizontal")n=e.x,s=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:o,cy:A,innerRadius:l,outerRadius:c,angle:d}=e,f=Gt(o,A,l,d),g=Gt(o,A,c,d);n=f.x,i=f.y,s=g.x,a=g.y}else return wL(e);return[{x:n,y:i},{x:s,y:a}]}var BL={},CL={},EL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uE;function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(EL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EL;function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(CL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dE,r=CL;function n(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),A=new Array(o);for(let l=0;l<o;l++)A[l]=i,i+=a;return A}t.range=n})(BL);var yoe=BL.range;const _L=zi(yoe);function Va(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function woe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _E(t){let e,r,n;t.length!==2?(e=Va,r=(o,A)=>Va(t(o),A),n=(o,A)=>t(o)-A):(e=t===Va||t===woe?t:xoe,r=t,n=t);function i(o,A,l=0,c=o.length){if(l<c){if(e(A,A)!==0)return c;do{const d=l+c>>>1;r(o[d],A)<0?l=d+1:c=d}while(l<c)}return l}function s(o,A,l=0,c=o.length){if(l<c){if(e(A,A)!==0)return c;do{const d=l+c>>>1;r(o[d],A)<=0?l=d+1:c=d}while(l<c)}return l}function a(o,A,l=0,c=o.length){const d=i(o,A,l,c-1);return d>l&&n(o[d-1],A)>-n(o[d],A)?d-1:d}return{left:i,center:a,right:s}}function xoe(){return 0}function IL(t){return t===null?NaN:+t}function*boe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Boe=_E(Va),Gf=Boe.right;_E(IL).center;class LN extends Map{constructor(e,r=_oe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(HN(this,e))}has(e){return super.has(HN(this,e))}set(e,r){return super.set(Coe(this,e),r)}delete(e){return super.delete(Eoe(this,e))}}function HN({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Coe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Eoe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function _oe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ioe(t=Va){if(t===Va)return SL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function SL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Soe=Math.sqrt(50),Toe=Math.sqrt(10),Foe=Math.sqrt(2);function Hp(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=Soe?10:s>=Toe?5:s>=Foe?2:1;let o,A,l;return i<0?(l=Math.pow(10,-i)/a,o=Math.round(t*l),A=Math.round(e*l),o/l<t&&++o,A/l>e&&--A,l=-l):(l=Math.pow(10,i)*a,o=Math.round(t/l),A=Math.round(e/l),o*l<t&&++o,A*l>e&&--A),A<o&&.5<=r&&r<2?Hp(t,e,r*2):[o,A,l]}function vB(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?Hp(e,t,r):Hp(t,e,r);if(!(s>=i))return[];const o=s-i+1,A=new Array(o);if(n)if(a<0)for(let l=0;l<o;++l)A[l]=(s-l)/-a;else for(let l=0;l<o;++l)A[l]=(s-l)*a;else if(a<0)for(let l=0;l<o;++l)A[l]=(i+l)/-a;else for(let l=0;l<o;++l)A[l]=(i+l)*a;return A}function yB(t,e,r){return e=+e,t=+t,r=+r,Hp(t,e,r)[2]}function wB(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?yB(e,t,r):yB(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function VN(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function KN(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function TL(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?SL:Ioe(i);n>r;){if(n-r>600){const A=n-r+1,l=e-r+1,c=Math.log(A),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(A-d)/A)*(l-A/2<0?-1:1),g=Math.max(r,Math.floor(e-l*d/A+f)),m=Math.min(n,Math.floor(e+(A-l)*d/A+f));TL(t,e,g,m,i)}const s=t[e];let a=r,o=n;for(Uu(t,r,e),i(t[n],s)>0&&Uu(t,r,n);a<o;){for(Uu(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?Uu(t,r,o):(++o,Uu(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Uu(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Noe(t,e,r){if(t=Float64Array.from(boe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return KN(t);if(e>=1)return VN(t);var n,i=(n-1)*e,s=Math.floor(i),a=VN(TL(t,s).subarray(0,s+1)),o=KN(t.subarray(s+1));return a+(o-a)*(i-s)}}function Uoe(t,e,r=IL){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function Poe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function ci(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ys(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const xB=Symbol("implicit");function IE(){var t=new LN,e=[],r=[],n=xB;function i(s){let a=t.get(s);if(a===void 0){if(n!==xB)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new LN;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return IE(e,r).unknown(n)},ci.apply(i,arguments),i}function SE(){var t=IE().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,A=0,l=0,c=.5;delete t.unknown;function d(){var f=e().length,g=i<n,m=g?i:n,p=g?n:i;s=(p-m)/Math.max(1,f-A+l*2),o&&(s=Math.floor(s)),m+=(p-m-s*(f-A))*c,a=s*(1-A),o&&(m=Math.round(m),a=Math.round(a));var v=Poe(f).map(function(y){return m+s*y});return r(g?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,o=!0,d()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(o=!!f,d()):o},t.padding=function(f){return arguments.length?(A=Math.min(1,l=+f),d()):A},t.paddingInner=function(f){return arguments.length?(A=Math.min(1,f),d()):A},t.paddingOuter=function(f){return arguments.length?(l=+f,d()):l},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),d()):c},t.copy=function(){return SE(e(),[n,i]).round(o).paddingInner(A).paddingOuter(l).align(c)},ci.apply(d(),arguments)}function FL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return FL(e())},t}function koe(){return FL(SE.apply(null,arguments).paddingInner(1))}function TE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function NL(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Wf(){}var mf=.7,Vp=1/mf,Gl="\\s*([+-]?\\d+)\\s*",pf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ki="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qoe=/^#([0-9a-f]{3,8})$/,Ooe=new RegExp(`^rgb\\(${Gl},${Gl},${Gl}\\)$`),joe=new RegExp(`^rgb\\(${Ki},${Ki},${Ki}\\)$`),Doe=new RegExp(`^rgba\\(${Gl},${Gl},${Gl},${pf}\\)$`),Roe=new RegExp(`^rgba\\(${Ki},${Ki},${Ki},${pf}\\)$`),Moe=new RegExp(`^hsl\\(${pf},${Ki},${Ki}\\)$`),Loe=new RegExp(`^hsla\\(${pf},${Ki},${Ki},${pf}\\)$`),$N={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};TE(Wf,vf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:GN,formatHex:GN,formatHex8:Hoe,formatHsl:Voe,formatRgb:WN,toString:WN});function GN(){return this.rgb().formatHex()}function Hoe(){return this.rgb().formatHex8()}function Voe(){return UL(this).formatHsl()}function WN(){return this.rgb().formatRgb()}function vf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Qoe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?zN(e):r===3?new nn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Tg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Tg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ooe.exec(t))?new nn(e[1],e[2],e[3],1):(e=joe.exec(t))?new nn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Doe.exec(t))?Tg(e[1],e[2],e[3],e[4]):(e=Roe.exec(t))?Tg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Moe.exec(t))?qN(e[1],e[2]/100,e[3]/100,1):(e=Loe.exec(t))?qN(e[1],e[2]/100,e[3]/100,e[4]):$N.hasOwnProperty(t)?zN($N[t]):t==="transparent"?new nn(NaN,NaN,NaN,0):null}function zN(t){return new nn(t>>16&255,t>>8&255,t&255,1)}function Tg(t,e,r,n){return n<=0&&(t=e=r=NaN),new nn(t,e,r,n)}function Koe(t){return t instanceof Wf||(t=vf(t)),t?(t=t.rgb(),new nn(t.r,t.g,t.b,t.opacity)):new nn}function bB(t,e,r,n){return arguments.length===1?Koe(t):new nn(t,e,r,n??1)}function nn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}TE(nn,bB,NL(Wf,{brighter(t){return t=t==null?Vp:Math.pow(Vp,t),new nn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?mf:Math.pow(mf,t),new nn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new nn(AA(this.r),AA(this.g),AA(this.b),Kp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YN,formatHex:YN,formatHex8:$oe,formatRgb:XN,toString:XN}));function YN(){return`#${qo(this.r)}${qo(this.g)}${qo(this.b)}`}function $oe(){return`#${qo(this.r)}${qo(this.g)}${qo(this.b)}${qo((isNaN(this.opacity)?1:this.opacity)*255)}`}function XN(){const t=Kp(this.opacity);return`${t===1?"rgb(":"rgba("}${AA(this.r)}, ${AA(this.g)}, ${AA(this.b)}${t===1?")":`, ${t})`}`}function Kp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function AA(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function qo(t){return t=AA(t),(t<16?"0":"")+t.toString(16)}function qN(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new xi(t,e,r,n)}function UL(t){if(t instanceof xi)return new xi(t.h,t.s,t.l,t.opacity);if(t instanceof Wf||(t=vf(t)),!t)return new xi;if(t instanceof xi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,A=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=A<.5?s+i:2-s-i,a*=60):o=A>0&&A<1?0:a,new xi(a,o,A,t.opacity)}function Goe(t,e,r,n){return arguments.length===1?UL(t):new xi(t,e,r,n??1)}function xi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}TE(xi,Goe,NL(Wf,{brighter(t){return t=t==null?Vp:Math.pow(Vp,t),new xi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?mf:Math.pow(mf,t),new xi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new nn(Ow(t>=240?t-240:t+120,i,n),Ow(t,i,n),Ow(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new xi(JN(this.h),Fg(this.s),Fg(this.l),Kp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Kp(this.opacity);return`${t===1?"hsl(":"hsla("}${JN(this.h)}, ${Fg(this.s)*100}%, ${Fg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function JN(t){return t=(t||0)%360,t<0?t+360:t}function Fg(t){return Math.max(0,Math.min(1,t||0))}function Ow(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const FE=t=>()=>t;function Woe(t,e){return function(r){return t+r*e}}function zoe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Yoe(t){return(t=+t)==1?PL:function(e,r){return r-e?zoe(e,r,t):FE(isNaN(e)?r:e)}}function PL(t,e){var r=e-t;return r?Woe(t,r):FE(isNaN(t)?e:t)}const ZN=function t(e){var r=Yoe(e);function n(i,s){var a=r((i=bB(i)).r,(s=bB(s)).r),o=r(i.g,s.g),A=r(i.b,s.b),l=PL(i.opacity,s.opacity);return function(c){return i.r=a(c),i.g=o(c),i.b=A(c),i.opacity=l(c),i+""}}return n.gamma=t,n}(1);function Xoe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function qoe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Joe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Dc(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function Zoe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function $p(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function eAe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Dc(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var BB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jw=new RegExp(BB.source,"g");function tAe(t){return function(){return t}}function rAe(t){return function(e){return t(e)+""}}function nAe(t,e){var r=BB.lastIndex=jw.lastIndex=0,n,i,s,a=-1,o=[],A=[];for(t=t+"",e=e+"";(n=BB.exec(t))&&(i=jw.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,A.push({i:a,x:$p(n,i)})),r=jw.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?A[0]?rAe(A[0].x):tAe(e):(e=A.length,function(l){for(var c=0,d;c<e;++c)o[(d=A[c]).i]=d.x(l);return o.join("")})}function Dc(t,e){var r=typeof e,n;return e==null||r==="boolean"?FE(e):(r==="number"?$p:r==="string"?(n=vf(e))?(e=n,ZN):nAe:e instanceof vf?ZN:e instanceof Date?Zoe:qoe(e)?Xoe:Array.isArray(e)?Joe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?eAe:$p)(t,e)}function NE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function iAe(t,e){e===void 0&&(e=t,t=Dc);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function sAe(t){return function(){return t}}function Gp(t){return+t}var eU=[0,1];function Hr(t){return t}function CB(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:sAe(isNaN(e)?NaN:.5)}function aAe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function oAe(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=CB(i,n),s=r(a,s)):(n=CB(n,i),s=r(s,a)),function(o){return s(n(o))}}function AAe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=CB(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var A=Gf(t,o,1,n)-1;return s[A](i[A](o))}}function zf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Lv(){var t=eU,e=eU,r=Dc,n,i,s,a=Hr,o,A,l;function c(){var f=Math.min(t.length,e.length);return a!==Hr&&(a=aAe(t[0],t[f-1])),o=f>2?AAe:oAe,A=l=null,d}function d(f){return f==null||isNaN(f=+f)?s:(A||(A=o(t.map(n),e,r)))(n(a(f)))}return d.invert=function(f){return a(i((l||(l=o(e,t.map(n),$p)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,Gp),c()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),r=NE,c()},d.clamp=function(f){return arguments.length?(a=f?!0:Hr,c()):a!==Hr},d.interpolate=function(f){return arguments.length?(r=f,c()):r},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,g){return n=f,i=g,c()}}function UE(){return Lv()(Hr,Hr)}function lAe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Wp(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function wc(t){return t=Wp(Math.abs(t)),t?t[1]:NaN}function cAe(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],A=0;i>0&&o>0&&(A+o+1>n&&(o=Math.max(1,n-A)),s.push(r.substring(i-=o,i+o)),!((A+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function uAe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var dAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yf(t){if(!(e=dAe.exec(t)))throw new Error("invalid format: "+t);var e;return new PE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}yf.prototype=PE.prototype;function PE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}PE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fAe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var kL;function hAe(t,e){var r=Wp(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(kL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Wp(t,Math.max(0,e+s-1))[0]}function tU(t,e){var r=Wp(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const rU={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:lAe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tU(t*100,e),r:tU,s:hAe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nU(t){return t}var iU=Array.prototype.map,sU=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function gAe(t){var e=t.grouping===void 0||t.thousands===void 0?nU:cAe(iU.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?nU:uAe(iU.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",A=t.nan===void 0?"NaN":t.nan+"";function l(d){d=yf(d);var f=d.fill,g=d.align,m=d.sign,p=d.symbol,v=d.zero,y=d.width,w=d.comma,B=d.precision,I=d.trim,T=d.type;T==="n"?(w=!0,T="g"):rU[T]||(B===void 0&&(B=12),I=!0,T="g"),(v||f==="0"&&g==="=")&&(v=!0,f="0",g="=");var F=p==="$"?r:p==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",C=p==="$"?n:/[%p]/.test(T)?a:"",_=rU[T],S=/[defgprs%]/.test(T);B=B===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function U(k){var Q=F,P=C,ae,xe,me;if(T==="c")P=_(k)+P,k="";else{k=+k;var pe=k<0||1/k<0;if(k=isNaN(k)?A:_(Math.abs(k),B),I&&(k=fAe(k)),pe&&+k==0&&m!=="+"&&(pe=!1),Q=(pe?m==="("?m:o:m==="-"||m==="("?"":m)+Q,P=(T==="s"?sU[8+kL/3]:"")+P+(pe&&m==="("?")":""),S){for(ae=-1,xe=k.length;++ae<xe;)if(me=k.charCodeAt(ae),48>me||me>57){P=(me===46?i+k.slice(ae+1):k.slice(ae))+P,k=k.slice(0,ae);break}}}w&&!v&&(k=e(k,1/0));var q=Q.length+k.length+P.length,ie=q<y?new Array(y-q+1).join(f):"";switch(w&&v&&(k=e(ie+k,ie.length?y-P.length:1/0),ie=""),g){case"<":k=Q+k+P+ie;break;case"=":k=Q+ie+k+P;break;case"^":k=ie.slice(0,q=ie.length>>1)+Q+k+P+ie.slice(q);break;default:k=ie+Q+k+P;break}return s(k)}return U.toString=function(){return d+""},U}function c(d,f){var g=l((d=yf(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(wc(f)/3)))*3,p=Math.pow(10,-m),v=sU[8+m/3];return function(y){return g(p*y)+v}}return{format:l,formatPrefix:c}}var Ng,kE,QL;mAe({thousands:",",grouping:[3],currency:["$",""]});function mAe(t){return Ng=gAe(t),kE=Ng.format,QL=Ng.formatPrefix,Ng}function pAe(t){return Math.max(0,-wc(Math.abs(t)))}function vAe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wc(e)/3)))*3-wc(Math.abs(t)))}function yAe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wc(e)-wc(t))+1}function OL(t,e,r,n){var i=wB(t,e,r),s;switch(n=yf(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=vAe(i,a))&&(n.precision=s),QL(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=yAe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=pAe(i))&&(n.precision=s-(n.type==="%")*2);break}}return kE(n)}function vo(t){var e=t.domain;return t.ticks=function(r){var n=e();return vB(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return OL(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],A,l,c=10;for(o<a&&(l=a,a=o,o=l,l=i,i=s,s=l);c-- >0;){if(l=yB(a,o,r),l===A)return n[i]=a,n[s]=o,e(n);if(l>0)a=Math.floor(a/l)*l,o=Math.ceil(o/l)*l;else if(l<0)a=Math.ceil(a*l)/l,o=Math.floor(o*l)/l;else break;A=l}return t},t}function jL(){var t=UE();return t.copy=function(){return zf(t,jL())},ci.apply(t,arguments),vo(t)}function DL(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Gp),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return DL(t).unknown(e)},t=arguments.length?Array.from(t,Gp):[0,1],vo(r)}function RL(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function aU(t){return Math.log(t)}function oU(t){return Math.exp(t)}function wAe(t){return-Math.log(-t)}function xAe(t){return-Math.exp(-t)}function bAe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function BAe(t){return t===10?bAe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function CAe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function AU(t){return(e,r)=>-t(-e,r)}function QE(t){const e=t(aU,oU),r=e.domain;let n=10,i,s;function a(){return i=CAe(n),s=BAe(n),r()[0]<0?(i=AU(i),s=AU(s),t(wAe,xAe)):t(aU,oU),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const A=r();let l=A[0],c=A[A.length-1];const d=c<l;d&&([l,c]=[c,l]);let f=i(l),g=i(c),m,p;const v=o==null?10:+o;let y=[];if(!(n%1)&&g-f<v){if(f=Math.floor(f),g=Math.ceil(g),l>0){for(;f<=g;++f)for(m=1;m<n;++m)if(p=f<0?m/s(-f):m*s(f),!(p<l)){if(p>c)break;y.push(p)}}else for(;f<=g;++f)for(m=n-1;m>=1;--m)if(p=f>0?m/s(-f):m*s(f),!(p<l)){if(p>c)break;y.push(p)}y.length*2<v&&(y=vB(l,c,v))}else y=vB(f,g,Math.min(g-f,v)).map(s);return d?y.reverse():y},e.tickFormat=(o,A)=>{if(o==null&&(o=10),A==null&&(A=n===10?"s":","),typeof A!="function"&&(!(n%1)&&(A=yf(A)).precision==null&&(A.trim=!0),A=kE(A)),o===1/0)return A;const l=Math.max(1,n*o/e.ticks().length);return c=>{let d=c/s(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=l?A(c):""}},e.nice=()=>r(RL(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function ML(){const t=QE(Lv()).domain([1,10]);return t.copy=()=>zf(t,ML()).base(t.base()),ci.apply(t,arguments),t}function lU(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function cU(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function OE(t){var e=1,r=t(lU(e),cU(e));return r.constant=function(n){return arguments.length?t(lU(e=+n),cU(e)):e},vo(r)}function LL(){var t=OE(Lv());return t.copy=function(){return zf(t,LL()).constant(t.constant())},ci.apply(t,arguments)}function uU(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function EAe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function _Ae(t){return t<0?-t*t:t*t}function jE(t){var e=t(Hr,Hr),r=1;function n(){return r===1?t(Hr,Hr):r===.5?t(EAe,_Ae):t(uU(r),uU(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},vo(e)}function DE(){var t=jE(Lv());return t.copy=function(){return zf(t,DE()).exponent(t.exponent())},ci.apply(t,arguments),t}function IAe(){return DE.apply(null,arguments).exponent(.5)}function dU(t){return Math.sign(t)*t*t}function SAe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function HL(){var t=UE(),e=[0,1],r=!1,n;function i(s){var a=SAe(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(dU(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Gp)).map(dU)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return HL(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ci.apply(i,arguments),vo(i)}function VL(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=Uoe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[Gf(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Va),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return VL().domain(t).range(e).unknown(n)},ci.apply(s,arguments)}function KL(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(A){return A!=null&&A<=A?i[Gf(n,A,0,r)]:s}function o(){var A=-1;for(n=new Array(r);++A<r;)n[A]=((A+1)*e-(A-r)*t)/(r+1);return a}return a.domain=function(A){return arguments.length?([t,e]=A,t=+t,e=+e,o()):[t,e]},a.range=function(A){return arguments.length?(r=(i=Array.from(A)).length-1,o()):i.slice()},a.invertExtent=function(A){var l=i.indexOf(A);return l<0?[NaN,NaN]:l<1?[t,n[0]]:l>=r?[n[r-1],e]:[n[l-1],n[l]]},a.unknown=function(A){return arguments.length&&(s=A),a},a.thresholds=function(){return n.slice()},a.copy=function(){return KL().domain([t,e]).range(i).unknown(s)},ci.apply(vo(a),arguments)}function $L(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[Gf(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return $L().domain(t).range(e).unknown(r)},ci.apply(i,arguments)}const Dw=new Date,Rw=new Date;function tr(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const A=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return A;let l;do A.push(l=new Date(+s)),e(s,o),t(s);while(l<s&&s<a);return A},i.filter=s=>tr(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(Dw.setTime(+s),Rw.setTime(+a),t(Dw),t(Rw),Math.floor(r(Dw,Rw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const zp=tr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);zp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?tr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):zp);zp.range;const bs=1e3,Zn=bs*60,Bs=Zn*60,Rs=Bs*24,RE=Rs*7,fU=Rs*30,Mw=Rs*365,Jo=tr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*bs)},(t,e)=>(e-t)/bs,t=>t.getUTCSeconds());Jo.range;const ME=tr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bs)},(t,e)=>{t.setTime(+t+e*Zn)},(t,e)=>(e-t)/Zn,t=>t.getMinutes());ME.range;const LE=tr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Zn)},(t,e)=>(e-t)/Zn,t=>t.getUTCMinutes());LE.range;const HE=tr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bs-t.getMinutes()*Zn)},(t,e)=>{t.setTime(+t+e*Bs)},(t,e)=>(e-t)/Bs,t=>t.getHours());HE.range;const VE=tr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Bs)},(t,e)=>(e-t)/Bs,t=>t.getUTCHours());VE.range;const Yf=tr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zn)/Rs,t=>t.getDate()-1);Yf.range;const Hv=tr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rs,t=>t.getUTCDate()-1);Hv.range;const GL=tr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rs,t=>Math.floor(t/Rs));GL.range;function DA(t){return tr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Zn)/RE)}const Vv=DA(0),Yp=DA(1),TAe=DA(2),FAe=DA(3),xc=DA(4),NAe=DA(5),UAe=DA(6);Vv.range;Yp.range;TAe.range;FAe.range;xc.range;NAe.range;UAe.range;function RA(t){return tr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/RE)}const Kv=RA(0),Xp=RA(1),PAe=RA(2),kAe=RA(3),bc=RA(4),QAe=RA(5),OAe=RA(6);Kv.range;Xp.range;PAe.range;kAe.range;bc.range;QAe.range;OAe.range;const KE=tr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());KE.range;const $E=tr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());$E.range;const Ms=tr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ms.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ms.range;const Ls=tr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ls.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ls.range;function WL(t,e,r,n,i,s){const a=[[Jo,1,bs],[Jo,5,5*bs],[Jo,15,15*bs],[Jo,30,30*bs],[s,1,Zn],[s,5,5*Zn],[s,15,15*Zn],[s,30,30*Zn],[i,1,Bs],[i,3,3*Bs],[i,6,6*Bs],[i,12,12*Bs],[n,1,Rs],[n,2,2*Rs],[r,1,RE],[e,1,fU],[e,3,3*fU],[t,1,Mw]];function o(l,c,d){const f=c<l;f&&([l,c]=[c,l]);const g=d&&typeof d.range=="function"?d:A(l,c,d),m=g?g.range(l,+c+1):[];return f?m.reverse():m}function A(l,c,d){const f=Math.abs(c-l)/d,g=_E(([,,v])=>v).right(a,f);if(g===a.length)return t.every(wB(l/Mw,c/Mw,d));if(g===0)return zp.every(Math.max(wB(l,c,d),1));const[m,p]=a[f/a[g-1][2]<a[g][2]/f?g-1:g];return m.every(p)}return[o,A]}const[jAe,DAe]=WL(Ls,$E,Kv,GL,VE,LE),[RAe,MAe]=WL(Ms,KE,Vv,Yf,HE,ME);function Lw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Hw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Pu(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function LAe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,A=t.shortMonths,l=ku(i),c=Qu(i),d=ku(s),f=Qu(s),g=ku(a),m=Qu(a),p=ku(o),v=Qu(o),y=ku(A),w=Qu(A),B={a:pe,A:q,b:ie,B:ce,c:null,d:yU,e:yU,f:cle,g:wle,G:ble,H:ole,I:Ale,j:lle,L:zL,m:ule,M:dle,p:Se,q:ne,Q:bU,s:BU,S:fle,u:hle,U:gle,V:mle,w:ple,W:vle,x:null,X:null,y:yle,Y:xle,Z:Ble,"%":xU},I={a:Ne,A:ze,b:j,B:V,c:null,d:wU,e:wU,f:Ile,g:jle,G:Rle,H:Cle,I:Ele,j:_le,L:XL,m:Sle,M:Tle,p:D,q:Y,Q:bU,s:BU,S:Fle,u:Nle,U:Ule,V:Ple,w:kle,W:Qle,x:null,X:null,y:Ole,Y:Dle,Z:Mle,"%":xU},T={a:U,A:k,b:Q,B:P,c:ae,d:pU,e:pU,f:nle,g:mU,G:gU,H:vU,I:vU,j:ZAe,L:rle,m:JAe,M:ele,p:S,q:qAe,Q:sle,s:ale,S:tle,u:GAe,U:WAe,V:zAe,w:$Ae,W:YAe,x:xe,X:me,y:mU,Y:gU,Z:XAe,"%":ile};B.x=F(r,B),B.X=F(n,B),B.c=F(e,B),I.x=F(r,I),I.X=F(n,I),I.c=F(e,I);function F(M,$){return function(z){var L=[],Be=-1,be=0,ke=M.length,Re,ir,Bo;for(z instanceof Date||(z=new Date(+z));++Be<ke;)M.charCodeAt(Be)===37&&(L.push(M.slice(be,Be)),(ir=hU[Re=M.charAt(++Be)])!=null?Re=M.charAt(++Be):ir=Re==="e"?" ":"0",(Bo=$[Re])&&(Re=Bo(z,ir)),L.push(Re),be=Be+1);return L.push(M.slice(be,Be)),L.join("")}}function C(M,$){return function(z){var L=Pu(1900,void 0,1),Be=_(L,M,z+="",0),be,ke;if(Be!=z.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if($&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(be=Hw(Pu(L.y,0,1)),ke=be.getUTCDay(),be=ke>4||ke===0?Xp.ceil(be):Xp(be),be=Hv.offset(be,(L.V-1)*7),L.y=be.getUTCFullYear(),L.m=be.getUTCMonth(),L.d=be.getUTCDate()+(L.w+6)%7):(be=Lw(Pu(L.y,0,1)),ke=be.getDay(),be=ke>4||ke===0?Yp.ceil(be):Yp(be),be=Yf.offset(be,(L.V-1)*7),L.y=be.getFullYear(),L.m=be.getMonth(),L.d=be.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),ke="Z"in L?Hw(Pu(L.y,0,1)).getUTCDay():Lw(Pu(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(ke+5)%7:L.w+L.U*7-(ke+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,Hw(L)):Lw(L)}}function _(M,$,z,L){for(var Be=0,be=$.length,ke=z.length,Re,ir;Be<be;){if(L>=ke)return-1;if(Re=$.charCodeAt(Be++),Re===37){if(Re=$.charAt(Be++),ir=T[Re in hU?$.charAt(Be++):Re],!ir||(L=ir(M,z,L))<0)return-1}else if(Re!=z.charCodeAt(L++))return-1}return L}function S(M,$,z){var L=l.exec($.slice(z));return L?(M.p=c.get(L[0].toLowerCase()),z+L[0].length):-1}function U(M,$,z){var L=g.exec($.slice(z));return L?(M.w=m.get(L[0].toLowerCase()),z+L[0].length):-1}function k(M,$,z){var L=d.exec($.slice(z));return L?(M.w=f.get(L[0].toLowerCase()),z+L[0].length):-1}function Q(M,$,z){var L=y.exec($.slice(z));return L?(M.m=w.get(L[0].toLowerCase()),z+L[0].length):-1}function P(M,$,z){var L=p.exec($.slice(z));return L?(M.m=v.get(L[0].toLowerCase()),z+L[0].length):-1}function ae(M,$,z){return _(M,e,$,z)}function xe(M,$,z){return _(M,r,$,z)}function me(M,$,z){return _(M,n,$,z)}function pe(M){return a[M.getDay()]}function q(M){return s[M.getDay()]}function ie(M){return A[M.getMonth()]}function ce(M){return o[M.getMonth()]}function Se(M){return i[+(M.getHours()>=12)]}function ne(M){return 1+~~(M.getMonth()/3)}function Ne(M){return a[M.getUTCDay()]}function ze(M){return s[M.getUTCDay()]}function j(M){return A[M.getUTCMonth()]}function V(M){return o[M.getUTCMonth()]}function D(M){return i[+(M.getUTCHours()>=12)]}function Y(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var $=F(M+="",B);return $.toString=function(){return M},$},parse:function(M){var $=C(M+="",!1);return $.toString=function(){return M},$},utcFormat:function(M){var $=F(M+="",I);return $.toString=function(){return M},$},utcParse:function(M){var $=C(M+="",!0);return $.toString=function(){return M},$}}}var hU={"-":"",_:" ",0:"0"},fr=/^\s*\d+/,HAe=/^%/,VAe=/[\\^$*+?|[\]().{}]/g;function We(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function KAe(t){return t.replace(VAe,"\\$&")}function ku(t){return new RegExp("^(?:"+t.map(KAe).join("|")+")","i")}function Qu(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function $Ae(t,e,r){var n=fr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function GAe(t,e,r){var n=fr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function WAe(t,e,r){var n=fr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function zAe(t,e,r){var n=fr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function YAe(t,e,r){var n=fr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function gU(t,e,r){var n=fr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function mU(t,e,r){var n=fr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function XAe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qAe(t,e,r){var n=fr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function JAe(t,e,r){var n=fr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function pU(t,e,r){var n=fr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function ZAe(t,e,r){var n=fr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function vU(t,e,r){var n=fr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function ele(t,e,r){var n=fr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function tle(t,e,r){var n=fr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function rle(t,e,r){var n=fr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function nle(t,e,r){var n=fr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function ile(t,e,r){var n=HAe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function sle(t,e,r){var n=fr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function ale(t,e,r){var n=fr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function yU(t,e){return We(t.getDate(),e,2)}function ole(t,e){return We(t.getHours(),e,2)}function Ale(t,e){return We(t.getHours()%12||12,e,2)}function lle(t,e){return We(1+Yf.count(Ms(t),t),e,3)}function zL(t,e){return We(t.getMilliseconds(),e,3)}function cle(t,e){return zL(t,e)+"000"}function ule(t,e){return We(t.getMonth()+1,e,2)}function dle(t,e){return We(t.getMinutes(),e,2)}function fle(t,e){return We(t.getSeconds(),e,2)}function hle(t){var e=t.getDay();return e===0?7:e}function gle(t,e){return We(Vv.count(Ms(t)-1,t),e,2)}function YL(t){var e=t.getDay();return e>=4||e===0?xc(t):xc.ceil(t)}function mle(t,e){return t=YL(t),We(xc.count(Ms(t),t)+(Ms(t).getDay()===4),e,2)}function ple(t){return t.getDay()}function vle(t,e){return We(Yp.count(Ms(t)-1,t),e,2)}function yle(t,e){return We(t.getFullYear()%100,e,2)}function wle(t,e){return t=YL(t),We(t.getFullYear()%100,e,2)}function xle(t,e){return We(t.getFullYear()%1e4,e,4)}function ble(t,e){var r=t.getDay();return t=r>=4||r===0?xc(t):xc.ceil(t),We(t.getFullYear()%1e4,e,4)}function Ble(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+We(e/60|0,"0",2)+We(e%60,"0",2)}function wU(t,e){return We(t.getUTCDate(),e,2)}function Cle(t,e){return We(t.getUTCHours(),e,2)}function Ele(t,e){return We(t.getUTCHours()%12||12,e,2)}function _le(t,e){return We(1+Hv.count(Ls(t),t),e,3)}function XL(t,e){return We(t.getUTCMilliseconds(),e,3)}function Ile(t,e){return XL(t,e)+"000"}function Sle(t,e){return We(t.getUTCMonth()+1,e,2)}function Tle(t,e){return We(t.getUTCMinutes(),e,2)}function Fle(t,e){return We(t.getUTCSeconds(),e,2)}function Nle(t){var e=t.getUTCDay();return e===0?7:e}function Ule(t,e){return We(Kv.count(Ls(t)-1,t),e,2)}function qL(t){var e=t.getUTCDay();return e>=4||e===0?bc(t):bc.ceil(t)}function Ple(t,e){return t=qL(t),We(bc.count(Ls(t),t)+(Ls(t).getUTCDay()===4),e,2)}function kle(t){return t.getUTCDay()}function Qle(t,e){return We(Xp.count(Ls(t)-1,t),e,2)}function Ole(t,e){return We(t.getUTCFullYear()%100,e,2)}function jle(t,e){return t=qL(t),We(t.getUTCFullYear()%100,e,2)}function Dle(t,e){return We(t.getUTCFullYear()%1e4,e,4)}function Rle(t,e){var r=t.getUTCDay();return t=r>=4||r===0?bc(t):bc.ceil(t),We(t.getUTCFullYear()%1e4,e,4)}function Mle(){return"+0000"}function xU(){return"%"}function bU(t){return+t}function BU(t){return Math.floor(+t/1e3)}var Al,JL,ZL;Lle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Lle(t){return Al=LAe(t),JL=Al.format,Al.parse,ZL=Al.utcFormat,Al.utcParse,Al}function Hle(t){return new Date(t)}function Vle(t){return t instanceof Date?+t:+new Date(+t)}function GE(t,e,r,n,i,s,a,o,A,l){var c=UE(),d=c.invert,f=c.domain,g=l(".%L"),m=l(":%S"),p=l("%I:%M"),v=l("%I %p"),y=l("%a %d"),w=l("%b %d"),B=l("%B"),I=l("%Y");function T(F){return(A(F)<F?g:o(F)<F?m:a(F)<F?p:s(F)<F?v:n(F)<F?i(F)<F?y:w:r(F)<F?B:I)(F)}return c.invert=function(F){return new Date(d(F))},c.domain=function(F){return arguments.length?f(Array.from(F,Vle)):f().map(Hle)},c.ticks=function(F){var C=f();return t(C[0],C[C.length-1],F??10)},c.tickFormat=function(F,C){return C==null?T:l(C)},c.nice=function(F){var C=f();return(!F||typeof F.range!="function")&&(F=e(C[0],C[C.length-1],F??10)),F?f(RL(C,F)):c},c.copy=function(){return zf(c,GE(t,e,r,n,i,s,a,o,A,l))},c}function Kle(){return ci.apply(GE(RAe,MAe,Ms,KE,Vv,Yf,HE,ME,Jo,JL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $le(){return ci.apply(GE(jAe,DAe,Ls,$E,Kv,Hv,VE,LE,Jo,ZL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $v(){var t=0,e=1,r,n,i,s,a=Hr,o=!1,A;function l(d){return d==null||isNaN(d=+d)?A:a(i===0?.5:(d=(s(d)-r)*i,o?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([t,e]=d,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),l):[t,e]},l.clamp=function(d){return arguments.length?(o=!!d,l):o},l.interpolator=function(d){return arguments.length?(a=d,l):a};function c(d){return function(f){var g,m;return arguments.length?([g,m]=f,a=d(g,m),l):[a(0),a(1)]}}return l.range=c(Dc),l.rangeRound=c(NE),l.unknown=function(d){return arguments.length?(A=d,l):A},function(d){return s=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),l}}function yo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function e5(){var t=vo($v()(Hr));return t.copy=function(){return yo(t,e5())},Ys.apply(t,arguments)}function t5(){var t=QE($v()).domain([1,10]);return t.copy=function(){return yo(t,t5()).base(t.base())},Ys.apply(t,arguments)}function r5(){var t=OE($v());return t.copy=function(){return yo(t,r5()).constant(t.constant())},Ys.apply(t,arguments)}function WE(){var t=jE($v());return t.copy=function(){return yo(t,WE()).exponent(t.exponent())},Ys.apply(t,arguments)}function Gle(){return WE.apply(null,arguments).exponent(.5)}function n5(){var t=[],e=Hr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Gf(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Va),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Noe(t,s/n))},r.copy=function(){return n5(e).domain(t)},Ys.apply(r,arguments)}function Gv(){var t=0,e=.5,r=1,n=1,i,s,a,o,A,l=Hr,c,d=!1,f;function g(p){return isNaN(p=+p)?f:(p=.5+((p=+c(p))-s)*(n*p<n*s?o:A),l(d?Math.max(0,Math.min(1,p)):p))}g.domain=function(p){return arguments.length?([t,e,r]=p,i=c(t=+t),s=c(e=+e),a=c(r=+r),o=i===s?0:.5/(s-i),A=s===a?0:.5/(a-s),n=s<i?-1:1,g):[t,e,r]},g.clamp=function(p){return arguments.length?(d=!!p,g):d},g.interpolator=function(p){return arguments.length?(l=p,g):l};function m(p){return function(v){var y,w,B;return arguments.length?([y,w,B]=v,l=iAe(p,[y,w,B]),g):[l(0),l(.5),l(1)]}}return g.range=m(Dc),g.rangeRound=m(NE),g.unknown=function(p){return arguments.length?(f=p,g):f},function(p){return c=p,i=p(t),s=p(e),a=p(r),o=i===s?0:.5/(s-i),A=s===a?0:.5/(a-s),n=s<i?-1:1,g}}function i5(){var t=vo(Gv()(Hr));return t.copy=function(){return yo(t,i5())},Ys.apply(t,arguments)}function s5(){var t=QE(Gv()).domain([.1,1,10]);return t.copy=function(){return yo(t,s5()).base(t.base())},Ys.apply(t,arguments)}function a5(){var t=OE(Gv());return t.copy=function(){return yo(t,a5()).constant(t.constant())},Ys.apply(t,arguments)}function zE(){var t=jE(Gv());return t.copy=function(){return yo(t,zE()).exponent(t.exponent())},Ys.apply(t,arguments)}function Wle(){return zE.apply(null,arguments).exponent(.5)}const rd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:SE,scaleDiverging:i5,scaleDivergingLog:s5,scaleDivergingPow:zE,scaleDivergingSqrt:Wle,scaleDivergingSymlog:a5,scaleIdentity:DL,scaleImplicit:xB,scaleLinear:jL,scaleLog:ML,scaleOrdinal:IE,scalePoint:koe,scalePow:DE,scaleQuantile:VL,scaleQuantize:KL,scaleRadial:HL,scaleSequential:e5,scaleSequentialLog:t5,scaleSequentialPow:WE,scaleSequentialQuantile:n5,scaleSequentialSqrt:Gle,scaleSequentialSymlog:r5,scaleSqrt:IAe,scaleSymlog:LL,scaleThreshold:$L,scaleTime:Kle,scaleUtc:$le,tickFormat:OL},Symbol.toStringTag,{value:"Module"}));var wo=t=>t.chartData,YE=G([wo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Wv=(t,e,r,n)=>n?YE(t):wo(t);function Bc(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(Un(e)&&Un(r))return!0}return!1}function CU(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function zle(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,s;if(Un(r))i=r;else if(typeof r=="function")return;if(Un(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(Bc(a))return a}}function Yle(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(Bc(n))return CU(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(de(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&wN.test(i)){var A=wN.exec(i);if(A==null||e==null)a=void 0;else{var l=+A[1];a=e[0]-l}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(de(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&xN.test(s)){var c=xN.exec(s);if(c==null||e==null)o=void 0;else{var d=+c[1];o=e[1]+d}}else o=e==null?void 0:e[1];var f=[a,o];if(Bc(f))return e==null?f:CU(f,e,r)}}}var Rc=1e9,Xle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qE,xt=!0,Ai="[DecimalError] ",lA=Ai+"Invalid argument: ",XE=Ai+"Exponent out of range: ",Mc=Math.floor,Do=Math.pow,qle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xn,lr=1e7,dt=7,o5=9007199254740991,qp=Mc(o5/dt),ge={};ge.absoluteValue=ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ge.comparedTo=ge.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*dt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ge.dividedBy=ge.div=function(t){return Ts(this,new this.constructor(t))};ge.dividedToIntegerBy=ge.idiv=function(t){var e=this,r=e.constructor;return it(Ts(e,new r(t),0,1),r.precision)};ge.equals=ge.eq=function(t){return!this.cmp(t)};ge.exponent=function(){return Wt(this)};ge.greaterThan=ge.gt=function(t){return this.cmp(t)>0};ge.greaterThanOrEqualTo=ge.gte=function(t){return this.cmp(t)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(t){return this.cmp(t)<0};ge.lessThanOrEqualTo=ge.lte=function(t){return this.cmp(t)<1};ge.logarithm=ge.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(xn))throw Error(Ai+"NaN");if(r.s<1)throw Error(Ai+(r.s?"NaN":"-Infinity"));return r.eq(xn)?new n(0):(xt=!1,e=Ts(wf(r,s),wf(t,s),s),xt=!0,it(e,i))};ge.minus=ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?c5(e,t):A5(e,(t.s=-t.s,t))};ge.modulo=ge.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Ai+"NaN");return r.s?(xt=!1,e=Ts(r,t,0,1).times(t),xt=!0,r.minus(e)):it(new n(r),i)};ge.naturalExponential=ge.exp=function(){return l5(this)};ge.naturalLogarithm=ge.ln=function(){return wf(this)};ge.negated=ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ge.plus=ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?A5(e,t):c5(e,(t.s=-t.s,t))};ge.precision=ge.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(lA+t);if(e=Wt(i)+1,n=i.d.length-1,r=n*dt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ge.squareRoot=ge.sqrt=function(){var t,e,r,n,i,s,a,o=this,A=o.constructor;if(o.s<1){if(!o.s)return new A(0);throw Error(Ai+"NaN")}for(t=Wt(o),xt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Di(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Mc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new A(e)):n=new A(i.toString()),r=A.precision,i=a=r+3;;)if(s=n,n=s.plus(Ts(o,s,a+2)).times(.5),Di(s.d).slice(0,a)===(e=Di(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(it(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return xt=!0,it(n,r)};ge.times=ge.mul=function(t){var e,r,n,i,s,a,o,A,l,c=this,d=c.constructor,f=c.d,g=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,r=c.e+t.e,A=f.length,l=g.length,A<l&&(s=f,f=g,g=s,a=A,A=l,l=a),s=[],a=A+l,n=a;n--;)s.push(0);for(n=l;--n>=0;){for(e=0,i=A+n;i>n;)o=s[i]+g[n]*f[i-n-1]+e,s[i--]=o%lr|0,e=o/lr|0;s[i]=(s[i]+e)%lr|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,xt?it(t,d.precision):t};ge.toDecimalPlaces=ge.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Wi(t,0,Rc),e===void 0?e=n.rounding:Wi(e,0,8),it(r,t+Wt(r)+1,e))};ge.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=IA(n,!0):(Wi(t,0,Rc),e===void 0?e=i.rounding:Wi(e,0,8),n=it(new i(n),t+1,e),r=IA(n,!0,t+1)),r};ge.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?IA(i):(Wi(t,0,Rc),e===void 0?e=s.rounding:Wi(e,0,8),n=it(new s(i),t+Wt(i)+1,e),r=IA(n.abs(),!1,t+Wt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ge.toInteger=ge.toint=function(){var t=this,e=t.constructor;return it(new e(t),Wt(t)+1,e.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(t){var e,r,n,i,s,a,o=this,A=o.constructor,l=12,c=+(t=new A(t));if(!t.s)return new A(xn);if(o=new A(o),!o.s){if(t.s<1)throw Error(Ai+"Infinity");return o}if(o.eq(xn))return o;if(n=A.precision,t.eq(xn))return it(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=c<0?-c:c)<=o5){for(i=new A(xn),e=Math.ceil(n/dt+4),xt=!1;r%2&&(i=i.times(o),_U(i.d,e)),r=Mc(r/2),r!==0;)o=o.times(o),_U(o.d,e);return xt=!0,t.s<0?new A(xn).div(i):it(i,n)}}else if(s<0)throw Error(Ai+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,xt=!1,i=t.times(wf(o,n+l)),xt=!0,i=l5(i),i.s=s,i};ge.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=Wt(i),n=IA(i,r<=s.toExpNeg||r>=s.toExpPos)):(Wi(t,1,Rc),e===void 0?e=s.rounding:Wi(e,0,8),i=it(new s(i),t,e),r=Wt(i),n=IA(i,t<=r||r<=s.toExpNeg,t)),n};ge.toSignificantDigits=ge.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Wi(t,1,Rc),e===void 0?e=n.rounding:Wi(e,0,8)),it(new n(r),t,e)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Wt(t),r=t.constructor;return IA(t,e<=r.toExpNeg||e>=r.toExpPos)};function A5(t,e){var r,n,i,s,a,o,A,l,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),xt?it(e,d):e;if(A=t.d,l=e.d,a=t.e,i=e.e,A=A.slice(),s=a-i,s){for(s<0?(n=A,s=-s,o=l.length):(n=l,i=a,o=A.length),a=Math.ceil(d/dt),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=A.length,s=l.length,o-s<0&&(s=o,n=l,l=A,A=n),r=0;s;)r=(A[--s]=A[s]+l[s]+r)/lr|0,A[s]%=lr;for(r&&(A.unshift(r),++i),o=A.length;A[--o]==0;)A.pop();return e.d=A,e.e=i,xt?it(e,d):e}function Wi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(lA+t)}function Di(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=dt-n.length,r&&(s+=fa(r)),s+=n;a=t[e],n=a+"",r=dt-n.length,r&&(s+=fa(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Ts=function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%lr|0,a=s/lr|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,A;if(s!=a)A=s>a?1:-1;else for(o=A=0;o<s;o++)if(n[o]!=i[o]){A=n[o]>i[o]?1:-1;break}return A}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*lr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,A,l,c,d,f,g,m,p,v,y,w,B,I,T,F,C,_,S=n.constructor,U=n.s==i.s?1:-1,k=n.d,Q=i.d;if(!n.s)return new S(n);if(!i.s)throw Error(Ai+"Division by zero");for(A=n.e-i.e,C=Q.length,T=k.length,g=new S(U),m=g.d=[],l=0;Q[l]==(k[l]||0);)++l;if(Q[l]>(k[l]||0)&&--A,s==null?w=s=S.precision:a?w=s+(Wt(n)-Wt(i))+1:w=s,w<0)return new S(0);if(w=w/dt+2|0,l=0,C==1)for(c=0,Q=Q[0],w++;(l<T||c)&&w--;l++)B=c*lr+(k[l]||0),m[l]=B/Q|0,c=B%Q|0;else{for(c=lr/(Q[0]+1)|0,c>1&&(Q=t(Q,c),k=t(k,c),C=Q.length,T=k.length),I=C,p=k.slice(0,C),v=p.length;v<C;)p[v++]=0;_=Q.slice(),_.unshift(0),F=Q[0],Q[1]>=lr/2&&++F;do c=0,o=e(Q,p,C,v),o<0?(y=p[0],C!=v&&(y=y*lr+(p[1]||0)),c=y/F|0,c>1?(c>=lr&&(c=lr-1),d=t(Q,c),f=d.length,v=p.length,o=e(d,p,f,v),o==1&&(c--,r(d,C<f?_:Q,f))):(c==0&&(o=c=1),d=Q.slice()),f=d.length,f<v&&d.unshift(0),r(p,d,v),o==-1&&(v=p.length,o=e(Q,p,C,v),o<1&&(c++,r(p,C<v?_:Q,v))),v=p.length):o===0&&(c++,p=[0]),m[l++]=c,o&&p[0]?p[v++]=k[I]||0:(p=[k[I]],v=1);while((I++<T||p[0]!==void 0)&&w--)}return m[0]||m.shift(),g.e=A,it(g,a?s+Wt(g)+1:s)}}();function l5(t,e){var r,n,i,s,a,o,A=0,l=0,c=t.constructor,d=c.precision;if(Wt(t)>16)throw Error(XE+Wt(t));if(!t.s)return new c(xn);for(e==null?(xt=!1,o=d):o=e,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),l+=5;for(n=Math.log(Do(2,l))/Math.LN10*2+5|0,o+=n,r=i=s=new c(xn),c.precision=o;;){if(i=it(i.times(t),o),r=r.times(++A),a=s.plus(Ts(i,r,o)),Di(a.d).slice(0,o)===Di(s.d).slice(0,o)){for(;l--;)s=it(s.times(s),o);return c.precision=d,e==null?(xt=!0,it(s,d)):s}s=a}}function Wt(t){for(var e=t.e*dt,r=t.d[0];r>=10;r/=10)e++;return e}function Vw(t,e,r){if(e>t.LN10.sd())throw xt=!0,r&&(t.precision=r),Error(Ai+"LN10 precision limit exceeded");return it(new t(t.LN10),e)}function fa(t){for(var e="";t--;)e+="0";return e}function wf(t,e){var r,n,i,s,a,o,A,l,c,d=1,f=10,g=t,m=g.d,p=g.constructor,v=p.precision;if(g.s<1)throw Error(Ai+(g.s?"NaN":"-Infinity"));if(g.eq(xn))return new p(0);if(e==null?(xt=!1,l=v):l=e,g.eq(10))return e==null&&(xt=!0),Vw(p,l);if(l+=f,p.precision=l,r=Di(m),n=r.charAt(0),s=Wt(g),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=Di(g.d),n=r.charAt(0),d++;s=Wt(g),n>1?(g=new p("0."+r),s++):g=new p(n+"."+r.slice(1))}else return A=Vw(p,l+2,v).times(s+""),g=wf(new p(n+"."+r.slice(1)),l-f).plus(A),p.precision=v,e==null?(xt=!0,it(g,v)):g;for(o=a=g=Ts(g.minus(xn),g.plus(xn),l),c=it(g.times(g),l),i=3;;){if(a=it(a.times(c),l),A=o.plus(Ts(a,new p(i),l)),Di(A.d).slice(0,l)===Di(o.d).slice(0,l))return o=o.times(2),s!==0&&(o=o.plus(Vw(p,l+2,v).times(s+""))),o=Ts(o,new p(d),l),p.precision=v,e==null?(xt=!0,it(o,v)):o;o=A,i+=2}}function EU(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Mc(r/dt),t.d=[],n=(r+1)%dt,r<0&&(n+=dt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=dt;n<i;)t.d.push(+e.slice(n,n+=dt));e=e.slice(n),n=dt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),xt&&(t.e>qp||t.e<-qp))throw Error(XE+r)}else t.s=0,t.e=0,t.d=[0];return t}function it(t,e,r){var n,i,s,a,o,A,l,c,d=t.d;for(a=1,s=d[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=dt,i=e,l=d[c=0];else{if(c=Math.ceil((n+1)/dt),s=d.length,c>=s)return t;for(l=s=d[c],a=1;s>=10;s/=10)a++;n%=dt,i=n-dt+a}if(r!==void 0&&(s=Do(10,a-i-1),o=l/s%10|0,A=e<0||d[c+1]!==void 0||l%s,A=r<4?(o||A)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||A||r==6&&(n>0?i>0?l/Do(10,a-i):0:d[c-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return A?(s=Wt(t),d.length=1,e=e-s-1,d[0]=Do(10,(dt-e%dt)%dt),t.e=Mc(-e/dt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=c,s=1,c--):(d.length=c+1,s=Do(10,dt-n),d[c]=i>0?(l/Do(10,a-i)%Do(10,i)|0)*s:0),A)for(;;)if(c==0){(d[0]+=s)==lr&&(d[0]=1,++t.e);break}else{if(d[c]+=s,d[c]!=lr)break;d[c--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(xt&&(t.e>qp||t.e<-qp))throw Error(XE+Wt(t));return t}function c5(t,e){var r,n,i,s,a,o,A,l,c,d,f=t.constructor,g=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),xt?it(e,g):e;if(A=t.d,d=e.d,n=e.e,l=t.e,A=A.slice(),a=l-n,a){for(c=a<0,c?(r=A,a=-a,o=d.length):(r=d,n=l,o=A.length),i=Math.max(Math.ceil(g/dt),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=A.length,o=d.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(A[i]!=d[i]){c=A[i]<d[i];break}a=0}for(c&&(r=A,A=d,d=r,e.s=-e.s),o=A.length,i=d.length-o;i>0;--i)A[o++]=0;for(i=d.length;i>a;){if(A[--i]<d[i]){for(s=i;s&&A[--s]===0;)A[s]=lr-1;--A[s],A[i]+=lr}A[i]-=d[i]}for(;A[--o]===0;)A.pop();for(;A[0]===0;A.shift())--n;return A[0]?(e.d=A,e.e=n,xt?it(e,g):e):new f(0)}function IA(t,e,r){var n,i=Wt(t),s=Di(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+fa(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+fa(-i-1)+s,r&&(n=r-a)>0&&(s+=fa(n))):i>=a?(s+=fa(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+fa(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=fa(n))),t.s<0?"-"+s:s}function _U(t,e){if(t.length>e)return t.length=e,!0}function u5(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(lA+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return EU(a,s.toString())}else if(typeof s!="string")throw Error(lA+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,qle.test(s))EU(a,s);else throw Error(lA+s)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=u5,i.config=i.set=Jle,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Jle(t){if(!t||typeof t!="object")throw Error(Ai+"Object expected");var e,r,n,i=["precision",1,Rc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Mc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(lA+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(lA+r+": "+n);return this}var qE=u5(Xle);xn=new qE(1);const Xe=qE;var Zle=t=>t,d5={"@@functional/placeholder":!0},f5=t=>t===d5,IU=t=>function e(){return arguments.length===0||arguments.length===1&&f5(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},h5=(t,e)=>t===1?e:IU(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==d5).length;return s>=t?e(...n):h5(t-s,IU(function(){for(var a=arguments.length,o=new Array(a),A=0;A<a;A++)o[A]=arguments[A];var l=n.map(c=>f5(c)?o.shift():c);return e(...l,...o)}))}),zv=t=>h5(t.length,t),EB=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},ece=zv((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),tce=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Zle;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,A)=>A(o),s(...arguments))}},_B=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),g5=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e&&i.every((a,o)=>{var A;return a===((A=e)===null||A===void 0?void 0:A[o])})||(e=i,r=t(...i)),r}};function m5(t){var e;return t===0?e=1:e=Math.floor(new Xe(t).abs().log(10).toNumber())+1,e}function p5(t,e,r){for(var n=new Xe(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}zv((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});zv((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});zv((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var v5=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},y5=(t,e,r)=>{if(t.lte(0))return new Xe(0);var n=m5(t.toNumber()),i=new Xe(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new Xe(Math.ceil(s.div(a).toNumber())).add(r).mul(a),A=o.mul(i);return e?new Xe(A.toNumber()):new Xe(Math.ceil(A.toNumber()))},rce=(t,e,r)=>{var n=new Xe(1),i=new Xe(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Xe(10).pow(m5(t)-1),i=new Xe(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Xe(Math.floor(t)))}else t===0?i=new Xe(Math.floor((e-1)/2)):r||(i=new Xe(Math.floor(t)));var a=Math.floor((e-1)/2),o=tce(ece(A=>i.add(new Xe(A-a).mul(n)).toNumber()),EB);return o(0,e)},w5=function(e,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var a=y5(new Xe(r).sub(e).div(n-1),i,s),o;e<=0&&r>=0?o=new Xe(0):(o=new Xe(e).add(r).div(2),o=o.sub(new Xe(o).mod(a)));var A=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new Xe(r).sub(o).div(a).toNumber()),c=A+l+1;return c>n?w5(e,r,n,i,s+1):(c<n&&(l=r>0?l+(n-c):l,A=r>0?A:A+(n-c)),{step:a,tickMin:o.sub(new Xe(A).mul(a)),tickMax:o.add(new Xe(l).mul(a))})};function nce(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,o]=v5([e,r]);if(a===-1/0||o===1/0){var A=o===1/0?[a,...EB(0,n-1).map(()=>1/0)]:[...EB(0,n-1).map(()=>-1/0),o];return e>r?_B(A):A}if(a===o)return rce(a,n,i);var{step:l,tickMin:c,tickMax:d}=w5(a,o,s,i,0),f=p5(c,d.add(new Xe(.1).mul(l)),l);return e>r?_B(f):f}function ice(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=v5([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var o=Math.max(e,2),A=y5(new Xe(a).sub(s).div(o-1),i,0),l=[...p5(new Xe(s),new Xe(a),A),a];return i===!1&&(l=l.map(c=>Math.round(c))),r>n?_B(l):l}var sce=g5(nce),ace=g5(ice),x5=t=>t.rootProps.maxBarSize,oce=t=>t.rootProps.barGap,b5=t=>t.rootProps.barCategoryGap,Ace=t=>t.rootProps.barSize,Xf=t=>t.rootProps.stackOffset,JE=t=>t.options.chartName,ZE=t=>t.rootProps.syncId,B5=t=>t.rootProps.syncMethod,e_=t=>t.options.eventEmitter,ds={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},yn={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Yv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},lce={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ds.angleAxisId,includeHidden:!1,name:void 0,reversed:ds.reversed,scale:ds.scale,tick:ds.tick,tickCount:void 0,ticks:void 0,type:ds.type,unit:void 0},cce={allowDataOverflow:yn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:yn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:yn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:yn.scale,tick:yn.tick,tickCount:yn.tickCount,ticks:void 0,type:yn.type,unit:void 0},uce={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ds.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ds.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ds.scale,tick:ds.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},dce={allowDataOverflow:yn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:yn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:yn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:yn.scale,tick:yn.tick,tickCount:yn.tickCount,ticks:void 0,type:"category",unit:void 0},t_=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?uce:lce,r_=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?dce:cce,Xv=t=>t.polarOptions,n_=G([Ws,zs,er],XM),C5=G([Xv,n_],(t,e)=>{if(t!=null)return Wr(t.innerRadius,e,0)}),E5=G([Xv,n_],(t,e)=>{if(t!=null)return Wr(t.outerRadius,e,e*.8)}),fce=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},_5=G([Xv],fce),Gve=G([t_,_5],Yv),I5=G([n_,C5,E5],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]}),Wve=G([r_,I5],Yv),S5=G([Ve,Xv,C5,E5,Ws,zs],(t,e,r,n,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:a,cy:o,startAngle:A,endAngle:l}=e;return{cx:Wr(a,i,i/2),cy:Wr(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:A,endAngle:l,clockWise:!1}}}),Ct=(t,e)=>e,qf=(t,e,r)=>r;function i_(t){return t==null?void 0:t.id}var rr=t=>{var e=Ve(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Lc=t=>t.tooltip.settings.axisId,nr=t=>{var e=rr(t),r=Lc(t);return Jf(t,e,r)};function T5(t,e,r){var{chartData:n=[]}=e,i=r==null?void 0:r.dataKey,s=new Map;return t.forEach(a=>{var o,A=(o=a.data)!==null&&o!==void 0?o:n;if(!(A==null||A.length===0)){var l=i_(a);A.forEach((c,d)=>{var f=i==null?d:String(nt(c,i,null)),g=nt(c,a.dataKey,0),m;s.has(f)?m=s.get(f):m={},Object.assign(m,{[l]:g}),s.set(f,m)})}}),Array.from(s.values())}function qv(t){return t.stackId!=null&&t.dataKey!=null}function SU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SU(Object(r),!0).forEach(function(n){hce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hce(t,e,r){return(e=gce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gce(t){var e=mce(t,"string");return typeof e=="symbol"?e:e+""}function mce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IB=[0,"auto"],hn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Xs=(t,e)=>{var r=t.cartesianAxis.xAxis[e];return r??hn},gn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:IB,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:jv},xo=(t,e)=>{var r=t.cartesianAxis.yAxis[e];return r??gn},pce={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},s_=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??pce},Lt=(t,e,r)=>{switch(e){case"xAxis":return Xs(t,r);case"yAxis":return xo(t,r);case"zAxis":return s_(t,r);case"angleAxis":return t_(t,r);case"radiusAxis":return r_(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},vce=(t,e,r)=>{switch(e){case"xAxis":return Xs(t,r);case"yAxis":return xo(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Jf=(t,e,r)=>{switch(e){case"xAxis":return Xs(t,r);case"yAxis":return xo(t,r);case"angleAxis":return t_(t,r);case"radiusAxis":return r_(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},F5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function a_(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var Jv=t=>t.graphicalItems.cartesianItems,yce=G([Ct,qf],a_),o_=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),Zf=G([Jv,Lt,yce],o_),N5=G([Zf],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(qv)),U5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),P5=G([Zf],U5),A_=t=>t.map(e=>e.data).filter(Boolean).flat(1),wce=G([Zf],A_),l_=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},c_=G([wce,Wv],l_),u_=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:nt(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:nt(i,n)}))):t.map(n=>({value:n})),Zv=G([c_,Lt,Zf],u_);function k5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function MA(t){return t.filter(e=>Gi(e)||e instanceof Date).map(Number).filter(e=>Tn(e)===!1)}function xce(t,e,r){return!r||typeof e!="number"||Tn(e)?[]:r.length?MA(r.flatMap(n=>{var i=nt(t,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Un(s)||!Un(a)))return[e-s,e+a]})):[]}var bce=G([N5,Wv,nr],T5),Q5=(t,e,r)=>{var n={},i=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,o]=s,A=o.map(i_);return[a,{stackedData:Pse(t,A,r),graphicalItems:o}]}))},SB=G([bce,N5,Xf],Q5),O5=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var s=Dse(t,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Bce=G([SB,wo,Ct],O5),j5=(t,e,r,n,i)=>r.length>0?t.flatMap(s=>r.flatMap(a=>{var o,A,l=(o=n[a.id])===null||o===void 0?void 0:o.filter(d=>k5(i,d)),c=nt(s,(A=e.dataKey)!==null&&A!==void 0?A:a.dataKey);return{value:c,errorDomain:xce(s,c,l)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(s=>({value:nt(s,e.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]})),ey=t=>t.errorBars,D5=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>k5(r,n));G([P5,ey,Ct],D5);var Cce=G([c_,Lt,P5,ey,Ct],j5);function Ece(t){var{value:e}=t;if(Gi(e)||e instanceof Date)return e}var TU=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=MA(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},_ce=(t,e,r)=>{var n=t.map(Ece).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&TR(n))?_L(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},d_=t=>{var e;if(t==null||!("domain"in t))return IB;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=MA(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:IB},Zp=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},R5=t=>t.referenceElements.dots,Hc=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),Ice=G([R5,Ct,qf],Hc),M5=t=>t.referenceElements.areas,Sce=G([M5,Ct,qf],Hc),L5=t=>t.referenceElements.lines,Tce=G([L5,Ct,qf],Hc),H5=(t,e)=>{var r=MA(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Fce=G(Ice,Ct,H5),V5=(t,e)=>{var r=MA(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Nce=G([Sce,Ct],V5),K5=(t,e)=>{var r=MA(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Uce=G(Tce,Ct,K5),Pce=G(Fce,Uce,Nce,(t,e,r)=>Zp(t,r,e)),$5=G([Lt],d_),f_=(t,e,r,n,i,s,a)=>{var o=zle(e,t.allowDataOverflow);if(o!=null)return o;var A=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",l=A?Zp(r,i,TU(n)):Zp(i,TU(n));return Yle(e,l,t.allowDataOverflow)},kce=G([Lt,$5,Bce,Cce,Pce,Ve,Ct],f_),Qce=[0,1],h_=(t,e,r,n,i,s,a)=>{if(!((t==null||r==null||r.length===0)&&a===void 0)){var{dataKey:o,type:A}=t,l=po(e,s);return l&&o==null?_L(0,r.length):A==="category"?_ce(n,t,l):i==="expand"?Qce:a}},g_=G([Lt,Ve,c_,Zv,Xf,Ct,kce],h_),G5=(t,e,r,n,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Hf(s));return o in rd?o:"point"}}},Vc=G([Lt,Ve,F5,JE,Ct],G5);function Oce(t){if(t!=null){if(t in rd)return rd[t]();var e="scale".concat(Hf(t));if(e in rd)return rd[e]()}}function m_(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=Oce(e);if(i!=null){var s=i.domain(r).range(n);return Sse(s),s}}}var p_=(t,e,r)=>{var n=d_(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Bc(t))return sce(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Bc(t))return ace(t,e.tickCount,e.allowDecimals)}},v_=G([g_,Jf,Vc],p_),y_=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Bc(e)&&Array.isArray(r)&&r.length>0){var i=e[0],s=r[0],a=e[1],o=r[r.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},jce=G([Lt,g_,v_,Ct],y_),Dce=G(Zv,Lt,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(MA(t.map(o=>o.value))).sort((o,A)=>o-A);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),W5=G(Dce,Ve,b5,er,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!Un(t))return 0;var s=e==="vertical"?n.height:n.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=Wr(r,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),Rce=(t,e)=>{var r=Xs(t,e);return r==null||typeof r.padding!="string"?0:W5(t,"xAxis",e,r.padding)},Mce=(t,e)=>{var r=xo(t,e);return r==null||typeof r.padding!="string"?0:W5(t,"yAxis",e,r.padding)},Lce=G(Xs,Rce,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),Hce=G(xo,Mce,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),Vce=G([er,Lce,Rv,Dv,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),Kce=G([er,Ve,Hce,Rv,Dv,(t,e,r)=>r],(t,e,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),eh=(t,e,r,n)=>{var i;switch(e){case"xAxis":return Vce(t,r,n);case"yAxis":return Kce(t,r,n);case"zAxis":return(i=s_(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return _5(t);case"radiusAxis":return I5(t,r);default:return}},z5=G([Lt,eh],Yv),Kc=G([Lt,Vc,jce,z5],m_);G([Zf,ey,Ct],D5);function Y5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var ty=(t,e)=>e,ry=(t,e,r)=>r,$ce=G(vE,ty,ry,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(Y5)),Gce=G(yE,ty,ry,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(Y5)),X5=(t,e)=>({width:t.width,height:e.height}),Wce=(t,e)=>{var r=typeof e.width=="number"?e.width:jv;return{width:r,height:t.height}},q5=G(er,Xs,X5),zce=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},Yce=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},Xce=G(zs,er,$ce,ty,ry,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var A=X5(e,o);a==null&&(a=zce(e,n,t));var l=n==="top"&&!i||n==="bottom"&&i;s[o.id]=a-Number(l)*A.height,a+=(l?-1:1)*A.height}),s}),qce=G(Ws,er,Gce,ty,ry,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var A=Wce(e,o);a==null&&(a=Yce(e,n,t));var l=n==="left"&&!i||n==="right"&&i;s[o.id]=a-Number(l)*A.width,a+=(l?-1:1)*A.width}),s}),Jce=(t,e)=>{var r=er(t),n=Xs(t,e);if(n!=null){var i=Xce(t,n.orientation,n.mirror),s=i[e];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},Zce=(t,e)=>{var r=er(t),n=xo(t,e);if(n!=null){var i=qce(t,n.orientation,n.mirror),s=i[e];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},J5=G(er,xo,(t,e)=>{var r=typeof e.width=="number"?e.width:jv;return{width:r,height:t.height}}),FU=(t,e,r)=>{switch(e){case"xAxis":return q5(t,r).width;case"yAxis":return J5(t,r).height;default:return}},Z5=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,o=po(t,n),A=e.map(l=>l.value);if(a&&o&&s==="category"&&i&&TR(A))return A}},w_=G([Ve,Zv,Lt,Ct],Z5),e3=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=po(t,n);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},x_=G([Ve,Zv,Jf,Ct],e3),NU=G([Ve,vce,Vc,Kc,w_,x_,eh,v_,Ct],(t,e,r,n,i,s,a,o,A)=>{if(e==null)return null;var l=po(t,A);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:A,categoricalDomain:s,duplicateDomain:i,isCategorical:l,niceTicks:o,range:a,realScaleType:r,scale:n}}),eue=(t,e,r,n,i,s,a,o,A)=>{if(!(e==null||n==null)){var l=po(t,A),{type:c,ticks:d,tickCount:f}=e,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=c==="category"&&n.bandwidth?n.bandwidth()/g:0;m=A==="angleAxis"&&s!=null&&s.length>=2?ur(s[0]-s[1])*2*m:m;var p=d||i;if(p){var v=p.map((y,w)=>{var B=a?a.indexOf(y):y;return{index:w,coordinate:n(B)+m,value:y,offset:m}});return v.filter(y=>!Tn(y.coordinate))}return l&&o?o.map((y,w)=>({coordinate:n(y)+m,value:y,index:w,offset:m})):n.ticks?n.ticks(f).map(y=>({coordinate:n(y)+m,value:y,offset:m})):n.domain().map((y,w)=>({coordinate:n(y)+m,value:a?a[y]:y,index:w,offset:m}))}},t3=G([Ve,Jf,Vc,Kc,v_,eh,w_,x_,Ct],eue),tue=(t,e,r,n,i,s,a)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=po(t,a),{tickCount:A}=e,l=0;return l=a==="angleAxis"&&(n==null?void 0:n.length)>=2?ur(n[0]-n[1])*2*l:l,o&&s?s.map((c,d)=>({coordinate:r(c)+l,value:c,index:d,offset:l})):r.ticks?r.ticks(A).map(c=>({coordinate:r(c)+l,value:c,offset:l})):r.domain().map((c,d)=>({coordinate:r(c)+l,value:i?i[c]:c,index:d,offset:l}))}},io=G([Ve,Jf,Kc,eh,w_,x_,Ct],tue),so=G(Lt,Kc,(t,e)=>{if(!(t==null||e==null))return Jp(Jp({},t),{},{scale:e})}),rue=G([Lt,Vc,g_,z5],m_);G((t,e,r)=>s_(t,r),rue,(t,e)=>{if(!(t==null||e==null))return Jp(Jp({},t),{},{scale:e})});var nue=G([Ve,vE,yE],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),r3=t=>t.options.defaultTooltipEventType,n3=t=>t.options.validateTooltipEventTypes;function i3(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function b_(t,e){var r=r3(t),n=n3(t);return i3(e,r,n)}function iue(t){return ye(e=>b_(e,t))}var s3=(t,e)=>{var r,n=Number(e);if(!(Tn(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},sue=t=>t.tooltip.settings,pa={active:!1,index:null,dataKey:void 0,coordinate:void 0},aue={itemInteraction:{click:pa,hover:pa},axisInteraction:{click:pa,hover:pa},keyboardInteraction:pa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},a3=Qn({name:"tooltip",initialState:aue,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=Ss(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:oue,removeTooltipEntrySettings:Aue,setTooltipSettingsState:lue,setActiveMouseOverItemIndex:o3,mouseLeaveItem:cue,mouseLeaveChart:A3,setActiveClickItemIndex:uue,setMouseOverAxisIndex:l3,setMouseClickAxisIndex:due,setSyncInteraction:TB,setKeyboardInteraction:FB}=a3.actions,fue=a3.reducer;function UU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ug(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UU(Object(r),!0).forEach(function(n){hue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hue(t,e,r){return(e=gue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gue(t){var e=mue(t,"string");return typeof e=="symbol"?e:e+""}function mue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pue(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function vue(t){return t.index!=null}var c3=(t,e,r,n)=>{if(e==null)return pa;var i=pue(t,e,r);if(i==null)return pa;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(vue(i)){if(s)return Ug(Ug({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Ug(Ug({},pa),{},{coordinate:i.coordinate})},B_=(t,e)=>{var r=t==null?void 0:t.index;if(r==null)return null;var n=Number(r);if(!Un(n))return r;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(n,s)))},u3=(t,e,r,n,i,s,a,o)=>{if(!(s==null||o==null)){var A=a[0],l=A==null?void 0:o(A.positions,s);if(l!=null)return l;var c=i==null?void 0:i[Number(s)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:c.coordinate}}}},d3=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},th=t=>t.options.tooltipPayloadSearcher,$c=t=>t.tooltip;function PU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PU(Object(r),!0).forEach(function(n){yue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yue(t,e,r){return(e=wue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wue(t){var e=xue(t,"string");return typeof e=="symbol"?e:e+""}function xue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bue(t,e){return t??e}var f3=(t,e,r,n,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:A,dataStartIndex:l,dataEndIndex:c}=r,d=[];return t.reduce((f,g)=>{var m,{dataDefinedOnItem:p,settings:v}=g,y=bue(p,o),w=Array.isArray(y)?qM(y,l,c):y,B=(m=v==null?void 0:v.dataKey)!==null&&m!==void 0?m:n==null?void 0:n.dataKey,I=v==null?void 0:v.nameKey,T;if(n!=null&&n.dataKey&&Array.isArray(w)&&!Array.isArray(w[0])&&a==="axis"?T=FR(w,n.dataKey,i):T=s(w,e,A,I),Array.isArray(T))T.forEach(C=>{var _=kU(kU({},v),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});f.push(bN({tooltipEntrySettings:_,dataKey:C.dataKey,payload:C.payload,value:nt(C.payload,C.dataKey),name:C.name}))});else{var F;f.push(bN({tooltipEntrySettings:v,dataKey:B,payload:T,value:nt(T,B),name:(F=nt(T,I))!==null&&F!==void 0?F:v==null?void 0:v.name}))}return f},d)}},C_=G([nr,Ve,F5,JE,rr],G5),Bue=G([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Cue=G([rr,Lc],a_),rh=G([Bue,nr,Cue],o_),Eue=G([rh],t=>t.filter(qv)),_ue=G([rh],A_),Gc=G([_ue,wo],l_),Iue=G([Eue,wo,nr],T5),E_=G([Gc,nr,rh],u_),Sue=G([nr],d_),Tue=G([rh],t=>t.filter(qv)),Fue=G([Iue,Tue,Xf],Q5),Nue=G([Fue,wo,rr],O5),Uue=G([rh],U5),Pue=G([Gc,nr,Uue,ey,rr],j5),kue=G([R5,rr,Lc],Hc),Que=G([kue,rr],H5),Oue=G([M5,rr,Lc],Hc),jue=G([Oue,rr],V5),Due=G([L5,rr,Lc],Hc),Rue=G([Due,rr],K5),Mue=G([Que,Rue,jue],Zp),Lue=G([nr,Sue,Nue,Pue,Mue,Ve,rr],f_),h3=G([nr,Ve,Gc,E_,Xf,rr,Lue],h_),Hue=G([h3,nr,C_],p_),Vue=G([nr,h3,Hue,rr],y_),g3=t=>{var e=rr(t),r=Lc(t),n=!1;return eh(t,e,r,n)},m3=G([nr,g3],Yv),p3=G([nr,C_,Vue,m3],m_),Kue=G([Ve,E_,nr,rr],Z5),$ue=G([Ve,E_,nr,rr],e3),Gue=(t,e,r,n,i,s,a,o)=>{if(e){var{type:A}=e,l=po(t,o);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=A==="category"&&n.bandwidth?n.bandwidth()/c:0;return d=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ur(i[0]-i[1])*2*d:d,l&&a?a.map((f,g)=>({coordinate:n(f)+d,value:f,index:g,offset:d})):n.domain().map((f,g)=>({coordinate:n(f)+d,value:s?s[f]:f,index:g,offset:d}))}}},qs=G([Ve,nr,C_,p3,g3,Kue,$ue,rr],Gue),__=G([r3,n3,sue],(t,e,r)=>i3(r.shared,t,e)),v3=t=>t.tooltip.settings.trigger,I_=t=>t.tooltip.settings.defaultIndex,ny=G([$c,__,v3,I_],c3),ao=G([ny,Gc],B_),y3=G([qs,ao],s3),w3=G([ny],t=>{if(t)return t.dataKey}),x3=G([$c,__,v3,I_],d3),Wue=G([Ws,zs,Ve,er,qs,I_,x3,th],u3),zue=G([ny,Wue],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Yue=G([ny],t=>t.active),Xue=G([x3,ao,wo,nr,y3,th,__],f3),que=G([Xue],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function QU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QU(Object(r),!0).forEach(function(n){Jue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jue(t,e,r){return(e=Zue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zue(t){var e=ede(t,"string");return typeof e=="symbol"?e:e+""}function ede(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tde=()=>ye(nr),rde=()=>{var t=tde(),e=ye(qs),r=ye(p3);return hf(OU(OU({},t),{},{scale:r}),e)},nde=()=>ye(JE),S_=(t,e)=>e,b3=(t,e,r)=>r,T_=(t,e,r,n)=>n,ide=G(qs,t=>Fv(t,e=>e.coordinate)),F_=G([$c,S_,b3,T_],c3),B3=G([F_,Gc],B_),sde=(t,e,r)=>{if(e!=null){var n=$c(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},C3=G([$c,S_,b3,T_],d3),e0=G([Ws,zs,Ve,er,qs,T_,C3,th],u3),ade=G([F_,e0],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),E3=G(qs,B3,s3),ode=G([C3,B3,wo,nr,E3,th,S_],f3),Ade=G([F_],t=>({isActive:t.active,activeIndex:t.index})),lde=(t,e,r,n,i,s,a,o)=>{if(!(!t||!e||!n||!i||!s)){var A=Rse(t.chartX,t.chartY,e,r,o);if(A){var l=Lse(A,e),c=_se(l,a,s,n,i),d=Mse(e,s,c,A);return{activeIndex:String(c),activeCoordinate:d}}}};function NB(){return NB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NB.apply(null,arguments)}function jU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jU(Object(r),!0).forEach(function(n){cde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cde(t,e,r){return(e=ude(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ude(t){var e=dde(t,"string");return typeof e=="symbol"?e:e+""}function dde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fde(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:o,tooltipEventType:A,chartName:l}=t,c=e,d=r,f=n;if(!o||!c||l!=="ScatterChart"&&A!=="axis")return null;var g,m;if(l==="ScatterChart")g=c,m=Dae;else if(l==="BarChart")g=Rae(a,c,i,s),m=yL;else if(a==="radial"){var{cx:p,cy:v,radius:y,startAngle:w,endAngle:B}=wL(c);g={cx:p,cy:v,startAngle:w,endAngle:B,innerRadius:y,outerRadius:y},m=bL}else g={points:voe(a,c,i)},m=CE;var I=typeof o=="object"&&"className"in o?o.className:void 0,T=Pg(Pg(Pg(Pg({stroke:"#ccc",pointerEvents:"none"},i),g),wt(o,!1)),{},{payload:d,payloadIndex:f,className:Ge("recharts-tooltip-cursor",I)});return x.isValidElement(o)?x.cloneElement(o,T):x.createElement(m,T)}function hde(t){var e=rde(),r=iL(),n=Mv(),i=nde();return x.createElement(fde,NB({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var _3=x.createContext(null),gde=()=>x.useContext(_3),I3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(A,l,c){this.fn=A,this.context=l,this.once=c||!1}function s(A,l,c,d,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new i(c,d||A,f),m=r?r+l:l;return A._events[m]?A._events[m].fn?A._events[m]=[A._events[m],g]:A._events[m].push(g):(A._events[m]=g,A._eventsCount++),A}function a(A,l){--A._eventsCount===0?A._events=new n:delete A._events[l]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],c,d;if(this._eventsCount===0)return l;for(d in c=this._events)e.call(c,d)&&l.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},o.prototype.listeners=function(l){var c=r?r+l:l,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,g=d.length,m=new Array(g);f<g;f++)m[f]=d[f].fn;return m},o.prototype.listenerCount=function(l){var c=r?r+l:l,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(l,c,d,f,g,m){var p=r?r+l:l;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,w,B;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,f),!0;case 5:return v.fn.call(v.context,c,d,f,g),!0;case 6:return v.fn.call(v.context,c,d,f,g,m),!0}for(B=1,w=new Array(y-1);B<y;B++)w[B-1]=arguments[B];v.fn.apply(v.context,w)}else{var I=v.length,T;for(B=0;B<I;B++)switch(v[B].once&&this.removeListener(l,v[B].fn,void 0,!0),y){case 1:v[B].fn.call(v[B].context);break;case 2:v[B].fn.call(v[B].context,c);break;case 3:v[B].fn.call(v[B].context,c,d);break;case 4:v[B].fn.call(v[B].context,c,d,f);break;default:if(!w)for(T=1,w=new Array(y-1);T<y;T++)w[T-1]=arguments[T];v[B].fn.apply(v[B].context,w)}}return!0},o.prototype.on=function(l,c,d){return s(this,l,c,d,!1)},o.prototype.once=function(l,c,d){return s(this,l,c,d,!0)},o.prototype.removeListener=function(l,c,d,f){var g=r?r+l:l;if(!this._events[g])return this;if(!c)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===c&&(!f||m.once)&&(!d||m.context===d)&&a(this,g);else{for(var p=0,v=[],y=m.length;p<y;p++)(m[p].fn!==c||f&&!m[p].once||d&&m[p].context!==d)&&v.push(m[p]);v.length?this._events[g]=v.length===1?v[0]:v:a(this,g)}return this},o.prototype.removeAllListeners=function(l){var c;return l?(c=r?r+l:l,this._events[c]&&a(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(I3);var mde=I3.exports;const pde=zi(mde);var xf=new pde,UB="recharts.syncEvent.tooltip",DU="recharts.syncEvent.brush";function N_(t,e){if(e){var r=Number.parseInt(e,10);if(!Tn(r))return t==null?void 0:t[r]}}var vde={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},S3=Qn({name:"options",initialState:vde,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),yde=S3.reducer,{createEventEmitter:wde}=S3.actions;function xde(t){return t.tooltip.syncInteraction}var bde={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},T3=Qn({name:"chartData",initialState:bde,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:RU,setDataStartEndIndexes:Bde,setComputedData:zve}=T3.actions,Cde=T3.reducer,F3=()=>{};function Ede(){var t=ye(ZE),e=ye(e_),r=Tt(),n=ye(B5),i=ye(qs),s=Mv(),a=wE(),o=ye(A=>A.rootProps.className);x.useEffect(()=>{if(t==null)return F3;var A=(l,c,d)=>{if(e!==d&&t===l){if(n==="index"){r(c);return}if(i!=null){var f;if(typeof n=="function"){var g={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},m=n(i,g);f=i[m]}else n==="value"&&(f=i.find(F=>String(F.value)===c.payload.label));var{coordinate:p}=c.payload;if(f==null||c.payload.active===!1||p==null||a==null){r(TB({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:v,y}=p,w=Math.min(v,a.x+a.width),B=Math.min(y,a.y+a.height),I={x:s==="horizontal"?f.coordinate:w,y:s==="horizontal"?B:f.coordinate},T=TB({active:c.payload.active,coordinate:I,dataKey:c.payload.dataKey,index:String(f.index),label:c.payload.label});r(T)}}};return xf.on(UB,A),()=>{xf.off(UB,A)}},[o,r,e,t,n,i,s,a])}function _de(){var t=ye(ZE),e=ye(e_),r=Tt();x.useEffect(()=>{if(t==null)return F3;var n=(i,s,a)=>{e!==a&&t===i&&r(Bde(s))};return xf.on(DU,n),()=>{xf.off(DU,n)}},[r,e,t])}function Ide(){var t=Tt();x.useEffect(()=>{t(wde())},[t]),Ede(),_de()}function Sde(t,e,r,n,i,s){var a=ye(f=>sde(f,t,e)),o=ye(e_),A=ye(ZE),l=ye(B5),c=ye(xde),d=c==null?void 0:c.active;x.useEffect(()=>{if(!d&&A!=null&&o!=null){var f=TB({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});xf.emit(UB,A,f,o)}},[d,r,a,i,n,o,A,l,s])}function MU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MU(Object(r),!0).forEach(function(n){Tde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tde(t,e,r){return(e=Fde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fde(t){var e=Nde(t,"string");return typeof e=="symbol"?e:e+""}function Nde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ude(t){return t.dataKey}function Pde(t,e){return x.isValidElement(t)?x.cloneElement(t,e):typeof t=="function"?x.createElement(t,e):x.createElement(mae,e)}var HU=[],kde={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!jA.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function _a(t){var e=On(t,kde),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:o,isAnimationActive:A,offset:l,payloadUniqBy:c,position:d,reverseDirection:f,useTranslate3d:g,wrapperStyle:m,cursor:p,shared:v,trigger:y,defaultIndex:w,portal:B,axisId:I}=e,T=Tt(),F=typeof w=="number"?String(w):w;x.useEffect(()=>{T(lue({shared:v,trigger:y,axisId:I,active:r,defaultIndex:F}))},[T,v,y,I,r,F]);var C=wE(),_=AL(),S=iue(v),{activeIndex:U,isActive:k}=ye(j=>Ade(j,S,y,F)),Q=ye(j=>ode(j,S,y,F)),P=ye(j=>E3(j,S,y,F)),ae=ye(j=>ade(j,S,y,F)),xe=Q,me=gde(),pe=r??k,[q,ie]=EM([xe,pe]),ce=S==="axis"?P:void 0;Sde(S,y,ae,ce,U,pe);var Se=B??me;if(Se==null)return null;var ne=xe??HU;pe||(ne=HU),o&&ne.length&&(ne=fM(xe.filter(j=>j.value!=null&&(j.hide!==!0||e.includeHidden)),c,Ude));var Ne=ne.length>0,ze=x.createElement(Bae,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:A,active:pe,coordinate:ae,hasPayload:Ne,offset:l,position:d,reverseDirection:f,useTranslate3d:g,viewBox:C,wrapperStyle:m,lastBoundingBox:q,innerRef:ie,hasPortalFromProps:!!B},Pde(a,LU(LU({},e),{},{payload:ne,label:ce,active:pe,coordinate:ae,accessibilityLayer:_})));return x.createElement(x.Fragment,null,jC.createPortal(ze,Se),pe&&x.createElement(hde,{cursor:p,tooltipEventType:S,coordinate:ae,payload:xe,index:U}))}var N3={},U3={},P3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:s}={}){let a,o=null;const A=s!=null&&s.includes("leading"),l=s==null||s.includes("trailing"),c=()=>{o!==null&&(r.apply(a,o),a=void 0,o=null)},d=()=>{l&&c(),p()};let f=null;const g=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,d()},n)},m=()=>{f!==null&&(clearTimeout(f),f=null)},p=()=>{m(),a=void 0,o=null},v=()=>{c()},y=function(...w){if(i!=null&&i.aborted)return;a=this,o=w;const B=f==null;g(),A&&B&&c()};return y.schedule=g,y.cancel=p,y.flush=v,i==null||i.addEventListener("abort",p,{once:!0}),y}t.debounce=e})(P3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P3;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:A}=s,l=Array(2);a&&(l[0]="leading"),o&&(l[1]="trailing");let c,d=null;const f=e.debounce(function(...p){c=n.apply(this,p),d=null},i,{edges:l}),g=function(...p){return A!=null&&(d===null&&(d=Date.now()),Date.now()-d>=A)?(c=n.apply(this,p),d=Date.now(),f.cancel(),f.schedule(),c):(f.apply(this,p),c)},m=()=>(f.flush(),c);return g.cancel=f.cancel,g.flush=m,g}t.debounce=r})(U3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U3;function r(n,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(n,i,{leading:a,maxWait:i,trailing:o})}t.throttle=r})(N3);var Qde=N3.throttle;const Ode=zi(Qde);var Id=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function VU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VU(Object(r),!0).forEach(function(n){jde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jde(t,e,r){return(e=Dde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dde(t){var e=Rde(t,"string");return typeof e=="symbol"?e:e+""}function Rde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cs=x.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:o,maxHeight:A,children:l,debounce:c=0,id:d,className:f,onResize:g,style:m={}}=t,p=x.useRef(null),v=x.useRef();v.current=g,x.useImperativeHandle(e,()=>p.current);var[y,w]=x.useState({containerWidth:n.width,containerHeight:n.height}),B=x.useCallback((T,F)=>{w(C=>{var _=Math.round(T),S=Math.round(F);return C.containerWidth===_&&C.containerHeight===S?C:{containerWidth:_,containerHeight:S}})},[]);x.useEffect(()=>{var T=S=>{var U,{width:k,height:Q}=S[0].contentRect;B(k,Q),(U=v.current)===null||U===void 0||U.call(v,k,Q)};c>0&&(T=Ode(T,c,{trailing:!0,leading:!1}));var F=new ResizeObserver(T),{width:C,height:_}=p.current.getBoundingClientRect();return B(C,_),F.observe(p.current),()=>{F.disconnect()}},[B,c]);var I=x.useMemo(()=>{var{containerWidth:T,containerHeight:F}=y;if(T<0||F<0)return null;Id(Yo(i)||Yo(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),Id(!r||r>0,"The aspect(%s) must be greater than zero.",r);var C=Yo(i)?T:i,_=Yo(s)?F:s;return r&&r>0&&(C?_=C/r:_&&(C=_*r),A&&_>A&&(_=A)),Id(C>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,_,i,s,a,o,r),x.Children.map(l,S=>x.cloneElement(S,{width:C,height:_,style:Kw({width:C,height:_},S.props.style)}))},[r,l,s,A,o,a,y,i]);return x.createElement("div",{id:d?"".concat(d):void 0,className:Ge("recharts-responsive-container",f),style:Kw(Kw({},m),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:A}),ref:p},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},I))}),Wc=t=>null;Wc.displayName="Cell";function Mde(t,e,r){return(e=Lde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lde(t){var e=Hde(t,"string");return typeof e=="symbol"?e:e+""}function Hde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Vde{constructor(e){Mde(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function KU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KU(Object(r),!0).forEach(function(n){$de(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $de(t,e,r){return(e=Gde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gde(t){var e=Wde(t,"string");return typeof e=="symbol"?e:e+""}function Wde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zde={cacheSize:2e3,enableCache:!0},k3=Kde({},zde),$U=new Vde(k3.cacheSize),Yde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},GU="recharts_measurement_span";function Xde(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var WU=(t,e)=>{try{var r=document.getElementById(GU);r||(r=document.createElement("span"),r.setAttribute("id",GU),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Yde,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Sd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||jA.isSsr)return{width:0,height:0};if(!k3.enableCache)return WU(e,r);var n=Xde(e,r),i=$U.get(n);if(i)return i;var s=WU(e,r);return $U.set(n,s),s},zU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Q3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Zde=Object.keys(Q3),Ul="NaN";function efe(t,e){return t*Q3[e]}class qr{static parse(e){var r,[,n,i]=(r=Jde.exec(e))!==null&&r!==void 0?r:[];return new qr(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,Tn(e)&&(this.unit=""),r!==""&&!qde.test(r)&&(this.num=NaN,this.unit=""),Zde.includes(r)&&(this.num=efe(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new qr(NaN,""):new qr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new qr(NaN,""):new qr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new qr(NaN,""):new qr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new qr(NaN,""):new qr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Tn(this.num)}}function O3(t){if(t.includes(Ul))return Ul;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,s]=(r=zU.exec(e))!==null&&r!==void 0?r:[],a=qr.parse(n??""),o=qr.parse(s??""),A=i==="*"?a.multiply(o):a.divide(o);if(A.isNaN())return Ul;e=e.replace(zU,A.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var l,[,c,d,f]=(l=YU.exec(e))!==null&&l!==void 0?l:[],g=qr.parse(c??""),m=qr.parse(f??""),p=d==="+"?g.add(m):g.subtract(m);if(p.isNaN())return Ul;e=e.replace(YU,p.toString())}return e}var XU=/\(([^()]*)\)/;function tfe(t){for(var e=t,r;(r=XU.exec(e))!=null;){var[,n]=r;e=e.replace(XU,O3(n))}return e}function rfe(t){var e=t.replace(/\s+/g,"");return e=tfe(e),e=O3(e),e}function nfe(t){try{return rfe(t)}catch{return Ul}}function $w(t){var e=nfe(t.slice(5,-1));return e===Ul?"":e}var ife=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],sfe=["dx","dy","angle","className","breakAll"];function PB(){return PB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PB.apply(null,arguments)}function qU(t,e){if(t==null)return{};var r,n,i=afe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function afe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var j3=/[ \f\n\r\t\v\u2028\u2029]+/,D3=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];ht(e)||(r?i=e.toString().split(""):i=e.toString().split(j3));var s=i.map(o=>({word:o,width:Sd(o,n).width})),a=r?0:Sd(" ",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},ofe=(t,e,r,n,i)=>{var{maxLines:s,children:a,style:o,breakAll:A}=t,l=de(s),c=a,d=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return k.reduce((Q,P)=>{var{word:ae,width:xe}=P,me=Q[Q.length-1];if(me&&(n==null||i||me.width+xe+r<Number(n)))me.words.push(ae),me.width+=xe+r;else{var pe={words:[ae],width:xe};Q.push(pe)}return Q},[])},f=d(e),g=U=>U.reduce((k,Q)=>k.width>Q.width?k:Q);if(!l||i)return f;var m=f.length>s||g(f).width>Number(n);if(!m)return f;for(var p="…",v=U=>{var k=c.slice(0,U),Q=D3({breakAll:A,style:o,children:k+p}).wordsWithComputedWidth,P=d(Q),ae=P.length>s||g(P).width>Number(n);return[ae,P]},y=0,w=c.length-1,B=0,I;y<=w&&B<=c.length-1;){var T=Math.floor((y+w)/2),F=T-1,[C,_]=v(F),[S]=v(T);if(!C&&!S&&(y=T+1),C&&S&&(w=T-1),!C&&S){I=_;break}B++}return I||f},JU=t=>{var e=ht(t)?[]:t.toString().split(j3);return[{words:e}]},Afe=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=t;if((e||r)&&!jA.isSsr){var o,A,l=D3({breakAll:s,children:n,style:i});if(l){var{wordsWithComputedWidth:c,spaceWidth:d}=l;o=c,A=d}else return JU(n);return ofe({breakAll:s,children:n,maxLines:a,style:i},o,A,e,r)}return JU(n)},ZU="#808080",iy=x.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:A="end",fill:l=ZU}=t,c=qU(t,ife),d=x.useMemo(()=>Afe({breakAll:c.breakAll,children:c.children,maxLines:c.maxLines,scaleToFit:a,style:c.style,width:c.width}),[c.breakAll,c.children,c.maxLines,a,c.style,c.width]),{dx:f,dy:g,angle:m,className:p,breakAll:v}=c,y=qU(c,sfe);if(!Gi(r)||!Gi(n))return null;var w=r+(de(f)?f:0),B=n+(de(g)?g:0),I;switch(A){case"start":I=$w("calc(".concat(s,")"));break;case"middle":I=$w("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:I=$w("calc(".concat(d.length-1," * -").concat(i,")"));break}var T=[];if(a){var F=d[0].width,{width:C}=c;T.push("scale(".concat(de(C)?C/F:1,")"))}return m&&T.push("rotate(".concat(m,", ").concat(w,", ").concat(B,")")),T.length&&(y.transform=T.join(" ")),x.createElement("text",PB({},wt(y,!0),{ref:e,x:w,y:B,className:Ge("recharts-text",p),textAnchor:o,fill:l.includes("url")?ZU:l}),d.map((_,S)=>{var U=_.words.join(v?"":" ");return x.createElement("tspan",{x:w,dy:S===0?I:i,key:"".concat(U,"-").concat(S)},U)}))});iy.displayName="Text";var lfe=["offset"],cfe=["labelRef"];function eP(t,e){if(t==null)return{};var r,n,i=ufe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ufe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function tP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(r),!0).forEach(function(n){dfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dfe(t,e,r){return(e=ffe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ffe(t){var e=hfe(t,"string");return typeof e=="symbol"?e:e+""}function hfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fs(){return fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fs.apply(null,arguments)}var gfe=t=>{var{value:e,formatter:r}=t,n=ht(t.children)?e:t.children;return typeof r=="function"?r(n):n},U_=t=>t!=null&&typeof t=="function",mfe=(t,e)=>{var r=ur(e-t),n=Math.min(Math.abs(e-t),360);return r*n},pfe=(t,e,r,n)=>{var{position:i,offset:s,className:a}=t,{cx:o,cy:A,innerRadius:l,outerRadius:c,startAngle:d,endAngle:f,clockWise:g}=n,m=(l+c)/2,p=mfe(d,f),v=p>=0?1:-1,y,w;i==="insideStart"?(y=d+v*s,w=g):i==="insideEnd"?(y=f-v*s,w=!g):i==="end"&&(y=f+v*s,w=g),w=p<=0?w:!w;var B=Gt(o,A,m,y),I=Gt(o,A,m,y+(w?1:-1)*359),T="M".concat(B.x,",").concat(B.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(w?0:1,`,
    `).concat(I.x,",").concat(I.y),F=ht(t.id)?uf("recharts-radial-line-"):t.id;return x.createElement("text",fs({},r,{dominantBaseline:"central",className:Ge("recharts-radial-bar-label",a)}),x.createElement("defs",null,x.createElement("path",{id:F,d:T})),x.createElement("textPath",{xlinkHref:"#".concat(F)},e))},vfe=(t,e,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:A}=t,l=(o+A)/2;if(r==="outside"){var{x:c,y:d}=Gt(n,i,a+e,l);return{x:c,y:d,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(s+a)/2,{x:g,y:m}=Gt(n,i,f,l);return{x:g,y:m,textAnchor:"middle",verticalAnchor:"middle"}},yfe=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,{x:s,y:a,width:o,height:A}=e,l=A>=0?1:-1,c=l*n,d=l>0?"end":"start",f=l>0?"start":"end",g=o>=0?1:-1,m=g*n,p=g>0?"end":"start",v=g>0?"start":"end";if(i==="top"){var y={x:s+o/2,y:a-l*n,textAnchor:"middle",verticalAnchor:d};return Nt(Nt({},y),r?{height:Math.max(a-r.y,0),width:o}:{})}if(i==="bottom"){var w={x:s+o/2,y:a+A+c,textAnchor:"middle",verticalAnchor:f};return Nt(Nt({},w),r?{height:Math.max(r.y+r.height-(a+A),0),width:o}:{})}if(i==="left"){var B={x:s-m,y:a+A/2,textAnchor:p,verticalAnchor:"middle"};return Nt(Nt({},B),r?{width:Math.max(B.x-r.x,0),height:A}:{})}if(i==="right"){var I={x:s+o+m,y:a+A/2,textAnchor:v,verticalAnchor:"middle"};return Nt(Nt({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:A}:{})}var T=r?{width:o,height:A}:{};return i==="insideLeft"?Nt({x:s+m,y:a+A/2,textAnchor:v,verticalAnchor:"middle"},T):i==="insideRight"?Nt({x:s+o-m,y:a+A/2,textAnchor:p,verticalAnchor:"middle"},T):i==="insideTop"?Nt({x:s+o/2,y:a+c,textAnchor:"middle",verticalAnchor:f},T):i==="insideBottom"?Nt({x:s+o/2,y:a+A-c,textAnchor:"middle",verticalAnchor:d},T):i==="insideTopLeft"?Nt({x:s+m,y:a+c,textAnchor:v,verticalAnchor:f},T):i==="insideTopRight"?Nt({x:s+o-m,y:a+c,textAnchor:p,verticalAnchor:f},T):i==="insideBottomLeft"?Nt({x:s+m,y:a+A-c,textAnchor:v,verticalAnchor:d},T):i==="insideBottomRight"?Nt({x:s+o-m,y:a+A-c,textAnchor:p,verticalAnchor:d},T):i&&typeof i=="object"&&(de(i.x)||Yo(i.x))&&(de(i.y)||Yo(i.y))?Nt({x:s+Wr(i.x,o),y:a+Wr(i.y,A),textAnchor:"end",verticalAnchor:"end"},T):Nt({x:s+o/2,y:a+A/2,textAnchor:"middle",verticalAnchor:"middle"},T)},wfe=t=>"cx"in t&&de(t.cx);function wn(t){var{offset:e=5}=t,r=eP(t,lfe),n=Nt({offset:e},r),{viewBox:i,position:s,value:a,children:o,content:A,className:l="",textBreakAll:c,labelRef:d}=n,f=ye(S5),g=wE(),m=s==="center"?g:f??g,p=i||m;if(!p||ht(a)&&ht(o)&&!x.isValidElement(A)&&typeof A!="function")return null;var v=Nt(Nt({},n),{},{viewBox:p});if(x.isValidElement(A)){var y=eP(v,cfe);return x.cloneElement(A,y)}var w;if(typeof A=="function"){if(w=x.createElement(A,v),x.isValidElement(w))return w}else w=gfe(n);var B=wfe(p),I=wt(n,!0);if(B&&(s==="insideStart"||s==="insideEnd"||s==="end"))return pfe(n,w,I,p);var T=B?vfe(p,n.offset,n.position):yfe(n,p);return x.createElement(iy,fs({ref:d,className:Ge("recharts-label",l)},I,T,{breakAll:c}),w)}wn.displayName="Label";var R3=t=>{var{cx:e,cy:r,angle:n,startAngle:i,endAngle:s,r:a,radius:o,innerRadius:A,outerRadius:l,x:c,y:d,top:f,left:g,width:m,height:p,clockWise:v,labelViewBox:y}=t;if(y)return y;if(de(m)&&de(p)){if(de(c)&&de(d))return{x:c,y:d,width:m,height:p};if(de(f)&&de(g))return{x:f,y:g,width:m,height:p}}if(de(c)&&de(d))return{x:c,y:d,width:0,height:0};if(de(e)&&de(r))return{cx:e,cy:r,startAngle:i||n||0,endAngle:s||n||0,innerRadius:A||0,outerRadius:l||o||a||0,clockWise:v};if(t.viewBox)return t.viewBox},xfe=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?x.createElement(wn,fs({key:"label-implicit"},n)):Gi(t)?x.createElement(wn,fs({key:"label-implicit",value:t},n)):x.isValidElement(t)?t.type===wn?x.cloneElement(t,Nt({key:"label-implicit"},n)):x.createElement(wn,fs({key:"label-implicit",content:t},n)):U_(t)?x.createElement(wn,fs({key:"label-implicit",content:t},n)):t&&typeof t=="object"?x.createElement(wn,fs({},t,{key:"label-implicit"},n)):null},bfe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:i,labelRef:s}=e,a=R3(e),o=Kf(i,wn).map((l,c)=>x.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)}));if(!n)return o;var A=xfe(e.label,r||a,s);return[A,...o]};wn.parseViewBox=R3;wn.renderCallByParent=bfe;var M3={},L3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(L3);var H3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(H3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L3,r=H3,n=Ev;function i(s){if(n.isArrayLike(s))return e.last(r.toArray(s))}t.last=i})(M3);var Bfe=M3.last;const Cfe=zi(Bfe);var Efe=["valueAccessor"],_fe=["data","dataKey","clockWise","id","textBreakAll"];function t0(){return t0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t0.apply(null,arguments)}function rP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(r),!0).forEach(function(n){Ife(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ife(t,e,r){return(e=Sfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sfe(t){var e=Tfe(t,"string");return typeof e=="symbol"?e:e+""}function Tfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iP(t,e){if(t==null)return{};var r,n,i=Ffe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ffe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Nfe=t=>Array.isArray(t.value)?Cfe(t.value):t.value;function Ka(t){var{valueAccessor:e=Nfe}=t,r=iP(t,Efe),{data:n,dataKey:i,clockWise:s,id:a,textBreakAll:o}=r,A=iP(r,_fe);return!n||!n.length?null:x.createElement(jr,{className:"recharts-label-list"},n.map((l,c)=>{var d=ht(i)?e(l,c):nt(l&&l.payload,i),f=ht(a)?{}:{id:"".concat(a,"-").concat(c)};return x.createElement(wn,t0({},wt(l,!0),A,f,{parentViewBox:l.parentViewBox,value:d,textBreakAll:o,viewBox:wn.parseViewBox(ht(s)?l:nP(nP({},l),{},{clockWise:s})),key:"label-".concat(c),index:c}))}))}Ka.displayName="LabelList";function Ufe(t,e){return t?t===!0?x.createElement(Ka,{key:"labelList-implicit",data:e}):x.isValidElement(t)||U_(t)?x.createElement(Ka,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?x.createElement(Ka,t0({data:e},t,{key:"labelList-implicit"})):null:null}function Pfe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:n}=t,i=Kf(n,Ka).map((a,o)=>x.cloneElement(a,{data:e,key:"labelList-".concat(o)}));if(!r)return i;var s=Ufe(t.label,e);return[s,...i]}Ka.renderCallByParent=Pfe;function kB(){return kB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kB.apply(null,arguments)}var V3=t=>{var{cx:e,cy:r,r:n,className:i}=t,s=Ge("recharts-dot",i);return e===+e&&r===+r&&n===+n?x.createElement("circle",kB({},Gs(t),Y1(t),{className:s,cx:e,cy:r,r:n})):null},K3=t=>t.graphicalItems.polarItems,kfe=G([Ct,qf],a_),P_=G([K3,Lt,kfe],o_),Qfe=G([P_],A_),k_=G([Qfe,YE],l_),Ofe=G([k_,Lt,P_],u_),jfe=G([k_,Lt,P_],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var s,a=nt(n,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:nt(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),sP=()=>{},Dfe=G([Lt,$5,sP,jfe,sP,Ve,Ct],f_),$3=G([Lt,Ve,k_,Ofe,Xf,Ct,Dfe],h_),Rfe=G([$3,Lt,Vc],p_),Yve=G([Lt,$3,Rfe,Ct],y_),Mfe={radiusAxis:{},angleAxis:{}},G3=Qn({name:"polarAxis",initialState:Mfe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Xve,removeRadiusAxis:qve,addAngleAxis:Jve,removeAngleAxis:Zve}=G3.actions,Lfe=G3.reducer;function aP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(r),!0).forEach(function(n){Hfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hfe(t,e,r){return(e=Vfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vfe(t){var e=Kfe(t,"string");return typeof e=="symbol"?e:e+""}function Kfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $fe=(t,e)=>e,Q_=G([K3,$fe],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),Gfe=[],O_=(t,e,r)=>(r==null?void 0:r.length)===0?Gfe:r,W3=G([YE,Q_,O_],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>oP(oP({},e.presentationProps),s.props))),i!=null)return i}}),Wfe=G([W3,Q_,O_],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var s,a=nt(n,e.nameKey,e.name),o;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=e.fill,{value:jc(a,e.dataKey),color:o,payload:n,type:e.legendType}})}),zfe=G([W3,Q_,O_,er],(t,e,r,n)=>{if(!(e==null||t==null))return Rhe({offset:n,pieSettings:e,displayedData:t,cells:r})}),z3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(z3);var Yfe=z3.isPlainObject;const Xfe=zi(Yfe);function r0(){return r0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r0.apply(null,arguments)}var AP=(t,e,r,n,i)=>{var s=r-n,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+r,",").concat(e),a+="L ".concat(t+r-s/2,",").concat(e+i),a+="L ".concat(t+r-s/2-n,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},qfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jfe=t=>{var e=On(t,qfe),r=x.useRef(),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&i(v)}catch{}},[]);var{x:s,y:a,upperWidth:o,lowerWidth:A,height:l,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:g,isUpdateAnimationActive:m}=e;if(s!==+s||a!==+a||o!==+o||A!==+A||l!==+l||o===0&&A===0||l===0)return null;var p=Ge("recharts-trapezoid",c);return m?x.createElement(Mp,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:l,x:s,y:a},to:{upperWidth:o,lowerWidth:A,height:l,x:s,y:a},duration:f,animationEasing:d,isActive:m},v=>{var{upperWidth:y,lowerWidth:w,height:B,x:I,y:T}=v;return x.createElement(Mp,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,easing:d},x.createElement("path",r0({},wt(e,!0),{className:p,d:AP(I,T,y,w,B),ref:r})))}):x.createElement("g",null,x.createElement("path",r0({},wt(e,!0),{className:p,d:AP(s,a,o,A,l)})))},Zfe=["option","shapeType","propTransformer","activeClassName","isActive"];function ehe(t,e){if(t==null)return{};var r,n,i=the(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function the(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function lP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function n0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(r),!0).forEach(function(n){rhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rhe(t,e,r){return(e=nhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nhe(t){var e=ihe(t,"string");return typeof e=="symbol"?e:e+""}function ihe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function she(t,e){return n0(n0({},e),t)}function ahe(t,e){return t==="symbols"}function cP(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return x.createElement(yL,r);case"trapezoid":return x.createElement(Jfe,r);case"sector":return x.createElement(bL,r);case"symbols":if(ahe(e))return x.createElement(eE,r);break;default:return null}}function ohe(t){return x.isValidElement(t)?t.props:t}function Y3(t){var{option:e,shapeType:r,propTransformer:n=she,activeClassName:i="recharts-active-shape",isActive:s}=t,a=ehe(t,Zfe),o;if(x.isValidElement(e))o=x.cloneElement(e,n0(n0({},a),ohe(e)));else if(typeof e=="function")o=e(a);else if(Xfe(e)&&typeof e!="boolean"){var A=n(e,a);o=x.createElement(cP,{shapeType:r,elementProps:A})}else{var l=a;o=x.createElement(cP,{shapeType:r,elementProps:l})}return s?x.createElement(jr,{className:i},o):o}var j_=(t,e)=>{var r=Tt();return(n,i)=>s=>{t==null||t(n,i,s),r(o3({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},D_=t=>{var e=Tt();return(r,n)=>i=>{t==null||t(r,n,i),e(cue())}},R_=(t,e)=>{var r=Tt();return(n,i)=>s=>{t==null||t(n,i,s),r(uue({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function M_(t){var{fn:e,args:r}=t,n=Tt(),i=ln();return x.useEffect(()=>{if(!i){var s=e(r);return n(oue(s)),()=>{n(Aue(s))}}},[e,r,n,i]),null}var X3=()=>{};function q3(t){var{legendPayload:e}=t,r=Tt(),n=ln();return x.useEffect(()=>n?X3:(r(aL(e)),()=>{r(oL(e))}),[r,n,e]),null}function Ahe(t){var{legendPayload:e}=t,r=Tt(),n=ye(Ve);return x.useEffect(()=>n!=="centric"&&n!=="radial"?X3:(r(aL(e)),()=>{r(oL(e))}),[r,n,e]),null}function L_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(uf(e)),n=x.useRef(t);return n.current!==t&&(r.current=uf(e),n.current=t),r.current}var Gw,lhe=()=>{var[t]=x.useState(()=>uf("uid-"));return t},che=(Gw=KP.useId)!==null&&Gw!==void 0?Gw:lhe;function uhe(t,e){var r=che();return e||(t?"".concat(t,"-").concat(r):r)}var dhe=x.createContext(void 0),H_=t=>{var{id:e,type:r,children:n}=t,i=uhe("recharts-".concat(r),e);return x.createElement(dhe.Provider,{value:i},n(i))},fhe={cartesianItems:[],polarItems:[]},J3=Qn({name:"graphicalItems",initialState:fhe,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=Ss(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=Ss(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=Ss(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:hhe,replaceCartesianGraphicalItem:ghe,removeCartesianGraphicalItem:mhe,addPolarGraphicalItem:phe,removePolarGraphicalItem:vhe}=J3.actions,yhe=J3.reducer;function Z3(t){var e=Tt(),r=x.useRef(null);return x.useEffect(()=>{r.current===null?e(hhe(t)):r.current!==t&&e(ghe({prev:r.current,next:t})),r.current=t},[e,t]),x.useEffect(()=>()=>{r.current&&(e(mhe(r.current)),r.current=null)},[e]),null}function whe(t){var e=Tt();return x.useEffect(()=>(e(phe(t)),()=>{e(vhe(t))}),[e,t]),null}function xhe(){}var bhe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},uP={t:0},Ww={t:1};function V_(t){var e=On(t,bhe),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:A,children:l}=e,c=vL("JavascriptAnimate",e.animationManager),[d,f]=x.useState(r?uP:Ww),g=x.useRef(null);return x.useEffect(()=>{r||f(Ww)},[r]),x.useEffect(()=>{if(!r||!n)return xhe;var m=pL(uP,Ww,gL(s),i,f,c.getTimeoutController()),p=()=>{g.current=m()};return c.start([A,a,p,i,o]),()=>{c.stop(),g.current&&g.current(),o()}},[r,n,i,s,a,A,o,c]),l(d.t)}var Bhe=["onMouseEnter","onClick","onMouseLeave"],Che=["id"],Ehe=["id"];function K_(t,e){if(t==null)return{};var r,n,i=_he(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function _he(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function dP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(r),!0).forEach(function(n){Ihe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ihe(t,e,r){return(e=She(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function She(t){var e=The(t,"string");return typeof e=="symbol"?e:e+""}function The(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hs(){return Hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hs.apply(null,arguments)}function Fhe(t){var e=x.useMemo(()=>Kf(t.children,Wc),[t.children]),r=ye(n=>Wfe(n,t.id,e));return r==null?null:x.createElement(Ahe,{legendPayload:r})}function Nhe(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:o,hide:A,tooltipType:l}=t;return{dataDefinedOnItem:n==null?void 0:n.map(c=>c.tooltipPayload),positions:n==null?void 0:n.map(c=>c.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:r,name:jc(o,e),hide:A,type:l,color:a,unit:""}}}var Uhe=(t,e)=>t>e?"start":t<e?"end":"middle",Phe=(t,e,r)=>typeof e=="function"?e(t):Wr(e,r,r*.8),khe=(t,e,r)=>{var{top:n,left:i,width:s,height:a}=e,o=XM(s,a),A=i+Wr(t.cx,s,s/2),l=n+Wr(t.cy,a,a/2),c=Wr(t.innerRadius,o,0),d=Phe(r,t.outerRadius,o),f=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:A,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}},Qhe=(t,e)=>{var r=ur(e-t),n=Math.min(Math.abs(e-t),360);return r*n},Ohe=(t,e)=>{if(x.isValidElement(t))return x.cloneElement(t,e);if(typeof t=="function")return t(e);var r=Ge("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return x.createElement(CE,Hs({},e,{type:"linear",className:r}))},jhe=(t,e,r)=>{if(x.isValidElement(t))return x.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),x.isValidElement(n)))return n;var i=Ge("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return x.createElement(iy,Hs({},e,{alignmentBaseline:"middle",className:i}),n)};function Dhe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!e)return null;var o=Gs(r),A=wt(i,!1),l=wt(s,!1),c=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,d=e.map((f,g)=>{var m=(f.startAngle+f.endAngle)/2,p=Gt(f.cx,f.cy,f.outerRadius+c,m),v=kt(kt(kt(kt({},o),f),{},{stroke:"none"},A),{},{index:g,textAnchor:Uhe(p.x,f.cx)},p),y=kt(kt(kt(kt({},o),f),{},{fill:"none",stroke:f.fill},l),{},{index:g,points:[Gt(f.cx,f.cy,f.outerRadius,m),p],key:"line"});return x.createElement(jr,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(g)},s&&Ohe(s,y),jhe(i,v,nt(f,a)))});return x.createElement(jr,{className:"recharts-pie-labels"},d)}function eH(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:s}=t,a=ye(ao),{onMouseEnter:o,onClick:A,onMouseLeave:l}=i,c=K_(i,Bhe),d=j_(o,i.dataKey),f=D_(l),g=R_(A,i.dataKey);return e==null?null:x.createElement(x.Fragment,null,e.map((m,p)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&e.length!==1)return null;var v=r&&String(p)===a,y=a?n:null,w=v?r:y,B=kt(kt({},m),{},{stroke:m.stroke,tabIndex:-1,[tL]:p,[rL]:i.dataKey});return x.createElement(jr,Hs({tabIndex:-1,className:"recharts-pie-sector"},Vf(c,m,p),{onMouseEnter:d(m,p),onMouseLeave:f(m,p),onClick:g(m,p),key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(p)}),x.createElement(Y3,Hs({option:w,isActive:v,shapeType:"sector"},B)))}),x.createElement(Dhe,{sectors:e,props:i,showLabels:s}))}function Rhe(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:s}=t,{cornerRadius:a,startAngle:o,endAngle:A,dataKey:l,nameKey:c,tooltipType:d}=r,f=Math.abs(r.minAngle),g=Qhe(o,A),m=Math.abs(g),p=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,v=n.filter(F=>nt(F,l,0)!==0).length,y=(m>=360?v:v-1)*p,w=m-v*f-y,B=n.reduce((F,C)=>{var _=nt(C,l,0);return F+(de(_)?_:0)},0),I;if(B>0){var T;I=n.map((F,C)=>{var _=nt(F,l,0),S=nt(F,c,C),U=khe(r,s,F),k=(de(_)?_:0)/B,Q,P=kt(kt({},F),i&&i[C]&&i[C].props);C?Q=T.endAngle+ur(g)*p*(_!==0?1:0):Q=o;var ae=Q+ur(g)*((_!==0?f:0)+k*w),xe=(Q+ae)/2,me=(U.innerRadius+U.outerRadius)/2,pe=[{name:S,value:_,payload:P,dataKey:l,type:d}],q=Gt(U.cx,U.cy,me,xe);return T=kt(kt(kt(kt({},r.presentationProps),{},{percent:k,cornerRadius:a,name:S,tooltipPayload:pe,midAngle:xe,middleRadius:me,tooltipPosition:q},P),U),{},{value:nt(F,l),startAngle:Q,endAngle:ae,payload:P,paddingAngle:ur(g)*p}),T})}return I}function Mhe(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:o,activeShape:A,inactiveShape:l,onAnimationStart:c,onAnimationEnd:d}=e,f=L_(e,"recharts-pie-"),g=r.current,[m,p]=x.useState(!0),v=x.useCallback(()=>{typeof d=="function"&&d(),p(!1)},[d]),y=x.useCallback(()=>{typeof c=="function"&&c(),p(!0)},[c]);return x.createElement(V_,{begin:s,duration:a,isActive:i,easing:o,onAnimationStart:y,onAnimationEnd:v,key:f},w=>{var B=[],I=n&&n[0],T=I.startAngle;return n.forEach((F,C)=>{var _=g&&g[C],S=C>0?no(F,"paddingAngle",0):0;if(_){var U=LF(_.endAngle-_.startAngle,F.endAngle-F.startAngle),k=kt(kt({},F),{},{startAngle:T+S,endAngle:T+U(w)+S});B.push(k),T=k.endAngle}else{var{endAngle:Q,startAngle:P}=F,ae=LF(0,Q-P),xe=ae(w),me=kt(kt({},F),{},{startAngle:T+S,endAngle:T+xe+S});B.push(me),T=me.endAngle}}),r.current=B,x.createElement(jr,null,x.createElement(eH,{sectors:B,activeShape:A,inactiveShape:l,allOtherPieProps:e,showLabels:!m}))})}function Lhe(t){var{sectors:e,isAnimationActive:r,activeShape:n,inactiveShape:i}=t,s=x.useRef(null),a=s.current;return r&&e&&e.length&&(!a||a!==e)?x.createElement(Mhe,{props:t,previousSectorsRef:s}):x.createElement(eH,{sectors:e,activeShape:n,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function Hhe(t){var{hide:e,className:r,rootTabIndex:n}=t,i=Ge("recharts-pie",r);return e?null:x.createElement(jr,{tabIndex:n,className:i},x.createElement(Lhe,t))}var Vhe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!jA.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Khe(t){var{id:e}=t,r=K_(t,Che),n=x.useMemo(()=>Kf(t.children,Wc),[t.children]),i=ye(s=>zfe(s,e,n));return x.createElement(x.Fragment,null,x.createElement(M_,{fn:Nhe,args:kt(kt({},t),{},{sectors:i})}),x.createElement(Hhe,Hs({},r,{sectors:i})))}function $_(t){var e=On(t,Vhe),{id:r}=e,n=K_(e,Ehe),i=Gs(n);return x.createElement(H_,{id:r,type:"pie"},s=>x.createElement(x.Fragment,null,x.createElement(whe,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),x.createElement(Fhe,Hs({},n,{id:s})),x.createElement(Khe,Hs({},n,{id:s})),n.children))}$_.displayName="Pie";var $he=G([er],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Ghe=G([$he,Ws,zs],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),G_=()=>ye(Ghe),Whe=()=>ye(que);function fP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(r),!0).forEach(function(n){zhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zhe(t,e,r){return(e=Yhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yhe(t){var e=Xhe(t,"string");return typeof e=="symbol"?e:e+""}function Xhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qhe=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var a=hP(hP({index:r,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},wt(i,!1)),Y1(i)),o;return x.isValidElement(i)?o=x.cloneElement(i,a):typeof i=="function"?o=i(a):o=x.createElement(V3,a),x.createElement(jr,{className:"recharts-active-dot"},o)};function Jhe(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,s=ye(ao),a=Whe();if(e==null||a==null)return null;var o=e.find(A=>a.includes(A.payload));return ht(o)?null:qhe({point:o,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n})}var Zhe="Invariant failed";function ege(t,e){throw new Error(Zhe)}var tge=["x","y"];function QB(){return QB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QB.apply(null,arguments)}function gP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ou(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(r),!0).forEach(function(n){rge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rge(t,e,r){return(e=nge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nge(t){var e=ige(t,"string");return typeof e=="symbol"?e:e+""}function ige(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sge(t,e){if(t==null)return{};var r,n,i=age(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function age(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function oge(t,e){var{x:r,y:n}=t,i=sge(t,tge),s="".concat(r),a=parseInt(s,10),o="".concat(n),A=parseInt(o,10),l="".concat(e.height||i.height),c=parseInt(l,10),d="".concat(e.width||i.width),f=parseInt(d,10);return Ou(Ou(Ou(Ou(Ou({},e),i),a?{x:a}:{}),A?{y:A}:{}),{},{height:c,width:f,name:e.name,radius:e.radius})}function tH(t){return x.createElement(Y3,QB({shapeType:"rectangle",propTransformer:oge,activeClassName:"recharts-active-bar"},t))}var Age=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(de(e))return e;var s=de(n)||ht(n);return s?e(n,i):(s||ege(),r)}},lge={},cge=Qn({name:"errorBars",initialState:lge,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),uge=cge.reducer,dge=["children"];function fge(t,e){if(t==null)return{};var r,n,i=hge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function hge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var gge={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},mge=x.createContext(gge);function rH(t){var{children:e}=t,r=fge(t,dge);return x.createElement(mge.Provider,{value:r},e)}function W_(t,e){var r,n,i=ye(l=>Xs(l,t)),s=ye(l=>xo(l,e)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:hn.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:gn.allowDataOverflow,A=a||o;return{needClip:A,needClipX:a,needClipY:o}}function nH(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=G_(),{needClipX:s,needClipY:a,needClip:o}=W_(e,r);if(!o)return null;var{x:A,y:l,width:c,height:d}=i;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:s?A:A-c/2,y:a?l:l-d/2,width:s?c:c*2,height:a?d:d*2}))}var pge=["onMouseEnter","onMouseLeave","onClick"],vge=["value","background","tooltipPosition"],yge=["id"],wge=["onMouseEnter","onClick","onMouseLeave"];function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cc.apply(null,arguments)}function mP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(r),!0).forEach(function(n){xge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xge(t,e,r){return(e=bge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bge(t){var e=Bge(t,"string");return typeof e=="symbol"?e:e+""}function Bge(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i0(t,e){if(t==null)return{};var r,n,i=Cge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Cge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Ege=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:jc(r,e),payload:t}]};function _ge(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:o}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:jc(s,e),hide:a,type:t.tooltipType,color:t.fill,unit:o}}}function Ige(t){var e=ye(ao),{data:r,dataKey:n,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:o,onClick:A}=s,l=i0(s,pge),c=j_(a,n),d=D_(o),f=R_(A,n);if(!i||r==null)return null;var g=wt(i,!1);return x.createElement(x.Fragment,null,r.map((m,p)=>{var{value:v,background:y,tooltipPosition:w}=m,B=i0(m,vge);if(!y)return null;var I=c(m,p),T=d(m,p),F=f(m,p),C=kr(kr(kr(kr(kr({option:i,isActive:String(p)===e},B),{},{fill:"#eee"},y),g),Vf(l,m,p)),{},{onMouseEnter:I,onMouseLeave:T,onClick:F,dataKey:n,index:p,className:"recharts-bar-background-rectangle"});return x.createElement(tH,Cc({key:"background-bar-".concat(p)},C))}))}function iH(t){var{data:e,props:r,showLabels:n}=t,i=Gs(r),s=i0(i,yge),{shape:a,dataKey:o,activeBar:A}=r,l=ye(ao),c=ye(w3),{onMouseEnter:d,onClick:f,onMouseLeave:g}=r,m=i0(r,wge),p=j_(d,o),v=D_(g),y=R_(f,o);return e?x.createElement(x.Fragment,null,e.map((w,B)=>{var I=A&&String(B)===l&&(c==null||o===c),T=I?A:a,F=kr(kr(kr({},s),w),{},{isActive:I,option:T,index:B,dataKey:o});return x.createElement(jr,Cc({className:"recharts-bar-rectangle"},Vf(m,w,B),{onMouseEnter:p(w,B),onMouseLeave:v(w,B),onClick:y(w,B),key:"rectangle-".concat(w==null?void 0:w.x,"-").concat(w==null?void 0:w.y,"-").concat(w==null?void 0:w.value,"-").concat(B)}),x.createElement(tH,F))}),n&&Ka.renderCallByParent(r,e)):null}function Sge(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:A,onAnimationEnd:l,onAnimationStart:c}=e,d=r.current,f=L_(e,"recharts-bar-"),[g,m]=x.useState(!1),p=x.useCallback(()=>{typeof l=="function"&&l(),m(!1)},[l]),v=x.useCallback(()=>{typeof c=="function"&&c(),m(!0)},[c]);return x.createElement(V_,{begin:a,duration:o,isActive:s,easing:A,onAnimationEnd:p,onAnimationStart:v,key:f},y=>{var w=y===1?n:n==null?void 0:n.map((B,I)=>{var T=d&&d[I];if(T)return kr(kr({},B),{},{x:vi(T.x,B.x,y),y:vi(T.y,B.y,y),width:vi(T.width,B.width,y),height:vi(T.height,B.height,y)});if(i==="horizontal"){var F=vi(0,B.height,y);return kr(kr({},B),{},{y:B.y+B.height-F,height:F})}var C=vi(0,B.width,y);return kr(kr({},B),{},{width:C})});return y>0&&(r.current=w??null),w==null?null:x.createElement(jr,null,x.createElement(iH,{props:e,data:w,showLabels:!g}))})}function Tge(t){var{data:e,isAnimationActive:r}=t,n=x.useRef(null);return r&&e&&e.length&&(n.current==null||n.current!==e)?x.createElement(Sge,{previousRectanglesRef:n,props:t}):x.createElement(iH,{props:t,data:e,showLabels:!0})}var sH=0,Fge=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:nt(t,e)}};class Nge extends x.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:o,background:A,id:l}=this.props;if(e)return null;var c=Ge("recharts-bar",i),d=l;return x.createElement(jr,{className:c,id:l},o&&x.createElement("defs",null,x.createElement(nH,{clipPathId:d,xAxisId:s,yAxisId:a})),x.createElement(jr,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},x.createElement(Ige,{data:r,dataKey:n,background:A,allOtherBarProps:this.props}),x.createElement(Tge,this.props)),this.props.children)}}var Uge={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!jA.isSsr,legendType:"rect",minPointSize:sH,xAxisId:0,yAxisId:0};function Pge(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:A,animationEasing:l,isAnimationActive:c}=t,{needClip:d}=W_(e,r),f=Mv(),g=ln(),m=Kf(t.children,Wc),p=ye(w=>ame(w,e,r,g,t.id,m));if(f!=="vertical"&&f!=="horizontal")return null;var v,y=p==null?void 0:p[0];return y==null||y.height==null||y.width==null?v=0:v=f==="vertical"?y.height/2:y.width/2,x.createElement(rH,{xAxisId:e,yAxisId:r,data:p,dataPointFormatter:Fge,errorBarOffset:v},x.createElement(Nge,Cc({},t,{layout:f,needClip:d,data:p,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:A,animationEasing:l,isAnimationActive:c})))}function kge(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:A,yAxisTicks:l,stackedData:c,displayedData:d,offset:f,cells:g}=t,m=e==="horizontal"?o:a,p=c?m.scale.domain():null,v=Qse({numericAxis:m});return d.map((y,w)=>{var B,I,T,F,C,_;c?B=Tse(c[w],p):(B=nt(y,r),Array.isArray(B)||(B=[v,B]));var S=Age(n,sH)(B[1],w);if(e==="horizontal"){var U,[k,Q]=[o.scale(B[0]),o.scale(B[1])];I=yN({axis:a,ticks:A,bandSize:s,offset:i.offset,entry:y,index:w}),T=(U=Q??k)!==null&&U!==void 0?U:void 0,F=i.size;var P=k-Q;if(C=Tn(P)?0:P,_={x:I,y:f.top,width:F,height:f.height},Math.abs(S)>0&&Math.abs(C)<Math.abs(S)){var ae=ur(C||S)*(Math.abs(S)-Math.abs(C));T-=ae,C+=ae}}else{var[xe,me]=[a.scale(B[0]),a.scale(B[1])];if(I=xe,T=yN({axis:o,ticks:l,bandSize:s,offset:i.offset,entry:y,index:w}),F=me-xe,C=i.size,_={x:f.left,y:T,width:f.width,height:C},Math.abs(S)>0&&Math.abs(F)<Math.abs(S)){var pe=ur(F||S)*(Math.abs(S)-Math.abs(F));F+=pe}}if(I==null||T==null||F==null||C==null)return null;var q=kr(kr({},y),{},{x:I,y:T,width:F,height:C,value:c?B:B[1],payload:y,background:_,tooltipPosition:{x:I+F/2,y:T+C/2}},g&&g[w]&&g[w].props);return q}).filter(Boolean)}function va(t){var e=On(t,Uge),r=ln();return x.createElement(H_,{id:e.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(q3,{legendPayload:Ege(e)}),x.createElement(M_,{fn:_ge,args:e}),x.createElement(Z3,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:kse(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),x.createElement(Pge,Cc({},e,{id:n}))))}va.displayName="Bar";function pP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(r),!0).forEach(function(n){Qge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qge(t,e,r){return(e=Oge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oge(t){var e=jge(t,"string");return typeof e=="symbol"?e:e+""}function jge(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dge=(t,e)=>e,Rge=(t,e,r)=>r,Mge=(t,e,r,n)=>n,Lge=(t,e,r,n,i)=>i,nh=G([Jv,Lge],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),Hge=G([nh],t=>t==null?void 0:t.maxBarSize),Vge=(t,e,r,n,i,s)=>s,vP=(t,e,r)=>{var n=r??t;if(!ht(n))return Wr(n,e,0)},Kge=G([Ve,Jv,Dge,Rge,Mge],(t,e,r,n,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),$ge=(t,e,r,n)=>{var i=Ve(t);return i==="horizontal"?SB(t,"yAxis",r,n):SB(t,"xAxis",e,n)},Gge=(t,e,r)=>{var n=Ve(t);return n==="horizontal"?FU(t,"xAxis",e):FU(t,"yAxis",r)},Wge=(t,e,r)=>{var n={},i=t.filter(qv),s=t.filter(l=>l.stackId==null),a=i.reduce((l,c)=>(l[c.stackId]||(l[c.stackId]=[]),l[c.stackId].push(c),l),n),o=Object.entries(a).map(l=>{var[c,d]=l,f=d.map(m=>m.dataKey),g=vP(e,r,d[0].barSize);return{stackId:c,dataKeys:f,barSize:g}}),A=s.map(l=>{var c=[l.dataKey].filter(f=>f!=null),d=vP(e,r,l.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...o,...A]},zge=G([Kge,Ace,Gge],Wge),Yge=(t,e,r,n,i)=>{var s,a,o=nh(t,e,r,n,i);if(o!=null){var A=Ve(t),l=x5(t),{maxBarSize:c}=o,d=ht(c)?l:c,f,g;return A==="horizontal"?(f=so(t,"xAxis",e,n),g=io(t,"xAxis",e,n)):(f=so(t,"yAxis",r,n),g=io(t,"yAxis",r,n)),(s=(a=hf(f,g,!0))!==null&&a!==void 0?a:d)!==null&&s!==void 0?s:0}},aH=(t,e,r,n)=>{var i=Ve(t),s,a;return i==="horizontal"?(s=so(t,"xAxis",e,n),a=io(t,"xAxis",e,n)):(s=so(t,"yAxis",r,n),a=io(t,"yAxis",r,n)),hf(s,a)};function Xge(t,e,r,n,i){var s=n.length;if(!(s<1)){var a=Wr(t,r,0,!0),o,A=[];if(Un(n[0].barSize)){var l=!1,c=r/s,d=n.reduce((y,w)=>y+(w.barSize||0),0);d+=(s-1)*a,d>=r&&(d-=(s-1)*a,a=0),d>=r&&c>0&&(l=!0,c*=.9,d=s*c);var f=(r-d)/2>>0,g={offset:f-a,size:0};o=n.reduce((y,w)=>{var B,I={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:g.offset+g.size+a,size:l?c:(B=w.barSize)!==null&&B!==void 0?B:0}},T=[...y,I];return g=T[T.length-1].position,T},A)}else{var m=Wr(e,r,0,!0);r-2*m-(s-1)*a<=0&&(a=0);var p=(r-2*m-(s-1)*a)/s;p>1&&(p>>=0);var v=Un(i)?Math.min(p,i):p;o=n.reduce((y,w,B)=>[...y,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m+(p+a)*B+(p-v)/2,size:v}}],A)}return o}}var qge=(t,e,r,n,i,s,a)=>{var o=ht(a)?e:a,A=Xge(r,n,i!==s?i:s,t,o);return i!==s&&A!=null&&(A=A.map(l=>kg(kg({},l),{},{position:kg(kg({},l.position),{},{offset:l.position.offset-i/2})}))),A},Jge=G([zge,x5,oce,b5,Yge,aH,Hge],qge),Zge=(t,e,r,n)=>so(t,"xAxis",e,n),eme=(t,e,r,n)=>so(t,"yAxis",r,n),tme=(t,e,r,n)=>io(t,"xAxis",e,n),rme=(t,e,r,n)=>io(t,"yAxis",r,n),nme=G([Jge,nh],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),ime=(t,e)=>{var r=i_(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},sme=G([$ge,nh],ime),ame=G([er,Zge,eme,tme,rme,nme,Ve,Wv,aH,sme,nh,Vge],(t,e,r,n,i,s,a,o,A,l,c,d)=>{var{chartData:f,dataStartIndex:g,dataEndIndex:m}=o;if(!(c==null||s==null||a!=="horizontal"&&a!=="vertical"||e==null||r==null||n==null||i==null||A==null)){var{data:p}=c,v;if(p!=null&&p.length>0?v=p:v=f==null?void 0:f.slice(g,m+1),v!=null)return kge({layout:a,barSettings:c,pos:s,bandSize:A,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:l,displayedData:v,offset:t,cells:d})}}),oH=t=>{var{chartData:e}=t,r=Tt(),n=ln();return x.useEffect(()=>n?()=>{}:(r(RU(e)),()=>{r(RU(void 0))}),[e,r,n]),null},yP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ome=Qn({name:"brush",initialState:yP,reducers:{setBrushSettings(t,e){return e.payload==null?yP:e.payload}}}),Ame=ome.reducer;function lme(t,e,r){return(e=cme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cme(t){var e=ume(t,"string");return typeof e=="symbol"?e:e+""}function ume(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class z_{static create(e){return new z_(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}lme(z_,"EPS",1e-4);function dme(t){return(t%180+180)%180}var fme=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=dme(i),a=s*Math.PI/180,o=Math.atan(n/r),A=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(A)},hme={dots:[],areas:[],lines:[]},gme=Qn({name:"referenceElements",initialState:hme,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=Ss(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=Ss(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=Ss(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),mme=gme.reducer,pme=x.createContext(void 0),vme=t=>{var{children:e}=t,[r]=x.useState("".concat(uf("recharts"),"-clip")),n=G_();if(n==null)return null;var{x:i,y:s,width:a,height:o}=n;return x.createElement(pme.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function zw(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function AH(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function yme(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return fme(n,r)}function wme(t,e,r){var n=r==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function s0(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function xme(t,e){return AH(t,e+1)}function bme(t,e,r,n,i){for(var s=(n||[]).slice(),{start:a,end:o}=e,A=0,l=1,c=a,d=function(){var m=n==null?void 0:n[A];if(m===void 0)return{v:AH(n,l)};var p=A,v,y=()=>(v===void 0&&(v=r(m,p)),v),w=m.coordinate,B=A===0||s0(t,w,y,c,o);B||(A=0,c=a,l+=1),B&&(c=w+t*(y()/2+i),A+=l)},f;l<=s.length;)if(f=d(),f)return f.v;return[]}function wP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(r),!0).forEach(function(n){Bme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bme(t,e,r){return(e=Cme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cme(t){var e=Eme(t,"string");return typeof e=="symbol"?e:e+""}function Eme(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _me(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:o}=e,{end:A}=e,l=function(f){var g=s[f],m,p=()=>(m===void 0&&(m=r(g,f)),m);if(f===a-1){var v=t*(g.coordinate+t*p()/2-A);s[f]=g=Nr(Nr({},g),{},{tickCoord:v>0?g.coordinate-v*t:g.coordinate})}else s[f]=g=Nr(Nr({},g),{},{tickCoord:g.coordinate});var y=s0(t,g.tickCoord,p,o,A);y&&(A=g.tickCoord-t*(p()/2+i),s[f]=Nr(Nr({},g),{},{isShow:!0}))},c=a-1;c>=0;c--)l(c);return s}function Ime(t,e,r,n,i,s){var a=(n||[]).slice(),o=a.length,{start:A,end:l}=e;if(s){var c=n[o-1],d=r(c,o-1),f=t*(c.coordinate+t*d/2-l);a[o-1]=c=Nr(Nr({},c),{},{tickCoord:f>0?c.coordinate-f*t:c.coordinate});var g=s0(t,c.tickCoord,()=>d,A,l);g&&(l=c.tickCoord-t*(d/2+i),a[o-1]=Nr(Nr({},c),{},{isShow:!0}))}for(var m=s?o-1:o,p=function(w){var B=a[w],I,T=()=>(I===void 0&&(I=r(B,w)),I);if(w===0){var F=t*(B.coordinate-t*T()/2-A);a[w]=B=Nr(Nr({},B),{},{tickCoord:F<0?B.coordinate-F*t:B.coordinate})}else a[w]=B=Nr(Nr({},B),{},{tickCoord:B.coordinate});var C=s0(t,B.tickCoord,T,A,l);C&&(A=B.tickCoord+t*(T()/2+i),a[w]=Nr(Nr({},B),{},{isShow:!0}))},v=0;v<m;v++)p(v);return a}function Y_(t,e,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:A,tickFormatter:l,unit:c,angle:d}=t;if(!i||!i.length||!n)return[];if(de(A)||jA.isSsr){var f;return(f=xme(i,de(A)?A:0))!==null&&f!==void 0?f:[]}var g=[],m=o==="top"||o==="bottom"?"width":"height",p=c&&m==="width"?Sd(c,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=(B,I)=>{var T=typeof l=="function"?l(B.value,I):B.value;return m==="width"?yme(Sd(T,{fontSize:e,letterSpacing:r}),p,d):Sd(T,{fontSize:e,letterSpacing:r})[m]},y=i.length>=2?ur(i[1].coordinate-i[0].coordinate):1,w=wme(s,y,m);return A==="equidistantPreserveStart"?bme(y,w,v,i,a):(A==="preserveStart"||A==="preserveStartEnd"?g=Ime(y,w,v,i,a,A==="preserveStartEnd"):g=_me(y,w,v,i,a),g.filter(B=>B.isShow))}var Sme=["viewBox"],Tme=["viewBox"];function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pl.apply(null,arguments)}function xP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(r),!0).forEach(function(n){X_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bP(t,e){if(t==null)return{};var r,n,i=Fme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Fme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function X_(t,e,r){return(e=Nme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nme(t){var e=Ume(t,"string");return typeof e=="symbol"?e:e+""}function Ume(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class bo extends x.Component{constructor(e){super(e),this.tickRefs=x.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,r){var{viewBox:n}=e,i=bP(e,Sme),s=this.props,{viewBox:a}=s,o=bP(s,Tme);return!zw(n,a)||!zw(i,o)||!zw(r,this.state)}getTickLineCoord(e){var{x:r,y:n,width:i,height:s,orientation:a,tickSize:o,mirror:A,tickMargin:l}=this.props,c,d,f,g,m,p,v=A?-1:1,y=e.tickSize||o,w=de(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=d=e.coordinate,g=n+ +!A*s,f=g-v*y,p=f-v*l,m=w;break;case"left":f=g=e.coordinate,d=r+ +!A*i,c=d-v*y,m=c-v*l,p=w;break;case"right":f=g=e.coordinate,d=r+ +A*i,c=d+v*y,m=c+v*l,p=w;break;default:c=d=e.coordinate,g=n+ +A*s,f=g+v*y,p=f+v*l,m=w;break}return{line:{x1:c,y1:f,x2:d,y2:g},tick:{x:m,y:p}}}getTickTextAnchor(){var{orientation:e,mirror:r}=this.props,n;switch(e){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:e,mirror:r}=this.props;switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:e,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:o}=this.props,A=zt(zt(zt({},wt(this.props,!1)),wt(o,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var l=+(s==="top"&&!a||s==="bottom"&&a);A=zt(zt({},A),{},{x1:e,y1:r+l*i,x2:e+n,y2:r+l*i})}else{var c=+(s==="left"&&!a||s==="right"&&a);A=zt(zt({},A),{},{x1:e+c*n,y1:r,x2:e+c*n,y2:r+i})}return x.createElement("line",Pl({},A,{className:Ge("recharts-cartesian-axis-line",no(o,"className"))}))}static renderTickItem(e,r,n){var i,s=Ge(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(e))i=x.cloneElement(e,zt(zt({},r),{},{className:s}));else if(typeof e=="function")i=e(zt(zt({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Ge(a,e.className)),i=x.createElement(iy,Pl({},r,{className:a}),n)}return i}renderTicks(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:o,unit:A,padding:l}=this.props,c=Y_(zt(zt({},this.props),{},{ticks:n}),e,r),d=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),g=Gs(this.props),m=wt(a,!1),p=zt(zt({},g),{},{fill:"none"},wt(i,!1)),v=c.map((y,w)=>{var{line:B,tick:I}=this.getTickLineCoord(y),T=zt(zt(zt(zt({textAnchor:d,verticalAnchor:f},g),{},{stroke:"none",fill:s},m),I),{},{index:w,payload:y,visibleTicksCount:c.length,tickFormatter:o,padding:l});return x.createElement(jr,Pl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},Vf(this.props,y,w)),i&&x.createElement("line",Pl({},p,B,{className:Ge("recharts-cartesian-axis-tick-line",no(i,"className"))})),a&&bo.renderTickItem(a,T,"".concat(typeof o=="function"?o(y.value,w):y.value).concat(A||"")))});return v.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},v):null}render(){var{axisLine:e,width:r,height:n,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:x.createElement(jr,{className:Ge("recharts-cartesian-axis",i),ref:o=>{if(o){var A=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(A);var l=A[0];if(l){var c=window.getComputedStyle(l).fontSize,d=window.getComputedStyle(l).letterSpacing;(c!==this.state.fontSize||d!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(l).fontSize,letterSpacing:window.getComputedStyle(l).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),wn.renderCallByParent(this.props))}}X_(bo,"displayName","CartesianAxis");X_(bo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Pme=["x1","y1","x2","y2","key"],kme=["offset"],Qme=["xAxisId","yAxisId"],Ome=["xAxisId","yAxisId"];function BP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(r),!0).forEach(function(n){jme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jme(t,e,r){return(e=Dme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dme(t){var e=Rme(t,"string");return typeof e=="symbol"?e:e+""}function Rme(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zo(){return Zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zo.apply(null,arguments)}function a0(t,e){if(t==null)return{};var r,n,i=Mme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Mme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Lme=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:o}=t;return x.createElement("rect",{x:n,y:i,ry:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function lH(t,e){var r;if(x.isValidElement(t))r=x.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:s,y2:a,key:o}=e,A=a0(e,Pme),l=Gs(A),c=a0(l,kme);r=x.createElement("line",Zo({},c,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:o}))}return r}function Hme(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var s=a0(t,Qme),a=i.map((o,A)=>{var l=Qr(Qr({},s),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(A),index:A});return lH(n,l)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Vme(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var s=a0(t,Ome),a=i.map((o,A)=>{var l=Qr(Qr({},s),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(A),index:A});return lH(n,l)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Kme(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:o,horizontal:A=!0}=t;if(!A||!e||!e.length)return null;var l=o.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==l[0]&&l.unshift(0);var c=l.map((d,f)=>{var g=!l[f+1],m=g?i+a-d:l[f+1]-d;if(m<=0)return null;var p=f%e.length;return x.createElement("rect",{key:"react-".concat(f),y:d,x:n,height:m,width:s,stroke:"none",fill:e[p],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function $me(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:o,verticalPoints:A}=t;if(!e||!r||!r.length)return null;var l=A.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==l[0]&&l.unshift(0);var c=l.map((d,f)=>{var g=!l[f+1],m=g?i+a-d:l[f+1]-d;if(m<=0)return null;var p=f%r.length;return x.createElement("rect",{key:"react-".concat(f),x:d,y:s,width:m,height:o,stroke:"none",fill:r[p],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Gme=(t,e)=>{var{xAxis:r,width:n,height:i,offset:s}=t;return JM(Y_(Qr(Qr(Qr({},bo.defaultProps),r),{},{ticks:ZM(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,e)},Wme=(t,e)=>{var{yAxis:r,width:n,height:i,offset:s}=t;return JM(Y_(Qr(Qr(Qr({},bo.defaultProps),r),{},{ticks:ZM(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,e)},zme={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function cA(t){var e=xE(),r=bE(),n=iL(),i=Qr(Qr({},On(t,zme)),{},{x:de(t.x)?t.x:n.left,y:de(t.y)?t.y:n.top,width:de(t.width)?t.width:n.width,height:de(t.height)?t.height:n.height}),{xAxisId:s,yAxisId:a,x:o,y:A,width:l,height:c,syncWithTicks:d,horizontalValues:f,verticalValues:g}=i,m=ln(),p=ye(S=>NU(S,"xAxis",s,m)),v=ye(S=>NU(S,"yAxis",a,m));if(!de(l)||l<=0||!de(c)||c<=0||!de(o)||o!==+o||!de(A)||A!==+A)return null;var y=i.verticalCoordinatesGenerator||Gme,w=i.horizontalCoordinatesGenerator||Wme,{horizontalPoints:B,verticalPoints:I}=i;if((!B||!B.length)&&typeof w=="function"){var T=f&&f.length,F=w({yAxis:v?Qr(Qr({},v),{},{ticks:T?f:v.ticks}):void 0,width:e,height:r,offset:n},T?!0:d);Id(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(B=F)}if((!I||!I.length)&&typeof y=="function"){var C=g&&g.length,_=y({xAxis:p?Qr(Qr({},p),{},{ticks:C?g:p.ticks}):void 0,width:e,height:r,offset:n},C?!0:d);Id(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(I=_)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Lme,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(Kme,Zo({},i,{horizontalPoints:B})),x.createElement($me,Zo({},i,{verticalPoints:I})),x.createElement(Hme,Zo({},i,{offset:n,horizontalPoints:B,xAxis:p,yAxis:v})),x.createElement(Vme,Zo({},i,{offset:n,verticalPoints:I,xAxis:p,yAxis:v})))}cA.displayName="CartesianGrid";var cH=(t,e,r,n)=>so(t,"xAxis",e,n),uH=(t,e,r,n)=>io(t,"xAxis",e,n),dH=(t,e,r,n)=>so(t,"yAxis",r,n),fH=(t,e,r,n)=>io(t,"yAxis",r,n),Yme=G([Ve,cH,dH,uH,fH],(t,e,r,n,i)=>po(t,"xAxis")?hf(e,n,!1):hf(r,i,!1)),Xme=(t,e,r,n,i)=>i;function qme(t){return t.type==="line"}var Jme=G([Jv,Xme],(t,e)=>t.filter(qme).find(r=>r.id===e)),Zme=G([Ve,cH,dH,uH,fH,Jme,Yme,Wv],(t,e,r,n,i,s,a,o)=>{var{chartData:A,dataStartIndex:l,dataEndIndex:c}=o;if(!(s==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||a==null)){var{dataKey:d,data:f}=s,g;if(f!=null&&f.length>0?g=f:g=A==null?void 0:A.slice(l,c+1),g!=null)return wpe({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:d,bandSize:a,displayedData:g})}}),epe=["id"],tpe=["type","layout","connectNulls","needClip"],rpe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function CP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(r),!0).forEach(function(n){npe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function npe(t,e,r){return(e=ipe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ipe(t){var e=spe(t,"string");return typeof e=="symbol"?e:e+""}function spe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q_(t,e){if(t==null)return{};var r,n,i=ape(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ape(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function SA(){return SA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SA.apply(null,arguments)}var ope=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:jc(r,e),payload:t}]};function Ape(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:s,name:a,hide:o,unit:A}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:jc(a,e),hide:o,type:t.tooltipType,color:t.stroke,unit:A}}}var hH=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function lpe(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var cpe=(t,e,r)=>{var n=r.reduce((d,f)=>d+f);if(!n)return hH(e,t);for(var i=Math.floor(t/n),s=t%n,a=e-t,o=[],A=0,l=0;A<r.length;l+=r[A],++A)if(l+r[A]>s){o=[...r.slice(0,A),s-l];break}var c=o.length%2===0?[0,a]:[a];return[...lpe(r,i),...o,...c].map(d=>"".concat(d,"px")).join(", ")};function upe(t,e){var r;if(x.isValidElement(t))r=x.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=Ge("recharts-line-dot",typeof t!="boolean"?t.className:"");r=x.createElement(V3,SA({},e,{className:n}))}return r}function dpe(t,e){return t==null?!1:e?!0:t.length===1}function fpe(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:s,needClip:a}=n;if(!dpe(r,i))return null;var o=q_(n,epe),A=PR(i),l=Gs(o),c=wt(i,!0),d=r.map((g,m)=>{var p=yi(yi(yi({key:"dot-".concat(m),r:3},l),c),{},{index:m,cx:g.x,cy:g.y,dataKey:s,value:g.value,payload:g.payload,points:r});return upe(i,p)}),f={clipPath:a?"url(#clipPath-".concat(A?"":"dots-").concat(e,")"):void 0};return x.createElement(jr,SA({className:"recharts-line-dots",key:"dots"},f),d)}function OB(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:s,showLabels:a}=t,{type:o,layout:A,connectNulls:l,needClip:c}=s,d=q_(s,tpe),f=yi(yi({},wt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(e,")"):void 0,points:n,type:o,layout:A,connectNulls:l,strokeDasharray:i??s.strokeDasharray});return x.createElement(x.Fragment,null,(n==null?void 0:n.length)>1&&x.createElement(CE,SA({},f,{pathRef:r})),x.createElement(fpe,{points:n,clipPathId:e,props:s}),a&&Ka.renderCallByParent(s,n))}function hpe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function gpe(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:o,isAnimationActive:A,animationBegin:l,animationDuration:c,animationEasing:d,animateNewValues:f,width:g,height:m,onAnimationEnd:p,onAnimationStart:v}=r,y=i.current,w=L_(r,"recharts-line-"),[B,I]=x.useState(!1),T=x.useCallback(()=>{typeof p=="function"&&p(),I(!1)},[p]),F=x.useCallback(()=>{typeof v=="function"&&v(),I(!0)},[v]),C=hpe(n.current),_=s.current;return x.createElement(V_,{begin:l,duration:c,isActive:A,easing:d,onAnimationEnd:T,onAnimationStart:F,key:w},S=>{var U=vi(_,C+_,S),k=Math.min(U,C),Q;if(o){var P="".concat(o).split(/[,\s]+/gim).map(me=>parseFloat(me));Q=cpe(k,C,P)}else Q=hH(C,k);if(y){var ae=y.length/a.length,xe=S===1?a:a.map((me,pe)=>{var q=Math.floor(pe*ae);if(y[q]){var ie=y[q];return yi(yi({},me),{},{x:vi(ie.x,me.x,S),y:vi(ie.y,me.y,S)})}return f?yi(yi({},me),{},{x:vi(g*2,me.x,S),y:vi(m/2,me.y,S)}):yi(yi({},me),{},{x:me.x,y:me.y})});return i.current=xe,x.createElement(OB,{props:r,points:xe,clipPathId:e,pathRef:n,showLabels:!B,strokeDasharray:Q})}return S>0&&C>0&&(i.current=a,s.current=k),x.createElement(OB,{props:r,points:a,clipPathId:e,pathRef:n,showLabels:!B,strokeDasharray:Q})})}function mpe(t){var{clipPathId:e,props:r}=t,{points:n,isAnimationActive:i}=r,s=x.useRef(null),a=x.useRef(0),o=x.useRef(null),A=s.current;return i&&n&&n.length&&A!==n?x.createElement(gpe,{props:r,clipPathId:e,previousPointsRef:s,longestAnimatedLengthRef:a,pathRef:o}):x.createElement(OB,{props:r,points:n,clipPathId:e,pathRef:o,showLabels:!0})}var ppe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:nt(t.payload,e)});class vpe extends x.Component{render(){var e,{hide:r,dot:n,points:i,className:s,xAxisId:a,yAxisId:o,top:A,left:l,width:c,height:d,id:f,needClip:g}=this.props;if(r)return null;var m=Ge("recharts-line",s),p=f,{r:v=3,strokeWidth:y=2}=(e=wt(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},w=PR(n),B=v*2+y;return x.createElement(x.Fragment,null,x.createElement(jr,{className:m},g&&x.createElement("defs",null,x.createElement(nH,{clipPathId:p,xAxisId:a,yAxisId:o}),!w&&x.createElement("clipPath",{id:"clipPath-dots-".concat(p)},x.createElement("rect",{x:l-B/2,y:A-B/2,width:c+B,height:d+B}))),x.createElement(mpe,{props:this.props,clipPathId:p}),x.createElement(rH,{xAxisId:a,yAxisId:o,data:i,dataPointFormatter:ppe,errorBarOffset:0},this.props.children)),x.createElement(Jhe,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var gH={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!jA.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function ype(t){var e=On(t,gH),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:A,hide:l,isAnimationActive:c,label:d,legendType:f,xAxisId:g,yAxisId:m,id:p}=e,v=q_(e,rpe),{needClip:y}=W_(g,m),w=G_(),B=Mv(),I=ln(),T=ye(U=>Zme(U,g,m,I,p));if(B!=="horizontal"&&B!=="vertical"||T==null||w==null)return null;var{height:F,width:C,x:_,y:S}=w;return x.createElement(vpe,SA({},v,{id:p,connectNulls:o,dot:A,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:c,hide:l,label:d,legendType:f,xAxisId:g,yAxisId:m,points:T,layout:B,height:F,width:C,left:_,top:S,needClip:y}))}function wpe(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:o,displayedData:A}=t;return A.map((l,c)=>{var d=nt(l,a);if(e==="horizontal"){var f=vN({axis:r,ticks:i,bandSize:o,entry:l,index:c}),g=ht(d)?null:n.scale(d);return{x:f,y:g,value:d,payload:l}}var m=ht(d)?null:r.scale(d),p=vN({axis:n,ticks:s,bandSize:o,entry:l,index:c});return m==null||p==null?null:{x:m,y:p,value:d,payload:l}}).filter(Boolean)}function ei(t){var e=On(t,gH),r=ln();return x.createElement(H_,{id:e.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(q3,{legendPayload:ope(e)}),x.createElement(M_,{fn:Ape,args:e}),x.createElement(Z3,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),x.createElement(ype,SA({},e,{id:n}))))}ei.displayName="Line";function EP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _P(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(r),!0).forEach(function(n){xpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xpe(t,e,r){return(e=bpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bpe(t){var e=Bpe(t,"string");return typeof e=="symbol"?e:e+""}function Bpe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cpe={xAxis:{},yAxis:{},zAxis:{}},mH=Qn({name:"cartesianAxis",initialState:Cpe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=_P(_P({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:Epe,removeXAxis:_pe,addYAxis:Ipe,removeYAxis:Spe,addZAxis:eye,removeZAxis:tye,updateYAxisWidth:Tpe}=mH.actions,Fpe=mH.reducer,Npe=["children"],Upe=["dangerouslySetInnerHTML","ticks"];function pH(t,e,r){return(e=Ppe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ppe(t){var e=kpe(t,"string");return typeof e=="symbol"?e:e+""}function kpe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jB(){return jB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jB.apply(null,arguments)}function vH(t,e){if(t==null)return{};var r,n,i=Qpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Qpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Ope(t){var e=Tt(),r=x.useMemo(()=>{var s=vH(t,Npe);return s},[t]),n=ye(s=>Xs(s,r.id)),i=r===n;return x.useEffect(()=>(e(Epe(r)),()=>{e(_pe(r))}),[r,e]),i?t.children:null}var jpe=t=>{var{xAxisId:e,className:r}=t,n=ye(nL),i=ln(),s="xAxis",a=ye(d=>Kc(d,s,e,i)),o=ye(d=>t3(d,s,e,i)),A=ye(d=>q5(d,e)),l=ye(d=>Jce(d,e));if(A==null||l==null)return null;var c=vH(t,Upe);return x.createElement(bo,jB({},c,{scale:a,x:l.x,y:l.y,width:A.width,height:A.height,className:Ge("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o}))},Dpe=t=>{var e,r,n,i,s;return x.createElement(Ope,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},x.createElement(jpe,t))};class $a extends x.Component{render(){return x.createElement(Dpe,this.props)}}pH($a,"displayName","XAxis");pH($a,"defaultProps",{allowDataOverflow:hn.allowDataOverflow,allowDecimals:hn.allowDecimals,allowDuplicatedCategory:hn.allowDuplicatedCategory,height:hn.height,hide:!1,mirror:hn.mirror,orientation:hn.orientation,padding:hn.padding,reversed:hn.reversed,scale:hn.scale,tickCount:hn.tickCount,type:hn.type,xAxisId:0});var Rpe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){e.forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>a&&(a=d.width)}});var o=r?r.getBoundingClientRect().width:0,A=i+s,l=a+A+o+(r?n:0);return Math.round(l)}return 0},Mpe=["dangerouslySetInnerHTML","ticks"];function yH(t,e,r){return(e=Lpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lpe(t){var e=Hpe(t,"string");return typeof e=="symbol"?e:e+""}function Hpe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DB(){return DB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DB.apply(null,arguments)}function Vpe(t,e){if(t==null)return{};var r,n,i=Kpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Kpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function $pe(t){var e=Tt();return x.useEffect(()=>(e(Ipe(t)),()=>{e(Spe(t))}),[t,e]),null}var Gpe=t=>{var e,{yAxisId:r,className:n,width:i,label:s}=t,a=x.useRef(null),o=x.useRef(null),A=ye(nL),l=ln(),c=Tt(),d="yAxis",f=ye(y=>Kc(y,d,r,l)),g=ye(y=>J5(y,r)),m=ye(y=>Zce(y,r)),p=ye(y=>t3(y,d,r,l));if(x.useLayoutEffect(()=>{var y;if(!(i!=="auto"||!g||U_(s)||x.isValidElement(s))){var w=a.current,B=w==null||(y=w.tickRefs)===null||y===void 0?void 0:y.current,{tickSize:I,tickMargin:T}=w.props,F=Rpe({ticks:B,label:o.current,labelGapWithTick:5,tickSize:I,tickMargin:T});Math.round(g.width)!==Math.round(F)&&c(Tpe({id:r,width:F}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,g==null?void 0:g.width,g,c,s,r,i]),g==null||m==null)return null;var v=Vpe(t,Mpe);return x.createElement(bo,DB({},v,{ref:a,labelRef:o,scale:f,x:m.x,y:m.y,width:g.width,height:g.height,className:Ge("recharts-".concat(d," ").concat(d),n),viewBox:A,ticks:p}))},Wpe=t=>{var e,r,n,i,s;return x.createElement(x.Fragment,null,x.createElement($pe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),x.createElement(Gpe,t))},zpe={allowDataOverflow:gn.allowDataOverflow,allowDecimals:gn.allowDecimals,allowDuplicatedCategory:gn.allowDuplicatedCategory,hide:!1,mirror:gn.mirror,orientation:gn.orientation,padding:gn.padding,reversed:gn.reversed,scale:gn.scale,tickCount:gn.tickCount,type:gn.type,width:gn.width,yAxisId:0};class Ga extends x.Component{render(){return x.createElement(Wpe,this.props)}}yH(Ga,"displayName","YAxis");yH(Ga,"defaultProps",zpe);var Ype={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih=x;function Xpe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qpe=typeof Object.is=="function"?Object.is:Xpe,Jpe=ih.useSyncExternalStore,Zpe=ih.useRef,e0e=ih.useEffect,t0e=ih.useMemo,r0e=ih.useDebugValue;Ype.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=Zpe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=t0e(function(){function A(g){if(!l){if(l=!0,c=g,g=n(g),i!==void 0&&a.hasValue){var m=a.value;if(i(m,g))return d=m}return d=g}if(m=d,qpe(c,g))return m;var p=n(g);return i!==void 0&&i(m,p)?(c=g,m):(c=g,d=p)}var l=!1,c,d,f=r===void 0?null:r;return[function(){return A(e())},f===null?void 0:function(){return A(f())}]},[e,r,n,i]);var o=Jpe(t,s[0],s[1]);return e0e(function(){a.hasValue=!0,a.value=o},[o]),r0e(o),o};function n0e(t){t()}function i0e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){n0e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var IP={notify(){},get:()=>[]};function s0e(t,e){let r,n=IP,i=0,s=!1;function a(p){c();const v=n.subscribe(p);let y=!1;return()=>{y||(y=!0,v(),d())}}function o(){n.notify()}function A(){m.onStateChange&&m.onStateChange()}function l(){return s}function c(){i++,r||(r=t.subscribe(A),n=i0e())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=IP)}function f(){s||(s=!0,c())}function g(){s&&(s=!1,d())}const m={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:A,isSubscribed:l,trySubscribe:f,tryUnsubscribe:g,getListeners:()=>n};return m}var a0e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",o0e=a0e(),A0e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",l0e=A0e(),c0e=()=>o0e||l0e?x.useLayoutEffect:x.useEffect,u0e=c0e(),Yw=Symbol.for("react-redux-context"),Xw=typeof globalThis<"u"?globalThis:{};function d0e(){if(!x.createContext)return{};const t=Xw[Yw]??(Xw[Yw]=new Map);let e=t.get(x.createContext);return e||(e=x.createContext(null),t.set(x.createContext,e)),e}var f0e=d0e();function h0e(t){const{children:e,context:r,serverState:n,store:i}=t,s=x.useMemo(()=>{const A=s0e(i);return{store:i,subscription:A,getServerState:n?()=>n:void 0}},[i,n]),a=x.useMemo(()=>i.getState(),[i]);u0e(()=>{const{subscription:A}=s;return A.onStateChange=A.notifyNestedSubs,A.trySubscribe(),a!==i.getState()&&A.notifyNestedSubs(),()=>{A.tryUnsubscribe(),A.onStateChange=void 0}},[s,a]);const o=r||f0e;return x.createElement(o.Provider,{value:s},e)}var g0e=h0e,m0e=(t,e)=>e,J_=G([m0e,Ve,S5,rr,m3,qs,ide,er],lde),Z_=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},wH=oi("mouseClick"),xH=$f();xH.startListening({actionCreator:wH,effect:(t,e)=>{var r=t.payload,n=J_(e.getState(),Z_(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(due({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var RB=oi("mouseMove"),bH=$f();bH.startListening({actionCreator:RB,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=b_(n,n.tooltip.settings.shared),s=J_(n,Z_(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(l3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(A3()))}});function p0e(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var SP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},BH=Qn({name:"rootProps",initialState:SP,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:SP.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),v0e=BH.reducer,{updateOptions:y0e}=BH.actions,CH=Qn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:w0e}=CH.actions,x0e=CH.reducer,EH=oi("keyDown"),_H=oi("focus"),eI=$f();eI.startListening({actionCreator:EH,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(B_(i,Gc(r))),o=qs(r);if(s==="Enter"){var A=e0(r,"axis","hover",String(i.index));e.dispatch(FB({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:A}));return}var l=nue(r),c=l==="left-to-right"?1:-1,d=s==="ArrowRight"?1:-1,f=a+d*c;if(!(o==null||f>=o.length||f<0)){var g=e0(r,"axis","hover",String(f));e.dispatch(FB({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});eI.startListening({actionCreator:_H,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=e0(r,"axis","hover",String(s));e.dispatch(FB({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Ln=oi("externalEvent"),IH=$f();IH.startListening({actionCreator:Ln,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:zue(r),activeDataKey:w3(r),activeIndex:ao(r),activeLabel:y3(r),activeTooltipIndex:ao(r),isTooltipActive:Yue(r)};t.payload.handler(n,t.payload.reactEvent)}}});var b0e=G([$c],t=>t.tooltipItemPayloads),B0e=G([b0e,th,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,r);return a}}}),SH=oi("touchMove"),TH=$f();TH.startListening({actionCreator:SH,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=b_(n,n.tooltip.settings.shared);if(i==="axis"){var s=J_(n,Z_({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(l3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=r.touches[0],A=document.elementFromPoint(o.clientX,o.clientY);if(!A||!A.getAttribute)return;var l=A.getAttribute(tL),c=(a=A.getAttribute(rL))!==null&&a!==void 0?a:void 0,d=B0e(e.getState(),l,c);e.dispatch(o3({activeDataKey:c,activeIndex:l,activeCoordinate:d}))}}});var C0e=IM({brush:Ame,cartesianAxis:Fpe,chartData:Cde,errorBars:uge,graphicalItems:yhe,layout:fse,legend:eae,options:yde,polarAxis:Lfe,polarOptions:x0e,referenceElements:mme,rootProps:v0e,tooltip:fue}),E0e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Die({reducer:C0e,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([xH.middleware,bH.middleware,eI.middleware,IH.middleware,TH.middleware]),devTools:{serialize:{replacer:p0e},name:"recharts-".concat(r)}})};function FH(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=ln(),s=x.useRef(null);if(i)return r;s.current==null&&(s.current=E0e(e,n));var a=cE;return x.createElement(g0e,{context:a,store:s.current},r)}function NH(t){var{layout:e,width:r,height:n,margin:i}=t,s=Tt(),a=ln();return x.useEffect(()=>{a||(s(cse(e)),s(use({width:r,height:n})),s(lse(i)))},[s,a,e,r,n,i]),null}function UH(t){var e=Tt();return x.useEffect(()=>{e(y0e(t))},[e,t]),null}var _0e=["children"];function I0e(t,e){if(t==null)return{};var r,n,i=S0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function S0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o0.apply(null,arguments)}var T0e={width:"100%",height:"100%"},F0e=x.forwardRef((t,e)=>{var r=xE(),n=bE(),i=AL();if(!yc(r)||!yc(n))return null;var{children:s,otherAttributes:a,title:o,desc:A}=t,l,c;return typeof a.tabIndex=="number"?l=a.tabIndex:l=i?0:void 0,typeof a.role=="string"?c=a.role:c=i?"application":void 0,x.createElement(X1,o0({},a,{title:o,desc:A,role:c,tabIndex:l,width:r,height:n,style:T0e,ref:e}),s)}),N0e=t=>{var{children:e}=t,r=ye(Rv);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return x.createElement(X1,{width:n,height:i,x:a,y:s},e)},TP=x.forwardRef((t,e)=>{var{children:r}=t,n=I0e(t,_0e),i=ln();return i?x.createElement(N0e,null,r):x.createElement(F0e,o0({ref:e},n),r)});function U0e(){var t=Tt(),[e,r]=x.useState(null),n=ye(Hse);return x.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Un(s)&&s!==n&&t(dse(s))}},[e,t,n]),r}function FP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function P0e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(r),!0).forEach(function(n){k0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k0e(t,e,r){return(e=Q0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q0e(t){var e=O0e(t,"string");return typeof e=="symbol"?e:e+""}function O0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j0e=x.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:A,onMouseEnter:l,onMouseLeave:c,onMouseMove:d,onMouseUp:f,onTouchEnd:g,onTouchMove:m,onTouchStart:p,style:v,width:y}=t,w=Tt(),[B,I]=x.useState(null),[T,F]=x.useState(null);Ide();var C=U0e(),_=x.useCallback(ne=>{C(ne),typeof e=="function"&&e(ne),I(ne),F(ne)},[C,e,I,F]),S=x.useCallback(ne=>{w(wH(ne)),w(Ln({handler:s,reactEvent:ne}))},[w,s]),U=x.useCallback(ne=>{w(RB(ne)),w(Ln({handler:l,reactEvent:ne}))},[w,l]),k=x.useCallback(ne=>{w(A3()),w(Ln({handler:c,reactEvent:ne}))},[w,c]),Q=x.useCallback(ne=>{w(RB(ne)),w(Ln({handler:d,reactEvent:ne}))},[w,d]),P=x.useCallback(()=>{w(_H())},[w]),ae=x.useCallback(ne=>{w(EH(ne.key))},[w]),xe=x.useCallback(ne=>{w(Ln({handler:a,reactEvent:ne}))},[w,a]),me=x.useCallback(ne=>{w(Ln({handler:o,reactEvent:ne}))},[w,o]),pe=x.useCallback(ne=>{w(Ln({handler:A,reactEvent:ne}))},[w,A]),q=x.useCallback(ne=>{w(Ln({handler:f,reactEvent:ne}))},[w,f]),ie=x.useCallback(ne=>{w(Ln({handler:p,reactEvent:ne}))},[w,p]),ce=x.useCallback(ne=>{w(SH(ne)),w(Ln({handler:m,reactEvent:ne}))},[w,m]),Se=x.useCallback(ne=>{w(Ln({handler:g,reactEvent:ne}))},[w,g]);return x.createElement(_3.Provider,{value:B},x.createElement(kR.Provider,{value:T},x.createElement("div",{className:Ge("recharts-wrapper",n),style:P0e({position:"relative",cursor:"default",width:y,height:i},v),onClick:S,onContextMenu:xe,onDoubleClick:me,onFocus:P,onKeyDown:ae,onMouseDown:pe,onMouseEnter:U,onMouseLeave:k,onMouseMove:Q,onMouseUp:q,onTouchEnd:Se,onTouchMove:ce,onTouchStart:ie,ref:_},r)))}),D0e=["children","className","width","height","style","compact","title","desc"];function R0e(t,e){if(t==null)return{};var r,n,i=M0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function M0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var PH=x.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:s,style:a,compact:o,title:A,desc:l}=t,c=R0e(t,D0e),d=Gs(c);return o?x.createElement(TP,{otherAttributes:d,title:A,desc:l},r):x.createElement(j0e,{className:n,style:a,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},x.createElement(TP,{otherAttributes:d,title:A,desc:l,ref:e},x.createElement(vme,null,r)))}),L0e=["width","height"];function MB(){return MB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MB.apply(null,arguments)}function H0e(t,e){if(t==null)return{};var r,n,i=V0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function V0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var K0e={top:5,right:5,bottom:5,left:5},$0e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:K0e,reverseStackOrder:!1,syncMethod:"index"},kH=x.forwardRef(function(e,r){var n,i=On(e.categoricalChartProps,$0e),{width:s,height:a}=i,o=H0e(i,L0e);if(!yc(s)||!yc(a))return null;var{chartName:A,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=e,g={chartName:A,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(FH,{preloadedState:{options:g},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:A},x.createElement(oH,{chartData:f.data}),x.createElement(NH,{width:s,height:a,layout:i.layout,margin:i.margin}),x.createElement(UH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(PH,MB({},o,{width:s,height:a,ref:r})))}),G0e=["axis"],sy=x.forwardRef((t,e)=>x.createElement(kH,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:G0e,tooltipPayloadSearcher:N_,categoricalChartProps:t,ref:e})),W0e=["axis","item"],LB=x.forwardRef((t,e)=>x.createElement(kH,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:W0e,tooltipPayloadSearcher:N_,categoricalChartProps:t,ref:e}));function z0e(t){var e=Tt();return x.useEffect(()=>{e(w0e(t))},[e,t]),null}var Y0e=["width","height","layout"];function HB(){return HB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HB.apply(null,arguments)}function X0e(t,e){if(t==null)return{};var r,n,i=q0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function q0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var J0e={top:5,right:5,bottom:5,left:5},Z0e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:J0e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},eve=x.forwardRef(function(e,r){var n,i=On(e.categoricalChartProps,Z0e),{width:s,height:a,layout:o}=i,A=X0e(i,Y0e);if(!yc(s)||!yc(a))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f}=e,g={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(FH,{preloadedState:{options:g},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:l},x.createElement(oH,{chartData:i.data}),x.createElement(NH,{width:s,height:a,layout:o,margin:i.margin}),x.createElement(UH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(z0e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(PH,HB({width:s,height:a},A,{ref:r})))}),tve=["item"],rve={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},QH=x.forwardRef((t,e)=>{var r=On(t,rve);return x.createElement(eve,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:tve,tooltipPayloadSearcher:N_,categoricalChartProps:r,ref:e})});const nve=({schedule:t})=>{const r=mo("班次類型分布計算",()=>{const n={early:0,middle:0,night:0,rest:0,special:0},i=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(s=>{var a;if(s!=="_lastUpdated")for(let o=1;o<=i;o++){const A=(a=t[s])==null?void 0:a[o];if(A)switch(A){case"早":n.early++;break;case"中":n.middle++;break;case"晚":n.night++;break;case"休":n.rest++;break;case"特":n.special++;break}}}),[{name:"早班",value:n.early,color:"#ec4899"},{name:"中班",value:n.middle,color:"#06b6d4"},{name:"晚班",value:n.night,color:"#3b82f6"},{name:"休假",value:n.rest,color:"#6b7280"},{name:"特休",value:n.special,color:"#f97316"}].filter(s=>s.value>0)},{logThreshold:5});return u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h3",{className:"text-xl font-bold mb-6 text-green-300 text-center",children:"班次類型分布"}),u.jsx(Cs,{width:"100%",height:300,children:u.jsxs(QH,{children:[u.jsx($_,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:n,percent:i})=>`${n} ${(i*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((n,i)=>u.jsx(Wc,{fill:n.color},`cell-${i}`))}),u.jsx(_a,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}})]})})]})},ive=({schedule:t,names:e})=>{const r=()=>mo("班次趨勢計算",()=>{const a=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),o=[],A=new Set;Object.keys(t).forEach(c=>{var d;if(c!=="_lastUpdated")for(let f=1;f<=a;f++){const g=(d=t[c])==null?void 0:d[f];g&&A.add(g)}});const l=Array.from(A).filter(c=>c!=="休");for(let c=1;c<=a;c++){const d={date:`${c}日`};l.forEach(f=>{let g=0;Object.keys(t).forEach(m=>{var p;m!=="_lastUpdated"&&((p=t[m])==null?void 0:p[c])===f&&g++}),d[f]=g}),o.push(d)}return{data:o,availableShifts:l}},{logThreshold:5}),{data:n,availableShifts:i}=r(),s=a=>({早:"#ec4899",中:"#06b6d4",晚:"#3b82f6",特:"#f97316"})[a]||"#6b7280";return u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h3",{className:"text-xl font-bold mb-6 text-blue-300 text-center",children:"班次趨勢變化"}),u.jsx(Cs,{width:"100%",height:400,children:u.jsxs(sy,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[u.jsx(cA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),u.jsx($a,{dataKey:"date",stroke:"#ffffff80",tick:{fontSize:12}}),u.jsx(Ga,{stroke:"#ffffff80"}),u.jsx(_a,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}}),u.jsx(_A,{}),i.map(a=>u.jsx(ei,{type:"monotone",dataKey:a,stroke:s(a),strokeWidth:2,name:a,dot:{fill:s(a),strokeWidth:2,r:3},activeDot:{r:5,stroke:s(a),strokeWidth:2}},a))]})}),u.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-5 gap-4",children:i.map(a=>u.jsxs("div",{className:"text-center p-3 bg-surface/20 rounded-lg border border-white/10",children:[u.jsx("div",{className:"text-2xl font-bold",style:{color:s(a)},children:n.reduce((o,A)=>o+(A[a]||0),0)}),u.jsxs("div",{className:"text-sm text-gray-400",children:[a,"班總計"]})]},a))})]})},sve=({schedule:t,names:e})=>{const n=mo("班次分布計算",()=>{const i=[],s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(a=>{var l;if(a==="_lastUpdated")return;const o=e[a]||a,A={early:0,middle:0,night:0,rest:0,special:0};for(let c=1;c<=s;c++){const d=(l=t[a])==null?void 0:l[c];if(d)switch(d){case"早":A.early++;break;case"中":A.middle++;break;case"晚":A.night++;break;case"休":A.rest++;break;case"特":A.special++;break}}i.push({name:o,...A})}),i.sort((a,o)=>{var c,d;const A=parseInt(((c=a.name.match(/\d+/))==null?void 0:c[0])||"0"),l=parseInt(((d=o.name.match(/\d+/))==null?void 0:d[0])||"0");return A-l})},{logThreshold:5});return u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h3",{className:"text-xl font-bold mb-6 text-purple-300 text-center",children:"各同事班次分布"}),u.jsx(Cs,{width:"100%",height:400,children:u.jsxs(LB,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[u.jsx(cA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),u.jsx($a,{dataKey:"name",stroke:"#ffffff80"}),u.jsx(Ga,{stroke:"#ffffff80"}),u.jsx(_a,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}}),u.jsx(_A,{}),u.jsx(va,{dataKey:"early",stackId:"a",fill:"#ec4899",name:"早班"}),u.jsx(va,{dataKey:"middle",stackId:"a",fill:"#06b6d4",name:"中班"}),u.jsx(va,{dataKey:"night",stackId:"a",fill:"#3b82f6",name:"晚班"}),u.jsx(va,{dataKey:"rest",stackId:"a",fill:"#6b7280",name:"休假"}),u.jsx(va,{dataKey:"special",stackId:"a",fill:"#f97316",name:"特休"})]})})]})};function ave({schedule:t,names:e}){const r=ER();return ti.useEffect(()=>{r()}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[u.jsx(nve,{schedule:t}),u.jsx(ive,{schedule:t,names:e}),u.jsx("div",{className:"lg:col-span-2",children:u.jsx(sve,{schedule:t,names:e})})]})}const NP=new Map,ove=5*60*1e3,Ave=(t,e,r)=>{const n=Object.keys(t||{}).sort().join(","),i=Object.keys(e||{}).sort().join(","),s=(r||[]).map(a=>a.key).sort().join(",");return`${n}|${i}|${s}`},lve=t=>Date.now()-t<ove,Qg=t=>{if(t.length<2)return"stable";const e=t[0],n=(t[t.length-1]-e)/e*100;return n>5?"rising":n<-5?"falling":"stable"},Og=t=>{if(t.length<2)return 0;const e=t.reduce((n,i)=>n+i,0)/t.length,r=t.reduce((n,i)=>n+Math.pow(i-e,2),0)/t.length;return Math.sqrt(r).toFixed(1)},ay=(t,e)=>{const r=[...e].sort((i,s)=>i-s),n=r.findIndex(i=>i>=t);return Math.round((r.length-n)/r.length*100)},jg=t=>{switch(t){case"rising":return"📈";case"falling":return"📉";default:return"➡️"}},Dg=t=>{switch(t){case"rising":return"text-green-400";case"falling":return"text-red-400";default:return"text-gray-400"}},oy=(t,e)=>{const r=t/e;return r>=.8?"text-green-400":r>=.6?"text-yellow-400":r>=.4?"text-orange-400":"text-red-400"},vn={early:{color:"pink",icon:u.jsx("svg",{className:"w-5 h-5 text-pink-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),title:"早班平均",gradient:"from-pink-500/20 to-rose-500/20",border:"border-pink-400/30"},night:{color:"blue",icon:u.jsx("svg",{className:"w-5 h-5 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),title:"晚班平均",gradient:"from-blue-500/20 to-indigo-500/20",border:"border-blue-400/30"},consecutive:{color:"orange",icon:u.jsx("svg",{className:"w-5 h-5 text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),title:"連續上班平均",gradient:"from-orange-500/20 to-yellow-500/20",border:"border-orange-400/30"},stockLover:{color:"emerald",icon:u.jsx("svg",{className:"w-5 h-5 text-emerald-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),title:"進貨平均",gradient:"from-emerald-500/20 to-green-500/20",border:"border-emerald-400/30"}},Rg=({title:t,icon:e,themeColor:r,children:n,isLoading:i})=>u.jsxs("div",{className:`bg-gradient-to-br ${vn[r].gradient} rounded-2xl p-4 border ${vn[r].border} shadow-xl backdrop-blur-sm`,children:[u.jsxs("div",{className:"flex items-center justify-center mb-4",children:[u.jsx("div",{className:`w-10 h-10 rounded-full bg-${vn[r].color}-500/20 border border-${vn[r].color}-400/30 flex items-center justify-center mr-3`,children:e}),u.jsx("h3",{className:`text-lg font-bold text-${vn[r].color}-300`,children:t})]}),u.jsx(CR,{isLoading:i,children:n})]}),OH=(t,e,r)=>{if(!r||r.length===0)return null;const n=r.map(i=>{const[s,a]=i.key.split("-");return{key:i.key,year:parseInt(s),month:parseInt(a),sortKey:i.key}}).sort((i,s)=>i.sortKey.localeCompare(s.sortKey));for(const i of n){const s=e[i.key];if(s&&s[t]){if(t==="_lastUpdated")continue;if(Object.values(s[t]).some(o=>o&&o!==""))return i}}return null},UP=(t,e,r)=>{const n=[],i=[...r].sort((l,c)=>l.key.localeCompare(c.key)),s=[];for(const l of i){const c=e[l.key];if(!c||!c[t])continue;const[d,f]=l.key.split("-"),g=new Date(parseInt(d),parseInt(f)-1,0).getDate();for(let m=1;m<=g;m++){const p=c[t][m];s.push({year:parseInt(d),month:parseInt(f),day:m,shift:p})}}let a=0,o=!1;for(let l=0;l<s.length;l++){const c=s[l],d=s[l+1];c.shift==="早"||c.shift==="中"||c.shift==="晚"?(a++,d&&(d.month!==c.month||d.year!==c.year)&&(d.shift==="早"||d.shift==="中"||d.shift==="晚")&&(o=!0)):(a>0&&o&&n.push(a),a=0,o=!1)}a>0&&o&&n.push(a);let A=0;return n.length>0&&(A=n.reduce((c,d)=>c+d,0)/n.length),{avgConsecutive:parseFloat(A.toFixed(1)),maxConsecutive:n.length>0?Math.max(...n):0,consecutivePeriods:n.length}},cve=(t,e,r)=>{const n=Ave(t,e,r),i=NP.get(n);return i&&lve(i.timestamp)?i.data:mo("跨月統計計算",()=>{const s={},a=new Set;if(r.length>0){const o=r[0],A=t[o.key];A&&Object.keys(A).forEach(l=>{if(l==="_lastUpdated")return;const c=A[l];c&&Object.values(c).some(d=>d&&d!=="")&&a.add(l)})}return Array.from(a).forEach(o=>{const A=OH(o,t,r);A&&(UP(o,t,r),s[o]={employeeId:o,name:e[o]||o,hireMonth:A,months:0,totalEarly:0,totalNight:0,totalConsecutive:0,totalStock:0,crossMonthAvgConsecutive:0,crossMonthMaxConsecutive:0,crossMonthPeriods:0})}),r.forEach(o=>{const A=t[o.key];A&&Object.keys(s).forEach(l=>{const c=A[l];if(!c)return;const d=s[l].hireMonth;if(o.key>=d.sortKey){const[f,g]=o.key.split("-"),m={key:o.key,year:parseInt(f),month:parseInt(g)},p=jH(c,m);s[l].months++,s[l].totalEarly+=p.early,s[l].totalNight+=p.night,s[l].totalConsecutive+=p.avgConsecutive,s[l].totalStock+=p.stock}})}),Object.keys(s).forEach(o=>{const A=s[o];if(A.months>0&&(A.avgEarly=(A.totalEarly/A.months).toFixed(1),A.avgNight=(A.totalNight/A.months).toFixed(1),A.avgConsecutive=(A.totalConsecutive/A.months).toFixed(1),A.avgStock=(A.totalStock/A.months).toFixed(1),A.months>1)){const l=UP(o,t,r);A.crossMonthAvgConsecutive=l.avgConsecutive,A.crossMonthMaxConsecutive=l.maxConsecutive,A.crossMonthPeriods=l.consecutivePeriods}}),NP.set(n,{data:s,timestamp:Date.now()}),s})},uve=(t,e,r,n)=>{const i=OH(t,e,r);if(!i)return[];if(t==="_lastUpdated")return[];if(!(()=>{if(r.length>0){const l=r[0],c=e[l.key];if(c&&c[t]){const d=c[t];return Object.values(d).some(f=>f&&f!=="")}}return!1})())return[];const a=[],o=r.filter(l=>l.key>=i.sortKey).sort((l,c)=>c.key.localeCompare(l.key)),A=3;for(let l=0;l<o.length;l+=A)o.slice(l,l+A).forEach(d=>{const f=e[d.key];if(!f||!f[t])return;const[g,m]=d.key.split("-"),p={key:d.key,year:parseInt(g),month:parseInt(m)},v=jH(f[t],p);a.push({...v,year:p.year,month:p.month})});return a},jH=(t,e)=>{const r=new Date(e.year,e.month-1,0).getDate();let n=0,i=0,s=[],a=0,o=0;for(let l=1;l<=r;l++){const c=t[l];c&&(c==="早"&&n++,c==="晚"&&i++,(c==="中"||c==="晚")&&new Date(e.year,e.month-1,l).getDay()===3&&o++,c==="早"||c==="中"||c==="晚"?a++:a>0&&(s.push(a),a=0))}a>0&&s.push(a);let A=0;return s.length>0&&(A=s.reduce((c,d)=>c+d,0)/s.length),{early:n,night:i,avgConsecutive:parseFloat(A.toFixed(1)),maxConsecutive:s.length>0?Math.max(...s):0,consecutivePeriods:s.length,stock:o}},dve=({employeeStats:t,showAll:e=!1,onEmployeeClick:r})=>{const i=(()=>{const a=Object.values(t).map(l=>({employeeId:l.employeeId,name:l.name,avgEarly:parseFloat(l.avgEarly)||0,months:l.months})).filter(l=>l.months>0),o=a.map(l=>l.avgEarly),A=Math.max(...o);return a.sort((l,c)=>c.avgEarly-l.avgEarly).map((l,c)=>({...l,rank:c+1,percentile:ay(l.avgEarly,o),colorClass:oy(l.avgEarly,A)}))})(),s=e?i:i.slice(0,5);return u.jsx("div",{className:"space-y-3",children:i.length>0?s.map(a=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500/30 border border-pink-400/50 flex items-center justify-center text-xs font-bold text-pink-300",children:a.rank}),u.jsx("span",{className:"text-white font-medium text-sm cursor-pointer hover:text-pink-200 transition-colors",onClick:()=>r&&r(a),children:a.name})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:`font-bold text-sm ${a.colorClass}`,children:[a.avgEarly," 次/月"]}),u.jsxs("div",{className:"text-gray-400 text-xs",children:["(",a.months,"個月)"]})]})]},a.employeeId)):u.jsxs("div",{className:"text-center py-6 text-gray-400",children:[u.jsx("div",{className:"text-4xl mb-2",children:"🌅"}),u.jsx("div",{children:"無跨月早班記錄"})]})})},fve=({employeeStats:t,showAll:e=!1,onEmployeeClick:r})=>{const i=(()=>{const a=Object.values(t).map(l=>({employeeId:l.employeeId,name:l.name,avgNight:parseFloat(l.avgNight)||0,months:l.months})).filter(l=>l.months>0),o=a.map(l=>l.avgNight),A=Math.max(...o);return a.sort((l,c)=>c.avgNight-l.avgNight).map((l,c)=>({...l,rank:c+1,percentile:ay(l.avgNight,o),colorClass:oy(l.avgNight,A)}))})(),s=e?i:i.slice(0,5);return u.jsx("div",{className:"space-y-3",children:i.length>0?s.map(a=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500/30 border border-blue-400/50 flex items-center justify-center text-xs font-bold text-blue-300",children:a.rank}),u.jsx("span",{className:"text-white font-medium text-sm cursor-pointer hover:text-blue-200 transition-colors",onClick:()=>r&&r(a),children:a.name})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:`font-bold text-sm ${a.colorClass}`,children:[a.avgNight," 次/月"]}),u.jsxs("div",{className:"text-gray-400 text-xs",children:["(",a.months,"個月)"]})]})]},a.employeeId)):u.jsxs("div",{className:"text-center py-6 text-gray-400",children:[u.jsx("div",{className:"text-4xl mb-2",children:"🌙"}),u.jsx("div",{children:"無跨月晚班記錄"})]})})},hve=({employeeStats:t,showAll:e=!1,onEmployeeClick:r})=>{const i=(()=>{const a=Object.values(t).map(l=>({employeeId:l.employeeId,name:l.name,avgConsecutive:parseFloat(l.avgConsecutive)||0,crossMonthAvgConsecutive:parseFloat(l.crossMonthAvgConsecutive)||0,months:l.months})).filter(l=>l.months>0),o=a.map(l=>l.avgConsecutive),A=Math.max(...o);return a.sort((l,c)=>c.avgConsecutive-l.avgConsecutive).map((l,c)=>({...l,rank:c+1,percentile:ay(l.avgConsecutive,o),colorClass:oy(l.avgConsecutive,A)}))})(),s=e?i:i.slice(0,5);return u.jsx("div",{className:"space-y-3",children:i.length>0?s.map(a=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-500/30 border border-orange-400/50 flex items-center justify-center text-xs font-bold text-orange-300",children:a.rank}),u.jsx("span",{className:"text-white font-medium text-sm cursor-pointer hover:text-orange-200 transition-colors",onClick:()=>r&&r(a),children:a.name})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:`font-bold text-sm ${a.colorClass}`,children:[a.avgConsecutive," 天/月"]}),u.jsxs("div",{className:"text-gray-500 text-xs",children:["(",a.months,"個月)"]})]})]},a.employeeId)):u.jsxs("div",{className:"text-center py-6 text-gray-400",children:[u.jsx("div",{className:"text-4xl mb-2",children:"⚡"}),u.jsx("div",{children:"無跨月連續上班記錄"})]})})},gve=({employeeStats:t,showAll:e=!1,onEmployeeClick:r})=>{const i=(()=>{const a=Object.values(t).map(l=>({employeeId:l.employeeId,name:l.name,avgStock:parseFloat(l.avgStock)||0,months:l.months})).filter(l=>l.months>0),o=a.map(l=>l.avgStock),A=Math.max(...o);return a.sort((l,c)=>c.avgStock-l.avgStock).map((l,c)=>({...l,rank:c+1,percentile:ay(l.avgStock,o),colorClass:oy(l.avgStock,A)}))})(),s=e?i:i.slice(0,5);return u.jsx("div",{className:"space-y-3",children:i.length>0?s.map(a=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/30 border border-emerald-400/50 flex items-center justify-center text-xs font-bold text-emerald-300",children:a.rank}),u.jsx("span",{className:"text-white font-medium text-sm cursor-pointer hover:text-emerald-200 transition-colors",onClick:()=>r&&r(a),children:a.name})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:`font-bold text-sm ${a.colorClass}`,children:[a.avgStock," 次/月"]}),u.jsxs("div",{className:"text-gray-400 text-xs",children:["(",a.months,"個月)"]})]})]},a.employeeId)):u.jsxs("div",{className:"text-center py-6 text-gray-400",children:[u.jsx("div",{className:"text-4xl mb-2",children:"📦"}),u.jsx("div",{children:"無跨月進貨記錄"})]})})},mve=({employee:t,onClose:e,allSchedules:r,availableMonths:n,names:i})=>{const[s,a]=ti.useState([]),[o,A]=ti.useState(!1);ti.useEffect(()=>{t&&(A(!0),setTimeout(()=>{const f=uve(t.employeeId,r,n);a(f),A(!1)},0))},[t,r,n,i]);const c=(()=>{if(s.length<2)return null;const f=s.map(v=>v.early),g=s.map(v=>v.night),m=s.map(v=>v.avgConsecutive),p=s.map(v=>v.stock);return{early:{trend:Qg(f),stdDev:Og(f)},night:{trend:Qg(g),stdDev:Og(g)},consecutive:{trend:Qg(m),stdDev:Og(m)},stock:{trend:Qg(p),stdDev:Og(p)}}})();if(!t)return null;const d=f=>{f.target===f.currentTarget&&e()};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:d,children:u.jsxs("div",{className:"bg-gradient-to-br from-surface/90 to-surface/70 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:f=>f.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-white",children:[t.name," 的跨月統計詳情"]}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"mb-6 p-4 bg-surface/40 rounded-lg border border-white/10",children:u.jsxs("div",{className:"text-center text-sm",children:[u.jsx("span",{className:"text-gray-400",children:"統計期間："}),u.jsxs("span",{className:"text-white",children:[t.months,"個月"]})]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-cyan-300",children:"各月份詳細資料"}),o?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-300 mx-auto"}),u.jsx("div",{className:"text-gray-400 mt-2",children:"載入中..."})]}):s.map((f,g)=>u.jsxs("div",{className:"bg-surface/30 rounded-lg p-4 border border-white/10",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("h5",{className:"font-medium text-white",children:[f.year,"年",f.month,"月"]}),u.jsxs("span",{className:"text-xs text-gray-400",children:["第 ",g+1," 個月"]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-400 text-sm",children:"早班次數"}),u.jsx("span",{className:"text-pink-300 font-bold",children:f.early})]}),u.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:"bg-pink-400 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(f.early/20*100,100)}%`}})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-400 text-sm",children:"晚班次數"}),u.jsx("span",{className:"text-blue-300 font-bold",children:f.night})]}),u.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-400 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(f.night/20*100,100)}%`}})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-400 text-sm",children:"連續上班天數"}),u.jsx("span",{className:"text-orange-300 font-bold",children:f.avgConsecutive})]}),u.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:"bg-orange-400 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(f.avgConsecutive/10*100,100)}%`}})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-400 text-sm",children:"進貨次數"}),u.jsx("span",{className:"text-emerald-300 font-bold",children:f.stock})]}),u.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:"bg-emerald-400 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(f.stock/10*100,100)}%`}})})]})]})]},g))]}),u.jsxs("div",{className:"mt-6 space-y-4",children:[u.jsxs("div",{className:"p-4 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-lg border border-purple-400/30",children:[u.jsx("h4",{className:"text-lg font-semibold text-purple-300 mb-3",children:"平均值摘要"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-pink-300 font-bold text-lg",children:[t.avgEarly," 次/月"]}),u.jsx("div",{className:"text-gray-400",children:"早班平均"}),c&&u.jsxs("div",{className:`text-xs mt-1 ${Dg(c.early.trend)}`,children:[jg(c.early.trend)," 標準差: ",c.early.stdDev]})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-blue-300 font-bold text-lg",children:[t.avgNight," 次/月"]}),u.jsx("div",{className:"text-gray-400",children:"晚班平均"}),c&&u.jsxs("div",{className:`text-xs mt-1 ${Dg(c.night.trend)}`,children:[jg(c.night.trend)," 標準差: ",c.night.stdDev]})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-orange-300 font-bold text-lg",children:[t.avgConsecutive," 天/月"]}),u.jsx("div",{className:"text-gray-400",children:"連續上班平均"}),c&&u.jsxs("div",{className:`text-xs mt-1 ${Dg(c.consecutive.trend)}`,children:[jg(c.consecutive.trend)," 標準差: ",c.consecutive.stdDev]})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-emerald-300 font-bold text-lg",children:[t.avgStock," 次/月"]}),u.jsx("div",{className:"text-gray-400",children:"進貨平均"}),c&&u.jsxs("div",{className:`text-xs mt-1 ${Dg(c.stock.trend)}`,children:[jg(c.stock.trend)," 標準差: ",c.stock.stdDev]})]})]})]}),s.length>1&&u.jsxs("div",{className:"p-4 bg-surface/40 rounded-lg border border-white/10",children:[u.jsx("h4",{className:"text-lg font-semibold text-cyan-300 mb-4",children:"月度趨勢圖"}),u.jsx("div",{className:"h-48",children:u.jsx(Cs,{width:"100%",height:"100%",children:u.jsxs(sy,{data:s.slice().sort((f,g)=>`${f.year}-${f.month.toString().padStart(2,"0")}`.localeCompare(`${g.year}-${g.month.toString().padStart(2,"0")}`)).map(f=>({month:`${f.year}/${f.month}`,early:f.early,night:f.night,consecutive:f.avgConsecutive,stock:f.stock})),children:[u.jsx(ei,{type:"monotone",dataKey:"early",stroke:"#ec4899",strokeWidth:2,name:"早班"}),u.jsx(ei,{type:"monotone",dataKey:"night",stroke:"#3b82f6",strokeWidth:2,name:"晚班"}),u.jsx(ei,{type:"monotone",dataKey:"consecutive",stroke:"#f97316",strokeWidth:2,name:"平均連續上班"}),u.jsx(ei,{type:"monotone",dataKey:"stock",stroke:"#10b981",strokeWidth:2,name:"進貨"})]})})})]})]})]})})};function pve({allSchedules:t,names:e,availableMonths:r}){const[n,i]=ti.useState(!1),[s,a]=ti.useState(null),o=x.useMemo(()=>!t||Object.keys(t).length===0||!e||Object.keys(e).length===0?{}:!r||r.length===0?{}:cve(t,e,r),[t,e,r]),A=Object.keys(o).length>0,l=c=>{const d=o[c.employeeId];d&&a(d)};return u.jsxs("div",{className:"space-y-6",children:[A?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(Rg,{title:vn.early.title,icon:vn.early.icon,themeColor:"early",isLoading:!1,children:u.jsx(dve,{employeeStats:o,showAll:n,onEmployeeClick:l})}),u.jsx(Rg,{title:vn.night.title,icon:vn.night.icon,themeColor:"night",isLoading:!1,children:u.jsx(fve,{employeeStats:o,showAll:n,onEmployeeClick:l})}),u.jsx(Rg,{title:vn.consecutive.title,icon:vn.consecutive.icon,themeColor:"consecutive",isLoading:!1,children:u.jsx(hve,{employeeStats:o,showAll:n,onEmployeeClick:l})}),u.jsx(Rg,{title:vn.stockLover.title,icon:vn.stockLover.icon,themeColor:"stockLover",isLoading:!1,children:u.jsx(gve,{employeeStats:o,showAll:n,onEmployeeClick:l})})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:()=>i(!n),className:"px-8 py-3 bg-gradient-to-r from-purple-500/20 to-pink-500/20 hover:from-purple-500/30 hover:to-pink-500/30 border border-purple-400/30 text-purple-300 rounded-xl transition-all duration-200 text-sm font-medium shadow-lg backdrop-blur-sm",children:n?"收起所有排名":"查看全部排名"})})]}):u.jsxs("div",{className:"text-center py-12 text-gray-400",children:[u.jsx("div",{className:"text-6xl mb-4",children:"📊"}),u.jsx("div",{className:"text-xl mb-2",children:"暫無跨月資料"}),u.jsx("div",{className:"text-sm",children:"請確保已載入多個月份的班表資料"})]}),s&&u.jsx(mve,{employee:s,onClose:()=>a(null),allSchedules:t,availableMonths:r,names:e})]})}x.lazy(()=>ms(()=>import("./ChartAnalysis-BhOFF20q.js"),[]));const Pi=["7-11 新街門市","A21 環北站","7-11 高萱門市","A18 桃園高鐵站","A16 橫山站","大園農會","不搭車"],PP={"A21 環北站":{name:"A21 環北站",originalPrice:65,monthlyPass:{30:1260,90:3564,120:3888}},"A19 體育園區站":{name:"A19 體育園區站",originalPrice:40,monthlyPass:{30:735,90:2079,120:2268}},"7-11 高萱門市":{name:"A19 體育園區站",originalPrice:40,monthlyPass:{30:735,90:2079,120:2268}},"A18 桃園高鐵站":{name:"A18 桃園高鐵站",originalPrice:35,monthlyPass:{30:630,90:1782,120:1944}}},vve={name:"TPass 799",price:799,days:30,description:"A7-A22 無限搭乘 30天"},qw={K:"早",L:"中",Y:"晚",A:"晚",月休:"休",SS:"特",R:"休",KK:"早",LL:"中",YY:"晚",早班:"早",中班:"中",晚班:"晚"},ju={早:"#ec4899",中:"#06b6d4",晚:"#3b82f6",休:"#6b7280",特:"#f97316"},Mg=(t=[])=>{const e=[],r=new Date,n=r.getFullYear(),i=r.getMonth()+1,s=`${n}-${i.toString().padStart(2,"0")}`;return t.length>0?t.sort((o,A)=>A.key.localeCompare(o.key)).forEach(o=>{let A=o.label;o.key===s&&(A+=" (當月)"),e.push({key:o.key,label:A,year:parseInt(o.key.split("-")[0]),month:parseInt(o.key.split("-")[1]),lastUpdated:o.lastUpdated})}):e.push({key:s,label:`${n}年${i}月 (當月)`,year:n,month:i}),e},yve=()=>{const t=[],e=new Date,r=2024,n=5;let i=new Date(r,n-1,1);for(;i<=e;){const s=i.getFullYear(),a=i.getMonth()+1,o=`${s}-${a.toString().padStart(2,"0")}`,A=`${s}年${a}月`;t.push({key:o,label:A,year:s,month:a}),i=new Date(i.getFullYear(),i.getMonth()+1,1)}for(let s=1;s<=6;s++){const a=new Date(e.getFullYear(),e.getMonth()+s,1),o=a.getFullYear(),A=a.getMonth()+1,l=`${o}-${A.toString().padStart(2,"0")}`;let c=`${o}年${A}月`;s===1&&(c+=" (下個月)"),t.push({key:l,label:c,year:o,month:A})}return t};function wve(){const[t,e]=x.useState("display"),[r,n]=x.useState({}),[i,s]=x.useState({}),[a,o]=x.useState(()=>{const O=new Date,R=O.getFullYear(),Z=O.getMonth()+1;return`${R}-${Z.toString().padStart(2,"0")}`}),[A,l]=x.useState({}),[c,d]=x.useState({}),[f,g]=x.useState([]);x.useState(!1);const[m,p]=x.useState({}),[v,y]=x.useState({}),[w,B]=x.useState("date"),[I,T]=x.useState("all"),[F,C]=x.useState(null),[_,S]=x.useState("week1"),[U,k]=x.useState(null),[Q,P]=x.useState(null),[ae,xe]=x.useState([]),[me,pe]=x.useState({start:1,end:31}),[q,ie]=x.useState([]),[ce,Se]=x.useState("charts"),[ne,Ne]=x.useState("monthly"),[ze,j]=x.useState("chart"),[V,D]=x.useState(null),[Y,M]=x.useState({startDate:null,endDate:null}),[$,z]=x.useState(!1),[L,Be]=x.useState({statistics:!1,charts:!1,export:!1,import:!1}),[be,ke]=x.useState(""),[Re,ir]=x.useState(null),[Bo,LA]=x.useState("");x.useState("current");const[Js,zc]=x.useState(""),[HA,VA]=x.useState("import"),[Zs,Co]=x.useState({id:"",name:"",pickupLocation:Pi[0]});x.useEffect(()=>{Ht(),sr()},[]),x.useEffect(()=>{if(f.length>0){const O=new Date,R=O.getFullYear(),Z=O.getMonth()+1,ee=`${R}-${Z.toString().padStart(2,"0")}`;if(f.some(oe=>oe.key===ee))o(ee);else{const oe=f[0];oe&&o(oe.key)}}},[f]),x.useEffect(()=>{ce==="charts"?P(null):ce==="overlap"&&k(null)},[ce]),x.useEffect(()=>{const O=sf(ki(Ar,"schedule","currentMonth"),Z=>{if(Z.exists()){const ee=Z.data();n(ee),l(J=>({...J,current:ee._lastUpdated}))}}),R=sf(ki(Ar,"schedule","nextMonth"),Z=>{if(Z.exists()){const ee=Z.data();s(ee),l(J=>({...J,next:ee._lastUpdated}))}});return()=>{O(),R()}},[]);const Ht=async()=>{try{const O=await yd(pd(Ar,"schedule")),R={},Z=[];O.forEach(J=>{const oe=J.data();R[J.id]=oe,J.id.match(/^\d{4}-\d{2}$/)&&Z.push({key:J.id,label:`${J.id.split("-")[0]}年${J.id.split("-")[1]}月`,lastUpdated:oe._lastUpdated})}),d(R),g(Z.sort((J,oe)=>oe.key.localeCompare(J.key)));const ee={};R.currentMonth&&(n(R.currentMonth),ee.current=R.currentMonth._lastUpdated),R.nextMonth&&(s(R.nextMonth),ee.next=R.nextMonth._lastUpdated),Z.forEach(J=>{ee[J.key]=J.lastUpdated}),l(ee)}catch(O){console.error("載入班表資料失敗:",O)}},sr=async()=>{try{const O=await yd(pd(Ar,"names")),R={};O.forEach(J=>{R[J.id]=J.data().name}),p(R);const Z=await yd(pd(Ar,"pickupLocations")),ee={};Z.forEach(J=>{ee[J.id]=J.data().location}),y(ee)}catch(O){console.error("載入同事資料失敗:",O)}},KA=async()=>{try{for(const[O,R]of Object.entries(m))await Wo(ki(Ar,"names",O),{name:R});for(const[O,R]of Object.entries(v))await Wo(ki(Ar,"pickupLocations",O),{location:R});alert("同事資料已儲存")}catch(O){console.error("儲存同事資料失敗:",O),alert("儲存失敗")}},sh=()=>{confirm("確定要清空所有同事資料嗎？")&&(p({}),y({}))},ah=()=>{const{id:O,name:R,pickupLocation:Z}=Zs;if(!O||!R){alert("請填寫職員編號和姓名");return}if(m[O]){alert("職員編號已存在");return}p(ee=>({...ee,[O]:R})),y(ee=>({...ee,[O]:Z})),Co({id:"",name:"",pickupLocation:Pi[0]})},Ay=O=>{confirm(`確定要刪除 ${m[O]} 嗎？`)&&(p(R=>{const Z={...R};return delete Z[O],Z}),y(R=>{const Z={...R};return delete Z[O],Z}))},Eo=(O,R)=>{p(Z=>({...Z,[O]:R}))},oh=(O,R)=>{y(Z=>({...Z,[O]:R}))},Ah=()=>{if(!be.trim()){LA("請輸入資料");return}try{const O=be.trim().split(`
`),R={};let Z=null,ee=0;for(const J of O){if(ee++,!J.trim())continue;console.log(`處理第 ${ee} 行:`,J);const oe=J.split("	");if(console.log("分割後的欄位:",oe),ee<=2){console.log("跳過標題行或日期行");continue}const Ie=oe[0].trim(),Qe=oe[1].trim();if(Ie&&Qe&&Ie.match(/^A\d+$/)&&(console.log("發現同事資料行:",Ie,Qe),oe[2]&&oe[2].trim()==="班別排班")){Z={id:Ie,name:Qe,schedule:[]};const Me=oe.slice(3);console.log("班表資料:",Me);const Ue=Me.map(jn=>{const gt=jn.trim();return gt?qw[gt]?qw[gt]:gt:""});console.log("處理後的班表:",Ue);const at=Qe.replace(/\d+/g,"").trim();R[Ie]={name:at,schedule:Ue}}}ir(R),LA("")}catch{LA("解析資料時發生錯誤")}},Yc=async()=>{if(!Re){alert("請先解析資料");return}if(!Js){alert("請選擇要儲存的月份");return}try{const O={};for(const[R,Z]of Object.entries(Re)){if(!R||R.trim()===""){console.warn("跳過空的職員編號");continue}O[R]={},Z.schedule.forEach((ee,J)=>{const oe=`${J+1}`;ee&&ee.trim()&&(O[R][oe]=ee)}),console.log(`同事 ${R}: ${Object.keys(O[R]).length} 個班次`)}O._lastUpdated=new Date().toISOString(),console.log("準備上傳資料:",O),console.log("資料結構檢查:");for(const[R,Z]of Object.entries(O))R!=="_lastUpdated"&&console.log(`- ${R}: ${Object.keys(Z).length} 個班次`);await Wo(ki(Ar,"schedule",Js),O),console.log("班表上傳成功");for(const[R,Z]of Object.entries(Re))if(!m[R])try{await Wo(ki(Ar,"names",R),{name:Z.name}),console.log(`同事 ${R} 姓名已更新`)}catch(ee){console.warn(`更新同事 ${R} 姓名失敗:`,ee)}await Ht(),alert(`班表已成功儲存到 ${Js}！`),ke(""),ir(null),zc("")}catch(O){console.error("上傳班表失敗:",O);let R="上傳失敗";O.code==="permission-denied"?R="權限不足，請檢查 Firebase 安全規則":O.code==="unavailable"?R="網路連線問題，請檢查網路連線":O.message&&(R=`上傳失敗: ${O.message}`),alert(R)}},Xc=()=>{let O;a==="current"?O=r:a==="next"?O=i:O=c[a]||{};const R=Object.keys(O).filter(J=>J!=="_lastUpdated"),Z=(J,oe)=>{var Me,Ue;const Ie=parseInt(((Me=J.match(/\d+/))==null?void 0:Me[0])||"0"),Qe=parseInt(((Ue=oe.match(/\d+/))==null?void 0:Ue[0])||"0");return Ie-Qe};let ee=R;return F?ee=[F]:q.length>0&&(ee=q),ee.sort(Z)},Ot=()=>a==="current"?r:a==="next"?i:c[a]||{},qc=O=>{if(!O)return null;const R={totalMonths:0,totalShifts:0,earlyShifts:0,midShifts:0,nightShifts:0,restDays:0,specialShifts:0,averageShiftsPerMonth:0,averageEarlyPerMonth:0,averageMidPerMonth:0,averageNightPerMonth:0,averageRestPerMonth:0,averageSpecialPerMonth:0};return Object.keys(c).forEach(Z=>{if(Z==="_lastUpdated")return;const J=c[Z][O];J&&(R.totalMonths++,Object.keys(J).forEach(oe=>{if(oe==="_lastUpdated")return;const Ie=J[oe];if(Ie)switch(R.totalShifts++,Ie){case"早":R.earlyShifts++;break;case"中":R.midShifts++;break;case"晚":R.nightShifts++;break;case"休":R.restDays++;break;case"特":R.specialShifts++;break}}))}),R.totalMonths>0&&(R.averageShiftsPerMonth=Math.round(R.totalShifts/R.totalMonths),R.averageEarlyPerMonth=Math.round(R.earlyShifts/R.totalMonths),R.averageMidPerMonth=Math.round(R.midShifts/R.totalMonths),R.averageNightPerMonth=Math.round(R.nightShifts/R.totalMonths),R.averageRestPerMonth=Math.round(R.restDays/R.totalMonths),R.averageSpecialPerMonth=Math.round(R.specialShifts/R.totalMonths)),R},lh=()=>new Date().getDate(),Jc=O=>{const R=new Date,Z=[];for(let ee=0;ee<O;ee++){const J=new Date(R);J.setDate(R.getDate()+ee),Z.push(J.getDate())}return Z},Si=()=>{switch(I){case"today":return[lh()];case"3days":return Jc(3);case"7days":return Jc(7);case"custom":return Array.from({length:me.end-me.start+1},(ee,J)=>me.start+J);default:let O,R;if(a==="current"){const ee=new Date;O=ee.getFullYear(),R=ee.getMonth()+1}else if(a==="next"){const ee=new Date;O=ee.getFullYear(),R=ee.getMonth()+2}else{const[ee,J]=a.split("-");O=parseInt(ee),R=parseInt(J)}const Z=new Date(O,R,0).getDate();return Array.from({length:Z},(ee,J)=>J+1)}},Zc=O=>{const R=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),Z=1,ee=R;if(!O||!v[O])return null;const J=v[O];if(J==="不搭車"||!PP[J])return null;const Ie=Ot()[O];if(!Ie)return null;let Qe=0,Me=0;for(let Ji=Z;Ji<=ee;Ji++){const Xr=Ie[Ji];Xr&&Xr!=="休"&&Xr!=="特"&&(Me++,Xr==="早"?Qe+=1:(Xr==="中"||Xr==="晚")&&(Qe+=2))}if(Qe===0)return null;const Ue=PP[J],at=Qe*Ue.originalPrice,jn=Math.ceil(at*.7),gt=[];Object.entries(Ue.monthlyPass).forEach(([Ji,Xr])=>{const ru=parseInt(Ji),nu=Xr,ly=Xr/(ru/30);gt.push({days:ru,price:Xr,totalCost:nu,averagePricePerMonth:ly,savings:at-nu})});const Dr=vve.price,cn=Dr/30,un=Math.ceil((Dr-at)/Ue.originalPrice),uh=()=>at>=Dr?{type:"recommended",text:"TPass比原價划算，強烈推薦！"}:un<=5?{type:"consider",text:`只需額外搭乘${un}次即可回本，建議考慮`}:un<=10?{type:"maybe",text:`需要額外搭乘${un}次才回本，可考慮其他方案`}:{type:"not-recommended",text:`需要額外搭乘${un}次才回本，不建議`};return{employeeId:O,employeeName:m[O]||O,location:J,workDays:Me,totalTrips:Qe,originalTotal:at,citizenCardTotal:jn,monthlyPassOptions:gt,tpassTotal:Dr,tpassDailyCost:cn,breakEvenTrips:un,tpassRecommendation:uh(),recommendations:[]}},eu=()=>{const O=_o();O&&(document.body.appendChild(O),setTimeout(()=>{BR(O,{backgroundColor:"#ffffff",scale:2,useCORS:!0,allowTaint:!0}).then(R=>{const Z=document.createElement("a");Z.download=`乘車表_${a==="current"?"當月":"下個月"}_${new Date().toISOString().split("T")[0]}.png`,Z.href=R.toDataURL(),Z.click(),document.body.removeChild(O)}).catch(R=>{console.error("匯出失敗:",R),document.body.removeChild(O)})},500))},qi=()=>{const O=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),R=[];for(let Z=1;Z<=Math.ceil(O/7);Z++){const ee=(Z-1)*7+1,J=Math.min(Z*7,O);R.push(u.jsxs("option",{value:`week${Z}`,children:[new Date().getMonth()+1,"月",ee,"日 - ",new Date().getMonth()+1,"月",J,"日"]},`week${Z}`))}return R},tu=x.useCallback(()=>{const O=Ot();let R,Z;if($&&Y.startDate&&Y.endDate){if(R=Y.startDate.getDate(),Z=Y.endDate.getDate(),R>Z){alert("開始日期不能大於結束日期");return}const J=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();if(R<1||Z>J){alert(`日期範圍必須在 1-${J} 之間`);return}}else{const J=parseInt(_.replace("week",""));R=(J-1)*7+1,Z=Math.min(J*7,new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate())}let ee="";for(let J=R;J<=Z;J++){const oe={};Object.keys(O).forEach(Ie=>{var Ue;if(Ie==="_lastUpdated")return;const Qe=v[Ie];if(!Qe||Qe==="不搭車")return;((Ue=O[Ie])==null?void 0:Ue[J])==="早"&&(oe[Qe]=(oe[Qe]||0)+1)}),ee+=`${new Date().getMonth()+1}/${J}
`,Object.keys(oe).length>0&&["A21 環北站","7-11 高萱門市","7-11 新街門市","A18 桃園高鐵站"].forEach(Qe=>{oe[Qe]&&(ee+=`${Qe}${oe[Qe]}人
`)}),ee+=`
`}navigator.clipboard.writeText(ee.trim()).then(()=>{alert("Line 群文字已複製到剪貼簿！")}).catch(()=>{prompt("請複製以下文字：",ee.trim())})},[$,Y,_,v]),$A=()=>{const O=Ot(),R={};Object.keys(O).forEach(ee=>{ee!=="_lastUpdated"&&(R[ee]={})});const Z=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let ee=1;ee<=Z;ee++){const J={};Object.keys(O).forEach(oe=>{var Qe;if(oe==="_lastUpdated")return;const Ie=(Qe=O[oe])==null?void 0:Qe[ee];Ie&&Ie!=="休"&&(J[Ie]||(J[Ie]=[]),J[Ie].push(oe))}),Object.keys(J).forEach(oe=>{const Ie=J[oe];for(let Qe=0;Qe<Ie.length;Qe++)for(let Me=Qe+1;Me<Ie.length;Me++){const Ue=Ie[Qe],at=Ie[Me];R[Ue][at]||(R[Ue][at]=0),R[at][Ue]||(R[at][Ue]=0),R[Ue][at]++,R[at][Ue]++}}),J.早&&J.中&&J.早.forEach(oe=>{J.中.forEach(Ie=>{R[oe][Ie]||(R[oe][Ie]=0),R[Ie][oe]||(R[Ie][oe]=0),R[oe][Ie]++,R[Ie][oe]++})}),J.中&&J.晚&&J.中.forEach(oe=>{J.晚.forEach(Ie=>{R[oe][Ie]||(R[oe][Ie]=0),R[Ie][oe]||(R[Ie][oe]=0),R[oe][Ie]++,R[Ie][oe]++})})}return R},ch=O=>{const Z=$A()[O]||{};return Object.entries(Z).map(([ee,J])=>({employeeId:ee,name:m[ee]||ee,count:J})).sort((ee,J)=>J.count-ee.count).filter(ee=>ee.count>0)},_o=()=>{const O=Ot(),R=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),Z={};for(let Me=1;Me<=R;Me++)Z[Me]={},Pi.forEach(Ue=>{Z[Me][Ue]=0});Object.keys(O).forEach(Me=>{var at;if(Me==="_lastUpdated")return;const Ue=v[Me];if(!(!Ue||Ue==="不搭車"))for(let jn=1;jn<=R;jn++)((at=O[Me])==null?void 0:at[jn])==="早"&&Z[jn][Ue]++});const ee=document.createElement("div");ee.style.cssText=`
      position: fixed;
      top: -9999px;
      left: -9999px;
      width: 1200px;
      background: white;
      padding: 40px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      color: #333;
    `;const J=document.createElement("h1");J.textContent=`${new Date().getFullYear()}年${new Date().getMonth()+1}月 乘車統計表`,J.style.cssText=`
      text-align: center;
      font-size: 32px;
      font-weight: bold;
      margin-bottom: 30px;
      color: #2c3e50;
    `,ee.appendChild(J);const oe=document.createElement("div");oe.style.cssText=`
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
      margin-top: 20px;
    `,["日","一","二","三","四","五","六"].forEach(Me=>{const Ue=document.createElement("div");Ue.textContent=Me,Ue.style.cssText=`
        text-align: center;
        font-weight: bold;
        font-size: 18px;
        padding: 15px 10px;
        background: #f8f9fa;
        border-radius: 8px;
        color: #495057;
      `,oe.appendChild(Ue)});const Qe=new Date(new Date().getFullYear(),new Date().getMonth(),1).getDay();for(let Me=0;Me<Qe;Me++){const Ue=document.createElement("div");Ue.style.cssText=`
        height: 120px;
        background: #f8f9fa;
        border-radius: 8px;
      `,oe.appendChild(Ue)}for(let Me=1;Me<=R;Me++){const Ue=document.createElement("div");Ue.style.cssText=`
        height: 120px;
        border: 2px solid #e9ecef;
        border-radius: 8px;
        padding: 8px;
        background: white;
        position: relative;
      `;const at=document.createElement("div");if(at.textContent=Me,at.style.cssText=`
        font-size: 16px;
        font-weight: bold;
        color: #495057;
        margin-bottom: 8px;
        text-align: center;
      `,Ue.appendChild(at),Pi.some(gt=>{var Dr;return gt!=="不搭車"&&((Dr=Z[Me])==null?void 0:Dr[gt])>0}))Pi.filter(gt=>gt!=="不搭車").forEach(gt=>{var cn;const Dr=((cn=Z[Me])==null?void 0:cn[gt])||0;if(Dr>0){const un=document.createElement("div");un.style.cssText=`
               font-size: 12px;
               margin: 2px 0;
               color: #333;
               text-align: center;
             `,un.textContent=`${gt}: ${Dr}人`,Ue.appendChild(un)}});else{const gt=document.createElement("div");gt.textContent="無乘車",gt.style.cssText=`
           font-size: 12px;
           color: #6c757d;
           text-align: center;
           margin-top: 20px;
         `,Ue.appendChild(gt)}oe.appendChild(Ue)}return ee.appendChild(oe),ee};return u.jsxs("div",{className:"container-custom py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"班表管理工具"}),u.jsx("p",{className:"text-center text-text-secondary",children:"早班好"})]}),u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"bg-surface/40 rounded-xl p-1 border border-white/10 w-full max-w-4xl",children:u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-1",children:[u.jsxs("button",{onClick:()=>e("display"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="display"?"bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-blue-400 border border-blue-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[u.jsx(xd,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),u.jsx("span",{className:"hidden sm:inline",children:"顯示班表"}),u.jsx("span",{className:"sm:hidden",children:"班表"})]}),u.jsxs("button",{onClick:()=>e("transport"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="transport"?"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 text-yellow-400 border border-yellow-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[u.jsx(IX,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),u.jsx("span",{className:"hidden sm:inline",children:"交通及車費試算"}),u.jsx("span",{className:"sm:hidden",children:"交通"})]}),u.jsxs("button",{onClick:()=>e("statistics"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="statistics"?"bg-gradient-to-r from-purple-500/20 to-pink-500/20 text-purple-400 border border-purple-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[u.jsx(vD,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),u.jsx("span",{className:"hidden sm:inline",children:"統計功能"}),u.jsx("span",{className:"sm:hidden",children:"統計"})]}),u.jsxs("button",{onClick:()=>e("import"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="import"?"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-400 border border-green-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[u.jsx(zh,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),u.jsx("span",{className:"hidden sm:inline",children:"匯入與轉換班表"}),u.jsx("span",{className:"sm:hidden",children:"匯入"})]})]})})}),t==="display"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 md:p-6 lg:p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"月份"}),u.jsxs("div",{className:"relative",children:[u.jsx("select",{value:a,onChange:O=>o(O.target.value),className:"w-full px-3 py-2 md:px-4 md:py-3 bg-white/10 border border-white/20 rounded-xl focus:border-blue-400/50 focus:bg-white/20 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200 appearance-none cursor-pointer text-sm md:text-base",children:Mg(f).map(O=>u.jsx("option",{value:O.key,children:O.label},O.key))}),u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:u.jsx("svg",{className:"w-4 h-4 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"顯示模式"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:w,onChange:O=>B(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[u.jsx("option",{value:"date",children:"日期視圖"}),u.jsx("option",{value:"employee",children:"同事視圖"}),u.jsx("option",{value:"partner",children:"搭班視圖"})]}),u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:u.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-green-300 group-hover:text-green-200 transition-colors",children:"篩選"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:I,onChange:O=>T(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-green-400/50 focus:bg-white/20 focus:ring-2 focus:ring-green-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[u.jsx("option",{value:"all",children:"全部"}),u.jsx("option",{value:"today",children:"今天"}),u.jsx("option",{value:"3days",children:"接下來 3 天"}),u.jsx("option",{value:"7days",children:"接下來 7 天"}),u.jsx("option",{value:"custom",children:"自定義範圍"})]}),u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:u.jsx("svg",{className:"w-4 h-4 text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300 group-hover:text-orange-200 transition-colors",children:"選擇同事"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:F||"",onChange:O=>C(O.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-orange-400/50 focus:bg-white/20 focus:ring-2 focus:ring-orange-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[u.jsx("option",{value:"",children:"顯示所有同事"}),Object.keys(Ot()).filter(O=>O!=="_lastUpdated").sort((O,R)=>{var J,oe;const Z=parseInt(((J=O.match(/\d+/))==null?void 0:J[0])||"0"),ee=parseInt(((oe=R.match(/\d+/))==null?void 0:oe[0])||"0");return Z-ee}).map(O=>u.jsx("option",{value:O,children:m[O]||O},O))]}),u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:u.jsx("svg",{className:"w-4 h-4 text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),A[a]&&u.jsx("div",{className:"mt-6 flex items-center justify-center",children:u.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-surface/30 rounded-full border border-white/10",children:[u.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsxs("span",{className:"text-sm text-gray-300",children:["最後更新：",new Date(A[a]).toLocaleString()]})]})})]}),(I==="custom"||ae.length>0||q.length>0)&&u.jsxs("div",{className:"bg-gradient-to-br from-surface/50 to-surface/30 rounded-2xl p-4 md:p-6 border border-white/15 shadow-lg backdrop-blur-sm",children:[u.jsx("h4",{className:"text-lg font-semibold mb-4 text-cyan-300",children:"進階篩選"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[I==="custom"&&u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-cyan-300",children:"日期範圍"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"number",min:"1",max:"31",value:me.start,onChange:O=>pe(R=>({...R,start:parseInt(O.target.value)})),className:"w-1/2 px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:border-cyan-400/50 focus:bg-white/20 text-sm",placeholder:"開始日期"}),u.jsx("span",{className:"text-gray-400 self-center",children:"至"}),u.jsx("input",{type:"number",min:"1",max:"31",value:me.end,onChange:O=>pe(R=>({...R,end:parseInt(O.target.value)})),className:"w-1/2 px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:border-cyan-400/50 focus:bg-white/20 text-sm",placeholder:"結束日期"})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-pink-300",children:"班次篩選"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:["早","中","晚","休","特"].map(O=>u.jsx("button",{onClick:()=>{ae.includes(O)?xe(R=>R.filter(Z=>Z!==O)):xe(R=>[...R,O])},className:`px-3 py-1 rounded-lg text-xs font-medium transition-all ${ae.includes(O)?"bg-pink-500 text-white border border-pink-400":"bg-white/10 text-gray-300 border border-white/20 hover:bg-white/20"}`,children:O},O))})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300",children:"多同事選擇"}),u.jsx("div",{className:"max-h-32 overflow-y-auto",children:Object.keys(Ot()).filter(O=>O!=="_lastUpdated").sort((O,R)=>{var J,oe;const Z=parseInt(((J=O.match(/\d+/))==null?void 0:J[0])||"0"),ee=parseInt(((oe=R.match(/\d+/))==null?void 0:oe[0])||"0");return Z-ee}).map(O=>u.jsxs("label",{className:"flex items-center gap-2 mb-1 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:q.includes(O),onChange:R=>{R.target.checked?ie(Z=>[...Z,O]):ie(Z=>Z.filter(ee=>ee!==O))},className:"w-4 h-4 text-orange-500 bg-white/10 border-white/20 rounded focus:ring-orange-400/50"}),u.jsx("span",{className:"text-sm text-gray-300",children:m[O]||O})]},O))})]})]}),u.jsx("div",{className:"mt-4 flex justify-end",children:u.jsx("button",{onClick:()=>{xe([]),ie([]),pe({start:1,end:31}),T("all")},className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-300 rounded-lg transition-all text-sm",children:"清除所有篩選"})})]}),u.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:w==="date"?u.jsx(xve,{schedule:Ot(),names:m,displayDates:Si(),filteredEmployees:Xc(),selectedShifts:ae}):w==="employee"?u.jsx(bve,{schedule:Ot(),names:m,displayDates:Si(),filteredEmployees:Xc(),selectedShifts:ae}):w==="partner"?u.jsx(Fve,{schedule:Ot(),names:m,displayDates:Si(),selectedEmployee:F}):u.jsx(_ve,{schedule:Ot(),names:m,displayDates:Si(),filteredEmployees:Xc(),selectedShifts:ae})})]}),t==="transport"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-surface/60 rounded-2xl p-2 border border-white/20",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>j("chart"),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${ze==="chart"?"bg-blue-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"乘車表"}),u.jsx("button",{onClick:()=>j("fare"),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${ze==="fare"?"bg-purple-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"車費試算"})]})}),ze==="chart"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-yellow-300 group-hover:text-yellow-200 transition-colors",children:"月份"}),u.jsxs("div",{className:"relative",children:[u.jsx("select",{value:a,onChange:O=>o(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-yellow-400/50 focus:bg-white/20 focus:ring-2 focus:ring-yellow-400/20 transition-all duration-200 appearance-none cursor-pointer",children:Mg(f).map(O=>u.jsx("option",{value:O.key,children:O.label},O.key))}),u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:u.jsx("svg",{className:"w-4 h-4 text-yellow-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300 group-hover:text-orange-200 transition-colors",children:"匯出"}),u.jsxs("button",{onClick:()=>eu(),className:"w-full px-4 py-3 bg-gradient-to-r from-blue-500/20 to-purple-500/20 hover:from-blue-500/30 hover:to-purple-500/30 border border-blue-400/30 text-blue-300 rounded-xl transition-all duration-200 font-medium",children:[u.jsx(zh,{className:"w-4 h-4 inline mr-2"}),"匯出乘車表"]})]})]})}),u.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[u.jsx("h3",{className:"text-lg font-bold text-green-300",children:"乘車文字生成"}),u.jsxs("div",{className:"text-sm text-gray-400",children:["更新時間: ",A[a]?new Date(A[a]).toLocaleString():"無資料"]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex space-x-2 mb-4",children:[u.jsx("button",{onClick:()=>z(!1),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${$?"bg-white/10 text-gray-300 hover:bg-white/20":"bg-green-500/20 text-green-300 border border-green-400/30"}`,children:"週次選擇"}),u.jsx("button",{onClick:()=>z(!0),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${$?"bg-green-500/20 text-green-300 border border-green-400/30":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"指定日期範圍"})]}),!$&&u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("select",{value:_,onChange:O=>S(O.target.value),className:"flex-1 px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-green-400/50 focus:bg-white/20 focus:ring-2 focus:ring-green-400/20 transition-all duration-200 appearance-none cursor-pointer",children:qi()}),u.jsxs("button",{onClick:()=>tu(),className:"px-6 py-3 bg-gradient-to-r from-green-500/20 to-teal-500/20 hover:from-green-500/30 hover:to-teal-500/30 border border-green-400/30 text-green-300 rounded-xl transition-all duration-200 font-medium whitespace-nowrap",children:[u.jsx(Cb,{className:"w-4 h-4 inline mr-2"}),"生成"]})]}),$&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(mre,{startDate:Y.startDate,endDate:Y.endDate,onStartDateSelect:O=>M(R=>({...R,startDate:O})),onEndDateSelect:O=>M(R=>({...R,endDate:O}))}),u.jsxs("button",{onClick:()=>tu(),className:"w-full px-6 py-3 bg-gradient-to-r from-green-500/20 to-teal-500/20 hover:from-green-500/30 hover:to-teal-500/30 border border-green-400/30 text-green-300 rounded-xl transition-all duration-200 font-medium",children:[u.jsx(Cb,{className:"w-4 h-4 inline mr-2"}),"生成乘車文字"]})]})]})]})})]}),u.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:u.jsx(Bve,{schedule:Ot(),names:m,pickupLocations:v})})]}),ze==="fare"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"月份"}),u.jsxs("div",{className:"relative",children:[u.jsx("select",{value:a,onChange:O=>o(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:Mg(f).map(O=>u.jsx("option",{value:O.key,children:O.label},O.key))}),u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:u.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"選擇同事"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:V||"",onChange:O=>D(O.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-blue-400/50 focus:bg-white/20 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[u.jsx("option",{value:"",children:"請選擇同事"}),Object.keys(Ot()).filter(O=>O!=="_lastUpdated").sort((O,R)=>{var J,oe;const Z=parseInt(((J=O.match(/\d+/))==null?void 0:J[0])||"0"),ee=parseInt(((oe=R.match(/\d+/))==null?void 0:oe[0])||"0");return Z-ee}).map(O=>u.jsx("option",{value:O,children:m[O]||O},O))]}),u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:u.jsx("svg",{className:"w-4 h-4 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]})}),u.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:u.jsx(Tve,{schedule:Ot(),names:m,pickupLocations:v,selectedEmployee:V,calculateFare:Zc})})]})]}),t==="statistics"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"月份"}),u.jsxs("div",{className:"relative",children:[u.jsx("select",{value:a,onChange:O=>o(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:Mg(f).map(O=>u.jsx("option",{value:O.key,children:O.label},O.key))}),u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:u.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"統計類型"}),u.jsx("div",{className:"bg-surface/40 rounded-xl p-1 border border-white/10",children:u.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[u.jsx("button",{onClick:()=>Se("charts"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${ce==="charts"?"bg-green-500/20 text-green-300 border border-green-400/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"圖表分析"}),u.jsx("button",{onClick:()=>Se("overlap"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${ce==="overlap"?"bg-blue-500/20 text-blue-300 border border-blue-400/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"搭班統計表"})]})})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-gray-300 group-hover:text-gray-200 transition-colors",children:"更新時間"}),u.jsx("div",{className:"px-4 py-3 bg-surface/30 rounded-xl border border-white/10",children:u.jsx("span",{className:"text-sm text-gray-300",children:A[a]?new Date(A[a]).toLocaleString():"無資料"})})]})]})}),ce==="overlap"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 md:p-6 lg:p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center justify-center mb-6 md:mb-8",children:[u.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 lg:w-12 lg:h-12 rounded-full bg-blue-500/20 border border-blue-400/30 flex items-center justify-center mr-2 md:mr-3",children:u.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),u.jsx("h3",{className:"text-lg md:text-xl lg:text-2xl font-bold text-blue-300",children:"搭班統計表"})]}),u.jsx(Cve,{schedule:Ot(),names:m,onEmployeeClick:P})]}),Q&&u.jsx(Eve,{employeeId:Q,employeeName:m[Q]||Q,ranking:ch(Q),onClose:()=>P(null)})]}),ce==="charts"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-surface/60 rounded-2xl p-2 border border-white/20",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>Ne("monthly"),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${ne==="monthly"?"bg-blue-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"本月分析"}),u.jsx("button",{onClick:()=>Ne("crossMonth"),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${ne==="crossMonth"?"bg-purple-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"跨月平均分析"})]})}),ne==="monthly"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx(bre,{schedule:Ot(),names:m,loadingStates:L,selectedEmployee:F,allSchedules:c,selectedMonth:a}),u.jsx(ave,{schedule:Ot(),names:m}),u.jsx(Ive,{schedule:Ot(),names:m})]}),ne==="crossMonth"&&u.jsx("div",{className:"space-y-6",children:u.jsx(pve,{allSchedules:c,names:m,availableMonths:f})}),u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-300 text-center",children:"個人統計儀表板"}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300",children:"選擇同事"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:U||"",onChange:O=>k(O.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[u.jsx("option",{value:"",children:"請選擇一個同事查看個人統計"}),Object.keys(Ot()).filter(O=>O!=="_lastUpdated").sort((O,R)=>{var J,oe;const Z=parseInt(((J=O.match(/\d+/))==null?void 0:J[0])||"0"),ee=parseInt(((oe=R.match(/\d+/))==null?void 0:oe[0])||"0");return Z-ee}).map(O=>u.jsx("option",{value:O,children:m[O]||O},O))]}),u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:u.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),u.jsx(Sve,{schedule:Ot(),names:m,selectedEmployee:U,crossMonthStats:qc(U),selectedMonth:a})]})]})]}),t==="import"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"bg-surface/40 rounded-xl p-1 border border-white/10 w-full max-w-2xl",children:u.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[u.jsxs("button",{onClick:()=>VA("import"),className:`px-6 py-3 rounded-lg transition-all text-sm md:text-base ${HA==="import"?"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-400 border border-green-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[u.jsx(zh,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-2"}),"匯入班表"]}),u.jsxs("button",{onClick:()=>VA("manage"),className:`px-6 py-3 rounded-lg transition-all text-sm md:text-base ${HA==="manage"?"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 text-blue-400 border border-blue-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[u.jsx(xd,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-2"}),"月份管理"]})]})})}),HA==="import"&&u.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-green-300",children:"匯入班表"}),u.jsxs("div",{className:"mb-6 p-4 bg-surface/40 rounded-lg border border-white/10",children:[u.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-300",children:"班別代碼說明"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:Object.entries(qw).map(([O,R])=>u.jsxs("div",{className:"flex items-center gap-2 p-2 bg-surface/20 rounded border border-white/10",children:[u.jsx("span",{className:"font-mono bg-white/10 px-2 py-1 rounded text-green-300 font-medium",children:O}),u.jsxs("span",{className:"text-gray-300 font-medium",children:["= ",R]})]},O))})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"目標月份"}),u.jsxs("select",{value:Js,onChange:O=>zc(O.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-green-400/50 focus:bg-white/10",children:[u.jsx("option",{value:"",children:"請選擇月份"}),yve().map(O=>u.jsx("option",{value:O.key,children:O.label},O.key))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Excel 資料"}),u.jsx("textarea",{value:be,onChange:O=>ke(O.target.value),placeholder:"從 Excel 複製資料並貼上這裡...",className:"w-full h-32 px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-green-400/50 focus:bg-white/10 resize-none"})]})]}),Bo&&u.jsx("div",{className:"mt-6 p-4 bg-red-600/20 border border-red-500/30 rounded-xl text-red-300 font-medium",children:Bo}),u.jsxs("div",{className:"mt-4 flex gap-3",children:[u.jsx("button",{onClick:Ah,className:"px-6 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-300 rounded-lg transition-all font-medium",children:"解析資料"}),Re&&u.jsx("button",{onClick:Yc,className:"px-6 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-300 rounded-lg transition-all font-medium",children:"上傳班表"})]}),Re&&u.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-300",children:"預覽表格"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0,border:"none"},children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[u.jsx("th",{className:"text-left p-3 text-blue-300 font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"職員編號"}),u.jsx("th",{className:"text-left p-3 text-purple-300 font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"姓名"}),Array.from({length:31},(O,R)=>u.jsx("th",{className:"text-center p-3 text-green-300 font-medium",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:R+1},R))]})}),u.jsx("tbody",{children:Object.entries(Re).sort(([O],[R])=>{var J,oe;const Z=parseInt(((J=O.match(/\d+/))==null?void 0:J[0])||"0"),ee=parseInt(((oe=R.match(/\d+/))==null?void 0:oe[0])||"0");return Z-ee}).map(([O,R])=>u.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[u.jsx("td",{className:"p-3 text-gray-400 font-medium",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:O}),u.jsx("td",{className:"p-3 text-white font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:R.name}),R.schedule.map((Z,ee)=>u.jsx("td",{className:"p-2 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:Z?u.jsx("div",{className:`
                                  px-3 py-2 rounded-lg text-center text-xs font-bold
                                  ${Z==="早"?"bg-pink-500 text-white":Z==="中"?"bg-cyan-500 text-white":Z==="晚"?"bg-blue-500 text-white":Z==="休"?"bg-gray-500 text-white":Z==="特"?"bg-orange-500 text-white":Z==="排"?"bg-yellow-500 text-white":"bg-gray-700 text-gray-300"}
                                `,children:Z}):u.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})},ee))]},O))})]})})]}),HA==="manage"&&u.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-300",children:"月份管理"}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h4",{className:"text-lg font-semibold mb-4 text-cyan-300",children:"已儲存的月份"}),f.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(O=>u.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10 hover:border-white/20 transition-all",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h5",{className:"text-white font-semibold",children:O.label}),u.jsx("span",{className:"text-xs text-gray-400",children:O.lastUpdated?new Date(O.lastUpdated).toLocaleDateString():"未知"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>{o(O.key),e("display")},className:"px-3 py-1 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-300 rounded text-sm transition-all",children:"查看"}),u.jsx("button",{onClick:()=>{o(O.key),e("statistics")},className:"px-3 py-1 bg-purple-500/20 hover:bg-purple-500/30 border border-purple-400/30 text-purple-300 rounded text-sm transition-all",children:"分析"})]})]},O.key))}):u.jsx("div",{className:"text-center py-8 text-gray-400",children:"尚未儲存任何月份資料"})]}),u.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[u.jsx("h4",{className:"text-lg font-semibold mb-4 text-orange-300",children:"快速操作"}),u.jsxs("div",{className:"flex flex-wrap gap-4",children:[u.jsxs("button",{onClick:Ht,className:"px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-400 rounded-lg transition-all flex items-center gap-2",children:[u.jsx(D2,{className:"w-4 h-4"}),"重新載入資料"]}),u.jsxs("button",{onClick:()=>{o("current"),e("display")},className:"px-4 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-400 rounded-lg transition-all flex items-center gap-2",children:[u.jsx(xd,{className:"w-4 h-4"}),"回到當月"]})]})]})]})]}),u.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-400",children:"同事基本資料管理"}),u.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[u.jsxs("button",{onClick:sr,className:"px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-400 rounded-lg transition-all flex items-center gap-2",children:[u.jsx(D2,{className:"w-4 h-4"}),"從 Firebase 讀取資料"]}),u.jsxs("button",{onClick:KA,className:"px-4 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-400 rounded-lg transition-all flex items-center gap-2",children:[u.jsx(zh,{className:"w-4 h-4"}),"儲存姓名與上車地點"]}),u.jsxs("button",{onClick:sh,className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-400 rounded-lg transition-all flex items-center gap-2",children:[u.jsx(as,{className:"w-4 h-4"}),"清空所有資料"]})]}),u.jsxs("div",{className:"bg-surface/20 rounded-lg p-4 mb-6 border border-white/5",children:[u.jsx("h4",{className:"text-lg font-semibold mb-4 text-orange-400",children:"新增同事"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"職員編號"}),u.jsx("input",{type:"text",value:Zs.id,onChange:O=>Co(R=>({...R,id:O.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",placeholder:"例如：A45"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"姓名"}),u.jsx("input",{type:"text",value:Zs.name,onChange:O=>Co(R=>({...R,name:O.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",placeholder:"輸入姓名"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"上車地點"}),u.jsx("select",{value:Zs.pickupLocation,onChange:O=>Co(R=>({...R,pickupLocation:O.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",children:Pi.map(O=>u.jsx("option",{value:O,children:O},O))})]})]}),u.jsxs("button",{onClick:ah,className:"mt-4 px-6 py-2 bg-orange-500/20 hover:bg-orange-500/30 border border-orange-400/30 text-orange-400 rounded-lg transition-all flex items-center gap-2",children:[u.jsx(ss,{className:"w-4 h-4"}),"新增同事"]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-white/10",children:[u.jsx("th",{className:"text-left p-2 text-blue-400",children:"職員編號"}),u.jsx("th",{className:"text-left p-2 text-purple-400",children:"姓名"}),u.jsx("th",{className:"text-left p-2 text-green-400",children:"上車地點"}),u.jsx("th",{className:"text-center p-2 text-red-400",children:"操作"})]})}),u.jsx("tbody",{children:Object.keys(m).sort((O,R)=>{const Z=parseInt(O.replace(/\D/g,""))||0,ee=parseInt(R.replace(/\D/g,""))||0;return Z-ee}).map(O=>u.jsxs("tr",{className:"border-b border-white/5",children:[u.jsx("td",{className:"p-2 text-text-secondary",children:O}),u.jsx("td",{className:"p-2",children:u.jsx("input",{type:"text",value:m[O]||"",onChange:R=>Eo(O,R.target.value),className:"w-full px-2 py-1 bg-white/5 border border-white/10 rounded focus:border-purple-400/50 focus:bg-white/10"})}),u.jsx("td",{className:"p-2",children:u.jsx("select",{value:v[O]||Pi[0],onChange:R=>oh(O,R.target.value),className:"w-full px-2 py-1 bg-white/5 border border-white/10 rounded focus:border-green-400/50 focus:bg-white/10",children:Pi.map(R=>u.jsx("option",{value:R,children:R},R))})}),u.jsx("td",{className:"p-2 text-center",children:u.jsx("button",{onClick:()=>Ay(O),className:"px-3 py-1 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-400 rounded transition-all",children:u.jsx(as,{className:"w-4 h-4"})})})]},O))})]})})]})]})]})}function xve({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i}){return u.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:u.jsx("div",{className:"bg-surface/60 rounded-xl shadow-xl border border-white/20 backdrop-blur-sm min-w-full",children:u.jsx("div",{className:"w-full",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-xs md:text-sm",style:{borderCollapse:"collapse",borderSpacing:0,border:"none"},children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[u.jsx("th",{className:"text-center p-2 md:p-3 text-purple-300 font-semibold sticky left-0 z-10 bg-surface/95",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"姓名"}),r.map(s=>{const a=s===new Date().getDate();return u.jsxs("th",{className:`text-center p-1 md:p-3 font-medium relative ${a?"text-primary":"text-green-300"}`,style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},title:a?"今天":void 0,"data-today":a?"true":void 0,children:[u.jsx("div",{className:`relative text-xs font-semibold inline-flex items-center justify-center w-7 h-7 rounded ${a?"bg-primary/20 ring-2 ring-primary":""}`,children:s}),u.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),s).getDay()]})]},s)})]})}),u.jsx("tbody",{children:n.map((s,a)=>u.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200 group","data-employee-id":s,"data-row-index":a,children:[u.jsx("td",{className:"p-2 md:p-3 text-white font-semibold text-xs md:text-sm sticky left-0 z-10 bg-surface/95 group-hover:bg-surface/100 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:u.jsx("span",{className:"group-hover:text-primary transition-colors",children:e[s]||s})}),r.map(o=>{var c;const A=(c=t[s])==null?void 0:c[o],l=o===new Date().getDate();return i&&i.length>0&&(!A||!i.includes(A))?u.jsx("td",{className:"p-1 md:p-2 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:u.jsx("div",{className:`w-full h-6 md:h-8 rounded-lg border ${l?"bg-primary/5 border-primary/30":"bg-surface/10 border-white/5"} opacity-50`})},o):u.jsx("td",{className:`p-1 md:p-2 text-center ${l?"bg-primary/5":""}`,style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:A?u.jsx("div",{className:`
                                px-2 py-1 md:px-3 md:py-2 rounded-lg text-center text-xs font-bold
                                ${l?"ring-2 ring-primary/50 ":""}${A==="早"?"bg-pink-500 text-white":A==="中"?"bg-cyan-500 text-white":A==="晚"?"bg-blue-500 text-white":A==="休"?"bg-gray-500 text-white":A==="特"?"bg-orange-500 text-white":"bg-gray-700 text-gray-300"}
                              `,children:A}):u.jsx("div",{className:`w-full h-6 md:h-8 rounded-lg border ${l?"bg-primary/5 border-primary/30":"bg-surface/20 border-white/10"}`})},o)})]},s))})]})})})})})}function bve({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i}){const s=a=>{switch(a){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}};return u.jsx("div",{className:"space-y-6",children:n.map(a=>u.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm hover:shadow-2xl transition-all duration-300",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h4",{className:"text-lg font-semibold text-white mb-1",children:e[a]||a}),u.jsxs("p",{className:"text-sm text-gray-400",children:["職員編號：",a]})]}),u.jsx("div",{className:"grid grid-cols-7 gap-3",children:r.map(o=>{var l;const A=(l=t[a])==null?void 0:l[o];return i&&i.length>0&&(!A||!i.includes(A))?u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xs text-gray-400 mb-2 font-medium",children:o}),u.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/10 border border-white/5 opacity-50"})]},o):u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xs text-gray-400 mb-2 font-medium",children:o}),A?u.jsx("div",{className:`
                      px-3 py-2 rounded-lg text-center text-xs font-bold
                      transition-all duration-200 hover:shadow-lg hover:scale-105
                      ${s(A)}
                    `,children:A}):u.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})]},o)})})]},a))})}function Bve({schedule:t,names:e,pickupLocations:r}){const n=()=>{const o=new Date,A=o.getFullYear(),l=o.getMonth()+1;return new Date(A,l,0).getDate()},s=(()=>{const o=n(),A={};for(let l=1;l<=o;l++)A[l]={},Pi.forEach(c=>{A[l][c]=0});return Object.keys(t).forEach(l=>{var d;if(l==="_lastUpdated")return;const c=r[l];if(!(!c||c==="不搭車"))for(let f=1;f<=o;f++)((d=t[l])==null?void 0:d[f])==="早"&&A[f][c]++}),A})(),a=n();return u.jsxs("div",{id:"transport-chart",className:"bg-surface/60 rounded-xl p-6 border border-white/20",children:[u.jsx("h3",{className:"text-xl font-bold mb-6 text-yellow-300 text-center",children:"當月乘車統計表"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0},children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[u.jsx("th",{className:"text-left p-3 text-yellow-300 font-semibold",style:{border:"none !important"},children:"上車地點"}),Array.from({length:a},(o,A)=>A+1).map(o=>u.jsxs("th",{className:"text-center p-2 text-green-300 font-medium",style:{border:"none !important"},children:[u.jsx("div",{className:"text-xs font-semibold",children:o}),u.jsx("div",{className:"text-xs text-gray-400",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),o).getDay()]})]},o))]})}),u.jsx("tbody",{children:Pi.filter(o=>o!=="不搭車").map(o=>u.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[u.jsx("td",{className:"p-3 text-white font-semibold",style:{border:"none !important"},children:o}),Array.from({length:a},(A,l)=>l+1).map(A=>{var c;const l=((c=s[A])==null?void 0:c[o])||0;return u.jsx("td",{className:"p-2 text-center",style:{border:"none !important"},children:l>0?u.jsx("div",{className:"px-3 py-2 rounded-lg text-center text-xs font-bold bg-yellow-500/20 border border-yellow-400/30 text-yellow-300",children:l}):u.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})},A)})]},o))})]})})]})}function Cve({schedule:t,names:e,onEmployeeClick:r}){const n=()=>{const c={},d={};Object.keys(t).forEach(g=>{g!=="_lastUpdated"&&(c[g]={},d[g]={})});const f=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let g=1;g<=f;g++){const m={};Object.keys(t).forEach(p=>{var y;if(p==="_lastUpdated")return;const v=(y=t[p])==null?void 0:y[g];v&&v!=="休"&&(m[v]||(m[v]=[]),m[v].push(p))}),Object.keys(m).forEach(p=>{const v=m[p];for(let y=0;y<v.length;y++)for(let w=y+1;w<v.length;w++){const B=v[y],I=v[w];c[B][I]||(c[B][I]=0),c[I][B]||(c[I][B]=0),d[B][I]||(d[B][I]=[]),d[I][B]||(d[I][B]=[]),c[B][I]++,c[I][B]++,d[B][I].push({day:g,shift:p}),d[I][B].push({day:g,shift:p})}}),m.早&&m.中&&m.早.forEach(p=>{m.中.forEach(v=>{c[p][v]||(c[p][v]=0),c[v][p]||(c[v][p]=0),d[p][v]||(d[p][v]=[]),d[v][p]||(d[v][p]=[]),c[p][v]++,c[v][p]++,d[p][v].push({day:g,shift:"早-中"}),d[v][p].push({day:g,shift:"中-早"})})}),m.中&&m.晚&&m.中.forEach(p=>{m.晚.forEach(v=>{c[p][v]||(c[p][v]=0),c[v][p]||(c[v][p]=0),d[p][v]||(d[p][v]=[]),d[v][p]||(d[v][p]=[]),c[p][v]++,c[v][p]++,d[p][v].push({day:g,shift:"中-晚"}),d[v][p].push({day:g,shift:"晚-中"})})})}return{overlapStats:c,overlapDetails:d}},{overlapStats:i,overlapDetails:s}=n(),a=Object.keys(t).filter(c=>c!=="_lastUpdated").sort((c,d)=>{var m,p;const f=parseInt(((m=c.match(/\d+/))==null?void 0:m[0])||"0"),g=parseInt(((p=d.match(/\d+/))==null?void 0:p[0])||"0");return f-g}),A=(()=>{let c=0,d=0,f=0;return a.forEach(g=>{a.forEach(m=>{var p;if(g!==m){const v=((p=i[g])==null?void 0:p[m])||0;v>0&&(c+=v,d=Math.max(d,v),f++)}})}),{totalOverlaps:c,maxOverlap:d,averageOverlap:f>0?(c/f).toFixed(1):0,totalPairs:f}})(),l=(c,d)=>{if(c===0)return"bg-surface/20 border-white/10 text-gray-400";const f=Math.min(c/d,1);return f>.7?"bg-purple-500/40 border-purple-400/50 text-purple-200":f>.4?"bg-purple-500/30 border-purple-400/40 text-purple-300":"bg-purple-500/20 border-purple-400/30 text-purple-300"};return u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold mb-6 text-purple-300 text-center",children:"搭班統計表"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0},children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[u.jsx("th",{className:"text-left p-3 text-purple-300 font-semibold",style:{border:"none !important"},children:"同事"}),a.map(c=>u.jsx("th",{className:"text-center p-3 text-purple-300 font-medium",style:{border:"none !important"},children:e[c]||c},c))]})}),u.jsx("tbody",{children:a.map(c=>u.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[u.jsx("td",{className:"p-3 text-white font-semibold cursor-pointer hover:text-purple-300 transition-colors",style:{border:"none !important"},onClick:()=>r(c),children:e[c]||c}),a.map(d=>{var g;const f=((g=i[c])==null?void 0:g[d])||0;return u.jsx("td",{className:"p-3 text-center",style:{border:"none !important"},children:c===d?u.jsx("div",{className:"w-8 h-8 rounded-lg bg-surface/20 border border-white/10 flex items-center justify-center text-gray-400",children:"-"}):f>0?u.jsx("div",{className:`px-3 py-2 rounded-lg text-center text-xs font-bold border cursor-pointer hover:scale-105 transition-all ${l(f,A.maxOverlap)}`,title:`${e[c]||c} 與 ${e[d]||d} 搭班 ${f} 次`,children:f}):u.jsx("div",{className:"w-8 h-8 rounded-lg bg-surface/10 border border-white/5 flex items-center justify-center text-gray-500 opacity-50",children:"-"})},d)})]},c))})]})})]})}function Eve({employeeId:t,employeeName:e,ranking:r,onClose:n}){const[i,s]=x.useState(null),o=(()=>{const A=r.reduce((d,f)=>d+f.count,0),l=r.length>0?(A/r.length).toFixed(1):0,c=r.length>0?r[0].count:0;return{totalOverlaps:A,avgOverlaps:l,maxOverlaps:c}})();return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-surface/95 rounded-2xl p-8 border border-white/20 shadow-2xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-purple-300",children:[e," 的搭班詳情"]}),u.jsx("button",{onClick:n,className:"p-2 hover:bg-surface/30 rounded-lg text-gray-300 hover:text-white transition-all duration-200",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[u.jsx("div",{className:"text-2xl font-bold text-purple-300",children:o.totalOverlaps}),u.jsx("div",{className:"text-sm text-gray-400",children:"總搭班次數"})]}),u.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-300",children:o.avgOverlaps}),u.jsx("div",{className:"text-sm text-gray-400",children:"平均搭班次數"})]}),u.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[u.jsx("div",{className:"text-2xl font-bold text-green-300",children:o.maxOverlaps}),u.jsx("div",{className:"text-sm text-gray-400",children:"最高搭班次數"})]})]}),r.length>0?u.jsxs("div",{className:"space-y-3",children:[u.jsx("h4",{className:"text-lg font-semibold text-purple-300 mb-4",children:"搭班排行"}),r.map((A,l)=>u.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border cursor-pointer transition-all hover:scale-105 ${i===A.employeeId?"bg-purple-500/30 border-purple-400/50":"bg-surface/20 border-white/10 hover:bg-surface/30"}`,onClick:()=>s(i===A.employeeId?null:A.employeeId),children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:`w-8 h-8 rounded-full border flex items-center justify-center font-bold text-sm ${l===0?"bg-yellow-500/20 border-yellow-400/30 text-yellow-300":l===1?"bg-gray-500/20 border-gray-400/30 text-gray-300":l===2?"bg-orange-500/20 border-orange-400/30 text-orange-300":"bg-purple-500/20 border-purple-400/30 text-purple-300"}`,children:l+1}),u.jsx("div",{children:u.jsx("span",{className:"text-white font-medium",children:A.name})})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-purple-300 font-bold",children:[A.count," 次"]}),u.jsxs("div",{className:"text-xs text-gray-400",children:[(A.count/o.totalOverlaps*100).toFixed(1),"%"]})]})]},A.employeeId))]}):u.jsx("div",{className:"text-center py-8 text-gray-400",children:"本月無搭班記錄"})]})})}function _ve({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i}){const s=a=>{switch(a){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}};return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"3D 班表視圖"}),u.jsx("p",{className:"text-gray-400",children:"立體展示班次安排"})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:n.map(a=>u.jsx("div",{className:"group perspective-1000",children:u.jsx("div",{className:"relative transform-style-preserve-3d transition-all duration-500 group-hover:rotate-y-12",children:u.jsxs("div",{className:"bg-gradient-to-br from-surface/80 to-surface/60 rounded-2xl p-6 border border-white/20 shadow-2xl backdrop-blur-sm transform-style-preserve-3d",children:[u.jsxs("div",{className:"transform-style-preserve-3d",children:[u.jsxs("div",{className:"mb-6 text-center",children:[u.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:e[a]||a}),u.jsxs("p",{className:"text-sm text-gray-400",children:["職員編號：",a]})]}),u.jsx("div",{className:"grid grid-cols-7 gap-2",children:r.map((o,A)=>{var c;const l=(c=t[a])==null?void 0:c[o];return i&&i.length>0&&(!l||!i.includes(l))?u.jsxs("div",{className:"relative group/item",children:[u.jsx("div",{className:"w-full h-16 rounded-lg bg-surface/10 border border-white/5 opacity-50 transform transition-all duration-300 group-hover/item:scale-110 group-hover/item:rotate-y-6"}),u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-xs text-gray-500",children:u.jsx("span",{children:o})})]},o):u.jsx("div",{className:"relative group/item",children:u.jsx("div",{className:`
                            w-full h-16 rounded-lg text-center text-xs font-bold
                            transform transition-all duration-300 
                            group-hover/item:scale-110 group-hover/item:rotate-y-6 group-hover/item:shadow-xl
                            ${l?s(l):"bg-surface/20 border border-white/10"}
                          `,children:u.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[u.jsx("span",{className:"text-xs opacity-75",children:o}),u.jsx("span",{className:"font-bold",children:l||""})]})})},o)})})]}),u.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]})})},a))})]})}function Ive({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();let a={early:0,middle:0,night:0,rest:0,special:0};Object.keys(t).forEach(l=>{var c;if(l!=="_lastUpdated")for(let d=1;d<=s;d++){const f=(c=t[l])==null?void 0:c[d];if(f)switch(f){case"早":a.early++;break;case"中":a.middle++;break;case"晚":a.night++;break;case"休":a.rest++;break;case"特":a.special++;break}}});const o=Object.keys(t).filter(l=>l!=="_lastUpdated").length,A={early:a.early/o,middle:a.middle/o,night:a.night/o,rest:a.rest/o,special:a.special/o};return Object.keys(t).forEach(l=>{var g;if(l==="_lastUpdated")return;const c=e[l]||l,d={early:0,middle:0,night:0,rest:0,special:0};for(let m=1;m<=s;m++){const p=(g=t[l])==null?void 0:g[m];if(p)switch(p){case"早":d.early++;break;case"中":d.middle++;break;case"晚":d.night++;break;case"休":d.rest++;break;case"特":d.special++;break}}const f={name:c,earlyBias:((d.early-A.early)/A.early*100).toFixed(1),middleBias:((d.middle-A.middle)/A.middle*100).toFixed(1),nightBias:((d.night-A.night)/A.night*100).toFixed(1),restBias:((d.rest-A.rest)/A.rest*100).toFixed(1),specialBias:((d.special-A.special)/A.special*100).toFixed(1)};i[c]=f}),Object.values(i).sort((l,c)=>{var p,v;const d=Object.keys(e).find(y=>e[y]===l.name)||l.name,f=Object.keys(e).find(y=>e[y]===c.name)||c.name,g=parseInt(((p=d.match(/\d+/))==null?void 0:p[0])||"0"),m=parseInt(((v=f.match(/\d+/))==null?void 0:v[0])||"0");return g-m})})();return u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h3",{className:"text-xl font-bold mb-6 text-orange-300 text-center",children:"班次分配偏差度分析"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-white/20",children:[u.jsx("th",{className:"text-left p-3 text-white font-semibold",children:"同事"}),u.jsx("th",{className:"text-center p-3 text-pink-300 font-semibold",children:"早班偏差"}),u.jsx("th",{className:"text-center p-3 text-cyan-300 font-semibold",children:"中班偏差"}),u.jsx("th",{className:"text-center p-3 text-blue-300 font-semibold",children:"晚班偏差"}),u.jsx("th",{className:"text-center p-3 text-gray-300 font-semibold",children:"休假偏差"}),u.jsx("th",{className:"text-center p-3 text-orange-300 font-semibold",children:"特休偏差"})]})}),u.jsx("tbody",{children:n.map((i,s)=>u.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5",children:[u.jsx("td",{className:"p-3 text-white font-medium",children:i.name}),u.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.earlyBias)>0?"text-green-400":"text-red-400"}`,children:[i.earlyBias,"%"]}),u.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.middleBias)>0?"text-green-400":"text-red-400"}`,children:[i.middleBias,"%"]}),u.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.nightBias)>0?"text-green-400":"text-red-400"}`,children:[i.nightBias,"%"]}),u.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.restBias)>0?"text-green-400":"text-red-400"}`,children:[i.restBias,"%"]}),u.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.specialBias)>0?"text-green-400":"text-red-400"}`,children:[i.specialBias,"%"]})]},s))})]})})]})}function Sve({schedule:t,names:e,selectedEmployee:r,crossMonthStats:n,selectedMonth:i}){if(!r)return u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-300 text-center",children:"個人統計儀表板"}),u.jsx("p",{className:"text-center text-gray-400",children:"請選擇一個同事查看個人統計"})]});const a=x.useMemo(()=>{var p;if(!r||!t[r])return{name:e[r]||r,early:0,middle:0,night:0,rest:0,special:0,total:0};const g={name:e[r]||r,early:0,middle:0,night:0,rest:0,special:0,total:0},m=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let v=1;v<=m;v++){const y=(p=t[r])==null?void 0:p[v];if(y)switch(y){case"早":g.early++,g.total++;break;case"中":g.middle++,g.total++;break;case"晚":g.night++,g.total++;break;case"休":g.rest++;break;case"特":g.special++,g.total++;break}}return g},[r,t,e]),o=x.useMemo(()=>[{name:"早班",value:a.early,color:ju.早},{name:"中班",value:a.middle,color:ju.中},{name:"晚班",value:a.night,color:ju.晚},{name:"休假",value:a.rest,color:ju.休},{name:"特休",value:a.special,color:ju.特}].filter(g=>g.value>0),[a]),A=x.useMemo(()=>{var y;if(!r||!t[r])return[];const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),m=[];let p=0,v=0;for(let w=1;w<=g;w++){const B=(y=t[r])==null?void 0:y[w];B&&B!=="休"?p++:(p>0&&(v++,m.push({period:`期間${v}`,consecutiveDays:p,trend:p>=6?"高":p>=4?"中":"低"})),p=0)}return p>0&&(v++,m.push({period:`期間${v}`,consecutiveDays:p,trend:p>=6?"高":p>=4?"中":"低"})),m},[r,t]);x.useMemo(()=>{var p,v;if(!r||!t[r])return[];const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),m=[];for(let y=1;y<g;y++){const w=(p=t[r])==null?void 0:p[y],B=(v=t[r])==null?void 0:v[y+1];w&&B&&m.push({from:w,to:B,day:y})}return m},[r,t]);const l=()=>{var p;const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),m=[];for(let v=1;v<=g;v++){let y=0,w=0;for(let B=1;B<=v;B++){const I=(p=t[r])==null?void 0:p[B];I&&I!=="休"?y++:(y>0&&(y>=7?w=3:y>=5?w=2:w=1),y=0)}y>0&&(y>=7?w=3:y>=5?w=2:w=1),m.push({date:`${v}日`,consecutiveDays:y,riskLevel:w})}return m},c=()=>{var p,v;const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),m={};for(let y=1;y<g;y++){const w=(p=t[r])==null?void 0:p[y],B=(v=t[r])==null?void 0:v[y+1];if(w&&B){const I=`${w}→${B}`;m[I]=(m[I]||0)+1}}return Object.entries(m).sort(([,y],[,w])=>w-y).slice(0,10).map(([y,w])=>({transition:y,value:w}))},d=()=>{var p,v;const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),m={};for(let y=1;y<g;y++){const w=(p=t[r])==null?void 0:p[y],B=(v=t[r])==null?void 0:v[y+1];if(w&&B){const I=`${w}→${B}`;if(!m[I]){const[T,F]=I.split("→");m[I]={from:T,to:F,count:0}}m[I].count++}}return Object.values(m).sort((y,w)=>w.count-y.count)},f=g=>{switch(g){case"早":return"#ec4899";case"中":return"#06b6d4";case"晚":return"#3b82f6";case"休":return"#6b7280";case"特":return"#f97316";default:return"#9ca3af"}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"text-center p-4 bg-pink-500/20 rounded-lg border border-pink-400/30",children:[u.jsx("div",{className:"text-2xl font-bold text-pink-300",children:a.early}),u.jsx("div",{className:"text-sm text-pink-200",children:"早班"})]}),u.jsxs("div",{className:"text-center p-4 bg-cyan-500/20 rounded-lg border border-cyan-400/30",children:[u.jsx("div",{className:"text-2xl font-bold text-cyan-300",children:a.middle}),u.jsx("div",{className:"text-sm text-cyan-200",children:"中班"})]}),u.jsxs("div",{className:"text-center p-4 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-300",children:a.night}),u.jsx("div",{className:"text-sm text-blue-200",children:"晚班"})]}),u.jsxs("div",{className:"text-center p-4 bg-gray-500/20 rounded-lg border border-gray-400/30",children:[u.jsx("div",{className:"text-2xl font-bold text-gray-300",children:a.rest}),u.jsx("div",{className:"text-sm text-gray-200",children:"休假"})]}),u.jsxs("div",{className:"text-center p-4 bg-orange-500/20 rounded-lg border border-orange-400/30",children:[u.jsx("div",{className:"text-2xl font-bold text-orange-300",children:a.special}),u.jsx("div",{className:"text-sm text-orange-200",children:"特休"})]})]}),u.jsxs("div",{className:"text-center p-4 bg-surface/40 rounded-lg border border-white/10",children:[u.jsxs("div",{className:"text-lg font-semibold text-white",children:["總工作天數：",a.total," 天"]}),u.jsxs("div",{className:"text-sm text-gray-400",children:["工作率：",(a.total/31*100).toFixed(1),"%"]})]}),n&&n.totalMonths>0&&u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h4",{className:"text-lg font-bold mb-4 text-green-300 text-center",children:"跨月份平均值統計"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-4",children:[u.jsxs("div",{className:"text-center p-3 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[u.jsx("div",{className:"text-lg font-bold text-blue-300",children:n.totalMonths}),u.jsx("div",{className:"text-xs text-blue-200",children:"統計月份"})]}),(()=>{const g={early:a.early,middle:a.middle,night:a.night,rest:a.rest},m=(B,I)=>{const T=B-I;return{value:T,isPositive:T>0,isZero:T===0}},p=m(g.early,n.averageEarlyPerMonth),v=m(g.middle,n.averageMidPerMonth),y=m(g.night,n.averageNightPerMonth),w=m(g.rest,n.averageRestPerMonth);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"text-center p-3 bg-pink-500/20 rounded-lg border border-pink-400/30",children:[u.jsx("div",{className:"text-lg font-bold text-pink-300",children:n.averageEarlyPerMonth}),u.jsx("div",{className:"text-xs text-pink-200",children:"平均早班/月"}),u.jsxs("div",{className:`text-xs mt-1 ${p.isPositive?"text-green-400":p.isZero?"text-gray-400":"text-red-400"}`,children:[p.isPositive?"+":"",p.value," vs 本月"]})]}),u.jsxs("div",{className:"text-center p-3 bg-cyan-500/20 rounded-lg border border-cyan-400/30",children:[u.jsx("div",{className:"text-lg font-bold text-cyan-300",children:n.averageMidPerMonth}),u.jsx("div",{className:"text-xs text-cyan-200",children:"平均中班/月"}),u.jsxs("div",{className:`text-xs mt-1 ${v.isPositive?"text-green-400":v.isZero?"text-gray-400":"text-red-400"}`,children:[v.isPositive?"+":"",v.value," vs 本月"]})]}),u.jsxs("div",{className:"text-center p-3 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[u.jsx("div",{className:"text-lg font-bold text-blue-300",children:n.averageNightPerMonth}),u.jsx("div",{className:"text-xs text-blue-200",children:"平均晚班/月"}),u.jsxs("div",{className:`text-xs mt-1 ${y.isPositive?"text-green-400":y.isZero?"text-gray-400":"text-red-400"}`,children:[y.isPositive?"+":"",y.value," vs 本月"]})]}),u.jsxs("div",{className:"text-center p-3 bg-gray-500/20 rounded-lg border border-gray-400/30",children:[u.jsx("div",{className:"text-lg font-bold text-gray-300",children:n.averageRestPerMonth}),u.jsx("div",{className:"text-xs text-gray-200",children:"平均休假/月"}),u.jsxs("div",{className:`text-xs mt-1 ${w.isPositive?"text-green-400":w.isZero?"text-gray-400":"text-red-400"}`,children:[w.isPositive?"+":"",w.value," vs 本月"]})]})]})})()]}),u.jsxs("div",{className:"text-center text-sm text-gray-400",children:["基於 ",n.totalMonths," 個月份的資料計算 | ",u.jsx("span",{className:"text-green-400",children:"綠色"})," = 高於平均值 | ",u.jsx("span",{className:"text-red-400",children:"紅色"})," = 低於平均值"]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h4",{className:"text-lg font-bold mb-4 text-purple-300 text-center",children:"班次佔比"}),u.jsx(Cs,{width:"100%",height:300,children:u.jsxs(QH,{children:[u.jsx($_,{data:o,cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percent:m})=>`${g} ${(m*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.map((g,m)=>u.jsx(Wc,{fill:g.color},`cell-${m}`))}),u.jsx(_a,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}})]})})]}),u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h4",{className:"text-lg font-bold mb-4 text-blue-300 text-center",children:"每日班次分布"}),u.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["日","一","二","三","四","五","六"].map(g=>u.jsx("div",{className:"text-center text-sm font-semibold text-gray-400 py-2",children:g},g))}),u.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:new Date(new Date().getFullYear(),new Date().getMonth(),1).getDay()},(g,m)=>u.jsx("div",{className:"h-8 bg-surface/20 rounded border border-white/5"},`empty-${m}`)),Array.from({length:new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate()},(g,m)=>{var B;const p=m+1,v=(B=t[r])==null?void 0:B[p],y=I=>{switch(I){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-surface/20 text-gray-400 border border-white/10"}},w=I=>{switch(I){case"早":return"早班";case"中":return"中班";case"晚":return"晚班";case"休":return"休假";case"特":return"特休";default:return"無班次"}};return u.jsx("div",{className:`h-8 rounded border flex items-center justify-center text-xs font-bold transition-all hover:scale-110 cursor-pointer ${y(v)}`,title:`${p}日 - ${w(v)}`,children:p},p)})]}),u.jsxs("div",{className:"mt-4 flex flex-wrap justify-center gap-3 text-xs",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded"}),u.jsx("span",{className:"text-gray-300",children:"早班"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 bg-cyan-500 rounded"}),u.jsx("span",{className:"text-gray-300",children:"中班"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),u.jsx("span",{className:"text-gray-300",children:"晚班"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded"}),u.jsx("span",{className:"text-gray-300",children:"休假"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded"}),u.jsx("span",{className:"text-gray-300",children:"特休"})]})]})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h4",{className:"text-lg font-bold mb-4 text-orange-300 text-center",children:"連續上班天數分析"}),u.jsx(Cs,{width:"100%",height:300,children:u.jsxs(LB,{data:A,margin:{top:20,right:30,left:20,bottom:5},children:[u.jsx(cA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),u.jsx($a,{dataKey:"period",stroke:"#ffffff80"}),u.jsx(Ga,{stroke:"#ffffff80"}),u.jsx(_a,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"},formatter:(g,m)=>[g,{highRisk:"高 (≥6天)",mediumRisk:"中 (4-5天)",lowRisk:"低 (1-3天)"}[m]||m]}),u.jsx(_A,{}),u.jsx(va,{dataKey:"consecutiveDays",fill:"#f97316",name:"連續天數"})]})}),u.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm",children:[u.jsxs("div",{className:"flex items-center justify-center p-2 bg-red-500/20 rounded-lg border border-red-400/30",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),u.jsx("span",{className:"text-red-300",children:"高 (≥6天)"})]}),u.jsxs("div",{className:"flex items-center justify-center p-2 bg-orange-500/20 rounded-lg border border-orange-400/30",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500 mr-2"}),u.jsx("span",{className:"text-orange-300",children:"中 (4-5天)"})]}),u.jsxs("div",{className:"flex items-center justify-center p-2 bg-green-500/20 rounded-lg border border-green-400/30",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),u.jsx("span",{className:"text-green-300",children:"低 (1-3天)"})]})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h4",{className:"text-lg font-bold mb-4 text-blue-300 text-center",children:"連續上班頻率趨勢"}),u.jsx(Cs,{width:"100%",height:300,children:u.jsxs(sy,{data:l(),margin:{top:20,right:30,left:20,bottom:5},children:[u.jsx(cA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),u.jsx($a,{dataKey:"date",stroke:"#ffffff80"}),u.jsx(Ga,{stroke:"#ffffff80",domain:[0,6]}),u.jsx(_a,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}}),u.jsx(_A,{}),u.jsx(ei,{type:"monotone",dataKey:"consecutiveDays",stroke:"#8b5cf6",strokeWidth:3,name:"連續天數"}),u.jsx(ei,{type:"monotone",dataKey:"riskLevel",stroke:"#ef4444",strokeWidth:2,name:"等級"})]})})]})]}),u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h4",{className:"text-lg font-bold mb-4 text-purple-300 text-center",children:"班次轉換關係圖"}),u.jsx(Cs,{width:"100%",height:300,children:u.jsxs(LB,{data:c(),margin:{top:20,right:30,left:20,bottom:5},children:[u.jsx(cA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),u.jsx($a,{dataKey:"transition",stroke:"#ffffff80"}),u.jsx(Ga,{stroke:"#ffffff80"}),u.jsx(_a,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"},formatter:(g,m,p)=>[`${p.payload.transition}: ${g}次`,"轉換次數"]}),u.jsx(va,{dataKey:"value",fill:"#8b5cf6"})]})}),u.jsx("div",{className:"mt-4 grid grid-cols-2 lg:grid-cols-4 gap-4",children:d().slice(0,8).map((g,m)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:f(g.from)},children:g.from}),u.jsx("span",{className:"text-gray-400",children:"→"}),u.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:f(g.to)},children:g.to})]}),u.jsx("div",{className:"text-purple-300 font-bold",children:g.count})]},m))})]})})]})}function Tve({schedule:t,names:e,pickupLocations:r,selectedEmployee:n,calculateFare:i}){const[s,a]=x.useState(!1),[o,A]=x.useState(null);if(x.useEffect(()=>{n?(a(!0),setTimeout(()=>{const g=i(n);A(g),a(!1)},500)):A(null)},[n,i]),!n)return u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"請選擇一位同事來計算車費"}),u.jsx("div",{className:"text-gray-500 text-sm",children:"選擇同事後，將顯示該同事的車費分析"})]});if(s)return u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),u.jsx("div",{className:"text-gray-400 text-lg",children:"正在計算車費..."})]});if(!o)return u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"無法計算車費"}),u.jsx("div",{className:"text-gray-500 text-sm",children:"該同事可能不搭車或沒有班表資料"})]});const l=[{name:"原價",cost:o.originalTotal,type:"original"},{name:"桃園市民卡 7折",cost:o.citizenCardTotal,type:"citizen"},...o.monthlyPassOptions.map(g=>({name:`${g.days}天定期票`,cost:g.averagePricePerMonth,type:"monthly",days:g.days,savings:g.savings,averagePricePerMonth:g.averagePricePerMonth,price:g.price,originalPrice:g.totalCost})),{name:"TPass 799",cost:o.tpassTotal,type:"tpass"}],d=((g,m)=>{const p={bestValue:null,mostFlexible:null,bestForFrequent:null,bestForOccasional:null};return p.bestValue=m.reduce((v,y)=>y.cost<v.cost?y:v),p.mostFlexible=m.find(v=>v.type==="original"||v.type==="citizen")||p.bestValue,g.totalTrips>20?p.bestForFrequent=m.find(v=>v.type==="tpass")||p.bestValue:g.totalTrips<10?p.bestForOccasional=m.find(v=>v.type==="original"||v.type==="citizen")||p.bestValue:(p.bestForFrequent=p.bestValue,p.bestForOccasional=p.bestValue),p})(o,l),f=d.bestValue;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-xl p-6 border border-blue-400/30",children:[u.jsx("h3",{className:"text-xl font-bold text-blue-300 mb-4",children:"車費試算結果"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-white",children:o.employeeName}),u.jsx("div",{className:"text-sm text-gray-400",children:"同事"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-green-300",children:o.location}),u.jsx("div",{className:"text-sm text-gray-400",children:"上車地點"})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-2xl font-bold text-purple-300",children:[o.totalTrips," 次"]}),u.jsx("div",{className:"text-sm text-gray-400",children:"總搭乘次數"})]})]})]}),u.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/20",children:[u.jsx("h4",{className:"text-lg font-semibold text-purple-300 mb-4",children:"車費方案比較"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4",children:l.map((g,m)=>{var p,v,y;return u.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border transition-all duration-300 relative transform hover:scale-105 hover:shadow-lg animate-fade-in-up ${g.cost===f.cost?"bg-green-500/20 border-green-400/50 text-green-300 ring-2 ring-green-400/30":"bg-surface/20 border-white/20 text-white hover:bg-surface/30"}`,style:{animationDelay:`${m*100}ms`,animationFillMode:"both"},children:[u.jsxs("div",{className:"absolute -top-2 -right-2 flex flex-col gap-1",children:[g.cost===f.cost&&u.jsx("div",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg animate-pulse",children:"🏆 最划算"}),g.cost===((p=d.mostFlexible)==null?void 0:p.cost)&&g.type!=="original"&&u.jsx("div",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"🎯 最靈活"}),g.cost===((v=d.bestForFrequent)==null?void 0:v.cost)&&o.totalTrips>20&&u.jsx("div",{className:"bg-purple-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"⚡ 常搭推薦"}),g.cost===((y=d.bestForOccasional)==null?void 0:y.cost)&&o.totalTrips<10&&u.jsx("div",{className:"bg-orange-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"💡 偶爾搭"})]}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g.type==="original"&&u.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),g.type==="citizen"&&u.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V4a2 2 0 114 0v2m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})}),g.type==="monthly"&&u.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),g.type==="tpass"&&u.jsx("svg",{className:"w-5 h-5 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),u.jsx("span",{className:"font-semibold text-sm",children:g.name})]}),u.jsxs("div",{className:"text-xl sm:text-2xl font-bold mb-2 transition-all duration-300 animate-price-change",children:["$",g.cost]}),g.type==="monthly"&&u.jsx("div",{className:"text-xs text-gray-400 mb-1",children:u.jsxs("span",{className:"text-xs text-gray-500",children:["票券原價 $",g.originalPrice]})}),g.type==="tpass"&&u.jsx("div",{className:"text-xs text-gray-400",children:"A22-A7 坐到哭"})]},m)})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-r from-indigo-500/20 to-purple-500/20 rounded-xl p-6 border border-indigo-400/30",children:[u.jsx("h4",{className:"text-xl font-bold text-indigo-300 mb-6",children:"車費分析儀表板"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[u.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",Math.min(...l.map(g=>g.cost))]}),u.jsx("div",{className:"text-sm text-gray-400",children:"最低費用"})]}),u.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[u.jsxs("div",{className:"text-2xl font-bold text-red-400",children:["$",Math.max(...l.map(g=>g.cost))]}),u.jsx("div",{className:"text-sm text-gray-400",children:"最高費用"})]}),u.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[u.jsxs("div",{className:"text-2xl font-bold text-orange-400",children:["$",o.originalTotal-Math.min(...l.map(g=>g.cost))]}),u.jsx("div",{className:"text-sm text-gray-400",children:"最大節省"})]}),u.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-400",children:l.length}),u.jsx("div",{className:"text-sm text-gray-400",children:"方案數量"})]})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 via-teal-500/5 to-cyan-500/10 rounded-xl p-6 border border-emerald-400/20 shadow-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[u.jsx("h5",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-emerald-300 to-teal-300 bg-clip-text text-transparent",children:"搭乘次數 vs 費用效益分析"}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[u.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-emerald-400"}),u.jsx("span",{className:"hidden sm:inline",children:"即時分析"})]})]}),u.jsx(Cs,{width:"100%",height:200,className:"sm:h-[250px]",children:u.jsxs(sy,{data:Array.from({length:40},(g,m)=>{const p=m+1,v=p*o.originalTotal/o.totalTrips,y=Math.ceil(v*.7),w=799,B=o.monthlyPassOptions.find(T=>T.days===120),I=B?B.averagePricePerMonth:486;return{trips:p,原價:Math.round(v),市民卡:y,TPass:w,"120天票":Math.round(I)}}),children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"originalGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:.1})]}),u.jsxs("linearGradient",{id:"citizenGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),u.jsxs("linearGradient",{id:"tpassGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:.1})]}),u.jsxs("linearGradient",{id:"monthlyGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})]}),u.jsx(cA,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),u.jsx($a,{dataKey:"trips",stroke:"#9ca3af",fontSize:10,className:"sm:text-xs",tickLine:!1,axisLine:{stroke:"#4b5563",strokeWidth:1},interval:"preserveStartEnd",label:{value:"搭乘次數",position:"insideBottom",offset:-5,style:{textAnchor:"middle",fill:"#9ca3af",fontSize:"11px",fontWeight:"500"}}}),u.jsx(Ga,{stroke:"#9ca3af",fontSize:10,className:"sm:text-xs",tickLine:!1,axisLine:{stroke:"#4b5563",strokeWidth:1},tickFormatter:g=>`$${g}`,width:50,label:{value:"費用",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9ca3af",fontSize:"11px",fontWeight:"500"}}}),u.jsx(_a,{formatter:(g,m)=>[`$${g}`,m],labelFormatter:g=>`搭乘 ${g} 次`,contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"12px",color:"#fff",boxShadow:"0 10px 25px rgba(0,0,0,0.3)",padding:"12px"},cursor:{stroke:"#6b7280",strokeWidth:1,strokeDasharray:"3 3"}}),u.jsx(ei,{type:"monotone",dataKey:"原價",stroke:"#ef4444",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#ef4444",strokeWidth:1,fill:"#fff"}}),u.jsx(ei,{type:"monotone",dataKey:"市民卡",stroke:"#3b82f6",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#3b82f6",strokeWidth:1,fill:"#fff"}}),u.jsx(ei,{type:"monotone",dataKey:"TPass",stroke:"#f59e0b",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#f59e0b",strokeWidth:1,fill:"#fff"}}),u.jsx(ei,{type:"monotone",dataKey:"120天票",stroke:"#10b981",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#10b981",strokeWidth:1,fill:"#fff"}})]})}),u.jsx("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 bg-surface/20 rounded-lg border border-emerald-400/10",children:u.jsxs("div",{className:"text-xs sm:text-sm text-gray-300 leading-relaxed",children:["此圖顯示不同搭乘次數下各方案的費用變化，幫助您了解在什麼情況下哪種方案最划算。",u.jsx("span",{className:"text-emerald-300 font-medium",children:"交叉點"}),"表示方案間的轉換時機。"]})})]})]})]})}function Fve({schedule:t,names:e,displayDates:r,selectedEmployee:n}){if(!n)return u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"請選擇一位同事來查看搭班情況"}),u.jsx("div",{className:"text-gray-500 text-sm",children:"在左側選擇同事後，將顯示該同事每天的搭班同事"})]});const i=o=>{var d;const A=(d=t[n])==null?void 0:d[o];if(!A||A==="休")return[];const l=[];Object.keys(t).forEach(f=>{var m;if(f==="_lastUpdated"||f===n)return;const g=(m=t[f])==null?void 0:m[o];!g||g==="休"||(g===A?l.push({id:f,name:e[f]||f,shift:g,type:"同班"}):(A==="早"&&g==="中"||A==="中"&&g==="晚"||A==="中"&&g==="早"||A==="晚"&&g==="中")&&l.push({id:f,name:e[f]||f,shift:g,type:"跨班"}))});const c={早:1,中:2,晚:3};return l.sort((f,g)=>{const m=c[f.shift]||999,p=c[g.shift]||999;return m-p}),l},s=o=>{switch(o){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}},a=o=>{switch(o){case"同班":return"bg-green-500/20 border-green-400/30 text-green-300";case"跨班":return"bg-purple-500/20 border-purple-400/30 text-purple-300";default:return"bg-gray-500/20 border-gray-400/30 text-gray-300"}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-xl p-4 sm:p-6 border border-purple-400/30",children:[u.jsx("h3",{className:"text-lg sm:text-xl font-bold text-purple-300 mb-2",children:"每日搭班視圖"}),u.jsx("div",{className:"flex items-center gap-2 sm:gap-4",children:u.jsxs("div",{className:"text-white font-semibold text-sm sm:text-base",children:["同事：",u.jsx("span",{className:"text-purple-300",children:e[n]||n})]})})]}),u.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 gap-2 sm:gap-3 md:gap-4",children:r.map(o=>{var d;const A=o===new Date().getDate(),l=(d=t[n])==null?void 0:d[o],c=i(o);return u.jsxs("div",{className:`bg-surface/60 rounded-xl p-2 sm:p-3 md:p-4 border transition-all duration-200 ${A?"border-primary/50 bg-primary/10 ring-2 ring-primary/30":"border-white/20 hover:border-white/30"}`,children:[u.jsxs("div",{className:"text-center mb-2 sm:mb-3",children:[u.jsx("div",{className:`text-sm sm:text-base md:text-lg font-bold ${A?"text-primary":"text-white"}`,children:o}),u.jsx("div",{className:"text-xs text-gray-400 hidden sm:block",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),o).getDay()]})]}),u.jsxs("div",{className:"mb-2 sm:mb-3",children:[u.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"我的班次"}),l?u.jsx("div",{className:`px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-center text-xs sm:text-sm font-bold ${s(l)}`,children:l}):u.jsx("div",{className:"px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-center text-xs sm:text-sm text-gray-400 bg-surface/20 border border-white/10",children:"無班次"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-xs text-gray-400 mb-1 sm:mb-2",children:["搭班同事 (",c.length,")"]}),c.length>0?u.jsx("div",{className:"space-y-1 sm:space-y-2",children:c.map(f=>u.jsxs("div",{className:`p-1 sm:p-2 rounded-lg border text-xs ${a(f.type)}`,children:[u.jsx("div",{className:"font-medium mb-0.5 sm:mb-1 text-xs sm:text-xs truncate",children:f.name}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs opacity-80 hidden sm:inline",children:f.type}),u.jsx("div",{className:`px-1 sm:px-2 py-0.5 sm:py-1 rounded text-xs font-bold ${s(f.shift)}`,children:f.shift})]})]},f.id))}):u.jsx("div",{className:"text-xs text-gray-500 text-center py-1 sm:py-2",children:l&&l!=="休"?"無搭班同事":"休息日"})]})]},o)})})]})}function Nve(){const[t,e]=x.useState(""),[r,n]=x.useState(""),i=()=>{if(!t.trim()){n("請輸入測試資料");return}const s=t.trim().split(`
`);let a=`資料格式分析結果：

`;a+=`總行數: ${s.length}

`,s.forEach((o,A)=>{if(!o.trim()){a+=`第 ${A+1} 行: 空白行
`;return}a+=`第 ${A+1} 行: "${o}"
`;const l=o.split("	"),c=o.split(/\s+/);a+=`  Tab 分隔: ${l.length} 個欄位
`,a+=`  空格分隔: ${c.length} 個欄位
`,l.length>=2?(a+=`  職員編號: "${l[0].trim()}"
`,a+=`  姓名: "${l[1].trim()}"
`,a+=`  班表欄位數: ${l.length-2}
`):c.length>=2?(a+=`  職員編號: "${c[0].trim()}"
`,a+=`  姓名: "${c[1].trim()}"
`,a+=`  班表欄位數: ${c.length-2}
`):a+=`  ❌ 格式錯誤：欄位數不足
`,a+=`
`}),n(a)};return u.jsxs("div",{className:"container-custom py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"資料格式測試工具"}),u.jsx("p",{className:"text-center text-text-secondary",children:"檢查 Excel 資料格式是否正確"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-400",children:"輸入測試資料"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"從 Excel 複製的資料"}),u.jsx("textarea",{value:t,onChange:s=>e(s.target.value),placeholder:"請從 Excel 複製資料並貼上這裡...",className:"w-full h-64 px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-blue-400/50 focus:bg-white/10 resize-none"})]}),u.jsx("button",{onClick:i,className:"px-6 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-400 rounded-lg transition-all",children:"分析資料格式"})]}),u.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-green-400",children:"分析結果"}),u.jsx("div",{className:"bg-surface/20 rounded-lg p-4 border border-white/5",children:u.jsx("pre",{className:"text-sm text-text-secondary whitespace-pre-wrap font-mono",children:r||"請輸入資料並點擊「分析資料格式」"})})]})]}),u.jsxs("div",{className:"mt-8 bg-surface/40 rounded-xl p-6 border border-white/10",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-400",children:"正確的資料格式"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-2 text-orange-400",children:"Excel 格式要求"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary",children:[u.jsx("li",{children:"第一欄：職員編號（如 A45、A51）"}),u.jsx("li",{children:"第二欄：姓名（如 林小余、黃紅葉）"}),u.jsx("li",{children:"第三欄開始：每日班表（如 K、Y、L、月休）"}),u.jsx("li",{children:"欄位之間用 Tab 鍵分隔"}),u.jsx("li",{children:"每行代表一位同仁的完整班表"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-2 text-green-400",children:"範例資料"}),u.jsx("div",{className:"bg-surface/20 rounded-lg p-4 border border-white/5",children:u.jsx("pre",{className:"text-sm text-text-secondary font-mono",children:`A45	林小余	K	K	Y	L	月休	Y
A51	黃紅葉	K	K	Y	L	K	Y
A60	李Ashley	Y	L	K	Y	L	K`})})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-2 text-red-400",children:"常見問題"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary",children:[u.jsx("li",{children:"複製時沒有包含 Tab 分隔符"}),u.jsx("li",{children:"職員編號或姓名為空"}),u.jsx("li",{children:"資料行數不足"}),u.jsx("li",{children:"包含多餘的空格或特殊字符"})]})]})]})]})]})}const Uve=x.lazy(()=>ms(()=>import("./CashierManagement-DCr7mtfQ.js"),[])),Pve=x.lazy(()=>ms(()=>import("./AdminPanel-DDQ1W06s.js"),[]));function kve(){const[t,e]=x.useState({checked:!1,connected:!1,error:null});return x.useEffect(()=>{(async()=>{try{const n=await kY();e({checked:!0,connected:n,error:n?null:"無法連接到 Firebase"})}catch(n){console.error("檢查 Firebase 連接時出錯:",n),e({checked:!0,connected:!1,error:n.message||"無法連接到 Firebase"})}})()},[]),u.jsx(kX,{children:u.jsx(S$,{children:u.jsxs(NX,{children:[t.checked&&!t.connected&&u.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 m-4",children:[u.jsx("h3",{className:"text-amber-500 font-bold mb-2",children:"Firebase 連接警告"}),u.jsxs("p",{className:"text-sm text-text-secondary",children:["應用程序無法連接到 Firebase 服務。部分功能可能無法正常工作。",t.error&&u.jsxs("span",{className:"block mt-1",children:["錯誤: ",t.error]})]}),u.jsx("p",{className:"text-xs text-text-secondary mt-2",children:"您仍然可以使用應用程序，但數據將不會同步到雲端。"})]}),u.jsx(x.Suspense,{fallback:u.jsx(UX,{}),children:u.jsxs(w$,{children:[u.jsx(Mn,{path:"/",element:u.jsx(v$,{to:"/sandwich",replace:!0})}),u.jsx(Mn,{path:"/sandwich",element:u.jsx(MX,{})}),u.jsx(Mn,{path:"/cashier",element:u.jsx(Uve,{})}),u.jsx(Mn,{path:"/alcohol",element:u.jsx(DX,{})}),u.jsx(Mn,{path:"/coffee-beans",element:u.jsx(LX,{})}),u.jsx(Mn,{path:"/daily-reports",element:u.jsx(KX,{})}),u.jsx(Mn,{path:"/schedule",element:u.jsx(wve,{})}),u.jsx(Mn,{path:"/data-tester",element:u.jsx(Nve,{})}),u.jsx(Mn,{path:"/poursteady",element:u.jsx(OX,{})}),u.jsx(Mn,{path:"/admin",element:u.jsx(Pve,{})}),u.jsx(Mn,{path:"*",element:u.jsx(PX,{})})]})})]})})})}Jw.createRoot(document.getElementById("root")).render(u.jsx(ti.StrictMode,{children:u.jsx(kve,{})}));export{Tt as $,G as A,Vc as B,Yve as C,m_ as D,Ve as E,of as F,Ofe as G,Jf as H,Ct as I,e3 as J,Rfe as K,w_ as L,eue as M,tue as N,r_ as O,t_ as P,Wve as Q,ti as R,Gve as S,ye as T,Gs as U,S5 as V,Gt as W,nE as X,nM as Y,zi as Z,ms as _,D2 as a,$a as a$,Xve as a0,qve as a1,jr as a2,wn as a3,yn as a4,Vf as a5,$ve as a6,iy as a7,Jve as a8,Zve as a9,i_ as aA,On as aB,q3 as aC,Z3 as aD,kse as aE,Mv as aF,nde as aG,W_ as aH,G_ as aI,PR as aJ,nH as aK,vN as aL,de as aM,CE as aN,vi as aO,Tn as aP,Un as aQ,eve as aR,N_ as aS,kH as aT,Cs as aU,QH as aV,$_ as aW,Wc as aX,_a as aY,LB as aZ,cA as a_,ln as aa,ds as ab,V3 as ac,po as ad,hf as ae,K3 as af,YE as ag,H_ as ah,whe as ai,Ahe as aj,M_ as ak,jc as al,nt as am,Cfe as an,ht as ao,jA as ap,Jhe as aq,Ka as ar,L_ as as,V_ as at,LF as au,Jv as av,Wv as aw,so as ax,io as ay,SB as az,yD as b,Ga as b0,_A as b1,va as b2,sy as b3,ei as b4,UY as b5,jC as c,pD as d,Tz as e,fc as f,rX as g,ki as h,Ar as i,u as j,yd as k,pd as l,Vve as m,Hve as n,Kve as o,eX as p,fD as q,x as r,Wo as s,OY as t,ZQ as u,Lve as v,sf as w,Fz as x,Ge as y,wt as z};
