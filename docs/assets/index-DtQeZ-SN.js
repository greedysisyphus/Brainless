var kH=Object.defineProperty;var OH=(t,e,r)=>e in t?kH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var tc=(t,e,r)=>OH(t,typeof e!="symbol"?e+"":e,r);function DH(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function Ki(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mN={exports:{}},Vp={},pN={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf=Symbol.for("react.element"),jH=Symbol.for("react.portal"),RH=Symbol.for("react.fragment"),MH=Symbol.for("react.strict_mode"),LH=Symbol.for("react.profiler"),HH=Symbol.for("react.provider"),VH=Symbol.for("react.context"),KH=Symbol.for("react.forward_ref"),$H=Symbol.for("react.suspense"),GH=Symbol.for("react.memo"),WH=Symbol.for("react.lazy"),xI=Symbol.iterator;function zH(t){return t===null||typeof t!="object"?null:(t=xI&&t[xI]||t["@@iterator"],typeof t=="function"?t:null)}var vN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yN=Object.assign,wN={};function xu(t,e,r){this.props=t,this.context=e,this.refs=wN,this.updater=r||vN}xu.prototype.isReactComponent={};xu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xN(){}xN.prototype=xu.prototype;function CB(t,e,r){this.props=t,this.context=e,this.refs=wN,this.updater=r||vN}var EB=CB.prototype=new xN;EB.constructor=CB;yN(EB,xu.prototype);EB.isPureReactComponent=!0;var bI=Array.isArray,bN=Object.prototype.hasOwnProperty,_B={current:null},BN={key:!0,ref:!0,__self:!0,__source:!0};function CN(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)bN.call(e,n)&&!BN.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var A=Array(o),l=0;l<o;l++)A[l]=arguments[l+2];i.children=A}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:cf,type:t,key:s,ref:a,props:i,_owner:_B.current}}function YH(t,e){return{$$typeof:cf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function IB(t){return typeof t=="object"&&t!==null&&t.$$typeof===cf}function XH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var BI=/\/+/g;function ry(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XH(""+t.key):e.toString(36)}function bg(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case cf:case jH:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+ry(a,0):n,bI(i)?(r="",t!=null&&(r=t.replace(BI,"$&/")+"/"),bg(i,e,r,"",function(l){return l})):i!=null&&(IB(i)&&(i=YH(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(BI,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",bI(t))for(var o=0;o<t.length;o++){s=t[o];var A=n+ry(s,o);a+=bg(s,e,r,A,i)}else if(A=zH(t),typeof A=="function")for(t=A.call(t),o=0;!(s=t.next()).done;)s=s.value,A=n+ry(s,o++),a+=bg(s,e,r,A,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ch(t,e,r){if(t==null)return t;var n=[],i=0;return bg(t,n,"","",function(s){return e.call(r,s,i++)}),n}function qH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qr={current:null},Bg={transition:null},JH={ReactCurrentDispatcher:qr,ReactCurrentBatchConfig:Bg,ReactCurrentOwner:_B};function EN(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:ch,forEach:function(t,e,r){ch(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ch(t,function(){e++}),e},toArray:function(t){return ch(t,function(e){return e})||[]},only:function(t){if(!IB(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=xu;je.Fragment=RH;je.Profiler=LH;je.PureComponent=CB;je.StrictMode=MH;je.Suspense=$H;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JH;je.act=EN;je.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=yN({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=_B.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(A in e)bN.call(e,A)&&!BN.hasOwnProperty(A)&&(n[A]=e[A]===void 0&&o!==void 0?o[A]:e[A])}var A=arguments.length-2;if(A===1)n.children=r;else if(1<A){o=Array(A);for(var l=0;l<A;l++)o[l]=arguments[l+2];n.children=o}return{$$typeof:cf,type:t.type,key:i,ref:s,props:n,_owner:a}};je.createContext=function(t){return t={$$typeof:VH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HH,_context:t},t.Consumer=t};je.createElement=CN;je.createFactory=function(t){var e=CN.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:KH,render:t}};je.isValidElement=IB;je.lazy=function(t){return{$$typeof:WH,_payload:{_status:-1,_result:t},_init:qH}};je.memo=function(t,e){return{$$typeof:GH,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Bg.transition;Bg.transition={};try{t()}finally{Bg.transition=e}};je.unstable_act=EN;je.useCallback=function(t,e){return qr.current.useCallback(t,e)};je.useContext=function(t){return qr.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return qr.current.useDeferredValue(t)};je.useEffect=function(t,e){return qr.current.useEffect(t,e)};je.useId=function(){return qr.current.useId()};je.useImperativeHandle=function(t,e,r){return qr.current.useImperativeHandle(t,e,r)};je.useInsertionEffect=function(t,e){return qr.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return qr.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return qr.current.useMemo(t,e)};je.useReducer=function(t,e,r){return qr.current.useReducer(t,e,r)};je.useRef=function(t){return qr.current.useRef(t)};je.useState=function(t){return qr.current.useState(t)};je.useSyncExternalStore=function(t,e,r){return qr.current.useSyncExternalStore(t,e,r)};je.useTransition=function(){return qr.current.useTransition()};je.version="18.3.1";pN.exports=je;var x=pN.exports;const Kp=Ki(x),_N=DH({__proto__:null,default:Kp},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZH=x,eV=Symbol.for("react.element"),tV=Symbol.for("react.fragment"),rV=Object.prototype.hasOwnProperty,nV=ZH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iV={key:!0,ref:!0,__self:!0,__source:!0};function IN(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)rV.call(e,n)&&!iV.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:eV,type:t,key:s,ref:a,props:i,_owner:nV.current}}Vp.Fragment=tV;Vp.jsx=IN;Vp.jsxs=IN;mN.exports=Vp;var c=mN.exports,Qw={},SN={exports:{}},Un={},TN={exports:{}},FN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,ne){var ce=X.length;X.push(ne);e:for(;0<ce;){var Fe=ce-1>>>1,te=X[Fe];if(0<i(te,ne))X[Fe]=ne,X[ce]=te,ce=Fe;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var ne=X[0],ce=X.pop();if(ce!==ne){X[0]=ce;e:for(var Fe=0,te=X.length,ke=te>>>1;Fe<ke;){var Xe=2*(Fe+1)-1,Oe=X[Xe],O=Xe+1,j=X[O];if(0>i(Oe,ce))O<te&&0>i(j,Oe)?(X[Fe]=j,X[O]=ce,Fe=O):(X[Fe]=Oe,X[Xe]=ce,Fe=Xe);else if(O<te&&0>i(j,ce))X[Fe]=j,X[O]=ce,Fe=O;else break e}}return ne}function i(X,ne){var ce=X.sortIndex-ne.sortIndex;return ce!==0?ce:X.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var A=[],l=[],u=1,d=null,f=3,g=!1,m=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(X){for(var ne=r(l);ne!==null;){if(ne.callback===null)n(l);else if(ne.startTime<=X)n(l),ne.sortIndex=ne.expirationTime,e(A,ne);else break;ne=r(l)}}function I(X){if(p=!1,B(X),!m)if(r(A)!==null)m=!0,pe(T);else{var ne=r(l);ne!==null&&we(I,ne.startTime-X)}}function T(X,ne){m=!1,p&&(p=!1,y(_),_=-1),g=!0;var ce=f;try{for(B(ne),d=r(A);d!==null&&(!(d.expirationTime>ne)||X&&!Q());){var Fe=d.callback;if(typeof Fe=="function"){d.callback=null,f=d.priorityLevel;var te=Fe(d.expirationTime<=ne);ne=t.unstable_now(),typeof te=="function"?d.callback=te:d===r(A)&&n(A),B(ne)}else n(A);d=r(A)}if(d!==null)var ke=!0;else{var Xe=r(l);Xe!==null&&we(I,Xe.startTime-ne),ke=!1}return ke}finally{d=null,f=ce,g=!1}}var F=!1,C=null,_=-1,S=5,P=-1;function Q(){return!(t.unstable_now()-P<S)}function k(){if(C!==null){var X=t.unstable_now();P=X;var ne=!0;try{ne=C(!0,X)}finally{ne?N():(F=!1,C=null)}}else F=!1}var N;if(typeof w=="function")N=function(){w(k)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,be=ae.port2;ae.port1.onmessage=k,N=function(){be.postMessage(null)}}else N=function(){v(k,0)};function pe(X){C=X,F||(F=!0,N())}function we(X,ne){_=v(function(){X(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,pe(T))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(A)},t.unstable_next=function(X){switch(f){case 1:case 2:case 3:var ne=3;break;default:ne=f}var ce=f;f=ne;try{return X()}finally{f=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,ne){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ce=f;f=X;try{return ne()}finally{f=ce}},t.unstable_scheduleCallback=function(X,ne,ce){var Fe=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Fe+ce:Fe):ce=Fe,X){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ce+te,X={id:u++,callback:ne,priorityLevel:X,startTime:ce,expirationTime:te,sortIndex:-1},ce>Fe?(X.sortIndex=ce,e(l,X),r(A)===null&&X===r(l)&&(p?(y(_),_=-1):p=!0,we(I,ce-Fe))):(X.sortIndex=te,e(A,X),m||g||(m=!0,pe(T))),X},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(X){var ne=f;return function(){var ce=f;f=ne;try{return X.apply(this,arguments)}finally{f=ce}}}})(FN);TN.exports=FN;var sV=TN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aV=x,En=sV;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UN=new Set,vd={};function _A(t,e){Vl(t,e),Vl(t+"Capture",e)}function Vl(t,e){for(vd[t]=e,t=0;t<e.length;t++)UN.add(e[t])}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kw=Object.prototype.hasOwnProperty,oV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,CI={},EI={};function AV(t){return kw.call(EI,t)?!0:kw.call(CI,t)?!1:oV.test(t)?EI[t]=!0:(CI[t]=!0,!1)}function lV(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uV(t,e,r,n){if(e===null||typeof e>"u"||lV(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Er={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Er[t]=new Jr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Er[e]=new Jr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Er[t]=new Jr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Er[t]=new Jr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Er[t]=new Jr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Er[t]=new Jr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Er[t]=new Jr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Er[t]=new Jr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Er[t]=new Jr(t,5,!1,t.toLowerCase(),null,!1,!1)});var SB=/[\-:]([a-z])/g;function TB(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(SB,TB);Er[e]=new Jr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(SB,TB);Er[e]=new Jr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(SB,TB);Er[e]=new Jr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Er[t]=new Jr(t,1,!1,t.toLowerCase(),null,!1,!1)});Er.xlinkHref=new Jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Er[t]=new Jr(t,1,!1,t.toLowerCase(),null,!0,!0)});function FB(t,e,r,n){var i=Er.hasOwnProperty(e)?Er[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uV(e,r,i,n)&&(r=null),n||i===null?AV(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Qs=aV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dh=Symbol.for("react.element"),dl=Symbol.for("react.portal"),fl=Symbol.for("react.fragment"),UB=Symbol.for("react.strict_mode"),Ow=Symbol.for("react.profiler"),PN=Symbol.for("react.provider"),NN=Symbol.for("react.context"),PB=Symbol.for("react.forward_ref"),Dw=Symbol.for("react.suspense"),jw=Symbol.for("react.suspense_list"),NB=Symbol.for("react.memo"),sa=Symbol.for("react.lazy"),QN=Symbol.for("react.offscreen"),_I=Symbol.iterator;function rc(t){return t===null||typeof t!="object"?null:(t=_I&&t[_I]||t["@@iterator"],typeof t=="function"?t:null)}var Ut=Object.assign,ny;function Ic(t){if(ny===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ny=e&&e[1]||""}return`
`+ny+t}var iy=!1;function sy(t,e){if(!t||iy)return"";iy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var A=`
`+i[a].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=a&&0<=o);break}}}finally{iy=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ic(t):""}function cV(t){switch(t.tag){case 5:return Ic(t.type);case 16:return Ic("Lazy");case 13:return Ic("Suspense");case 19:return Ic("SuspenseList");case 0:case 2:case 15:return t=sy(t.type,!1),t;case 11:return t=sy(t.type.render,!1),t;case 1:return t=sy(t.type,!0),t;default:return""}}function Rw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fl:return"Fragment";case dl:return"Portal";case Ow:return"Profiler";case UB:return"StrictMode";case Dw:return"Suspense";case jw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NN:return(t.displayName||"Context")+".Consumer";case PN:return(t._context.displayName||"Context")+".Provider";case PB:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case NB:return e=t.displayName||null,e!==null?e:Rw(t.type)||"Memo";case sa:e=t._payload,t=t._init;try{return Rw(t(e))}catch{}}return null}function dV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rw(e);case 8:return e===UB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $a(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fV(t){var e=kN(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fh(t){t._valueTracker||(t._valueTracker=fV(t))}function ON(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=kN(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function em(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mw(t,e){var r=e.checked;return Ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function II(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=$a(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function DN(t,e){e=e.checked,e!=null&&FB(t,"checked",e,!1)}function Lw(t,e){DN(t,e);var r=$a(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hw(t,e.type,r):e.hasOwnProperty("defaultValue")&&Hw(t,e.type,$a(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function SI(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Hw(t,e,r){(e!=="number"||em(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Sc=Array.isArray;function Fl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+$a(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return Ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function TI(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(re(92));if(Sc(r)){if(1<r.length)throw Error(re(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:$a(r)}}function jN(t,e){var r=$a(e.value),n=$a(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function FI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function RN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?RN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hh,MN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hh=hh||document.createElement("div"),hh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Gc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hV=["Webkit","ms","Moz","O"];Object.keys(Gc).forEach(function(t){hV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gc[e]=Gc[t]})});function LN(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Gc.hasOwnProperty(t)&&Gc[t]?(""+e).trim():e+"px"}function HN(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=LN(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var gV=Ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $w(t,e){if(e){if(gV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function Gw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ww=null;function QB(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zw=null,Ul=null,Pl=null;function UI(t){if(t=hf(t)){if(typeof zw!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Yp(e),zw(t.stateNode,t.type,e))}}function VN(t){Ul?Pl?Pl.push(t):Pl=[t]:Ul=t}function KN(){if(Ul){var t=Ul,e=Pl;if(Pl=Ul=null,UI(t),e)for(t=0;t<e.length;t++)UI(e[t])}}function $N(t,e){return t(e)}function GN(){}var ay=!1;function WN(t,e,r){if(ay)return t(e,r);ay=!0;try{return $N(t,e,r)}finally{ay=!1,(Ul!==null||Pl!==null)&&(GN(),KN())}}function wd(t,e){var r=t.stateNode;if(r===null)return null;var n=Yp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(re(231,e,typeof r));return r}var Yw=!1;if(xs)try{var nc={};Object.defineProperty(nc,"passive",{get:function(){Yw=!0}}),window.addEventListener("test",nc,nc),window.removeEventListener("test",nc,nc)}catch{Yw=!1}function mV(t,e,r,n,i,s,a,o,A){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var Wc=!1,tm=null,rm=!1,Xw=null,pV={onError:function(t){Wc=!0,tm=t}};function vV(t,e,r,n,i,s,a,o,A){Wc=!1,tm=null,mV.apply(pV,arguments)}function yV(t,e,r,n,i,s,a,o,A){if(vV.apply(this,arguments),Wc){if(Wc){var l=tm;Wc=!1,tm=null}else throw Error(re(198));rm||(rm=!0,Xw=l)}}function IA(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function zN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function PI(t){if(IA(t)!==t)throw Error(re(188))}function wV(t){var e=t.alternate;if(!e){if(e=IA(t),e===null)throw Error(re(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return PI(i),t;if(s===n)return PI(i),e;s=s.sibling}throw Error(re(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?t:e}function YN(t){return t=wV(t),t!==null?XN(t):null}function XN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=XN(t);if(e!==null)return e;t=t.sibling}return null}var qN=En.unstable_scheduleCallback,NI=En.unstable_cancelCallback,xV=En.unstable_shouldYield,bV=En.unstable_requestPaint,Mt=En.unstable_now,BV=En.unstable_getCurrentPriorityLevel,kB=En.unstable_ImmediatePriority,JN=En.unstable_UserBlockingPriority,nm=En.unstable_NormalPriority,CV=En.unstable_LowPriority,ZN=En.unstable_IdlePriority,$p=null,ki=null;function EV(t){if(ki&&typeof ki.onCommitFiberRoot=="function")try{ki.onCommitFiberRoot($p,t,void 0,(t.current.flags&128)===128)}catch{}}var yi=Math.clz32?Math.clz32:SV,_V=Math.log,IV=Math.LN2;function SV(t){return t>>>=0,t===0?32:31-(_V(t)/IV|0)|0}var gh=64,mh=4194304;function Tc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function im(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Tc(o):(s&=a,s!==0&&(n=Tc(s)))}else a=r&~i,a!==0?n=Tc(a):s!==0&&(n=Tc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-yi(e),i=1<<r,n|=t[r],e&=~i;return n}function TV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FV(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-yi(s),o=1<<a,A=i[a];A===-1?(!(o&r)||o&n)&&(i[a]=TV(o,e)):A<=e&&(t.expiredLanes|=o),s&=~o}}function qw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eQ(){var t=gh;return gh<<=1,!(gh&4194240)&&(gh=64),t}function oy(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function df(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yi(e),t[e]=r}function UV(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-yi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function OB(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-yi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ze=0;function tQ(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rQ,DB,nQ,iQ,sQ,Jw=!1,ph=[],Ea=null,_a=null,Ia=null,xd=new Map,bd=new Map,la=[],PV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QI(t,e){switch(t){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":xd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bd.delete(e.pointerId)}}function ic(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=hf(e),e!==null&&DB(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function NV(t,e,r,n,i){switch(e){case"focusin":return Ea=ic(Ea,t,e,r,n,i),!0;case"dragenter":return _a=ic(_a,t,e,r,n,i),!0;case"mouseover":return Ia=ic(Ia,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return xd.set(s,ic(xd.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,bd.set(s,ic(bd.get(s)||null,t,e,r,n,i)),!0}return!1}function aQ(t){var e=Lo(t.target);if(e!==null){var r=IA(e);if(r!==null){if(e=r.tag,e===13){if(e=zN(r),e!==null){t.blockedOn=e,sQ(t.priority,function(){nQ(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Zw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ww=n,r.target.dispatchEvent(n),Ww=null}else return e=hf(r),e!==null&&DB(e),t.blockedOn=r,!1;e.shift()}return!0}function kI(t,e,r){Cg(t)&&r.delete(e)}function QV(){Jw=!1,Ea!==null&&Cg(Ea)&&(Ea=null),_a!==null&&Cg(_a)&&(_a=null),Ia!==null&&Cg(Ia)&&(Ia=null),xd.forEach(kI),bd.forEach(kI)}function sc(t,e){t.blockedOn===e&&(t.blockedOn=null,Jw||(Jw=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,QV)))}function Bd(t){function e(i){return sc(i,t)}if(0<ph.length){sc(ph[0],t);for(var r=1;r<ph.length;r++){var n=ph[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ea!==null&&sc(Ea,t),_a!==null&&sc(_a,t),Ia!==null&&sc(Ia,t),xd.forEach(e),bd.forEach(e),r=0;r<la.length;r++)n=la[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<la.length&&(r=la[0],r.blockedOn===null);)aQ(r),r.blockedOn===null&&la.shift()}var Nl=Qs.ReactCurrentBatchConfig,sm=!0;function kV(t,e,r,n){var i=Ze,s=Nl.transition;Nl.transition=null;try{Ze=1,jB(t,e,r,n)}finally{Ze=i,Nl.transition=s}}function OV(t,e,r,n){var i=Ze,s=Nl.transition;Nl.transition=null;try{Ze=4,jB(t,e,r,n)}finally{Ze=i,Nl.transition=s}}function jB(t,e,r,n){if(sm){var i=Zw(t,e,r,n);if(i===null)py(t,e,n,am,r),QI(t,n);else if(NV(i,t,e,r,n))n.stopPropagation();else if(QI(t,n),e&4&&-1<PV.indexOf(t)){for(;i!==null;){var s=hf(i);if(s!==null&&rQ(s),s=Zw(t,e,r,n),s===null&&py(t,e,n,am,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else py(t,e,n,null,r)}}var am=null;function Zw(t,e,r,n){if(am=null,t=QB(n),t=Lo(t),t!==null)if(e=IA(t),e===null)t=null;else if(r=e.tag,r===13){if(t=zN(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return am=t,null}function oQ(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BV()){case kB:return 1;case JN:return 4;case nm:case CV:return 16;case ZN:return 536870912;default:return 16}default:return 16}}var ha=null,RB=null,Eg=null;function AQ(){if(Eg)return Eg;var t,e=RB,r=e.length,n,i="value"in ha?ha.value:ha.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Eg=i.slice(t,1<n?1-n:void 0)}function _g(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vh(){return!0}function OI(){return!1}function Pn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vh:OI,this.isPropagationStopped=OI,this}return Ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vh)},persist:function(){},isPersistent:vh}),e}var bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},MB=Pn(bu),ff=Ut({},bu,{view:0,detail:0}),DV=Pn(ff),Ay,ly,ac,Gp=Ut({},ff,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:LB,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ac&&(ac&&t.type==="mousemove"?(Ay=t.screenX-ac.screenX,ly=t.screenY-ac.screenY):ly=Ay=0,ac=t),Ay)},movementY:function(t){return"movementY"in t?t.movementY:ly}}),DI=Pn(Gp),jV=Ut({},Gp,{dataTransfer:0}),RV=Pn(jV),MV=Ut({},ff,{relatedTarget:0}),uy=Pn(MV),LV=Ut({},bu,{animationName:0,elapsedTime:0,pseudoElement:0}),HV=Pn(LV),VV=Ut({},bu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KV=Pn(VV),$V=Ut({},bu,{data:0}),jI=Pn($V),GV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zV[t])?!!e[t]:!1}function LB(){return YV}var XV=Ut({},ff,{key:function(t){if(t.key){var e=GV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_g(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:LB,charCode:function(t){return t.type==="keypress"?_g(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_g(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qV=Pn(XV),JV=Ut({},Gp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RI=Pn(JV),ZV=Ut({},ff,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:LB}),eK=Pn(ZV),tK=Ut({},bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),rK=Pn(tK),nK=Ut({},Gp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iK=Pn(nK),sK=[9,13,27,32],HB=xs&&"CompositionEvent"in window,zc=null;xs&&"documentMode"in document&&(zc=document.documentMode);var aK=xs&&"TextEvent"in window&&!zc,lQ=xs&&(!HB||zc&&8<zc&&11>=zc),MI=" ",LI=!1;function uQ(t,e){switch(t){case"keyup":return sK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cQ(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hl=!1;function oK(t,e){switch(t){case"compositionend":return cQ(e);case"keypress":return e.which!==32?null:(LI=!0,MI);case"textInput":return t=e.data,t===MI&&LI?null:t;default:return null}}function AK(t,e){if(hl)return t==="compositionend"||!HB&&uQ(t,e)?(t=AQ(),Eg=RB=ha=null,hl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lQ&&e.locale!=="ko"?null:e.data;default:return null}}var lK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lK[t.type]:e==="textarea"}function dQ(t,e,r,n){VN(n),e=om(e,"onChange"),0<e.length&&(r=new MB("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Yc=null,Cd=null;function uK(t){BQ(t,0)}function Wp(t){var e=pl(t);if(ON(e))return t}function cK(t,e){if(t==="change")return e}var fQ=!1;if(xs){var cy;if(xs){var dy="oninput"in document;if(!dy){var VI=document.createElement("div");VI.setAttribute("oninput","return;"),dy=typeof VI.oninput=="function"}cy=dy}else cy=!1;fQ=cy&&(!document.documentMode||9<document.documentMode)}function KI(){Yc&&(Yc.detachEvent("onpropertychange",hQ),Cd=Yc=null)}function hQ(t){if(t.propertyName==="value"&&Wp(Cd)){var e=[];dQ(e,Cd,t,QB(t)),WN(uK,e)}}function dK(t,e,r){t==="focusin"?(KI(),Yc=e,Cd=r,Yc.attachEvent("onpropertychange",hQ)):t==="focusout"&&KI()}function fK(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wp(Cd)}function hK(t,e){if(t==="click")return Wp(e)}function gK(t,e){if(t==="input"||t==="change")return Wp(e)}function mK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xi=typeof Object.is=="function"?Object.is:mK;function Ed(t,e){if(xi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!kw.call(e,i)||!xi(t[i],e[i]))return!1}return!0}function $I(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function GI(t,e){var r=$I(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$I(r)}}function gQ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gQ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mQ(){for(var t=window,e=em();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=em(t.document)}return e}function VB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pK(t){var e=mQ(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&gQ(r.ownerDocument.documentElement,r)){if(n!==null&&VB(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=GI(r,s);var a=GI(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vK=xs&&"documentMode"in document&&11>=document.documentMode,gl=null,ex=null,Xc=null,tx=!1;function WI(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tx||gl==null||gl!==em(n)||(n=gl,"selectionStart"in n&&VB(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xc&&Ed(Xc,n)||(Xc=n,n=om(ex,"onSelect"),0<n.length&&(e=new MB("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=gl)))}function yh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ml={animationend:yh("Animation","AnimationEnd"),animationiteration:yh("Animation","AnimationIteration"),animationstart:yh("Animation","AnimationStart"),transitionend:yh("Transition","TransitionEnd")},fy={},pQ={};xs&&(pQ=document.createElement("div").style,"AnimationEvent"in window||(delete ml.animationend.animation,delete ml.animationiteration.animation,delete ml.animationstart.animation),"TransitionEvent"in window||delete ml.transitionend.transition);function zp(t){if(fy[t])return fy[t];if(!ml[t])return t;var e=ml[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in pQ)return fy[t]=e[r];return t}var vQ=zp("animationend"),yQ=zp("animationiteration"),wQ=zp("animationstart"),xQ=zp("transitionend"),bQ=new Map,zI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function so(t,e){bQ.set(t,e),_A(e,[t])}for(var hy=0;hy<zI.length;hy++){var gy=zI[hy],yK=gy.toLowerCase(),wK=gy[0].toUpperCase()+gy.slice(1);so(yK,"on"+wK)}so(vQ,"onAnimationEnd");so(yQ,"onAnimationIteration");so(wQ,"onAnimationStart");so("dblclick","onDoubleClick");so("focusin","onFocus");so("focusout","onBlur");so(xQ,"onTransitionEnd");Vl("onMouseEnter",["mouseout","mouseover"]);Vl("onMouseLeave",["mouseout","mouseover"]);Vl("onPointerEnter",["pointerout","pointerover"]);Vl("onPointerLeave",["pointerout","pointerover"]);_A("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_A("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_A("onBeforeInput",["compositionend","keypress","textInput","paste"]);_A("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_A("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_A("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xK=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fc));function YI(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,yV(n,e,void 0,t),t.currentTarget=null}function BQ(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],A=o.instance,l=o.currentTarget;if(o=o.listener,A!==s&&i.isPropagationStopped())break e;YI(i,o,l),s=A}else for(a=0;a<n.length;a++){if(o=n[a],A=o.instance,l=o.currentTarget,o=o.listener,A!==s&&i.isPropagationStopped())break e;YI(i,o,l),s=A}}}if(rm)throw t=Xw,rm=!1,Xw=null,t}function gt(t,e){var r=e[ax];r===void 0&&(r=e[ax]=new Set);var n=t+"__bubble";r.has(n)||(CQ(e,t,2,!1),r.add(n))}function my(t,e,r){var n=0;e&&(n|=4),CQ(r,t,n,e)}var wh="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[wh]){t[wh]=!0,UN.forEach(function(r){r!=="selectionchange"&&(xK.has(r)||my(r,!1,t),my(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wh]||(e[wh]=!0,my("selectionchange",!1,e))}}function CQ(t,e,r,n){switch(oQ(e)){case 1:var i=kV;break;case 4:i=OV;break;default:i=jB}r=i.bind(null,e,r,t),i=void 0,!Yw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function py(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var A=a.tag;if((A===3||A===4)&&(A=a.stateNode.containerInfo,A===i||A.nodeType===8&&A.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Lo(o),a===null)return;if(A=a.tag,A===5||A===6){n=s=a;continue e}o=o.parentNode}}n=n.return}WN(function(){var l=s,u=QB(r),d=[];e:{var f=bQ.get(t);if(f!==void 0){var g=MB,m=t;switch(t){case"keypress":if(_g(r)===0)break e;case"keydown":case"keyup":g=qV;break;case"focusin":m="focus",g=uy;break;case"focusout":m="blur",g=uy;break;case"beforeblur":case"afterblur":g=uy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=DI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=RV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=eK;break;case vQ:case yQ:case wQ:g=HV;break;case xQ:g=rK;break;case"scroll":g=DV;break;case"wheel":g=iK;break;case"copy":case"cut":case"paste":g=KV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=RI}var p=(e&4)!==0,v=!p&&t==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var w=l,B;w!==null;){B=w;var I=B.stateNode;if(B.tag===5&&I!==null&&(B=I,y!==null&&(I=wd(w,y),I!=null&&p.push(Id(w,I,B)))),v)break;w=w.return}0<p.length&&(f=new g(f,m,null,r,u),d.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==Ww&&(m=r.relatedTarget||r.fromElement)&&(Lo(m)||m[bs]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=l,m=m?Lo(m):null,m!==null&&(v=IA(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=l),g!==m)){if(p=DI,I="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(p=RI,I="onPointerLeave",y="onPointerEnter",w="pointer"),v=g==null?f:pl(g),B=m==null?f:pl(m),f=new p(I,w+"leave",g,r,u),f.target=v,f.relatedTarget=B,I=null,Lo(u)===l&&(p=new p(y,w+"enter",m,r,u),p.target=B,p.relatedTarget=v,I=p),v=I,g&&m)t:{for(p=g,y=m,w=0,B=p;B;B=$A(B))w++;for(B=0,I=y;I;I=$A(I))B++;for(;0<w-B;)p=$A(p),w--;for(;0<B-w;)y=$A(y),B--;for(;w--;){if(p===y||y!==null&&p===y.alternate)break t;p=$A(p),y=$A(y)}p=null}else p=null;g!==null&&XI(d,f,g,p,!1),m!==null&&v!==null&&XI(d,v,m,p,!0)}}e:{if(f=l?pl(l):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var T=cK;else if(HI(f))if(fQ)T=gK;else{T=fK;var F=dK}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=hK);if(T&&(T=T(t,l))){dQ(d,T,r,u);break e}F&&F(t,f,l),t==="focusout"&&(F=f._wrapperState)&&F.controlled&&f.type==="number"&&Hw(f,"number",f.value)}switch(F=l?pl(l):window,t){case"focusin":(HI(F)||F.contentEditable==="true")&&(gl=F,ex=l,Xc=null);break;case"focusout":Xc=ex=gl=null;break;case"mousedown":tx=!0;break;case"contextmenu":case"mouseup":case"dragend":tx=!1,WI(d,r,u);break;case"selectionchange":if(vK)break;case"keydown":case"keyup":WI(d,r,u)}var C;if(HB)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else hl?uQ(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(lQ&&r.locale!=="ko"&&(hl||_!=="onCompositionStart"?_==="onCompositionEnd"&&hl&&(C=AQ()):(ha=u,RB="value"in ha?ha.value:ha.textContent,hl=!0)),F=om(l,_),0<F.length&&(_=new jI(_,t,null,r,u),d.push({event:_,listeners:F}),C?_.data=C:(C=cQ(r),C!==null&&(_.data=C)))),(C=aK?oK(t,r):AK(t,r))&&(l=om(l,"onBeforeInput"),0<l.length&&(u=new jI("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:l}),u.data=C))}BQ(d,e)})}function Id(t,e,r){return{instance:t,listener:e,currentTarget:r}}function om(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wd(t,r),s!=null&&n.unshift(Id(t,s,i)),s=wd(t,e),s!=null&&n.push(Id(t,s,i))),t=t.return}return n}function $A(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function XI(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,A=o.alternate,l=o.stateNode;if(A!==null&&A===n)break;o.tag===5&&l!==null&&(o=l,i?(A=wd(r,s),A!=null&&a.unshift(Id(r,A,o))):i||(A=wd(r,s),A!=null&&a.push(Id(r,A,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var bK=/\r\n?/g,BK=/\u0000|\uFFFD/g;function qI(t){return(typeof t=="string"?t:""+t).replace(bK,`
`).replace(BK,"")}function xh(t,e,r){if(e=qI(e),qI(t)!==e&&r)throw Error(re(425))}function Am(){}var rx=null,nx=null;function ix(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sx=typeof setTimeout=="function"?setTimeout:void 0,CK=typeof clearTimeout=="function"?clearTimeout:void 0,JI=typeof Promise=="function"?Promise:void 0,EK=typeof queueMicrotask=="function"?queueMicrotask:typeof JI<"u"?function(t){return JI.resolve(null).then(t).catch(_K)}:sx;function _K(t){setTimeout(function(){throw t})}function vy(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Bd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Bd(e)}function Sa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ZI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Bu=Math.random().toString(36).slice(2),Ui="__reactFiber$"+Bu,Sd="__reactProps$"+Bu,bs="__reactContainer$"+Bu,ax="__reactEvents$"+Bu,IK="__reactListeners$"+Bu,SK="__reactHandles$"+Bu;function Lo(t){var e=t[Ui];if(e)return e;for(var r=t.parentNode;r;){if(e=r[bs]||r[Ui]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ZI(t);t!==null;){if(r=t[Ui])return r;t=ZI(t)}return e}t=r,r=t.parentNode}return null}function hf(t){return t=t[Ui]||t[bs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Yp(t){return t[Sd]||null}var ox=[],vl=-1;function ao(t){return{current:t}}function pt(t){0>vl||(t.current=ox[vl],ox[vl]=null,vl--)}function ft(t,e){vl++,ox[vl]=t.current,t.current=e}var Ga={},jr=ao(Ga),on=ao(!1),AA=Ga;function Kl(t,e){var r=t.type.contextTypes;if(!r)return Ga;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function An(t){return t=t.childContextTypes,t!=null}function lm(){pt(on),pt(jr)}function eS(t,e,r){if(jr.current!==Ga)throw Error(re(168));ft(jr,e),ft(on,r)}function EQ(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(re(108,dV(t)||"Unknown",i));return Ut({},r,n)}function um(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ga,AA=jr.current,ft(jr,t),ft(on,on.current),!0}function tS(t,e,r){var n=t.stateNode;if(!n)throw Error(re(169));r?(t=EQ(t,e,AA),n.__reactInternalMemoizedMergedChildContext=t,pt(on),pt(jr),ft(jr,t)):pt(on),ft(on,r)}var es=null,Xp=!1,yy=!1;function _Q(t){es===null?es=[t]:es.push(t)}function TK(t){Xp=!0,_Q(t)}function oo(){if(!yy&&es!==null){yy=!0;var t=0,e=Ze;try{var r=es;for(Ze=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}es=null,Xp=!1}catch(i){throw es!==null&&(es=es.slice(t+1)),qN(kB,oo),i}finally{Ze=e,yy=!1}}return null}var yl=[],wl=0,cm=null,dm=0,Hn=[],Vn=0,lA=null,os=1,As="";function To(t,e){yl[wl++]=dm,yl[wl++]=cm,cm=t,dm=e}function IQ(t,e,r){Hn[Vn++]=os,Hn[Vn++]=As,Hn[Vn++]=lA,lA=t;var n=os;t=As;var i=32-yi(n)-1;n&=~(1<<i),r+=1;var s=32-yi(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,os=1<<32-yi(e)+i|r<<i|n,As=s+t}else os=1<<s|r<<i|n,As=t}function KB(t){t.return!==null&&(To(t,1),IQ(t,1,0))}function $B(t){for(;t===cm;)cm=yl[--wl],yl[wl]=null,dm=yl[--wl],yl[wl]=null;for(;t===lA;)lA=Hn[--Vn],Hn[Vn]=null,As=Hn[--Vn],Hn[Vn]=null,os=Hn[--Vn],Hn[Vn]=null}var Bn=null,wn=null,xt=!1,hi=null;function SQ(t,e){var r=Gn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function rS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,wn=Sa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=lA!==null?{id:os,overflow:As}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Gn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Bn=t,wn=null,!0):!1;default:return!1}}function Ax(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lx(t){if(xt){var e=wn;if(e){var r=e;if(!rS(t,e)){if(Ax(t))throw Error(re(418));e=Sa(r.nextSibling);var n=Bn;e&&rS(t,e)?SQ(n,r):(t.flags=t.flags&-4097|2,xt=!1,Bn=t)}}else{if(Ax(t))throw Error(re(418));t.flags=t.flags&-4097|2,xt=!1,Bn=t}}}function nS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function bh(t){if(t!==Bn)return!1;if(!xt)return nS(t),xt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ix(t.type,t.memoizedProps)),e&&(e=wn)){if(Ax(t))throw TQ(),Error(re(418));for(;e;)SQ(t,e),e=Sa(e.nextSibling)}if(nS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){wn=Sa(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=Bn?Sa(t.stateNode.nextSibling):null;return!0}function TQ(){for(var t=wn;t;)t=Sa(t.nextSibling)}function $l(){wn=Bn=null,xt=!1}function GB(t){hi===null?hi=[t]:hi.push(t)}var FK=Qs.ReactCurrentBatchConfig;function oc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,t))}return t}function Bh(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iS(t){var e=t._init;return e(t._payload)}function FQ(t){function e(y,w){if(t){var B=y.deletions;B===null?(y.deletions=[w],y.flags|=16):B.push(w)}}function r(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=Pa(y,w),y.index=0,y.sibling=null,y}function s(y,w,B){return y.index=B,t?(B=y.alternate,B!==null?(B=B.index,B<w?(y.flags|=2,w):B):(y.flags|=2,w)):(y.flags|=1048576,w)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,w,B,I){return w===null||w.tag!==6?(w=_y(B,y.mode,I),w.return=y,w):(w=i(w,B),w.return=y,w)}function A(y,w,B,I){var T=B.type;return T===fl?u(y,w,B.props.children,I,B.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===sa&&iS(T)===w.type)?(I=i(w,B.props),I.ref=oc(y,w,B),I.return=y,I):(I=Ng(B.type,B.key,B.props,null,y.mode,I),I.ref=oc(y,w,B),I.return=y,I)}function l(y,w,B,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==B.containerInfo||w.stateNode.implementation!==B.implementation?(w=Iy(B,y.mode,I),w.return=y,w):(w=i(w,B.children||[]),w.return=y,w)}function u(y,w,B,I,T){return w===null||w.tag!==7?(w=Jo(B,y.mode,I,T),w.return=y,w):(w=i(w,B),w.return=y,w)}function d(y,w,B){if(typeof w=="string"&&w!==""||typeof w=="number")return w=_y(""+w,y.mode,B),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case dh:return B=Ng(w.type,w.key,w.props,null,y.mode,B),B.ref=oc(y,null,w),B.return=y,B;case dl:return w=Iy(w,y.mode,B),w.return=y,w;case sa:var I=w._init;return d(y,I(w._payload),B)}if(Sc(w)||rc(w))return w=Jo(w,y.mode,B,null),w.return=y,w;Bh(y,w)}return null}function f(y,w,B,I){var T=w!==null?w.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return T!==null?null:o(y,w,""+B,I);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case dh:return B.key===T?A(y,w,B,I):null;case dl:return B.key===T?l(y,w,B,I):null;case sa:return T=B._init,f(y,w,T(B._payload),I)}if(Sc(B)||rc(B))return T!==null?null:u(y,w,B,I,null);Bh(y,B)}return null}function g(y,w,B,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return y=y.get(B)||null,o(w,y,""+I,T);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case dh:return y=y.get(I.key===null?B:I.key)||null,A(w,y,I,T);case dl:return y=y.get(I.key===null?B:I.key)||null,l(w,y,I,T);case sa:var F=I._init;return g(y,w,B,F(I._payload),T)}if(Sc(I)||rc(I))return y=y.get(B)||null,u(w,y,I,T,null);Bh(w,I)}return null}function m(y,w,B,I){for(var T=null,F=null,C=w,_=w=0,S=null;C!==null&&_<B.length;_++){C.index>_?(S=C,C=null):S=C.sibling;var P=f(y,C,B[_],I);if(P===null){C===null&&(C=S);break}t&&C&&P.alternate===null&&e(y,C),w=s(P,w,_),F===null?T=P:F.sibling=P,F=P,C=S}if(_===B.length)return r(y,C),xt&&To(y,_),T;if(C===null){for(;_<B.length;_++)C=d(y,B[_],I),C!==null&&(w=s(C,w,_),F===null?T=C:F.sibling=C,F=C);return xt&&To(y,_),T}for(C=n(y,C);_<B.length;_++)S=g(C,y,_,B[_],I),S!==null&&(t&&S.alternate!==null&&C.delete(S.key===null?_:S.key),w=s(S,w,_),F===null?T=S:F.sibling=S,F=S);return t&&C.forEach(function(Q){return e(y,Q)}),xt&&To(y,_),T}function p(y,w,B,I){var T=rc(B);if(typeof T!="function")throw Error(re(150));if(B=T.call(B),B==null)throw Error(re(151));for(var F=T=null,C=w,_=w=0,S=null,P=B.next();C!==null&&!P.done;_++,P=B.next()){C.index>_?(S=C,C=null):S=C.sibling;var Q=f(y,C,P.value,I);if(Q===null){C===null&&(C=S);break}t&&C&&Q.alternate===null&&e(y,C),w=s(Q,w,_),F===null?T=Q:F.sibling=Q,F=Q,C=S}if(P.done)return r(y,C),xt&&To(y,_),T;if(C===null){for(;!P.done;_++,P=B.next())P=d(y,P.value,I),P!==null&&(w=s(P,w,_),F===null?T=P:F.sibling=P,F=P);return xt&&To(y,_),T}for(C=n(y,C);!P.done;_++,P=B.next())P=g(C,y,_,P.value,I),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?_:P.key),w=s(P,w,_),F===null?T=P:F.sibling=P,F=P);return t&&C.forEach(function(k){return e(y,k)}),xt&&To(y,_),T}function v(y,w,B,I){if(typeof B=="object"&&B!==null&&B.type===fl&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case dh:e:{for(var T=B.key,F=w;F!==null;){if(F.key===T){if(T=B.type,T===fl){if(F.tag===7){r(y,F.sibling),w=i(F,B.props.children),w.return=y,y=w;break e}}else if(F.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===sa&&iS(T)===F.type){r(y,F.sibling),w=i(F,B.props),w.ref=oc(y,F,B),w.return=y,y=w;break e}r(y,F);break}else e(y,F);F=F.sibling}B.type===fl?(w=Jo(B.props.children,y.mode,I,B.key),w.return=y,y=w):(I=Ng(B.type,B.key,B.props,null,y.mode,I),I.ref=oc(y,w,B),I.return=y,y=I)}return a(y);case dl:e:{for(F=B.key;w!==null;){if(w.key===F)if(w.tag===4&&w.stateNode.containerInfo===B.containerInfo&&w.stateNode.implementation===B.implementation){r(y,w.sibling),w=i(w,B.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else e(y,w);w=w.sibling}w=Iy(B,y.mode,I),w.return=y,y=w}return a(y);case sa:return F=B._init,v(y,w,F(B._payload),I)}if(Sc(B))return m(y,w,B,I);if(rc(B))return p(y,w,B,I);Bh(y,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,w!==null&&w.tag===6?(r(y,w.sibling),w=i(w,B),w.return=y,y=w):(r(y,w),w=_y(B,y.mode,I),w.return=y,y=w),a(y)):r(y,w)}return v}var Gl=FQ(!0),UQ=FQ(!1),fm=ao(null),hm=null,xl=null,WB=null;function zB(){WB=xl=hm=null}function YB(t){var e=fm.current;pt(fm),t._currentValue=e}function ux(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ql(t,e){hm=t,WB=xl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function ri(t){var e=t._currentValue;if(WB!==t)if(t={context:t,memoizedValue:e,next:null},xl===null){if(hm===null)throw Error(re(308));xl=t,hm.dependencies={lanes:0,firstContext:t}}else xl=xl.next=t;return e}var Ho=null;function XB(t){Ho===null?Ho=[t]:Ho.push(t)}function PQ(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,XB(e)):(r.next=i.next,i.next=r),e.interleaved=r,Bs(t,n)}function Bs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var aa=!1;function qB(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NQ(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ms(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ta(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,$e&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Bs(t,r)}return i=n.interleaved,i===null?(e.next=e,XB(n)):(e.next=i.next,i.next=e),n.interleaved=e,Bs(t,r)}function Ig(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,OB(t,r)}}function sS(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function gm(t,e,r,n){var i=t.updateQueue;aa=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var A=o,l=A.next;A.next=null,a===null?s=l:a.next=l,a=A;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=A))}if(s!==null){var d=i.baseState;a=0,u=l=A=null,o=s;do{var f=o.lane,g=o.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,p=o;switch(f=e,g=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(g,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,f=typeof m=="function"?m.call(g,d,f):m,f==null)break e;d=Ut({},d,f);break e;case 2:aa=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else g={eventTime:g,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(l=u=g,A=d):u=u.next=g,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(A=d),i.baseState=A,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);cA|=a,t.lanes=a,t.memoizedState=d}}function aS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(re(191,i));i.call(n)}}}var gf={},Oi=ao(gf),Td=ao(gf),Fd=ao(gf);function Vo(t){if(t===gf)throw Error(re(174));return t}function JB(t,e){switch(ft(Fd,e),ft(Td,t),ft(Oi,gf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kw(e,t)}pt(Oi),ft(Oi,e)}function Wl(){pt(Oi),pt(Td),pt(Fd)}function QQ(t){Vo(Fd.current);var e=Vo(Oi.current),r=Kw(e,t.type);e!==r&&(ft(Td,t),ft(Oi,r))}function ZB(t){Td.current===t&&(pt(Oi),pt(Td))}var St=ao(0);function mm(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wy=[];function eC(){for(var t=0;t<wy.length;t++)wy[t]._workInProgressVersionPrimary=null;wy.length=0}var Sg=Qs.ReactCurrentDispatcher,xy=Qs.ReactCurrentBatchConfig,uA=0,Tt=null,Yt=null,lr=null,pm=!1,qc=!1,Ud=0,UK=0;function Sr(){throw Error(re(321))}function tC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!xi(t[r],e[r]))return!1;return!0}function rC(t,e,r,n,i,s){if(uA=s,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sg.current=t===null||t.memoizedState===null?kK:OK,t=r(n,i),qc){s=0;do{if(qc=!1,Ud=0,25<=s)throw Error(re(301));s+=1,lr=Yt=null,e.updateQueue=null,Sg.current=DK,t=r(n,i)}while(qc)}if(Sg.current=vm,e=Yt!==null&&Yt.next!==null,uA=0,lr=Yt=Tt=null,pm=!1,e)throw Error(re(300));return t}function nC(){var t=Ud!==0;return Ud=0,t}function Si(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?Tt.memoizedState=lr=t:lr=lr.next=t,lr}function ni(){if(Yt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var e=lr===null?Tt.memoizedState:lr.next;if(e!==null)lr=e,Yt=t;else{if(t===null)throw Error(re(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},lr===null?Tt.memoizedState=lr=t:lr=lr.next=t}return lr}function Pd(t,e){return typeof e=="function"?e(t):e}function by(t){var e=ni(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=Yt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,A=null,l=s;do{var u=l.lane;if((uA&u)===u)A!==null&&(A=A.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};A===null?(o=A=d,a=n):A=A.next=d,Tt.lanes|=u,cA|=u}l=l.next}while(l!==null&&l!==s);A===null?a=n:A.next=o,xi(n,e.memoizedState)||(sn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=A,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Tt.lanes|=s,cA|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function By(t){var e=ni(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);xi(s,e.memoizedState)||(sn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function kQ(){}function OQ(t,e){var r=Tt,n=ni(),i=e(),s=!xi(n.memoizedState,i);if(s&&(n.memoizedState=i,sn=!0),n=n.queue,iC(RQ.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||lr!==null&&lr.memoizedState.tag&1){if(r.flags|=2048,Nd(9,jQ.bind(null,r,n,i,e),void 0,null),cr===null)throw Error(re(349));uA&30||DQ(r,e,i)}return i}function DQ(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function jQ(t,e,r,n){e.value=r,e.getSnapshot=n,MQ(e)&&LQ(t)}function RQ(t,e,r){return r(function(){MQ(e)&&LQ(t)})}function MQ(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!xi(t,r)}catch{return!0}}function LQ(t){var e=Bs(t,1);e!==null&&wi(e,t,1,-1)}function oS(t){var e=Si();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pd,lastRenderedState:t},e.queue=t,t=t.dispatch=QK.bind(null,Tt,t),[e.memoizedState,t]}function Nd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function HQ(){return ni().memoizedState}function Tg(t,e,r,n){var i=Si();Tt.flags|=t,i.memoizedState=Nd(1|e,r,void 0,n===void 0?null:n)}function qp(t,e,r,n){var i=ni();n=n===void 0?null:n;var s=void 0;if(Yt!==null){var a=Yt.memoizedState;if(s=a.destroy,n!==null&&tC(n,a.deps)){i.memoizedState=Nd(e,r,s,n);return}}Tt.flags|=t,i.memoizedState=Nd(1|e,r,s,n)}function AS(t,e){return Tg(8390656,8,t,e)}function iC(t,e){return qp(2048,8,t,e)}function VQ(t,e){return qp(4,2,t,e)}function KQ(t,e){return qp(4,4,t,e)}function $Q(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GQ(t,e,r){return r=r!=null?r.concat([t]):null,qp(4,4,$Q.bind(null,e,t),r)}function sC(){}function WQ(t,e){var r=ni();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&tC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function zQ(t,e){var r=ni();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&tC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function YQ(t,e,r){return uA&21?(xi(r,e)||(r=eQ(),Tt.lanes|=r,cA|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=r)}function PK(t,e){var r=Ze;Ze=r!==0&&4>r?r:4,t(!0);var n=xy.transition;xy.transition={};try{t(!1),e()}finally{Ze=r,xy.transition=n}}function XQ(){return ni().memoizedState}function NK(t,e,r){var n=Ua(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qQ(t))JQ(e,r);else if(r=PQ(t,e,r,n),r!==null){var i=Gr();wi(r,t,n,i),ZQ(r,e,n)}}function QK(t,e,r){var n=Ua(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qQ(t))JQ(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,xi(o,a)){var A=e.interleaved;A===null?(i.next=i,XB(e)):(i.next=A.next,A.next=i),e.interleaved=i;return}}catch{}finally{}r=PQ(t,e,i,n),r!==null&&(i=Gr(),wi(r,t,n,i),ZQ(r,e,n))}}function qQ(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function JQ(t,e){qc=pm=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function ZQ(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,OB(t,r)}}var vm={readContext:ri,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},kK={readContext:ri,useCallback:function(t,e){return Si().memoizedState=[t,e===void 0?null:e],t},useContext:ri,useEffect:AS,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Tg(4194308,4,$Q.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Tg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tg(4,2,t,e)},useMemo:function(t,e){var r=Si();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Si();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=NK.bind(null,Tt,t),[n.memoizedState,t]},useRef:function(t){var e=Si();return t={current:t},e.memoizedState=t},useState:oS,useDebugValue:sC,useDeferredValue:function(t){return Si().memoizedState=t},useTransition:function(){var t=oS(!1),e=t[0];return t=PK.bind(null,t[1]),Si().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Tt,i=Si();if(xt){if(r===void 0)throw Error(re(407));r=r()}else{if(r=e(),cr===null)throw Error(re(349));uA&30||DQ(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,AS(RQ.bind(null,n,s,t),[t]),n.flags|=2048,Nd(9,jQ.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Si(),e=cr.identifierPrefix;if(xt){var r=As,n=os;r=(n&~(1<<32-yi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ud++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=UK++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},OK={readContext:ri,useCallback:WQ,useContext:ri,useEffect:iC,useImperativeHandle:GQ,useInsertionEffect:VQ,useLayoutEffect:KQ,useMemo:zQ,useReducer:by,useRef:HQ,useState:function(){return by(Pd)},useDebugValue:sC,useDeferredValue:function(t){var e=ni();return YQ(e,Yt.memoizedState,t)},useTransition:function(){var t=by(Pd)[0],e=ni().memoizedState;return[t,e]},useMutableSource:kQ,useSyncExternalStore:OQ,useId:XQ,unstable_isNewReconciler:!1},DK={readContext:ri,useCallback:WQ,useContext:ri,useEffect:iC,useImperativeHandle:GQ,useInsertionEffect:VQ,useLayoutEffect:KQ,useMemo:zQ,useReducer:By,useRef:HQ,useState:function(){return By(Pd)},useDebugValue:sC,useDeferredValue:function(t){var e=ni();return Yt===null?e.memoizedState=t:YQ(e,Yt.memoizedState,t)},useTransition:function(){var t=By(Pd)[0],e=ni().memoizedState;return[t,e]},useMutableSource:kQ,useSyncExternalStore:OQ,useId:XQ,unstable_isNewReconciler:!1};function di(t,e){if(t&&t.defaultProps){e=Ut({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function cx(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ut({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Jp={isMounted:function(t){return(t=t._reactInternals)?IA(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Gr(),i=Ua(t),s=ms(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ta(t,s,i),e!==null&&(wi(e,t,i,n),Ig(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Gr(),i=Ua(t),s=ms(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ta(t,s,i),e!==null&&(wi(e,t,i,n),Ig(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Gr(),n=Ua(t),i=ms(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ta(t,i,n),e!==null&&(wi(e,t,n,r),Ig(e,t,n))}};function lS(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Ed(r,n)||!Ed(i,s):!0}function ek(t,e,r){var n=!1,i=Ga,s=e.contextType;return typeof s=="object"&&s!==null?s=ri(s):(i=An(e)?AA:jr.current,n=e.contextTypes,s=(n=n!=null)?Kl(t,i):Ga),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function uS(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Jp.enqueueReplaceState(e,e.state,null)}function dx(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},qB(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ri(s):(s=An(e)?AA:jr.current,i.context=Kl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(cx(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jp.enqueueReplaceState(i,i.state,null),gm(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function zl(t,e){try{var r="",n=e;do r+=cV(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Cy(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function fx(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var jK=typeof WeakMap=="function"?WeakMap:Map;function tk(t,e,r){r=ms(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){wm||(wm=!0,Bx=n),fx(t,e)},r}function rk(t,e,r){r=ms(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){fx(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){fx(t,e),typeof n!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function cS(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new jK;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=JK.bind(null,t,e,r),e.then(t,t))}function dS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fS(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ms(-1,1),e.tag=2,Ta(r,e,1))),r.lanes|=1),t)}var RK=Qs.ReactCurrentOwner,sn=!1;function Vr(t,e,r,n){e.child=t===null?UQ(e,null,r,n):Gl(e,t.child,r,n)}function hS(t,e,r,n,i){r=r.render;var s=e.ref;return Ql(e,i),n=rC(t,e,r,n,s,i),r=nC(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cs(t,e,i)):(xt&&r&&KB(e),e.flags|=1,Vr(t,e,n,i),e.child)}function gS(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!fC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,nk(t,e,s,n,i)):(t=Ng(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ed,r(a,n)&&t.ref===e.ref)return Cs(t,e,i)}return e.flags|=1,t=Pa(s,n),t.ref=e.ref,t.return=e,e.child=t}function nk(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Ed(s,n)&&t.ref===e.ref)if(sn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,Cs(t,e,i)}return hx(t,e,r,n,i)}function ik(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Bl,mn),mn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ft(Bl,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ft(Bl,mn),mn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,ft(Bl,mn),mn|=n;return Vr(t,e,i,r),e.child}function sk(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function hx(t,e,r,n,i){var s=An(r)?AA:jr.current;return s=Kl(e,s),Ql(e,i),r=rC(t,e,r,n,s,i),n=nC(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Cs(t,e,i)):(xt&&n&&KB(e),e.flags|=1,Vr(t,e,r,i),e.child)}function mS(t,e,r,n,i){if(An(r)){var s=!0;um(e)}else s=!1;if(Ql(e,i),e.stateNode===null)Fg(t,e),ek(e,r,n),dx(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var A=a.context,l=r.contextType;typeof l=="object"&&l!==null?l=ri(l):(l=An(r)?AA:jr.current,l=Kl(e,l));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||A!==l)&&uS(e,a,n,l),aa=!1;var f=e.memoizedState;a.state=f,gm(e,n,a,i),A=e.memoizedState,o!==n||f!==A||on.current||aa?(typeof u=="function"&&(cx(e,r,u,n),A=e.memoizedState),(o=aa||lS(e,r,o,n,f,A,l))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=A),a.props=n,a.state=A,a.context=l,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,NQ(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:di(e.type,o),a.props=l,d=e.pendingProps,f=a.context,A=r.contextType,typeof A=="object"&&A!==null?A=ri(A):(A=An(r)?AA:jr.current,A=Kl(e,A));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==A)&&uS(e,a,n,A),aa=!1,f=e.memoizedState,a.state=f,gm(e,n,a,i);var m=e.memoizedState;o!==d||f!==m||on.current||aa?(typeof g=="function"&&(cx(e,r,g,n),m=e.memoizedState),(l=aa||lS(e,r,l,n,f,m,A)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,A),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,A)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=A,n=l):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return gx(t,e,r,n,s,i)}function gx(t,e,r,n,i,s){sk(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&tS(e,r,!1),Cs(t,e,s);n=e.stateNode,RK.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Gl(e,t.child,null,s),e.child=Gl(e,null,o,s)):Vr(t,e,o,s),e.memoizedState=n.state,i&&tS(e,r,!0),e.child}function ak(t){var e=t.stateNode;e.pendingContext?eS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&eS(t,e.context,!1),JB(t,e.containerInfo)}function pS(t,e,r,n,i){return $l(),GB(i),e.flags|=256,Vr(t,e,r,n),e.child}var mx={dehydrated:null,treeContext:null,retryLane:0};function px(t){return{baseLanes:t,cachePool:null,transitions:null}}function ok(t,e,r){var n=e.pendingProps,i=St.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ft(St,i&1),t===null)return lx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=t0(a,n,0,null),t=Jo(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=px(r),e.memoizedState=mx,t):aC(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return MK(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var A={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=A,e.deletions=null):(n=Pa(i,A),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Pa(o,s):(s=Jo(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?px(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=mx,n}return s=t.child,t=s.sibling,n=Pa(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function aC(t,e){return e=t0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ch(t,e,r,n){return n!==null&&GB(n),Gl(e,t.child,null,r),t=aC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MK(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Cy(Error(re(422))),Ch(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=t0({mode:"visible",children:n.children},i,0,null),s=Jo(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Gl(e,t.child,null,a),e.child.memoizedState=px(a),e.memoizedState=mx,s);if(!(e.mode&1))return Ch(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(re(419)),n=Cy(s,n,void 0),Ch(t,e,a,n)}if(o=(a&t.childLanes)!==0,sn||o){if(n=cr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Bs(t,i),wi(n,t,i,-1))}return dC(),n=Cy(Error(re(421))),Ch(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ZK.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,wn=Sa(i.nextSibling),Bn=e,xt=!0,hi=null,t!==null&&(Hn[Vn++]=os,Hn[Vn++]=As,Hn[Vn++]=lA,os=t.id,As=t.overflow,lA=e),e=aC(e,n.children),e.flags|=4096,e)}function vS(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ux(t.return,e,r)}function Ey(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Ak(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Vr(t,e,n.children,r),n=St.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vS(t,r,e);else if(t.tag===19)vS(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ft(St,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&mm(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Ey(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&mm(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Ey(e,!0,r,null,s);break;case"together":Ey(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),cA|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,r=Pa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Pa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function LK(t,e,r){switch(e.tag){case 3:ak(e),$l();break;case 5:QQ(e);break;case 1:An(e.type)&&um(e);break;case 4:JB(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ft(fm,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ft(St,St.current&1),e.flags|=128,null):r&e.child.childLanes?ok(t,e,r):(ft(St,St.current&1),t=Cs(t,e,r),t!==null?t.sibling:null);ft(St,St.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Ak(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ft(St,St.current),n)break;return null;case 22:case 23:return e.lanes=0,ik(t,e,r)}return Cs(t,e,r)}var lk,vx,uk,ck;lk=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};vx=function(){};uk=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Vo(Oi.current);var s=null;switch(r){case"input":i=Mw(t,i),n=Mw(t,n),s=[];break;case"select":i=Ut({},i,{value:void 0}),n=Ut({},n,{value:void 0}),s=[];break;case"textarea":i=Vw(t,i),n=Vw(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Am)}$w(r,n);var a;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var o=i[l];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(vd.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var A=n[l];if(o=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&A!==o&&(A!=null||o!=null))if(l==="style")if(o){for(a in o)!o.hasOwnProperty(a)||A&&A.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in A)A.hasOwnProperty(a)&&o[a]!==A[a]&&(r||(r={}),r[a]=A[a])}else r||(s||(s=[]),s.push(l,r)),r=A;else l==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,o=o?o.__html:void 0,A!=null&&o!==A&&(s=s||[]).push(l,A)):l==="children"?typeof A!="string"&&typeof A!="number"||(s=s||[]).push(l,""+A):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(vd.hasOwnProperty(l)?(A!=null&&l==="onScroll"&&gt("scroll",t),s||o===A||(s=[])):(s=s||[]).push(l,A))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};ck=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ac(t,e){if(!xt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Tr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function HK(t,e,r){var n=e.pendingProps;switch($B(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(e),null;case 1:return An(e.type)&&lm(),Tr(e),null;case 3:return n=e.stateNode,Wl(),pt(on),pt(jr),eC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(bh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hi!==null&&(_x(hi),hi=null))),vx(t,e),Tr(e),null;case 5:ZB(e);var i=Vo(Fd.current);if(r=e.type,t!==null&&e.stateNode!=null)uk(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(re(166));return Tr(e),null}if(t=Vo(Oi.current),bh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ui]=e,n[Sd]=s,t=(e.mode&1)!==0,r){case"dialog":gt("cancel",n),gt("close",n);break;case"iframe":case"object":case"embed":gt("load",n);break;case"video":case"audio":for(i=0;i<Fc.length;i++)gt(Fc[i],n);break;case"source":gt("error",n);break;case"img":case"image":case"link":gt("error",n),gt("load",n);break;case"details":gt("toggle",n);break;case"input":II(n,s),gt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},gt("invalid",n);break;case"textarea":TI(n,s),gt("invalid",n)}$w(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&xh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&xh(n.textContent,o,t),i=["children",""+o]):vd.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&gt("scroll",n)}switch(r){case"input":fh(n),SI(n,s,!0);break;case"textarea":fh(n),FI(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Am)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=RN(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Ui]=e,t[Sd]=n,lk(t,e,!1,!1),e.stateNode=t;e:{switch(a=Gw(r,n),r){case"dialog":gt("cancel",t),gt("close",t),i=n;break;case"iframe":case"object":case"embed":gt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Fc.length;i++)gt(Fc[i],t);i=n;break;case"source":gt("error",t),i=n;break;case"img":case"image":case"link":gt("error",t),gt("load",t),i=n;break;case"details":gt("toggle",t),i=n;break;case"input":II(t,n),i=Mw(t,n),gt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ut({},n,{value:void 0}),gt("invalid",t);break;case"textarea":TI(t,n),i=Vw(t,n),gt("invalid",t);break;default:i=n}$w(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var A=o[s];s==="style"?HN(t,A):s==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&MN(t,A)):s==="children"?typeof A=="string"?(r!=="textarea"||A!=="")&&yd(t,A):typeof A=="number"&&yd(t,""+A):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vd.hasOwnProperty(s)?A!=null&&s==="onScroll"&&gt("scroll",t):A!=null&&FB(t,s,A,a))}switch(r){case"input":fh(t),SI(t,n,!1);break;case"textarea":fh(t),FI(t);break;case"option":n.value!=null&&t.setAttribute("value",""+$a(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Fl(t,!!n.multiple,s,!1):n.defaultValue!=null&&Fl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Am)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tr(e),null;case 6:if(t&&e.stateNode!=null)ck(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(re(166));if(r=Vo(Fd.current),Vo(Oi.current),bh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ui]=e,(s=n.nodeValue!==r)&&(t=Bn,t!==null))switch(t.tag){case 3:xh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ui]=e,e.stateNode=n}return Tr(e),null;case 13:if(pt(St),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xt&&wn!==null&&e.mode&1&&!(e.flags&128))TQ(),$l(),e.flags|=98560,s=!1;else if(s=bh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[Ui]=e}else $l(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tr(e),s=!1}else hi!==null&&(_x(hi),hi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||St.current&1?qt===0&&(qt=3):dC())),e.updateQueue!==null&&(e.flags|=4),Tr(e),null);case 4:return Wl(),vx(t,e),t===null&&_d(e.stateNode.containerInfo),Tr(e),null;case 10:return YB(e.type._context),Tr(e),null;case 17:return An(e.type)&&lm(),Tr(e),null;case 19:if(pt(St),s=e.memoizedState,s===null)return Tr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Ac(s,!1);else{if(qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=mm(t),a!==null){for(e.flags|=128,Ac(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ft(St,St.current&1|2),e.child}t=t.sibling}s.tail!==null&&Mt()>Yl&&(e.flags|=128,n=!0,Ac(s,!1),e.lanes=4194304)}else{if(!n)if(t=mm(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ac(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!xt)return Tr(e),null}else 2*Mt()-s.renderingStartTime>Yl&&r!==1073741824&&(e.flags|=128,n=!0,Ac(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Mt(),e.sibling=null,r=St.current,ft(St,n?r&1|2:r&1),e):(Tr(e),null);case 22:case 23:return cC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?mn&1073741824&&(Tr(e),e.subtreeFlags&6&&(e.flags|=8192)):Tr(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function VK(t,e){switch($B(e),e.tag){case 1:return An(e.type)&&lm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wl(),pt(on),pt(jr),eC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ZB(e),null;case 13:if(pt(St),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));$l()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pt(St),null;case 4:return Wl(),null;case 10:return YB(e.type._context),null;case 22:case 23:return cC(),null;case 24:return null;default:return null}}var Eh=!1,kr=!1,KK=typeof WeakSet=="function"?WeakSet:Set,ge=null;function bl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){kt(t,e,n)}else r.current=null}function yx(t,e,r){try{r()}catch(n){kt(t,e,n)}}var yS=!1;function $K(t,e){if(rx=sm,t=mQ(),VB(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,A=-1,l=0,u=0,d=t,f=null;t:for(;;){for(var g;d!==r||i!==0&&d.nodeType!==3||(o=a+i),d!==s||n!==0&&d.nodeType!==3||(A=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===r&&++l===i&&(o=a),f===s&&++u===n&&(A=a),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}r=o===-1||A===-1?null:{start:o,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(nx={focusedElem:t,selectionRange:r},sm=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,v=m.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:di(e.type,p),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var B=e.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(I){kt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return m=yS,yS=!1,m}function Jc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&yx(e,r,s)}i=i.next}while(i!==n)}}function Zp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function wx(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function dk(t){var e=t.alternate;e!==null&&(t.alternate=null,dk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ui],delete e[Sd],delete e[ax],delete e[IK],delete e[SK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fk(t){return t.tag===5||t.tag===3||t.tag===4}function wS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Am));else if(n!==4&&(t=t.child,t!==null))for(xx(t,e,r),t=t.sibling;t!==null;)xx(t,e,r),t=t.sibling}function bx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(bx(t,e,r),t=t.sibling;t!==null;)bx(t,e,r),t=t.sibling}var pr=null,fi=!1;function qs(t,e,r){for(r=r.child;r!==null;)hk(t,e,r),r=r.sibling}function hk(t,e,r){if(ki&&typeof ki.onCommitFiberUnmount=="function")try{ki.onCommitFiberUnmount($p,r)}catch{}switch(r.tag){case 5:kr||bl(r,e);case 6:var n=pr,i=fi;pr=null,qs(t,e,r),pr=n,fi=i,pr!==null&&(fi?(t=pr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):pr.removeChild(r.stateNode));break;case 18:pr!==null&&(fi?(t=pr,r=r.stateNode,t.nodeType===8?vy(t.parentNode,r):t.nodeType===1&&vy(t,r),Bd(t)):vy(pr,r.stateNode));break;case 4:n=pr,i=fi,pr=r.stateNode.containerInfo,fi=!0,qs(t,e,r),pr=n,fi=i;break;case 0:case 11:case 14:case 15:if(!kr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&yx(r,e,a),i=i.next}while(i!==n)}qs(t,e,r);break;case 1:if(!kr&&(bl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){kt(r,e,o)}qs(t,e,r);break;case 21:qs(t,e,r);break;case 22:r.mode&1?(kr=(n=kr)||r.memoizedState!==null,qs(t,e,r),kr=n):qs(t,e,r);break;default:qs(t,e,r)}}function xS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new KK),e.forEach(function(n){var i=e6.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function li(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:pr=o.stateNode,fi=!1;break e;case 3:pr=o.stateNode.containerInfo,fi=!0;break e;case 4:pr=o.stateNode.containerInfo,fi=!0;break e}o=o.return}if(pr===null)throw Error(re(160));hk(s,a,i),pr=null,fi=!1;var A=i.alternate;A!==null&&(A.return=null),i.return=null}catch(l){kt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gk(e,t),e=e.sibling}function gk(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(li(e,t),Ei(t),n&4){try{Jc(3,t,t.return),Zp(3,t)}catch(p){kt(t,t.return,p)}try{Jc(5,t,t.return)}catch(p){kt(t,t.return,p)}}break;case 1:li(e,t),Ei(t),n&512&&r!==null&&bl(r,r.return);break;case 5:if(li(e,t),Ei(t),n&512&&r!==null&&bl(r,r.return),t.flags&32){var i=t.stateNode;try{yd(i,"")}catch(p){kt(t,t.return,p)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&DN(i,s),Gw(o,a);var l=Gw(o,s);for(a=0;a<A.length;a+=2){var u=A[a],d=A[a+1];u==="style"?HN(i,d):u==="dangerouslySetInnerHTML"?MN(i,d):u==="children"?yd(i,d):FB(i,u,d,l)}switch(o){case"input":Lw(i,s);break;case"textarea":jN(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Fl(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Fl(i,!!s.multiple,s.defaultValue,!0):Fl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Sd]=s}catch(p){kt(t,t.return,p)}}break;case 6:if(li(e,t),Ei(t),n&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){kt(t,t.return,p)}}break;case 3:if(li(e,t),Ei(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Bd(e.containerInfo)}catch(p){kt(t,t.return,p)}break;case 4:li(e,t),Ei(t);break;case 13:li(e,t),Ei(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(lC=Mt())),n&4&&xS(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(kr=(l=kr)||u,li(e,t),kr=l):li(e,t),Ei(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(ge=t,u=t.child;u!==null;){for(d=ge=u;ge!==null;){switch(f=ge,g=f.child,f.tag){case 0:case 11:case 14:case 15:Jc(4,f,f.return);break;case 1:bl(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){kt(n,r,p)}}break;case 5:bl(f,f.return);break;case 22:if(f.memoizedState!==null){BS(d);continue}}g!==null?(g.return=f,ge=g):BS(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,A=d.memoizedProps.style,a=A!=null&&A.hasOwnProperty("display")?A.display:null,o.style.display=LN("display",a))}catch(p){kt(t,t.return,p)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(p){kt(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:li(e,t),Ei(t),n&4&&xS(t);break;case 21:break;default:li(e,t),Ei(t)}}function Ei(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(fk(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(yd(i,""),n.flags&=-33);var s=wS(t);bx(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=wS(t);xx(t,o,a);break;default:throw Error(re(161))}}catch(A){kt(t,t.return,A)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GK(t,e,r){ge=t,mk(t)}function mk(t,e,r){for(var n=(t.mode&1)!==0;ge!==null;){var i=ge,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Eh;if(!a){var o=i.alternate,A=o!==null&&o.memoizedState!==null||kr;o=Eh;var l=kr;if(Eh=a,(kr=A)&&!l)for(ge=i;ge!==null;)a=ge,A=a.child,a.tag===22&&a.memoizedState!==null?CS(i):A!==null?(A.return=a,ge=A):CS(i);for(;s!==null;)ge=s,mk(s),s=s.sibling;ge=i,Eh=o,kr=l}bS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ge=s):bS(t)}}function bS(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kr||Zp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!kr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:di(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&aS(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}aS(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var A=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&r.focus();break;case"img":A.src&&(r.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Bd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}kr||e.flags&512&&wx(e)}catch(f){kt(e,e.return,f)}}if(e===t){ge=null;break}if(r=e.sibling,r!==null){r.return=e.return,ge=r;break}ge=e.return}}function BS(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ge=r;break}ge=e.return}}function CS(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Zp(4,e)}catch(A){kt(e,r,A)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(A){kt(e,i,A)}}var s=e.return;try{wx(e)}catch(A){kt(e,s,A)}break;case 5:var a=e.return;try{wx(e)}catch(A){kt(e,a,A)}}}catch(A){kt(e,e.return,A)}if(e===t){ge=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ge=o;break}ge=e.return}}var WK=Math.ceil,ym=Qs.ReactCurrentDispatcher,oC=Qs.ReactCurrentOwner,Zn=Qs.ReactCurrentBatchConfig,$e=0,cr=null,$t=null,Cr=0,mn=0,Bl=ao(0),qt=0,Qd=null,cA=0,e0=0,AC=0,Zc=null,rn=null,lC=0,Yl=1/0,qi=null,wm=!1,Bx=null,Fa=null,_h=!1,ga=null,xm=0,ed=0,Cx=null,Ug=-1,Pg=0;function Gr(){return $e&6?Mt():Ug!==-1?Ug:Ug=Mt()}function Ua(t){return t.mode&1?$e&2&&Cr!==0?Cr&-Cr:FK.transition!==null?(Pg===0&&(Pg=eQ()),Pg):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:oQ(t.type)),t):1}function wi(t,e,r,n){if(50<ed)throw ed=0,Cx=null,Error(re(185));df(t,r,n),(!($e&2)||t!==cr)&&(t===cr&&(!($e&2)&&(e0|=r),qt===4&&ua(t,Cr)),ln(t,n),r===1&&$e===0&&!(e.mode&1)&&(Yl=Mt()+500,Xp&&oo()))}function ln(t,e){var r=t.callbackNode;FV(t,e);var n=im(t,t===cr?Cr:0);if(n===0)r!==null&&NI(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&NI(r),e===1)t.tag===0?TK(ES.bind(null,t)):_Q(ES.bind(null,t)),EK(function(){!($e&6)&&oo()}),r=null;else{switch(tQ(n)){case 1:r=kB;break;case 4:r=JN;break;case 16:r=nm;break;case 536870912:r=ZN;break;default:r=nm}r=Ck(r,pk.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function pk(t,e){if(Ug=-1,Pg=0,$e&6)throw Error(re(327));var r=t.callbackNode;if(kl()&&t.callbackNode!==r)return null;var n=im(t,t===cr?Cr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=bm(t,n);else{e=n;var i=$e;$e|=2;var s=yk();(cr!==t||Cr!==e)&&(qi=null,Yl=Mt()+500,qo(t,e));do try{XK();break}catch(o){vk(t,o)}while(!0);zB(),ym.current=s,$e=i,$t!==null?e=0:(cr=null,Cr=0,e=qt)}if(e!==0){if(e===2&&(i=qw(t),i!==0&&(n=i,e=Ex(t,i))),e===1)throw r=Qd,qo(t,0),ua(t,n),ln(t,Mt()),r;if(e===6)ua(t,n);else{if(i=t.current.alternate,!(n&30)&&!zK(i)&&(e=bm(t,n),e===2&&(s=qw(t),s!==0&&(n=s,e=Ex(t,s))),e===1))throw r=Qd,qo(t,0),ua(t,n),ln(t,Mt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(re(345));case 2:Fo(t,rn,qi);break;case 3:if(ua(t,n),(n&130023424)===n&&(e=lC+500-Mt(),10<e)){if(im(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Gr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sx(Fo.bind(null,t,rn,qi),e);break}Fo(t,rn,qi);break;case 4:if(ua(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-yi(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Mt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*WK(n/1960))-n,10<n){t.timeoutHandle=sx(Fo.bind(null,t,rn,qi),n);break}Fo(t,rn,qi);break;case 5:Fo(t,rn,qi);break;default:throw Error(re(329))}}}return ln(t,Mt()),t.callbackNode===r?pk.bind(null,t):null}function Ex(t,e){var r=Zc;return t.current.memoizedState.isDehydrated&&(qo(t,e).flags|=256),t=bm(t,e),t!==2&&(e=rn,rn=r,e!==null&&_x(e)),t}function _x(t){rn===null?rn=t:rn.push.apply(rn,t)}function zK(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!xi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ua(t,e){for(e&=~AC,e&=~e0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-yi(e),n=1<<r;t[r]=-1,e&=~n}}function ES(t){if($e&6)throw Error(re(327));kl();var e=im(t,0);if(!(e&1))return ln(t,Mt()),null;var r=bm(t,e);if(t.tag!==0&&r===2){var n=qw(t);n!==0&&(e=n,r=Ex(t,n))}if(r===1)throw r=Qd,qo(t,0),ua(t,e),ln(t,Mt()),r;if(r===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fo(t,rn,qi),ln(t,Mt()),null}function uC(t,e){var r=$e;$e|=1;try{return t(e)}finally{$e=r,$e===0&&(Yl=Mt()+500,Xp&&oo())}}function dA(t){ga!==null&&ga.tag===0&&!($e&6)&&kl();var e=$e;$e|=1;var r=Zn.transition,n=Ze;try{if(Zn.transition=null,Ze=1,t)return t()}finally{Ze=n,Zn.transition=r,$e=e,!($e&6)&&oo()}}function cC(){mn=Bl.current,pt(Bl)}function qo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,CK(r)),$t!==null)for(r=$t.return;r!==null;){var n=r;switch($B(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&lm();break;case 3:Wl(),pt(on),pt(jr),eC();break;case 5:ZB(n);break;case 4:Wl();break;case 13:pt(St);break;case 19:pt(St);break;case 10:YB(n.type._context);break;case 22:case 23:cC()}r=r.return}if(cr=t,$t=t=Pa(t.current,null),Cr=mn=e,qt=0,Qd=null,AC=e0=cA=0,rn=Zc=null,Ho!==null){for(e=0;e<Ho.length;e++)if(r=Ho[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Ho=null}return t}function vk(t,e){do{var r=$t;try{if(zB(),Sg.current=vm,pm){for(var n=Tt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}pm=!1}if(uA=0,lr=Yt=Tt=null,qc=!1,Ud=0,oC.current=null,r===null||r.return===null){qt=1,Qd=e,$t=null;break}e:{var s=t,a=r.return,o=r,A=e;if(e=Cr,o.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var l=A,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=dS(a);if(g!==null){g.flags&=-257,fS(g,a,o,s,e),g.mode&1&&cS(s,l,e),e=g,A=l;var m=e.updateQueue;if(m===null){var p=new Set;p.add(A),e.updateQueue=p}else m.add(A);break e}else{if(!(e&1)){cS(s,l,e),dC();break e}A=Error(re(426))}}else if(xt&&o.mode&1){var v=dS(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),fS(v,a,o,s,e),GB(zl(A,o));break e}}s=A=zl(A,o),qt!==4&&(qt=2),Zc===null?Zc=[s]:Zc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=tk(s,A,e);sS(s,y);break e;case 1:o=A;var w=s.type,B=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Fa===null||!Fa.has(B)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=rk(s,o,e);sS(s,I);break e}}s=s.return}while(s!==null)}xk(r)}catch(T){e=T,$t===r&&r!==null&&($t=r=r.return);continue}break}while(!0)}function yk(){var t=ym.current;return ym.current=vm,t===null?vm:t}function dC(){(qt===0||qt===3||qt===2)&&(qt=4),cr===null||!(cA&268435455)&&!(e0&268435455)||ua(cr,Cr)}function bm(t,e){var r=$e;$e|=2;var n=yk();(cr!==t||Cr!==e)&&(qi=null,qo(t,e));do try{YK();break}catch(i){vk(t,i)}while(!0);if(zB(),$e=r,ym.current=n,$t!==null)throw Error(re(261));return cr=null,Cr=0,qt}function YK(){for(;$t!==null;)wk($t)}function XK(){for(;$t!==null&&!xV();)wk($t)}function wk(t){var e=Bk(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?xk(t):$t=e,oC.current=null}function xk(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=VK(r,e),r!==null){r.flags&=32767,$t=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qt=6,$t=null;return}}else if(r=HK(r,e,mn),r!==null){$t=r;return}if(e=e.sibling,e!==null){$t=e;return}$t=e=t}while(e!==null);qt===0&&(qt=5)}function Fo(t,e,r){var n=Ze,i=Zn.transition;try{Zn.transition=null,Ze=1,qK(t,e,r,n)}finally{Zn.transition=i,Ze=n}return null}function qK(t,e,r,n){do kl();while(ga!==null);if($e&6)throw Error(re(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(UV(t,s),t===cr&&($t=cr=null,Cr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_h||(_h=!0,Ck(nm,function(){return kl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Zn.transition,Zn.transition=null;var a=Ze;Ze=1;var o=$e;$e|=4,oC.current=null,$K(t,r),gk(r,t),pK(nx),sm=!!rx,nx=rx=null,t.current=r,GK(r),bV(),$e=o,Ze=a,Zn.transition=s}else t.current=r;if(_h&&(_h=!1,ga=t,xm=i),s=t.pendingLanes,s===0&&(Fa=null),EV(r.stateNode),ln(t,Mt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(wm)throw wm=!1,t=Bx,Bx=null,t;return xm&1&&t.tag!==0&&kl(),s=t.pendingLanes,s&1?t===Cx?ed++:(ed=0,Cx=t):ed=0,oo(),null}function kl(){if(ga!==null){var t=tQ(xm),e=Zn.transition,r=Ze;try{if(Zn.transition=null,Ze=16>t?16:t,ga===null)var n=!1;else{if(t=ga,ga=null,xm=0,$e&6)throw Error(re(331));var i=$e;for($e|=4,ge=t.current;ge!==null;){var s=ge,a=s.child;if(ge.flags&16){var o=s.deletions;if(o!==null){for(var A=0;A<o.length;A++){var l=o[A];for(ge=l;ge!==null;){var u=ge;switch(u.tag){case 0:case 11:case 15:Jc(8,u,s)}var d=u.child;if(d!==null)d.return=u,ge=d;else for(;ge!==null;){u=ge;var f=u.sibling,g=u.return;if(dk(u),u===l){ge=null;break}if(f!==null){f.return=g,ge=f;break}ge=g}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}ge=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ge=a;else e:for(;ge!==null;){if(s=ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Jc(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ge=y;break e}ge=s.return}}var w=t.current;for(ge=w;ge!==null;){a=ge;var B=a.child;if(a.subtreeFlags&2064&&B!==null)B.return=a,ge=B;else e:for(a=w;ge!==null;){if(o=ge,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Zp(9,o)}}catch(T){kt(o,o.return,T)}if(o===a){ge=null;break e}var I=o.sibling;if(I!==null){I.return=o.return,ge=I;break e}ge=o.return}}if($e=i,oo(),ki&&typeof ki.onPostCommitFiberRoot=="function")try{ki.onPostCommitFiberRoot($p,t)}catch{}n=!0}return n}finally{Ze=r,Zn.transition=e}}return!1}function _S(t,e,r){e=zl(r,e),e=tk(t,e,1),t=Ta(t,e,1),e=Gr(),t!==null&&(df(t,1,e),ln(t,e))}function kt(t,e,r){if(t.tag===3)_S(t,t,r);else for(;e!==null;){if(e.tag===3){_S(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Fa===null||!Fa.has(n))){t=zl(r,t),t=rk(e,t,1),e=Ta(e,t,1),t=Gr(),e!==null&&(df(e,1,t),ln(e,t));break}}e=e.return}}function JK(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Gr(),t.pingedLanes|=t.suspendedLanes&r,cr===t&&(Cr&r)===r&&(qt===4||qt===3&&(Cr&130023424)===Cr&&500>Mt()-lC?qo(t,0):AC|=r),ln(t,e)}function bk(t,e){e===0&&(t.mode&1?(e=mh,mh<<=1,!(mh&130023424)&&(mh=4194304)):e=1);var r=Gr();t=Bs(t,e),t!==null&&(df(t,e,r),ln(t,r))}function ZK(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),bk(t,r)}function e6(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(e),bk(t,r)}var Bk;Bk=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)sn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return sn=!1,LK(t,e,r);sn=!!(t.flags&131072)}else sn=!1,xt&&e.flags&1048576&&IQ(e,dm,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Fg(t,e),t=e.pendingProps;var i=Kl(e,jr.current);Ql(e,r),i=rC(null,e,n,t,i,r);var s=nC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,An(n)?(s=!0,um(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qB(e),i.updater=Jp,e.stateNode=i,i._reactInternals=e,dx(e,n,t,r),e=gx(null,e,n,!0,s,r)):(e.tag=0,xt&&s&&KB(e),Vr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Fg(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=r6(n),t=di(n,t),i){case 0:e=hx(null,e,n,t,r);break e;case 1:e=mS(null,e,n,t,r);break e;case 11:e=hS(null,e,n,t,r);break e;case 14:e=gS(null,e,n,di(n.type,t),r);break e}throw Error(re(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:di(n,i),hx(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:di(n,i),mS(t,e,n,i,r);case 3:e:{if(ak(e),t===null)throw Error(re(387));n=e.pendingProps,s=e.memoizedState,i=s.element,NQ(t,e),gm(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=zl(Error(re(423)),e),e=pS(t,e,n,r,i);break e}else if(n!==i){i=zl(Error(re(424)),e),e=pS(t,e,n,r,i);break e}else for(wn=Sa(e.stateNode.containerInfo.firstChild),Bn=e,xt=!0,hi=null,r=UQ(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($l(),n===i){e=Cs(t,e,r);break e}Vr(t,e,n,r)}e=e.child}return e;case 5:return QQ(e),t===null&&lx(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,ix(n,i)?a=null:s!==null&&ix(n,s)&&(e.flags|=32),sk(t,e),Vr(t,e,a,r),e.child;case 6:return t===null&&lx(e),null;case 13:return ok(t,e,r);case 4:return JB(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Gl(e,null,n,r):Vr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:di(n,i),hS(t,e,n,i,r);case 7:return Vr(t,e,e.pendingProps,r),e.child;case 8:return Vr(t,e,e.pendingProps.children,r),e.child;case 12:return Vr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,ft(fm,n._currentValue),n._currentValue=a,s!==null)if(xi(s.value,a)){if(s.children===i.children&&!on.current){e=Cs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var A=o.firstContext;A!==null;){if(A.context===n){if(s.tag===1){A=ms(-1,r&-r),A.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?A.next=A:(A.next=u.next,u.next=A),l.pending=A}}s.lanes|=r,A=s.alternate,A!==null&&(A.lanes|=r),ux(s.return,r,e),o.lanes|=r;break}A=A.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(re(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),ux(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Vr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ql(e,r),i=ri(i),n=n(i),e.flags|=1,Vr(t,e,n,r),e.child;case 14:return n=e.type,i=di(n,e.pendingProps),i=di(n.type,i),gS(t,e,n,i,r);case 15:return nk(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:di(n,i),Fg(t,e),e.tag=1,An(n)?(t=!0,um(e)):t=!1,Ql(e,r),ek(e,n,i),dx(e,n,i,r),gx(null,e,n,!0,t,r);case 19:return Ak(t,e,r);case 22:return ik(t,e,r)}throw Error(re(156,e.tag))};function Ck(t,e){return qN(t,e)}function t6(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,r,n){return new t6(t,e,r,n)}function fC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function r6(t){if(typeof t=="function")return fC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===PB)return 11;if(t===NB)return 14}return 2}function Pa(t,e){var r=t.alternate;return r===null?(r=Gn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ng(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")fC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case fl:return Jo(r.children,i,s,e);case UB:a=8,i|=8;break;case Ow:return t=Gn(12,r,e,i|2),t.elementType=Ow,t.lanes=s,t;case Dw:return t=Gn(13,r,e,i),t.elementType=Dw,t.lanes=s,t;case jw:return t=Gn(19,r,e,i),t.elementType=jw,t.lanes=s,t;case QN:return t0(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case PN:a=10;break e;case NN:a=9;break e;case PB:a=11;break e;case NB:a=14;break e;case sa:a=16,n=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Gn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Jo(t,e,r,n){return t=Gn(7,t,n,e),t.lanes=r,t}function t0(t,e,r,n){return t=Gn(22,t,n,e),t.elementType=QN,t.lanes=r,t.stateNode={isHidden:!1},t}function _y(t,e,r){return t=Gn(6,t,null,e),t.lanes=r,t}function Iy(t,e,r){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function n6(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oy(0),this.expirationTimes=oy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oy(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hC(t,e,r,n,i,s,a,o,A){return t=new n6(t,e,r,o,A),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Gn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qB(s),t}function i6(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Ek(t){if(!t)return Ga;t=t._reactInternals;e:{if(IA(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(An(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var r=t.type;if(An(r))return EQ(t,r,e)}return e}function _k(t,e,r,n,i,s,a,o,A){return t=hC(r,n,!0,t,i,s,a,o,A),t.context=Ek(null),r=t.current,n=Gr(),i=Ua(r),s=ms(n,i),s.callback=e??null,Ta(r,s,i),t.current.lanes=i,df(t,i,n),ln(t,n),t}function r0(t,e,r,n){var i=e.current,s=Gr(),a=Ua(i);return r=Ek(r),e.context===null?e.context=r:e.pendingContext=r,e=ms(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ta(i,e,a),t!==null&&(wi(t,i,a,s),Ig(t,i,a)),a}function Bm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function IS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function gC(t,e){IS(t,e),(t=t.alternate)&&IS(t,e)}var Ik=typeof reportError=="function"?reportError:function(t){console.error(t)};function mC(t){this._internalRoot=t}n0.prototype.render=mC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));r0(t,e,null,null)};n0.prototype.unmount=mC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;dA(function(){r0(null,t,null,null)}),e[bs]=null}};function n0(t){this._internalRoot=t}n0.prototype.unstable_scheduleHydration=function(t){if(t){var e=iQ();t={blockedOn:null,target:t,priority:e};for(var r=0;r<la.length&&e!==0&&e<la[r].priority;r++);la.splice(r,0,t),r===0&&aQ(t)}};function pC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function i0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function SS(){}function s6(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=Bm(a);s.call(l)}}var a=_k(e,n,t,0,null,!1,!1,"",SS);return t._reactRootContainer=a,t[bs]=a.current,_d(t.nodeType===8?t.parentNode:t),dA(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var l=Bm(A);o.call(l)}}var A=hC(t,0,!1,null,null,!1,!1,"",SS);return t._reactRootContainer=A,t[bs]=A.current,_d(t.nodeType===8?t.parentNode:t),dA(function(){r0(e,A,r,n)}),A}function s0(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var A=Bm(a);o.call(A)}}r0(e,a,t,i)}else a=s6(r,e,t,i,n);return Bm(a)}rQ=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Tc(e.pendingLanes);r!==0&&(OB(e,r|1),ln(e,Mt()),!($e&6)&&(Yl=Mt()+500,oo()))}break;case 13:dA(function(){var n=Bs(t,1);if(n!==null){var i=Gr();wi(n,t,1,i)}}),gC(t,1)}};DB=function(t){if(t.tag===13){var e=Bs(t,134217728);if(e!==null){var r=Gr();wi(e,t,134217728,r)}gC(t,134217728)}};nQ=function(t){if(t.tag===13){var e=Ua(t),r=Bs(t,e);if(r!==null){var n=Gr();wi(r,t,e,n)}gC(t,e)}};iQ=function(){return Ze};sQ=function(t,e){var r=Ze;try{return Ze=t,e()}finally{Ze=r}};zw=function(t,e,r){switch(e){case"input":if(Lw(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Yp(n);if(!i)throw Error(re(90));ON(n),Lw(n,i)}}}break;case"textarea":jN(t,r);break;case"select":e=r.value,e!=null&&Fl(t,!!r.multiple,e,!1)}};$N=uC;GN=dA;var a6={usingClientEntryPoint:!1,Events:[hf,pl,Yp,VN,KN,uC]},lc={findFiberByHostInstance:Lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o6={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YN(t),t===null?null:t.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{$p=Ih.inject(o6),ki=Ih}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a6;Un.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pC(e))throw Error(re(200));return i6(t,e,null,r)};Un.createRoot=function(t,e){if(!pC(t))throw Error(re(299));var r=!1,n="",i=Ik;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=hC(t,1,!1,null,null,r,!1,n,i),t[bs]=e.current,_d(t.nodeType===8?t.parentNode:t),new mC(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=YN(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return dA(t)};Un.hydrate=function(t,e,r){if(!i0(e))throw Error(re(200));return s0(null,t,e,!0,r)};Un.hydrateRoot=function(t,e,r){if(!pC(t))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Ik;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=_k(e,null,t,1,r??null,i,!1,s,a),t[bs]=e.current,_d(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new n0(e)};Un.render=function(t,e,r){if(!i0(e))throw Error(re(200));return s0(null,t,e,!1,r)};Un.unmountComponentAtNode=function(t){if(!i0(t))throw Error(re(40));return t._reactRootContainer?(dA(function(){s0(null,null,t,!1,function(){t._reactRootContainer=null,t[bs]=null})}),!0):!1};Un.unstable_batchedUpdates=uC;Un.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!i0(r))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return s0(t,e,r,!1,n)};Un.version="18.3.1-next-f1338f8080-20240426";function Sk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sk)}catch(t){console.error(t)}}Sk(),SN.exports=Un;var vC=SN.exports,TS=vC;Qw.createRoot=TS.createRoot,Qw.hydrateRoot=TS.hydrateRoot;const A6="modulepreload",l6=function(t){return"/Brainless/"+t},FS={},ma=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(A=>{if(A=l6(A),A in FS)return;FS[A]=!0;const l=A.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":A6,l||(d.as="script"),d.crossOrigin="",d.href=A,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((f,g)=>{d.addEventListener("load",f),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${A}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kd(){return kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kd.apply(this,arguments)}var pa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pa||(pa={}));const US="popstate";function u6(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:o="",hash:A=""}=SA(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Ix("",{pathname:a,search:o,hash:A},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let A=i.location.href,l=A.indexOf("#");o=l===-1?A:A.slice(0,l)}return o+"#"+(typeof s=="string"?s:Cm(s))}function n(i,s){yC(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return d6(e,r,n,t)}function Ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c6(){return Math.random().toString(36).substr(2,8)}function PS(t,e){return{usr:t.state,key:t.key,idx:e}}function Ix(t,e,r,n){return r===void 0&&(r=null),kd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?SA(e):e,{state:r,key:e&&e.key||n||c6()})}function Cm(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function SA(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function d6(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=pa.Pop,A=null,l=u();l==null&&(l=0,a.replaceState(kd({},a.state,{idx:l}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=pa.Pop;let v=u(),y=v==null?null:v-l;l=v,A&&A({action:o,location:p.location,delta:y})}function f(v,y){o=pa.Push;let w=Ix(p.location,v,y);r(w,v),l=u()+1;let B=PS(w,l),I=p.createHref(w);try{a.pushState(B,"",I)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(I)}s&&A&&A({action:o,location:p.location,delta:1})}function g(v,y){o=pa.Replace;let w=Ix(p.location,v,y);r(w,v),l=u();let B=PS(w,l),I=p.createHref(w);a.replaceState(B,"",I),s&&A&&A({action:o,location:p.location,delta:0})}function m(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:Cm(v);return w=w.replace(/ $/,"%20"),Ft(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let p={get action(){return o},get location(){return t(i,a)},listen(v){if(A)throw new Error("A history only accepts one active listener");return i.addEventListener(US,d),A=v,()=>{i.removeEventListener(US,d),A=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(v){return a.go(v)}};return p}var NS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(NS||(NS={}));function f6(t,e,r){return r===void 0&&(r="/"),h6(t,e,r)}function h6(t,e,r,n){let i=typeof e=="string"?SA(e):e,s=Xl(i.pathname||"/",r);if(s==null)return null;let a=Tk(t);g6(a);let o=null;for(let A=0;o==null&&A<a.length;++A){let l=_6(s);o=C6(a[A],l)}return o}function Tk(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let A={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};A.relativePath.startsWith("/")&&(Ft(A.relativePath.startsWith(n),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(n.length));let l=Na([n,A.relativePath]),u=r.concat(A);s.children&&s.children.length>0&&(Ft(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Tk(s.children,e,u,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:b6(l,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let A of Fk(s.path))i(s,a,A)}),e}function Fk(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=Fk(n.join("/")),o=[];return o.push(...a.map(A=>A===""?s:[s,A].join("/"))),i&&o.push(...a),o.map(A=>t.startsWith("/")&&A===""?"/":A)}function g6(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:B6(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const m6=/^:[\w-]+$/,p6=3,v6=2,y6=1,w6=10,x6=-2,QS=t=>t==="*";function b6(t,e){let r=t.split("/"),n=r.length;return r.some(QS)&&(n+=x6),e&&(n+=v6),r.filter(i=>!QS(i)).reduce((i,s)=>i+(m6.test(s)?p6:s===""?y6:w6),n)}function B6(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function C6(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let A=n[o],l=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=Sx({path:A.relativePath,caseSensitive:A.caseSensitive,end:l},u),f=A.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:Na([s,d.pathname]),pathnameBase:F6(Na([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Na([s,d.pathnameBase]))}return a}function Sx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=E6(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((l,u,d)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let p=o[d]||"";a=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const m=o[d];return g&&!m?l[f]=void 0:l[f]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:a,pattern:t}}function E6(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),yC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,A)=>(n.push({paramName:o,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function _6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Xl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function I6(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?SA(t):t;return{pathname:r?r.startsWith("/")?r:S6(r,e):e,search:U6(n),hash:P6(i)}}function S6(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Sy(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function T6(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function wC(t,e){let r=T6(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function xC(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=SA(t):(i=kd({},t),Ft(!i.pathname||!i.pathname.includes("?"),Sy("?","pathname","search",i)),Ft(!i.pathname||!i.pathname.includes("#"),Sy("#","pathname","hash",i)),Ft(!i.search||!i.search.includes("#"),Sy("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}o=d>=0?e[d]:"/"}let A=I6(i,o),l=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&r.endsWith("/");return!A.pathname.endsWith("/")&&(l||u)&&(A.pathname+="/"),A}const Na=t=>t.join("/").replace(/\/\/+/g,"/"),F6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),U6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,P6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function N6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Uk=["post","put","patch","delete"];new Set(Uk);const Q6=["get",...Uk];new Set(Q6);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Od.apply(this,arguments)}const a0=x.createContext(null),Pk=x.createContext(null),ks=x.createContext(null),o0=x.createContext(null),Ao=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Nk=x.createContext(null);function k6(t,e){let{relative:r}=e===void 0?{}:e;Cu()||Ft(!1);let{basename:n,navigator:i}=x.useContext(ks),{hash:s,pathname:a,search:o}=A0(t,{relative:r}),A=a;return n!=="/"&&(A=a==="/"?n:Na([n,a])),i.createHref({pathname:A,search:o,hash:s})}function Cu(){return x.useContext(o0)!=null}function Eu(){return Cu()||Ft(!1),x.useContext(o0).location}function Qk(t){x.useContext(ks).static||x.useLayoutEffect(t)}function kk(){let{isDataRoute:t}=x.useContext(Ao);return t?z6():O6()}function O6(){Cu()||Ft(!1);let t=x.useContext(a0),{basename:e,future:r,navigator:n}=x.useContext(ks),{matches:i}=x.useContext(Ao),{pathname:s}=Eu(),a=JSON.stringify(wC(i,r.v7_relativeSplatPath)),o=x.useRef(!1);return Qk(()=>{o.current=!0}),x.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=xC(l,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Na([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,s,t])}function A0(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=x.useContext(ks),{matches:i}=x.useContext(Ao),{pathname:s}=Eu(),a=JSON.stringify(wC(i,n.v7_relativeSplatPath));return x.useMemo(()=>xC(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function D6(t,e){return j6(t,e)}function j6(t,e,r,n){Cu()||Ft(!1);let{navigator:i}=x.useContext(ks),{matches:s}=x.useContext(Ao),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let A=a?a.pathnameBase:"/";a&&a.route;let l=Eu(),u;if(e){var d;let v=typeof e=="string"?SA(e):e;A==="/"||(d=v.pathname)!=null&&d.startsWith(A)||Ft(!1),u=v}else u=l;let f=u.pathname||"/",g=f;if(A!=="/"){let v=A.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=f6(t,{pathname:g}),p=V6(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Na([A,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?A:Na([A,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return e&&p?x.createElement(o0.Provider,{value:{location:Od({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:pa.Pop}},p):p}function R6(){let t=W6(),e=N6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),r?x.createElement("pre",{style:i},r):null,null)}const M6=x.createElement(R6,null);class L6 extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?x.createElement(Ao.Provider,{value:this.props.routeContext},x.createElement(Nk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function H6(t){let{routeContext:e,match:r,children:n}=t,i=x.useContext(a0);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Ao.Provider,{value:e},n)}function V6(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||Ft(!1),a=a.slice(0,Math.min(a.length,u+1))}let A=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:f,errors:g}=r,m=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||m){A=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let g,m=!1,p=null,v=null;r&&(g=o&&d.route.id?o[d.route.id]:void 0,p=d.route.errorElement||M6,A&&(l<0&&f===0?(m=!0,v=null):l===f&&(m=!0,v=d.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,f+1)),w=()=>{let B;return g?B=p:m?B=v:d.route.Component?B=x.createElement(d.route.Component,null):d.route.element?B=d.route.element:B=u,x.createElement(H6,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:B})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?x.createElement(L6,{location:r.location,revalidation:r.revalidation,component:p,error:g,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var Ok=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ok||{}),Em=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Em||{});function K6(t){let e=x.useContext(a0);return e||Ft(!1),e}function $6(t){let e=x.useContext(Pk);return e||Ft(!1),e}function G6(t){let e=x.useContext(Ao);return e||Ft(!1),e}function Dk(t){let e=G6(),r=e.matches[e.matches.length-1];return r.route.id||Ft(!1),r.route.id}function W6(){var t;let e=x.useContext(Nk),r=$6(Em.UseRouteError),n=Dk(Em.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function z6(){let{router:t}=K6(Ok.UseNavigateStable),e=Dk(Em.UseNavigateStable),r=x.useRef(!1);return Qk(()=>{r.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Od({fromRouteId:e},s)))},[t,e])}const kS={};function Y6(t,e){kS[e]||(kS[e]=!0,console.warn(e))}const OS=(t,e,r)=>Y6(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function X6(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&OS("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&OS("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function q6(t){let{to:e,replace:r,state:n,relative:i}=t;Cu()||Ft(!1);let{future:s,static:a}=x.useContext(ks),{matches:o}=x.useContext(Ao),{pathname:A}=Eu(),l=kk(),u=xC(e,wC(o,s.v7_relativeSplatPath),A,i==="path"),d=JSON.stringify(u);return x.useEffect(()=>l(JSON.parse(d),{replace:r,state:n,relative:i}),[l,d,i,r,n]),null}function Rn(t){Ft(!1)}function J6(t){let{basename:e="/",children:r=null,location:n,navigationType:i=pa.Pop,navigator:s,static:a=!1,future:o}=t;Cu()&&Ft(!1);let A=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:A,navigator:s,static:a,future:Od({v7_relativeSplatPath:!1},o)}),[A,o,s,a]);typeof n=="string"&&(n=SA(n));let{pathname:u="/",search:d="",hash:f="",state:g=null,key:m="default"}=n,p=x.useMemo(()=>{let v=Xl(u,A);return v==null?null:{location:{pathname:v,search:d,hash:f,state:g,key:m},navigationType:i}},[A,u,d,f,g,m,i]);return p==null?null:x.createElement(ks.Provider,{value:l},x.createElement(o0.Provider,{children:r,value:p}))}function Z6(t){let{children:e,location:r}=t;return D6(Tx(e),r)}new Promise(()=>{});function Tx(t,e){e===void 0&&(e=[]);let r=[];return x.Children.forEach(t,(n,i)=>{if(!x.isValidElement(n))return;let s=[...e,i];if(n.type===x.Fragment){r.push.apply(r,Tx(n.props.children,s));return}n.type!==Rn&&Ft(!1),!n.props.index||!n.props.children||Ft(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Tx(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _m(){return _m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_m.apply(this,arguments)}function jk(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function e$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function t$(t,e){return t.button===0&&(!e||e==="_self")&&!e$(t)}const r$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],n$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],i$="6";try{window.__reactRouterVersion=i$}catch{}const s$=x.createContext({isTransitioning:!1}),a$="startTransition",DS=_N[a$];function o$(t){let{basename:e,children:r,future:n,window:i}=t,s=x.useRef();s.current==null&&(s.current=u6({window:i,v5Compat:!0}));let a=s.current,[o,A]=x.useState({action:a.action,location:a.location}),{v7_startTransition:l}=n||{},u=x.useCallback(d=>{l&&DS?DS(()=>A(d)):A(d)},[A,l]);return x.useLayoutEffect(()=>a.listen(u),[a,u]),x.useEffect(()=>X6(n),[n]),x.createElement(J6,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const A$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",l$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u$=x.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:A,to:l,preventScrollReset:u,viewTransition:d}=e,f=jk(e,r$),{basename:g}=x.useContext(ks),m,p=!1;if(typeof l=="string"&&l$.test(l)&&(m=l,A$))try{let B=new URL(window.location.href),I=l.startsWith("//")?new URL(B.protocol+l):new URL(l),T=Xl(I.pathname,g);I.origin===B.origin&&T!=null?l=T+I.search+I.hash:p=!0}catch{}let v=k6(l,{relative:i}),y=f$(l,{replace:a,state:o,target:A,preventScrollReset:u,relative:i,viewTransition:d});function w(B){n&&n(B),B.defaultPrevented||y(B)}return x.createElement("a",_m({},f,{href:m||v,onClick:p||s?n:w,ref:r,target:A}))}),c$=x.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:A,viewTransition:l,children:u}=e,d=jk(e,n$),f=A0(A,{relative:d.relative}),g=Eu(),m=x.useContext(Pk),{navigator:p,basename:v}=x.useContext(ks),y=m!=null&&h$(f)&&l===!0,w=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,B=g.pathname,I=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(B=B.toLowerCase(),I=I?I.toLowerCase():null,w=w.toLowerCase()),I&&v&&(I=Xl(I,v)||I);const T=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let F=B===w||!a&&B.startsWith(w)&&B.charAt(T)==="/",C=I!=null&&(I===w||!a&&I.startsWith(w)&&I.charAt(w.length)==="/"),_={isActive:F,isPending:C,isTransitioning:y},S=F?n:void 0,P;typeof s=="function"?P=s(_):P=[s,F?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let Q=typeof o=="function"?o(_):o;return x.createElement(u$,_m({},d,{"aria-current":S,className:P,ref:r,style:Q,to:A,viewTransition:l}),typeof u=="function"?u(_):u)});var Fx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Fx||(Fx={}));var jS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(jS||(jS={}));function d$(t){let e=x.useContext(a0);return e||Ft(!1),e}function f$(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,A=kk(),l=Eu(),u=A0(t,{relative:a});return x.useCallback(d=>{if(t$(d,r)){d.preventDefault();let f=n!==void 0?n:Cm(l)===Cm(u);A(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[l,A,u,n,i,r,t,s,a,o])}function h$(t,e){e===void 0&&(e={});let r=x.useContext(s$);r==null&&Ft(!1);let{basename:n}=d$(Fx.useViewTransitionState),i=A0(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Xl(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Xl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Sx(i.pathname,a)!=null||Sx(i.pathname,s)!=null}function g$(){const[t,e]=x.useState(null),[r,n]=x.useState(null),[i,s]=x.useState(null);x.useEffect(()=>{const A=setInterval(()=>{const l=new Date,u=l.getHours(),d=l.getMinutes(),f=u*60+d,g=4*60+30,m=13*60,p=21*60+30;let v=null;f>=g&&f<m?(v=m-f,n("workEnd"),s("morning")):f>=m&&f<p?(v=p-f,n("workEnd"),s("afternoon")):(f<g?v=g-f:v=1440-f+g,n("workStart"),s("morning")),e(v)},1e3);return()=>clearInterval(A)},[]);const a=A=>A===null?"text-text-secondary":A<=30?"text-red-400 bg-red-400/10 ring-1 ring-red-400":A<=120?"text-orange-400 bg-orange-400/10 ring-1 ring-orange-400":"text-primary bg-primary/10 ring-1 ring-primary",o=A=>{if(A===null)return"";const l=Math.floor(A/60),u=A%60;return`${l}小時 ${u}分鐘`};return c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx("span",{className:"text-text-secondary",children:r==="workEnd"?`${i==="morning"?"早班":"晚班"}離下班還有 `:"早班離上班還有 "}),c.jsx("span",{className:`
        font-medium px-3 py-1 rounded-full
        ${a(t)}
        transition-all duration-300
      `,children:o(t)})]})}var RS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},m$=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],A=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(A>>10)),e[n++]=String.fromCharCode(56320+(A&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Mk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,A=i+2<t.length,l=A?t[i+2]:0,u=s>>2,d=(s&3)<<4|o>>4;let f=(o&15)<<2|l>>6,g=l&63;A||(g=64,a||(f=64)),n.push(r[u],r[d],r[f],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Rk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):m$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const l=i<t.length?r[t.charAt(i)]:64;++i;const d=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||l==null||d==null)throw new p$;const f=s<<2|o>>4;if(n.push(f),l!==64){const g=o<<4&240|l>>2;if(n.push(g),d!==64){const m=l<<6&192|d;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class p$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v$=function(t){const e=Rk(t);return Mk.encodeByteArray(e,!0)},Im=function(t){return v$(t).replace(/\./g,"")},Lk=function(t){try{return Mk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$=()=>y$().__FIREBASE_DEFAULTS__,x$=()=>{if(typeof process>"u"||typeof RS>"u")return;const t=RS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Lk(t[1]);return e&&JSON.parse(e)},l0=()=>{try{return w$()||x$()||b$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hk=t=>{var e,r;return(r=(e=l0())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},B$=t=>{const e=Hk(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Vk=()=>{var t;return(t=l0())===null||t===void 0?void 0:t.config},Kk=t=>{var e;return(e=l0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Im(JSON.stringify(r)),Im(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function I$(){var t;const e=(t=l0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function F$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U$(){const t=Jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $k(){return!I$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gk(){try{return typeof indexedDB=="object"}catch{return!1}}function P$(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$="FirebaseError";class Os extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=N$,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mf.prototype.create)}}class mf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Q$(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Os(i,o,n)}}function Q$(t,e){return t.replace(k$,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const k$=/\{\$([^}]+)}/g;function O$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sm(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(MS(s)&&MS(a)){if(!Sm(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function MS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Uc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Pc(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function D$(t,e){const r=new j$(t,e);return r.subscribe.bind(r)}class j${constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");R$(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Ty),i.error===void 0&&(i.error=Ty),i.complete===void 0&&(i.complete=Ty);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R$(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Ty(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t){return t&&t._delegate?t._delegate:t}class fA{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M$=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new C$;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(H$(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:L$(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function L$(t){return t===Uo?void 0:t}function H$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new M$(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const K$={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},$$=Me.INFO,G$={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},W$=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=G$[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let bC=class{constructor(e){this.name=e,this._logLevel=$$,this._logHandler=W$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?K$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}};const z$=(t,e)=>e.some(r=>t instanceof r);let LS,HS;function Y$(){return LS||(LS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X$(){return HS||(HS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wk=new WeakMap,Ux=new WeakMap,zk=new WeakMap,Fy=new WeakMap,BC=new WeakMap;function q$(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(Qa(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&Wk.set(r,t)}).catch(()=>{}),BC.set(e,t),e}function J$(t){if(Ux.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Ux.set(t,e)}let Px={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Ux.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zk.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Qa(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Z$(t){Px=t(Px)}function e8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Uy(this),e,...r);return zk.set(n,e.sort?e.sort():[e]),Qa(n)}:X$().includes(t)?function(...e){return t.apply(Uy(this),e),Qa(Wk.get(this))}:function(...e){return Qa(t.apply(Uy(this),e))}}function t8(t){return typeof t=="function"?e8(t):(t instanceof IDBTransaction&&J$(t),z$(t,Y$())?new Proxy(t,Px):t)}function Qa(t){if(t instanceof IDBRequest)return q$(t);if(Fy.has(t))return Fy.get(t);const e=t8(t);return e!==t&&(Fy.set(t,e),BC.set(e,t)),e}const Uy=t=>BC.get(t);function r8(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Qa(a);return n&&a.addEventListener("upgradeneeded",A=>{n(Qa(a.result),A.oldVersion,A.newVersion,Qa(a.transaction),A)}),r&&a.addEventListener("blocked",A=>r(A.oldVersion,A.newVersion,A)),o.then(A=>{s&&A.addEventListener("close",()=>s()),i&&A.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}const n8=["get","getKey","getAll","getAllKeys","count"],i8=["put","add","delete","clear"],Py=new Map;function VS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Py.get(e))return Py.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=i8.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||n8.includes(r)))return;const s=async function(a,...o){const A=this.transaction(a,i?"readwrite":"readonly");let l=A.store;return n&&(l=l.index(o.shift())),(await Promise.all([l[r](...o),i&&A.done]))[0]};return Py.set(e,s),s}Z$(t=>({...t,get:(e,r,n)=>VS(e,r)||t.get(e,r,n),has:(e,r)=>!!VS(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(a8(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function a8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nx="@firebase/app",KS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new bC("@firebase/app"),o8="@firebase/app-compat",A8="@firebase/analytics-compat",l8="@firebase/analytics",u8="@firebase/app-check-compat",c8="@firebase/app-check",d8="@firebase/auth",f8="@firebase/auth-compat",h8="@firebase/database",g8="@firebase/data-connect",m8="@firebase/database-compat",p8="@firebase/functions",v8="@firebase/functions-compat",y8="@firebase/installations",w8="@firebase/installations-compat",x8="@firebase/messaging",b8="@firebase/messaging-compat",B8="@firebase/performance",C8="@firebase/performance-compat",E8="@firebase/remote-config",_8="@firebase/remote-config-compat",I8="@firebase/storage",S8="@firebase/storage-compat",T8="@firebase/firestore",F8="@firebase/vertexai-preview",U8="@firebase/firestore-compat",P8="firebase",N8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="[DEFAULT]",Q8={[Nx]:"fire-core",[o8]:"fire-core-compat",[l8]:"fire-analytics",[A8]:"fire-analytics-compat",[c8]:"fire-app-check",[u8]:"fire-app-check-compat",[d8]:"fire-auth",[f8]:"fire-auth-compat",[h8]:"fire-rtdb",[g8]:"fire-data-connect",[m8]:"fire-rtdb-compat",[p8]:"fire-fn",[v8]:"fire-fn-compat",[y8]:"fire-iid",[w8]:"fire-iid-compat",[x8]:"fire-fcm",[b8]:"fire-fcm-compat",[B8]:"fire-perf",[C8]:"fire-perf-compat",[E8]:"fire-rc",[_8]:"fire-rc-compat",[I8]:"fire-gcs",[S8]:"fire-gcs-compat",[T8]:"fire-fst",[U8]:"fire-fst-compat",[F8]:"fire-vertex","fire-js":"fire-js",[P8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=new Map,k8=new Map,kx=new Map;function $S(t,e){try{t.container.addComponent(e)}catch(r){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ql(t){const e=t.name;if(kx.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;kx.set(e,t);for(const r of Dd.values())$S(r,t);for(const r of k8.values())$S(r,t);return!0}function CC(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ls(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ka=new mf("app","Firebase",O8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new fA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ka.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=N8;function Yk(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Qx,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw ka.create("bad-app-name",{appName:String(i)});if(r||(r=Vk()),!r)throw ka.create("no-options");const s=Dd.get(i);if(s){if(Sm(r,s.options)&&Sm(n,s.config))return s;throw ka.create("duplicate-app",{appName:i})}const a=new V$(i);for(const A of kx.values())a.addComponent(A);const o=new D8(r,n,a);return Dd.set(i,o),o}function Xk(t=Qx){const e=Dd.get(t);if(!e&&t===Qx&&Vk())return Yk();if(!e)throw ka.create("no-app",{appName:t});return e}function GS(){return Array.from(Dd.values())}function Oa(t,e,r){var n;let i=(n=Q8[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(o.join(" "));return}ql(new fA(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8="firebase-heartbeat-database",R8=1,jd="firebase-heartbeat-store";let Ny=null;function qk(){return Ny||(Ny=r8(j8,R8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jd)}catch(r){console.warn(r)}}}}).catch(t=>{throw ka.create("idb-open",{originalErrorMessage:t.message})})),Ny}async function M8(t){try{const r=(await qk()).transaction(jd),n=await r.objectStore(jd).get(Jk(t));return await r.done,n}catch(e){if(e instanceof Os)Es.warn(e.message);else{const r=ka.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Es.warn(r.message)}}}async function WS(t,e){try{const n=(await qk()).transaction(jd,"readwrite");await n.objectStore(jd).put(e,Jk(t)),await n.done}catch(r){if(r instanceof Os)Es.warn(r.message);else{const n=ka.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Es.warn(n.message)}}}function Jk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=1024,H8=30*24*60*60*1e3;class V8{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new $8(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=H8}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Es.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=zS(),{heartbeatsToSend:n,unsentEntries:i}=K8(this._heartbeatsCache.heartbeats),s=Im(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Es.warn(r),""}}}function zS(){return new Date().toISOString().substring(0,10)}function K8(t,e=L8){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),YS(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),YS(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class $8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gk()?P$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await M8(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return WS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return WS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function YS(t){return Im(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(t){ql(new fA("platform-logger",e=>new s8(e),"PRIVATE")),ql(new fA("heartbeat",e=>new V8(e),"PRIVATE")),Oa(Nx,KS,t),Oa(Nx,KS,"esm2017"),Oa("fire-js","")}G8("");var XS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zo,Zk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function S(){}S.prototype=_.prototype,C.D=_.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(P,Q,k){for(var N=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)N[ae-2]=arguments[ae];return _.prototype[Q].apply(P,N)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,_,S){S||(S=0);var P=Array(16);if(typeof _=="string")for(var Q=0;16>Q;++Q)P[Q]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(Q=0;16>Q;++Q)P[Q]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=C.g[0],S=C.g[1],Q=C.g[2];var k=C.g[3],N=_+(k^S&(Q^k))+P[0]+3614090360&4294967295;_=S+(N<<7&4294967295|N>>>25),N=k+(Q^_&(S^Q))+P[1]+3905402710&4294967295,k=_+(N<<12&4294967295|N>>>20),N=Q+(S^k&(_^S))+P[2]+606105819&4294967295,Q=k+(N<<17&4294967295|N>>>15),N=S+(_^Q&(k^_))+P[3]+3250441966&4294967295,S=Q+(N<<22&4294967295|N>>>10),N=_+(k^S&(Q^k))+P[4]+4118548399&4294967295,_=S+(N<<7&4294967295|N>>>25),N=k+(Q^_&(S^Q))+P[5]+1200080426&4294967295,k=_+(N<<12&4294967295|N>>>20),N=Q+(S^k&(_^S))+P[6]+2821735955&4294967295,Q=k+(N<<17&4294967295|N>>>15),N=S+(_^Q&(k^_))+P[7]+4249261313&4294967295,S=Q+(N<<22&4294967295|N>>>10),N=_+(k^S&(Q^k))+P[8]+1770035416&4294967295,_=S+(N<<7&4294967295|N>>>25),N=k+(Q^_&(S^Q))+P[9]+2336552879&4294967295,k=_+(N<<12&4294967295|N>>>20),N=Q+(S^k&(_^S))+P[10]+4294925233&4294967295,Q=k+(N<<17&4294967295|N>>>15),N=S+(_^Q&(k^_))+P[11]+2304563134&4294967295,S=Q+(N<<22&4294967295|N>>>10),N=_+(k^S&(Q^k))+P[12]+1804603682&4294967295,_=S+(N<<7&4294967295|N>>>25),N=k+(Q^_&(S^Q))+P[13]+4254626195&4294967295,k=_+(N<<12&4294967295|N>>>20),N=Q+(S^k&(_^S))+P[14]+2792965006&4294967295,Q=k+(N<<17&4294967295|N>>>15),N=S+(_^Q&(k^_))+P[15]+1236535329&4294967295,S=Q+(N<<22&4294967295|N>>>10),N=_+(Q^k&(S^Q))+P[1]+4129170786&4294967295,_=S+(N<<5&4294967295|N>>>27),N=k+(S^Q&(_^S))+P[6]+3225465664&4294967295,k=_+(N<<9&4294967295|N>>>23),N=Q+(_^S&(k^_))+P[11]+643717713&4294967295,Q=k+(N<<14&4294967295|N>>>18),N=S+(k^_&(Q^k))+P[0]+3921069994&4294967295,S=Q+(N<<20&4294967295|N>>>12),N=_+(Q^k&(S^Q))+P[5]+3593408605&4294967295,_=S+(N<<5&4294967295|N>>>27),N=k+(S^Q&(_^S))+P[10]+38016083&4294967295,k=_+(N<<9&4294967295|N>>>23),N=Q+(_^S&(k^_))+P[15]+3634488961&4294967295,Q=k+(N<<14&4294967295|N>>>18),N=S+(k^_&(Q^k))+P[4]+3889429448&4294967295,S=Q+(N<<20&4294967295|N>>>12),N=_+(Q^k&(S^Q))+P[9]+568446438&4294967295,_=S+(N<<5&4294967295|N>>>27),N=k+(S^Q&(_^S))+P[14]+3275163606&4294967295,k=_+(N<<9&4294967295|N>>>23),N=Q+(_^S&(k^_))+P[3]+4107603335&4294967295,Q=k+(N<<14&4294967295|N>>>18),N=S+(k^_&(Q^k))+P[8]+1163531501&4294967295,S=Q+(N<<20&4294967295|N>>>12),N=_+(Q^k&(S^Q))+P[13]+2850285829&4294967295,_=S+(N<<5&4294967295|N>>>27),N=k+(S^Q&(_^S))+P[2]+4243563512&4294967295,k=_+(N<<9&4294967295|N>>>23),N=Q+(_^S&(k^_))+P[7]+1735328473&4294967295,Q=k+(N<<14&4294967295|N>>>18),N=S+(k^_&(Q^k))+P[12]+2368359562&4294967295,S=Q+(N<<20&4294967295|N>>>12),N=_+(S^Q^k)+P[5]+4294588738&4294967295,_=S+(N<<4&4294967295|N>>>28),N=k+(_^S^Q)+P[8]+2272392833&4294967295,k=_+(N<<11&4294967295|N>>>21),N=Q+(k^_^S)+P[11]+1839030562&4294967295,Q=k+(N<<16&4294967295|N>>>16),N=S+(Q^k^_)+P[14]+4259657740&4294967295,S=Q+(N<<23&4294967295|N>>>9),N=_+(S^Q^k)+P[1]+2763975236&4294967295,_=S+(N<<4&4294967295|N>>>28),N=k+(_^S^Q)+P[4]+1272893353&4294967295,k=_+(N<<11&4294967295|N>>>21),N=Q+(k^_^S)+P[7]+4139469664&4294967295,Q=k+(N<<16&4294967295|N>>>16),N=S+(Q^k^_)+P[10]+3200236656&4294967295,S=Q+(N<<23&4294967295|N>>>9),N=_+(S^Q^k)+P[13]+681279174&4294967295,_=S+(N<<4&4294967295|N>>>28),N=k+(_^S^Q)+P[0]+3936430074&4294967295,k=_+(N<<11&4294967295|N>>>21),N=Q+(k^_^S)+P[3]+3572445317&4294967295,Q=k+(N<<16&4294967295|N>>>16),N=S+(Q^k^_)+P[6]+76029189&4294967295,S=Q+(N<<23&4294967295|N>>>9),N=_+(S^Q^k)+P[9]+3654602809&4294967295,_=S+(N<<4&4294967295|N>>>28),N=k+(_^S^Q)+P[12]+3873151461&4294967295,k=_+(N<<11&4294967295|N>>>21),N=Q+(k^_^S)+P[15]+530742520&4294967295,Q=k+(N<<16&4294967295|N>>>16),N=S+(Q^k^_)+P[2]+3299628645&4294967295,S=Q+(N<<23&4294967295|N>>>9),N=_+(Q^(S|~k))+P[0]+4096336452&4294967295,_=S+(N<<6&4294967295|N>>>26),N=k+(S^(_|~Q))+P[7]+1126891415&4294967295,k=_+(N<<10&4294967295|N>>>22),N=Q+(_^(k|~S))+P[14]+2878612391&4294967295,Q=k+(N<<15&4294967295|N>>>17),N=S+(k^(Q|~_))+P[5]+4237533241&4294967295,S=Q+(N<<21&4294967295|N>>>11),N=_+(Q^(S|~k))+P[12]+1700485571&4294967295,_=S+(N<<6&4294967295|N>>>26),N=k+(S^(_|~Q))+P[3]+2399980690&4294967295,k=_+(N<<10&4294967295|N>>>22),N=Q+(_^(k|~S))+P[10]+4293915773&4294967295,Q=k+(N<<15&4294967295|N>>>17),N=S+(k^(Q|~_))+P[1]+2240044497&4294967295,S=Q+(N<<21&4294967295|N>>>11),N=_+(Q^(S|~k))+P[8]+1873313359&4294967295,_=S+(N<<6&4294967295|N>>>26),N=k+(S^(_|~Q))+P[15]+4264355552&4294967295,k=_+(N<<10&4294967295|N>>>22),N=Q+(_^(k|~S))+P[6]+2734768916&4294967295,Q=k+(N<<15&4294967295|N>>>17),N=S+(k^(Q|~_))+P[13]+1309151649&4294967295,S=Q+(N<<21&4294967295|N>>>11),N=_+(Q^(S|~k))+P[4]+4149444226&4294967295,_=S+(N<<6&4294967295|N>>>26),N=k+(S^(_|~Q))+P[11]+3174756917&4294967295,k=_+(N<<10&4294967295|N>>>22),N=Q+(_^(k|~S))+P[2]+718787259&4294967295,Q=k+(N<<15&4294967295|N>>>17),N=S+(k^(Q|~_))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(Q+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+Q&4294967295,C.g[3]=C.g[3]+k&4294967295}n.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var S=_-this.blockSize,P=this.B,Q=this.h,k=0;k<_;){if(Q==0)for(;k<=S;)i(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<_;)if(P[Q++]=C.charCodeAt(k++),Q==this.blockSize){i(this,P),Q=0;break}}else for(;k<_;)if(P[Q++]=C[k++],Q==this.blockSize){i(this,P),Q=0;break}}this.h=Q,this.o+=_},n.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var S=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=S&255,S/=256;for(this.u(C),C=Array(16),_=S=0;4>_;++_)for(var P=0;32>P;P+=8)C[S++]=this.g[_]>>>P&255;return C};function s(C,_){var S=o;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=_(C)}function a(C,_){this.h=_;for(var S=[],P=!0,Q=C.length-1;0<=Q;Q--){var k=C[Q]|0;P&&k==_||(S[Q]=k,P=!1)}this.g=S}var o={};function A(C){return-128<=C&&128>C?s(C,function(_){return new a([_|0],0>_?-1:0)}):new a([C|0],0>C?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return v(l(-C));for(var _=[],S=1,P=0;C>=S;P++)_[P]=C/S|0,S*=4294967296;return new a(_,0)}function u(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return v(u(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=l(Math.pow(_,8)),P=d,Q=0;Q<C.length;Q+=8){var k=Math.min(8,C.length-Q),N=parseInt(C.substring(Q,Q+k),_);8>k?(k=l(Math.pow(_,k)),P=P.j(k).add(l(N))):(P=P.j(S),P=P.add(l(N)))}return P}var d=A(0),f=A(1),g=A(16777216);t=a.prototype,t.m=function(){if(p(this))return-v(this).m();for(var C=0,_=1,S=0;S<this.g.length;S++){var P=this.i(S);C+=(0<=P?P:4294967296+P)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(m(this))return"0";if(p(this))return"-"+v(this).toString(C);for(var _=l(Math.pow(C,6)),S=this,P="";;){var Q=I(S,_).g;S=y(S,Q.j(_));var k=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=Q,m(S))return k+P;for(;6>k.length;)k="0"+k;P=k+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function m(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function p(C){return C.h==-1}t.l=function(C){return C=y(this,C),p(C)?-1:m(C)?0:1};function v(C){for(var _=C.g.length,S=[],P=0;P<_;P++)S[P]=~C.g[P];return new a(S,~C.h).add(f)}t.abs=function(){return p(this)?v(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0,Q=0;Q<=_;Q++){var k=P+(this.i(Q)&65535)+(C.i(Q)&65535),N=(k>>>16)+(this.i(Q)>>>16)+(C.i(Q)>>>16);P=N>>>16,k&=65535,N&=65535,S[Q]=N<<16|k}return new a(S,S[S.length-1]&-2147483648?-1:0)};function y(C,_){return C.add(v(_))}t.j=function(C){if(m(this)||m(C))return d;if(p(this))return p(C)?v(this).j(v(C)):v(v(this).j(C));if(p(C))return v(this.j(v(C)));if(0>this.l(g)&&0>C.l(g))return l(this.m()*C.m());for(var _=this.g.length+C.g.length,S=[],P=0;P<2*_;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var Q=0;Q<C.g.length;Q++){var k=this.i(P)>>>16,N=this.i(P)&65535,ae=C.i(Q)>>>16,be=C.i(Q)&65535;S[2*P+2*Q]+=N*be,w(S,2*P+2*Q),S[2*P+2*Q+1]+=k*be,w(S,2*P+2*Q+1),S[2*P+2*Q+1]+=N*ae,w(S,2*P+2*Q+1),S[2*P+2*Q+2]+=k*ae,w(S,2*P+2*Q+2)}for(P=0;P<_;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=_;P<2*_;P++)S[P]=0;return new a(S,0)};function w(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function B(C,_){this.g=C,this.h=_}function I(C,_){if(m(_))throw Error("division by zero");if(m(C))return new B(d,d);if(p(C))return _=I(v(C),_),new B(v(_.g),v(_.h));if(p(_))return _=I(C,v(_)),new B(v(_.g),_.h);if(30<C.g.length){if(p(C)||p(_))throw Error("slowDivide_ only works with positive integers.");for(var S=f,P=_;0>=P.l(C);)S=T(S),P=T(P);var Q=F(S,1),k=F(P,1);for(P=F(P,2),S=F(S,2);!m(P);){var N=k.add(P);0>=N.l(C)&&(Q=Q.add(S),k=N),P=F(P,1),S=F(S,1)}return _=y(C,Q.j(_)),new B(Q,_)}for(Q=d;0<=C.l(_);){for(S=Math.max(1,Math.floor(C.m()/_.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),k=l(S),N=k.j(_);p(N)||0<N.l(C);)S-=P,k=l(S),N=k.j(_);m(k)&&(k=f),Q=Q.add(k),C=y(C,N)}return new B(Q,C)}t.A=function(C){return I(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0;P<_;P++)S[P]=this.i(P)&C.i(P);return new a(S,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0;P<_;P++)S[P]=this.i(P)|C.i(P);return new a(S,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0;P<_;P++)S[P]=this.i(P)^C.i(P);return new a(S,this.h^C.h)};function T(C){for(var _=C.g.length+1,S=[],P=0;P<_;P++)S[P]=C.i(P)<<1|C.i(P-1)>>>31;return new a(S,C.h)}function F(C,_){var S=_>>5;_%=32;for(var P=C.g.length-S,Q=[],k=0;k<P;k++)Q[k]=0<_?C.i(k+S)>>>_|C.i(k+S+1)<<32-_:C.i(k+S);return new a(Q,C.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Zk=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=u,Zo=a}).apply(typeof XS<"u"?XS:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eO,Nc,tO,Qg,Ox,rO,nO,iO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,b,E){return h==Array.prototype||h==Object.prototype||(h[b]=E.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var b=0;b<h.length;++b){var E=h[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=r(this);function i(h,b){if(b)e:{var E=n;h=h.split(".");for(var U=0;U<h.length-1;U++){var H=h[U];if(!(H in E))break e;E=E[H]}h=h[h.length-1],U=E[h],b=b(U),b!=U&&b!=null&&e(E,h,{configurable:!0,writable:!0,value:b})}}function s(h,b){h instanceof String&&(h+="");var E=0,U=!1,H={next:function(){if(!U&&E<h.length){var W=E++;return{value:b(W,h[W]),done:!1}}return U=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(h){return h||function(){return s(this,function(b,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function A(h){var b=typeof h;return b=b!="object"?b:h?Array.isArray(h)?"array":b:"null",b=="array"||b=="object"&&typeof h.length=="number"}function l(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function u(h,b,E){return h.call.apply(h.bind,arguments)}function d(h,b,E){if(!h)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,U),h.apply(b,H)}}return function(){return h.apply(b,arguments)}}function f(h,b,E){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,f.apply(null,arguments)}function g(h,b){var E=Array.prototype.slice.call(arguments,1);return function(){var U=E.slice();return U.push.apply(U,arguments),h.apply(this,U)}}function m(h,b){function E(){}E.prototype=b.prototype,h.aa=b.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(U,H,W){for(var se=Array(arguments.length-2),it=2;it<arguments.length;it++)se[it-2]=arguments[it];return b.prototype[H].apply(U,se)}}function p(h){const b=h.length;if(0<b){const E=Array(b);for(let U=0;U<b;U++)E[U]=h[U];return E}return[]}function v(h,b){for(let E=1;E<arguments.length;E++){const U=arguments[E];if(A(U)){const H=h.length||0,W=U.length||0;h.length=H+W;for(let se=0;se<W;se++)h[H+se]=U[se]}else h.push(U)}}class y{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function w(h){return/^[\s\xa0]*$/.test(h)}function B(){var h=o.navigator;return h&&(h=h.userAgent)?h:""}function I(h){return I[" "](h),h}I[" "]=function(){};var T=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function F(h,b,E){for(const U in h)b.call(E,h[U],U,h)}function C(h,b){for(const E in h)b.call(void 0,h[E],E,h)}function _(h){const b={};for(const E in h)b[E]=h[E];return b}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,b){let E,U;for(let H=1;H<arguments.length;H++){U=arguments[H];for(E in U)h[E]=U[E];for(let W=0;W<S.length;W++)E=S[W],Object.prototype.hasOwnProperty.call(U,E)&&(h[E]=U[E])}}function Q(h){var b=1;h=h.split(":");const E=[];for(;0<b&&h.length;)E.push(h.shift()),b--;return h.length&&E.push(h.join(":")),E}function k(h){o.setTimeout(()=>{throw h},0)}function N(){var h=ne;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class ae{constructor(){this.h=this.g=null}add(b,E){const U=be.get();U.set(b,E),this.h?this.h.next=U:this.g=U,this.h=U}}var be=new y(()=>new pe,h=>h.reset());class pe{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let we,X=!1,ne=new ae,ce=()=>{const h=o.Promise.resolve(void 0);we=()=>{h.then(Fe)}};var Fe=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(E){k(E)}var b=be;b.j(h),100>b.h&&(b.h++,h.next=b.g,b.g=h)}X=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ke(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}ke.prototype.h=function(){this.defaultPrevented=!0};var Xe=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};o.addEventListener("test",E,b),o.removeEventListener("test",E,b)}catch{}return h}();function Oe(h,b){if(ke.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,U=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget){if(T){e:{try{I(b.nodeName);var H=!0;break e}catch{}H=!1}H||(b=null)}}else E=="mouseover"?b=h.fromElement:E=="mouseout"&&(b=h.toElement);this.relatedTarget=b,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:O[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Oe.aa.h.call(this)}}m(Oe,ke);var O={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),R=0;function K(h,b,E,U,H){this.listener=h,this.proxy=null,this.src=b,this.type=E,this.capture=!!U,this.ha=H,this.key=++R,this.da=this.fa=!1}function $(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function z(h){this.src=h,this.g={},this.h=0}z.prototype.add=function(h,b,E,U,H){var W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);var se=oe(h,b,U,H);return-1<se?(b=h[se],E||(b.fa=!1)):(b=new K(b,this.src,W,!!U,H),b.fa=E,h.push(b)),b};function L(h,b){var E=b.type;if(E in h.g){var U=h.g[E],H=Array.prototype.indexOf.call(U,b,void 0),W;(W=0<=H)&&Array.prototype.splice.call(U,H,1),W&&($(b),h.g[E].length==0&&(delete h.g[E],h.h--))}}function oe(h,b,E,U){for(var H=0;H<h.length;++H){var W=h[H];if(!W.da&&W.listener==b&&W.capture==!!E&&W.ha==U)return H}return-1}var ie="closure_lm_"+(1e6*Math.random()|0),Ie={};function Ne(h,b,E,U,H){if(Array.isArray(b)){for(var W=0;W<b.length;W++)Ne(h,b[W],E,U,H);return null}return E=zf(E),h&&h[j]?h.K(b,E,l(U)?!!U.capture:!1,H):Be(h,b,E,!1,U,H)}function Be(h,b,E,U,H,W){if(!b)throw Error("Invalid event type");var se=l(H)?!!H.capture:!!H,it=$s(h);if(it||(h[ie]=it=new z(h)),E=it.add(b,E,U,se,W),E.proxy)return E;if(U=At(),E.proxy=U,U.src=h,U.listener=E,h.addEventListener)Xe||(H=se),H===void 0&&(H=!1),h.addEventListener(b.toString(),U,H);else if(h.attachEvent)h.attachEvent(wo(b.toString()),U);else if(h.addListener&&h.removeListener)h.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return E}function At(){function h(E){return b.call(h.src,h.listener,E)}const b=jA;return h}function Vs(h,b,E,U,H){if(Array.isArray(b))for(var W=0;W<b.length;W++)Vs(h,b[W],E,U,H);else U=l(U)?!!U.capture:!!U,E=zf(E),h&&h[j]?(h=h.i,b=String(b).toString(),b in h.g&&(W=h.g[b],E=oe(W,E,U,H),-1<E&&($(W[E]),Array.prototype.splice.call(W,E,1),W.length==0&&(delete h.g[b],h.h--)))):h&&(h=$s(h))&&(b=h.g[b.toString()],h=-1,b&&(h=oe(b,E,U,H)),(E=-1<h?b[h]:null)&&Ks(E))}function Ks(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[j])L(b.i,h);else{var E=h.type,U=h.proxy;b.removeEventListener?b.removeEventListener(E,U,h.capture):b.detachEvent?b.detachEvent(wo(E),U):b.addListener&&b.removeListener&&b.removeListener(U),(E=$s(b))?(L(E,h),E.h==0&&(E.src=null,b[ie]=null)):$(h)}}}function wo(h){return h in Ie?Ie[h]:Ie[h]="on"+h}function jA(h,b){if(h.da)h=!0;else{b=new Oe(b,this);var E=h.listener,U=h.ha||h.src;h.fa&&Ks(h),h=E.call(U,b)}return h}function $s(h){return h=h[ie],h instanceof z?h:null}var xo="__closure_events_fn_"+(1e9*Math.random()>>>0);function zf(h){return typeof h=="function"?h:(h[xo]||(h[xo]=function(b){return h.handleEvent(b)}),h[xo])}function ir(){te.call(this),this.i=new z(this),this.M=this,this.F=null}m(ir,te),ir.prototype[j]=!0,ir.prototype.removeEventListener=function(h,b,E,U){Vs(this,h,b,E,U)};function fr(h,b){var E,U=h.F;if(U)for(E=[];U;U=U.F)E.push(U);if(h=h.M,U=b.type||b,typeof b=="string")b=new ke(b,h);else if(b instanceof ke)b.target=b.target||h;else{var H=b;b=new ke(U,h),P(b,H)}if(H=!0,E)for(var W=E.length-1;0<=W;W--){var se=b.g=E[W];H=Gs(se,U,!0,b)&&H}if(se=b.g=h,H=Gs(se,U,!0,b)&&H,H=Gs(se,U,!1,b)&&H,E)for(W=0;W<E.length;W++)se=b.g=E[W],H=Gs(se,U,!1,b)&&H}ir.prototype.N=function(){if(ir.aa.N.call(this),this.i){var h=this.i,b;for(b in h.g){for(var E=h.g[b],U=0;U<E.length;U++)$(E[U]);delete h.g[b],h.h--}}this.F=null},ir.prototype.K=function(h,b,E,U){return this.i.add(String(h),b,!1,E,U)},ir.prototype.L=function(h,b,E,U){return this.i.add(String(h),b,!0,E,U)};function Gs(h,b,E,U){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();for(var H=!0,W=0;W<b.length;++W){var se=b[W];if(se&&!se.da&&se.capture==E){var it=se.listener,gr=se.ha||se.src;se.fa&&L(h.i,se),H=it.call(gr,U)!==!1&&H}}return H&&!U.defaultPrevented}function lt(h,b,E){if(typeof h=="function")E&&(h=f(h,E));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:o.setTimeout(h,b||0)}function Yf(h){h.g=lt(()=>{h.g=null,h.i&&(h.i=!1,Yf(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class Lv extends te{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Yf(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ws(h){te.call(this),this.h=h,this.g={}}m(Ws,te);var bo=[];function Xf(h){F(h.g,function(b,E){this.g.hasOwnProperty(E)&&Ks(b)},h),h.g={}}Ws.prototype.N=function(){Ws.aa.N.call(this),Xf(this)},Ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ku=o.JSON.stringify,Hv=o.JSON.parse,Vv=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function $u(){}$u.prototype.h=null;function qf(h){return h.h||(h.h=h.i())}function Jf(){}var D={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function M(){ke.call(this,"d")}m(M,ke);function q(){ke.call(this,"c")}m(q,ke);var J={},Z=null;function Ae(){return Z=Z||new ir}J.La="serverreachability";function Se(h){ke.call(this,J.La,h)}m(Se,ke);function Ke(h){const b=Ae();fr(b,new Se(b))}J.STAT_EVENT="statevent";function Pe(h,b){ke.call(this,J.STAT_EVENT,h),this.stat=b}m(Pe,ke);function Ee(h){const b=Ae();fr(b,new Pe(b,h))}J.Ma="timingevent";function nt(h,b){ke.call(this,J.Ma,h),this.size=b}m(nt,ke);function Mr(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},b)}function ut(){this.g=!0}ut.prototype.xa=function(){this.g=!1};function kn(h,b,E,U,H,W){h.info(function(){if(h.g)if(W)for(var se="",it=W.split("&"),gr=0;gr<it.length;gr++){var Ge=it[gr].split("=");if(1<Ge.length){var _r=Ge[0];Ge=Ge[1];var Ir=_r.split("_");se=2<=Ir.length&&Ir[1]=="type"?se+(_r+"="+Ge+"&"):se+(_r+"=redacted&")}}else se=null;else se=W;return"XMLHTTP REQ ("+U+") [attempt "+H+"]: "+b+`
`+E+`
`+se})}function RA(h,b,E,U,H,W,se){h.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+H+"]: "+b+`
`+E+`
`+W+" "+se})}function hr(h,b,E,U){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+Bo(h,E)+(U?" "+U:"")})}function Kv(h,b){h.info(function(){return"TIMEOUT: "+b})}ut.prototype.info=function(){};function Bo(h,b){if(!h.g)return b;if(!b)return null;try{var E=JSON.parse(b);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var U=E[h];if(!(2>U.length)){var H=U[1];if(Array.isArray(H)&&!(1>H.length)){var W=H[0];if(W!="noop"&&W!="stop"&&W!="close")for(var se=1;se<H.length;se++)H[se]=""}}}}return Ku(E)}catch{return b}}var Lr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},MA;function LA(){}m(LA,$u),LA.prototype.g=function(){return new XMLHttpRequest},LA.prototype.i=function(){return{}},MA=new LA;function zs(h,b,E,U){this.j=h,this.i=b,this.l=E,this.R=U||1,this.U=new Ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new D_}function D_(){this.i=null,this.g="",this.h=!1}var j_={},$v={};function Gv(h,b,E){h.L=1,h.v=rh(Wi(b)),h.m=E,h.P=!0,R_(h,null)}function R_(h,b){h.F=Date.now(),Zf(h),h.A=Wi(h.v);var E=h.A,U=h.R;Array.isArray(U)||(U=[String(U)]),Z_(E.i,"t",U),h.C=0,E=h.j.J,h.h=new D_,h.g=pI(h.j,E?b:null,!h.m),0<h.O&&(h.M=new Lv(f(h.Y,h,h.g),h.O)),b=h.U,E=h.g,U=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(bo[0]=H.toString()),H=bo);for(var W=0;W<H.length;W++){var se=Ne(E,H[W],U||b.handleEvent,!1,b.h||b);if(!se)break;b.g[se.key]=se}b=h.H?_(h.H):{},h.m?(h.u||(h.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,b)):(h.u="GET",h.g.ea(h.A,h.u,null,b)),Ke(),kn(h.i,h.u,h.A,h.l,h.R,h.m)}zs.prototype.ca=function(h){h=h.target;const b=this.M;b&&zi(h)==3?b.j():this.Y(h)},zs.prototype.Y=function(h){try{if(h==this.g)e:{const Ir=zi(this.g);var b=this.g.Ba();const KA=this.g.Z();if(!(3>Ir)&&(Ir!=3||this.g&&(this.h.h||this.g.oa()||aI(this.g)))){this.J||Ir!=4||b==7||(b==8||0>=KA?Ke(3):Ke(2)),Wv(this);var E=this.g.Z();this.X=E;t:if(M_(this)){var U=aI(this.g);h="";var H=U.length,W=zi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Co(this),Wu(this);var se="";break t}this.h.i=new o.TextDecoder}for(b=0;b<H;b++)this.h.h=!0,h+=this.h.i.decode(U[b],{stream:!(W&&b==H-1)});U.length=0,this.h.g+=h,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=E==200,RA(this.i,this.u,this.A,this.l,this.R,Ir,E),this.o){if(this.T&&!this.K){t:{if(this.g){var it,gr=this.g;if((it=gr.g?gr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(it)){var Ge=it;break t}}Ge=null}if(E=Ge)hr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zv(this,E);else{this.o=!1,this.s=3,Ee(12),Co(this),Wu(this);break e}}if(this.P){E=!0;let Ai;for(;!this.J&&this.C<se.length;)if(Ai=mH(this,se),Ai==$v){Ir==4&&(this.s=4,Ee(14),E=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ai==j_){this.s=4,Ee(15),hr(this.i,this.l,se,"[Invalid Chunk]"),E=!1;break}else hr(this.i,this.l,Ai,null),zv(this,Ai);if(M_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ir!=4||se.length!=0||this.h.h||(this.s=1,Ee(16),E=!1),this.o=this.o&&E,!E)hr(this.i,this.l,se,"[Invalid Chunked Response]"),Co(this),Wu(this);else if(0<se.length&&!this.W){this.W=!0;var _r=this.j;_r.g==this&&_r.ba&&!_r.M&&(_r.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),ey(_r),_r.M=!0,Ee(11))}}else hr(this.i,this.l,se,null),zv(this,se);Ir==4&&Co(this),this.o&&!this.J&&(Ir==4?fI(this.j,this):(this.o=!1,Zf(this)))}else NH(this.g),E==400&&0<se.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),Co(this),Wu(this)}}}catch{}finally{}};function M_(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function mH(h,b){var E=h.C,U=b.indexOf(`
`,E);return U==-1?$v:(E=Number(b.substring(E,U)),isNaN(E)?j_:(U+=1,U+E>b.length?$v:(b=b.slice(U,U+E),h.C=U+E,b)))}zs.prototype.cancel=function(){this.J=!0,Co(this)};function Zf(h){h.S=Date.now()+h.I,L_(h,h.I)}function L_(h,b){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Mr(f(h.ba,h),b)}function Wv(h){h.B&&(o.clearTimeout(h.B),h.B=null)}zs.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Kv(this.i,this.A),this.L!=2&&(Ke(),Ee(17)),Co(this),this.s=2,Wu(this)):L_(this,this.S-h)};function Wu(h){h.j.G==0||h.J||fI(h.j,h)}function Co(h){Wv(h);var b=h.M;b&&typeof b.ma=="function"&&b.ma(),h.M=null,Xf(h.U),h.g&&(b=h.g,h.g=null,b.abort(),b.ma())}function zv(h,b){try{var E=h.j;if(E.G!=0&&(E.g==h||Yv(E.h,h))){if(!h.K&&Yv(E.h,h)&&E.G==3){try{var U=E.Da.g.parse(b)}catch{U=null}if(Array.isArray(U)&&U.length==3){var H=U;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)Ah(E),ah(E);else break e;Zv(E),Ee(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=Mr(f(E.Za,E),6e3));if(1>=K_(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else _o(E,11)}else if((h.K||E.g==h)&&Ah(E),!w(b))for(H=E.Da.g.parse(b),b=0;b<H.length;b++){let Ge=H[b];if(E.T=Ge[0],Ge=Ge[1],E.G==2)if(Ge[0]=="c"){E.K=Ge[1],E.ia=Ge[2];const _r=Ge[3];_r!=null&&(E.la=_r,E.j.info("VER="+E.la));const Ir=Ge[4];Ir!=null&&(E.Aa=Ir,E.j.info("SVER="+E.Aa));const KA=Ge[5];KA!=null&&typeof KA=="number"&&0<KA&&(U=1.5*KA,E.L=U,E.j.info("backChannelRequestTimeoutMs_="+U)),U=E;const Ai=h.g;if(Ai){const uh=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uh){var W=U.h;W.g||uh.indexOf("spdy")==-1&&uh.indexOf("quic")==-1&&uh.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Xv(W,W.h),W.h=null))}if(U.D){const ty=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;ty&&(U.ya=ty,ht(U.I,U.D,ty))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),U=E;var se=h;if(U.qa=mI(U,U.J?U.ia:null,U.W),se.K){$_(U.h,se);var it=se,gr=U.L;gr&&(it.I=gr),it.B&&(Wv(it),Zf(it)),U.g=se}else cI(U);0<E.i.length&&oh(E)}else Ge[0]!="stop"&&Ge[0]!="close"||_o(E,7);else E.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?_o(E,7):Jv(E):Ge[0]!="noop"&&E.l&&E.l.ta(Ge),E.v=0)}}Ke(4)}catch{}}var pH=class{constructor(h,b){this.g=h,this.map=b}};function H_(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function V_(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function K_(h){return h.h?1:h.g?h.g.size:0}function Yv(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function Xv(h,b){h.g?h.g.add(b):h.h=b}function $_(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}H_.prototype.cancel=function(){if(this.i=G_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function G_(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const E of h.g.values())b=b.concat(E.D);return b}return p(h.i)}function vH(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(A(h)){for(var b=[],E=h.length,U=0;U<E;U++)b.push(h[U]);return b}b=[],E=0;for(U in h)b[E++]=h[U];return b}function yH(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(A(h)||typeof h=="string"){var b=[];h=h.length;for(var E=0;E<h;E++)b.push(E);return b}b=[],E=0;for(const U in h)b[E++]=U;return b}}}function W_(h,b){if(h.forEach&&typeof h.forEach=="function")h.forEach(b,void 0);else if(A(h)||typeof h=="string")Array.prototype.forEach.call(h,b,void 0);else for(var E=yH(h),U=vH(h),H=U.length,W=0;W<H;W++)b.call(void 0,U[W],E&&E[W],h)}var z_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wH(h,b){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var U=h[E].indexOf("="),H=null;if(0<=U){var W=h[E].substring(0,U);H=h[E].substring(U+1)}else W=h[E];b(W,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Eo(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Eo){this.h=h.h,eh(this,h.j),this.o=h.o,this.g=h.g,th(this,h.s),this.l=h.l;var b=h.i,E=new Xu;E.i=b.i,b.g&&(E.g=new Map(b.g),E.h=b.h),Y_(this,E),this.m=h.m}else h&&(b=String(h).match(z_))?(this.h=!1,eh(this,b[1]||"",!0),this.o=zu(b[2]||""),this.g=zu(b[3]||"",!0),th(this,b[4]),this.l=zu(b[5]||"",!0),Y_(this,b[6]||"",!0),this.m=zu(b[7]||"")):(this.h=!1,this.i=new Xu(null,this.h))}Eo.prototype.toString=function(){var h=[],b=this.j;b&&h.push(Yu(b,X_,!0),":");var E=this.g;return(E||b=="file")&&(h.push("//"),(b=this.o)&&h.push(Yu(b,X_,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Yu(E,E.charAt(0)=="/"?BH:bH,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Yu(E,EH)),h.join("")};function Wi(h){return new Eo(h)}function eh(h,b,E){h.j=E?zu(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function th(h,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);h.s=b}else h.s=null}function Y_(h,b,E){b instanceof Xu?(h.i=b,_H(h.i,h.h)):(E||(b=Yu(b,CH)),h.i=new Xu(b,h.h))}function ht(h,b,E){h.i.set(b,E)}function rh(h){return ht(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function zu(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Yu(h,b,E){return typeof h=="string"?(h=encodeURI(h).replace(b,xH),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function xH(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var X_=/[#\/\?@]/g,bH=/[#\?:]/g,BH=/[#\?]/g,CH=/[#\?@]/g,EH=/#/g;function Xu(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function Ys(h){h.g||(h.g=new Map,h.h=0,h.i&&wH(h.i,function(b,E){h.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}t=Xu.prototype,t.add=function(h,b){Ys(this),this.i=null,h=HA(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(b),this.h+=1,this};function q_(h,b){Ys(h),b=HA(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function J_(h,b){return Ys(h),b=HA(h,b),h.g.has(b)}t.forEach=function(h,b){Ys(this),this.g.forEach(function(E,U){E.forEach(function(H){h.call(b,H,U,this)},this)},this)},t.na=function(){Ys(this);const h=Array.from(this.g.values()),b=Array.from(this.g.keys()),E=[];for(let U=0;U<b.length;U++){const H=h[U];for(let W=0;W<H.length;W++)E.push(b[U])}return E},t.V=function(h){Ys(this);let b=[];if(typeof h=="string")J_(this,h)&&(b=b.concat(this.g.get(HA(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)b=b.concat(h[E])}return b},t.set=function(h,b){return Ys(this),this.i=null,h=HA(this,h),J_(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=this.V(h),0<h.length?String(h[0]):b):b};function Z_(h,b,E){q_(h,b),0<E.length&&(h.i=null,h.g.set(HA(h,b),p(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(var E=0;E<b.length;E++){var U=b[E];const W=encodeURIComponent(String(U)),se=this.V(U);for(U=0;U<se.length;U++){var H=W;se[U]!==""&&(H+="="+encodeURIComponent(String(se[U]))),h.push(H)}}return this.i=h.join("&")};function HA(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function _H(h,b){b&&!h.j&&(Ys(h),h.i=null,h.g.forEach(function(E,U){var H=U.toLowerCase();U!=H&&(q_(this,U),Z_(this,H,E))},h)),h.j=b}function IH(h,b){const E=new ut;if(o.Image){const U=new Image;U.onload=g(Xs,E,"TestLoadImage: loaded",!0,b,U),U.onerror=g(Xs,E,"TestLoadImage: error",!1,b,U),U.onabort=g(Xs,E,"TestLoadImage: abort",!1,b,U),U.ontimeout=g(Xs,E,"TestLoadImage: timeout",!1,b,U),o.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=h}else b(!1)}function SH(h,b){const E=new ut,U=new AbortController,H=setTimeout(()=>{U.abort(),Xs(E,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:U.signal}).then(W=>{clearTimeout(H),W.ok?Xs(E,"TestPingServer: ok",!0,b):Xs(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(H),Xs(E,"TestPingServer: error",!1,b)})}function Xs(h,b,E,U,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),U(E)}catch{}}function TH(){this.g=new Vv}function FH(h,b,E){const U=E||"";try{W_(h,function(H,W){let se=H;l(H)&&(se=Ku(H)),b.push(U+W+"="+encodeURIComponent(se))})}catch(H){throw b.push(U+"type="+encodeURIComponent("_badmap")),H}}function nh(h){this.l=h.Ub||null,this.j=h.eb||!1}m(nh,$u),nh.prototype.g=function(){return new ih(this.l,this.j)},nh.prototype.i=function(h){return function(){return h}}({});function ih(h,b){ir.call(this),this.D=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(ih,ir),t=ih.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=b,this.readyState=1,Ju(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(b.body=h),(this.D||o).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qu(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ju(this)),this.g&&(this.readyState=3,Ju(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eI(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function eI(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?qu(this):Ju(this),this.readyState==3&&eI(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,qu(this))},t.Qa=function(h){this.g&&(this.response=h,qu(this))},t.ga=function(){this.g&&qu(this)};function qu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ju(h)}t.setRequestHeader=function(h,b){this.u.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=b.next();return h.join(`\r
`)};function Ju(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ih.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function tI(h){let b="";return F(h,function(E,U){b+=U,b+=":",b+=E,b+=`\r
`}),b}function qv(h,b,E){e:{for(U in E){var U=!1;break e}U=!0}U||(E=tI(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):ht(h,b,E))}function Nt(h){ir.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Nt,ir);var UH=/^https?$/i,PH=["POST","PUT"];t=Nt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,b,E,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():MA.g(),this.v=this.o?qf(this.o):qf(MA),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(W){rI(this,W);return}if(h=E||"",E=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var H in U)E.set(H,U[H]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const W of U.keys())E.set(W,U.get(W));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),H=o.FormData&&h instanceof o.FormData,!(0<=Array.prototype.indexOf.call(PH,b,void 0))||U||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,se]of E)this.g.setRequestHeader(W,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sI(this),this.u=!0,this.g.send(h),this.u=!1}catch(W){rI(this,W)}};function rI(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.m=5,nI(h),sh(h)}function nI(h){h.A||(h.A=!0,fr(h,"complete"),fr(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,fr(this,"complete"),fr(this,"abort"),sh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sh(this,!0)),Nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iI(this):this.bb())},t.bb=function(){iI(this)};function iI(h){if(h.h&&typeof a<"u"&&(!h.v[1]||zi(h)!=4||h.Z()!=2)){if(h.u&&zi(h)==4)lt(h.Ea,0,h);else if(fr(h,"readystatechange"),zi(h)==4){h.h=!1;try{const se=h.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var U;if(U=se===0){var H=String(h.D).match(z_)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),U=!UH.test(H?H.toLowerCase():"")}E=U}if(E)fr(h,"complete"),fr(h,"success");else{h.m=6;try{var W=2<zi(h)?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.Z()+"]",nI(h)}}finally{sh(h)}}}}function sh(h,b){if(h.g){sI(h);const E=h.g,U=h.v[0]?()=>{}:null;h.g=null,h.v=null,b||fr(h,"ready");try{E.onreadystatechange=U}catch{}}}function sI(h){h.I&&(o.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function zi(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<zi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),Hv(b)}};function aI(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function NH(h){const b={};h=(h.g&&2<=zi(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<h.length;U++){if(w(h[U]))continue;var E=Q(h[U]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=b[H]||[];b[H]=W,W.push(E)}C(b,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zu(h,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||b}function oI(h){this.Aa=0,this.i=[],this.j=new ut,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zu("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zu("baseRetryDelayMs",5e3,h),this.cb=Zu("retryDelaySeedMs",1e4,h),this.Wa=Zu("forwardChannelMaxRetries",2,h),this.wa=Zu("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new H_(h&&h.concurrentRequestLimit),this.Da=new TH,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=oI.prototype,t.la=8,t.G=1,t.connect=function(h,b,E,U){Ee(0),this.W=h,this.H=b||{},E&&U!==void 0&&(this.H.OSID=E,this.H.OAID=U),this.F=this.X,this.I=mI(this,null,this.W),oh(this)};function Jv(h){if(AI(h),h.G==3){var b=h.U++,E=Wi(h.I);if(ht(E,"SID",h.K),ht(E,"RID",b),ht(E,"TYPE","terminate"),ec(h,E),b=new zs(h,h.j,b),b.L=2,b.v=rh(Wi(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(b.v.toString(),"")}catch{}!E&&o.Image&&(new Image().src=b.v,E=!0),E||(b.g=pI(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Zf(b)}gI(h)}function ah(h){h.g&&(ey(h),h.g.cancel(),h.g=null)}function AI(h){ah(h),h.u&&(o.clearTimeout(h.u),h.u=null),Ah(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&o.clearTimeout(h.s),h.s=null)}function oh(h){if(!V_(h.h)&&!h.s){h.s=!0;var b=h.Ga;we||ce(),X||(we(),X=!0),ne.add(b,h),h.B=0}}function QH(h,b){return K_(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=b.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Mr(f(h.Ga,h,b),hI(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new zs(this,this.j,h);let W=this.o;if(this.S&&(W?(W=_(W),P(W,this.S)):W=this.S),this.m!==null||this.O||(H.H=W,W=null),this.P)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var U=this.i[E];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(b+=U,4096<b){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=uI(this,H,b),E=Wi(this.I),ht(E,"RID",h),ht(E,"CVER",22),this.D&&ht(E,"X-HTTP-Session-Id",this.D),ec(this,E),W&&(this.O?b="headers="+encodeURIComponent(String(tI(W)))+"&"+b:this.m&&qv(E,this.m,W)),Xv(this.h,H),this.Ua&&ht(E,"TYPE","init"),this.P?(ht(E,"$req",b),ht(E,"SID","null"),H.T=!0,Gv(H,E,null)):Gv(H,E,b),this.G=2}}else this.G==3&&(h?lI(this,h):this.i.length==0||V_(this.h)||lI(this))};function lI(h,b){var E;b?E=b.l:E=h.U++;const U=Wi(h.I);ht(U,"SID",h.K),ht(U,"RID",E),ht(U,"AID",h.T),ec(h,U),h.m&&h.o&&qv(U,h.m,h.o),E=new zs(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),b&&(h.i=b.D.concat(h.i)),b=uI(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Xv(h.h,E),Gv(E,U,b)}function ec(h,b){h.H&&F(h.H,function(E,U){ht(b,U,E)}),h.l&&W_({},function(E,U){ht(b,U,E)})}function uI(h,b,E){E=Math.min(h.i.length,E);var U=h.l?f(h.l.Na,h.l,h):null;e:{var H=h.i;let W=-1;for(;;){const se=["count="+E];W==-1?0<E?(W=H[0].g,se.push("ofs="+W)):W=0:se.push("ofs="+W);let it=!0;for(let gr=0;gr<E;gr++){let Ge=H[gr].g;const _r=H[gr].map;if(Ge-=W,0>Ge)W=Math.max(0,H[gr].g-100),it=!1;else try{FH(_r,se,"req"+Ge+"_")}catch{U&&U(_r)}}if(it){U=se.join("&");break e}}}return h=h.i.splice(0,E),b.D=h,U}function cI(h){if(!h.g&&!h.u){h.Y=1;var b=h.Fa;we||ce(),X||(we(),X=!0),ne.add(b,h),h.v=0}}function Zv(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Mr(f(h.Fa,h),hI(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,dI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Mr(f(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),ah(this),dI(this))};function ey(h){h.A!=null&&(o.clearTimeout(h.A),h.A=null)}function dI(h){h.g=new zs(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var b=Wi(h.qa);ht(b,"RID","rpc"),ht(b,"SID",h.K),ht(b,"AID",h.T),ht(b,"CI",h.F?"0":"1"),!h.F&&h.ja&&ht(b,"TO",h.ja),ht(b,"TYPE","xmlhttp"),ec(h,b),h.m&&h.o&&qv(b,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=rh(Wi(b)),E.m=null,E.P=!0,R_(E,h)}t.Za=function(){this.C!=null&&(this.C=null,ah(this),Zv(this),Ee(19))};function Ah(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function fI(h,b){var E=null;if(h.g==b){Ah(h),ey(h),h.g=null;var U=2}else if(Yv(h.h,b))E=b.D,$_(h.h,b),U=1;else return;if(h.G!=0){if(b.o)if(U==1){E=b.m?b.m.length:0,b=Date.now()-b.F;var H=h.B;U=Ae(),fr(U,new nt(U,E)),oh(h)}else cI(h);else if(H=b.s,H==3||H==0&&0<b.X||!(U==1&&QH(h,b)||U==2&&Zv(h)))switch(E&&0<E.length&&(b=h.h,b.i=b.i.concat(E)),H){case 1:_o(h,5);break;case 4:_o(h,10);break;case 3:_o(h,6);break;default:_o(h,2)}}}function hI(h,b){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*b}function _o(h,b){if(h.j.info("Error code "+b),b==2){var E=f(h.fb,h),U=h.Xa;const H=!U;U=new Eo(U||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||eh(U,"https"),rh(U),H?IH(U.toString(),E):SH(U.toString(),E)}else Ee(2);h.G=0,h.l&&h.l.sa(b),gI(h),AI(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function gI(h){if(h.G=0,h.ka=[],h.l){const b=G_(h.h);(b.length!=0||h.i.length!=0)&&(v(h.ka,b),v(h.ka,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.ra()}}function mI(h,b,E){var U=E instanceof Eo?Wi(E):new Eo(E);if(U.g!="")b&&(U.g=b+"."+U.g),th(U,U.s);else{var H=o.location;U=H.protocol,b=b?b+"."+H.hostname:H.hostname,H=+H.port;var W=new Eo(null);U&&eh(W,U),b&&(W.g=b),H&&th(W,H),E&&(W.l=E),U=W}return E=h.D,b=h.ya,E&&b&&ht(U,E,b),ht(U,"VER",h.la),ec(h,U),U}function pI(h,b,E){if(b&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Ca&&!h.pa?new Nt(new nh({eb:E})):new Nt(h.pa),b.Ha(h.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vI(){}t=vI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function lh(){}lh.prototype.g=function(h,b){return new dn(h,b)};function dn(h,b){ir.call(this),this.g=new oI(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(h?h["X-WebChannel-Client-Profile"]=b.va:h={"X-WebChannel-Client-Profile":b.va}),this.g.S=h,(h=b&&b.Sb)&&!w(h)&&(this.g.m=h),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!w(b)&&(this.g.D=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new VA(this)}m(dn,ir),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Jv(this.g)},dn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Ku(h),h=E);b.i.push(new pH(b.Ya++,h)),b.G==3&&oh(b)},dn.prototype.N=function(){this.g.l=null,delete this.j,Jv(this.g),delete this.g,dn.aa.N.call(this)};function yI(h){M.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const E in b){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}m(yI,M);function wI(){q.call(this),this.status=1}m(wI,q);function VA(h){this.g=h}m(VA,vI),VA.prototype.ua=function(){fr(this.g,"a")},VA.prototype.ta=function(h){fr(this.g,new yI(h))},VA.prototype.sa=function(h){fr(this.g,new wI)},VA.prototype.ra=function(){fr(this.g,"b")},lh.prototype.createWebChannel=lh.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,iO=function(){return new lh},nO=function(){return Ae()},rO=J,Ox={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lr.NO_ERROR=0,Lr.TIMEOUT=8,Lr.HTTP_ERROR=6,Qg=Lr,Gu.COMPLETE="complete",tO=Gu,Jf.EventType=D,D.OPEN="a",D.CLOSE="b",D.ERROR="c",D.MESSAGE="d",ir.prototype.listen=ir.prototype.K,Nc=Jf,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,eO=Nt}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});const qS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yr.UNAUTHENTICATED=new yr(null),yr.GOOGLE_CREDENTIALS=new yr("google-credentials-uid"),yr.FIRST_PARTY=new yr("first-party-uid"),yr.MOCK_USER=new yr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=new bC("@firebase/firestore");function sl(){return hA.logLevel}function ee(t,...e){if(hA.logLevel<=Me.DEBUG){const r=e.map(EC);hA.debug(`Firestore (${Iu}): ${t}`,...r)}}function Kr(t,...e){if(hA.logLevel<=Me.ERROR){const r=e.map(EC);hA.error(`Firestore (${Iu}): ${t}`,...r)}}function Wa(t,...e){if(hA.logLevel<=Me.WARN){const r=e.map(EC);hA.warn(`Firestore (${Iu}): ${t}`,...r)}}function EC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${Iu}) INTERNAL ASSERTION FAILED: `+t;throw Kr(e),new Error(e)}function xe(t,e){t||ve()}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Os{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(yr.UNAUTHENTICATED))}shutdown(){}}class W8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class z8{constructor(e){this.t=e,this.currentUser=yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){xe(this.o===void 0);let n=this.i;const i=A=>this.i!==n?(n=this.i,r(A)):Promise.resolve();let s=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Di,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const A=s;e.enqueueRetryable(async()=>{await A.promise,await i(this.currentUser)})},o=A=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(A=>o(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?o(A):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Di)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(xe(typeof n.accessToken=="string"),new sO(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new yr(e)}}class Y8{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=yr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class X8{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new Y8(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){xe(this.o===void 0);const n=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(xe(typeof r.token=="string"),this.R=r.token,new q8(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=Z8(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function Qe(t,e){return t<e?-1:t>e?1:0}function Jl(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}function oO(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new he(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new he(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new he(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Et(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Et(0,0))}static max(){return new Ce(new Et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,r,n){r===void 0?r=0:r>e.length&&ve(),n===void 0?n=e.length-r:n>e.length-r&&ve(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Rd.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Rd?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Je extends Rd{construct(e,r,n){return new Je(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new he(Y.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Je(r)}static emptyPath(){return new Je([])}}const e9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends Rd{construct(e,r,n){return new bt(e,r,n)}static isValidIdentifier(e){return e9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bt(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new he(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new he(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const A=e[i+1];if(A!=="\\"&&A!=="."&&A!=="`")throw new he(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=A,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new he(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(r)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Je.fromString(e))}static fromName(e){return new le(Je.fromString(e).popFirst(5))}static empty(){return new le(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Je.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,r,n,i){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=i}}function Dx(t){return t.fields.find(e=>e.kind===2)}function Po(t){return t.fields.filter(e=>e.kind!==2)}Tm.UNKNOWN_ID=-1;class kg{constructor(e,r){this.fieldPath=e,this.kind=r}}class Md{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Md(0,_n.min())}}function t9(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(n===1e9?new Et(r+1,0):new Et(r,n));return new _n(i,le.empty(),e)}function AO(t){return new _n(t.readTime,t.key,-1)}class _n{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new _n(Ce.min(),le.empty(),-1)}static max(){return new _n(Ce.max(),le.empty(),-1)}}function IC(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=le.comparator(t.documentKey,e.documentKey),r!==0?r:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==lO)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new V((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof V?r:V.resolve(r)}catch(r){return V.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):V.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):V.reject(r)}static resolve(e){return new V((r,n)=>{r(e)})}static reject(e){return new V((r,n)=>{n(e)})}static waitFor(e){return new V((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},A=>n(A))}),a=!0,s===i&&r()})}static or(e){let r=V.resolve(!1);for(const n of e)r=r.next(i=>i?V.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new V((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let A=0;A<s;A++){const l=A;r(e[l]).next(u=>{a[l]=u,++o,o===s&&n(a)},u=>i(u))}})}static doWhile(e,r){return new V((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Di,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new td(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{const i=SC(n.target.error);this.V.reject(new td(e,i))}}static open(e,r,n,i){try{return new u0(r,e.transaction(i,n))}catch(s){throw new td(r,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ee("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new n9(r)}}class Da{constructor(e,r,n){this.name=e,this.version=r,this.p=n,Da.S(Jt())===12.2&&Kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ee("SimpleDb","Removing database:",e),Oo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Gk())return!1;if(Da.v())return!0;const e=Jt(),r=Da.S(e),n=0<r&&r<10,i=cO(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(ee("SimpleDb","Opening database:",this.name),this.db=await new Promise((r,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;r(a)},i.onblocked=()=>{n(new td(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?n(new he(Y.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?n(new he(Y.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):n(new td(e,a))},i.onupgradeneeded=s=>{ee("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.O(a,i.transaction,s.oldVersion,this.version).next(()=>{ee("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=r=>this.N(r)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,i){const s=r==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const o=u0.open(this.db,e,s?"readonly":"readwrite",n),A=i(o).next(l=>(o.g(),l)).catch(l=>(o.abort(l),V.reject(l))).toPromise();return A.catch(()=>{}),await o.m,A}catch(o){const A=o,l=A.name!=="FirebaseError"&&a<3;if(ee("SimpleDb","Transaction failed with error:",A.message,"Retrying:",l),this.close(),!l)return Promise.reject(A)}}}close(){this.db&&this.db.close(),this.db=void 0}}function cO(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class r9{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Oo(this.B.delete())}}class td extends he{constructor(e,r){super(Y.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function lo(t){return t.name==="IndexedDbTransactionError"}class n9{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(ee("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(ee("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Oo(n)}add(e){return ee("SimpleDb","ADD",this.store.name,e,e),Oo(this.store.add(e))}get(e){return Oo(this.store.get(e)).next(r=>(r===void 0&&(r=null),ee("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return ee("SimpleDb","DELETE",this.store.name,e),Oo(this.store.delete(e))}count(){return ee("SimpleDb","COUNT",this.store.name),Oo(this.store.count())}U(e,r){const n=this.options(e,r),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(n.range);return new V((a,o)=>{s.onerror=A=>{o(A.target.error)},s.onsuccess=A=>{a(A.target.result)}})}{const s=this.cursor(n),a=[];return this.W(s,(o,A)=>{a.push(A)}).next(()=>a)}}G(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new V((i,s)=>{n.onerror=a=>{s(a.target.error)},n.onsuccess=a=>{i(a.target.result)}})}j(e,r){ee("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.H=!1;const i=this.cursor(n);return this.W(i,(s,a,o)=>o.delete())}J(e,r){let n;r?n=e:(n={},r=e);const i=this.cursor(n);return this.W(i,r)}Y(e){const r=this.cursor({});return new V((n,i)=>{r.onerror=s=>{const a=SC(s.target.error);i(a)},r.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(o=>{o?a.continue():n()}):n()}})}W(e,r){const n=[];return new V((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const A=new r9(o),l=r(o.primaryKey,o.value,A);if(l instanceof V){const u=l.catch(d=>(A.done(),V.reject(d)));n.push(u)}A.isDone?i():A.K===null?o.continue():o.continue(A.K)}}).next(()=>V.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Oo(t){return new V((e,r)=>{t.onsuccess=n=>{const i=n.target.result;e(i)},t.onerror=n=>{const i=SC(n.target.error);r(i)}})}let JS=!1;function SC(t){const e=Da.S(Jt());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new he("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return JS||(JS=!0,setTimeout(()=>{throw n},0)),n}}return t}class i9{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){ee("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{ee("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(r){lo(r)?ee("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):await TA(r)}await this.X(6e4)})}}class s9{constructor(e,r){this.localStore=e,this.persistence=r}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.te(r,e))}te(e,r){const n=new Set;let i=r,s=!0;return V.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!n.has(a))return ee("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next(o=>{i-=o,n.add(a)});s=!1})).next(()=>r-i)}ne(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(i=>this.localStore.localDocuments.getNextDocuments(e,r,i,n).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.re(i,s)).next(o=>(ee("IndexBackfiller",`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,r,o))).next(()=>a.size)}))}re(e,r){let n=e;return r.changes.forEach((i,s)=>{const a=AO(s);IC(a,n)>0&&(n=a)}),new _n(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Wn.oe=-1;function c0(t){return t==null}function Ld(t){return t===0&&1/t==-1/0}function a9(t){return typeof t=="number"&&Number.isInteger(t)&&!Ld(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=ZS(e)),e=o9(t.get(r),e);return ZS(e)}function o9(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case"":r+="";break;default:r+=s}}return r}function ZS(t){return t+""}function Pi(t){const e=t.length;if(xe(e>=2),e===2)return xe(t.charAt(0)===""&&t.charAt(1)===""),Je.emptyPath();const r=e-2,n=[];let i="";for(let s=0;s<e;){const a=t.indexOf("",s);switch((a<0||a>r)&&ve(),t.charAt(a+1)){case"":const o=t.substring(s,a);let A;i.length===0?A=o:(i+=o,A=i,i=""),n.push(A);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:ve()}s=a+2}return new Je(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t,e){return[t,Wr(e)]}function dO(t,e,r){return[t,Wr(e),r]}const A9={},l9=["prefixPath","collectionGroup","readTime","documentId"],u9=["prefixPath","collectionGroup","documentId"],c9=["collectionGroup","readTime","prefixPath","documentId"],d9=["canonicalId","targetId"],f9=["targetId","path"],h9=["path","targetId"],g9=["collectionId","parent"],m9=["indexId","uid"],p9=["uid","sequenceNumber"],v9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],y9=["indexId","uid","orderedDocumentKey"],w9=["userId","collectionPath","documentId"],x9=["userId","collectionPath","largestBatchId"],b9=["userId","collectionGroup","largestBatchId"],fO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],B9=[...fO,"documentOverlays"],hO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gO=hO,TC=[...gO,"indexConfiguration","indexState","indexEntries"],C9=TC,E9=[...TC,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx extends uO{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Zt(t,e){const r=Ue(t);return Da.F(r._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Su(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function mO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,r){this.comparator=e,this.root=r||wr.EMPTY}insert(e,r){return new _t(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,wr.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Th(this.root,e,this.comparator,!1)}getReverseIterator(){return new Th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Th(this.root,e,this.comparator,!0)}}class Th{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wr{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??wr.RED,this.left=i??wr.EMPTY,this.right=s??wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new wr(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return wr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}wr.EMPTY=null,wr.RED=!0,wr.BLACK=!1;wr.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,r,n,i,s){return this}insert(e,r,n){return new wr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new rT(this.data.getIterator())}getIteratorFrom(e){return new rT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new rt(this.comparator);return r.data=e,r}}class rT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function GA(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new zn([])}unionWith(e){let r=new rt(bt.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new zn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Jl(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new pO("Invalid base64 string: "+s):s}}(e);return new Lt(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Lt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const _9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(t){if(xe(!!t),typeof t=="string"){let e=0;const r=_9.exec(t);if(xe(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function za(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function UC(t){const e=t.mapValue.fields.__previous_value__;return FC(e)?UC(e):e}function Hd(t){const e=_s(t.mapValue.fields.__local_write_time__.timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,r,n,i,s,a,o,A,l){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=A,this.useFetchStreams=l}}class Ya{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Ya("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ya&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Dg={nullValue:"NULL_VALUE"};function gA(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?FC(t)?4:vO(t)?9007199254740991:d0(t)?10:11:ve()}function Li(t,e){if(t===e)return!0;const r=gA(t);if(r!==gA(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hd(t).isEqual(Hd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=_s(i.timestampValue),o=_s(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return za(i.bytesValue).isEqual(za(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return wt(i.geoPointValue.latitude)===wt(s.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return wt(i.integerValue)===wt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=wt(i.doubleValue),o=wt(s.doubleValue);return a===o?Ld(a)===Ld(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Jl(t.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(tT(a)!==tT(o))return!1;for(const A in a)if(a.hasOwnProperty(A)&&(o[A]===void 0||!Li(a[A],o[A])))return!1;return!0}(t,e);default:return ve()}}function Vd(t,e){return(t.values||[]).find(r=>Li(r,e))!==void 0}function Xa(t,e){if(t===e)return 0;const r=gA(t),n=gA(e);if(r!==n)return Qe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=wt(s.integerValue||s.doubleValue),A=wt(a.integerValue||a.doubleValue);return o<A?-1:o>A?1:o===A?0:isNaN(o)?isNaN(A)?0:-1:1}(t,e);case 3:return nT(t.timestampValue,e.timestampValue);case 4:return nT(Hd(t),Hd(e));case 5:return Qe(t.stringValue,e.stringValue);case 6:return function(s,a){const o=za(s),A=za(a);return o.compareTo(A)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),A=a.split("/");for(let l=0;l<o.length&&l<A.length;l++){const u=Qe(o[l],A[l]);if(u!==0)return u}return Qe(o.length,A.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Qe(wt(s.latitude),wt(a.latitude));return o!==0?o:Qe(wt(s.longitude),wt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iT(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,A,l,u;const d=s.fields||{},f=a.fields||{},g=(o=d.value)===null||o===void 0?void 0:o.arrayValue,m=(A=f.value)===null||A===void 0?void 0:A.arrayValue,p=Qe(((l=g==null?void 0:g.values)===null||l===void 0?void 0:l.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return p!==0?p:iT(g,m)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===va.mapValue&&a===va.mapValue)return 0;if(s===va.mapValue)return 1;if(a===va.mapValue)return-1;const o=s.fields||{},A=Object.keys(o),l=a.fields||{},u=Object.keys(l);A.sort(),u.sort();for(let d=0;d<A.length&&d<u.length;++d){const f=Qe(A[d],u[d]);if(f!==0)return f;const g=Xa(o[A[d]],l[u[d]]);if(g!==0)return g}return Qe(A.length,u.length)}(t.mapValue,e.mapValue);default:throw ve()}}function nT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const r=_s(t),n=_s(e),i=Qe(r.seconds,n.seconds);return i!==0?i:Qe(r.nanos,n.nanos)}function iT(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Xa(r[i],n[i]);if(s)return s}return Qe(r.length,n.length)}function Zl(t){return Rx(t)}function Rx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=_s(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return za(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return le.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=Rx(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${Rx(r.fields[a])}`;return i+"}"}(t.mapValue):ve()}function PC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Mx(t){return!!t&&"integerValue"in t}function Kd(t){return!!t&&"arrayValue"in t}function sT(t){return!!t&&"nullValue"in t}function aT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jg(t){return!!t&&"mapValue"in t}function d0(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function rd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Su(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=rd(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=rd(t.arrayValue.values[r]);return e}return Object.assign({},t)}function vO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const yO={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function S9(t){return"nullValue"in t?Dg:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?PC(Ya.empty(),le.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?d0(t)?yO:{mapValue:{}}:ve()}function T9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?PC(Ya.empty(),le.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?yO:"mapValue"in t?d0(t)?{mapValue:{}}:va:ve()}function oT(t,e){const r=Xa(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function AT(t,e){const r=Xa(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!jg(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=rd(r)}setAll(e){let r=bt.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const A=this.getFieldsMap(r);this.applyChanges(A,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=rd(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());jg(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];jg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Su(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new nn(rd(this.value))}}function wO(t){const e=[];return Su(t.fields,(r,n)=>{const i=new bt([r]);if(jg(n)){const s=wO(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Dt(e,0,Ce.min(),Ce.min(),Ce.min(),nn.empty(),0)}static newFoundDocument(e,r,n,i){return new Dt(e,1,r,Ce.min(),n,i,0)}static newNoDocument(e,r){return new Dt(e,2,r,Ce.min(),Ce.min(),nn.empty(),0)}static newUnknownDocument(e,r){return new Dt(e,3,r,Ce.min(),Ce.min(),nn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,r){this.position=e,this.inclusive=r}}function lT(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=le.comparator(le.fromName(a.referenceValue),r.key):n=Xa(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function uT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Li(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,r="asc"){this.field=e,this.dir=r}}function F9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{}class Le extends xO{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new U9(e,r,n):r==="array-contains"?new Q9(e,n):r==="in"?new IO(e,n):r==="not-in"?new k9(e,n):r==="array-contains-any"?new O9(e,n):new Le(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new P9(e,n):new N9(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Xa(r,this.value)):r!==null&&gA(this.value)===gA(r)&&this.matchesComparison(Xa(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tt extends xO{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new tt(e,r)}matches(e){return tu(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tu(t){return t.op==="and"}function Lx(t){return t.op==="or"}function NC(t){return bO(t)&&tu(t)}function bO(t){for(const e of t.filters)if(e instanceof tt)return!1;return!0}function Hx(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+Zl(t.value);if(NC(t))return t.filters.map(e=>Hx(e)).join(",");{const e=t.filters.map(r=>Hx(r)).join(",");return`${t.op}(${e})`}}function BO(t,e){return t instanceof Le?function(n,i){return i instanceof Le&&n.op===i.op&&n.field.isEqual(i.field)&&Li(n.value,i.value)}(t,e):t instanceof tt?function(n,i){return i instanceof tt&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&BO(a,i.filters[o]),!0):!1}(t,e):void ve()}function CO(t,e){const r=t.filters.concat(e);return tt.create(r,t.op)}function EO(t){return t instanceof Le?function(r){return`${r.field.canonicalString()} ${r.op} ${Zl(r.value)}`}(t):t instanceof tt?function(r){return r.op.toString()+" {"+r.getFilters().map(EO).join(" ,")+"}"}(t):"Filter"}class U9 extends Le{constructor(e,r,n){super(e,r,n),this.key=le.fromName(n.referenceValue)}matches(e){const r=le.comparator(e.key,this.key);return this.matchesComparison(r)}}class P9 extends Le{constructor(e,r){super(e,"in",r),this.keys=_O("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class N9 extends Le{constructor(e,r){super(e,"not-in",r),this.keys=_O("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function _O(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>le.fromName(n.referenceValue))}class Q9 extends Le{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Kd(r)&&Vd(r.arrayValue,this.value)}}class IO extends Le{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Vd(this.value.arrayValue,r)}}class k9 extends Le{constructor(e,r){super(e,"not-in",r)}matches(e){if(Vd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Vd(this.value.arrayValue,r)}}class O9 extends Le{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Kd(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Vd(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function Vx(t,e=null,r=[],n=[],i=null,s=null,a=null){return new D9(t,e,r,n,i,s,a)}function mA(t){const e=Ue(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Hx(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),c0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Zl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Zl(n)).join(",")),e.ue=r}return e.ue}function vf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!F9(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!BO(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uT(t.startAt,e.startAt)&&uT(t.endAt,e.endAt)}function Um(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Pm(t,e){return t.filters.filter(r=>r instanceof Le&&r.field.isEqual(e))}function cT(t,e,r){let n=Dg,i=!0;for(const s of Pm(t,e)){let a=Dg,o=!0;switch(s.op){case"<":case"<=":a=S9(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=Dg}oT({value:n,inclusive:i},{value:a,inclusive:o})<0&&(n=a,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=r.position[s];oT({value:n,inclusive:i},{value:a,inclusive:r.inclusive})<0&&(n=a,i=r.inclusive);break}}return{value:n,inclusive:i}}function dT(t,e,r){let n=va,i=!0;for(const s of Pm(t,e)){let a=va,o=!0;switch(s.op){case">=":case">":a=T9(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=va}AT({value:n,inclusive:i},{value:a,inclusive:o})>0&&(n=a,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=r.position[s];AT({value:n,inclusive:i},{value:a,inclusive:r.inclusive})>0&&(n=a,i=r.inclusive);break}}return{value:n,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,A=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=A,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function j9(t,e,r,n,i,s,a,o){return new f0(t,e,r,n,i,s,a,o)}function yf(t){return new f0(t)}function fT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function R9(t){return t.collectionGroup!==null}function nd(t){const e=Ue(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new rt(bt.comparator);return a.filters.forEach(A=>{A.getFlattenedFilters().forEach(l=>{l.isInequality()&&(o=o.add(l.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Fm(s,n))}),r.has(bt.keyField().canonicalString())||e.ce.push(new Fm(bt.keyField(),n))}return e.ce}function ei(t){const e=Ue(t);return e.le||(e.le=M9(e,nd(t))),e.le}function M9(t,e){if(t.limitType==="F")return Vx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Fm(i.field,s)});const r=t.endAt?new eu(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new eu(t.startAt.position,t.startAt.inclusive):null;return Vx(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Nm(t,e,r){return new f0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function h0(t,e){return vf(ei(t),ei(e))&&t.limitType===e.limitType}function SO(t){return`${mA(ei(t))}|lt:${t.limitType}`}function al(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>EO(i)).join(", ")}]`),c0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Zl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Zl(i)).join(",")),`Target(${n})`}(ei(t))}; limitType=${t.limitType})`}function wf(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):le.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of nd(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,A){const l=lT(a,o,A);return a.inclusive?l<=0:l<0}(n.startAt,nd(n),i)||n.endAt&&!function(a,o,A){const l=lT(a,o,A);return a.inclusive?l>=0:l>0}(n.endAt,nd(n),i))}(t,e)}function L9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TO(t){return(e,r)=>{let n=!1;for(const i of nd(t)){const s=H9(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function H9(t,e,r){const n=t.field.isKeyField()?le.comparator(e.key,r.key):function(s,a,o){const A=a.data.field(s),l=o.data.field(s);return A!==null&&l!==null?Xa(A,l):ve()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Su(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return mO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=new _t(le.comparator);function xn(){return V9}const FO=new _t(le.comparator);function Qc(...t){let e=FO;for(const r of t)e=e.insert(r.key,r);return e}function UO(t){let e=FO;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Ni(){return id()}function PO(){return id()}function id(){return new uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const K9=new _t(le.comparator),$9=new rt(le.comparator);function De(...t){let e=$9;for(const r of t)e=e.add(r);return e}const G9=new rt(Qe);function W9(){return G9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ld(e)?"-0":e}}function NO(t){return{integerValue:""+t}}function z9(t,e){return a9(e)?NO(e):QC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this._=void 0}}function Y9(t,e,r){return t instanceof ru?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&FC(s)&&(s=UC(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(r,e):t instanceof nu?kO(t,e):t instanceof iu?OO(t,e):function(i,s){const a=QO(i,s),o=hT(a)+hT(i.Pe);return Mx(a)&&Mx(i.Pe)?NO(o):QC(i.serializer,o)}(t,e)}function X9(t,e,r){return t instanceof nu?kO(t,e):t instanceof iu?OO(t,e):r}function QO(t,e){return t instanceof $d?function(n){return Mx(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class ru extends g0{}class nu extends g0{constructor(e){super(),this.elements=e}}function kO(t,e){const r=DO(e);for(const n of t.elements)r.some(i=>Li(i,n))||r.push(n);return{arrayValue:{values:r}}}class iu extends g0{constructor(e){super(),this.elements=e}}function OO(t,e){let r=DO(e);for(const n of t.elements)r=r.filter(i=>!Li(i,n));return{arrayValue:{values:r}}}class $d extends g0{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function hT(t){return wt(t.integerValue||t.doubleValue)}function DO(t){return Kd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,r){this.field=e,this.transform=r}}function q9(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof nu&&i instanceof nu||n instanceof iu&&i instanceof iu?Jl(n.elements,i.elements,Li):n instanceof $d&&i instanceof $d?Li(n.Pe,i.Pe):n instanceof ru&&i instanceof ru}(t.transform,e.transform)}class J9{constructor(e,r){this.version=e,this.transformResults=r}}class bn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class m0{}function RO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kC(t.key,bn.none()):new Tu(t.key,t.data,bn.none());{const r=t.data,n=nn.empty();let i=new rt(bt.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new co(t.key,n,new zn(i.toArray()),bn.none())}}function Z9(t,e,r){t instanceof Tu?function(i,s,a){const o=i.value.clone(),A=mT(i.fieldTransforms,s,a.transformResults);o.setAll(A),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof co?function(i,s,a){if(!Rg(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=mT(i.fieldTransforms,s,a.transformResults),A=s.data;A.setAll(MO(i)),A.setAll(o),s.convertToFoundDocument(a.version,A).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function sd(t,e,r,n){return t instanceof Tu?function(s,a,o,A){if(!Rg(s.precondition,a))return o;const l=s.value.clone(),u=pT(s.fieldTransforms,A,a);return l.setAll(u),a.convertToFoundDocument(a.version,l).setHasLocalMutations(),null}(t,e,r,n):t instanceof co?function(s,a,o,A){if(!Rg(s.precondition,a))return o;const l=pT(s.fieldTransforms,A,a),u=a.data;return u.setAll(MO(s)),u.setAll(l),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(s,a,o){return Rg(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function eG(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=QO(n.transform,i||null);s!=null&&(r===null&&(r=nn.empty()),r.set(n.field,s))}return r||null}function gT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Jl(n,i,(s,a)=>q9(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tu extends m0{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class co extends m0{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function MO(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function mT(t,e,r){const n=new Map;xe(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,X9(a,o,r[i]))}return n}function pT(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,Y9(s,a,e))}return n}class kC extends m0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LO extends m0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Z9(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=sd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=sd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=PO();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const A=RO(a,o);A!==null&&n.set(i.key,A),a.isValidDocument()||a.convertToNoDocument(Ce.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),De())}isEqual(e){return this.batchId===e.batchId&&Jl(this.mutations,e.mutations,(r,n)=>gT(r,n))&&Jl(this.baseMutations,e.baseMutations,(r,n)=>gT(r,n))}}class DC{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){xe(e.mutations.length===n.length);let i=function(){return K9}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new DC(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,He;function rG(t){switch(t){default:return ve();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function HO(t){if(t===void 0)return Kr("GRPC error has no .code"),Y.UNKNOWN;switch(t){case Vt.OK:return Y.OK;case Vt.CANCELLED:return Y.CANCELLED;case Vt.UNKNOWN:return Y.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return Y.INTERNAL;case Vt.UNAVAILABLE:return Y.UNAVAILABLE;case Vt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Vt.NOT_FOUND:return Y.NOT_FOUND;case Vt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Vt.ABORTED:return Y.ABORTED;case Vt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Vt.DATA_LOSS:return Y.DATA_LOSS;default:return ve()}}(He=Vt||(Vt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG=new Zo([4294967295,4294967295],0);function vT(t){const e=nG().encode(t),r=new Zk;return r.update(e),new Uint8Array(r.digest())}function yT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zo([r,n],0),new Zo([i,s],0)]}class RC{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new kc(`Invalid padding: ${r}`);if(n<0)throw new kc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new kc(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new kc(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Zo.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Zo.fromNumber(n)));return i.compare(iG)===1&&(i=new Zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=vT(e),[n,i]=yT(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new RC(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const r=vT(e),[n,i]=yT(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,xf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new p0(Ce.min(),i,new _t(Qe),xn(),De())}}class xf{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new xf(n,r,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class VO{constructor(e,r){this.targetId=e,this.me=r}}class KO{constructor(e,r,n=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class wT{constructor(){this.fe=0,this.ge=bT(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),r=De(),n=De();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ve()}}),new xf(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=bT()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class sG{constructor(e){this.Le=e,this.Be=new Map,this.ke=xn(),this.qe=xT(),this.Qe=new _t(Qe)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(Um(s))if(n===0){const a=new le(s.path);this.Ue(r,a,Dt.newNoDocument(a,Ce.min()))}else xe(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),A=o?this.Xe(o,e,a):1;if(A!==0){this.je(r);const l=A===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,l)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=za(n).toUint8Array()}catch(A){if(A instanceof pO)return Wa("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw A}try{o=new RC(a,i,s)}catch(A){return Wa(A instanceof kc?"BloomFilter error: ":"Applying bloom filter failed: ",A),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&Um(o.target)){const A=new le(o.target.path);this.ke.get(A)!==null||this.it(a,A)||this.Ue(a,A,Dt.newNoDocument(A,e))}s.be&&(r.set(a,s.ve()),s.Ce())}});let n=De();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(A=>{const l=this.Je(A);return!l||l.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new p0(e,r,this.Qe,this.ke,n);return this.ke=xn(),this.qe=xT(),this.Qe=new _t(Qe),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new wT,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new rt(Qe),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||ee("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new wT),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function xT(){return new _t(le.comparator)}function bT(){return new _t(le.comparator)}const aG={asc:"ASCENDING",desc:"DESCENDING"},oG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AG={and:"AND",or:"OR"};class lG{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Kx(t,e){return t.useProto3Json||c0(e)?e:{value:e}}function su(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $O(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uG(t,e){return su(t,e.toTimestamp())}function zr(t){return xe(!!t),Ce.fromTimestamp(function(r){const n=_s(r);return new Et(n.seconds,n.nanos)}(t))}function MC(t,e){return $x(t,e).canonicalString()}function $x(t,e){const r=function(i){return new Je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function GO(t){const e=Je.fromString(t);return xe(t4(e)),e}function Qm(t,e){return MC(t.databaseId,e.path)}function eA(t,e){const r=GO(e);if(r.get(1)!==t.databaseId.projectId)throw new he(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new he(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new le(YO(r))}function WO(t,e){return MC(t.databaseId,e)}function zO(t){const e=GO(t);return e.length===4?Je.emptyPath():YO(e)}function Gx(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YO(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function BT(t,e,r){return{name:Qm(t,e),fields:r.value.mapValue.fields}}function cG(t,e,r){const n=eA(t,e.name),i=zr(e.updateTime),s=e.createTime?zr(e.createTime):Ce.min(),a=new nn({mapValue:{fields:e.fields}}),o=Dt.newFoundDocument(n,i,s,a);return r&&o.setHasCommittedMutations(),r?o.setHasCommittedMutations():o}function dG(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(xe(u===void 0||typeof u=="string"),Lt.fromBase64String(u||"")):(xe(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Lt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(l){const u=l.code===void 0?Y.UNKNOWN:HO(l.code);return new he(u,l.message||"")}(a);r=new KO(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=eA(t,n.document.name),s=zr(n.document.updateTime),a=n.document.createTime?zr(n.document.createTime):Ce.min(),o=new nn({mapValue:{fields:n.document.fields}}),A=Dt.newFoundDocument(i,s,a,o),l=n.targetIds||[],u=n.removedTargetIds||[];r=new Mg(l,u,A.key,A)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=eA(t,n.document),s=n.readTime?zr(n.readTime):Ce.min(),a=Dt.newNoDocument(i,s),o=n.removedTargetIds||[];r=new Mg([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=eA(t,n.document),s=n.removedTargetIds||[];r=new Mg([],s,i,null)}else{if(!("filter"in e))return ve();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new tG(i,s),o=n.targetId;r=new VO(o,a)}}return r}function km(t,e){let r;if(e instanceof Tu)r={update:BT(t,e.key,e.value)};else if(e instanceof kC)r={delete:Qm(t,e.key)};else if(e instanceof co)r={update:BT(t,e.key,e.data),updateMask:vG(e.fieldMask)};else{if(!(e instanceof LO))return ve();r={verify:Qm(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof ru)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof nu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof iu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof $d)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw ve()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:uG(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ve()}(t,e.precondition)),r}function Wx(t,e){const r=e.currentDocument?function(s){return s.updateTime!==void 0?bn.updateTime(zr(s.updateTime)):s.exists!==void 0?bn.exists(s.exists):bn.none()}(e.currentDocument):bn.none(),n=e.updateTransforms?e.updateTransforms.map(i=>function(a,o){let A=null;if("setToServerValue"in o)xe(o.setToServerValue==="REQUEST_TIME"),A=new ru;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];A=new nu(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];A=new iu(u)}else"increment"in o?A=new $d(a,o.increment):ve();const l=bt.fromServerFormat(o.fieldPath);return new jO(l,A)}(t,i)):[];if(e.update){e.update.name;const i=eA(t,e.update.name),s=new nn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(A){const l=A.fieldPaths||[];return new zn(l.map(u=>bt.fromServerFormat(u)))}(e.updateMask);return new co(i,s,a,r,n)}return new Tu(i,s,r,n)}if(e.delete){const i=eA(t,e.delete);return new kC(i,r)}if(e.verify){const i=eA(t,e.verify);return new LO(i,r)}return ve()}function fG(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(r=>function(i,s){let a=i.updateTime?zr(i.updateTime):zr(s);return a.isEqual(Ce.min())&&(a=zr(s)),new J9(a,i.transformResults||[])}(r,e))):[]}function XO(t,e){return{documents:[WO(t,e.path)]}}function qO(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=WO(t,i);const s=function(l){if(l.length!==0)return e4(tt.create(l,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:ol(f.field),direction:gG(f.dir)}}(u))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=Kx(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:r,parent:i}}function JO(t){let e=zO(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){xe(n===1);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];r.where&&(s=function(d){const f=ZO(d);return f instanceof tt&&NC(f)?f.getFilters():[f]}(r.where));let a=[];r.orderBy&&(a=function(d){return d.map(f=>function(m){return new Fm(Al(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(r.orderBy));let o=null;r.limit&&(o=function(d){let f;return f=typeof d=="object"?d.value:d,c0(f)?null:f}(r.limit));let A=null;r.startAt&&(A=function(d){const f=!!d.before,g=d.values||[];return new eu(g,f)}(r.startAt));let l=null;return r.endAt&&(l=function(d){const f=!d.before,g=d.values||[];return new eu(g,f)}(r.endAt)),j9(e,i,a,s,o,"F",A,l)}function hG(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function ZO(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Al(r.unaryFilter.field);return Le.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Al(r.unaryFilter.field);return Le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Al(r.unaryFilter.field);return Le.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Al(r.unaryFilter.field);return Le.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(r){return Le.create(Al(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return tt.create(r.compositeFilter.filters.map(n=>ZO(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ve()}}(r.compositeFilter.op))}(t):ve()}function gG(t){return aG[t]}function mG(t){return oG[t]}function pG(t){return AG[t]}function ol(t){return{fieldPath:t.canonicalString()}}function Al(t){return bt.fromServerFormat(t.fieldPath)}function e4(t){return t instanceof Le?function(r){if(r.op==="=="){if(aT(r.value))return{unaryFilter:{field:ol(r.field),op:"IS_NAN"}};if(sT(r.value))return{unaryFilter:{field:ol(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(aT(r.value))return{unaryFilter:{field:ol(r.field),op:"IS_NOT_NAN"}};if(sT(r.value))return{unaryFilter:{field:ol(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(r.field),op:mG(r.op),value:r.value}}}(t):t instanceof tt?function(r){const n=r.getFilters().map(i=>e4(i));return n.length===1?n[0]:{compositeFilter:{op:pG(r.op),filters:n}}}(t):ve()}function vG(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function t4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,r,n,i,s=Ce.min(),a=Ce.min(),o=Lt.EMPTY_BYTE_STRING,A=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=A}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.ct=e}}function yG(t,e){let r;if(e.document)r=cG(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=le.fromSegments(e.noDocument.path),i=vA(e.noDocument.readTime);r=Dt.newNoDocument(n,i),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return ve();{const n=le.fromSegments(e.unknownDocument.path),i=vA(e.unknownDocument.version);r=Dt.newUnknownDocument(n,i)}}return e.readTime&&r.setReadTime(function(i){const s=new Et(i[0],i[1]);return Ce.fromTimestamp(s)}(e.readTime)),r}function CT(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Om(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(s,a){return{name:Qm(s,a.key),fields:a.data.value.mapValue.fields,updateTime:su(s,a.version.toTimestamp()),createTime:su(s,a.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:pA(e.version)};else{if(!e.isUnknownDocument())return ve();n.unknownDocument={path:r.path.toArray(),version:pA(e.version)}}return n}function Om(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function pA(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vA(t){const e=new Et(t.seconds,t.nanoseconds);return Ce.fromTimestamp(e)}function Do(t,e){const r=(e.baseMutations||[]).map(s=>Wx(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const n=e.mutations.map(s=>Wx(t.ct,s)),i=Et.fromMillis(e.localWriteTimeMs);return new OC(e.batchId,i,r,n)}function Oc(t){const e=vA(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?vA(t.lastLimboFreeSnapshotVersion):Ce.min();let n;return n=function(s){return s.documents!==void 0}(t.query)?function(s){return xe(s.documents.length===1),ei(yf(zO(s.documents[0])))}(t.query):function(s){return ei(JO(s))}(t.query),new us(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,Lt.fromBase64String(t.resumeToken))}function n4(t,e){const r=pA(e.snapshotVersion),n=pA(e.lastLimboFreeSnapshotVersion);let i;i=Um(e.target)?XO(t.ct,e.target):qO(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:mA(e.target),readTime:r,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function i4(t){const e=JO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nm(e,e.limit,"L"):e}function Qy(t,e){return new jC(e.largestBatchId,Wx(t.ct,e.overlayMutation))}function ET(t,e){const r=e.path.lastSegment();return[t,Wr(e.path.popLast()),r]}function _T(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:pA(n.readTime),documentKey:Wr(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{getBundleMetadata(e,r){return IT(e).get(r).next(n=>{if(n)return function(s){return{id:s.bundleId,createTime:vA(s.createTime),version:s.version}}(n)})}saveBundleMetadata(e,r){return IT(e).put(function(i){return{bundleId:i.id,createTime:pA(zr(i.createTime)),version:i.version}}(r))}getNamedQuery(e,r){return ST(e).get(r).next(n=>{if(n)return function(s){return{name:s.name,query:i4(s.bundledQuery),readTime:vA(s.readTime)}}(n)})}saveNamedQuery(e,r){return ST(e).put(function(i){return{name:i.name,readTime:pA(zr(i.readTime)),bundledQuery:i.bundledQuery}}(r))}}function IT(t){return Zt(t,"bundles")}function ST(t){return Zt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){const n=r.uid||"";return new v0(e,n)}getOverlay(e,r){return uc(e).get(ET(this.userId,r)).next(n=>n?Qy(this.serializer,n):null)}getOverlays(e,r){const n=Ni();return V.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){const i=[];return n.forEach((s,a)=>{const o=new jC(r,a);i.push(this.ht(e,o))}),V.waitFor(i)}removeOverlaysForBatchId(e,r,n){const i=new Set;r.forEach(a=>i.add(Wr(a.getCollectionPath())));const s=[];return i.forEach(a=>{const o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,n+1],!1,!0);s.push(uc(e).j("collectionPathOverlayIndex",o))}),V.waitFor(s)}getOverlaysForCollection(e,r,n){const i=Ni(),s=Wr(r),a=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return uc(e).U("collectionPathOverlayIndex",a).next(o=>{for(const A of o){const l=Qy(this.serializer,A);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,r,n,i){const s=Ni();let a;const o=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return uc(e).J({index:"collectionGroupOverlayIndex",range:o},(A,l,u)=>{const d=Qy(this.serializer,l);s.size()<i||d.largestBatchId===a?(s.set(d.getKey(),d),a=d.largestBatchId):u.done()}).next(()=>s)}ht(e,r){return uc(e).put(function(i,s,a){const[o,A,l]=ET(s,a.mutation.key);return{userId:s,collectionPath:A,documentId:l,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:km(i.ct,a.mutation)}}(this.serializer,this.userId,r))}}function uc(t){return Zt(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{Pt(e){return Zt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const n=r==null?void 0:r.value;return n?Lt.fromUint8Array(n):Lt.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(wt(e.integerValue));else if("doubleValue"in e){const n=wt(e.doubleValue);isNaN(n)?this.dt(r,13):(this.dt(r,15),Ld(n)?r.At(0):r.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(r,20),typeof n=="string"&&(n=_s(n)),r.Rt(`${n.seconds||""}`),r.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(za(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(r,45),r.At(n.latitude||0),r.At(n.longitude||0)}else"mapValue"in e?vO(e)?this.dt(r,Number.MAX_SAFE_INTEGER):d0(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):ve()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const n=e.fields||{};this.dt(r,55);for(const i of Object.keys(n))this.Vt(i,r),this.Tt(n[i],r)}wt(e,r){var n,i;const s=e.fields||{};this.dt(r,53);const a="value",o=((i=(n=s[a].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.length)||0;this.dt(r,15),r.At(wt(o)),this.Vt(a,r),this.Tt(s[a],r)}bt(e,r){const n=e.values||[];this.dt(r,50);for(const i of n)this.Tt(i,r)}yt(e,r){this.dt(r,37),le.fromName(e).path.forEach(n=>{this.dt(r,60),this.Dt(n,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}jo.vt=new jo;function bG(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function TT(t){const e=64-function(n){let i=0;for(let s=0;s<8;++s){const a=bG(255&n[s]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class BG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ft(n.value),n=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ot(n.value),n=r.next();this.Nt()}Lt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const i=r.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const i=r.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const r=this.qt(e),n=TT(r);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=255&r[i]}Kt(e){const r=this.qt(e),n=TT(r);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=~(255&r[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)}(e),n=(128&r[0])!=0;r[0]^=n?255:128;for(let i=1;i<r.length;++i)r[i]^=n?255:0;return r}Ft(e){const r=255&e;r===0?(this.Ut(0),this.Ut(255)):r===255?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;r===0?(this.Gt(0),this.Gt(255)):r===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class CG{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class EG{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class cc{constructor(){this.jt=new BG,this.Ht=new CG(this.jt),this.Jt=new EG(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,r,n,i){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=i}Zt(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Ro(this.indexId,this.documentKey,this.arrayValue,n)}}function Js(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=FT(t.arrayValue,e.arrayValue),r!==0?r:(r=FT(t.directionalValue,e.directionalValue),r!==0?r:le.comparator(t.documentKey,e.documentKey)))}function FT(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){this.Xt=new rt((r,n)=>bt.comparator(r.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const n=r;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(xe(e.collectionGroup===this.collectionId),this.nn)return!1;const r=Dx(e);if(r!==void 0&&!this.sn(r))return!1;const n=Po(e);let i=new Set,s=0,a=0;for(;s<n.length&&this.sn(n[s]);++s)i=i.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.Xt.size>0){const o=this.Xt.getIterator().getNext();if(!i.has(o.field.canonicalString())){const A=n[s];if(!this.on(o,A)||!this._n(this.en[a++],A))return!1}++s}for(;s<n.length;++s){const o=n[s];if(a>=this.en.length||!this._n(this.en[a++],o))return!1}return!0}an(){if(this.nn)return null;let e=new rt(bt.comparator);const r=[];for(const n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new kg(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new kg(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new kg(n.field,n.dir==="asc"?0:1)));return new Tm(Tm.UNKNOWN_ID,this.collectionId,r,Md.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t){var e,r;if(xe(t instanceof Le||t instanceof tt),t instanceof Le){if(t instanceof IO){const i=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(s=>Le.create(t.field,"==",s)))||[];return tt.create(i,"or")}return t}const n=t.filters.map(i=>s4(i));return tt.create(n,t.op)}function _G(t){if(t.getFilters().length===0)return[];const e=Xx(s4(t));return xe(a4(e)),zx(e)||Yx(e)?[e]:e.getFilters()}function zx(t){return t instanceof Le}function Yx(t){return t instanceof tt&&NC(t)}function a4(t){return zx(t)||Yx(t)||function(r){if(r instanceof tt&&Lx(r)){for(const n of r.getFilters())if(!zx(n)&&!Yx(n))return!1;return!0}return!1}(t)}function Xx(t){if(xe(t instanceof Le||t instanceof tt),t instanceof Le)return t;if(t.filters.length===1)return Xx(t.filters[0]);const e=t.filters.map(n=>Xx(n));let r=tt.create(e,t.op);return r=Dm(r),a4(r)?r:(xe(r instanceof tt),xe(tu(r)),xe(r.filters.length>1),r.filters.reduce((n,i)=>LC(n,i)))}function LC(t,e){let r;return xe(t instanceof Le||t instanceof tt),xe(e instanceof Le||e instanceof tt),r=t instanceof Le?e instanceof Le?function(i,s){return tt.create([i,s],"and")}(t,e):PT(t,e):e instanceof Le?PT(e,t):function(i,s){if(xe(i.filters.length>0&&s.filters.length>0),tu(i)&&tu(s))return CO(i,s.getFilters());const a=Lx(i)?i:s,o=Lx(i)?s:i,A=a.filters.map(l=>LC(l,o));return tt.create(A,"or")}(t,e),Dm(r)}function PT(t,e){if(tu(e))return CO(e,t.getFilters());{const r=e.filters.map(n=>LC(t,n));return tt.create(r,"or")}}function Dm(t){if(xe(t instanceof Le||t instanceof tt),t instanceof Le)return t;const e=t.getFilters();if(e.length===1)return Dm(e[0]);if(bO(t))return t;const r=e.map(i=>Dm(i)),n=[];return r.forEach(i=>{i instanceof Le?n.push(i):i instanceof tt&&(i.op===t.op?n.push(...i.filters):n.push(i))}),n.length===1?n[0]:tt.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(){this.un=new HC}addToCollectionParentIndex(e,r){return this.un.add(r),V.resolve()}getCollectionParents(e,r){return V.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return V.resolve()}deleteFieldIndex(e,r){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,r){return V.resolve()}getDocumentsMatchingTarget(e,r){return V.resolve(null)}getIndexType(e,r){return V.resolve(0)}getFieldIndexes(e,r){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,r){return V.resolve(_n.min())}getMinOffsetFromCollectionGroup(e,r){return V.resolve(_n.min())}updateCollectionGroup(e,r,n){return V.resolve()}updateIndexEntries(e,r){return V.resolve()}}class HC{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new rt(Je.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new rt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new Uint8Array(0);class SG{constructor(e,r){this.databaseId=r,this.cn=new HC,this.ln=new uo(n=>mA(n),(n,i)=>vf(n,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const n=r.lastSegment(),i=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const s={collectionId:n,parent:Wr(i)};return NT(e).put(s)}return V.resolve()}getCollectionParents(e,r){const n=[],i=IDBKeyRange.bound([r,""],[oO(r),""],!1,!0);return NT(e).U(i).next(s=>{for(const a of s){if(a.collectionId!==r)break;n.push(Pi(a.parent))}return n})}addFieldIndex(e,r){const n=dc(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])}}(r);delete i.indexId;const s=n.add(i);if(r.indexState){const a=zA(e);return s.next(o=>{a.put(_T(o,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return s.next()}deleteFieldIndex(e,r){const n=dc(e),i=zA(e),s=WA(e);return n.delete(r.indexId).next(()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=dc(e),n=WA(e),i=zA(e);return r.j().next(()=>n.j()).next(()=>i.j())}createTargetIndexes(e,r){return V.forEach(this.hn(r),n=>this.getIndexType(e,n).next(i=>{if(i===0||i===1){const s=new UT(n).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,r){const n=WA(e);let i=!0;const s=new Map;return V.forEach(this.hn(r),a=>this.Pn(e,a).next(o=>{i&&(i=!!o),s.set(a,o)})).next(()=>{if(i){let a=De();const o=[];return V.forEach(s,(A,l)=>{ee("IndexedDbIndexManager",`Using index ${function(B){return`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map(I=>`${I.fieldPath}:${I.kind}`).join(",")}`}(A)} to execute ${mA(r)}`);const u=function(B,I){const T=Dx(I);if(T===void 0)return null;for(const F of Pm(B,T.fieldPath))switch(F.op){case"array-contains-any":return F.value.arrayValue.values||[];case"array-contains":return[F.value]}return null}(l,A),d=function(B,I){const T=new Map;for(const F of Po(I))for(const C of Pm(B,F.fieldPath))switch(C.op){case"==":case"in":T.set(F.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return T.set(F.fieldPath.canonicalString(),C.value),Array.from(T.values())}return null}(l,A),f=function(B,I){const T=[];let F=!0;for(const C of Po(I)){const _=C.kind===0?cT(B,C.fieldPath,B.startAt):dT(B,C.fieldPath,B.startAt);T.push(_.value),F&&(F=_.inclusive)}return new eu(T,F)}(l,A),g=function(B,I){const T=[];let F=!0;for(const C of Po(I)){const _=C.kind===0?dT(B,C.fieldPath,B.endAt):cT(B,C.fieldPath,B.endAt);T.push(_.value),F&&(F=_.inclusive)}return new eu(T,F)}(l,A),m=this.In(A,l,f),p=this.In(A,l,g),v=this.Tn(A,l,d),y=this.En(A.indexId,u,m,f.inclusive,p,g.inclusive,v);return V.forEach(y,w=>n.G(w,r.limit).next(B=>{B.forEach(I=>{const T=le.fromSegments(I.documentKey);a.has(T)||(a=a.add(T),o.push(T))})}))}).next(()=>o)}return V.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(e.filters.length===0?r=[e]:r=_G(tt.create(e.filters,"and")).map(n=>Vx(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,n,i,s,a,o){const A=(r!=null?r.length:1)*Math.max(n.length,s.length),l=A/(r!=null?r.length:1),u=[];for(let d=0;d<A;++d){const f=r?this.dn(r[d/l]):Fh,g=this.An(e,f,n[d%l],i),m=this.Rn(e,f,s[d%l],a),p=o.map(v=>this.An(e,f,v,!0));u.push(...this.createRange(g,m,p))}return u}An(e,r,n,i){const s=new Ro(e,le.empty(),r,n);return i?s:s.Zt()}Rn(e,r,n,i){const s=new Ro(e,le.empty(),r,n);return i?s.Zt():s}Pn(e,r){const n=new UT(r),i=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let a=null;for(const o of s)n.rn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a})}getIndexType(e,r){let n=2;const i=this.hn(r);return V.forEach(i,s=>this.Pn(e,s).next(a=>{a?n!==0&&a.fields.length<function(A){let l=new rt(bt.comparator),u=!1;for(const d of A.filters)for(const f of d.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:l=l.add(f.field));for(const d of A.orderBy)d.field.isKeyField()||(l=l.add(d.field));return l.size+(u?1:0)}(s)&&(n=1):n=0})).next(()=>function(a){return a.limit!==null}(r)&&i.length>1&&n===2?1:n)}Vn(e,r){const n=new cc;for(const i of Po(e)){const s=r.data.field(i.fieldPath);if(s==null)return null;const a=n.Yt(i.kind);jo.vt.It(s,a)}return n.zt()}dn(e){const r=new cc;return jo.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const n=new cc;return jo.vt.It(PC(this.databaseId,r),n.Yt(function(s){const a=Po(s);return a.length===0?0:a[a.length-1].kind}(e))),n.zt()}Tn(e,r,n){if(n===null)return[];let i=[];i.push(new cc);let s=0;for(const a of Po(e)){const o=n[s++];for(const A of i)if(this.fn(r,a.fieldPath)&&Kd(o))i=this.gn(i,a,o);else{const l=A.Yt(a.kind);jo.vt.It(o,l)}}return this.pn(i)}In(e,r,n){return this.Tn(e,r,n.position)}pn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].zt();return r}gn(e,r,n){const i=[...e],s=[];for(const a of n.arrayValue.values||[])for(const o of i){const A=new cc;A.seed(o.zt()),jo.vt.It(a,A.Yt(r.kind)),s.push(A)}return s}fn(e,r){return!!e.filters.find(n=>n instanceof Le&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,r){const n=dc(e),i=zA(e);return(r?n.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.U()).next(s=>{const a=[];return V.forEach(s,o=>i.get([o.indexId,this.uid]).next(A=>{a.push(function(u,d){const f=d?new Md(d.sequenceNumber,new _n(vA(d.readTime),new le(Pi(d.documentKey)),d.largestBatchId)):Md.empty(),g=u.fields.map(([m,p])=>new kg(bt.fromServerFormat(m),p));return new Tm(u.indexId,u.collectionGroup,g,f)}(o,A))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((n,i)=>{const s=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Qe(n.collectionGroup,i.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const i=dc(e),s=zA(e);return this.yn(e).next(a=>i.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(o=>V.forEach(o,A=>s.put(_T(A.indexId,this.uid,a,n)))))}updateIndexEntries(e,r){const n=new Map;return V.forEach(r,(i,s)=>{const a=n.get(i.collectionGroup);return(a?V.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(o=>(n.set(i.collectionGroup,o),V.forEach(o,A=>this.wn(e,i,A).next(l=>{const u=this.Sn(s,A);return l.isEqual(u)?V.resolve():this.bn(e,s,A,l,u)}))))})}Dn(e,r,n,i){return WA(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(n,r.key),documentKey:r.key.path.toArray()})}vn(e,r,n,i){return WA(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(n,r.key),r.key.path.toArray()])}wn(e,r,n){const i=WA(e);let s=new rt(Js);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,r)])},(a,o)=>{s=s.add(new Ro(n.indexId,r,o.arrayValue,o.directionalValue))}).next(()=>s)}Sn(e,r){let n=new rt(Js);const i=this.Vn(r,e);if(i==null)return n;const s=Dx(r);if(s!=null){const a=e.data.field(s.fieldPath);if(Kd(a))for(const o of a.arrayValue.values||[])n=n.add(new Ro(r.indexId,e.key,this.dn(o),i))}else n=n.add(new Ro(r.indexId,e.key,Fh,i));return n}bn(e,r,n,i,s){ee("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const a=[];return function(A,l,u,d,f){const g=A.getIterator(),m=l.getIterator();let p=GA(g),v=GA(m);for(;p||v;){let y=!1,w=!1;if(p&&v){const B=u(p,v);B<0?w=!0:B>0&&(y=!0)}else p!=null?w=!0:y=!0;y?(d(v),v=GA(m)):w?(f(p),p=GA(g)):(p=GA(g),v=GA(m))}}(i,s,Js,o=>{a.push(this.Dn(e,r,n,o))},o=>{a.push(this.vn(e,r,n,o))}),V.waitFor(a)}yn(e){let r=1;return zA(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,i,s)=>{s.done(),r=i.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((a,o)=>Js(a,o)).filter((a,o,A)=>!o||Js(a,A[o-1])!==0);const i=[];i.push(e);for(const a of n){const o=Js(a,e),A=Js(a,r);if(o===0)i[0]=e.Zt();else if(o>0&&A<0)i.push(a),i.push(a.Zt());else if(A>0)break}i.push(r);const s=[];for(let a=0;a<i.length;a+=2){if(this.Cn(i[a],i[a+1]))return[];const o=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,Fh,[]],A=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,Fh,[]];s.push(IDBKeyRange.bound(o,A))}return s}Cn(e,r){return Js(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(QT)}getMinOffset(e,r){return V.mapArray(this.hn(r),n=>this.Pn(e,n).next(i=>i||ve())).next(QT)}}function NT(t){return Zt(t,"collectionParents")}function WA(t){return Zt(t,"indexEntries")}function dc(t){return Zt(t,"indexConfiguration")}function zA(t){return Zt(t,"indexState")}function QT(t){xe(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const i=t[n].indexState.offset;IC(i,e)<0&&(e=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new _n(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class en{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t,e,r){const n=t.store("mutations"),i=t.store("documentMutations"),s=[],a=IDBKeyRange.only(r.batchId);let o=0;const A=n.J({range:a},(u,d,f)=>(o++,f.delete()));s.push(A.next(()=>{xe(o===1)}));const l=[];for(const u of r.mutations){const d=dO(e,u.key.path,r.batchId);s.push(i.delete(d)),l.push(u.key)}return V.waitFor(s).next(()=>l)}function jm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ve();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(41943040,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);class y0{constructor(e,r,n,i){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=i,this.Fn={}}static lt(e,r,n,i){xe(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new y0(s,r,n,i)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zs(e).J({index:"userMutationsIndex",range:n},(i,s,a)=>{r=!1,a.done()}).next(()=>r)}addMutationBatch(e,r,n,i){const s=ll(e),a=Zs(e);return a.add({}).next(o=>{xe(typeof o=="number");const A=new OC(o,r,n,i),l=function(g,m,p){const v=p.baseMutations.map(w=>km(g.ct,w)),y=p.mutations.map(w=>km(g.ct,w));return{userId:m,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:v,mutations:y}}(this.serializer,this.userId,A),u=[];let d=new rt((f,g)=>Qe(f.canonicalString(),g.canonicalString()));for(const f of i){const g=dO(this.userId,f.key.path,o);d=d.add(f.key.path.popLast()),u.push(a.put(l)),u.push(s.put(g,A9))}return d.forEach(f=>{u.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[o]=A.keys()}),V.waitFor(u).next(()=>A)})}lookupMutationBatch(e,r){return Zs(e).get(r).next(n=>n?(xe(n.userId===this.userId),Do(this.serializer,n)):null)}Mn(e,r){return this.Fn[r]?V.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const i=n.keys();return this.Fn[r]=i,i}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return Zs(e).J({index:"userMutationsIndex",range:i},(a,o,A)=>{o.userId===this.userId&&(xe(o.batchId>=n),s=Do(this.serializer,o)),A.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Zs(e).J({index:"userMutationsIndex",range:r,reverse:!0},(i,s,a)=>{n=s.batchId,a.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zs(e).U("userMutationsIndex",r).next(n=>n.map(i=>Do(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=Og(this.userId,r.path),i=IDBKeyRange.lowerBound(n),s=[];return ll(e).J({range:i},(a,o,A)=>{const[l,u,d]=a,f=Pi(u);if(l===this.userId&&r.path.isEqual(f))return Zs(e).get(d).next(g=>{if(!g)throw ve();xe(g.userId===this.userId),s.push(Do(this.serializer,g))});A.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new rt(Qe);const i=[];return r.forEach(s=>{const a=Og(this.userId,s.path),o=IDBKeyRange.lowerBound(a),A=ll(e).J({range:o},(l,u,d)=>{const[f,g,m]=l,p=Pi(g);f===this.userId&&s.path.isEqual(p)?n=n.add(m):d.done()});i.push(A)}),V.waitFor(i).next(()=>this.xn(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1,s=Og(this.userId,n),a=IDBKeyRange.lowerBound(s);let o=new rt(Qe);return ll(e).J({range:a},(A,l,u)=>{const[d,f,g]=A,m=Pi(f);d===this.userId&&n.isPrefixOf(m)?m.length===i&&(o=o.add(g)):u.done()}).next(()=>this.xn(e,o))}xn(e,r){const n=[],i=[];return r.forEach(s=>{i.push(Zs(e).get(s).next(a=>{if(a===null)throw ve();xe(a.userId===this.userId),n.push(Do(this.serializer,a))}))}),V.waitFor(i).next(()=>n)}removeMutationBatch(e,r){return o4(e._e,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),V.forEach(n,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return V.resolve();const n=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return ll(e).J({range:n},(s,a,o)=>{if(s[0]===this.userId){const A=Pi(s[1]);i.push(A)}else o.done()}).next(()=>{xe(i.length===0)})})}containsKey(e,r){return A4(e,this.userId,r)}Nn(e){return l4(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function A4(t,e,r){const n=Og(e,r.path),i=n[1],s=IDBKeyRange.lowerBound(n);let a=!1;return ll(t).J({range:s,H:!0},(o,A,l)=>{const[u,d,f]=o;u===e&&d===i&&(a=!0),l.done()}).next(()=>a)}function Zs(t){return Zt(t,"mutations")}function ll(t){return Zt(t,"documentMutations")}function l4(t){return Zt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new yA(0)}static kn(){return new yA(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const n=new yA(r.highestTargetId);return r.highestTargetId=n.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>Ce.fromTimestamp(new Et(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.qn(e).next(i=>(i.highestListenSequenceNumber=r,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),r>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r),this.Qn(e,i)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(n=>(n.targetCount+=1,this.$n(r,n),this.Qn(e,n))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>YA(e).delete(r.targetId)).next(()=>this.qn(e)).next(n=>(xe(n.targetCount>0),n.targetCount-=1,this.Qn(e,n)))}removeTargets(e,r,n){let i=0;const s=[];return YA(e).J((a,o)=>{const A=Oc(o);A.sequenceNumber<=r&&n.get(A.targetId)===null&&(i++,s.push(this.removeTargetData(e,A)))}).next(()=>V.waitFor(s)).next(()=>i)}forEachTarget(e,r){return YA(e).J((n,i)=>{const s=Oc(i);r(s)})}qn(e){return OT(e).get("targetGlobalKey").next(r=>(xe(r!==null),r))}Qn(e,r){return OT(e).put("targetGlobalKey",r)}Kn(e,r){return YA(e).put(n4(this.serializer,r))}$n(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const n=mA(r),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return YA(e).J({range:i,index:"queryTargetsIndex"},(a,o,A)=>{const l=Oc(o);vf(r,l.target)&&(s=l,A.done())}).next(()=>s)}addMatchingKeys(e,r,n){const i=[],s=ca(e);return r.forEach(a=>{const o=Wr(a.path);i.push(s.put({targetId:n,path:o})),i.push(this.referenceDelegate.addReference(e,n,a))}),V.waitFor(i)}removeMatchingKeys(e,r,n){const i=ca(e);return V.forEach(r,s=>{const a=Wr(s.path);return V.waitFor([i.delete([n,a]),this.referenceDelegate.removeReference(e,n,s)])})}removeMatchingKeysForTargetId(e,r){const n=ca(e),i=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),i=ca(e);let s=De();return i.J({range:n,H:!0},(a,o,A)=>{const l=Pi(a[1]),u=new le(l);s=s.add(u)}).next(()=>s)}containsKey(e,r){const n=Wr(r.path),i=IDBKeyRange.bound([n],[oO(n)],!1,!0);let s=0;return ca(e).J({index:"documentTargetsIndex",H:!0,range:i},([a,o],A,l)=>{a!==0&&(s++,l.done())}).next(()=>s>0)}ot(e,r){return YA(e).get(r).next(n=>n?Oc(n):null)}}function YA(t){return Zt(t,"targets")}function OT(t){return Zt(t,"targetGlobal")}function ca(t){return Zt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT([t,e],[r,n]){const i=Qe(t,r);return i===0?Qe(e,n):i}class FG{constructor(e){this.Un=e,this.buffer=new rt(DT),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();DT(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class UG{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){ee("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){lo(r)?ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await TA(r)}await this.Hn(3e5)})}}class PG{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return V.resolve(Wn.oe);const n=new FG(r);return this.Jn.forEachTarget(e,i=>n.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>n.zn(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(kT)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kT):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let n,i,s,a,o,A,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,a=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(n=d,o=Date.now(),this.removeTargets(e,n,r))).next(d=>(s=d,A=Date.now(),this.removeOrphanedDocuments(e,n))).next(d=>(l=Date.now(),sl()<=Me.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(A-o)+`ms
	Removed ${d} documents in `+(l-A)+`ms
Total Duration: ${l-u}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function NG(t,e){return new PG(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(e,r){this.db=e,this.garbageCollector=NG(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}er(e){let r=0;return this.Zn(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(n,i)=>r(i))}addReference(e,r,n){return Uh(e,n)}removeReference(e,r,n){return Uh(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return Uh(e,r)}nr(e,r){return function(i,s){let a=!1;return l4(i).Y(o=>A4(i,o,s).next(A=>(A&&(a=!0),V.resolve(!A)))).next(()=>a)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(a,o)=>{if(o<=r){const A=this.nr(e,a).next(l=>{if(!l)return s++,n.getEntry(e,a).next(()=>(n.removeEntry(a,Ce.min()),ca(e).delete(function(d){return[0,Wr(d.path)]}(a))))});i.push(A)}}).next(()=>V.waitFor(i)).next(()=>n.apply(e)).next(()=>s)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return Uh(e,r)}tr(e,r){const n=ca(e);let i,s=Wn.oe;return n.J({index:"documentTargetsIndex"},([a,o],{path:A,sequenceNumber:l})=>{a===0?(s!==Wn.oe&&r(new le(Pi(i)),s),s=l,i=A):s=Wn.oe}).next(()=>{s!==Wn.oe&&r(new le(Pi(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Uh(t,e){return ca(t).put(function(n,i){return{targetId:0,path:Wr(n.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.changes=new uo(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?V.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return Io(e).put(n)}removeEntry(e,r,n){return Io(e).delete(function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Om(a),o[o.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.rr(e,n)))}getEntry(e,r){let n=Dt.newInvalidDocument(r);return Io(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(fc(r))},(i,s)=>{n=this.ir(r,s)}).next(()=>n)}sr(e,r){let n={size:0,document:Dt.newInvalidDocument(r)};return Io(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(fc(r))},(i,s)=>{n={document:this.ir(r,s),size:jm(s)}}).next(()=>n)}getEntries(e,r){let n=xn();return this._r(e,r,(i,s)=>{const a=this.ir(i,s);n=n.insert(i,a)}).next(()=>n)}ar(e,r){let n=xn(),i=new _t(le.comparator);return this._r(e,r,(s,a)=>{const o=this.ir(s,a);n=n.insert(s,o),i=i.insert(s,jm(a))}).next(()=>({documents:n,ur:i}))}_r(e,r,n){if(r.isEmpty())return V.resolve();let i=new rt(MT);r.forEach(A=>i=i.add(A));const s=IDBKeyRange.bound(fc(i.first()),fc(i.last())),a=i.getIterator();let o=a.getNext();return Io(e).J({index:"documentKeyIndex",range:s},(A,l,u)=>{const d=le.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;o&&MT(o,d)<0;)n(o,null),o=a.getNext();o&&o.isEqual(d)&&(n(o,l),o=a.hasNext()?a.getNext():null),o?u.$(fc(o)):u.done()}).next(()=>{for(;o;)n(o,null),o=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,r,n,i,s){const a=r.path,o=[a.popLast().toArray(),a.lastSegment(),Om(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],A=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Io(e).U(IDBKeyRange.bound(o,A,!0)).next(l=>{s==null||s.incrementDocumentReadCount(l.length);let u=xn();for(const d of l){const f=this.ir(le.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);f.isFoundDocument()&&(wf(r,f)||i.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(e,r,n,i){let s=xn();const a=RT(r,n),o=RT(r,_n.max());return Io(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,o,!0)},(A,l,u)=>{const d=this.ir(le.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new OG(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return jT(e).get("remoteDocumentGlobalKey").next(r=>(xe(!!r),r))}rr(e,r){return jT(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const n=yG(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(Ce.min())))return n}return Dt.newInvalidDocument(e)}}function c4(t){return new kG(t)}class OG extends u4{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new uo(n=>n.toString(),(n,i)=>n.isEqual(i))}applyChanges(e){const r=[];let n=0,i=new rt((s,a)=>Qe(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const o=this.lr.get(s);if(r.push(this.cr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const A=CT(this.cr.serializer,a);i=i.add(s.path.popLast());const l=jm(A);n+=l-o.size,r.push(this.cr.addEntry(e,s,A))}else if(n-=o.size,this.trackRemovals){const A=CT(this.cr.serializer,a.convertToNoDocument(Ce.min()));r.push(this.cr.addEntry(e,s,A))}}),i.forEach(s=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),r.push(this.cr.updateMetadata(e,n)),V.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(n=>(this.lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:n,ur:i})=>(i.forEach((s,a)=>{this.lr.set(s,{size:a,readTime:n.get(s).readTime})}),n))}}function jT(t){return Zt(t,"remoteDocumentGlobal")}function Io(t){return Zt(t,"remoteDocumentsV14")}function fc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function RT(t,e){const r=e.documentKey.path.toArray();return[t,Om(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function MT(t,e){const r=t.path.toArray(),n=e.path.toArray();let i=0;for(let s=0;s<r.length-2&&s<n.length-2;++s)if(i=Qe(r[s],n[s]),i)return i;return i=Qe(r.length,n.length),i||(i=Qe(r[r.length-2],n[n.length-2]),i||Qe(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&sd(n.mutation,i,zn.empty(),Et.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,De()).next(()=>n))}getLocalViewOfDocuments(e,r,n=De()){const i=Ni();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=Qc();return s.forEach((o,A)=>{a=a.insert(o,A.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=Ni();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,De()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=xn();const a=id(),o=function(){return id()}();return r.forEach((A,l)=>{const u=n.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof co)?s=s.insert(l.key,l):u!==void 0?(a.set(l.key,u.mutation.getFieldMask()),sd(u.mutation,l,u.mutation.getFieldMask(),Et.now())):a.set(l.key,zn.empty())}),this.recalculateAndSaveOverlays(e,s).next(A=>(A.forEach((l,u)=>a.set(l,u)),r.forEach((l,u)=>{var d;return o.set(l,new DG(u,(d=a.get(l))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(e,r){const n=id();let i=new _t((a,o)=>a-o),s=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(A=>{const l=r.get(A);if(l===null)return;let u=n.get(A)||zn.empty();u=o.applyToLocalView(l,u),n.set(A,u);const d=(i.get(o.batchId)||De()).add(A);i=i.insert(o.batchId,d)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const A=o.getNext(),l=A.key,u=A.value,d=PO();u.forEach(f=>{if(!s.has(f)){const g=RO(r.get(f),n.get(f));g!==null&&d.set(f,g),s=s.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,l,d))}return V.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return le.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):R9(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):V.resolve(Ni());let o=-1,A=s;return a.next(l=>V.forEach(l,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),s.get(u)?V.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{A=A.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,A,l,De())).next(u=>({batchId:o,changes:UO(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new le(r)).next(n=>{let i=Qc();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=Qc();return this.indexManager.getCollectionParents(e,s).next(o=>V.forEach(o,A=>{const l=function(d,f){return new f0(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,A.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,n,i).next(u=>{u.forEach((d,f)=>{a=a.insert(d,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((A,l)=>{const u=l.getKey();a.get(u)===null&&(a=a.insert(u,Dt.newInvalidDocument(u)))});let o=Qc();return a.forEach((A,l)=>{const u=s.get(A);u!==void 0&&sd(u.mutation,l,zn.empty(),Et.now()),wf(r,l)&&(o=o.insert(A,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return V.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:zr(i.createTime)}}(r)),V.resolve()}getNamedQuery(e,r){return V.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:i4(i.bundledQuery),readTime:zr(i.readTime)}}(r)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(){this.overlays=new _t(le.comparator),this.Ir=new Map}getOverlay(e,r){return V.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ni();return V.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),V.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),V.resolve()}getOverlaysForCollection(e,r,n){const i=Ni(),s=r.length+1,a=new le(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const A=o.getNext().value,l=A.getKey();if(!r.isPrefixOf(l.path))break;l.path.length===s&&A.largestBatchId>n&&i.set(A.getKey(),A)}return V.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new _t((l,u)=>l-u);const a=this.overlays.getIterator();for(;a.hasNext();){const l=a.getNext().value;if(l.getKey().getCollectionGroup()===r&&l.largestBatchId>n){let u=s.get(l.largestBatchId);u===null&&(u=Ni(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const o=Ni(),A=s.getIterator();for(;A.hasNext()&&(A.getNext().value.forEach((l,u)=>o.set(l,u)),!(o.size()>=i)););return V.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new jC(r,n));let s=this.Ir.get(r);s===void 0&&(s=De(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.Tr=new rt(ar.Er),this.dr=new rt(ar.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new ar(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new ar(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new le(new Je([])),n=new ar(r,e),i=new ar(r,e+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new le(new Je([])),n=new ar(r,e),i=new ar(r,e+1);let s=De();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new ar(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class ar{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return le.comparator(e.key,r.key)||Qe(e.wr,r.wr)}static Ar(e,r){return Qe(e.wr,r.wr)||le.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new rt(ar.Er)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new OC(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new ar(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return V.resolve(a)}lookupMutationBatch(e,r){return V.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new ar(r,0),i=new ar(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const o=this.Dr(a.wr);s.push(o)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new rt(Qe);return r.forEach(i=>{const s=new ar(i,0),a=new ar(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{n=n.add(o.wr)})}),V.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;le.isDocumentKey(s)||(s=s.child(""));const a=new ar(new le(s),0);let o=new rt(Qe);return this.br.forEachWhile(A=>{const l=A.key.path;return!!n.isPrefixOf(l)&&(l.length===i&&(o=o.add(A.wr)),!0)},a),V.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){xe(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return V.forEach(r.mutations,i=>{const s=new ar(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new ar(r,0),i=this.br.firstAfterOrEqual(n);return V.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(e){this.Mr=e,this.docs=function(){return new _t(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return V.resolve(n?n.document.mutableCopy():Dt.newInvalidDocument(r))}getEntries(e,r){let n=xn();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Dt.newInvalidDocument(i))}),V.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=xn();const a=r.path,o=new le(a.child("")),A=this.docs.getIteratorFrom(o);for(;A.hasNext();){const{key:l,value:{document:u}}=A.getNext();if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||IC(AO(u),n)<=0||(i.has(u.key)||wf(r,u))&&(s=s.insert(u.key,u.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,r,n,i){ve()}Or(e,r){return V.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new VG(this)}getSize(e){return V.resolve(this.size)}}class VG extends u4{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),V.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(e){this.persistence=e,this.Nr=new uo(r=>mA(r),vf),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new VC,this.targetCount=0,this.kr=yA.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),V.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new yA(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,V.resolve()}updateTargetData(e,r){return this.Kn(r),V.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return V.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),V.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),V.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return V.resolve(n)}containsKey(e,r){return V.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Wn(0),this.Kr=!1,this.Kr=!0,this.$r=new MG,this.referenceDelegate=e(this),this.Ur=new KG(this),this.indexManager=new IG,this.remoteDocumentCache=function(i){return new HG(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new r4(r),this.Gr=new jG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new RG,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new LG(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){ee("MemoryPersistence","Starting transaction:",e);const i=new $G(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return V.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class $G extends uO{constructor(e){super(),this.currentSequenceNumber=e}}class w0{constructor(e){this.persistence=e,this.Jr=new VC,this.Yr=null}static Zr(e){return new w0(e)}get Xr(){if(this.Yr)return this.Yr;throw ve()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),V.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),V.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),V.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Xr,n=>{const i=le.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,Ce.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return V.or([()=>V.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e){this.serializer=e}O(e,r,n,i){const s=new u0("createOrUpgrade",r);n<1&&i>=1&&(function(A){A.createObjectStore("owner")}(e),function(A){A.createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",eT,{unique:!0}),A.createObjectStore("documentMutations")}(e),LT(e),function(A){A.createObjectStore("remoteDocuments")}(e));let a=V.resolve();return n<3&&i>=3&&(n!==0&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),LT(e)),a=a.next(()=>function(A){const l=A.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ce.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),n<4&&i>=4&&(n!==0&&(a=a.next(()=>function(A,l){return l.store("mutations").U().next(u=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",eT,{unique:!0});const d=l.store("mutations"),f=u.map(g=>d.put(g));return V.waitFor(f)})}(e,s))),a=a.next(()=>{(function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),n<5&&i>=5&&(a=a.next(()=>this.ni(s))),n<6&&i>=6&&(a=a.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),n<7&&i>=7&&(a=a.next(()=>this.ii(s))),n<8&&i>=8&&(a=a.next(()=>this.si(e,s))),n<9&&i>=9&&(a=a.next(()=>{(function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&i>=10&&(a=a.next(()=>this.oi(s))),n<11&&i>=11&&(a=a.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&i>=12&&(a=a.next(()=>{(function(A){const l=A.createObjectStore("documentOverlays",{keyPath:w9});l.createIndex("collectionPathOverlayIndex",x9,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",b9,{unique:!1})})(e)})),n<13&&i>=13&&(a=a.next(()=>function(A){const l=A.createObjectStore("remoteDocumentsV14",{keyPath:l9});l.createIndex("documentKeyIndex",u9),l.createIndex("collectionGroupIndex",c9)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&i>=14&&(a=a.next(()=>this.ai(e,s))),n<15&&i>=15&&(a=a.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:m9}).createIndex("sequenceNumberIndex",p9,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:v9}).createIndex("documentKeyIndex",y9,{unique:!1})}(e))),n<16&&i>=16&&(a=a.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),n<17&&i>=17&&(a=a.next(()=>{(function(A){A.createObjectStore("globals",{keyPath:"name"})})(e)})),a}ri(e){let r=0;return e.store("remoteDocuments").J((n,i)=>{r+=jm(i)}).next(()=>{const n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}ni(e){const r=e.store("mutationQueues"),n=e.store("mutations");return r.U().next(i=>V.forEach(i,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",a).next(o=>V.forEach(o,A=>{xe(A.userId===s.userId);const l=Do(this.serializer,A);return o4(e,s.userId,l).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return n.J((a,o)=>{const A=new Je(a),l=function(d){return[0,Wr(d)]}(A);s.push(r.get(l).next(u=>u?V.resolve():(d=>r.put({targetId:0,path:Wr(d),sequenceNumber:i.highestListenSequenceNumber}))(A)))}).next(()=>V.waitFor(s))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:g9});const n=r.store("collectionParents"),i=new HC,s=a=>{if(i.add(a)){const o=a.lastSegment(),A=a.popLast();return n.put({collectionId:o,parent:Wr(A)})}};return r.store("remoteDocuments").J({H:!0},(a,o)=>{const A=new Je(a);return s(A.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([a,o,A],l)=>{const u=Pi(o);return s(u.popLast())}))}oi(e){const r=e.store("targets");return r.J((n,i)=>{const s=Oc(i),a=n4(this.serializer,s);return r.put(a)})}_i(e,r){const n=r.store("remoteDocuments"),i=[];return n.J((s,a)=>{const o=r.store("remoteDocumentsV14"),A=function(d){return d.document?new le(Je.fromString(d.document.name).popFirst(5)):d.noDocument?le.fromSegments(d.noDocument.path):d.unknownDocument?le.fromSegments(d.unknownDocument.path):ve()}(a).path.toArray(),l={prefixPath:A.slice(0,A.length-2),collectionGroup:A[A.length-2],documentId:A[A.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(l))}).next(()=>V.waitFor(i))}ai(e,r){const n=r.store("mutations"),i=c4(this.serializer),s=new f4(w0.Zr,this.serializer.ct);return n.U().next(a=>{const o=new Map;return a.forEach(A=>{var l;let u=(l=o.get(A.userId))!==null&&l!==void 0?l:De();Do(this.serializer,A).keys().forEach(d=>u=u.add(d)),o.set(A.userId,u)}),V.forEach(o,(A,l)=>{const u=new yr(l),d=v0.lt(this.serializer,u),f=s.getIndexManager(u),g=y0.lt(u,this.serializer,f,s.referenceDelegate);return new d4(i,g,d,f).recalculateAndSaveOverlaysForDocumentKeys(new jx(r,Wn.oe),A).next()})})}}function LT(t){t.createObjectStore("targetDocuments",{keyPath:f9}).createIndex("documentTargetsIndex",h9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",d9,{unique:!0}),t.createObjectStore("targetGlobal")}const ky="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class KC{constructor(e,r,n,i,s,a,o,A,l,u,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ui=s,this.window=a,this.document=o,this.ci=l,this.li=u,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!KC.D())throw new he(Y.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QG(this,i),this.Ai=r+"main",this.serializer=new r4(A),this.Ri=new Da(this.Ai,this.hi,new GG(this.serializer)),this.$r=new xG,this.Ur=new TG(this.referenceDelegate,this.serializer),this.remoteDocumentCache=c4(this.serializer),this.Gr=new wG,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,u===!1&&Kr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new he(Y.FAILED_PRECONDITION,ky);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Wn(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ph(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(lo(e))return ee("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ee("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return hc(e).get("owner").next(r=>V.resolve(this.vi(r)))}Ci(e){return Ph(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const n=Zt(r,"clientMetadata");return n.U().next(i=>{const s=this.xi(i,18e5),a=i.filter(o=>s.indexOf(o)===-1);return V.forEach(a,o=>n.delete(o.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Vi)for(const r of e)this.Vi.removeItem(this.Oi(r.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?V.resolve(!0):hc(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new he(Y.FAILED_PRECONDITION,ky);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ph(e).U().next(n=>this.xi(n,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&ee("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new jx(e,Wn.oe);return this.bi(r).next(()=>this.Ci(r))}),this.Ri.close(),this.qi()}xi(e,r){return e.filter(n=>this.Mi(n.updateTimeMs,r)&&!this.Ni(n.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Ph(e).U().next(r=>this.xi(r,18e5).map(n=>n.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return y0.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new SG(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return v0.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,n){ee("IndexedDbPersistence","Starting transaction:",e);const i=r==="readonly"?"readonly":"readwrite",s=function(A){return A===17?E9:A===16?C9:A===15?TC:A===14?gO:A===13?hO:A===12?B9:A===11?fO:void ve()}(this.hi);let a;return this.Ri.runTransaction(e,i,s,o=>(a=new jx(o,this.Qr?this.Qr.next():Wn.oe),r==="readwrite-primary"?this.wi(a).next(A=>!!A||this.Si(a)).next(A=>{if(!A)throw Kr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new he(Y.FAILED_PRECONDITION,lO);return n(a)}).next(A=>this.Di(a).next(()=>A)):this.Ki(a).next(()=>n(a)))).then(o=>(a.raiseOnCommittedEvent(),o))}Ki(e){return hc(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new he(Y.FAILED_PRECONDITION,ky)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return hc(e).put("owner",r)}static D(){return Da.D()}bi(e){const r=hc(e);return r.get("owner").next(n=>this.vi(n)?(ee("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):V.resolve())}Mi(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(Kr(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;$k()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const n=((r=this.Vi)===null||r===void 0?void 0:r.getItem(this.Oi(e)))!==null;return ee("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Kr("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Kr("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function hc(t){return Zt(t,"owner")}function Ph(t){return Zt(t,"clientMetadata")}function WG(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=De(),i=De();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new $C(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return $k()?8:cO(Jt())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new zG;return this.Xi(e,r,a).next(o=>{if(s.result=o,this.zi)return this.es(e,r,a,o.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(sl()<=Me.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",al(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),V.resolve()):(sl()<=Me.DEBUG&&ee("QueryEngine","Query:",al(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(sl()<=Me.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",al(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(r))):V.resolve())}Yi(e,r){if(fT(r))return V.resolve(null);let n=ei(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Nm(r,null,"F"),n=ei(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=De(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(A=>{const l=this.ts(r,o);return this.ns(r,l,a,A.readTime)?this.Yi(e,Nm(r,null,"F")):this.rs(e,l,r,A)}))})))}Zi(e,r,n,i){return fT(r)||i.isEqual(Ce.min())?V.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const a=this.ts(r,s);return this.ns(r,a,n,i)?V.resolve(null):(sl()<=Me.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),al(r)),this.rs(e,a,r,t9(i,-1)).next(o=>o))})}ts(e,r){let n=new rt(TO(e));return r.forEach((i,s)=>{wf(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return sl()<=Me.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",al(r)),this.Ji.getDocumentsMatchingQuery(e,r,_n.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new _t(Qe),this._s=new uo(s=>mA(s),vf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function g4(t,e,r,n){return new YG(t,e,r,n)}async function m4(t,e){const r=Ue(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let A=De();for(const l of i){a.push(l.batchId);for(const u of l.mutations)A=A.add(u.key)}for(const l of s){o.push(l.batchId);for(const u of l.mutations)A=A.add(u.key)}return r.localDocuments.getDocuments(n,A).next(l=>({hs:l,removedBatchIds:a,addedBatchIds:o}))})})}function XG(t,e){const r=Ue(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,A,l,u){const d=l.batch,f=d.keys();let g=V.resolve();return f.forEach(m=>{g=g.next(()=>u.getEntry(A,m)).next(p=>{const v=l.docVersions.get(m);xe(v!==null),p.version.compareTo(v)<0&&(d.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(A,d))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let A=De();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(A=A.add(o.batch.mutations[l].key));return A}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function p4(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function qG(t,e){const r=Ue(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;o.push(r.Ur.removeMatchingKeys(s,u.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(s,u.addedDocuments,d)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Lt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,n)),i=i.insert(d,g),function(p,v,y){return p.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,g,u)&&o.push(r.Ur.updateTargetData(s,g))});let A=xn(),l=De();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(JG(s,a,e.documentUpdates).next(u=>{A=u.Ps,l=u.Is})),!n.isEqual(Ce.min())){const u=r.Ur.getLastRemoteSnapshotVersion(s).next(d=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(u)}return V.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,A,l)).next(()=>A)}).then(s=>(r.os=i,s))}function JG(t,e,r){let n=De(),i=De();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=xn();return r.forEach((o,A)=>{const l=s.get(o);A.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(o)),A.isNoDocument()&&A.version.isEqual(Ce.min())?(e.removeEntry(o,A.readTime),a=a.insert(o,A)):!l.isValidDocument()||A.version.compareTo(l.version)>0||A.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(A),a=a.insert(o,A)):ee("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",A.version)}),{Ps:a,Is:i}})}function ZG(t,e){const r=Ue(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function eW(t,e){const r=Ue(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,V.resolve(i)):r.Ur.allocateTargetId(n).next(a=>(i=new us(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function qx(t,e,r){const n=Ue(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!lo(a))throw a;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function HT(t,e,r){const n=Ue(t);let i=Ce.min(),s=De();return n.persistence.runTransaction("Execute query","readwrite",a=>function(A,l,u){const d=Ue(A),f=d._s.get(u);return f!==void 0?V.resolve(d.os.get(f)):d.Ur.getTargetData(l,u)}(n,a,ei(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(A=>{s=A})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:Ce.min(),r?s:De())).next(o=>(tW(n,L9(e),o),{documents:o,Ts:s})))}function tW(t,e,r){let n=t.us.get(e)||Ce.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class VT{constructor(){this.activeTargetIds=W9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v4{constructor(){this.so=new VT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new VT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh=null;function Oy(){return Nh===null?Nh=function(){return 268435456+Math.round(2147483648*Math.random())}():Nh++,"0x"+Nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="WebChannelConnection";class sW extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,a){const o=Oy(),A=this.xo(r,n.toUriEncodedString());ee("RestConnection",`Sending RPC '${r}' ${o}:`,A,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,a),this.No(r,A,l,i).then(u=>(ee("RestConnection",`Received RPC '${r}' ${o}: `,u),u),u=>{throw Wa("RestConnection",`RPC '${r}' ${o} failed with error: `,u,"url: ",A,"request:",i),u})}Lo(r,n,i,s,a,o){return this.Mo(r,n,i,s,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Iu}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>r[a]=s),i&&i.headers.forEach((s,a)=>r[a]=s)}xo(r,n){const i=nW[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=Oy();return new Promise((a,o)=>{const A=new eO;A.setWithCredentials(!0),A.listenOnce(tO.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case Qg.NO_ERROR:const u=A.getResponseJson();ee(Fr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),a(u);break;case Qg.TIMEOUT:ee(Fr,`RPC '${e}' ${s} timed out`),o(new he(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Qg.HTTP_ERROR:const d=A.getStatus();if(ee(Fr,`RPC '${e}' ${s} failed with status:`,d,"response text:",A.getResponseText()),d>0){let f=A.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const m=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(y)>=0?y:Y.UNKNOWN}(g.status);o(new he(m,g.message))}else o(new he(Y.UNKNOWN,"Server responded with status "+A.getStatus()))}else o(new he(Y.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{ee(Fr,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);ee(Fr,`RPC '${e}' ${s} sending request:`,i),A.send(r,"POST",l,n,15)})}Bo(e,r,n){const i=Oy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=iO(),o=nO(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(A.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(A.useFetchStreams=!0),this.Oo(A.initMessageHeaders,r,n),A.encodeInitMessageHeaders=!0;const u=s.join("");ee(Fr,`Creating RPC '${e}' stream ${i}: ${u}`,A);const d=a.createWebChannel(u,A);let f=!1,g=!1;const m=new iW({Io:v=>{g?ee(Fr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(ee(Fr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),ee(Fr,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),p=(v,y,w)=>{v.listen(y,B=>{try{w(B)}catch(I){setTimeout(()=>{throw I},0)}})};return p(d,Nc.EventType.OPEN,()=>{g||(ee(Fr,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),p(d,Nc.EventType.CLOSE,()=>{g||(g=!0,ee(Fr,`RPC '${e}' stream ${i} transport closed`),m.So())}),p(d,Nc.EventType.ERROR,v=>{g||(g=!0,Wa(Fr,`RPC '${e}' stream ${i} transport errored:`,v),m.So(new he(Y.UNAVAILABLE,"The operation could not be completed")))}),p(d,Nc.EventType.MESSAGE,v=>{var y;if(!g){const w=v.data[0];xe(!!w);const B=w,I=B.error||((y=B[0])===null||y===void 0?void 0:y.error);if(I){ee(Fr,`RPC '${e}' stream ${i} received error:`,I);const T=I.status;let F=function(S){const P=Vt[S];if(P!==void 0)return HO(P)}(T),C=I.message;F===void 0&&(F=Y.INTERNAL,C="Unknown error status: "+T+" with message "+I.message),g=!0,m.So(new he(F,C)),d.close()}else ee(Fr,`RPC '${e}' stream ${i} received:`,w),m.bo(w)}}),p(o,rO.STAT_EVENT,v=>{v.stat===Ox.PROXY?ee(Fr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Ox.NOPROXY&&ee(Fr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aW(){return typeof window<"u"?window:null}function Lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t){return new lG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,r,n,i,s,a,o,A){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=A,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new y4(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===Y.RESOURCE_EXHAUSTED?(Kr(r.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new he(Y.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oW extends w4{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=dG(this.serializer,e),n=function(s){if(!("targetChange"in s))return Ce.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ce.min():a.readTime?zr(a.readTime):Ce.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Gx(this.serializer),r.addTarget=function(s,a){let o;const A=a.target;if(o=Um(A)?{documents:XO(s,A)}:{query:qO(s,A)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=$O(s,a.resumeToken);const l=Kx(s,a.expectedCount);l!==null&&(o.expectedCount=l)}else if(a.snapshotVersion.compareTo(Ce.min())>0){o.readTime=su(s,a.snapshotVersion.toTimestamp());const l=Kx(s,a.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const n=hG(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Gx(this.serializer),r.removeTarget=e,this.a_(r)}}class AW extends w4{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=fG(e.writeResults,e.commitTime),n=zr(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Gx(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>km(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new he(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,$x(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he(Y.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,$x(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(Y.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class uW{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Kr(r),this.D_=!1):ee("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{FA(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(A){const l=Ue(A);l.L_.add(4),await bf(l),l.q_.set("Unknown"),l.L_.delete(4),await b0(l)}(this))})}),this.q_=new uW(n,i)}}async function b0(t){if(FA(t))for(const e of t.B_)await e(!0)}async function bf(t){for(const e of t.B_)await e(!1)}function x4(t,e){const r=Ue(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),YC(r)?zC(r):Fu(r).r_()&&WC(r,e))}function GC(t,e){const r=Ue(t),n=Fu(r);r.N_.delete(e),n.r_()&&b4(r,e),r.N_.size===0&&(n.r_()?n.o_():FA(r)&&r.q_.set("Unknown"))}function WC(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Fu(t).A_(e)}function b4(t,e){t.Q_.xe(e),Fu(t).R_(e)}function zC(t){t.Q_=new sG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Fu(t).start(),t.q_.v_()}function YC(t){return FA(t)&&!Fu(t).n_()&&t.N_.size>0}function FA(t){return Ue(t).L_.size===0}function B4(t){t.Q_=void 0}async function dW(t){t.q_.set("Online")}async function fW(t){t.N_.forEach((e,r)=>{WC(t,e)})}async function hW(t,e){B4(t),YC(t)?(t.q_.M_(e),zC(t)):t.q_.set("Unknown")}async function gW(t,e,r){if(t.q_.set("Online"),e instanceof KO&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Rm(t,n)}else if(e instanceof Mg?t.Q_.Ke(e):e instanceof VO?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ce.min()))try{const n=await p4(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((A,l)=>{if(A.resumeToken.approximateByteSize()>0){const u=s.N_.get(l);u&&s.N_.set(l,u.withResumeToken(A.resumeToken,a))}}),o.targetMismatches.forEach((A,l)=>{const u=s.N_.get(A);if(!u)return;s.N_.set(A,u.withResumeToken(Lt.EMPTY_BYTE_STRING,u.snapshotVersion)),b4(s,A);const d=new us(u.target,A,l,u.sequenceNumber);WC(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){ee("RemoteStore","Failed to raise snapshot:",n),await Rm(t,n)}}async function Rm(t,e,r){if(!lo(e))throw e;t.L_.add(1),await bf(t),t.q_.set("Offline"),r||(r=()=>p4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await b0(t)})}function C4(t,e){return e().catch(r=>Rm(t,r,e))}async function Bf(t){const e=Ue(t),r=qa(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;mW(e);)try{const i=await ZG(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,pW(e,i)}catch(i){await Rm(e,i)}E4(e)&&_4(e)}function mW(t){return FA(t)&&t.O_.length<10}function pW(t,e){t.O_.push(e);const r=qa(t);r.r_()&&r.V_&&r.m_(e.mutations)}function E4(t){return FA(t)&&!qa(t).n_()&&t.O_.length>0}function _4(t){qa(t).start()}async function vW(t){qa(t).p_()}async function yW(t){const e=qa(t);for(const r of t.O_)e.m_(r.mutations)}async function wW(t,e,r){const n=t.O_.shift(),i=DC.from(n,e,r);await C4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Bf(t)}async function xW(t,e){e&&qa(t).V_&&await async function(n,i){if(function(a){return rG(a)&&a!==Y.ABORTED}(i.code)){const s=n.O_.shift();qa(n).s_(),await C4(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Bf(n)}}(t,e),E4(t)&&_4(t)}async function $T(t,e){const r=Ue(t);r.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const n=FA(r);r.L_.add(3),await bf(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await b0(r)}async function bW(t,e){const r=Ue(t);e?(r.L_.delete(2),await b0(r)):e||(r.L_.add(2),await bf(r),r.q_.set("Unknown"))}function Fu(t){return t.K_||(t.K_=function(r,n,i){const s=Ue(r);return s.w_(),new oW(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:dW.bind(null,t),Ro:fW.bind(null,t),mo:hW.bind(null,t),d_:gW.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),YC(t)?zC(t):t.q_.set("Unknown")):(await t.K_.stop(),B4(t))})),t.K_}function qa(t){return t.U_||(t.U_=function(r,n,i){const s=Ue(r);return s.w_(),new AW(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:vW.bind(null,t),mo:xW.bind(null,t),f_:yW.bind(null,t),g_:wW.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Bf(t)):(await t.U_.stop(),t.O_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new XC(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qC(t,e){if(Kr("AsyncQueue",`${e}: ${t}`),lo(t))return new he(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this.comparator=e?(r,n)=>e(r,n)||le.comparator(r.key,n.key):(r,n)=>le.comparator(r.key,n.key),this.keyedMap=Qc(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new Ol(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ol)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Ol;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.W_=new _t(le.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):ve():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class au{constructor(e,r,n,i,s,a,o,A,l){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=A,this.hasCachedResults=l}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new au(e,r,Ol.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&h0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class CW{constructor(){this.queries=WT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Ue(r),s=i.queries;i.queries=WT(),s.forEach((a,o)=>{for(const A of o.j_)A.onError(n)})})(this,new he(Y.ABORTED,"Firestore shutting down"))}}function WT(){return new uo(t=>SO(t),h0)}async function JC(t,e){const r=Ue(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new BW,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=qC(a,`Initialization of query '${al(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&eE(r)}async function ZC(t,e){const r=Ue(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function EW(t,e){const r=Ue(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&eE(r)}function _W(t,e,r){const n=Ue(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function eE(t){t.Y_.forEach(e=>{e.next()})}var Jx,zT;(zT=Jx||(Jx={})).ea="default",zT.Cache="cache";class tE{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new au(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=au.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Jx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.key=e}}class S4{constructor(e){this.key=e}}class IW{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=De(),this.mutatedKeys=De(),this.Aa=TO(e),this.Ra=new Ol(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new GT,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const A=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),g=wf(this.query,d)?d:null,m=!!f&&this.mutatedKeys.has(f.key),p=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let v=!1;f&&g?f.data.isEqual(g.data)?m!==p&&(n.track({type:3,doc:g}),v=!0):this.ga(f,g)||(n.track({type:2,doc:g}),v=!0,(A&&this.Aa(g,A)>0||l&&this.Aa(g,l)<0)&&(o=!0)):!f&&g?(n.track({type:0,doc:g}),v=!0):f&&!g&&(n.track({type:1,doc:f}),v=!0,(A||l)&&(o=!0)),v&&(g?(a=a.add(g),s=p?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),n.track({type:1,doc:u})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((u,d)=>function(g,m){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return p(g)-p(m)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],A=this.da.size===0&&this.current&&!i?1:0,l=A!==this.Ea;return this.Ea=A,a.length!==0||l?{snapshot:new au(this.query,e.Ra,s,a,e.mutatedKeys,A===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new GT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=De(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new S4(n))}),this.da.forEach(n=>{e.has(n)||r.push(new I4(n))}),r}ba(e){this.Ta=e.Ts,this.da=De();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return au.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class SW{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class TW{constructor(e){this.key=e,this.va=!1}}class FW{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new uo(o=>SO(o),h0),this.Ma=new Map,this.xa=new Set,this.Oa=new _t(le.comparator),this.Na=new Map,this.La=new VC,this.Ba={},this.ka=new Map,this.qa=yA.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function UW(t,e,r=!0){const n=Q4(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await T4(n,e,r,!0),i}async function PW(t,e){const r=Q4(t);await T4(r,e,!0,!1)}async function T4(t,e,r,n){const i=await eW(t.localStore,ei(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await NW(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&x4(t.remoteStore,i),o}async function NW(t,e,r,n,i){t.Ka=(d,f,g)=>async function(p,v,y,w){let B=v.view.ma(y);B.ns&&(B=await HT(p.localStore,v.query,!1).then(({documents:C})=>v.view.ma(C,B)));const I=w&&w.targetChanges.get(v.targetId),T=w&&w.targetMismatches.get(v.targetId)!=null,F=v.view.applyChanges(B,p.isPrimaryClient,I,T);return XT(p,v.targetId,F.wa),F.snapshot}(t,d,f,g);const s=await HT(t.localStore,e,!0),a=new IW(e,s.Ts),o=a.ma(s.documents),A=xf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),l=a.applyChanges(o,t.isPrimaryClient,A);XT(t,r,l.wa);const u=new SW(e,r,a);return t.Fa.set(e,u),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),l.snapshot}async function QW(t,e,r){const n=Ue(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!h0(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await qx(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&GC(n.remoteStore,i.targetId),Zx(n,i.targetId)}).catch(TA)):(Zx(n,i.targetId),await qx(n.localStore,i.targetId,!0))}async function kW(t,e){const r=Ue(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),GC(r.remoteStore,n.targetId))}async function OW(t,e,r){const n=k4(t);try{const i=await function(a,o){const A=Ue(a),l=Et.now(),u=o.reduce((g,m)=>g.add(m.key),De());let d,f;return A.persistence.runTransaction("Locally write mutations","readwrite",g=>{let m=xn(),p=De();return A.cs.getEntries(g,u).next(v=>{m=v,m.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>A.localDocuments.getOverlayedDocuments(g,m)).next(v=>{d=v;const y=[];for(const w of o){const B=eG(w,d.get(w.key).overlayedDocument);B!=null&&y.push(new co(w.key,B,wO(B.value.mapValue),bn.exists(!0)))}return A.mutationQueue.addMutationBatch(g,l,y,o)}).next(v=>{f=v;const y=v.applyToLocalDocumentSet(d,p);return A.documentOverlayCache.saveOverlays(g,v.batchId,y)})}).then(()=>({batchId:f.batchId,changes:UO(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,A){let l=a.Ba[a.currentUser.toKey()];l||(l=new _t(Qe)),l=l.insert(o,A),a.Ba[a.currentUser.toKey()]=l}(n,i.batchId,r),await Cf(n,i.changes),await Bf(n.remoteStore)}catch(i){const s=qC(i,"Failed to persist write");r.reject(s)}}async function F4(t,e){const r=Ue(t);try{const n=await qG(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Na.get(s);a&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?xe(a.va):i.removedDocuments.size>0&&(xe(a.va),a.va=!1))}),await Cf(r,n,e)}catch(n){await TA(n)}}function YT(t,e,r){const n=Ue(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const A=Ue(a);A.onlineState=o;let l=!1;A.queries.forEach((u,d)=>{for(const f of d.j_)f.Z_(o)&&(l=!0)}),l&&eE(A)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function DW(t,e,r){const n=Ue(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new _t(le.comparator);a=a.insert(s,Dt.newNoDocument(s,Ce.min()));const o=De().add(s),A=new p0(Ce.min(),new Map,new _t(Qe),a,o);await F4(n,A),n.Oa=n.Oa.remove(s),n.Na.delete(e),rE(n)}else await qx(n.localStore,e,!1).then(()=>Zx(n,e,r)).catch(TA)}async function jW(t,e){const r=Ue(t),n=e.batch.batchId;try{const i=await XG(r.localStore,e);P4(r,n,null),U4(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Cf(r,i)}catch(i){await TA(i)}}async function RW(t,e,r){const n=Ue(t);try{const i=await function(a,o){const A=Ue(a);return A.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return A.mutationQueue.lookupMutationBatch(l,o).next(d=>(xe(d!==null),u=d.keys(),A.mutationQueue.removeMutationBatch(l,d))).next(()=>A.mutationQueue.performConsistencyCheck(l)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>A.localDocuments.getDocuments(l,u))})}(n.localStore,e);P4(n,e,r),U4(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Cf(n,i)}catch(i){await TA(i)}}function U4(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function P4(t,e,r){const n=Ue(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function Zx(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||N4(t,n)})}function N4(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(GC(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),rE(t))}function XT(t,e,r){for(const n of r)n instanceof I4?(t.La.addReference(n.key,e),MW(t,n)):n instanceof S4?(ee("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||N4(t,n.key)):ve()}function MW(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(ee("SyncEngine","New document in limbo: "+r),t.xa.add(n),rE(t))}function rE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new le(Je.fromString(e)),n=t.qa.next();t.Na.set(n,new TW(r)),t.Oa=t.Oa.insert(r,n),x4(t.remoteStore,new us(ei(yf(r.path)),n,"TargetPurposeLimboResolution",Wn.oe))}}async function Cf(t,e,r){const n=Ue(t),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,A)=>{a.push(n.Ka(A,e,r).then(l=>{var u;if((l||r)&&n.isPrimaryClient){const d=l?!l.fromCache:(u=r==null?void 0:r.targetChanges.get(A.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(A.targetId,d?"current":"not-current")}if(l){i.push(l);const d=$C.Wi(A.targetId,l);s.push(d)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(A,l){const u=Ue(A);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>V.forEach(l,f=>V.forEach(f.$i,g=>u.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>V.forEach(f.Ui,g=>u.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!lo(d))throw d;ee("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const f=d.targetId;if(!d.fromCache){const g=u.os.get(f),m=g.snapshotVersion,p=g.withLastLimboFreeSnapshotVersion(m);u.os=u.os.insert(f,p)}}}(n.localStore,s))}async function LW(t,e){const r=Ue(t);if(!r.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const n=await m4(r.localStore,e);r.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(A=>{A.reject(new he(Y.CANCELLED,a))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Cf(r,n.hs)}}function HW(t,e){const r=Ue(t),n=r.Na.get(e);if(n&&n.va)return De().add(n.key);{let i=De();const s=r.Ma.get(e);if(!s)return i;for(const a of s){const o=r.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function Q4(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=F4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DW.bind(null,e),e.Ca.d_=EW.bind(null,e.eventManager),e.Ca.$a=_W.bind(null,e.eventManager),e}function k4(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RW.bind(null,e),e}class Gd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=x0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return g4(this.persistence,new h4,e.initialUser,this.serializer)}Ga(e){return new f4(w0.Zr,this.serializer)}Wa(e){return new v4}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gd.provider={build:()=>new Gd};class VW extends Gd{constructor(e,r,n){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await k4(this.Ja.syncEngine),await Bf(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return g4(this.persistence,new h4,e.initialUser,this.serializer)}ja(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new UG(n,e.asyncQueue,r)}Ha(e,r){const n=new s9(r,this.persistence);return new i9(e.asyncQueue,n)}Ga(e){const r=WG(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new KC(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,aW(),Lg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new v4}}class Mm{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>YT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=LW.bind(null,this.syncEngine),await bW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CW}()}createDatastore(e){const r=x0(e.databaseInfo.databaseId),n=function(s){return new sW(s)}(e.databaseInfo);return function(s,a,o,A){return new lW(s,a,o,A)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new cW(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>YT(this.syncEngine,r,0),function(){return KT.D()?new KT:new rW}())}createSyncEngine(e,r){return function(i,s,a,o,A,l,u){const d=new FW(i,s,a,o,A,l);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=Ue(i);ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await bf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Mm.provider={build:()=>new Mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=yr.UNAUTHENTICATED,this.clientId=_C.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{ee("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(ee("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=qC(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Dy(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await m4(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function qT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await $W(t);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>$T(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>$T(e.remoteStore,i)),t._onlineComponents=e}async function $W(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dy(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Wa("Error using user provided cache. Falling back to memory cache: "+r),await Dy(t,new Gd)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await Dy(t,new Gd);return t._offlineComponents}async function O4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await qT(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await qT(t,new Mm))),t._onlineComponents}function GW(t){return O4(t).then(e=>e.syncEngine)}async function Lm(t){const e=await O4(t),r=e.eventManager;return r.onListen=UW.bind(null,e.syncEngine),r.onUnlisten=QW.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=PW.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=kW.bind(null,e.syncEngine),r}function WW(t,e,r={}){const n=new Di;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,A,l){const u=new nE({next:f=>{u.Za(),a.enqueueAndForget(()=>ZC(s,d));const g=f.docs.has(o);!g&&f.fromCache?l.reject(new he(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&A&&A.source==="server"?l.reject(new he(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new tE(yf(o.path),u,{includeMetadataChanges:!0,_a:!0});return JC(s,d)}(await Lm(t),t.asyncQueue,e,r,n)),n.promise}function zW(t,e,r={}){const n=new Di;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,A,l){const u=new nE({next:f=>{u.Za(),a.enqueueAndForget(()=>ZC(s,d)),f.fromCache&&A.source==="server"?l.reject(new he(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new tE(o,u,{includeMetadataChanges:!0,_a:!0});return JC(s,d)}(await Lm(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t,e,r){if(!r)throw new he(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function R4(t,e,r,n){if(e===!0&&n===!0)throw new he(Y.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function ZT(t){if(!le.isDocumentKey(t))throw new he(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function e2(t){if(le.isDocumentKey(t))throw new he(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function ti(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=iE(t);throw new he(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new he(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D4((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class B0{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t2(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new aO;switch(n.type){case"firstParty":return new X8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new he(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=JT.get(r);n&&(ee("ComponentProvider","Removing Datastore"),JT.delete(r),n.terminate())}(this),Promise.resolve()}}function M4(t,e,r,n={}){var i;const s=(t=ti(t,B0))._getSettings(),a=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,A;if(typeof n.mockUserToken=="string")o=n.mockUserToken,A=yr.MOCK_USER;else{o=E$(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new he(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new yr(l)}t._authCredentials=new W8(new sO(o,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new UA(this.firestore,e,this._query)}}class Yr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yr(this.firestore,e,this._key)}}class ps extends UA{constructor(e,r,n){super(e,r,yf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yr(this.firestore,null,new le(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function ad(t,e,...r){if(t=un(t),j4("collection","path",e),t instanceof B0){const n=Je.fromString(e,...r);return e2(n),new ps(t,null,n)}{if(!(t instanceof Yr||t instanceof ps))throw new he(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Je.fromString(e,...r));return e2(n),new ps(t.firestore,null,n)}}function Fi(t,e,...r){if(t=un(t),arguments.length===1&&(e=_C.newId()),j4("doc","path",e),t instanceof B0){const n=Je.fromString(e,...r);return ZT(n),new Yr(t,null,new le(n))}{if(!(t instanceof Yr||t instanceof ps))throw new he(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Je.fromString(e,...r));return ZT(n),new Yr(t.firestore,t instanceof ps?t.converter:null,new le(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new y4(this,"async_queue_retry"),this.Vu=()=>{const n=Lg();n&&ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Lg();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Lg();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Di;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!lo(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw Kr("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=XC.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function n2(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=-1;class Ja extends B0{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new r2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new r2(e),this._firestoreClient=void 0,await e}}}function H4(t,e){const r=typeof t=="object"?t:Xk(),n=typeof t=="string"?t:"(default)",i=CC(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=B$("firestore");s&&M4(i,...s)}return i}function Ef(t){if(t._terminated)throw new he(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||V4(t),t._firestoreClient}function V4(t){var e,r,n;const i=t._freezeSettings(),s=function(o,A,l,u){return new I9(o,A,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,D4(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new KW(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const A=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(A),_online:A}}(t._componentsProvider))}function K4(t,e){Wa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return YW(t,Mm.provider,{build:n=>new VW(n,r.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function YW(t,e,r){if((t=ti(t,Ja))._firestoreClient||t._terminated)throw new he(Y.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new he(Y.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},V4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wA(Lt.fromBase64String(e))}catch(r){throw new he(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new wA(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new he(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new he(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new he(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XW=/^__.*__$/;class qW{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,r,this.fieldTransforms):new Tu(e,this.data,r,this.fieldTransforms)}}function $4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class sE{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new sE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Hm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if($4(this.Cu)&&XW.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class JW{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||x0(e)}Qu(e,r,n,i=!1){return new sE({Cu:e,methodName:r,qu:n,path:bt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZW(t){const e=t._freezeSettings(),r=x0(t._databaseId);return new JW(t._databaseId,!!e.ignoreUndefinedProperties,r)}function ez(t,e,r,n,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);Y4("Data must be an object, but it was:",a,n);const o=W4(n,a);let A,l;if(s.merge)A=new zn(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=tz(e,d,r);if(!a.contains(f))throw new he(Y.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);nz(u,f)||u.push(f)}A=new zn(u),l=a.fieldTransforms.filter(d=>A.covers(d.field))}else A=null,l=a.fieldTransforms;return new qW(new nn(o),A,l)}class aE extends E0{_toFieldTransform(e){return new jO(e.path,new ru)}isEqual(e){return e instanceof aE}}function G4(t,e){if(z4(t=un(t)))return Y4("Unsupported field value:",e,t),W4(t,e);if(t instanceof E0)return function(n,i){if(!$4(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let A=G4(o,i.Lu(a));A==null&&(A={nullValue:"NULL_VALUE"}),s.push(A),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=un(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return z9(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Et.fromDate(n);return{timestampValue:su(i.serializer,s)}}if(n instanceof Et){const s=new Et(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:su(i.serializer,s)}}if(n instanceof _0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof wA)return{bytesValue:$O(i.serializer,n._byteString)};if(n instanceof Yr){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:MC(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof I0)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(A=>{if(typeof A!="number")throw o.Bu("VectorValues must only contain numeric values.");return QC(o.serializer,A)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${iE(n)}`)}(t,e)}function W4(t,e){const r={};return mO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Su(t,(n,i)=>{const s=G4(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function z4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof _0||t instanceof wA||t instanceof Yr||t instanceof E0||t instanceof I0)}function Y4(t,e,r){if(!z4(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=iE(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function tz(t,e,r){if((e=un(e))instanceof C0)return e._internalPath;if(typeof e=="string")return X4(t,e);throw Hm("Field path arguments must be of type string or ",t,!1,void 0,r)}const rz=new RegExp("[~\\*/\\[\\]]");function X4(t,e,r){if(e.search(rz)>=0)throw Hm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new C0(...e.split("."))._internalPath}catch{throw Hm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Hm(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let A="";return(s||a)&&(A+=" (found",s&&(A+=` in field ${n}`),a&&(A+=` in document ${i}`),A+=")"),new he(Y.INVALID_ARGUMENT,o+t+A)}function nz(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(J4("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class iz extends q4{data(){return super.data()}}function J4(t,e){return typeof e=="string"?X4(t,e):e instanceof C0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sz{}class eD extends sz{}class S0 extends eD{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new S0(e,r,n)}_apply(e){return new UA(e.firestore,e.converter,Nm(e._query,this._limit,this._limitType))}}function tD(t){return S0._create("limit",t,"F")}class rD{convertValue(e,r="none"){switch(gA(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Su(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>wt(a.doubleValue));return new I0(s)}convertGeoPoint(e){return new _0(wt(e.latitude),wt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=UC(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Hd(e));default:return null}}convertTimestamp(e){const r=_s(e);return new Et(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Je.fromString(e);xe(t4(n));const i=new Ya(n.get(1),n.get(3)),s=new le(n.popFirst(5));return i.isEqual(r)||Kr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oE extends q4{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(J4("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class od extends oE{data(e={}){return super.data(e)}}class AE{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Cl(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new od(this._firestore,this._userDataWriter,n.key,n,new Cl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new he(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const A=new od(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Cl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:A,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const A=new od(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Cl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return o.type!==0&&(l=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:oz(o.type),doc:A,oldIndex:l,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function oz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(t){t=ti(t,Yr);const e=ti(t.firestore,Ja);return WW(Ef(e),t._key).then(r=>iD(e,t,r))}class lE extends rD{constructor(e){super(),this.firestore=e}convertBytes(e){return new wA(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Yr(this.firestore,null,r)}}function Ad(t){t=ti(t,UA);const e=ti(t.firestore,Ja),r=Ef(e),n=new lE(e);return Z4(t._query),zW(r,t._query).then(i=>new AE(e,n,t,i))}function Ko(t,e,r){t=ti(t,Yr);const n=ti(t.firestore,Ja),i=az(t.converter,e);return nD(n,[ez(ZW(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,bn.none())])}function Wd(t,...e){var r,n,i;t=un(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||n2(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(n2(e[a])){const d=e[a];e[a]=(r=d.next)===null||r===void 0?void 0:r.bind(d),e[a+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),e[a+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let A,l,u;if(t instanceof Yr)l=ti(t.firestore,Ja),u=yf(t._key.path),A={next:d=>{e[a]&&e[a](iD(l,t,d))},error:e[a+1],complete:e[a+2]};else{const d=ti(t,UA);l=ti(d.firestore,Ja),u=d._query;const f=new lE(l);A={next:g=>{e[a]&&e[a](new AE(l,f,d,g))},error:e[a+1],complete:e[a+2]},Z4(t._query)}return function(f,g,m,p){const v=new nE(p),y=new tE(g,v,m);return f.asyncQueue.enqueueAndForget(async()=>JC(await Lm(f),y)),()=>{v.Za(),f.asyncQueue.enqueueAndForget(async()=>ZC(await Lm(f),y))}}(Ef(l),u,o,A)}function nD(t,e){return function(n,i){const s=new Di;return n.asyncQueue.enqueueAndForget(async()=>OW(await GW(n),i,s)),s.promise}(Ef(t),e)}function iD(t,e,r){const n=r.docs.get(e._key),i=new lE(t);return new oE(t,i,e._key,n,new Cl(r.hasPendingWrites,r.fromCache),e.converter)}function lz(){return new aE("serverTimestamp")}(function(e,r=!0){(function(i){Iu=i})(_u),ql(new fA("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new Ja(new z8(n.getProvider("auth-internal")),new J8(n.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new he(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ya(l.options.projectId,u)}(a,i),a);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Oa(qS,"4.7.3",e),Oa(qS,"4.7.3","esm2017")})();const Hg=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:rD,Bytes:wA,CACHE_SIZE_UNLIMITED:L4,CollectionReference:ps,DocumentReference:Yr,DocumentSnapshot:oE,FieldPath:C0,FieldValue:E0,Firestore:Ja,FirestoreError:he,GeoPoint:_0,Query:UA,QueryConstraint:eD,QueryDocumentSnapshot:od,QueryLimitConstraint:S0,QuerySnapshot:AE,SnapshotMetadata:Cl,Timestamp:Et,VectorValue:I0,_AutoId:_C,_ByteString:Lt,_DatabaseId:Ya,_DocumentKey:le,_EmptyAuthCredentialsProvider:aO,_FieldPath:bt,_cast:ti,_logWarn:Wa,_validateIsNotUsedTogether:R4,collection:ad,connectFirestoreEmulator:M4,doc:Fi,enableIndexedDbPersistence:K4,ensureFirestoreConfigured:Ef,executeWrite:nD,getDoc:Az,getDocs:Ad,getFirestore:H4,limit:tD,onSnapshot:Wd,serverTimestamp:lz,setDoc:Ko},Symbol.toStringTag,{value:"Module"}));var uz="firebase",cz="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oa(uz,cz,"app");function uE(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function sD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aD=sD,oD=new mf("auth","Firebase",sD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=new bC("@firebase/auth");function dz(t,...e){Vm.logLevel<=Me.WARN&&Vm.warn(`Auth (${_u}): ${t}`,...e)}function Vg(t,...e){Vm.logLevel<=Me.ERROR&&Vm.error(`Auth (${_u}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t,...e){throw cE(t,...e)}function ji(t,...e){return cE(t,...e)}function AD(t,e,r){const n=Object.assign(Object.assign({},aD()),{[e]:r});return new mf("auth","Firebase",n).create(e,{appName:t.name})}function ja(t){return AD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cE(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return oD.create(t,...e)}function Te(t,e,...r){if(!t)throw cE(e,...r)}function cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vg(e),new Error(e)}function Is(t,e){t||cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fz(){return i2()==="http:"||i2()==="https:"}function i2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fz()||T$()||"connection"in navigator)?navigator.onLine:!0}function gz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,r){this.shortDelay=e,this.longDelay=r,Is(r>e,"Short delay should be less than long delay!"),this.isMobile=_$()||F$()}get(){return hz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t,e){Is(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz=new _f(3e4,6e4);function PA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fo(t,e,r,n,i={}){return uD(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=pf(Object.assign({key:t.config.apiKey},a)).slice(1),A=await t._getAdditionalHeaders();A["Content-Type"]="application/json",t.languageCode&&(A["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:A},s);return S$()||(l.referrerPolicy="no-referrer"),lD.fetch()(cD(t,t.config.apiHost,r,o),l)})}async function uD(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},mz),e);try{const i=new yz(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Qh(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[A,l]=o.split(" : ");if(A==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qh(t,"credential-already-in-use",a);if(A==="EMAIL_EXISTS")throw Qh(t,"email-already-in-use",a);if(A==="USER_DISABLED")throw Qh(t,"user-disabled",a);const u=n[A]||A.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw AD(t,u,l);bi(t,u)}}catch(i){if(i instanceof Os)throw i;bi(t,"network-request-failed",{message:String(i)})}}async function T0(t,e,r,n,i={}){const s=await fo(t,e,r,n,i);return"mfaPendingCredential"in s&&bi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function cD(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?dE(t.config,i):`${t.config.apiScheme}://${i}`}function vz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ji(this.auth,"network-request-failed")),pz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=ji(t,e,n);return i.customData._tokenResponse=r,i}function s2(t){return t!==void 0&&t.enterprise!==void 0}class wz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return vz(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function xz(t,e){return fo(t,"GET","/v2/recaptchaConfig",PA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bz(t,e){return fo(t,"POST","/v1/accounts:delete",e)}async function dD(t,e){return fo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fD(t,e=!1){const r=un(t),n=await r.getIdToken(e),i=fE(n);Te(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:ld(jy(i.auth_time)),issuedAtTime:ld(jy(i.iat)),expirationTime:ld(jy(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function jy(t){return Number(t)*1e3}function fE(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Vg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Lk(r);return i?JSON.parse(i):(Vg("Failed to decode base64 JWT payload"),null)}catch(i){return Vg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function a2(t){const e=fE(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Os&&Bz(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Bz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ld(this.lastLoginAt),this.creationTime=ld(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Km(t){var e;const r=t.auth,n=await t.getIdToken(),i=await zd(t,dD(r,{idToken:n}));Te(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?gD(s.providerUserInfo):[],o=Ez(t.providerData,a),A=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=A?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new tb(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function hD(t){const e=un(t);await Km(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ez(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function gD(t){return t.map(e=>{var{providerId:r}=e,n=uE(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _z(t,e){const r=await uD(t,{},async()=>{const n=pf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=cD(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",lD.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Iz(t,e){return fo(t,"POST","/v2/accounts:revokeToken",PA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const r=a2(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await _z(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new Dl;return n&&(Te(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Te(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Te(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dl,this.toJSON())}_performRefresh(){return cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ds{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=uE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new tb(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await zd(this,this.stsTokenManager.getToken(this.auth,e));return Te(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return fD(this,e)}reload(){return hD(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ds(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Km(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ls(this.auth.app))return Promise.reject(ja(this.auth));const e=await this.getIdToken();return await zd(this,bz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,a,o,A,l,u;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,f=(i=r.email)!==null&&i!==void 0?i:void 0,g=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,m=(a=r.photoURL)!==null&&a!==void 0?a:void 0,p=(o=r.tenantId)!==null&&o!==void 0?o:void 0,v=(A=r._redirectEventId)!==null&&A!==void 0?A:void 0,y=(l=r.createdAt)!==null&&l!==void 0?l:void 0,w=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:B,emailVerified:I,isAnonymous:T,providerData:F,stsTokenManager:C}=r;Te(B&&C,e,"internal-error");const _=Dl.fromJSON(this.name,C);Te(typeof B=="string",e,"internal-error"),ea(d,e.name),ea(f,e.name),Te(typeof I=="boolean",e,"internal-error"),Te(typeof T=="boolean",e,"internal-error"),ea(g,e.name),ea(m,e.name),ea(p,e.name),ea(v,e.name),ea(y,e.name),ea(w,e.name);const S=new ds({uid:B,auth:e,email:f,emailVerified:I,displayName:d,isAnonymous:T,photoURL:m,phoneNumber:g,tenantId:p,stsTokenManager:_,createdAt:y,lastLoginAt:w});return F&&Array.isArray(F)&&(S.providerData=F.map(P=>Object.assign({},P))),v&&(S._redirectEventId=v),S}static async _fromIdTokenResponse(e,r,n=!1){const i=new Dl;i.updateFromServerResponse(r);const s=new ds({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Km(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Te(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?gD(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Dl;o.updateFromIdToken(n);const A=new ds({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new tb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(A,l),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new Map;function fs(t){Is(t instanceof Function,"Expected a class definition");let e=o2.get(t);return e?(Is(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,o2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}mD.type="NONE";const rb=mD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t,e,r){return`firebase:${t}:${e}:${r}`}class jl{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Kg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kg("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ds._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new jl(fs(rb),e,n);const i=(await Promise.all(r.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||fs(rb);const a=Kg(n,e.config.apiKey,e.name);let o=null;for(const l of r)try{const u=await l._get(a);if(u){const d=ds._fromJSON(e,u);l!==s&&(o=d),s=l;break}}catch{}const A=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!A.length?new jl(s,e,n):(s=A[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async l=>{if(l!==s)try{await l._remove(a)}catch{}})),new jl(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bD(e))return"Blackberry";if(BD(e))return"Webos";if(vD(e))return"Safari";if((e.includes("chrome/")||yD(e))&&!e.includes("edge/"))return"Chrome";if(xD(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function pD(t=Jt()){return/firefox\//i.test(t)}function vD(t=Jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yD(t=Jt()){return/crios\//i.test(t)}function wD(t=Jt()){return/iemobile/i.test(t)}function xD(t=Jt()){return/android/i.test(t)}function bD(t=Jt()){return/blackberry/i.test(t)}function BD(t=Jt()){return/webos/i.test(t)}function hE(t=Jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Sz(t=Jt()){var e;return hE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Tz(){return U$()&&document.documentMode===10}function CD(t=Jt()){return hE(t)||xD(t)||BD(t)||bD(t)||/windows phone/i.test(t)||wD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t,e=[]){let r;switch(t){case"Browser":r=A2(Jt());break;case"Worker":r=`${A2(Jt())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${_u}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const A=e(s);a(A)}catch(A){o(A)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uz(t,e={}){return fo(t,"GET","/v2/passwordPolicy",PA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz=6;class Nz{constructor(e){var r,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:Pz,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,a,o;const A={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,A),this.validatePasswordCharacterOptions(e,A),A.isValid&&(A.isValid=(r=A.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),A.isValid&&(A.isValid=(n=A.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),A.isValid&&(A.isValid=(i=A.containsLowercaseLetter)!==null&&i!==void 0?i:!0),A.isValid&&(A.isValid=(s=A.containsUppercaseLetter)!==null&&s!==void 0?s:!0),A.isValid&&(A.isValid=(a=A.containsNumericCharacter)!==null&&a!==void 0?a:!0),A.isValid&&(A.isValid=(o=A.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),A}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new l2(this),this.idTokenSubscription=new l2(this),this.beforeStateQueue=new Fz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=fs(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await jl.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await dD(this,{idToken:e}),n=await ds._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ls(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,A=await this.tryRedirectSignIn(e);(!a||a===o)&&(A!=null&&A.user)&&(i=A.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Km(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ls(this.app))return Promise.reject(ja(this));const r=e?un(e):null;return r&&Te(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ls(this.app)?Promise.reject(ja(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ls(this.app)?Promise.reject(ja(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Uz(this),r=new Nz(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Iz(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&fs(e)||this._popupRedirectResolver;Te(r,this,"argument-error"),this.redirectPersistenceManager=await jl.create(this,[fs(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const A=e.addObserver(r,n,i);return()=>{a=!0,A()}}else{const A=e.addObserver(r);return()=>{a=!0,A()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ED(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&dz(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Uu(t){return un(t)}class l2{constructor(e){this.auth=e,this.observer=null,this.addObserver=D$(r=>this.observer=r)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kz(t){F0=t}function _D(t){return F0.loadJS(t)}function Oz(){return F0.recaptchaEnterpriseScript}function Dz(){return F0.gapiScript}function jz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Rz="recaptcha-enterprise",Mz="NO_RECAPTCHA";class Lz{constructor(e){this.type=Rz,this.auth=Uu(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{xz(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(A=>{if(A.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const l=new wz(A);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,a(l.siteKey)}}).catch(A=>{o(A)})})}function i(s,a,o){const A=window.grecaptcha;s2(A)?A.enterprise.ready(()=>{A.enterprise.execute(s,{action:e}).then(l=>{a(l)}).catch(()=>{a(Mz)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&s2(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let A=Oz();A.length!==0&&(A+=o),_D(A).then(()=>{i(o,s,a)}).catch(l=>{a(l)})}}).catch(o=>{a(o)})})}}async function u2(t,e,r,n=!1){const i=new Lz(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function c2(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await u2(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await u2(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t,e){const r=CC(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Sm(s,e??{}))return i;bi(i,"already-initialized")}return r.initialize({options:e})}function Hz(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(fs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function SD(t,e,r){const n=Uu(t);Te(n._canInitEmulator,n,"emulator-config-failed"),Te(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=TD(e),{host:a,port:o}=Vz(e),A=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${A}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Kz()}function TD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Vz(t){const e=TD(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:d2(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:d2(a)}}}function d2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Kz(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return cs("not implemented")}_getIdTokenResponse(e){return cs("not implemented")}_linkToIdToken(e,r){return cs("not implemented")}_getReauthenticationResolver(e){return cs("not implemented")}}async function $z(t,e){return fo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gz(t,e){return T0(t,"POST","/v1/accounts:signInWithPassword",PA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wz(t,e){return T0(t,"POST","/v1/accounts:signInWithEmailLink",PA(t,e))}async function zz(t,e){return T0(t,"POST","/v1/accounts:signInWithEmailLink",PA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends U0{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new ou(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new ou(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c2(e,r,"signInWithPassword",Gz);case"emailLink":return Wz(e,{email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c2(e,n,"signUpPassword",$z);case"emailLink":return zz(e,{idToken:r,email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t,e){return T0(t,"POST","/v1/accounts:signInWithIdp",PA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz="http://localhost";class Za extends U0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):bi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=uE(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new Za(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return Rl(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Rl(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Rl(e,r)}buildRequest(){const e={requestUri:Yz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=pf(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qz(t){const e=Uc(Pc(t)).link,r=e?Uc(Pc(e)).deep_link_id:null,n=Uc(Pc(t)).deep_link_id;return(n?Uc(Pc(n)).link:null)||n||r||e||t}class P0{constructor(e){var r,n,i,s,a,o;const A=Uc(Pc(e)),l=(r=A.apiKey)!==null&&r!==void 0?r:null,u=(n=A.oobCode)!==null&&n!==void 0?n:null,d=Xz((i=A.mode)!==null&&i!==void 0?i:null);Te(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(s=A.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=A.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=A.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=qz(e);try{return new P0(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.providerId=NA.PROVIDER_ID}static credential(e,r){return ou._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=P0.parseLink(r);return Te(n,"argument-error"),ou._fromEmailAndCode(e,n.code,n.tenantId)}}NA.PROVIDER_ID="password";NA.EMAIL_PASSWORD_SIGN_IN_METHOD="password";NA.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends FD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends If{constructor(){super("facebook.com")}static credential(e){return Za._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends If{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Za._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return rs.credential(r,n)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends If{constructor(){super("github.com")}static credential(e){return Za._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends If{constructor(){super("twitter.com")}static credential(e,r){return Za._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return is.credential(r,n)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await ds._fromIdTokenResponse(e,n,i),a=f2(n);return new Au({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=f2(n);return new Au({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function f2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends Os{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,$m.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new $m(e,r,n,i)}}function UD(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$m._fromErrorAndOperation(t,s,e,n):s})}async function Jz(t,e,r=!1){const n=await zd(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Au._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zz(t,e,r=!1){const{auth:n}=t;if(ls(n.app))return Promise.reject(ja(n));const i="reauthenticate";try{const s=await zd(t,UD(n,i,e,t),r);Te(s.idToken,n,"internal-error");const a=fE(s.idToken);Te(a,n,"internal-error");const{sub:o}=a;return Te(t.uid===o,n,"user-mismatch"),Au._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&bi(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(t,e,r=!1){if(ls(t.app))return Promise.reject(ja(t));const n="signIn",i=await UD(t,n,e),s=await Au._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function ND(t,e){return PD(Uu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e7(t){const e=Uu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function t7(t,e,r){return ls(t.app)?Promise.reject(ja(t)):ND(un(t),NA.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&e7(t),n})}function QD(t,e,r,n){return un(t).onIdTokenChanged(e,r,n)}function kD(t,e,r){return un(t).beforeAuthStateChanged(e,r)}function r7(t){return un(t).signOut()}const Gm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Gm,"1"),this.storage.removeItem(Gm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=1e3,i7=10;class DD extends OD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,A)=>{this.notifyListeners(a,A)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);Tz()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,i7):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},n7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}DD.type="LOCAL";const jD=DD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD extends OD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}RD.type="SESSION";const gE=RD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new N0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async l=>l(r.origin,s)),A=await s7(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:A})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}N0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,A)=>{const l=mE("",20);i.port1.start();const u=setTimeout(()=>{A(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{A(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(f.data.response);break;default:clearTimeout(u),clearTimeout(s),A(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function o7(t){Ri().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function A7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function l7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function u7(){return MD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="firebaseLocalStorageDb",c7=1,Wm="firebaseLocalStorage",HD="fbase_key";class Sf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Q0(t,e){return t.transaction([Wm],e?"readwrite":"readonly").objectStore(Wm)}function d7(){const t=indexedDB.deleteDatabase(LD);return new Sf(t).toPromise()}function nb(){const t=indexedDB.open(LD,c7);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Wm,{keyPath:HD})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Wm)?e(n):(n.close(),await d7(),e(await nb()))})})}async function h2(t,e,r){const n=Q0(t,!0).put({[HD]:e,value:r});return new Sf(n).toPromise()}async function f7(t,e){const r=Q0(t,!1).get(e),n=await new Sf(r).toPromise();return n===void 0?null:n.value}function g2(t,e){const r=Q0(t,!0).delete(e);return new Sf(r).toPromise()}const h7=800,g7=3;class VD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nb(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>g7)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=N0._getInstance(u7()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await A7(),!this.activeServiceWorker)return;this.sender=new a7(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||l7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nb();return await h2(e,Gm,"1"),await g2(e,Gm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>h2(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>f7(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>g2(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Q0(i,!1).getAll();return new Sf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),h7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VD.type="LOCAL";const KD=VD;new _f(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(t,e){return e?fs(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE extends U0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Rl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function p7(t){return PD(t.auth,new pE(t),t.bypassAuthState)}function v7(t){const{auth:e,user:r}=t;return Te(r,e,"internal-error"),Zz(r,new pE(t),t.bypassAuthState)}async function y7(t){const{auth:e,user:r}=t;return Te(r,e,"internal-error"),Jz(r,new pE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const A={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(A))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p7;case"linkViaPopup":case"linkViaRedirect":return y7;case"reauthViaPopup":case"reauthViaRedirect":return v7;default:bi(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=new _f(2e3,1e4);class El extends $D{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,El.currentPopupAction&&El.currentPopupAction.cancel(),El.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=mE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,El.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,w7.get())};e()}}El.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7="pendingRedirect",$g=new Map;class b7 extends $D{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=$g.get(this.auth._key());if(!e){try{const n=await B7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}$g.set(this.auth._key(),e)}return this.bypassAuthState||$g.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B7(t,e){const r=_7(e),n=E7(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function C7(t,e){$g.set(t._key(),e)}function E7(t){return fs(t._redirectPersistence)}function _7(t){return Kg(x7,t.config.apiKey,t.name)}async function I7(t,e,r=!1){if(ls(t.app))return Promise.reject(ja(t));const n=Uu(t),i=m7(n,e),a=await new b7(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7=10*60*1e3;class T7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F7(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!GD(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(ji(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S7&&this.cachedEventUids.clear(),this.cachedEventUids.has(m2(e))}saveEventToCache(e){this.cachedEventUids.add(m2(e)),this.lastProcessedEventTime=Date.now()}}function m2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function F7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U7(t,e={}){return fo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,N7=/^https?/;async function Q7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await U7(t);for(const r of e)try{if(k7(r))return}catch{}bi(t,"unauthorized-domain")}function k7(t){const e=eb(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!N7.test(r))return!1;if(P7.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7=new _f(3e4,6e4);function p2(){const t=Ri().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function D7(t){return new Promise((e,r)=>{var n,i,s;function a(){p2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p2(),r(ji(t,"network-request-failed"))},timeout:O7.get()})}if(!((i=(n=Ri().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ri().gapi)===null||s===void 0)&&s.load)a();else{const o=jz("iframefcb");return Ri()[o]=()=>{gapi.load?a():r(ji(t,"network-request-failed"))},_D(`${Dz()}?onload=${o}`).catch(A=>r(A))}}).catch(e=>{throw Gg=null,e})}let Gg=null;function j7(t){return Gg=Gg||D7(t),Gg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7=new _f(5e3,15e3),M7="__/auth/iframe",L7="emulator/auth/iframe",H7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K7(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?dE(e,L7):`https://${t.config.authDomain}/${M7}`,n={apiKey:e.apiKey,appName:t.name,v:_u},i=V7.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${pf(n).slice(1)}`}async function $7(t){const e=await j7(t),r=Ri().gapi;return Te(r,t,"internal-error"),e.open({where:document.body,url:K7(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:H7,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=ji(t,"network-request-failed"),o=Ri().setTimeout(()=>{s(a)},R7.get());function A(){Ri().clearTimeout(o),i(n)}n.ping(A).then(A,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W7=500,z7=600,Y7="_blank",X7="http://localhost";class v2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q7(t,e,r,n=W7,i=z7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const A=Object.assign(Object.assign({},G7),{width:n.toString(),height:i.toString(),top:s,left:a}),l=Jt().toLowerCase();r&&(o=yD(l)?Y7:r),pD(l)&&(e=e||X7,A.scrollbars="yes");const u=Object.entries(A).reduce((f,[g,m])=>`${f}${g}=${m},`,"");if(Sz(l)&&o!=="_self")return J7(e||"",o),new v2(null);const d=window.open(e||"",o,u);Te(d,t,"popup-blocked");try{d.focus()}catch{}return new v2(d)}function J7(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7="__/auth/handler",eY="emulator/auth/handler",tY=encodeURIComponent("fac");async function y2(t,e,r,n,i,s){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:_u,eventId:i};if(e instanceof FD){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",O$(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))a[u]=d}if(e instanceof If){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const A=await t._getAppCheckToken(),l=A?`#${tY}=${encodeURIComponent(A)}`:"";return`${rY(t)}?${pf(o).slice(1)}${l}`}function rY({config:t}){return t.emulator?dE(t,eY):`https://${t.authDomain}/${Z7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="webStorageSupport";class nY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gE,this._completeRedirectFn=I7,this._overrideRedirectResult=C7}async _openPopup(e,r,n,i){var s;Is((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await y2(e,r,n,eb(),i);return q7(e,a,mE())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await y2(e,r,n,eb(),i);return o7(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Is(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await $7(e),n=new T7(e);return r.register("authEvent",i=>(Te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Ry,{type:Ry},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ry];a!==void 0&&r(!!a),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Q7(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return CD()||vD()||hE()}}const WD=nY;var w2="@firebase/auth",x2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aY(t){ql(new fA("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;Te(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const A={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ED(t)},l=new Qz(n,i,s,A);return Hz(l,r),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),ql(new fA("auth-internal",e=>{const r=Uu(e.getProvider("auth").getImmediate());return(n=>new iY(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oa(w2,x2,sY(t)),Oa(w2,x2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY=5*60,AY=Kk("authIdTokenMaxAge")||oY;let b2=null;const lY=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>AY)return;const i=r==null?void 0:r.token;b2!==i&&(b2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function zD(t=Xk()){const e=CC(t,"auth");if(e.isInitialized())return e.getImmediate();const r=ID(t,{popupRedirectResolver:WD,persistence:[KD,jD,gE]}),n=Kk("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=lY(s.toString());kD(r,a,()=>a(r.currentUser)),QD(r,o=>a(o))}}const i=Hk("auth");return i&&SD(r,`http://${i}`),r}function uY(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}kz({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=ji("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",uY().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aY("Browser");const cY=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:P0,AuthCredential:U0,EmailAuthCredential:ou,EmailAuthProvider:NA,FacebookAuthProvider:ts,GithubAuthProvider:ns,GoogleAuthProvider:rs,OAuthCredential:Za,TwitterAuthProvider:is,beforeAuthStateChanged:kD,browserLocalPersistence:jD,browserPopupRedirectResolver:WD,browserSessionPersistence:gE,connectAuthEmulator:SD,getAuth:zD,getIdTokenResult:fD,inMemoryPersistence:rb,indexedDBLocalPersistence:KD,initializeAuth:ID,onIdTokenChanged:QD,prodErrorMap:aD,reload:hD,signInWithCredential:ND,signInWithEmailAndPassword:t7,signOut:r7},Symbol.toStringTag,{value:"Module"})),dY={apiKey:"AIzaSyBHzCLGD1E8mrp-iVaJ1P1t9cHe5QT8LN8",authDomain:"brainless-schedule.firebaseapp.com",projectId:"brainless-schedule",storageBucket:"brainless-schedule.appspot.com",messagingSenderId:"902167883215",appId:"1:902167883215:web:8dfc400a1035929c5bf6ba"};let zm;GS().length?zm=GS()[0]:zm=Yk(dY);const or=H4(zm),YD=zD(zm);try{K4(or,{cacheSizeBytes:L4}).catch(t=>{t.code==="failed-precondition"?console.warn("離線持久性在多個標籤中失敗"):t.code==="unimplemented"&&console.warn("當前瀏覽器不支持離線持久性")})}catch(t){console.error("啟用離線功能時出錯:",t)}async function fY(){try{const t=await Ad(ad(or,"forecasts"),tD(1));return console.log("Firebase 連接成功"),!0}catch(t){return console.error("Firebase 連接失敗:",t),!1}}const hY=async t=>{try{const{doc:e,getDoc:r}=await ma(async()=>{const{doc:i,getDoc:s}=await Promise.resolve().then(()=>Hg);return{doc:i,getDoc:s}},void 0);return(await r(e(or,"admins",t))).exists()}catch(e){return console.error("檢查管理員狀態失敗:",e),!1}},Yn={MAX_CONSECUTIVE_DAYS_CHECK:30,MIN_CONSECUTIVE_DAYS:4,MAX_CONSECUTIVE_DAYS:6,REST_SHIFTS:["休假","特休","月休","休","特"],TIME_SLOTS:{MORNING:{start:5,end:12},AFTERNOON:{start:12,end:18},EVENING:{start:18,end:22}},SHIFT_KEYWORDS:{MORNING:["早班","早","Morning","K","KK"],AFTERNOON:["中班","中","Mid","L"],EVENING:["晚班","晚","Evening","Y"]}};let Wg={};const gY=t=>{Wg=t},br={consecutiveDays:new Map,todayWorkers:new Map,todayString:null,todayDate:null,lastCacheTime:0},k0=(t=!1)=>{const e=Date.now(),r=new Date().toDateString();(t||br.lastCacheTime===0||new Date(br.lastCacheTime).toDateString()!==r)&&(br.consecutiveDays.clear(),br.todayWorkers.clear(),br.todayString=null,br.todayDate=null,br.lastCacheTime=e)},mY=()=>{k0(!0)},XD=()=>(k0(),br.todayString||(br.todayString=new Date().toISOString().split("T")[0]),br.todayString),qD=()=>{if(k0(),!br.todayDate){const t=new Date;br.todayDate={year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate(),day:t.getDay()}}return br.todayDate},pY=t=>!t||typeof t!="string"?!1:Yn.REST_SHIFTS.includes(t.trim()),_l=t=>{if(!t||typeof t!="string")return!1;const e=t.trim();return e!==""&&!pY(e)},vY=(t,e,r)=>`${t}-${String(e).padStart(2,"0")}-${String(r).padStart(2,"0")}`,yY=t=>t.timeRestriction?zg(t.startTime,t.endTime):!0,wY=(t,e)=>(t=t.replace(/\{早班同事\}/g,e.morning.length>0?e.morning.join("、"):""),t=t.replace(/\{中班同事\}/g,e.afternoon.length>0?e.afternoon.join("、"):""),t=t.replace(/\{晚班同事\}/g,e.evening.length>0?e.evening.join("、"):""),t=t.replace(/\{所有同事\}/g,e.all.length>0?e.all.join("、"):""),t),xY=(t,e)=>(t=t.replace(/\{早班人數\}/g,e.morning.length.toString()),t=t.replace(/\{中班人數\}/g,e.afternoon.length.toString()),t=t.replace(/\{晚班人數\}/g,e.evening.length.toString()),t=t.replace(/\{總人數\}/g,e.all.length.toString()),t),bY=(t,e,r)=>(t=t.replace(/\{([^}]+)\}連續上班\{(\d+)\}/g,(n,i,s)=>{const a=Object.keys(r).find(o=>r[o]===i);if(a){const o=Ym(e,a,r);return`${i}連續上班${o}天`}return n}),t=t.replace(/\{([^}]+)\}連續上班天數/g,(n,i)=>{const s=Object.keys(r).find(a=>r[a]===i);if(s){const a=Ym(e,s,r);return`${i}連續上班${a}天`}return n}),t),BY=(t,e,r)=>(t=t.replace(/\{連續上班同事\}/g,()=>{const n=lu(e,r,Yn.MIN_CONSECUTIVE_DAYS,Yn.MAX_CONSECUTIVE_DAYS);if(n.length>0){const i={};return n.forEach(a=>{i[a.consecutiveDays]||(i[a.consecutiveDays]=[]),i[a.consecutiveDays].push(a.name)}),Object.entries(i).map(([a,o])=>o.length===1?`${o[0]}連續上班${a}天`:`${o.join("、")}連續上班${a}天`).join("、")}return""}),t=t.replace(/\{連續上班同事數量\}/g,()=>lu(e,r,Yn.MIN_CONSECUTIVE_DAYS,Yn.MAX_CONSECUTIVE_DAYS).length.toString()),t),CY=(t,e,r)=>(t=t.replace(/\{連續上班(\d+)天同事\}/g,(n,i)=>{const s=parseInt(i),a=lu(e,r,s,s);if(a.length>0){const o=a.map(A=>A.name);return o.length===1?o[0]:o.join("、")}return""}),t=t.replace(/\{連續上班(\d+)天同事數量\}/g,(n,i)=>{const s=parseInt(i);return lu(e,r,s,s).length.toString()}),t),EY=t=>(t=t.replace(/\s*[，、]\s*$/g,""),t=t.replace(/^\s*[，、]\s*/g,""),t=t.replace(/\s+/g," "),t),_Y=(t,e,r)=>{if((t.message.includes("{連續上班同事}")||t.message.includes("{連續上班同事數量}"))&&lu(e,r,Yn.MIN_CONSECUTIVE_DAYS,Yn.MAX_CONSECUTIVE_DAYS).length===0)return!1;const n=t.message.match(/\{連續上班(\d+)天同事\}/g);if(n)for(const i of n){const s=i.match(/\{連續上班(\d+)天同事\}/);if(s){const a=parseInt(s[1]);if(lu(e,r,a,a).length===0)return!1}}return!0},IY=(t,e,r)=>{if(!t||!Array.isArray(t)||t.length===0)return[];const n=JD(e);return n.length>0&&ZD(n,r),t.filter(i=>i.enabled).map(i=>{const s=PY(i,e,r);return s&&typeof s=="string"&&s.trim()!==""?{type:"schedule",priority:2,message:s,source:`班表模板: ${i.name}`}:null}).filter(Boolean)},zg=(t,e)=>{const r=new Date,n=r.getHours(),i=r.getMinutes(),s=n*60+i,[a,o]=t.split(":").map(Number),[A,l]=e.split(":").map(Number),u=a*60+o,d=A*60+l;return d<u?s>=u||s<=d:s>=u&&s<=d},SY=()=>["日","一","二","三","四","五","六"][new Date().getDay()],TY=(t,e)=>{const r=new Date;return r.getMonth()+1===t&&r.getDate()===e},FY=t=>new Date().getDate()===t,UY=t=>{if(!t||typeof t!="object")return[];const e=[],r=qD();for(const[n,i]of Object.entries(t))if(n!=="_lastUpdated"&&i&&typeof i=="object"){for(const[s,a]of Object.entries(i))if(_l(a)){const o=parseInt(s);if(o===r.date){const A={id:`${n}_${o}`,date:vY(r.year,r.month,o),shift:a,employee:n};e.push(A)}}}return e},JD=t=>{if(!t)return[];if(Array.isArray(t)){const e=XD();return t.filter(n=>{const a=new Date(n.date).toISOString().split("T")[0]===e,o=_l(n.shift);return a&&o})}else return UY(t)},Ym=(t,e,r={})=>{var i,s,a;if(!t||!e)return 0;k0();const n=`${e}_${JSON.stringify(t)}`;if(br.consecutiveDays.has(n))return br.consecutiveDays.get(n);if(r[e],Array.isArray(t)){const o=XD();if(!t.find(d=>d.employee===e&&new Date(d.date).toISOString().split("T")[0]===o))return 0;let l=0,u=new Date;for(;;){const d=u.toISOString().split("T")[0],f=t.find(g=>g.employee===e&&new Date(g.date).toISOString().split("T")[0]===d);if(f&&_l(f.shift))l++,u.setDate(u.getDate()-1);else break}return br.consecutiveDays.set(n,l),l}else{const o=qD(),A=(i=t[e])==null?void 0:i[o.date];if(!_l(A))return 0;let l=0,u=o.date;for(;u>=1;){const d=(s=t[e])==null?void 0:s[u];if(_l(d))l++,u--;else break}if(u<1){const d=new Date,f=d.getFullYear(),g=d.getMonth()+1;let m,p;g===1?(m=f-1,p=12):(m=f,p=g-1);const v=`${m}-${p.toString().padStart(2,"0")}`;if(Wg&&Wg[v]){const y=Wg[v],w=new Date(m,p,0).getDate(),B=7;for(let I=w;I>=Math.max(1,w-B+1);I--){const T=(a=y[e])==null?void 0:a[I];if(_l(T))l++;else break}}}return br.consecutiveDays.set(n,l),l}},lu=(t,e={},r=Yn.MIN_CONSECUTIVE_DAYS,n=Yn.MAX_CONSECUTIVE_DAYS)=>{if(!t)return[];const i=[];return Array.isArray(t)?[...new Set(t.map(a=>a.employee))].forEach(a=>{const o=Ym(t,a,e);if(o>=r&&o<=n){const A=e[a]||a;i.push({id:a,name:A,consecutiveDays:o})}}):Object.keys(t).filter(a=>a!=="_lastUpdated").forEach(a=>{const o=Ym(t,a,e);if(o>=r&&o<=n){const A=e[a]||a;i.push({id:a,name:A,consecutiveDays:o})}}),i},ZD=(t,e={})=>{const r={morning:[],afternoon:[],evening:[],all:[]};return t.forEach(n=>{const i=n.shift||"",s=n.employee||"未知",a=e[s]||s;r.all.push(a),Yn.SHIFT_KEYWORDS.MORNING.some(o=>i.includes(o))?r.morning.push(a):Yn.SHIFT_KEYWORDS.AFTERNOON.some(o=>i.includes(o))?r.afternoon.push(a):Yn.SHIFT_KEYWORDS.EVENING.some(o=>i.includes(o))?r.evening.push(a):r.all.push(a)}),r},PY=(t,e,r={})=>{if(!t||!e||!yY(t))return null;const n=JD(e);if(n.length===0)return null;const i=ZD(n,r);let s=t.message;return s=wY(s,i),s=xY(s,i),s=bY(s,e,r),s=BY(s,e,r),s=CY(s,e,r),s=EY(s),_Y(t,e,r)?s:null},NY=t=>{if(!Array.isArray(t)||t.length===0)return"";const e=t.filter(r=>r&&typeof r=="string"&&r.trim()!=="");return e.length===0?"":e[Math.floor(Math.random()*e.length)]},QY=(t=null,e=[],r=[],n={})=>{const i=SY(),s=[];if(e&&Array.isArray(e)){const a=[];for(const o of e){if(!o.enabled)continue;let A=!1;o.type==="timeRange"?A=o.allDay||zg(o.startTime,o.endTime):o.type==="dayOfWeek"?A=o.day===i&&(o.allDay||zg(o.startTime,o.endTime)):o.type==="specificDate"?A=TY(o.month,o.date):o.type==="monthlyDate"&&(A=FY(o.date)&&(o.allDay||zg(o.startTime,o.endTime))),A&&o.messages&&Array.isArray(o.messages)&&o.messages.length>0&&o.messages.some(l=>l&&typeof l=="string"&&l.trim()!=="")&&a.push(o)}if(a.length>0){const o=a[Math.floor(Math.random()*a.length)],A=NY(o.messages);A&&A.trim()!==""&&s.push({type:"custom",priority:1,message:A,source:`自定義規則: ${o.name}`})}}if(t&&r&&Array.isArray(r)){const a=IY(r,t,n);s.push(...a)}return s},XA=t=>/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(t),ive=t=>{if(!t.type||!t.messages||!Array.isArray(t.messages)||t.messages.length===0)return!1;switch(t.type){case"timeRange":return t.allDay||XA(t.startTime)&&XA(t.endTime);case"dayOfWeek":return["日","一","二","三","四","五","六"].includes(t.day)&&(t.allDay||XA(t.startTime)&&XA(t.endTime));case"specificDate":return t.month>=1&&t.month<=12&&t.date>=1&&t.date<=31;case"monthlyDate":return t.date>=1&&t.date<=31&&(t.allDay||XA(t.startTime)&&XA(t.endTime));default:return!1}},sve=t=>t.message&&t.message.trim()!=="",ave=()=>[{id:"1",name:"早上問候",type:"timeRange",startTime:"08:00",endTime:"10:00",allDay:!1,messages:["早安！新的一天開始了～","早上好！今天也要加油喔！","喵～早安！準備好迎接新的一天了嗎？"],enabled:!1},{id:"2",name:"午休提醒",type:"timeRange",startTime:"12:00",endTime:"13:00",allDay:!1,messages:["午休時間到了，記得休息一下喔～","喵～該吃午餐了！","午休愉快！"],enabled:!1},{id:"3",name:"週三進貨提醒",type:"dayOfWeek",day:"三",startTime:"14:00",endTime:"16:00",allDay:!1,messages:["週三下午進貨時間到了，加油！","喵～進貨時間！","週三進貨，辛苦了！"],enabled:!1},{id:"4",name:"週末問候",type:"dayOfWeek",day:"六",startTime:"09:00",endTime:"11:00",allDay:!1,messages:["週末愉快！好好休息喔～","喵～週末快樂！","週末愉快！享受美好時光～"],enabled:!1},{id:"5",name:"每月1號提醒",type:"monthlyDate",date:1,startTime:"08:00",endTime:"10:00",allDay:!1,messages:["新的月份開始了！大家加油！","喵～新的月份，新的開始！","每月1號，重新出發！"],enabled:!1},{id:"6",name:"週末全天問候",type:"dayOfWeek",day:"六",startTime:"08:00",endTime:"10:00",allDay:!0,messages:["週末愉快！好好享受假期～","喵～週末快樂！全天陪伴你！","週末愉快！放鬆心情～"],enabled:!1}],ove=()=>[{id:"1",name:"早班問候",message:"{早班同事}，早安！今天也要加油喔！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"2",name:"晚班問候",message:"{晚班同事}，晚安！今天辛苦了！",enabled:!1,timeRestriction:!1,startTime:"18:00",endTime:"20:00"},{id:"3",name:"全體問候",message:"{所有同事}，工作辛苦了！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"4",name:"人數統計",message:"今天有{總人數}位同事上班，加油！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"5",name:"連續上班關心",message:"{連續上班同事}，辛苦了！記得適時休息喔～",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"6",name:"連續上班鼓勵",message:"{連續上班同事}，真是勤奮！繼續保持！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"7",name:"連續上班提醒",message:"提醒：{連續上班同事}，請注意工作時數安排",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"8",name:"連續上班統計",message:"今天有{連續上班同事數量}位同事連續上班4天以上，大家辛苦了！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"9",name:"連續上班6天提醒",message:"{連續上班6天同事}，已經連續上班6天，請務必安排休息！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"10",name:"連續上班5天關心",message:"{連續上班5天同事}，連續上班5天辛苦了，記得適時休息喔～",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"11",name:"連續上班4天鼓勵",message:"{連續上班4天同事}，連續上班4天，工作態度值得肯定！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"12",name:"連續上班6天簡潔提醒",message:"{連續上班6天同事}，請務必安排休息！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"13",name:"連續上班5天簡潔關心",message:"{連續上班5天同事}，辛苦了，記得適時休息喔～",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"}],kY=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState([]),[i,s]=x.useState(0),[a,o]=x.useState(!1),[A,l]=x.useState(4),[u,d]=x.useState(""),[f,g]=x.useState(!0),[m,p]=x.useState(!1),[v,y]=x.useState(""),[w,B]=x.useState(""),[I,T]=x.useState(""),[F,C]=x.useState(!1),[_,S]=x.useState(!1),[P,Q]=x.useState(null),[k,N]=x.useState([]),[ae,be]=x.useState([]),[pe,we]=x.useState([]),[X,ne]=x.useState({}),[ce,Fe]=x.useState(Date.now()),[te,ke]=x.useState([]);x.useEffect(()=>Wd(Fi(or,"catSpeech","global"),j=>{if(j.exists()){const R=j.data();e(R.enabled||!1),n(R.texts||[]),l(R.intervalSeconds||4),S(R.smartMode||!1),N(R.customRules||[]),be(R.scheduleTemplates||[]),d("")}else e(!1),n([]),l(4),S(!1),N([]),be([]);g(!1)},j=>{console.error("監聽設定失敗:",j),d("載入對話設定失敗"),g(!1)}),[]),x.useEffect(()=>{(async()=>{try{const{doc:j,getDoc:R}=await ma(async()=>{const{doc:$,getDoc:z}=await Promise.resolve().then(()=>Hg);return{doc:$,getDoc:z}},void 0),K=await R(j(or,"catSpeech","dialogueOrder"));if(K.exists()){const $=K.data();$.dialogues&&Array.isArray($.dialogues)&&(ke($.dialogues),console.log("載入排序後的對話列表:",$.dialogues.length,"個對話"))}}catch(j){console.error("載入排序對話列表失敗:",j)}})()},[]),x.useEffect(()=>{if(!_)return;(async()=>{try{const{collection:j,getDocs:R}=await ma(async()=>{const{collection:z,getDocs:L}=await Promise.resolve().then(()=>Hg);return{collection:z,getDocs:L}},void 0),K=await R(j(or,"names")),$={};K.forEach(z=>{const L=z.data();$[z.id]=L.name}),ne($)}catch(j){console.error("載入姓名資料失敗:",j)}})()},[_]),x.useEffect(()=>{if(!_)return;(async()=>{try{console.log("開始載入班表資料...");const{collection:j,getDocs:R}=await ma(async()=>{const{collection:L,getDocs:oe}=await Promise.resolve().then(()=>Hg);return{collection:L,getDocs:oe}},void 0),K=await R(j(or,"schedule")),$={};let z=null;K.forEach(L=>{const oe=L.data();$[L.id]=oe,(L.id==="currentMonth"&&!z||L.id==="nextMonth"&&!z)&&(z=oe)}),console.log("載入的班表資料:",Object.keys($)),gY($),Q(z)}catch(j){console.error("載入班表資料失敗:",j)}})()},[_]),x.useEffect(()=>{if(!_||!t)return;const O=()=>{mY();const R=QY(P,k,ae,X);if(R.length>0){if(te.length>0){console.log("=== 開始使用排序後的對話列表 ==="),console.log("排序對話列表總數:",te.length),console.log("排序對話列表詳情:",te.map(Be=>{var At;return{id:Be.id,type:Be.type,message:(At=Be.message)==null?void 0:At.substring(0,20)}}));const ie=R.map(Be=>Be.id||`${Be.type}-${Be.message.substring(0,10)}`);console.log("當前觸發的智能對話數量:",R.length),console.log("當前觸發的對話詳情:",R.map(Be=>{var At;return{id:Be.id,type:Be.type,message:(At=Be.message)==null?void 0:At.substring(0,20)}})),console.log("當前觸發的對話ID:",ie);const Ie=te.filter(Be=>{var wo;console.log("檢查對話:",Be.id,Be.type,(wo=Be.message)==null?void 0:wo.substring(0,20));const At=ie.some(jA=>{const $s=Be.id===jA||Be.message&&ie.some(xo=>xo.includes(Be.message.substring(0,10)));return $s&&console.log("找到匹配:",Be.id,"匹配",jA),$s}),Vs=Be.type==="normal",Ks=(At||Vs)&&Be.message&&Be.message.trim()!=="";return console.log("是否包含:",Ks,"觸發:",At,"普通:",Vs),Ks});console.log("篩選後的觸發對話:",Ie.length,"個"),console.log("篩選後的對話詳情:",Ie.map(Be=>{var At;return{id:Be.id,type:Be.type,message:(At=Be.message)==null?void 0:At.substring(0,20)}}));const Ne=Ie.map(Be=>Be.message);if(Ne.length>0){console.log("設置排序後的對話:",Ne.length,"個"),we(R),n(Ne);return}else console.log("排序邏輯沒有找到有效對話，回退到原本邏輯")}console.log("使用原本的對話生成邏輯");const K=R.filter(ie=>ie.type==="custom").map(ie=>ie.message),$=R.filter(ie=>ie.type==="schedule").map(ie=>ie.message),z=[...K,...$].filter(ie=>ie&&ie.trim()!==""),L=r.filter(ie=>ie&&typeof ie=="string"&&ie.trim()!==""&&!z.includes(ie)),oe=[...z,...L];if(oe.length>0)we(R),n(oe);else{const ie=r.filter(Ie=>Ie&&typeof Ie=="string"&&Ie.trim()!=="");n(ie)}}else{const K=r.filter($=>$&&typeof $=="string"&&$.trim()!=="");n(K)}};O();const j=setInterval(O,30*1e3);return()=>clearInterval(j)},[_,t,P,k,ae,X,ce,te]),x.useEffect(()=>{if(r.length>0){if(i>=r.length)s(0);else if(!r[i]||typeof r[i]!="string"||r[i].trim()===""){const O=r.findIndex(j=>j&&typeof j=="string"&&j.trim()!=="");s(O!==-1?O:0)}}},[r,i]),x.useEffect(()=>{if(!t||r.length===0)return;const O=setInterval(()=>{o(!0),setTimeout(()=>{s(j=>j>=r.length||j===r.length-1?0:j+1),o(!1)},300)},A*1e3);return()=>clearInterval(O)},[t,r.length,A]);const Xe=()=>{Fe(Date.now())};x.useEffect(()=>{const O=j=>{j.ctrlKey&&j.altKey&&j.key==="A"&&p(!0),j.ctrlKey&&j.key==="R"&&_&&(j.preventDefault(),Xe())};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[_]);const Oe=async()=>{if(!v.trim()||!w.trim()){T("請輸入信箱和密碼");return}try{C(!0),T("");const{signInWithEmailAndPassword:O}=await ma(async()=>{const{signInWithEmailAndPassword:j}=await Promise.resolve().then(()=>cY);return{signInWithEmailAndPassword:j}},void 0);await O(YD,v,w),p(!1),y(""),B("")}catch(O){console.error("登入失敗:",O);let j="登入失敗";switch(O.code){case"auth/user-not-found":j="找不到此帳號";break;case"auth/wrong-password":j="密碼錯誤";break;case"auth/invalid-email":j="信箱格式錯誤";break;case"auth/too-many-requests":j="登入次數過多，請稍後再試";break;default:j="登入失敗："+O.message}T(j)}finally{C(!1)}};return f?c.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:c.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}):u?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:c.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),c.jsx("div",{className:"mt-2 mb-0 animate-fadeIn",children:c.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-2",children:c.jsx("div",{className:"text-red-400 text-center text-sm",children:u})})})]}):!t||r.length===0?c.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:c.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:c.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),c.jsx("div",{className:"mt-2 mb-0 animate-fadeIn",children:c.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-2xl p-2 border border-primary/20 backdrop-blur-sm shadow-lg relative",children:[_&&c.jsx("button",{onClick:Xe,className:"absolute top-1 right-1 w-6 h-6 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100 z-10",title:"刷新智能對話 (Ctrl+R)",children:c.jsx("svg",{className:"w-3 h-3 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),c.jsx("div",{className:"relative",children:c.jsx("div",{className:`text-white text-center text-lg leading-relaxed min-h-[1.2rem] flex items-center justify-center transition-all duration-300 ${a?"opacity-0 transform translate-y-2":"opacity-100 transform translate-y-0"}`,children:(()=>{const O=r[i];if(O&&typeof O=="string"&&O.trim()!=="")return O;if(r.length===0)return"喵～";{const j=r.findIndex((R,K)=>K>i&&R&&typeof R=="string"&&R.trim()!=="");if(j!==-1)return r[j];{const R=r.findIndex(K=>K&&typeof K=="string"&&K.trim()!=="");return R!==-1?r[R]:"喵～"}}})()})})]})}),m&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-surface rounded-xl p-6 w-96 border border-primary/20",children:[c.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"管理員登入"}),c.jsx("input",{type:"email",placeholder:"管理員信箱",value:v,onChange:O=>y(O.target.value),disabled:F,className:"w-full mb-3 p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:opacity-50",onKeyPress:O=>O.key==="Enter"&&!F&&Oe()}),c.jsx("input",{type:"password",placeholder:"密碼",value:w,onChange:O=>B(O.target.value),disabled:F,className:"w-full mb-4 p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:opacity-50",onKeyPress:O=>O.key==="Enter"&&!F&&Oe()}),I&&c.jsx("div",{className:"text-red-400 text-sm mb-3 bg-red-500/10 border border-red-500/20 rounded-lg p-2",children:I}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:Oe,disabled:F,className:"flex-1 bg-primary text-white p-3 rounded-lg hover:bg-primary/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:F?"登入中...":"登入"}),c.jsx("button",{onClick:()=>p(!1),disabled:F,className:"flex-1 bg-white/10 text-white p-3 rounded-lg hover:bg-white/20 transition-colors disabled:opacity-50",children:"取消"})]})]})})]})},OY="/Brainless/assets/logo-cat-CbWHoD5g.png";function DY(){return c.jsx("header",{className:"bg-surface text-white",children:c.jsx("div",{className:"container-custom py-4 md:py-6",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("div",{className:"flex items-center gap-4 relative",children:[c.jsx("img",{src:OY,alt:"Cat Logo",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full border-2 border-primary p-1 logo logo-glow logo-float"}),c.jsxs("div",{className:"flex flex-col items-start gap-1",children:[c.jsx("h1",{className:"text-2xl sm:text-4xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Brainless"}),c.jsx(g$,{})]})]}),c.jsx(kY,{})]})})})}function jY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const RY=x.forwardRef(jY);function MY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const B2=x.forwardRef(MY);function LY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const HY=x.forwardRef(LY);function VY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const KY=x.forwardRef(VY);function $Y({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))}const Yd=x.forwardRef($Y);function GY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const ud=x.forwardRef(GY);function WY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const ej=x.forwardRef(WY);function zY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const YY=x.forwardRef(zY);function XY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const ib=x.forwardRef(XY);function qY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const sb=x.forwardRef(qY);function JY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const kh=x.forwardRef(JY);function ZY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const tj=x.forwardRef(ZY);function eX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const tX=x.forwardRef(eX);function rX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Ji=x.forwardRef(rX);function nX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Zi=x.forwardRef(nX);function iX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const sX=x.forwardRef(iX);function aX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const rj=x.forwardRef(aX);function oX(t){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 20v-7m0 0l6-6.5H6L12 13zm-4-9h8m-8 0l-2-2m10 2l2-2"})})}const C2=[{path:"/sandwich",label:"三明治計算器",icon:c.jsx(Yd,{className:"w-5 h-5"})},{path:"/cashier",label:"收銀管理",icon:c.jsx(HY,{className:"w-5 h-5"})},{path:"/coffee-beans",label:"咖啡豆管理",icon:c.jsx(ib,{className:"w-5 h-5"})},{path:"/schedule",label:"班表管理",icon:c.jsx(ud,{className:"w-5 h-5"})},{path:"/daily-reports",label:"報表生成器",icon:c.jsx(tj,{className:"w-5 h-5"})},{path:"/poursteady",label:"手沖機調整",icon:c.jsx(KY,{className:"w-5 h-5"})},{path:"/alcohol",label:"酒精計算",icon:c.jsx(oX,{className:"w-5 h-5"})}];function AX(){const[t,e]=x.useState(!1),[r,n]=x.useState(!0),[i,s]=x.useState("");if(x.useEffect(()=>{let o=!0;const A=YD.onAuthStateChanged(async l=>{if(o){if(l)try{const u=await hY(l.uid);o&&(e(u),s(""))}catch(u){console.error("檢查管理員狀態失敗:",u),o&&(e(!1),s("權限檢查失敗"))}else o&&(e(!1),s(""));o&&n(!1)}});return()=>{o=!1,A()}},[]),r)return c.jsx("nav",{className:"bg-surface sticky top-0 z-50 shadow-lg",children:c.jsx("div",{className:"container-custom py-2 sm:py-4",children:c.jsxs("div",{className:"flex justify-center gap-2 sm:gap-4",children:[C2.map(({path:o,label:A,icon:l})=>c.jsxs("div",{className:"flex flex-col items-center w-[5.5rem] sm:w-28 min-h-[4.5rem] sm:min-h-20 p-2 sm:p-3 rounded-lg animate-pulse",children:[c.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-white/10 rounded mb-1.5 sm:mb-2"}),c.jsx("div",{className:"w-12 h-3 bg-white/10 rounded text-xs sm:text-sm"})]},o)),c.jsxs("div",{className:"flex flex-col items-center w-[5.5rem] sm:w-28 min-h-[4.5rem] sm:min-h-20 p-2 sm:p-3 rounded-lg animate-pulse",children:[c.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-white/10 rounded mb-1.5 sm:mb-2"}),c.jsx("div",{className:"w-12 h-3 bg-white/10 rounded text-xs sm:text-sm"})]})]})})});const a=[...C2,...t?[{path:"/admin",label:"管理設定",icon:c.jsx(sb,{className:"w-5 h-5"})}]:[]];return c.jsx("nav",{className:"bg-surface sticky top-0 z-50 shadow-lg",children:c.jsxs("div",{className:"container-custom py-2 sm:py-4",children:[i&&c.jsx("div",{className:"mb-4 bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"text-amber-500",children:"⚠️"}),c.jsx("p",{className:"text-amber-400 text-sm",children:i})]})}),c.jsx("div",{className:"flex justify-center gap-2 sm:gap-4",children:a.map(({path:o,label:A,icon:l})=>c.jsxs(c$,{to:o,className:({isActive:u})=>`
                flex flex-col items-center
                w-[5.5rem] sm:w-28
                min-h-[4.5rem] sm:min-h-20
                p-2 sm:p-3
                rounded-lg
                transition-all duration-200
                ${u?"text-primary bg-primary/10":"text-text-secondary hover:text-text-primary hover:bg-white/5"}
              `,children:[c.jsx("div",{className:"mb-1.5 sm:mb-2",children:Kp.cloneElement(l,{className:"w-6 h-6 sm:w-7 sm:h-7"})}),c.jsx("div",{className:"text-xs sm:text-sm text-center leading-tight",children:A})]},o))})]})})}function lX({children:t}){return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(DY,{}),c.jsx(AX,{}),c.jsx("main",{className:"py-6",children:c.jsx("div",{className:"container-custom",children:t})})]})}function uX(){return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary border-t-transparent"}),c.jsx("p",{className:"text-text-secondary animate-pulse",children:"載入中..."})]})})}function cX(){return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h1",{className:"text-4xl font-bold text-red-500",children:"出錯了！"}),c.jsx("p",{className:"text-text-secondary",children:"抱歉，頁面載入時發生錯誤。"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"重新載入"})]})})}class dX extends Kp.Component{constructor(r){super(r);tc(this,"handleReload",()=>{window.location.reload()});tc(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){console.error("錯誤邊界捕獲到錯誤:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:c.jsxs("div",{className:"text-center max-w-md mx-auto",children:[c.jsx("div",{className:"text-red-400 text-6xl mb-6",children:"😵"}),c.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"哎呀！發生了一些問題"}),c.jsx("p",{className:"text-text-secondary mb-6",children:"應用程序遇到了一個意外錯誤。請嘗試重新載入頁面或返回首頁。"}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:this.handleReload,className:"w-full bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/80 transition-colors",children:"重新載入頁面"}),c.jsx("button",{onClick:this.handleGoHome,className:"w-full bg-white/10 text-white px-6 py-3 rounded-lg hover:bg-white/20 transition-colors",children:"返回首頁"})]}),!1]})}):this.props.children}}function fX(t){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 21.5c4.5 0 7.5-3 7.5-7.5C19.5 8.5 12 2.5 12 2.5S4.5 8.5 4.5 14c0 4.5 3 7.5 7.5 7.5z"})})}const _i={hot:[40,78,120,162,200,230],cold:{"150ml":[40,58,80,102,120,150],"140ml":[40,58,80,102,120,140],"130ml":[40,58,80,102,120,130]}},Oh={hot:[40,38,42,42,38,30],cold:{"150ml":[40,18,22,22,18,30],"140ml":[40,18,22,22,18,20],"130ml":[40,18,22,22,18,10]}};function hX(){const[t,e]=x.useState("hot"),[r,n]=x.useState("150ml"),[i,s]=x.useState({hot:Array(6).fill(""),cold:Array(6).fill("")}),a=(u,d)=>{const f=[...i[t]];f[u]=d,f.map((g,m)=>g===""?_i[t][m]:Number(g)),s({...i,[t]:f})},o=()=>{s({...i,[t]:Array(6).fill("")})},A=u=>{n(u),s({...i,cold:Array(6).fill("")})},l=u=>{const d=i[t][u];return t==="hot"?d===""?_i.hot[u]:Number(d):d===""?_i.cold[r][u]:Number(d)};return c.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6 sm:space-y-8",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:c.jsx(fX,{className:"w-6 h-6 text-primary"})}),c.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Poursteady 注水量調整"})]}),c.jsx("button",{onClick:o,className:`
            w-full sm:w-auto px-4 py-2 rounded-lg font-medium
            transition-all duration-200
            border border-white/10
            hover:bg-white/5
          `,children:"重設"})]}),c.jsxs("div",{className:"flex gap-2 bg-surface/30 p-1.5 rounded-xl w-full sm:w-fit",children:[c.jsx("button",{onClick:()=>e("hot"),className:`
            flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
            transition-all duration-200
            ${t==="hot"?"bg-gradient-to-br from-rose-500 to-amber-500 text-white shadow-lg shadow-rose-500/20":"text-text-secondary hover:bg-white/5"}
          `,children:"熱手沖"}),c.jsx("button",{onClick:()=>e("cold"),className:`
            flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
            transition-all duration-200
            ${t==="cold"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
          `,children:"冰手沖"})]}),t==="cold"&&c.jsxs("div",{className:"flex gap-2 bg-surface/30 p-1.5 rounded-xl w-full sm:w-fit",children:[c.jsx("button",{onClick:()=>A("150ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="150ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"150ml"}),c.jsx("button",{onClick:()=>A("140ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="140ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"140ml"}),c.jsx("button",{onClick:()=>A("130ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="130ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"130ml"})]}),c.jsx("div",{className:"grid gap-4",children:(t==="hot"?_i.hot:_i.cold[r]).map((u,d)=>{const f=l(d),g=d>0?l(d-1):0,m=d===0?f:f-g,p=t==="hot"?Oh.hot[d]:Oh.cold[r][d],v=Math.round(m-p);return c.jsx("div",{className:`
                bg-gradient-to-br from-surface/30 to-surface/20
                rounded-xl p-5 space-y-4 border border-white/5
                transition-all duration-300 hover:shadow-lg
                ${t==="hot"?"hover:border-rose-500/20":"hover:border-blue-500/20"}
              `,children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`
                    w-8 h-8 rounded-full flex items-center justify-center font-bold
                    ${t==="hot"?"bg-gradient-to-br from-rose-400/20 to-amber-400/20 text-rose-400":"bg-gradient-to-br from-blue-400/20 to-cyan-400/20 text-blue-400"}
                  `,children:d+1}),c.jsxs("div",{children:[c.jsxs("div",{className:"font-medium",children:["第 ",d+1," 段注水"]}),c.jsxs("div",{className:"text-sm text-text-secondary",children:["累計標準: ",u," ml",c.jsxs("span",{className:"block sm:inline sm:ml-2",children:["單段標準: ",p," ml"]})]})]})]}),c.jsx("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-end",children:c.jsxs("div",{className:"w-full sm:w-32 text-center",children:[c.jsx("input",{type:"number",value:i[t][d],onChange:y=>a(d,y.target.value),placeholder:_i[t][d],step:"0.1",className:`
                        w-full sm:w-24 text-center rounded-lg px-2 py-1.5 text-lg font-bold
                        bg-white/5 border border-white/10 focus:outline-none
                        focus:ring-1 ${t==="hot"?"focus:ring-rose-500":"focus:ring-blue-500"}
                      `}),v!==0&&c.jsxs("div",{className:`text-xs mt-1 ${v>0?"text-green-400":"text-red-400"}`,children:[v>0?`+${v}`:v," ml"]})]})})]})},d)})}),c.jsx("div",{className:`
        bg-gradient-to-br from-surface/30 to-surface/20
        rounded-xl p-5 border border-white/5
        ${t==="hot"?"hover:border-rose-500/20":"hover:border-blue-500/20"}
      `,children:c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-text-secondary",children:"總注水量"}),c.jsxs("div",{className:"text-2xl sm:text-3xl font-bold mt-1",children:[l(5)," ml"]}),(()=>{const u=l(5),d=t==="hot"?_i.hot[5]:_i.cold[r][5],f=Math.round(u-d);return f!==0?c.jsxs("div",{className:`text-sm mt-1 ${f>0?"text-green-400":"text-red-400"}`,children:[f>0?`+${f}`:f," ml"]}):null})()]}),c.jsxs("div",{className:"text-right w-full sm:w-auto",children:[c.jsx("div",{className:"text-sm text-text-secondary",children:"標準總量"}),c.jsxs("div",{className:"text-xl mt-1",children:[t==="hot"?_i.hot[5]:_i.cold[r][5]," ml"]}),c.jsx("div",{className:`
              text-xs mt-2 px-2 py-1 rounded-full w-fit ml-auto
              ${t==="hot"?"bg-rose-500/10 text-rose-400":"bg-blue-500/10 text-blue-400"}
            `,children:t==="hot"?"熱手沖":"冰手沖"})]})]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`
            w-1 h-5 rounded-full
            ${t==="hot"?"bg-rose-400":"bg-blue-400"}
          `}),c.jsx("h2",{className:"font-medium",children:"需調整水量"})]}),c.jsx("div",{className:"grid gap-2",children:(t==="hot"?Oh.hot:Oh.cold[r]).map((u,d)=>{const f=l(d),g=d>0?l(d-1):0,m=d===0?f:f-g,p=Math.round(u-m);return p===0?null:c.jsxs("div",{className:`
                  flex items-center justify-between
                  px-4 py-2 rounded-lg
                  ${t==="hot"?"bg-rose-500/5":"bg-blue-500/5"}
                `,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`
                    w-6 h-6 rounded-full 
                    flex items-center justify-center 
                    text-sm font-medium
                    ${t==="hot"?"bg-rose-400/10 text-rose-400":"bg-blue-400/10 text-blue-400"}
                  `,children:d+1}),c.jsxs("span",{children:["第 ",d+1," 段注水"]})]}),c.jsxs("span",{className:`
                  text-sm px-3 py-1 rounded-full font-medium
                  ${p>0?"bg-green-400/10 text-green-400":"bg-red-400/10 text-red-400"}
                `,children:[p>0?`+${p}`:p," ml"]})]},d)})})]})]})}function gX(t){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 20v-7m0 0l6-6.5H6L12 13zm-4-9h8m-8 0l-2-2m10 2l2-2"})})}function mX(){const[t,e]=x.useState([{volume:"",concentration:"",unit:"ml",id:Date.now()}]),[r,n]=x.useState({method:"volume",volume:"",cubes:"",cubeWeight:""}),[i,s]=x.useState(null),[a,o]=x.useState("ml"),A=(p,v,y)=>{if(!p)return"";const w=parseFloat(p);return v===y?w:v==="shot"?w*30:w/30},l=()=>{e([...t,{volume:"",concentration:"",unit:"ml",id:Date.now()}])},u=p=>{t.length>1&&e(t.filter(v=>v.id!==p))},d=(p,v,y)=>{e(t.map(w=>w.id===p?{...w,[v]:y}:w))},f=p=>{e(t.map(v=>{if(v.id!==p)return v;const y=v.unit==="shot"?"ml":"shot";return{...v,unit:y,volume:A(v.volume,v.unit,y).toString()}}))},g=()=>{const p=t.reduce((I,{volume:T,concentration:F,unit:C})=>{const _=parseFloat(T)||0,S=C==="shot"?_*30:_,P=parseFloat(F)||0;return I+S*(P/100)},0),v=t.reduce((I,{volume:T,unit:F})=>{const C=parseFloat(T)||0;return I+(F==="shot"?C*30:C)},0);let y=0;if(r.method==="volume")y=parseFloat(r.volume)||0;else{const I=parseFloat(r.cubes)||0,T=parseFloat(r.cubeWeight)||0;y=I*T}const w=v+y,B=p/w*100;s({originalConcentration:p/v*100,finalConcentration:B,totalVolume:w,pureAlcohol:p,meltedIceVolume:y})},m=()=>{e([{volume:"",concentration:"",unit:"ml",id:Date.now()}]),n({method:"volume",volume:"",cubes:"",cubeWeight:""}),s(null)};return c.jsx("div",{className:"container-custom py-8",children:c.jsx("div",{className:"max-w-2xl mx-auto px-4",children:c.jsxs("div",{className:"bg-surface rounded-2xl p-6 shadow-xl",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsxs("div",{className:"inline-flex items-center justify-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-blue-500/20 to-cyan-500/20",children:c.jsx(gX,{className:"w-8 h-8 text-blue-400"})}),c.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"酒精濃度計算器"})]})}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white/5 rounded-xl p-6 space-y-4",children:[c.jsxs("h2",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-5 bg-blue-400 rounded-full"}),"酒類清單"]}),c.jsx("div",{className:"space-y-4",children:t.map((p,v)=>c.jsxs("div",{className:"bg-white/5 rounded-lg p-4 transition-all duration-200 hover:bg-white/10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"text-sm font-medium text-blue-400",children:["酒類 ",v+1]}),t.length>1&&c.jsx("button",{onClick:()=>u(p.id),className:"p-1 rounded-lg hover:bg-red-500/10 text-red-400 transition-colors",children:c.jsx(rj,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("label",{className:"text-sm text-text-secondary",children:"容量"}),c.jsx("button",{onClick:()=>f(p.id),className:`text-xs px-2 py-0.5 rounded-full bg-blue-500/10 
                                     hover:bg-blue-500/20 transition-colors text-blue-400`,children:p.unit==="shot"?"ml":"shot"})]}),c.jsx("input",{type:"number",value:p.volume,onChange:y=>d(p.id,"volume",y.target.value),className:"input-field w-full",placeholder:p.unit==="shot"?"1 shot = 30ml":"輸入毫升",min:"0",step:p.unit==="shot"?"0.5":"1"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"濃度 (%)"}),c.jsx("input",{type:"number",value:p.concentration,onChange:y=>d(p.id,"concentration",y.target.value),className:"input-field w-full",placeholder:"輸入濃度",min:"0",max:"100"})]})]})]},p.id))}),c.jsx("button",{onClick:l,className:`w-full py-3 rounded-lg border-2 border-dashed border-blue-500/30
                         hover:bg-blue-500/5 text-blue-400
                         transition-all duration-200 group`,children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx(Ji,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),c.jsx("span",{className:"text-sm font-medium",children:"添加酒類"})]})})]}),c.jsxs("div",{className:"bg-white/5 rounded-xl p-6",children:[c.jsxs("h2",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-5 bg-blue-400 rounded-full"}),"融冰計算"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>n(p=>({...p,method:"volume"})),className:`p-3 rounded-lg transition-all duration-200 ${r.method==="volume"?"bg-blue-500 text-white shadow-lg shadow-blue-500/25":"bg-white/5 hover:bg-white/10 text-text-secondary"}`,children:[c.jsx("div",{className:"text-sm font-medium",children:"直接輸入體積"}),c.jsx("div",{className:"text-xs mt-1 opacity-60",children:"手動輸入融冰量"})]}),c.jsxs("button",{onClick:()=>n(p=>({...p,method:"cubes"})),className:`p-3 rounded-lg transition-all duration-200 ${r.method==="cubes"?"bg-blue-500 text-white shadow-lg shadow-blue-500/25":"bg-white/5 hover:bg-white/10 text-text-secondary"}`,children:[c.jsx("div",{className:"text-sm font-medium",children:"計算冰塊體積"}),c.jsx("div",{className:"text-xs mt-1 opacity-60",children:"根據冰塊計算"})]})]}),c.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:r.method==="volume"?c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"融冰體積 (ml)"}),c.jsx("input",{type:"number",value:r.volume,onChange:p=>n(v=>({...v,volume:p.target.value})),className:"input-field w-full",placeholder:"輸入預計融化的體積",min:"0"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"冰塊數量"}),c.jsx("input",{type:"number",value:r.cubes,onChange:p=>n(v=>({...v,cubes:p.target.value})),className:"input-field w-full",placeholder:"輸入數量",min:"0"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"每個冰塊重量 (g)"}),c.jsx("input",{type:"number",value:r.cubeWeight,onChange:p=>n(v=>({...v,cubeWeight:p.target.value})),className:"input-field w-full",placeholder:"輸入冰塊重量",min:"0"})]})]}),r.cubes&&r.cubeWeight&&c.jsxs("div",{className:"text-sm bg-blue-500/10 text-blue-400 rounded-lg p-3",children:["預計融化體積：",(parseFloat(r.cubes)*parseFloat(r.cubeWeight)).toFixed(0)," ml"]})]})})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:g,className:`flex-1 py-3 rounded-lg bg-gradient-to-r from-blue-500 to-cyan-500
                         text-white font-medium shadow-lg shadow-blue-500/25
                         hover:shadow-xl hover:shadow-blue-500/40 
                         transition-all duration-200`,children:"計算結果"}),c.jsx("button",{onClick:m,className:`flex-1 py-3 rounded-lg bg-white/5 hover:bg-white/10 
                         text-text-secondary transition-all duration-200`,children:"重設"})]}),i&&c.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fade-in",children:[c.jsxs("div",{className:"col-span-2 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg p-4",children:[c.jsx("div",{className:"text-sm text-gray-300",children:i.meltedIceVolume>0?"加入融冰後濃度":"酒精濃度"}),c.jsxs("div",{className:"text-3xl font-bold text-blue-400 mt-1",children:[i.finalConcentration.toFixed(2),"%"]}),i.meltedIceVolume>0&&c.jsxs("div",{className:"text-sm text-gray-300 mt-2",children:["調酒前濃度：",i.originalConcentration.toFixed(2),"%"]})]}),c.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[c.jsx("div",{className:"text-sm text-text-secondary",children:"總容量"}),c.jsx("div",{className:"text-xl font-bold mt-1",children:a==="shot"?`${(i.totalVolume/30).toFixed(1)} shot`:`${i.totalVolume.toFixed(0)} ml`}),c.jsx("div",{className:"text-sm text-text-secondary mt-1",children:a==="shot"?`${i.totalVolume.toFixed(0)} ml`:`${(i.totalVolume/30).toFixed(1)} shot`}),i.meltedIceVolume>0&&c.jsxs("div",{className:"text-sm text-text-secondary mt-1",children:["含融冰：",i.meltedIceVolume.toFixed(0)," ml"]})]}),c.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[c.jsx("div",{className:"text-sm text-text-secondary",children:"純酒精含量"}),c.jsx("div",{className:"text-xl font-bold mt-1",children:a==="shot"?`${(i.pureAlcohol/30).toFixed(1)} shot`:`${i.pureAlcohol.toFixed(0)} ml`}),c.jsx("div",{className:"text-sm text-text-secondary mt-1",children:a==="shot"?`${i.pureAlcohol.toFixed(0)} ml`:`${(i.pureAlcohol/30).toFixed(1)} shot`})]})]})]})]})})})}function pX(t,e){const[r,n]=x.useState(()=>{try{const i=window.localStorage.getItem(t);return i?JSON.parse(i):e}catch(i){return console.error(i),e}});return x.useEffect(()=>{try{window.localStorage.setItem(t,JSON.stringify(r))}catch(i){console.error(i)}},[t,r]),[r,n]}const _e={common:{loading:"載入中...",error:"出錯了！",retry:"重試",save:"儲存",cancel:"取消",confirm:"確認",delete:"刪除",edit:"編輯"},sandwich:{title:"三明治計算器",subtitle:"選擇拉奶，選擇成功",inputsTitle:"計算輸入",inputsSubtitle:"輸入現有數量",existingHam:"現有的火腿三明治",existingSalami:"現有的臘腸三明治",distribution:"分配方式",distributionEven:"平均分配",distributionHam:"優先火腿",distributionSalami:"優先臘腸",extraBagsLabel:"額外需要的麵包包數",calculate:"計算結果",reset:"重設輸入",resultsTitle:"計算結果",resultsSubtitle:"製作需求總覽",needHam:"需製作的火腿三明治",needSalami:"需製作的臘腸三明治",needBags:"需要的麵包數量",totalNeed:"總計需求",emptyHint:"點擊計算按鈕查看結果"},sandwichUi:{summaryTarget:"目標",summaryExisting:"現有",summaryToMake:"需製作",unitPiece:"個",unitBag:"包",capacityTitle:"容量與分配資訊",capacityFormula:"容量 = 包數 × 每包數量",capacityLeftover:"剩餘切片 = 容量 − 需求",capacityDistributionTitle:"分配方式",capacityEvenDetail:"平均分配：多出的切片會均分到火腿與臘腸",capacityHamDetail:"優先火腿：多出的切片全分給火腿",capacitySalamiDetail:"優先臘腸：多出的切片全分給臘腸",capacityActual:"本次實際分配",hamProgress:"火腿達成度",salamiProgress:"臘腸達成度",inputPlaceholderNumber:"輸入個數",tooltipEven:"平均分配多出的切片",tooltipHam:"多出的切片優先給火腿",tooltipSalami:"多出的切片優先給臘腸"},settings:{title:"基本設定",subtitle:"調整計算參數",breadPerBag:"每包麵包的數量",targetHam:"目標火腿三明治數量",targetSalami:"目標臘腸三明治數量",done:"完成設定"}};function qA(t){const e=parseInt(t,10);return Number.isFinite(e)?e:0}function E2(t,e){const r=Math.max(1,qA(e.breadPerBag)),n=Math.max(0,qA(e.targetHam)),i=Math.max(0,qA(e.targetSalami)),s=Math.max(0,qA(t.existingHam)),a=Math.max(0,qA(t.existingSalami)),o=Math.max(0,qA(t.extraBags)),A=t.distribution||"even",l=Math.max(0,n-s),u=Math.max(0,i-a),d=l+u,g=Math.max(0,Math.ceil(d/r))+o,m=g*r,p=Math.max(0,m-d);let v=0,y=0;switch(A){case"ham":v=p;break;case"salami":y=p;break;default:v=Math.floor(p/2),y=p-v}const w=l+v,B=u+y;return{totalHamNeeded:w,totalSalamiNeeded:B,bagsNeeded:g,totalTarget:n+i,totalExisting:s+a,baseHamNeeded:l,baseSalamiNeeded:u,baseTotalNeeded:d,totalSlices:m,extraSlices:p,extraHam:v,extraSalami:y}}function vX(){const t={breadPerBag:8,targetHam:60,targetSalami:30},[e,r]=pX("sandwich_settings",t),[n,i]=x.useState({existingHam:"",existingSalami:"",extraBags:0,distribution:"even"}),[s,a]=x.useState(!1),[o,A]=x.useState(e),[l,u]=x.useState(null),[d,f]=x.useState(!0),[g,m]=x.useState(null),[p,v]=x.useState(!1);x.useEffect(()=>{let C;try{C=Wd(Fi(or,"settings","sandwich"),_=>{_.exists()?r(_.data()):Ko(_.ref,e).catch(S=>{console.error("創建設定文件失敗:",S)}),f(!1)},_=>{console.error("讀取設定錯誤:",_),m("無法連接到 Firebase，使用本地設定"),f(!1)})}catch(_){console.error("Firebase 初始化錯誤:",_),m("Firebase 連接失敗，使用本地設定"),f(!1)}return()=>{C&&C()}},[]),x.useEffect(()=>{s&&A(e)},[s,e]);const y=async C=>{r(C);try{await Ko(Fi(or,"settings","sandwich"),C)}catch(_){console.error("更新設定錯誤:",_),m("無法同步到 Firebase，設定已保存到本地")}},w=async()=>{await y(o),a(!1)},B=()=>{const C=E2(n,e);u(C)},I=x.useMemo(()=>E2(n,e),[n,e]),T=()=>{i({existingHam:"",existingSalami:"",extraBags:0,distribution:"even"}),u(null)},F=[{value:"even",label:_e.sandwich.distributionEven},{value:"ham",label:_e.sandwich.distributionHam},{value:"salami",label:_e.sandwich.distributionSalami}];return c.jsx("div",{className:"container-custom py-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent mb-2",children:_e.sandwich.title}),c.jsx("p",{className:"text-text-secondary",children:_e.sandwich.subtitle})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[c.jsxs("div",{className:"card bg-gradient-to-br from-surface/80 to-surface/60 border-primary/20",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:c.jsx(Yd,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg sm:text-xl font-bold text-primary",children:_e.sandwich.inputsTitle}),c.jsx("p",{className:"text-xs sm:text-sm text-text-secondary",children:_e.sandwich.inputsSubtitle})]})]}),c.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-lg bg-primary/20 hover:bg-primary/30 border border-primary/30 text-primary transition-all duration-200 hover:scale-110",title:_e.settings.title,children:c.jsx(sb,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),d?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"})}):g?c.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 mb-4",children:c.jsxs("div",{className:"flex items-center gap-2 text-amber-400",children:[c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),c.jsx("span",{className:"text-sm font-medium",children:g})]})}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsxs("div",{className:"rounded-lg bg-white/5 border border-white/10 p-3 text-center",children:[c.jsx("div",{className:"text-xs text-text-secondary",children:_e.sandwichUi.summaryTarget}),c.jsx("div",{className:"text-base font-semibold",children:I.totalTarget})]}),c.jsxs("div",{className:"rounded-lg bg-white/5 border border-white/10 p-3 text-center",children:[c.jsx("div",{className:"text-xs text-text-secondary",children:_e.sandwichUi.summaryExisting}),c.jsx("div",{className:"text-base font-semibold text-text-secondary",children:I.totalExisting})]}),c.jsxs("div",{className:"rounded-lg bg-primary/10 border border-primary/30 p-3 text-center",children:[c.jsx("div",{className:"text-xs text-text-secondary",children:_e.sandwichUi.summaryToMake}),c.jsx("div",{className:"text-lg sm:text-xl font-bold text-primary",children:I.baseTotalNeeded})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:_e.sandwich.existingHam}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"number",className:"input-field w-full pr-10",placeholder:_e.sandwichUi.inputPlaceholderNumber,min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:n.existingHam,onChange:C=>i({...n,existingHam:C.target.value})}),c.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-text-secondary text-sm",children:_e.sandwichUi.unitPiece})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:_e.sandwich.existingSalami}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"number",className:"input-field w-full pr-10",placeholder:_e.sandwichUi.inputPlaceholderNumber,min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:n.existingSalami,onChange:C=>i({...n,existingSalami:C.target.value})}),c.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-text-secondary text-sm",children:_e.sandwichUi.unitPiece})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:_e.sandwich.distribution}),c.jsx("div",{role:"radiogroup","aria-label":_e.sandwich.distribution,className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:F.map(C=>c.jsx("button",{role:"radio","aria-checked":n.distribution===C.value,title:C.value==="even"?_e.sandwichUi.tooltipEven:C.value==="ham"?_e.sandwichUi.tooltipHam:_e.sandwichUi.tooltipSalami,onClick:()=>i({...n,distribution:C.value}),className:`px-3 py-2 sm:px-4 sm:py-3 rounded-lg transition-all duration-200 text-sm sm:text-base ${n.distribution===C.value?"bg-primary/20 border border-primary/30 text-primary":"bg-white/5 hover:bg-white/10 text-text-secondary border border-transparent"}`,children:c.jsx("span",{className:"font-medium",children:C.label})},C.value))})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm text-text-secondary mb-2",children:[_e.sandwich.extraBagsLabel,"：",n.extraBags]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"range",min:"0",max:"5",step:"1",value:n.extraBags,"aria-label":_e.sandwich.extraBagsLabel,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onTouchStart:()=>v(!0),onTouchEnd:()=>v(!1),onChange:C=>i(_=>({..._,extraBags:parseInt(C.target.value,10)||0})),className:`w-full h-3 bg-white/10 rounded-lg appearance-none cursor-pointer
                                touch-manipulation
                                [&::-webkit-slider-thumb]:appearance-none
                                [&::-webkit-slider-thumb]:w-6
                                [&::-webkit-slider-thumb]:h-6
                                [&::-webkit-slider-thumb]:rounded-full
                                [&::-webkit-slider-thumb]:bg-primary
                                [&::-webkit-slider-thumb]:cursor-pointer
                                [&::-webkit-slider-thumb]:hover:bg-primary/80
                                [&::-webkit-slider-thumb]:transition-all
                                [&::-webkit-slider-thumb]:shadow-lg
                                [&::-moz-range-thumb]:appearance-none
                                [&::-moz-range-thumb]:border-0
                                [&::-moz-range-thumb]:w-6
                                [&::-moz-range-thumb]:h-6
                                [&::-moz-range-thumb]:rounded-full
                                [&::-moz-range-thumb]:bg-primary
                                [&::-moz-range-thumb]:cursor-pointer
                                [&::-moz-range-thumb]:hover:bg-primary/80
                                [&::-moz-range-thumb]:transition-all
                                [&::-moz-range-thumb]:shadow-lg`}),p&&c.jsx("div",{className:"absolute -top-7",style:{left:`${n.extraBags/5*100}%`,transform:"translateX(-50%)"},children:c.jsx("div",{className:"px-2 py-0.5 rounded bg-primary/80 text-white text-xs shadow",children:n.extraBags})})]}),c.jsxs("div",{className:"flex justify-between text-xs text-text-secondary mt-2 px-1",children:[c.jsx("span",{children:"0"}),c.jsx("span",{children:"1"}),c.jsx("span",{children:"2"}),c.jsx("span",{children:"3"}),c.jsx("span",{children:"4"}),c.jsx("span",{children:"5"})]})]}),c.jsxs("div",{className:"space-y-3 pt-4",children:[c.jsx("button",{onClick:B,className:"btn-primary w-full py-3 sm:py-4 text-sm sm:text-base",children:_e.sandwich.calculate}),c.jsx("button",{onClick:T,className:`w-full px-3 py-2 sm:px-4 sm:py-3 bg-white/5 hover:bg-white/10 
                              text-text-secondary rounded-lg transition-all duration-200 text-sm sm:text-base`,children:_e.sandwich.reset})]})]})]}),c.jsxs("div",{className:"card bg-gradient-to-br from-surface/60 to-surface/40 border-primary/20",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:c.jsx(ej,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg sm:text-xl font-bold text-primary",children:_e.sandwich.resultsTitle}),c.jsx("p",{className:"text-xs sm:text-sm text-text-secondary",children:_e.sandwich.resultsSubtitle})]})]}),l?c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalHamNeeded}),c.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[_e.sandwich.needHam,"（",_e.sandwichUi.unitPiece,"）"]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalSalamiNeeded}),c.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[_e.sandwich.needSalami,"（",_e.sandwichUi.unitPiece,"）"]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:l.bagsNeeded}),c.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[_e.sandwich.needBags,"（",_e.sandwichUi.unitBag,"）"]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalHamNeeded+l.totalSalamiNeeded}),c.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[_e.sandwich.totalNeed,"（",_e.sandwichUi.unitPiece,"）"]})]}),c.jsxs("div",{className:"rounded-xl p-4 bg-white/5 border border-white/10 space-y-1.5",children:[c.jsx("div",{className:"text-sm font-semibold",children:_e.sandwichUi.capacityTitle}),c.jsxs("div",{className:"text-xs text-text-secondary",children:[_e.sandwichUi.capacityFormula,"：",l.bagsNeeded," × ",e.breadPerBag," = ",c.jsx("span",{className:"text-white font-medium",children:l.totalSlices})]}),c.jsxs("div",{className:"text-xs text-text-secondary",children:[_e.sandwichUi.capacityLeftover,"：",c.jsx("span",{className:"text-white font-medium",children:l.extraSlices})]}),c.jsxs("div",{className:"text-xs text-text-secondary mt-2",children:[_e.sandwichUi.capacityDistributionTitle,"：",c.jsxs("span",{className:"ml-1",children:[n.distribution==="even"&&_e.sandwichUi.capacityEvenDetail,n.distribution==="ham"&&_e.sandwichUi.capacityHamDetail,n.distribution==="salami"&&_e.sandwichUi.capacitySalamiDetail]})]}),c.jsxs("div",{className:"text-xs text-text-secondary",children:[_e.sandwichUi.capacityActual,"：",c.jsxs("span",{className:"ml-1 text-white font-medium",children:["火腿 +",l.extraHam]}),c.jsx("span",{className:"mx-2",children:"/"}),c.jsxs("span",{className:"text-white font-medium",children:["臘腸 +",l.extraSalami]})]})]})]}):c.jsxs("div",{className:"text-center py-12 text-text-secondary",children:[c.jsx(Yd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:_e.sandwich.emptyHint})]})]})]}),s&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-surface/95 backdrop-blur-md border border-white/20 rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:c.jsx(sb,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-primary",children:_e.settings.title}),c.jsx("p",{className:"text-sm text-text-secondary",children:_e.settings.subtitle})]})]}),c.jsx("button",{onClick:()=>a(!1),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:_e.settings.breadPerBag}),c.jsx("input",{type:"number",className:"input-field w-full",min:1,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.breadPerBag,onChange:C=>A(_=>({..._,breadPerBag:parseInt(C.target.value,10)||1}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:_e.settings.targetHam}),c.jsx("input",{type:"number",className:"input-field w-full",min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.targetHam,onChange:C=>A(_=>({..._,targetHam:parseInt(C.target.value,10)||0}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:_e.settings.targetSalami}),c.jsx("input",{type:"number",className:"input-field w-full",min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.targetSalami,onChange:C=>A(_=>({..._,targetSalami:parseInt(C.target.value,10)||0}))})]})]}),c.jsxs("div",{className:"flex gap-3 mt-6",children:[c.jsx("button",{className:"flex-1 px-4 py-2 bg-primary/20 hover:bg-primary/30 text-primary rounded-lg transition-colors",onClick:w,children:_e.settings.done}),c.jsx("button",{className:"flex-1 px-4 py-2 bg-white/5 hover:bg-white/10 text-text-secondary rounded-lg transition-colors",onClick:()=>a(!1),children:_e.common.cancel})]})]})})]})})}const On={brewing:{pourOver:["水洗","日曬","阿寶","台灣豆","Geisha"],espresso:["ESP","水洗"]},retail:["水洗","日曬","阿寶","季節","台灣豆","Geisha"]},Ur=["台灣豆","Geisha"],Dh={bagWeight:121,ikeaBoxWeight:365,beanWeightPerPack:19};function yX(){const[t,e]=x.useState(!1);x.useEffect(()=>{if(t)document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=`-${window.scrollY}px`;else{const O=document.body.style.top;document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.top="",O&&window.scrollTo(0,parseInt(O||"0")*-1)}return()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.top=""}},[t]);const r=x.useRef(null),[n,i]=x.useState({brewing:{pourOver:{},espresso:{}},retail:{}}),[s,a]=x.useState("bag"),[o,A]=x.useState(!1),[l,u]=x.useState({}),[d,f]=x.useState("brewing"),[g,m]=x.useState("original"),[p,v]=x.useState(()=>{const O=localStorage.getItem("coffeeBeanWeightSettings");if(O)try{return JSON.parse(O)}catch(j){return console.error("解析重量設定失敗:",j),Dh}return Dh}),[y,w]=x.useState(()=>{const O=localStorage.getItem("coffeeBeanCalculations");if(O)try{return JSON.parse(O)}catch(j){return console.error("解析計算欄位失敗:",j),[{id:1,totalWeight:"",estimatedPacks:0}]}return[{id:1,totalWeight:"",estimatedPacks:0}]});x.useEffect(()=>{const O=localStorage.getItem("coffeeBeanInventory");O&&i(JSON.parse(O));const j=localStorage.getItem("coffeeBeanWeightMode");j&&a(j)},[]),x.useEffect(()=>{localStorage.setItem("coffeeBeanWeightSettings",JSON.stringify(p))},[p]),x.useEffect(()=>{localStorage.setItem("coffeeBeanInventory",JSON.stringify(n))},[n]),x.useEffect(()=>{localStorage.setItem("coffeeBeanCalculations",JSON.stringify(y))},[y]),x.useEffect(()=>{localStorage.setItem("coffeeBeanWeightMode",s)},[s]),x.useEffect(()=>{const O=()=>{const j=document.getElementById("brewing-section"),R=document.getElementById("retail-section");if(j&&R){const K=j.getBoundingClientRect(),$=R.getBoundingClientRect();K.top<window.innerHeight/2&&K.bottom>window.innerHeight/2?f("brewing"):$.top<window.innerHeight/2&&$.bottom>window.innerHeight/2&&f("retail")}};return window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)},[]);const B=(O,j,R)=>{var K;if(!((K=n[O][j])!=null&&K[R])){const z=Ur.includes(R)?{store:[""]}:{store:[""],breakRoom:[""]};i(L=>{var oe;return{...L,[O]:{...L[O],[j]:{...(oe=L[O])==null?void 0:oe[j],[R]:z}}}})}},I=(O,j,R,K)=>{B(O,j,R),i($=>{var z,L,oe;return{...$,[O]:{...$[O],[j]:{...$[O][j],[R]:{...(z=$[O][j])==null?void 0:z[R],[K]:[...((oe=(L=$[O][j])==null?void 0:L[R])==null?void 0:oe[K])||[""],""]}}}}})},T=(O,j,R,K,$,z)=>{B(O,j,R),i(L=>{var oe,ie,Ie,Ne;return{...L,[O]:{...L[O],[j]:{...L[O][j],[R]:{...(oe=L[O][j])==null?void 0:oe[R],[K]:((Ne=(Ie=(ie=L[O][j])==null?void 0:ie[R])==null?void 0:Ie[K])==null?void 0:Ne.map((Be,At)=>At===$?z:Be))||[""]}}}}})},F=(O,j,R,K,$)=>{i(z=>{var L,oe,ie,Ie;return{...z,[O]:{...z[O],[j]:{...z[O][j],[R]:{...(L=z[O][j])==null?void 0:L[R],[K]:((Ie=(ie=(oe=z[O][j])==null?void 0:oe[R])==null?void 0:ie[K])==null?void 0:Ie.filter((Ne,Be)=>Be!==$))||[""]}}}}})},C=O=>(O==null?void 0:O.reduce((j,R)=>j+(parseInt(R)||0),0))||0,_=O=>{if(!O)return 0;let j=0;return O.store&&(j+=C(O.store)),O.breakRoom&&(j+=C(O.breakRoom)),j},S=O=>O===0?"text-red-400 bg-red-500/10 border-red-400/30":O<5?"text-yellow-400 bg-yellow-500/10 border-yellow-400/30":O<15?"text-blue-400 bg-blue-500/10 border-blue-400/30":"text-green-400 bg-green-500/10 border-green-400/30",P=O=>{if(O==="brewing"){const j=On.brewing.pourOver.reduce((K,$)=>K+_(n.brewing.pourOver[$]),0),R=On.brewing.espresso.reduce((K,$)=>K+_(n.brewing.espresso[$]),0);return j+R}else if(O==="retail")return On.retail.reduce((j,R)=>j+_(n.retail[R]),0);return 0},Q=O=>{if(!O)return 0;const j=s==="bag"?p.bagWeight:p.ikeaBoxWeight,R=O-j;return R<=0?0:Math.round(R/p.beanWeightPerPack*10)/10},k=(O,j)=>{v(R=>({...R,[O]:parseFloat(j)||0}))},N=()=>{const O=Math.max(...y.map(j=>j.id),0)+1;w(j=>[...j,{id:O,totalWeight:"",estimatedPacks:0}])},ae=O=>{y.length>1&&w(j=>j.filter(R=>R.id!==O))},be=(O,j)=>{w(R=>R.map(K=>K.id===O?{...K,totalWeight:j,estimatedPacks:Q(j)}:K))},pe=()=>{A(!0);const O={};On.brewing.pourOver.forEach(j=>{const R=n.brewing.pourOver[j],K=C((R==null?void 0:R.store)||[]),$=Ur.includes(j)?0:C((R==null?void 0:R.breakRoom)||[]);O[`brewing-pourOver-${j}`]={store:K.toString(),breakRoom:$.toString(),category:"brewing",subCategory:"pourOver",beanType:j}}),On.brewing.espresso.forEach(j=>{const R=n.brewing.espresso[j],K=C((R==null?void 0:R.store)||[]),$=Ur.includes(j)?0:C((R==null?void 0:R.breakRoom)||[]);O[`brewing-espresso-${j}`]={store:K.toString(),breakRoom:$.toString(),category:"brewing",subCategory:"espresso",beanType:j}}),On.retail.forEach(j=>{const R=n.retail[j],K=C((R==null?void 0:R.store)||[]),$=Ur.includes(j)?0:C((R==null?void 0:R.breakRoom)||[]);O[`retail-${j}`]={store:K.toString(),breakRoom:$.toString(),category:"retail",subCategory:null,beanType:j}}),u(O)},we=()=>{Object.entries(l).forEach(([O,j])=>{const{category:R,subCategory:K,beanType:$,store:z,breakRoom:L}=j;i(R==="retail"?oe=>({...oe,retail:{...oe.retail,[$]:{store:[z],...Ur.includes($)?{}:{breakRoom:[L]}}}}):oe=>({...oe,[R]:{...oe[R],[K]:{...oe[R][K],[$]:{store:[z],...Ur.includes($)?{}:{breakRoom:[L]}}}}}))}),A(!1),u({})},X=()=>{A(!1),u({})},ne=(O,j,R)=>{u(K=>({...K,[O]:{...K[O],[j]:R}}))},ce=()=>{confirm("確定要重置所有數據嗎？此操作無法復原。")&&(i({brewing:{pourOver:{},espresso:{}},retail:{}}),w([{id:1,totalWeight:"",estimatedPacks:0}]),v(Dh),a("bag"),A(!1),u({}),localStorage.removeItem("coffeeBeanInventory"),localStorage.removeItem("coffeeBeanWeightSettings"),localStorage.removeItem("coffeeBeanCalculations"),localStorage.removeItem("coffeeBeanWeightMode"))},Fe=()=>{confirm("確定要回復原本的重量設定嗎？")&&(v(Dh),localStorage.removeItem("coffeeBeanWeightSettings"))},te=()=>{const O=[];return On.brewing.pourOver.forEach(j=>{const R=n.brewing.pourOver[j],K=C((R==null?void 0:R.store)||[]),$=Ur.includes(j)?0:C((R==null?void 0:R.breakRoom)||[]),z=K+$;O.push({category:"出杯豆",beanType:j,storeTotal:K,breakRoomTotal:$,grandTotal:z})}),On.brewing.espresso.forEach(j=>{const R=n.brewing.espresso[j],K=C((R==null?void 0:R.store)||[]),$=Ur.includes(j)?0:C((R==null?void 0:R.breakRoom)||[]),z=K+$;O.push({category:"義式豆",beanType:j,storeTotal:K,breakRoomTotal:$,grandTotal:z})}),On.retail.forEach(j=>{const R=n.retail[j],K=C((R==null?void 0:R.store)||[]),$=Ur.includes(j)?0:C((R==null?void 0:R.breakRoom)||[]),z=K+$;O.push({category:"賣豆",beanType:j,storeTotal:K,breakRoomTotal:$,grandTotal:z})}),O},ke=()=>{const O=te(),j=new Date().toLocaleDateString("zh-TW"),R={};return O.forEach(K=>{R[K.category]||(R[K.category]=[]),R[K.category].push(K)}),`
      <div style="font-family: 'Microsoft JhengHei', Arial, sans-serif; max-width: 900px; margin: 0 auto; padding: 30px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); color: #2c3e50; min-height: 100vh;">
        <div style="background: white; border-radius: 15px; padding: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
          <div style="text-align: center; margin-bottom: 40px;">
            <h1 style="color: #2c3e50; margin: 0; font-size: 32px; font-weight: 700; text-shadow: 2px 2px 4px rgba(0,0,0,0.1);">☕ 咖啡豆盤點表</h1>
            <p style="color: #7f8c8d; margin: 10px 0 0 0; font-size: 16px;">盤點日期：${j}</p>
          </div>
          
          ${Object.entries(R).map(([K,$])=>`
            <div style="margin-bottom: 30px;">
              <h2 style="color: white; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 12px 25px; border-radius: 10px 10px 0 0; margin: 0; font-size: 18px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                ${K}
              </h2>
              
              <table style="width: 100%; border-collapse: collapse; background: white; border-radius: 0 0 10px 10px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.08);">
                <thead>
                  <tr style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); height: 40px;">
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">豆種</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">店面庫存</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">員休室庫存</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">總計</th>
                  </tr>
                </thead>
                <tbody>
                  ${$.map((z,L)=>`
                    <tr style="${L%2===0?"background: #f8f9fa;":"background: white;"}">
                      <td style="padding: 12px 15px; text-align: center; font-weight: 600; color: #2c3e50; border-bottom: 1px solid #ecf0f1;">${z.beanType}</td>
                      <td style="padding: 12px 15px; text-align: center; color: #34495e; border-bottom: 1px solid #ecf0f1;">${z.storeTotal}</td>
                      <td style="padding: 12px 15px; text-align: center; color: #34495e; border-bottom: 1px solid #ecf0f1;">${z.breakRoomTotal}</td>
                      <td style="padding: 12px 15px; text-align: center; font-weight: 700; color: #27ae60; background: linear-gradient(135deg, #a8e6cf 0%, #dcedc1 100%); border-bottom: 1px solid #ecf0f1;">${z.grandTotal}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          `).join("")}
        </div>
      </div>
    `},Xe=()=>{const O=te(),j=new Date().toLocaleDateString("zh-TW"),R={};return O.forEach(K=>{R[K.category]||(R[K.category]=[]),R[K.category].push(K)}),`
      <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 800px; margin: 0 auto; padding: 40px; background: #fafafa; color: #1d1d1f; min-height: 100vh;">
        <div style="background: white; border-radius: 20px; padding: 50px; box-shadow: 0 8px 32px rgba(0,0,0,0.08);">
          <div style="text-align: center; margin-bottom: 50px;">
            <h1 style="color: #1d1d1f; margin: 0; font-size: 36px; font-weight: 600; letter-spacing: -0.5px;">咖啡豆盤點表</h1>
            <p style="color: #86868b; margin: 12px 0 0 0; font-size: 17px; font-weight: 400;">盤點日期：${j}</p>
          </div>
          
          ${Object.entries(R).map(([K,$])=>`
            <div style="margin-bottom: 40px;">
              <h2 style="color: #1d1d1f; background: #f5f5f7; padding: 16px 24px; border-radius: 12px; margin: 0 0 24px 0; font-size: 20px; font-weight: 600; text-align: center; border: none;">
                ${K}
              </h2>
              
              <div style="background: white; border-radius: 16px; overflow: hidden; border: 1px solid #e5e5e7;">
                <table style="width: 100%; border-collapse: collapse; background: white;">
                  <thead>
                    <tr style="background: #f5f5f7; height: 48px;">
                      <th style="padding: 0 20px; text-align: left; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">豆種</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">店面庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">員休室庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">總計</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${$.map((z,L)=>`
                      <tr style="background: ${L%2===0?"#fafafa":"white"};">
                        <td style="padding: 16px 20px; text-align: left; font-weight: 500; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${z.beanType}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #515154; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${z.storeTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #515154; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${z.breakRoomTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; font-weight: 600; color: #007aff; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${z.grandTotal}</td>
                      </tr>
                    `).join("")}
                  </tbody>
                </table>
              </div>
            </div>
          `).join("")}
        </div>
      </div>
    `},Oe=async()=>{try{let O;try{O=(await ma(async()=>{const{default:L}=await Promise.resolve().then(()=>Wte);return{default:L}},void 0)).default}catch(L){console.error("html2canvas 載入失敗:",L),alert("匯出功能暫時無法使用，請重新整理頁面後再試");return}const j=g==="minimalist"?Xe():ke(),R=document.createElement("div");R.innerHTML=j,R.style.position="absolute",R.style.left="-9999px",R.style.top="0",document.body.appendChild(R);const K=await O(R.firstElementChild,{backgroundColor:g==="minimalist"?"#fafafa":"#ffffff",scale:2,useCORS:!0,allowTaint:!0,logging:!1});document.body.removeChild(R);const $=document.createElement("a"),z=g==="minimalist"?"Minimalist":"原始風格";$.download=`咖啡豆盤點表_${z}_${new Date().toLocaleDateString("zh-TW")}.png`,$.href=K.toDataURL(),$.click()}catch(O){console.error("匯出圖片失敗:",O),alert("匯出圖片失敗，請稍後再試")}};return c.jsxs("div",{className:"container-custom py-6 space-y-6",children:[c.jsxs("div",{className:"relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-purple-500/5 to-cyan-500/5"}),c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-bl from-primary/10 to-transparent rounded-full -translate-y-32 translate-x-32"}),c.jsxs("div",{className:"relative flex flex-col sm:flex-row sm:items-center gap-4 sm:justify-between p-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-primary/20 to-purple-500/20 border border-primary/30 shadow-lg",children:c.jsx(ib,{className:"w-8 h-8 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-primary via-purple-400 to-cyan-400 bg-clip-text text-transparent",children:"咖啡豆管理工具"}),c.jsxs("p",{className:"text-sm text-text-secondary mt-1 flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),"即時庫存管理與重量換算"]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[o?c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:we,className:"relative overflow-hidden px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-500/30 text-blue-400 hover:from-blue-500/30 hover:to-cyan-500/30 hover:border-blue-500/50 transition-all duration-300 flex items-center gap-2 hover:scale-105 active:scale-95",children:[c.jsx(ib,{className:"w-4 h-4"}),"儲存盤點"]}),c.jsx("button",{onClick:X,className:"relative overflow-hidden px-4 py-2 text-sm font-medium rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 hover:bg-red-500/20 hover:border-red-500/50 transition-all duration-300 hover:scale-105 active:scale-95",children:"取消"})]}):c.jsxs("button",{onClick:pe,className:"relative overflow-hidden px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30 text-green-400 hover:from-green-500/30 hover:to-emerald-500/30 hover:border-green-500/50 transition-all duration-300 flex items-center gap-2 hover:scale-105 active:scale-95",children:[c.jsx(Yd,{className:"w-4 h-4"}),"快速盤點"]}),c.jsx("button",{onClick:ce,className:"relative overflow-hidden px-4 py-2 text-sm font-medium rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 hover:bg-red-500/20 hover:border-red-500/50 transition-all duration-300 hover:scale-105 active:scale-95",children:"重置數據"})]})]})]}),c.jsxs("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",ref:r,children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-primary mb-1",children:"咖啡豆盤點表"}),c.jsx("p",{className:"text-sm text-text-secondary",children:"即時更新庫存數量"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-surface/40 rounded-lg border border-white/10",children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[c.jsx("input",{type:"radio",value:"original",checked:g==="original",onChange:O=>m(O.target.value),className:"text-blue-400 w-3 h-3"}),c.jsx("span",{children:"原始風格"})]}),c.jsx("div",{className:"w-px h-4 bg-white/20"}),c.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[c.jsx("input",{type:"radio",value:"minimalist",checked:g==="minimalist",onChange:O=>m(O.target.value),className:"text-blue-400 w-3 h-3"}),c.jsx("span",{children:"Minimalist"})]})]}),c.jsxs("button",{onClick:Oe,className:"px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-400/30 text-blue-400 hover:from-blue-500/30 hover:to-cyan-500/30 hover:border-blue-500/50 transition-all duration-200 flex items-center gap-2",children:[c.jsx(RY,{className:"w-4 h-4"}),"匯出圖片"]})]})]}),c.jsxs("div",{id:"brewing-section",className:"space-y-4",children:[c.jsxs("div",{className:"sticky top-0 z-30 flex items-center gap-3 mb-4 p-4 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-xl border border-blue-400/20 backdrop-blur-md",children:[c.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-blue-400 to-purple-400 rounded-full"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-blue-400",children:"出杯豆"}),c.jsx("p",{className:"text-sm text-blue-300/70",children:"用於製作飲品的咖啡豆"})]}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 animate-pulse"}),c.jsx("span",{className:"text-xs text-blue-300 font-medium",children:"當前區域"})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"sticky top-16 z-20 flex items-center gap-3 mb-3 p-3 bg-gradient-to-r from-blue-500/5 to-cyan-500/5 rounded-lg border border-blue-400/10 backdrop-blur-sm",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),c.jsx("h4",{className:"text-md font-semibold text-blue-300",children:"手沖豆"}),c.jsx("span",{className:"text-xs text-blue-300/60",children:"手沖咖啡專用"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:On.brewing.pourOver.map(O=>{const j=Ur.includes(O),R=n.brewing.pourOver[O],K=`brewing-pourOver-${O}`,$=l[K];return c.jsxs("div",{className:`group relative bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 border transition-all duration-300 hover:shadow-xl hover:shadow-primary/10 hover:-translate-y-1 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-primary to-purple-400"}),c.jsx("h5",{className:"font-bold text-primary text-base",children:O})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${o?"bg-green-400":"bg-primary/60 group-hover:bg-primary"}`}),!j&&c.jsx("div",{className:"w-1 h-1 rounded-full bg-green-400/60"})]})]}),o?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),c.jsx("input",{type:"number",value:($==null?void 0:$.store)||"0",onChange:z=>ne(K,"store",z.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!j&&c.jsxs("div",{children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),c.jsx("input",{type:"number",value:($==null?void 0:$.breakRoom)||"0",onChange:z=>ne(K,"breakRoom",z.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),c.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:c.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt(($==null?void 0:$.store)||0)+parseInt(($==null?void 0:$.breakRoom)||0)," 包"]})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),c.jsx("button",{onClick:()=>I("brewing","pourOver",O,"store"),className:"p-1.5 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors hover:scale-110 transform",children:c.jsx(Ji,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"space-y-1.5",children:((R==null?void 0:R.store)||[""]).map((z,L)=>c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("input",{type:"number",value:z,onChange:oe=>T("brewing","pourOver",O,"store",L,oe.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-2 px-3 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all",inputMode:"decimal"}),((R==null?void 0:R.store)||[]).length>1&&c.jsx("button",{onClick:()=>F("brewing","pourOver",O,"store",L),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(Zi,{className:"w-3 h-3"})})]},L))})]}),!j&&c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),c.jsx("button",{onClick:()=>I("brewing","pourOver",O,"breakRoom"),className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:c.jsx(Ji,{className:"w-3 h-3"})})]}),c.jsx("div",{className:"space-y-1.5",children:((R==null?void 0:R.breakRoom)||[""]).map((z,L)=>c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("input",{type:"number",value:z,onChange:oe=>T("brewing","pourOver",O,"breakRoom",L,oe.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((R==null?void 0:R.breakRoom)||[]).length>1&&c.jsx("button",{onClick:()=>F("brewing","pourOver",O,"breakRoom",L),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(Zi,{className:"w-3 h-3"})})]},L))})]}),c.jsx("div",{className:"mt-4 pt-3 border-t border-white/10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs text-text-secondary",children:"總計"}),c.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-xs font-bold ${S(_(R))}`,children:[_(R)," 包"]})]})})]})]},O)})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"sticky top-16 z-20 flex items-center gap-3 mb-3 p-3 bg-gradient-to-r from-purple-500/5 to-pink-500/5 rounded-lg border border-purple-400/10 backdrop-blur-sm",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),c.jsx("h4",{className:"text-md font-semibold text-purple-300",children:"義式豆"}),c.jsx("span",{className:"text-xs text-purple-300/60",children:"義式咖啡專用"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:On.brewing.espresso.map(O=>{const j=Ur.includes(O),R=n.brewing.espresso[O],K=`brewing-espresso-${O}`,$=l[K];return c.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h5",{className:"font-semibold text-sm text-primary",children:O}),c.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),c.jsx("input",{type:"number",value:($==null?void 0:$.store)||"0",onChange:z=>ne(K,"store",z.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!j&&c.jsxs("div",{children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),c.jsx("input",{type:"number",value:($==null?void 0:$.breakRoom)||"0",onChange:z=>ne(K,"breakRoom",z.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),c.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:c.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt(($==null?void 0:$.store)||0)+parseInt(($==null?void 0:$.breakRoom)||0)," 包"]})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),c.jsx("button",{onClick:()=>I("brewing","espresso",O,"store"),className:"p-1 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors",children:c.jsx(Ji,{className:"w-3 h-3"})})]}),c.jsx("div",{className:"space-y-1.5",children:((R==null?void 0:R.store)||[""]).map((z,L)=>c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("input",{type:"number",value:z,onChange:oe=>T("brewing","espresso",O,"store",L,oe.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"}),((R==null?void 0:R.store)||[]).length>1&&c.jsx("button",{onClick:()=>F("brewing","espresso",O,"store",L),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(Zi,{className:"w-3 h-3"})})]},L))})]}),!j&&c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),c.jsx("button",{onClick:()=>I("brewing","espresso",O,"breakRoom"),className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:c.jsx(Ji,{className:"w-3 h-3"})})]}),c.jsx("div",{className:"space-y-1.5",children:((R==null?void 0:R.breakRoom)||[""]).map((z,L)=>c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("input",{type:"number",value:z,onChange:oe=>T("brewing","espresso",O,"breakRoom",L,oe.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((R==null?void 0:R.breakRoom)||[]).length>1&&c.jsx("button",{onClick:()=>F("brewing","espresso",O,"breakRoom",L),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(Zi,{className:"w-3 h-3"})})]},L))})]}),c.jsx("div",{className:"mt-4 pt-3 border-t border-white/10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs text-text-secondary",children:"總計"}),c.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-xs font-bold ${S(_(R))}`,children:[_(R)," 包"]})]})})]})]},O)})})]})]}),c.jsxs("div",{id:"retail-section",className:"space-y-4 mt-8",children:[c.jsxs("div",{className:"sticky top-0 z-30 flex items-center gap-3 mb-4 p-4 bg-gradient-to-r from-orange-500/10 to-yellow-500/10 rounded-xl border border-orange-400/20 backdrop-blur-md",children:[c.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-orange-400 to-yellow-400 rounded-full"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-orange-400",children:"賣豆"}),c.jsx("p",{className:"text-sm text-orange-300/70",children:"用於販售的咖啡豆"})]}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-400 animate-pulse"}),c.jsx("span",{className:"text-xs text-orange-300 font-medium",children:"當前區域"})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:On.retail.map(O=>{const j=Ur.includes(O),R=n.retail[O],K=`retail-${O}`,$=l[K];return c.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h5",{className:"font-semibold text-sm text-primary",children:O}),c.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),c.jsx("input",{type:"number",value:($==null?void 0:$.store)||"0",onChange:z=>ne(K,"store",z.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!j&&c.jsxs("div",{children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),c.jsx("input",{type:"number",value:($==null?void 0:$.breakRoom)||"0",onChange:z=>ne(K,"breakRoom",z.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),c.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:c.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt(($==null?void 0:$.store)||0)+parseInt(($==null?void 0:$.breakRoom)||0)," 包"]})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),c.jsx("button",{onClick:()=>{if(!n.retail[O]){const L=Ur.includes(O)?{store:[""]}:{store:[""],breakRoom:[""]};i(oe=>({...oe,retail:{...oe.retail,[O]:L}}))}i(z=>{var L;return{...z,retail:{...z.retail,[O]:{...z.retail[O],store:[...((L=z.retail[O])==null?void 0:L.store)||[""],""]}}}})},className:"p-1 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors",children:c.jsx(Ji,{className:"w-3 h-3"})})]}),c.jsx("div",{className:"space-y-1.5",children:((R==null?void 0:R.store)||[""]).map((z,L)=>c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("input",{type:"number",value:z,onChange:oe=>{if(!n.retail[O]){const Ie=Ur.includes(O)?{store:[""]}:{store:[""],breakRoom:[""]};i(Ne=>({...Ne,retail:{...Ne.retail,[O]:Ie}}))}i(ie=>{var Ie,Ne;return{...ie,retail:{...ie.retail,[O]:{...ie.retail[O],store:((Ne=(Ie=ie.retail[O])==null?void 0:Ie.store)==null?void 0:Ne.map((Be,At)=>At===L?oe.target.value:Be))||[""]}}}})},placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"}),((R==null?void 0:R.store)||[]).length>1&&c.jsx("button",{onClick:()=>{i(oe=>{var ie,Ie;return{...oe,retail:{...oe.retail,[O]:{...oe.retail[O],store:((Ie=(ie=oe.retail[O])==null?void 0:ie.store)==null?void 0:Ie.filter((Ne,Be)=>Be!==L))||[""]}}}})},className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(Zi,{className:"w-3 h-3"})})]},L))})]}),!j&&c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),c.jsx("button",{onClick:()=>{if(!n.retail[O]){const L=Ur.includes(O)?{store:[""]}:{store:[""],breakRoom:[""]};i(oe=>({...oe,retail:{...oe.retail,[O]:L}}))}i(z=>{var L;return{...z,retail:{...z.retail,[O]:{...z.retail[O],breakRoom:[...((L=z.retail[O])==null?void 0:L.breakRoom)||[""],""]}}}})},className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:c.jsx(Ji,{className:"w-3 h-3"})})]}),c.jsx("div",{className:"space-y-1.5",children:((R==null?void 0:R.breakRoom)||[""]).map((z,L)=>c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("input",{type:"number",value:z,onChange:oe=>{if(!n.retail[O]){const Ie=Ur.includes(O)?{store:[""]}:{store:[""],breakRoom:[""]};i(Ne=>({...Ne,retail:{...Ne.retail,[O]:Ie}}))}i(ie=>{var Ie,Ne;return{...ie,retail:{...ie.retail,[O]:{...ie.retail[O],breakRoom:((Ne=(Ie=ie.retail[O])==null?void 0:Ie.breakRoom)==null?void 0:Ne.map((Be,At)=>At===L?oe.target.value:Be))||[""]}}}})},placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((R==null?void 0:R.breakRoom)||[]).length>1&&c.jsx("button",{onClick:()=>{i(oe=>{var ie,Ie;return{...oe,retail:{...oe.retail,[O]:{...oe.retail[O],breakRoom:((Ie=(ie=oe.retail[O])==null?void 0:ie.breakRoom)==null?void 0:Ie.filter((Ne,Be)=>Be!==L))||[""]}}}})},className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(Zi,{className:"w-3 h-3"})})]},L))})]}),c.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-primary/10 to-transparent rounded-lg p-2",children:c.jsxs("span",{className:"text-xs font-semibold text-primary",children:[O,"：總共 ",_(R)," 包"]})})]})]},O)})})]}),c.jsxs("div",{className:"mt-8 space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-primary to-purple-400 rounded-full"}),c.jsx("h3",{className:"text-xl font-bold text-primary",children:"豆種詳細總計"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-5 border border-white/10 hover:border-primary/30 transition-all duration-200",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("h4",{className:"font-semibold text-primary text-lg",children:"出杯豆"}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"})]}),c.jsx("div",{className:"space-y-3",children:te().filter(j=>j.category==="出杯豆").map(j=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",children:[c.jsx("span",{className:"font-medium text-primary text-base",children:j.beanType}),c.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[c.jsxs("span",{className:"text-blue-400 font-medium",children:["店面 ",j.storeTotal,"包"]}),c.jsxs("span",{className:"text-green-400 font-medium",children:["員休 ",j.breakRoomTotal,"包"]}),c.jsxs("span",{className:"font-bold text-white bg-gradient-to-r from-primary/20 to-purple-500/20 px-3 py-1.5 rounded-lg",children:["總計 ",j.grandTotal,"包"]})]})]},j.beanType))})]}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-4 border border-white/10",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("h4",{className:"font-semibold text-primary",children:"義式豆"}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400"})]}),c.jsx("div",{className:"space-y-2",children:te().filter(j=>j.category==="義式豆").map(j=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/5 rounded-lg",children:[c.jsx("span",{className:"font-medium text-primary",children:j.beanType}),c.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[c.jsxs("span",{className:"text-blue-400",children:["店面 ",j.storeTotal,"包"]}),c.jsxs("span",{className:"text-green-400",children:["員休 ",j.breakRoomTotal,"包"]}),c.jsxs("span",{className:"font-bold text-white bg-gradient-to-r from-primary/20 to-purple-500/20 px-2 py-1 rounded",children:["總計 ",j.grandTotal,"包"]})]})]},j.beanType))})]}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-4 border border-white/10",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("h4",{className:"font-semibold text-primary",children:"賣豆"}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-400"})]}),c.jsx("div",{className:"space-y-2",children:te().filter(j=>j.category==="賣豆").map(j=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/5 rounded-lg",children:[c.jsx("span",{className:"font-medium text-primary",children:j.beanType}),c.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[c.jsxs("span",{className:"text-blue-400",children:["店面 ",j.storeTotal,"包"]}),c.jsxs("span",{className:"text-green-400",children:["員休 ",j.breakRoomTotal,"包"]}),c.jsxs("span",{className:"font-bold text-white bg-gradient-to-r from-primary/20 to-purple-500/20 px-2 py-1 rounded",children:["總計 ",j.grandTotal,"包"]})]})]},j.beanType))})]})]})]}),c.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50",children:c.jsx("div",{className:"bg-surface/95 backdrop-blur-xl border border-white/20 rounded-2xl px-6 py-3 shadow-2xl",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{onClick:()=>{var O;return(O=document.getElementById("brewing-section"))==null?void 0:O.scrollIntoView({behavior:"smooth"})},className:`flex items-center gap-3 px-4 py-2 rounded-xl transition-all duration-300 ${d==="brewing"?"bg-blue-400/20 text-blue-400 shadow-lg shadow-blue-400/20":"text-gray-400 hover:text-blue-300 hover:bg-blue-400/10"}`,children:[c.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-300 ${d==="brewing"?"bg-blue-400 shadow-lg shadow-blue-400/50":"bg-gray-400"}`}),c.jsx("span",{className:"text-sm font-semibold",children:"出杯豆"}),c.jsxs("div",{className:"text-xs opacity-60",children:["(",P("brewing")," 包)"]})]}),c.jsx("div",{className:"w-px h-6 bg-gray-600"}),c.jsxs("button",{onClick:()=>{var O;return(O=document.getElementById("retail-section"))==null?void 0:O.scrollIntoView({behavior:"smooth"})},className:`flex items-center gap-3 px-4 py-2 rounded-xl transition-all duration-300 ${d==="retail"?"bg-orange-400/20 text-orange-400 shadow-lg shadow-orange-400/20":"text-gray-400 hover:text-orange-300 hover:bg-orange-400/10"}`,children:[c.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-300 ${d==="retail"?"bg-orange-400 shadow-lg shadow-orange-400/50":"bg-gray-400"}`}),c.jsx("span",{className:"text-sm font-semibold",children:"賣豆"}),c.jsxs("div",{className:"text-xs opacity-60",children:["(",P("retail")," 包)"]})]})]})})}),c.jsx("button",{onClick:()=>e(!0),className:"fixed bottom-6 right-6 p-4 bg-gradient-to-r from-primary/20 to-purple-500/20 border border-primary/30 text-primary hover:from-primary/30 hover:to-purple-500/30 hover:border-primary/50 transition-all duration-200 rounded-full shadow-lg hover:shadow-xl z-50 hover:scale-110 transform",children:c.jsx(Yd,{className:"w-6 h-6"})}),t&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:O=>{O.target===O.currentTarget&&e(!1)},children:c.jsxs("div",{className:"bg-surface/95 backdrop-blur-md border border-white/20 rounded-2xl p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl",onClick:O=>O.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-primary mb-1",children:"重量換算計算器"}),c.jsx("p",{className:"text-sm text-text-secondary",children:"估算豆包數量"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:Fe,className:"px-3 py-1.5 text-xs font-medium rounded-lg border border-amber-500/30 text-amber-400 hover:bg-amber-500/10 hover:border-amber-500/50 transition-all duration-200 flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-400"}),"回復設定"]}),c.jsx("button",{onClick:()=>e(!1),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(rj,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-amber-400 to-orange-400 rounded-full"}),c.jsx("h3",{className:"text-lg font-bold text-primary",children:"計算模式"})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/10 hover:border-amber-400/30 transition-all duration-200 cursor-pointer bg-gradient-to-br from-surface/40 to-surface/20",children:[c.jsx("input",{type:"radio",value:"bag",checked:s==="bag",onChange:O=>a(O.target.value),className:"text-amber-400 w-4 h-4"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),c.jsx("span",{className:"font-medium",children:"外包裝袋"})]})]}),c.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/10 hover:border-amber-400/30 transition-all duration-200 cursor-pointer bg-gradient-to-br from-surface/40 to-surface/20",children:[c.jsx("input",{type:"radio",value:"ikea",checked:s==="ikea",onChange:O=>a(O.target.value),className:"text-amber-400 w-4 h-4"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),c.jsx("span",{className:"font-medium",children:"IKEA 盒子"})]})]})]})]}),c.jsxs("div",{className:"space-y-4 mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-400 to-purple-400 rounded-full"}),c.jsx("h3",{className:"text-lg font-bold text-primary",children:"重量設定"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-xl p-4 border border-white/10",children:[c.jsxs("label",{className:"block text-sm font-semibold mb-3 text-primary flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),s==="bag"?"外包裝袋重量":"IKEA 盒重量"," (g)"]}),c.jsx("input",{type:"number",value:s==="bag"?p.bagWeight:p.ikeaBoxWeight,onChange:O=>k(s==="bag"?"bagWeight":"ikeaBoxWeight",O.target.value),className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all",placeholder:"輸入重量",inputMode:"decimal"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-xl p-4 border border-white/10",children:[c.jsxs("label",{className:"block text-sm font-semibold mb-3 text-primary flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"每包豆子重量 (g)"]}),c.jsx("input",{type:"number",value:p.beanWeightPerPack,onChange:O=>k("beanWeightPerPack",O.target.value),className:"input-field w-full text-sm py-2.5 px-3 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",placeholder:"輸入重量",inputMode:"decimal"})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{onClick:N,className:"px-4 py-2.5 text-sm font-medium rounded-lg bg-gradient-to-r from-primary/20 to-purple-500/20 border border-primary/30 text-primary hover:from-primary/30 hover:to-purple-500/30 hover:border-primary/50 transition-all duration-200 flex items-center gap-2",children:[c.jsx(Ji,{className:"w-4 h-4"}),"新增計算欄位"]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-green-400 to-emerald-400 rounded-full"}),c.jsx("h3",{className:"text-lg font-bold text-primary",children:"計算結果"})]}),y.map(O=>c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-4 border border-white/10 hover:border-primary/30 transition-all duration-200 hover:shadow-lg hover:shadow-primary/10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("h5",{className:"font-semibold text-primary",children:["計算欄位 #",O.id]}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/60"})]}),y.length>1&&c.jsx("button",{onClick:()=>ae(O.id),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(Zi,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-lg p-3 border border-white/10",children:[c.jsxs("label",{className:"block text-sm font-semibold mb-2 text-text-secondary flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"總重量 (g)"]}),c.jsx("input",{type:"number",value:O.totalWeight,onChange:j=>be(O.id,j.target.value),placeholder:"輸入總重量",className:"input-field w-full text-sm py-2 px-3 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-lg p-3 border border-white/10",children:[c.jsxs("label",{className:"block text-sm font-semibold mb-2 text-text-secondary flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"估算包數"]}),c.jsxs("div",{className:"w-full text-sm py-3 px-4 rounded-lg bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-400/30 text-center font-bold text-green-400 hover:border-green-500/50 transition-all",children:[O.estimatedPacks," 包"]})]})]})]},O.id))]})]})})]})}function wX(t){return c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),c.jsx("polyline",{points:"14,2 14,8 20,8"})]})}function xX(t){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}function bX(){const[t,e]=x.useState("");x.useState(!1);const[r,n]=x.useState(0),[i,s]=x.useState(!1),[a,o]=x.useState(""),[A,l]=x.useState(!1),u=[{value:"1",label:"1月"},{value:"2",label:"2月"},{value:"3",label:"3月"},{value:"4",label:"4月"},{value:"5",label:"5月"},{value:"6",label:"6月"},{value:"7",label:"7月"},{value:"8",label:"8月"},{value:"9",label:"9月"},{value:"10",label:"10月"},{value:"11",label:"11月"},{value:"12",label:"12月"}],d=g=>[31,28,31,30,31,30,31,31,30,31,30,31][parseInt(g)-1],f=()=>{if(!t)return;const g=`DailyReport_${t}_Month.zip`,m=`https://raw.githubusercontent.com/greedysisyphus/Brainless/main/public/reports/${g}`,p=document.createElement("a");p.href=m,p.download=g,document.body.appendChild(p),p.click(),document.body.removeChild(p)};return c.jsx("div",{className:"container-custom py-6",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx(wX,{className:"w-8 h-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold mb-2 text-center",children:"報表生成器"})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("blockquote",{className:"italic text-gray-400 text-center text-base",children:["「我愛改檔名」",c.jsx("span",{className:"block text-xs text-gray-500 mt-1 text-center",children:"— 紅葉"})]})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("h2",{className:"text-lg font-semibold text-primary mb-4 flex items-center gap-2",children:[c.jsx(ud,{className:"w-5 h-5"}),"選擇月份"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-text-secondary",children:"選擇要生成日報表的月份"}),c.jsxs("select",{value:t,onChange:g=>e(g.target.value),className:"input-field w-full max-w-xs",children:[c.jsx("option",{value:"",children:"請選擇月份"}),u.map(g=>c.jsxs("option",{value:g.value,children:[g.label," (",d(g.value),"天)"]},g.value))]}),t&&c.jsxs("div",{className:"text-sm text-text-secondary",children:["將生成 ",d(t)," 個日報表檔案"]})]})]})}),c.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("h2",{className:"text-lg font-semibold text-primary mb-4 flex items-center gap-2",children:[c.jsx(xX,{className:"w-5 h-5"}),"生成日報表"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-text-secondary",children:"點擊下方按鈕開始生成整月日報表"}),c.jsx("button",{onClick:f,disabled:!t,className:"btn-primary w-full max-w-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"下載日報表"})]})]})}),a&&c.jsx("div",{className:"card backdrop-blur-sm bg-red-500/10 border border-red-500/30",children:c.jsxs("div",{className:"p-4 flex items-center gap-3",children:[c.jsx(tX,{className:"w-5 h-5 text-red-400"}),c.jsx("span",{className:"text-red-400",children:a})]})}),A&&c.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-lg font-semibold text-primary",children:"生成進度"}),c.jsxs("span",{className:"text-sm text-text-secondary",children:[Math.round(r),"%"]})]}),c.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-primary to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${r}%`}})}),i&&c.jsxs("div",{className:"mt-4 flex items-center gap-2 text-green-400",children:[c.jsx(YY,{className:"w-5 h-5"}),c.jsx("span",{children:"日報表生成完成！"})]})]})})]})]})})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ab=function(t,e){return ab=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ab(t,e)};function Bi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ab(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ob=function(){return ob=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ob.apply(this,arguments)};function Hr(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{l(n.next(u))}catch(d){a(d)}}function A(u){try{l(n.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):i(u.value).then(o,A)}l((n=n.apply(t,[])).next())})}function Pr(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(u){return A([l,u])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function jh(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var Ss=function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),O0=function(t,e){return Ss.fromClientRect(t,e.getBoundingClientRect())},BX=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Ss(0,0,n,i)},D0=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Rt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},_2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",CX=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Rh=0;Rh<_2.length;Rh++)CX[_2.charCodeAt(Rh)]=Rh;var I2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Mh=0;Mh<I2.length;Mh++)Dc[I2.charCodeAt(Mh)]=Mh;var EX=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=Dc[t.charCodeAt(n)],a=Dc[t.charCodeAt(n+1)],o=Dc[t.charCodeAt(n+2)],A=Dc[t.charCodeAt(n+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|A&63;return l},_X=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},IX=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},tA=5,vE=11,My=2,SX=vE-tA,nj=65536>>tA,TX=1<<tA,Ly=TX-1,FX=1024>>tA,UX=nj+FX,PX=UX,NX=32,QX=PX+NX,kX=65536>>vE,OX=1<<SX,DX=OX-1,S2=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},jX=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},RX=function(t,e){var r=EX(t),n=Array.isArray(r)?IX(r):new Uint32Array(r),i=Array.isArray(r)?_X(r):new Uint16Array(r),s=24,a=S2(i,s/2,n[4]/2),o=n[5]===2?S2(i,(s+n[4])/2):jX(n,Math.ceil((s+n[4])/4));return new MX(n[0],n[1],n[2],n[3],a,o)},MX=function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>tA],r=(r<<My)+(e&Ly),this.data[r];if(e<=65535)return r=this.index[nj+(e-55296>>tA)],r=(r<<My)+(e&Ly),this.data[r];if(e<this.highStart)return r=QX-kX+(e>>vE),r=this.index[r],r+=e>>tA&DX,r=this.index[r],r=(r<<My)+(e&Ly),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),T2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",LX=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Lh=0;Lh<T2.length;Lh++)LX[T2.charCodeAt(Lh)]=Lh;var HX="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",F2=50,VX=1,ij=2,sj=3,KX=4,$X=5,U2=7,aj=8,P2=9,ya=10,Ab=11,N2=12,lb=13,GX=14,jc=15,ub=16,Hh=17,gc=18,WX=19,Q2=20,cb=21,mc=22,Hy=23,JA=24,fn=25,Rc=26,Mc=27,ZA=28,zX=29,Mo=30,YX=31,Vh=32,Kh=33,db=34,fb=35,hb=36,Xd=37,gb=38,Yg=39,Xg=40,Vy=41,oj=42,XX=43,qX=[9001,65288],Aj="!",Re="×",$h="÷",mb=RX(HX),Yi=[Mo,hb],pb=[VX,ij,sj,$X],lj=[ya,aj],k2=[Mc,Rc],JX=pb.concat(lj),O2=[gb,Yg,Xg,db,fb],ZX=[jc,lb],eq=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(s,a){var o=mb.get(s);if(o>F2?(i.push(!0),o-=F2):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),r.push(ub);if(o===KX||o===Ab){if(a===0)return n.push(a),r.push(Mo);var A=r[a-1];return JX.indexOf(A)===-1?(n.push(n[a-1]),r.push(A)):(n.push(a),r.push(Mo))}if(n.push(a),o===YX)return r.push(e==="strict"?cb:Xd);if(o===oj||o===zX)return r.push(Mo);if(o===XX)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(Xd):r.push(Mo);r.push(o)}),[n,r,i]},Ky=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=r;s<=n.length;){s++;var a=n[s];if(a===e)return!0;if(a!==ya)break}if(i===ya)for(var s=r;s>0;){s--;var o=n[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var A=r;A<=n.length;){A++;var a=n[A];if(a===e)return!0;if(a!==ya)break}if(o!==ya)break}return!1},D2=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===ya)r--;else return n}return 0},tq=function(t,e,r,n,i){if(r[n]===0)return Re;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return Re;var a=s-1,o=s+1,A=e[s],l=a>=0?e[a]:0,u=e[o];if(A===ij&&u===sj)return Re;if(pb.indexOf(A)!==-1)return Aj;if(pb.indexOf(u)!==-1||lj.indexOf(u)!==-1)return Re;if(D2(s,e)===aj)return $h;if(mb.get(t[s])===Ab||(A===Vh||A===Kh)&&mb.get(t[o])===Ab||A===U2||u===U2||A===P2||[ya,lb,jc].indexOf(A)===-1&&u===P2||[Hh,gc,WX,JA,ZA].indexOf(u)!==-1||D2(s,e)===mc||Ky(Hy,mc,s,e)||Ky([Hh,gc],cb,s,e)||Ky(N2,N2,s,e))return Re;if(A===ya)return $h;if(A===Hy||u===Hy)return Re;if(u===ub||A===ub)return $h;if([lb,jc,cb].indexOf(u)!==-1||A===GX||l===hb&&ZX.indexOf(A)!==-1||A===ZA&&u===hb||u===Q2||Yi.indexOf(u)!==-1&&A===fn||Yi.indexOf(A)!==-1&&u===fn||A===Mc&&[Xd,Vh,Kh].indexOf(u)!==-1||[Xd,Vh,Kh].indexOf(A)!==-1&&u===Rc||Yi.indexOf(A)!==-1&&k2.indexOf(u)!==-1||k2.indexOf(A)!==-1&&Yi.indexOf(u)!==-1||[Mc,Rc].indexOf(A)!==-1&&(u===fn||[mc,jc].indexOf(u)!==-1&&e[o+1]===fn)||[mc,jc].indexOf(A)!==-1&&u===fn||A===fn&&[fn,ZA,JA].indexOf(u)!==-1)return Re;if([fn,ZA,JA,Hh,gc].indexOf(u)!==-1)for(var d=s;d>=0;){var f=e[d];if(f===fn)return Re;if([ZA,JA].indexOf(f)!==-1)d--;else break}if([Mc,Rc].indexOf(u)!==-1)for(var d=[Hh,gc].indexOf(A)!==-1?a:s;d>=0;){var f=e[d];if(f===fn)return Re;if([ZA,JA].indexOf(f)!==-1)d--;else break}if(gb===A&&[gb,Yg,db,fb].indexOf(u)!==-1||[Yg,db].indexOf(A)!==-1&&[Yg,Xg].indexOf(u)!==-1||[Xg,fb].indexOf(A)!==-1&&u===Xg||O2.indexOf(A)!==-1&&[Q2,Rc].indexOf(u)!==-1||O2.indexOf(u)!==-1&&A===Mc||Yi.indexOf(A)!==-1&&Yi.indexOf(u)!==-1||A===JA&&Yi.indexOf(u)!==-1||Yi.concat(fn).indexOf(A)!==-1&&u===mc&&qX.indexOf(t[o])===-1||Yi.concat(fn).indexOf(u)!==-1&&A===gc)return Re;if(A===Vy&&u===Vy){for(var g=r[s],m=1;g>0&&(g--,e[g]===Vy);)m++;if(m%2!==0)return Re}return A===Vh&&u===Kh?Re:$h},rq=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=eq(t,e.lineBreak),n=r[0],i=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[fn,Mo,oj].indexOf(o)!==-1?Xd:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,A){return o&&t[A]>=19968&&t[A]<=40959}):void 0;return[n,i,a]},nq=function(){function t(e,r,n,i){this.codePoints=e,this.required=r===Aj,this.start=n,this.end=i}return t.prototype.slice=function(){return Rt.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),iq=function(t,e){var r=D0(t),n=rq(r,e),i=n[0],s=n[1],a=n[2],o=r.length,A=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var u=Re;l<o&&(u=tq(r,s,i,++l,a))===Re;);if(u!==Re||l===o){var d=new nq(r,u,A,l);return A=l,{value:d,done:!1}}return{done:!0,value:null}}}},sq=1,aq=2,Tf=4,j2=8,Xm=10,R2=47,cd=92,oq=9,Aq=32,Gh=34,pc=61,lq=35,uq=36,cq=37,Wh=39,zh=40,vc=41,dq=95,tn=45,fq=33,hq=60,gq=62,mq=64,pq=91,vq=93,yq=61,wq=123,Yh=63,xq=125,M2=124,bq=126,Bq=128,L2=65533,$y=42,$o=43,Cq=44,Eq=58,_q=59,qd=46,Iq=0,Sq=8,Tq=11,Fq=14,Uq=31,Pq=127,Ii=-1,uj=48,cj=97,dj=101,Nq=102,Qq=117,kq=122,fj=65,hj=69,gj=70,Oq=85,Dq=90,Qr=function(t){return t>=uj&&t<=57},jq=function(t){return t>=55296&&t<=57343},el=function(t){return Qr(t)||t>=fj&&t<=gj||t>=cj&&t<=Nq},Rq=function(t){return t>=cj&&t<=kq},Mq=function(t){return t>=fj&&t<=Dq},Lq=function(t){return Rq(t)||Mq(t)},Hq=function(t){return t>=Bq},Xh=function(t){return t===Xm||t===oq||t===Aq},qm=function(t){return Lq(t)||Hq(t)||t===dq},H2=function(t){return qm(t)||Qr(t)||t===tn},Vq=function(t){return t>=Iq&&t<=Sq||t===Tq||t>=Fq&&t<=Uq||t===Pq},oa=function(t,e){return t!==cd?!1:e!==Xm},qh=function(t,e,r){return t===tn?qm(e)||oa(e,r):qm(t)?!0:!!(t===cd&&oa(t,e))},Gy=function(t,e,r){return t===$o||t===tn?Qr(e)?!0:e===qd&&Qr(r):Qr(t===qd?e:t)},Kq=function(t){var e=0,r=1;(t[e]===$o||t[e]===tn)&&(t[e]===tn&&(r=-1),e++);for(var n=[];Qr(t[e]);)n.push(t[e++]);var i=n.length?parseInt(Rt.apply(void 0,n),10):0;t[e]===qd&&e++;for(var s=[];Qr(t[e]);)s.push(t[e++]);var a=s.length,o=a?parseInt(Rt.apply(void 0,s),10):0;(t[e]===hj||t[e]===dj)&&e++;var A=1;(t[e]===$o||t[e]===tn)&&(t[e]===tn&&(A=-1),e++);for(var l=[];Qr(t[e]);)l.push(t[e++]);var u=l.length?parseInt(Rt.apply(void 0,l),10):0;return r*(i+o*Math.pow(10,-a))*Math.pow(10,A*u)},$q={type:2},Gq={type:3},Wq={type:4},zq={type:13},Yq={type:8},Xq={type:21},qq={type:9},Jq={type:10},Zq={type:11},eJ={type:12},tJ={type:14},Jh={type:23},rJ={type:1},nJ={type:25},iJ={type:24},sJ={type:26},aJ={type:27},oJ={type:28},AJ={type:29},lJ={type:31},vb={type:32},mj=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(D0(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==vb;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Gh:return this.consumeStringToken(Gh);case lq:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(H2(r)||oa(n,i)){var s=qh(r,n,i)?aq:sq,a=this.consumeName();return{type:5,value:a,flags:s}}break;case uq:if(this.peekCodePoint(0)===pc)return this.consumeCodePoint(),zq;break;case Wh:return this.consumeStringToken(Wh);case zh:return $q;case vc:return Gq;case $y:if(this.peekCodePoint(0)===pc)return this.consumeCodePoint(),tJ;break;case $o:if(Gy(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Cq:return Wq;case tn:var o=e,A=this.peekCodePoint(0),l=this.peekCodePoint(1);if(Gy(o,A,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(qh(o,A,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===tn&&l===gq)return this.consumeCodePoint(),this.consumeCodePoint(),iJ;break;case qd:if(Gy(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case R2:if(this.peekCodePoint(0)===$y)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===$y&&(u=this.consumeCodePoint(),u===R2))return this.consumeToken();if(u===Ii)return this.consumeToken()}break;case Eq:return sJ;case _q:return aJ;case hq:if(this.peekCodePoint(0)===fq&&this.peekCodePoint(1)===tn&&this.peekCodePoint(2)===tn)return this.consumeCodePoint(),this.consumeCodePoint(),nJ;break;case mq:var d=this.peekCodePoint(0),f=this.peekCodePoint(1),g=this.peekCodePoint(2);if(qh(d,f,g)){var a=this.consumeName();return{type:7,value:a}}break;case pq:return oJ;case cd:if(oa(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case vq:return AJ;case yq:if(this.peekCodePoint(0)===pc)return this.consumeCodePoint(),Yq;break;case wq:return Zq;case xq:return eJ;case Qq:case Oq:var m=this.peekCodePoint(0),p=this.peekCodePoint(1);return m===$o&&(el(p)||p===Yh)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case M2:if(this.peekCodePoint(0)===pc)return this.consumeCodePoint(),qq;if(this.peekCodePoint(0)===M2)return this.consumeCodePoint(),Xq;break;case bq:if(this.peekCodePoint(0)===pc)return this.consumeCodePoint(),Jq;break;case Ii:return vb}return Xh(e)?(this.consumeWhiteSpace(),lJ):Qr(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):qm(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Rt(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();el(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===Yh&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Rt.apply(void 0,e.map(function(A){return A===Yh?uj:A})),16),s=parseInt(Rt.apply(void 0,e.map(function(A){return A===Yh?gj:A})),16);return{type:30,start:i,end:s}}var a=parseInt(Rt.apply(void 0,e),16);if(this.peekCodePoint(0)===tn&&el(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];el(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var s=parseInt(Rt.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===zh?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===zh?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ii)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Wh||r===Gh){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ii||this.peekCodePoint(0)===vc)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Jh)}for(;;){var i=this.consumeCodePoint();if(i===Ii||i===vc)return{type:22,value:Rt.apply(void 0,e)};if(Xh(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ii||this.peekCodePoint(0)===vc?(this.consumeCodePoint(),{type:22,value:Rt.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Jh);if(i===Gh||i===Wh||i===zh||Vq(i))return this.consumeBadUrlRemnants(),Jh;if(i===cd)if(oa(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Jh;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;Xh(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===vc||e===Ii)return;oa(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=Rt.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===Ii||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===Xm)return this._value.splice(0,n),rJ;if(i===cd){var s=this._value[n+1];s!==Ii&&s!==void 0&&(s===Xm?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):oa(i,s)&&(r+=this.consumeStringSlice(n),r+=Rt(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Tf,n=this.peekCodePoint(0);for((n===$o||n===tn)&&e.push(this.consumeCodePoint());Qr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===qd&&Qr(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=j2;Qr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===hj||n===dj)&&((i===$o||i===tn)&&Qr(s)||Qr(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=j2;Qr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Kq(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(qh(i,s,a)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return i===cq?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(el(e)){for(var r=Rt(e);el(this.peekCodePoint(0))&&r.length<6;)r+=Rt(this.consumeCodePoint());Xh(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||jq(n)||n>1114111?L2:n}return e===Ii?L2:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(H2(r))e+=Rt(r);else if(oa(r,this.peekCodePoint(0)))e+=Rt(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),pj=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new mj;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||cJ(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?vb:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Ff=function(t){return t.type===15},Pu=function(t){return t.type===17},et=function(t){return t.type===20},uJ=function(t){return t.type===0},yb=function(t,e){return et(t)&&t.value===e},vj=function(t){return t.type!==31},uu=function(t){return t.type!==31&&t.type!==4},$i=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},cJ=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},eo=function(t){return t.type===17||t.type===15},Kt=function(t){return t.type===16||eo(t)},yj=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Br={type:17,number:0,flags:Tf},yE={type:16,number:50,flags:Tf},wa={type:16,number:100,flags:Tf},Lc=function(t,e,r){var n=t[0],i=t[1];return[dt(n,e),dt(typeof i<"u"?i:n,r)]},dt=function(t,e){if(t.type===16)return t.number/100*e;if(Ff(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},wj="deg",xj="grad",bj="rad",Bj="turn",j0={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case wj:return Math.PI*e.number/180;case xj:return Math.PI/200*e.number;case bj:return e.number;case Bj:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Cj=function(t){return t.type===15&&(t.unit===wj||t.unit===xj||t.unit===bj||t.unit===Bj)},Ej=function(t){var e=t.filter(et).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Br,Br];case"to top":case"bottom":return Xn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Br,wa];case"to right":case"left":return Xn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[wa,wa];case"to bottom":case"top":return Xn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[wa,Br];case"to left":case"right":return Xn(270)}return 0},Xn=function(t){return Math.PI*t/180},Ra={name:"color",parse:function(t,e){if(e.type===18){var r=dJ[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return xa(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return xa(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return xa(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return xa(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=vs[e.value.toUpperCase()];if(typeof o<"u")return o}return vs.TRANSPARENT}},Ma=function(t){return(255&t)===0},sr=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},xa=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},V2=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},K2=function(t,e){var r=e.filter(uu);if(r.length===3){var n=r.map(V2),i=n[0],s=n[1],a=n[2];return xa(i,s,a,1)}if(r.length===4){var o=r.map(V2),i=o[0],s=o[1],a=o[2],A=o[3];return xa(i,s,a,A)}return 0};function Wy(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var $2=function(t,e){var r=e.filter(uu),n=r[0],i=r[1],s=r[2],a=r[3],o=(n.type===17?Xn(n.number):j0.parse(t,n))/(Math.PI*2),A=Kt(i)?i.number/100:0,l=Kt(s)?s.number/100:0,u=typeof a<"u"&&Kt(a)?dt(a,1):1;if(A===0)return xa(l*255,l*255,l*255,1);var d=l<=.5?l*(A+1):l+A-l*A,f=l*2-d,g=Wy(f,d,o+1/3),m=Wy(f,d,o),p=Wy(f,d,o-1/3);return xa(g*255,m*255,p*255,u)},dJ={hsl:$2,hsla:$2,rgb:K2,rgba:K2},dd=function(t,e){return Ra.parse(t,pj.create(e).parseComponentValue())},vs={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},fJ={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(et(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},hJ={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},R0=function(t,e){var r=Ra.parse(t,e[0]),n=e[1];return n&&Kt(n)?{color:r,stop:n}:{color:r,stop:null}},G2=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Br),n.stop===null&&(n.stop=wa);for(var i=[],s=0,a=0;a<t.length;a++){var o=t[a].stop;if(o!==null){var A=dt(o,e);A>s?i.push(A):i.push(s),s=A}else i.push(null)}for(var l=null,a=0;a<i.length;a++){var u=i[a];if(u===null)l===null&&(l=a);else if(l!==null){for(var d=a-l,f=i[l-1],g=(u-f)/(d+1),m=1;m<=d;m++)i[l+m-1]=g*m;l=null}}return t.map(function(p,v){var y=p.color;return{color:y,stop:Math.max(Math.min(1,i[v]/e),0)}})},gJ=function(t,e,r){var n=e/2,i=r/2,s=dt(t[0],e)-n,a=i-dt(t[1],r);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},mJ=function(t,e,r){var n=typeof t=="number"?t:gJ(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,a=r/2,o=i/2,A=Math.sin(n-Math.PI/2)*o,l=Math.cos(n-Math.PI/2)*o;return[i,s-l,s+l,a-A,a+A]},ci=function(t,e){return Math.sqrt(t*t+e*e)},W2=function(t,e,r,n,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(a,o){var A=o[0],l=o[1],u=ci(r-A,n-l);return(i?u<a.optimumDistance:u>a.optimumDistance)?{optimumCorner:o,optimumDistance:u}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},pJ=function(t,e,r,n,i){var s=0,a=0;switch(t.size){case 0:t.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)s=a=Math.min(ci(e,r),ci(e,r-i),ci(e-n,r),ci(e-n,r-i));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),A=W2(n,i,e,r,!0),l=A[0],u=A[1];s=ci(l-e,(u-r)/o),a=o*s}break;case 1:t.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)s=a=Math.max(ci(e,r),ci(e,r-i),ci(e-n,r),ci(e-n,r-i));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),d=W2(n,i,e,r,!1),l=d[0],u=d[1];s=ci(l-e,(u-r)/o),a=o*s}break}return Array.isArray(t.size)&&(s=dt(t.size[0],n),a=t.size.length===2?dt(t.size[1],i):s),[s,a]},vJ=function(t,e){var r=Xn(180),n=[];return $i(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){r=Ej(i);return}else if(Cj(a)){r=j0.parse(t,a);return}}var o=R0(t,i);n.push(o)}),{angle:r,stops:n,type:1}},Zh=function(t,e){var r=Xn(180),n=[];return $i(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=Ej(i);return}else if(Cj(a)){r=(j0.parse(t,a)+Xn(270))%Xn(360);return}}var o=R0(t,i);n.push(o)}),{angle:r,stops:n,type:1}},yJ=function(t,e){var r=Xn(180),n=[],i=1,s=0,a=3,o=[];return $i(e).forEach(function(A,l){var u=A[0];if(l===0){if(et(u)&&u.value==="linear"){i=1;return}else if(et(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var d=Ra.parse(t,u.values[0]);n.push({stop:Br,color:d})}else if(u.name==="to"){var d=Ra.parse(t,u.values[0]);n.push({stop:wa,color:d})}else if(u.name==="color-stop"){var f=u.values.filter(uu);if(f.length===2){var d=Ra.parse(t,f[1]),g=f[0];Pu(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:d})}}}}),i===1?{angle:(r+Xn(180))%Xn(360),stops:n,type:i}:{size:a,shape:s,stops:n,position:o,type:i}},_j="closest-side",Ij="farthest-side",Sj="closest-corner",Tj="farthest-corner",Fj="circle",Uj="ellipse",Pj="cover",Nj="contain",wJ=function(t,e){var r=0,n=3,i=[],s=[];return $i(e).forEach(function(a,o){var A=!0;if(o===0){var l=!1;A=a.reduce(function(d,f){if(l)if(et(f))switch(f.value){case"center":return s.push(yE),d;case"top":case"left":return s.push(Br),d;case"right":case"bottom":return s.push(wa),d}else(Kt(f)||eo(f))&&s.push(f);else if(et(f))switch(f.value){case Fj:return r=0,!1;case Uj:return r=1,!1;case"at":return l=!0,!1;case _j:return n=0,!1;case Pj:case Ij:return n=1,!1;case Nj:case Sj:return n=2,!1;case Tj:return n=3,!1}else if(eo(f)||Kt(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return d},A)}if(A){var u=R0(t,a);i.push(u)}}),{size:n,shape:r,stops:i,position:s,type:2}},eg=function(t,e){var r=0,n=3,i=[],s=[];return $i(e).forEach(function(a,o){var A=!0;if(o===0?A=a.reduce(function(u,d){if(et(d))switch(d.value){case"center":return s.push(yE),!1;case"top":case"left":return s.push(Br),!1;case"right":case"bottom":return s.push(wa),!1}else if(Kt(d)||eo(d))return s.push(d),!1;return u},A):o===1&&(A=a.reduce(function(u,d){if(et(d))switch(d.value){case Fj:return r=0,!1;case Uj:return r=1,!1;case Nj:case _j:return n=0,!1;case Ij:return n=1,!1;case Sj:return n=2,!1;case Pj:case Tj:return n=3,!1}else if(eo(d)||Kt(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return u},A)),A){var l=R0(t,a);i.push(l)}}),{size:n,shape:r,stops:i,position:s,type:2}},xJ=function(t){return t.type===1},bJ=function(t){return t.type===2},wE={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=Qj[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function BJ(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Qj[t.name])}var Qj={"linear-gradient":vJ,"-moz-linear-gradient":Zh,"-ms-linear-gradient":Zh,"-o-linear-gradient":Zh,"-webkit-linear-gradient":Zh,"radial-gradient":wJ,"-moz-radial-gradient":eg,"-ms-radial-gradient":eg,"-o-radial-gradient":eg,"-webkit-radial-gradient":eg,"-webkit-gradient":yJ},CJ={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return uu(n)&&BJ(n)}).map(function(n){return wE.parse(t,n)})}},EJ={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(et(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},_J={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return $i(e).map(function(r){return r.filter(Kt)}).map(yj)}},IJ={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return $i(e).map(function(r){return r.filter(et).map(function(n){return n.value}).join(" ")}).map(SJ)}},SJ=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ml;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Ml||(Ml={}));var TJ={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return $i(e).map(function(r){return r.filter(FJ)})}},FJ=function(t){return et(t)||Kt(t)},M0=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},UJ=M0("top"),PJ=M0("right"),NJ=M0("bottom"),QJ=M0("left"),L0=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return yj(r.filter(Kt))}}},kJ=L0("top-left"),OJ=L0("top-right"),DJ=L0("bottom-right"),jJ=L0("bottom-left"),H0=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},RJ=H0("top"),MJ=H0("right"),LJ=H0("bottom"),HJ=H0("left"),V0=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Ff(r)?r.number:0}}},VJ=V0("top"),KJ=V0("right"),$J=V0("bottom"),GJ=V0("left"),WJ={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zJ={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},YJ={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(et).reduce(function(r,n){return r|XJ(n.value)},0)}},XJ=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},qJ={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},JJ={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Jm;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Jm||(Jm={}));var ZJ={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Jm.STRICT;case"normal":default:return Jm.NORMAL}}},eZ={name:"line-height",initialValue:"normal",prefix:!1,type:4},z2=function(t,e){return et(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Kt(t)?dt(t,e):e},tZ={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:wE.parse(t,e)}},rZ={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},wb={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},K0=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},nZ=K0("top"),iZ=K0("right"),sZ=K0("bottom"),aZ=K0("left"),oZ={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(et).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},AZ={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},$0=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},lZ=$0("top"),uZ=$0("right"),cZ=$0("bottom"),dZ=$0("left"),fZ={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},hZ={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},gZ={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&yb(e[0],"none")?[]:$i(e).map(function(r){for(var n={color:vs.TRANSPARENT,offsetX:Br,offsetY:Br,blur:Br},i=0,s=0;s<r.length;s++){var a=r[s];eo(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:n.blur=a,i++):n.color=Ra.parse(t,a)}return n})}},mZ={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},pZ={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=wZ[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},vZ=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},yZ=function(t){var e=t.filter(function(A){return A.type===17}).map(function(A){return A.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,i,s,a,o]:null},wZ={matrix:vZ,matrix3d:yZ},Y2={type:16,number:50,flags:Tf},xZ=[Y2,Y2],bZ={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Kt);return r.length!==2?xZ:[r[0],r[1]]}},BZ={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},fd;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(fd||(fd={}));var CZ={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return fd.BREAK_ALL;case"keep-all":return fd.KEEP_ALL;case"normal":default:return fd.NORMAL}}},EZ={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Pu(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},kj={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},_Z={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Pu(e)?e.number:1}},IZ={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},SZ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(et).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},TZ={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},FZ={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},UZ={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Pu(e))return e.number;if(et(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},PZ={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(et).map(function(r){return r.value})}},NZ={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Xt=function(t,e){return(t&e)!==0},QZ={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},kZ={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(vj),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var A=o&&Pu(o)?o.number:1;n.push({counter:a.value,increment:A})}}return n}},OZ={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(vj),i=0;i<n.length;i++){var s=n[i],a=n[i+1];if(et(s)&&s.value!=="none"){var o=a&&Pu(a)?a.number:0;r.push({counter:s.value,reset:o})}}return r}},DZ={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Ff).map(function(r){return kj.parse(t,r)})}},jZ={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(uJ);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;n.push({open:a,close:o})}return n}},X2=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},RZ={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&yb(e[0],"none")?[]:$i(e).map(function(r){for(var n={color:255,offsetX:Br,offsetY:Br,blur:Br,spread:Br,inset:!1},i=0,s=0;s<r.length;s++){var a=r[s];yb(a,"inset")?n.inset=!0:eo(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:i===2?n.blur=a:n.spread=a,i++):n.color=Ra.parse(t,a)}return n})}},MZ={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(et).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},LZ={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},HZ={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Ff(e)?e.number:0}},VZ=function(){function t(e,r){var n,i;this.animationDuration=de(e,DZ,r.animationDuration),this.backgroundClip=de(e,fJ,r.backgroundClip),this.backgroundColor=de(e,hJ,r.backgroundColor),this.backgroundImage=de(e,CJ,r.backgroundImage),this.backgroundOrigin=de(e,EJ,r.backgroundOrigin),this.backgroundPosition=de(e,_J,r.backgroundPosition),this.backgroundRepeat=de(e,IJ,r.backgroundRepeat),this.backgroundSize=de(e,TJ,r.backgroundSize),this.borderTopColor=de(e,UJ,r.borderTopColor),this.borderRightColor=de(e,PJ,r.borderRightColor),this.borderBottomColor=de(e,NJ,r.borderBottomColor),this.borderLeftColor=de(e,QJ,r.borderLeftColor),this.borderTopLeftRadius=de(e,kJ,r.borderTopLeftRadius),this.borderTopRightRadius=de(e,OJ,r.borderTopRightRadius),this.borderBottomRightRadius=de(e,DJ,r.borderBottomRightRadius),this.borderBottomLeftRadius=de(e,jJ,r.borderBottomLeftRadius),this.borderTopStyle=de(e,RJ,r.borderTopStyle),this.borderRightStyle=de(e,MJ,r.borderRightStyle),this.borderBottomStyle=de(e,LJ,r.borderBottomStyle),this.borderLeftStyle=de(e,HJ,r.borderLeftStyle),this.borderTopWidth=de(e,VJ,r.borderTopWidth),this.borderRightWidth=de(e,KJ,r.borderRightWidth),this.borderBottomWidth=de(e,$J,r.borderBottomWidth),this.borderLeftWidth=de(e,GJ,r.borderLeftWidth),this.boxShadow=de(e,RZ,r.boxShadow),this.color=de(e,WJ,r.color),this.direction=de(e,zJ,r.direction),this.display=de(e,YJ,r.display),this.float=de(e,qJ,r.cssFloat),this.fontFamily=de(e,TZ,r.fontFamily),this.fontSize=de(e,FZ,r.fontSize),this.fontStyle=de(e,NZ,r.fontStyle),this.fontVariant=de(e,PZ,r.fontVariant),this.fontWeight=de(e,UZ,r.fontWeight),this.letterSpacing=de(e,JJ,r.letterSpacing),this.lineBreak=de(e,ZJ,r.lineBreak),this.lineHeight=de(e,eZ,r.lineHeight),this.listStyleImage=de(e,tZ,r.listStyleImage),this.listStylePosition=de(e,rZ,r.listStylePosition),this.listStyleType=de(e,wb,r.listStyleType),this.marginTop=de(e,nZ,r.marginTop),this.marginRight=de(e,iZ,r.marginRight),this.marginBottom=de(e,sZ,r.marginBottom),this.marginLeft=de(e,aZ,r.marginLeft),this.opacity=de(e,_Z,r.opacity);var s=de(e,oZ,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=de(e,AZ,r.overflowWrap),this.paddingTop=de(e,lZ,r.paddingTop),this.paddingRight=de(e,uZ,r.paddingRight),this.paddingBottom=de(e,cZ,r.paddingBottom),this.paddingLeft=de(e,dZ,r.paddingLeft),this.paintOrder=de(e,MZ,r.paintOrder),this.position=de(e,hZ,r.position),this.textAlign=de(e,fZ,r.textAlign),this.textDecorationColor=de(e,IZ,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=de(e,SZ,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=de(e,gZ,r.textShadow),this.textTransform=de(e,mZ,r.textTransform),this.transform=de(e,pZ,r.transform),this.transformOrigin=de(e,bZ,r.transformOrigin),this.visibility=de(e,BZ,r.visibility),this.webkitTextStrokeColor=de(e,LZ,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=de(e,HZ,r.webkitTextStrokeWidth),this.wordBreak=de(e,CZ,r.wordBreak),this.zIndex=de(e,EZ,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Ma(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Xt(this.display,4)||Xt(this.display,33554432)||Xt(this.display,268435456)||Xt(this.display,536870912)||Xt(this.display,67108864)||Xt(this.display,134217728)},t}(),KZ=function(){function t(e,r){this.content=de(e,QZ,r.content),this.quotes=de(e,jZ,r.quotes)}return t}(),q2=function(){function t(e,r){this.counterIncrement=de(e,kZ,r.counterIncrement),this.counterReset=de(e,OZ,r.counterReset)}return t}(),de=function(t,e,r){var n=new mj,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var s=new pj(n.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(t,et(a)?a.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return j0.parse(t,s.parseComponentValue());case"color":return Ra.parse(t,s.parseComponentValue());case"image":return wE.parse(t,s.parseComponentValue());case"length":var o=s.parseComponentValue();return eo(o)?o:Br;case"length-percentage":var A=s.parseComponentValue();return Kt(A)?A:Br;case"time":return kj.parse(t,s.parseComponentValue())}break}},$Z="data-html2canvas-debug",GZ=function(t){var e=t.getAttribute($Z);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},xb=function(t,e){var r=GZ(t);return r===1||e===r},Gi=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,xb(r,3))debugger;this.styles=new VZ(e,window.getComputedStyle(r,null)),Cb(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=O0(this.context,r),xb(r,4)&&(this.flags|=16)}return t}(),WZ="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",J2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tg=0;tg<J2.length;tg++)Hc[J2.charCodeAt(tg)]=tg;var zZ=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=Hc[t.charCodeAt(n)],a=Hc[t.charCodeAt(n+1)],o=Hc[t.charCodeAt(n+2)],A=Hc[t.charCodeAt(n+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|A&63;return l},YZ=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},XZ=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},rA=5,xE=11,zy=2,qZ=xE-rA,Oj=65536>>rA,JZ=1<<rA,Yy=JZ-1,ZZ=1024>>rA,eee=Oj+ZZ,tee=eee,ree=32,nee=tee+ree,iee=65536>>xE,see=1<<qZ,aee=see-1,Z2=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},oee=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},Aee=function(t,e){var r=zZ(t),n=Array.isArray(r)?XZ(r):new Uint32Array(r),i=Array.isArray(r)?YZ(r):new Uint16Array(r),s=24,a=Z2(i,s/2,n[4]/2),o=n[5]===2?Z2(i,(s+n[4])/2):oee(n,Math.ceil((s+n[4])/4));return new lee(n[0],n[1],n[2],n[3],a,o)},lee=function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>rA],r=(r<<zy)+(e&Yy),this.data[r];if(e<=65535)return r=this.index[Oj+(e-55296>>rA)],r=(r<<zy)+(e&Yy),this.data[r];if(e<this.highStart)return r=nee-iee+(e>>xE),r=this.index[r],r+=e>>rA&aee,r=this.index[r],r=(r<<zy)+(e&Yy),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),eF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uee=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var rg=0;rg<eF.length;rg++)uee[eF.charCodeAt(rg)]=rg;var cee=1,Xy=2,qy=3,tF=4,rF=5,dee=7,nF=8,Jy=9,Zy=10,iF=11,sF=12,aF=13,oF=14,ew=15,fee=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},hee=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},gee=Aee(WZ),Ln="×",tw="÷",mee=function(t){return gee.get(t)},pee=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],a=e[r];if(s===Xy&&a===qy)return Ln;if(s===Xy||s===qy||s===tF||a===Xy||a===qy||a===tF)return tw;if(s===nF&&[nF,Jy,iF,sF].indexOf(a)!==-1||(s===iF||s===Jy)&&(a===Jy||a===Zy)||(s===sF||s===Zy)&&a===Zy||a===aF||a===rF||a===dee||s===cee)return Ln;if(s===aF&&a===oF){for(;i===rF;)i=e[--n];if(i===oF)return Ln}if(s===ew&&a===ew){for(var o=0;i===ew;)o++,i=e[--n];if(o%2===0)return Ln}return tw},vee=function(t){var e=fee(t),r=e.length,n=0,i=0,s=e.map(mee);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=Ln;n<r&&(a=pee(e,s,++n))===Ln;);if(a!==Ln||n===r){var o=hee.apply(null,e.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},yee=function(t){for(var e=vee(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},wee=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(n),s===e)return!0}}return!1},xee=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=D0(n.data).map(function(A){return Rt(A)}),s=0,a={},o=i.every(function(A,l){r.setStart(n,s),r.setEnd(n,s+A.length);var u=r.getBoundingClientRect();s+=A.length;var d=u.x>a.x||u.y>a.y;return a=u,l===0?!0:d});return t.body.removeChild(e),o},bee=function(){return typeof new Image().crossOrigin<"u"},Bee=function(){return typeof new XMLHttpRequest().responseType=="string"},Cee=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},AF=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Eee=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var a=bb(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),lF(a).then(function(o){n.drawImage(o,0,0);var A=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var l=t.createElement("div");return l.style.backgroundImage="url("+s+")",l.style.height=r+"px",AF(A)?lF(bb(r,r,0,0,l)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),AF(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},bb=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},lF=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},vr={get SUPPORT_RANGE_BOUNDS(){var t=wee(document);return Object.defineProperty(vr,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=vr.SUPPORT_RANGE_BOUNDS&&xee(document);return Object.defineProperty(vr,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Cee(document);return Object.defineProperty(vr,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Eee(document):Promise.resolve(!1);return Object.defineProperty(vr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=bee();return Object.defineProperty(vr,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Bee();return Object.defineProperty(vr,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(vr,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(vr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},hd=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),_ee=function(t,e,r,n){var i=Tee(e,r),s=[],a=0;return i.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(vr.SUPPORT_RANGE_BOUNDS){var A=uF(n,a,o.length).getClientRects();if(A.length>1){var l=bE(o),u=0;l.forEach(function(f){s.push(new hd(f,Ss.fromDOMRectList(t,uF(n,u+a,f.length).getClientRects()))),u+=f.length})}else s.push(new hd(o,Ss.fromDOMRectList(t,A)))}else{var d=n.splitText(o.length);s.push(new hd(o,Iee(t,n))),n=d}else vr.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),s},Iee=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=O0(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return Ss.EMPTY},uF=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},bE=function(t){if(vr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return yee(t)},See=function(t,e){if(vr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return Uee(t,e)},Tee=function(t,e){return e.letterSpacing!==0?bE(t):See(t,e)},Fee=[32,160,4961,65792,65793,4153,4241],Uee=function(t,e){for(var r=iq(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var a=i.value.slice(),o=D0(a),A="";o.forEach(function(l){Fee.indexOf(l)===-1?A+=Rt(l):(A.length&&n.push(A),n.push(Rt(l)),A="")}),A.length&&n.push(A)}};!(i=r.next()).done;)s();return n},Pee=function(){function t(e,r,n){this.text=Nee(r.data,n.textTransform),this.textBounds=_ee(e,this.text,n,r)}return t}(),Nee=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Qee,kee);case 2:return t.toUpperCase();default:return t}},Qee=/(^|\s|:|-|\(|\))([a-z])/g,kee=function(t,e,r){return t.length>0?e+r.toUpperCase():t},Dj=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Gi),jj=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(Gi),Rj=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=new XMLSerializer,a=O0(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Gi),Mj=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Gi),Bb=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(Gi),Oee=[{type:15,flags:0,unit:"px",number:3}],Dee=[{type:16,flags:0,number:50}],jee=function(t){return t.width>t.height?new Ss(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Ss(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Ree=function(t){var e=t.type===Mee?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},Zm="checkbox",ep="radio",Mee="password",cF=707406591,BE=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=Ree(n),(i.type===Zm||i.type===ep)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=jee(i.bounds)),i.type){case Zm:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Oee;break;case ep:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Dee;break}return i}return e}(Gi),Lj=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(Gi),Hj=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Gi),Vj=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=$j(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?dd(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):vs.TRANSPARENT,a=n.contentWindow.document.body?dd(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):vs.TRANSPARENT;i.backgroundColor=Ma(s)?Ma(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e}(Gi),Lee=["OL","UL","MENU"],qg=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,Gj(i)&&i.data.trim().length>0)r.textNodes.push(new Pee(t,i,r.styles));else if(Il(i))if(Xj(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return qg(t,o,r,n)});else{var a=Kj(t,i);a.styles.isVisible()&&(Hee(i,a,n)?a.flags|=4:Vee(a.styles)&&(a.flags|=2),Lee.indexOf(i.tagName)!==-1&&(a.flags|=8),r.elements.push(a),i.slot,i.shadowRoot?qg(t,i.shadowRoot,a,n):!tp(i)&&!Wj(i)&&!rp(i)&&qg(t,i,a,n))}},Kj=function(t,e){return Eb(e)?new Dj(t,e):zj(e)?new jj(t,e):Wj(e)?new Rj(t,e):Kee(e)?new Mj(t,e):$ee(e)?new Bb(t,e):Gee(e)?new BE(t,e):rp(e)?new Lj(t,e):tp(e)?new Hj(t,e):Yj(e)?new Vj(t,e):new Gi(t,e)},$j=function(t,e){var r=Kj(t,e);return r.flags|=4,qg(t,e,r,r),r},Hee=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||CE(t)&&r.styles.isTransparent()},Vee=function(t){return t.isPositioned()||t.isFloating()},Gj=function(t){return t.nodeType===Node.TEXT_NODE},Il=function(t){return t.nodeType===Node.ELEMENT_NODE},Cb=function(t){return Il(t)&&typeof t.style<"u"&&!Jg(t)},Jg=function(t){return typeof t.className=="object"},Kee=function(t){return t.tagName==="LI"},$ee=function(t){return t.tagName==="OL"},Gee=function(t){return t.tagName==="INPUT"},Wee=function(t){return t.tagName==="HTML"},Wj=function(t){return t.tagName==="svg"},CE=function(t){return t.tagName==="BODY"},zj=function(t){return t.tagName==="CANVAS"},dF=function(t){return t.tagName==="VIDEO"},Eb=function(t){return t.tagName==="IMG"},Yj=function(t){return t.tagName==="IFRAME"},fF=function(t){return t.tagName==="STYLE"},zee=function(t){return t.tagName==="SCRIPT"},tp=function(t){return t.tagName==="TEXTAREA"},rp=function(t){return t.tagName==="SELECT"},Xj=function(t){return t.tagName==="SLOT"},hF=function(t){return t.tagName.indexOf("-")>0},Yee=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(o){var A=r.counters[o.counter];A&&o.increment!==0&&(s=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var A=r.counters[o.counter];a.push(o.counter),A||(A=r.counters[o.counter]=[]),A.push(o.reset)}),a},t}(),gF={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},mF={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Xee={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},qee={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},tl=function(t,e,r,n,i,s){return t<e||t>r?Jd(t,i,s.length>0):n.integers.reduce(function(a,o,A){for(;t>=o;)t-=o,a+=n.values[A];return a},"")+s},qj=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},jt=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(qj(Math.abs(t),s,n,function(a){return Rt(Math.floor(a%s)+e)})+i)},So=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return qj(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},ul=1,na=2,ia=4,Vc=8,Xi=function(t,e,r,n,i,s){if(t<-9999||t>9999)return Jd(t,4,i.length>0);var a=Math.abs(t),o=i;if(a===0)return e[0]+o;for(var A=0;a>0&&A<=4;A++){var l=a%10;l===0&&Xt(s,ul)&&o!==""?o=e[l]+o:l>1||l===1&&A===0||l===1&&A===1&&Xt(s,na)||l===1&&A===1&&Xt(s,ia)&&t>100||l===1&&A>1&&Xt(s,Vc)?o=e[l]+(A>0?r[A-1]:"")+o:l===1&&A>0&&(o=r[A-1]+o),a=Math.floor(a/10)}return(t<0?n:"")+o},pF="十百千萬",vF="拾佰仟萬",yF="マイナス",rw="마이너스",Jd=function(t,e,r){var n=r?". ":"",i=r?"、":"",s=r?", ":"",a=r?" ":"";switch(e){case 0:return"•"+a;case 1:return"◦"+a;case 2:return"◾"+a;case 5:var o=jt(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return So(t,"〇一二三四五六七八九",i);case 6:return tl(t,1,3999,gF,3,n).toLowerCase();case 7:return tl(t,1,3999,gF,3,n);case 8:return jt(t,945,969,!1,n);case 9:return jt(t,97,122,!1,n);case 10:return jt(t,65,90,!1,n);case 11:return jt(t,1632,1641,!0,n);case 12:case 49:return tl(t,1,9999,mF,3,n);case 35:return tl(t,1,9999,mF,3,n).toLowerCase();case 13:return jt(t,2534,2543,!0,n);case 14:case 30:return jt(t,6112,6121,!0,n);case 15:return So(t,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return So(t,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return Xi(t,"零一二三四五六七八九",pF,"負",i,na|ia|Vc);case 47:return Xi(t,"零壹貳參肆伍陸柒捌玖",vF,"負",i,ul|na|ia|Vc);case 42:return Xi(t,"零一二三四五六七八九",pF,"负",i,na|ia|Vc);case 41:return Xi(t,"零壹贰叁肆伍陆柒捌玖",vF,"负",i,ul|na|ia|Vc);case 26:return Xi(t,"〇一二三四五六七八九","十百千万",yF,i,0);case 25:return Xi(t,"零壱弐参四伍六七八九","拾百千万",yF,i,ul|na|ia);case 31:return Xi(t,"영일이삼사오육칠팔구","십백천만",rw,s,ul|na|ia);case 33:return Xi(t,"零一二三四五六七八九","十百千萬",rw,s,0);case 32:return Xi(t,"零壹貳參四五六七八九","拾百千",rw,s,ul|na|ia);case 18:return jt(t,2406,2415,!0,n);case 20:return tl(t,1,19999,qee,3,n);case 21:return jt(t,2790,2799,!0,n);case 22:return jt(t,2662,2671,!0,n);case 22:return tl(t,1,10999,Xee,3,n);case 23:return So(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return So(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return jt(t,3302,3311,!0,n);case 28:return So(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return So(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return jt(t,3792,3801,!0,n);case 37:return jt(t,6160,6169,!0,n);case 38:return jt(t,4160,4169,!0,n);case 39:return jt(t,2918,2927,!0,n);case 40:return jt(t,1776,1785,!0,n);case 43:return jt(t,3046,3055,!0,n);case 44:return jt(t,3174,3183,!0,n);case 45:return jt(t,3664,3673,!0,n);case 46:return jt(t,3872,3881,!0,n);case 3:default:return jt(t,48,57,!0,n)}},Jj="data-html2canvas-ignore",wF=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Yee,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=Jee(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,A=o.document,l=tte(i).then(function(){return Hr(n,void 0,void 0,function(){var u,d;return Pr(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(ste),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),u=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,ete(A)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(A,d)}).then(function(){return i})]:[2,i]}})})});return A.open(),A.write(nte(document.doctype)+"<html></html>"),ite(this.referenceElement.ownerDocument,s,a),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),l},t.prototype.createElementClone=function(e){if(xb(e,2))debugger;if(zj(e))return this.createCanvasClone(e);if(dF(e))return this.createVideoClone(e);if(fF(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return Eb(r)&&(Eb(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),hF(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return nw(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var A=o.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!Il(r)||!zee(r)&&!r.hasAttribute(Jj)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Il(r)||!fF(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Il(s)&&Xj(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(r,o,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(Gj(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Il(e)&&(Cb(e)||Jg(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&Cb(i)&&(this.clonedReferenceElement=i),CE(i)&&Ate(i);var A=this.counters.parse(new q2(this.context,s)),l=this.resolvePseudoContent(e,i,a,gd.BEFORE);hF(e)&&(r=!0),dF(e)||this.cloneChildNodes(e,i,r),l&&i.insertBefore(l,i.firstChild);var u=this.resolvePseudoContent(e,i,o,gd.AFTER);return u&&i.appendChild(u),this.counters.pop(A),(s&&(this.options.copyStyles||Jg(e))&&!Yj(e)||r)&&nw(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(tp(e)||rp(e))&&(tp(i)||rp(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var s=this;if(n){var a=n.content,o=r.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new q2(this.context,n));var A=new KZ(this.context,n),l=o.createElement("html2canvaspseudoelement");nw(n,l),A.content.forEach(function(d){if(d.type===0)l.appendChild(o.createTextNode(d.value));else if(d.type===22){var f=o.createElement("img");f.src=d.value,f.style.opacity="1",l.appendChild(f)}else if(d.type===18){if(d.name==="attr"){var g=d.values.filter(et);g.length&&l.appendChild(o.createTextNode(e.getAttribute(g[0].value)||""))}else if(d.name==="counter"){var m=d.values.filter(uu),p=m[0],v=m[1];if(p&&et(p)){var y=s.counters.getCounterValue(p.value),w=v&&et(v)?wb.parse(s.context,v.value):3;l.appendChild(o.createTextNode(Jd(y,w,!1)))}}else if(d.name==="counters"){var B=d.values.filter(uu),p=B[0],I=B[1],v=B[2];if(p&&et(p)){var T=s.counters.getCounterValues(p.value),F=v&&et(v)?wb.parse(s.context,v.value):3,C=I&&I.type===0?I.value:"",_=T.map(function(Q){return Jd(Q,F,!1)}).join(C);l.appendChild(o.createTextNode(_))}}}else if(d.type===20)switch(d.value){case"open-quote":l.appendChild(o.createTextNode(X2(A.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(X2(A.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(d.value))}}),l.className=_b+" "+Ib;var u=i===gd.BEFORE?" "+_b:" "+Ib;return Jg(r)?r.className.baseValue+=u:r.className+=u,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),gd;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(gd||(gd={}));var Jee=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(Jj,"true"),t.body.appendChild(r),r},Zee=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},ete=function(t){return Promise.all([].slice.call(t.images,0).map(Zee))},tte=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},rte=["all","d","content"],nw=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);rte.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},nte=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},ite=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},ste=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},ate=":before",ote=":after",_b="___html2canvas___pseudoelement_before",Ib="___html2canvas___pseudoelement_after",xF=`{
    content: "" !important;
    display: none !important;
}`,Ate=function(t){lte(t,"."+_b+ate+xF+`
         .`+Ib+ote+xF)},lte=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},Zj=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),ute=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(sw(e)||hte(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Hr(this,void 0,void 0,function(){var r,n,i,s,a=this;return Pr(this,function(o){switch(o.label){case 0:return r=Zj.isSameOrigin(e),n=!iw(e)&&this._options.useCORS===!0&&vr.SUPPORT_CORS_IMAGES&&!r,i=!iw(e)&&!r&&!sw(e)&&typeof this._options.proxy=="string"&&vr.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!iw(e)&&!sw(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(A,l){var u=new Image;u.onload=function(){return A(u)},u.onerror=l,(gte(s)||n)&&(u.crossOrigin="anonymous"),u.src=s,u.complete===!0&&setTimeout(function(){return A(u)},500),a._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=vr.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(o==="text")s(A.response);else{var d=new FileReader;d.addEventListener("load",function(){return s(d.result)},!1),d.addEventListener("error",function(f){return a(f)},!1),d.readAsDataURL(A.response)}else a("Failed to proxy resource "+i+" with status code "+A.status)},A.onerror=a;var l=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=o),r._options.imageTimeout){var u=r._options.imageTimeout;A.timeout=u,A.ontimeout=function(){return a("Timed out ("+u+"ms) proxying "+i)}}A.send()})},t}(),cte=/^data:image\/svg\+xml/i,dte=/^data:image\/.*;base64,/i,fte=/^data:image\/.*/i,hte=function(t){return vr.SUPPORT_SVG_DRAWING||!mte(t)},iw=function(t){return fte.test(t)},gte=function(t){return dte.test(t)},sw=function(t){return t.substr(0,4)==="blob"},mte=function(t){return t.substr(-3).toLowerCase()==="svg"||cte.test(t)},ue=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),rl=function(t,e,r){return new ue(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},ng=function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=rl(this.start,this.startControl,e),i=rl(this.startControl,this.endControl,e),s=rl(this.endControl,this.end,e),a=rl(n,i,e),o=rl(i,s,e),A=rl(a,o,e);return r?new t(this.start,n,a,A):new t(A,o,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Kn=function(t){return t.type===1},pte=function(){function t(e){var r=e.styles,n=e.bounds,i=Lc(r.borderTopLeftRadius,n.width,n.height),s=i[0],a=i[1],o=Lc(r.borderTopRightRadius,n.width,n.height),A=o[0],l=o[1],u=Lc(r.borderBottomRightRadius,n.width,n.height),d=u[0],f=u[1],g=Lc(r.borderBottomLeftRadius,n.width,n.height),m=g[0],p=g[1],v=[];v.push((s+A)/n.width),v.push((m+d)/n.width),v.push((a+p)/n.height),v.push((l+f)/n.height);var y=Math.max.apply(Math,v);y>1&&(s/=y,a/=y,A/=y,l/=y,d/=y,f/=y,m/=y,p/=y);var w=n.width-A,B=n.height-f,I=n.width-d,T=n.height-p,F=r.borderTopWidth,C=r.borderRightWidth,_=r.borderBottomWidth,S=r.borderLeftWidth,P=dt(r.paddingTop,e.bounds.width),Q=dt(r.paddingRight,e.bounds.width),k=dt(r.paddingBottom,e.bounds.width),N=dt(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?yt(n.left+S/3,n.top+F/3,s-S/3,a-F/3,Ye.TOP_LEFT):new ue(n.left+S/3,n.top+F/3),this.topRightBorderDoubleOuterBox=s>0||a>0?yt(n.left+w,n.top+F/3,A-C/3,l-F/3,Ye.TOP_RIGHT):new ue(n.left+n.width-C/3,n.top+F/3),this.bottomRightBorderDoubleOuterBox=d>0||f>0?yt(n.left+I,n.top+B,d-C/3,f-_/3,Ye.BOTTOM_RIGHT):new ue(n.left+n.width-C/3,n.top+n.height-_/3),this.bottomLeftBorderDoubleOuterBox=m>0||p>0?yt(n.left+S/3,n.top+T,m-S/3,p-_/3,Ye.BOTTOM_LEFT):new ue(n.left+S/3,n.top+n.height-_/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?yt(n.left+S*2/3,n.top+F*2/3,s-S*2/3,a-F*2/3,Ye.TOP_LEFT):new ue(n.left+S*2/3,n.top+F*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?yt(n.left+w,n.top+F*2/3,A-C*2/3,l-F*2/3,Ye.TOP_RIGHT):new ue(n.left+n.width-C*2/3,n.top+F*2/3),this.bottomRightBorderDoubleInnerBox=d>0||f>0?yt(n.left+I,n.top+B,d-C*2/3,f-_*2/3,Ye.BOTTOM_RIGHT):new ue(n.left+n.width-C*2/3,n.top+n.height-_*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||p>0?yt(n.left+S*2/3,n.top+T,m-S*2/3,p-_*2/3,Ye.BOTTOM_LEFT):new ue(n.left+S*2/3,n.top+n.height-_*2/3),this.topLeftBorderStroke=s>0||a>0?yt(n.left+S/2,n.top+F/2,s-S/2,a-F/2,Ye.TOP_LEFT):new ue(n.left+S/2,n.top+F/2),this.topRightBorderStroke=s>0||a>0?yt(n.left+w,n.top+F/2,A-C/2,l-F/2,Ye.TOP_RIGHT):new ue(n.left+n.width-C/2,n.top+F/2),this.bottomRightBorderStroke=d>0||f>0?yt(n.left+I,n.top+B,d-C/2,f-_/2,Ye.BOTTOM_RIGHT):new ue(n.left+n.width-C/2,n.top+n.height-_/2),this.bottomLeftBorderStroke=m>0||p>0?yt(n.left+S/2,n.top+T,m-S/2,p-_/2,Ye.BOTTOM_LEFT):new ue(n.left+S/2,n.top+n.height-_/2),this.topLeftBorderBox=s>0||a>0?yt(n.left,n.top,s,a,Ye.TOP_LEFT):new ue(n.left,n.top),this.topRightBorderBox=A>0||l>0?yt(n.left+w,n.top,A,l,Ye.TOP_RIGHT):new ue(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||f>0?yt(n.left+I,n.top+B,d,f,Ye.BOTTOM_RIGHT):new ue(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=m>0||p>0?yt(n.left,n.top+T,m,p,Ye.BOTTOM_LEFT):new ue(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?yt(n.left+S,n.top+F,Math.max(0,s-S),Math.max(0,a-F),Ye.TOP_LEFT):new ue(n.left+S,n.top+F),this.topRightPaddingBox=A>0||l>0?yt(n.left+Math.min(w,n.width-C),n.top+F,w>n.width+C?0:Math.max(0,A-C),Math.max(0,l-F),Ye.TOP_RIGHT):new ue(n.left+n.width-C,n.top+F),this.bottomRightPaddingBox=d>0||f>0?yt(n.left+Math.min(I,n.width-S),n.top+Math.min(B,n.height-_),Math.max(0,d-C),Math.max(0,f-_),Ye.BOTTOM_RIGHT):new ue(n.left+n.width-C,n.top+n.height-_),this.bottomLeftPaddingBox=m>0||p>0?yt(n.left+S,n.top+Math.min(T,n.height-_),Math.max(0,m-S),Math.max(0,p-_),Ye.BOTTOM_LEFT):new ue(n.left+S,n.top+n.height-_),this.topLeftContentBox=s>0||a>0?yt(n.left+S+N,n.top+F+P,Math.max(0,s-(S+N)),Math.max(0,a-(F+P)),Ye.TOP_LEFT):new ue(n.left+S+N,n.top+F+P),this.topRightContentBox=A>0||l>0?yt(n.left+Math.min(w,n.width+S+N),n.top+F+P,w>n.width+S+N?0:A-S+N,l-(F+P),Ye.TOP_RIGHT):new ue(n.left+n.width-(C+Q),n.top+F+P),this.bottomRightContentBox=d>0||f>0?yt(n.left+Math.min(I,n.width-(S+N)),n.top+Math.min(B,n.height+F+P),Math.max(0,d-(C+Q)),f-(_+k),Ye.BOTTOM_RIGHT):new ue(n.left+n.width-(C+Q),n.top+n.height-(_+k)),this.bottomLeftContentBox=m>0||p>0?yt(n.left+S+N,n.top+T,Math.max(0,m-(S+N)),p-(_+k),Ye.BOTTOM_LEFT):new ue(n.left+S+N,n.top+n.height-(_+k))}return t}(),Ye;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ye||(Ye={}));var yt=function(t,e,r,n,i){var s=4*((Math.sqrt(2)-1)/3),a=r*s,o=n*s,A=t+r,l=e+n;switch(i){case Ye.TOP_LEFT:return new ng(new ue(t,l),new ue(t,l-o),new ue(A-a,e),new ue(A,e));case Ye.TOP_RIGHT:return new ng(new ue(t,e),new ue(t+a,e),new ue(A,l-o),new ue(A,l));case Ye.BOTTOM_RIGHT:return new ng(new ue(A,e),new ue(A,e+o),new ue(t+a,l),new ue(t,l));case Ye.BOTTOM_LEFT:default:return new ng(new ue(A,l),new ue(A-a,l),new ue(t,e+o),new ue(t,e))}},np=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},vte=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},ip=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},yte=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),ig=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),wte=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),xte=function(t){return t.type===0},eR=function(t){return t.type===1},bte=function(t){return t.type===2},bF=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},Bte=function(t,e,r,n,i){return t.map(function(s,a){switch(a){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+i);case 3:return s.add(e,r+i)}return s})},tR=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),rR=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new pte(this.container),this.container.styles.opacity<1&&this.effects.push(new wte(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new yte(n,i,s))}if(this.container.styles.overflowX!==0){var a=np(this.curves),o=ip(this.curves);bF(a,o)?this.effects.push(new ig(a,6)):(this.effects.push(new ig(a,2)),this.effects.push(new ig(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(A){return!eR(A)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=np(n.curves),o=ip(n.curves);bF(a,o)||i.unshift(new ig(o,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(A){return Xt(A.target,e)})},t}(),Sb=function(t,e,r,n){t.container.elements.forEach(function(i){var s=Xt(i.flags,4),a=Xt(i.flags,2),o=new rR(i,t);Xt(i.styles.display,2048)&&n.push(o);var A=Xt(i.flags,8)?[]:n;if(s||a){var l=s||i.styles.isPositioned()?r:e,u=new tR(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var f=0;l.negativeZIndex.some(function(m,p){return d>m.element.container.styles.zIndex.order?(f=p,!1):f>0}),l.negativeZIndex.splice(f,0,u)}else if(d>0){var g=0;l.positiveZIndex.some(function(m,p){return d>=m.element.container.styles.zIndex.order?(g=p+1,!1):g>0}),l.positiveZIndex.splice(g,0,u)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?l.nonPositionedFloats.push(u):l.nonPositionedInlineLevel.push(u);Sb(o,u,s?u:r,A)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),Sb(o,e,r,A);Xt(i.flags,8)&&nR(i,A)})},nR=function(t,e){for(var r=t instanceof Bb?t.start:1,n=t instanceof Bb?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof Mj&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=Jd(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},Cte=function(t){var e=new rR(t,null),r=new tR(e),n=[];return Sb(e,r,r,n),nR(e.container,n),r},BF=function(t,e){switch(e){case 0:return qn(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return qn(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return qn(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return qn(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Ete=function(t,e){switch(e){case 0:return qn(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return qn(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return qn(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return qn(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},_te=function(t,e){switch(e){case 0:return qn(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return qn(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return qn(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return qn(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Ite=function(t,e){switch(e){case 0:return sg(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return sg(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return sg(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return sg(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},sg=function(t,e){var r=[];return Kn(t)?r.push(t.subdivide(.5,!1)):r.push(t),Kn(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},qn=function(t,e,r,n){var i=[];return Kn(t)?i.push(t.subdivide(.5,!1)):i.push(t),Kn(r)?i.push(r.subdivide(.5,!0)):i.push(r),Kn(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Kn(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},iR=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},sp=function(t){var e=t.styles,r=t.bounds,n=dt(e.paddingLeft,r.width),i=dt(e.paddingRight,r.width),s=dt(e.paddingTop,r.width),a=dt(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},Ste=function(t,e){return t===0?e.bounds:t===2?sp(e):iR(e)},Tte=function(t,e){return t===0?e.bounds:t===2?sp(e):iR(e)},aw=function(t,e,r){var n=Ste(cl(t.styles.backgroundOrigin,e),t),i=Tte(cl(t.styles.backgroundClip,e),t),s=Fte(cl(t.styles.backgroundSize,e),r,n),a=s[0],o=s[1],A=Lc(cl(t.styles.backgroundPosition,e),n.width-a,n.height-o),l=Ute(cl(t.styles.backgroundRepeat,e),A,s,n,i),u=Math.round(n.left+A[0]),d=Math.round(n.top+A[1]);return[l,u,d,a,o]},nl=function(t){return et(t)&&t.value===Ml.AUTO},ag=function(t){return typeof t=="number"},Fte=function(t,e,r){var n=e[0],i=e[1],s=e[2],a=t[0],o=t[1];if(!a)return[0,0];if(Kt(a)&&o&&Kt(o))return[dt(a,r.width),dt(o,r.height)];var A=ag(s);if(et(a)&&(a.value===Ml.CONTAIN||a.value===Ml.COVER)){if(ag(s)){var l=r.width/r.height;return l<s!=(a.value===Ml.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var u=ag(n),d=ag(i),f=u||d;if(nl(a)&&(!o||nl(o))){if(u&&d)return[n,i];if(!A&&!f)return[r.width,r.height];if(f&&A){var g=u?n:i*s,m=d?i:n/s;return[g,m]}var p=u?n:r.width,v=d?i:r.height;return[p,v]}if(A){var y=0,w=0;return Kt(a)?y=dt(a,r.width):Kt(o)&&(w=dt(o,r.height)),nl(a)?y=w*s:(!o||nl(o))&&(w=y/s),[y,w]}var B=null,I=null;if(Kt(a)?B=dt(a,r.width):o&&Kt(o)&&(I=dt(o,r.height)),B!==null&&(!o||nl(o))&&(I=u&&d?B/n*i:r.height),I!==null&&nl(a)&&(B=u&&d?I/i*n:r.width),B!==null&&I!==null)return[B,I];throw new Error("Unable to calculate background-size for element")},cl=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},Ute=function(t,e,r,n,i){var s=e[0],a=e[1],o=r[0],A=r[1];switch(t){case 2:return[new ue(Math.round(n.left),Math.round(n.top+a)),new ue(Math.round(n.left+n.width),Math.round(n.top+a)),new ue(Math.round(n.left+n.width),Math.round(A+n.top+a)),new ue(Math.round(n.left),Math.round(A+n.top+a))];case 3:return[new ue(Math.round(n.left+s),Math.round(n.top)),new ue(Math.round(n.left+s+o),Math.round(n.top)),new ue(Math.round(n.left+s+o),Math.round(n.height+n.top)),new ue(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new ue(Math.round(n.left+s),Math.round(n.top+a)),new ue(Math.round(n.left+s+o),Math.round(n.top+a)),new ue(Math.round(n.left+s+o),Math.round(n.top+a+A)),new ue(Math.round(n.left+s),Math.round(n.top+a+A))];default:return[new ue(Math.round(i.left),Math.round(i.top)),new ue(Math.round(i.left+i.width),Math.round(i.top)),new ue(Math.round(i.left+i.width),Math.round(i.height+i.top)),new ue(Math.round(i.left),Math.round(i.height+i.top))]}},Pte="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",CF="Hidden Text",Nte=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),i.src=Pte,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(CF)),n.appendChild(s),n.appendChild(i);var o=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(CF)),n.style.lineHeight="normal",i.style.verticalAlign="super";var A=i.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:A}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),sR=function(){function t(e,r){this.context=e,this.options=r}return t}(),Qte=1e4,kte=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new Nte(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),bte(r)&&(this.ctx.globalAlpha=r.opacity),xte(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),eR(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Hr(this,void 0,void 0,function(){var n;return Pr(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Hr(this,void 0,void 0,function(){return Pr(this,function(n){switch(n.label){case 0:if(Xt(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var a=bE(r.text);a.reduce(function(o,A){return s.ctx.fillText(A,o,r.bounds.top+i),o+s.ctx.measureText(A).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=Mte(r.fontFamily).join(", "),s=Ff(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(r,n){return Hr(this,void 0,void 0,function(){var i,s,a,o,A,l,u,d,f=this;return Pr(this,function(g){return i=this.createFontStyle(n),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(a,o),l=A.baseline,u=A.middle,d=n.paintOrder,r.textBounds.forEach(function(m){d.forEach(function(p){switch(p){case 0:f.ctx.fillStyle=sr(n.color),f.renderTextWithLetterSpacing(m,n.letterSpacing,l);var v=n.textShadow;v.length&&m.text.trim().length&&(v.slice(0).reverse().forEach(function(y){f.ctx.shadowColor=sr(y.color),f.ctx.shadowOffsetX=y.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=y.offsetY.number*f.options.scale,f.ctx.shadowBlur=y.blur.number,f.renderTextWithLetterSpacing(m,n.letterSpacing,l)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=sr(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+l),m.bounds.width,1);break;case 2:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:f.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+u),m.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&m.text.trim().length&&(f.ctx.strokeStyle=sr(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+l)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=sp(r),a=ip(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Hr(this,void 0,void 0,function(){var n,i,s,a,o,A,w,w,l,u,d,f,I,g,m,T,p,v,y,w,B,I,T;return Pr(this,function(F){switch(F.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,a=0,o=n.textNodes,F.label=1;case 1:return a<o.length?(A=o[a],[4,this.renderTextNode(A,s)]):[3,4];case 2:F.sent(),F.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof Dj))return[3,8];F.label=5;case 5:return F.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return w=F.sent(),this.renderReplacedElement(n,i,w),[3,8];case 7:return F.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof jj&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof Rj))return[3,12];F.label=9;case 9:return F.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return w=F.sent(),this.renderReplacedElement(n,i,w),[3,12];case 11:return F.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Vj&&n.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,l.render(n.tree)]):[3,14];case 13:u=F.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),F.label=14;case 14:if(n instanceof BE&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===Zm?n.checked&&(this.ctx.save(),this.path([new ue(n.bounds.left+d*.39363,n.bounds.top+d*.79),new ue(n.bounds.left+d*.16,n.bounds.top+d*.5549),new ue(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new ue(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new ue(n.bounds.left+d*.72983,n.bounds.top+d*.23),new ue(n.bounds.left+d*.84,n.bounds.top+d*.34085),new ue(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=sr(cF),this.ctx.fill(),this.ctx.restore()):n.type===ep&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=sr(cF),this.ctx.fill(),this.ctx.restore())),Ote(n)&&n.value.length){switch(f=this.createFontStyle(s),I=f[0],g=f[1],m=this.fontMetrics.getMetrics(I,g).baseline,this.ctx.font=I,this.ctx.fillStyle=sr(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=jte(n.styles.textAlign),T=sp(n),p=0,n.styles.textAlign){case 1:p+=T.width/2;break;case 2:p+=T.width;break}v=T.add(p,0,0,-T.height/2+1),this.ctx.save(),this.path([new ue(T.left,T.top),new ue(T.left+T.width,T.top),new ue(T.left+T.width,T.top+T.height),new ue(T.left,T.top+T.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new hd(n.value,v),s.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Xt(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];w=void 0,B=y.url,F.label=15;case 15:return F.trys.push([15,17,,18]),[4,this.context.cache.match(B)];case 16:return w=F.sent(),this.ctx.drawImage(w,n.bounds.left-(w.width+10),n.bounds.top),[3,18];case 17:return F.sent(),this.context.logger.error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(I=this.createFontStyle(s)[0],this.ctx.font=I,this.ctx.fillStyle=sr(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",T=new Ss(n.bounds.left,n.bounds.top+dt(n.styles.paddingTop,n.bounds.width),n.bounds.width,z2(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new hd(r.listValue,T),s.letterSpacing,z2(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),F.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Hr(this,void 0,void 0,function(){var n,i,y,s,a,y,o,A,y,l,u,y,d,f,y,g,m,y,p,v,y;return Pr(this,function(w){switch(w.label){case 0:if(Xt(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:w.sent(),n=0,i=r.negativeZIndex,w.label=2;case 2:return n<i.length?(y=i[n],[4,this.renderStack(y)]):[3,5];case 3:w.sent(),w.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:w.sent(),s=0,a=r.nonInlineLevel,w.label=7;case 7:return s<a.length?(y=a[s],[4,this.renderNode(y)]):[3,10];case 8:w.sent(),w.label=9;case 9:return s++,[3,7];case 10:o=0,A=r.nonPositionedFloats,w.label=11;case 11:return o<A.length?(y=A[o],[4,this.renderStack(y)]):[3,14];case 12:w.sent(),w.label=13;case 13:return o++,[3,11];case 14:l=0,u=r.nonPositionedInlineLevel,w.label=15;case 15:return l<u.length?(y=u[l],[4,this.renderStack(y)]):[3,18];case 16:w.sent(),w.label=17;case 17:return l++,[3,15];case 18:d=0,f=r.inlineLevel,w.label=19;case 19:return d<f.length?(y=f[d],[4,this.renderNode(y)]):[3,22];case 20:w.sent(),w.label=21;case 21:return d++,[3,19];case 22:g=0,m=r.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return g<m.length?(y=m[g],[4,this.renderStack(y)]):[3,26];case 24:w.sent(),w.label=25;case 25:return g++,[3,23];case 26:p=0,v=r.positiveZIndex,w.label=27;case 27:return p<v.length?(y=v[p],[4,this.renderStack(y)]):[3,30];case 28:w.sent(),w.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var a=Kn(i)?i.start:i;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),Kn(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var A=o.getContext("2d");return A.drawImage(r,0,0,r.width,r.height,0,0,n,i),o},e.prototype.renderBackgroundImage=function(r){return Hr(this,void 0,void 0,function(){var n,i,s,a,o,A;return Pr(this,function(l){switch(l.label){case 0:n=r.styles.backgroundImage.length-1,i=function(u){var d,f,g,P,pe,we,N,ae,_,m,P,pe,we,N,ae,p,v,y,w,B,I,T,F,C,_,S,P,Q,k,N,ae,be,pe,we,X,ne,ce,Fe,te,ke,Xe,Oe;return Pr(this,function(O){switch(O.label){case 0:if(u.type!==0)return[3,5];d=void 0,f=u.url,O.label=1;case 1:return O.trys.push([1,3,,4]),[4,s.context.cache.match(f)];case 2:return d=O.sent(),[3,4];case 3:return O.sent(),s.context.logger.error("Error loading background-image "+f),[3,4];case 4:return d&&(g=aw(r,n,[d.width,d.height,d.width/d.height]),P=g[0],pe=g[1],we=g[2],N=g[3],ae=g[4],_=s.ctx.createPattern(s.resizeImage(d,N,ae),"repeat"),s.renderRepeat(P,_,pe,we)),[3,6];case 5:xJ(u)?(m=aw(r,n,[null,null,null]),P=m[0],pe=m[1],we=m[2],N=m[3],ae=m[4],p=mJ(u.angle,N,ae),v=p[0],y=p[1],w=p[2],B=p[3],I=p[4],T=document.createElement("canvas"),T.width=N,T.height=ae,F=T.getContext("2d"),C=F.createLinearGradient(y,B,w,I),G2(u.stops,v).forEach(function(j){return C.addColorStop(j.stop,sr(j.color))}),F.fillStyle=C,F.fillRect(0,0,N,ae),N>0&&ae>0&&(_=s.ctx.createPattern(T,"repeat"),s.renderRepeat(P,_,pe,we))):bJ(u)&&(S=aw(r,n,[null,null,null]),P=S[0],Q=S[1],k=S[2],N=S[3],ae=S[4],be=u.position.length===0?[yE]:u.position,pe=dt(be[0],N),we=dt(be[be.length-1],ae),X=pJ(u,pe,we,N,ae),ne=X[0],ce=X[1],ne>0&&ce>0&&(Fe=s.ctx.createRadialGradient(Q+pe,k+we,0,Q+pe,k+we,ne),G2(u.stops,ne*2).forEach(function(j){return Fe.addColorStop(j.stop,sr(j.color))}),s.path(P),s.ctx.fillStyle=Fe,ne!==ce?(te=r.bounds.left+.5*r.bounds.width,ke=r.bounds.top+.5*r.bounds.height,Xe=ce/ne,Oe=1/Xe,s.ctx.save(),s.ctx.translate(te,ke),s.ctx.transform(1,0,0,Xe,0,0),s.ctx.translate(-te,-ke),s.ctx.fillRect(Q,Oe*(k-ke)+ke,N,ae*Oe),s.ctx.restore()):s.ctx.fill())),O.label=6;case 6:return n--,[2]}})},s=this,a=0,o=r.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return a<o.length?(A=o[a],[5,i(A)]):[3,4];case 2:l.sent(),l.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return Hr(this,void 0,void 0,function(){return Pr(this,function(s){return this.path(BF(i,n)),this.ctx.fillStyle=sr(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,s){return Hr(this,void 0,void 0,function(){var a,o;return Pr(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return A.sent(),[2];case 2:return a=Ete(s,i),this.path(a),this.ctx.fillStyle=sr(r),this.ctx.fill(),o=_te(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Hr(this,void 0,void 0,function(){var n,i,s,a,o,A,l,u,d=this;return Pr(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!Ma(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=Dte(cl(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Ma(n.backgroundColor)||(this.ctx.fillStyle=sr(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){d.ctx.save();var m=np(r.curves),p=g.inset?0:Qte,v=Bte(m,-p+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(d.path(m),d.ctx.clip(),d.mask(v)):(d.mask(m),d.ctx.clip(),d.path(v)),d.ctx.shadowOffsetX=g.offsetX.number+p,d.ctx.shadowOffsetY=g.offsetY.number,d.ctx.shadowColor=sr(g.color),d.ctx.shadowBlur=g.blur.number,d.ctx.fillStyle=g.inset?sr(g.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),f.label=2;case 2:o=0,A=0,l=s,f.label=3;case 3:return A<l.length?(u=l[A],u.style!==0&&!Ma(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,r.curves)];case 10:f.sent(),f.label=11;case 11:o++,f.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,s,a){return Hr(this,void 0,void 0,function(){var o,A,l,u,d,f,g,m,p,v,y,w,B,I,T,F,T,F;return Pr(this,function(C){return this.ctx.save(),o=Ite(s,i),A=BF(s,i),a===2&&(this.path(A),this.ctx.clip()),Kn(A[0])?(l=A[0].start.x,u=A[0].start.y):(l=A[0].x,u=A[0].y),Kn(A[1])?(d=A[1].end.x,f=A[1].end.y):(d=A[1].x,f=A[1].y),i===0||i===2?g=Math.abs(l-d):g=Math.abs(u-f),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(A.slice(0,2)),m=n<3?n*3:n*2,p=n<3?n*2:n,a===3&&(m=n,p=n),v=!0,g<=m*2?v=!1:g<=m*2+p?(y=g/(2*m+p),m*=y,p*=y):(w=Math.floor((g+p)/(m+p)),B=(g-w*m)/(w-1),I=(g-(w+1)*m)/w,p=I<=0||Math.abs(p-B)<Math.abs(p-I)?B:I),v&&(a===3?this.ctx.setLineDash([0,m+p]):this.ctx.setLineDash([m,p])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=sr(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Kn(A[0])&&(T=A[3],F=A[0],this.ctx.beginPath(),this.formatPath([new ue(T.end.x,T.end.y),new ue(F.start.x,F.start.y)]),this.ctx.stroke()),Kn(A[1])&&(T=A[1],F=A[2],this.ctx.beginPath(),this.formatPath([new ue(T.end.x,T.end.y),new ue(F.start.x,F.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Hr(this,void 0,void 0,function(){var n;return Pr(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Cte(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(sR),Ote=function(t){return t instanceof Hj||t instanceof Lj?!0:t instanceof BE&&t.type!==ep&&t.type!==Zm},Dte=function(t,e){switch(t){case 0:return np(e);case 2:return vte(e);case 1:default:return ip(e)}},jte=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Rte=["-apple-system","system-ui"],Mte=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return Rte.indexOf(e)===-1}):t},Lte=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return Hr(this,void 0,void 0,function(){var n,i;return Pr(this,function(s){switch(s.label){case 0:return n=bb(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Hte(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(sR),Hte=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Vte=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,jh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,jh([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,jh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,jh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),Kte=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new Vte({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new ute(this,e)}return t.instanceCount=1,t}(),aR=function(t,e){return e===void 0&&(e={}),$te(t,e)};typeof window<"u"&&Zj.setContext(window);var $te=function(t,e){return Hr(void 0,void 0,void 0,function(){var r,n,i,s,a,o,A,l,u,d,f,g,m,p,v,y,w,B,I,T,C,F,C,_,S,P,Q,k,N,ae,be,pe,we,X,ne,ce,Fe,te,ke,Xe;return Pr(this,function(Oe){switch(Oe.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(_=e.allowTaint)!==null&&_!==void 0?_:!1,imageTimeout:(S=e.imageTimeout)!==null&&S!==void 0?S:15e3,proxy:e.proxy,useCORS:(P=e.useCORS)!==null&&P!==void 0?P:!1},s=ob({logging:(Q=e.logging)!==null&&Q!==void 0?Q:!0,cache:e.cache},i),a={windowWidth:(k=e.windowWidth)!==null&&k!==void 0?k:n.innerWidth,windowHeight:(N=e.windowHeight)!==null&&N!==void 0?N:n.innerHeight,scrollX:(ae=e.scrollX)!==null&&ae!==void 0?ae:n.pageXOffset,scrollY:(be=e.scrollY)!==null&&be!==void 0?be:n.pageYOffset},o=new Ss(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),A=new Kte(s,o),l=(pe=e.foreignObjectRendering)!==null&&pe!==void 0?pe:!1,u={allowTaint:(we=e.allowTaint)!==null&&we!==void 0?we:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},A.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),d=new wF(A,t,u),f=d.clonedReferenceElement,f?[4,d.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=Oe.sent(),m=CE(f)||Wee(f)?BX(f.ownerDocument):O0(A,f),p=m.width,v=m.height,y=m.left,w=m.top,B=Gte(A,f,e.backgroundColor),I={canvas:e.canvas,backgroundColor:B,scale:(ne=(X=e.scale)!==null&&X!==void 0?X:n.devicePixelRatio)!==null&&ne!==void 0?ne:1,x:((ce=e.x)!==null&&ce!==void 0?ce:0)+y,y:((Fe=e.y)!==null&&Fe!==void 0?Fe:0)+w,width:(te=e.width)!==null&&te!==void 0?te:Math.ceil(p),height:(ke=e.height)!==null&&ke!==void 0?ke:Math.ceil(v)},l?(A.logger.debug("Document cloned, using foreign object rendering"),C=new Lte(A,I),[4,C.render(f)]):[3,3];case 2:return T=Oe.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+y+","+w+" with size "+p+"x"+v+" using computed rendering"),A.logger.debug("Starting DOM parsing"),F=$j(A,f),B===F.styles.backgroundColor&&(F.styles.backgroundColor=vs.TRANSPARENT),A.logger.debug("Starting renderer for element at "+I.x+","+I.y+" with size "+I.width+"x"+I.height),C=new kte(A,I),[4,C.render(F)];case 4:T=Oe.sent(),Oe.label=5;case 5:return(!((Xe=e.removeContainer)!==null&&Xe!==void 0)||Xe)&&(wF.destroy(g)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,T]}})})},Gte=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?dd(t,getComputedStyle(n.documentElement).backgroundColor):vs.TRANSPARENT,s=n.body?dd(t,getComputedStyle(n.body).backgroundColor):vs.TRANSPARENT,a=typeof r=="string"?dd(t,r):r===null?vs.TRANSPARENT:4294967295;return e===n.documentElement?Ma(i)?Ma(s)?a:s:i:a};const Wte=Object.freeze(Object.defineProperty({__proto__:null,default:aR},Symbol.toStringTag,{value:"Module"}));function oR(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=oR(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function We(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=oR(t))&&(n&&(n+=" "),n+=e);return n}var G0={},AR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(AR);var EE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(EE);var _E={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(_E);var W0={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){const n=[],i=r.length;if(i===0)return n;let s=0,a="",o="",A=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const l=r[s];o?l==="\\"&&s+1<i?(s++,a+=r[s]):l===o?o="":a+=l:A?l==='"'||l==="'"?o=l:l==="]"?(A=!1,n.push(a),a=""):a+=l:l==="["?(A=!0,a&&(n.push(a),a="")):l==="."?a&&(n.push(a),a=""):a+=l,s++}return a&&n.push(a),n}t.toPath=e})(W0);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AR,r=EE,n=_E,i=W0;function s(o,A,l){if(o==null)return l;switch(typeof A){case"string":{if(e.isUnsafeProperty(A))return l;const u=o[A];return u===void 0?r.isDeepKey(A)?s(o,i.toPath(A),l):l:u}case"number":case"symbol":{typeof A=="number"&&(A=n.toKey(A));const u=o[A];return u===void 0?l:u}default:{if(Array.isArray(A))return a(o,A,l);if(Object.is(A==null?void 0:A.valueOf(),-0)?A="-0":A=String(A),e.isUnsafeProperty(A))return l;const u=o[A];return u===void 0?l:u}}}function a(o,A,l){if(A.length===0)return l;let u=o;for(let d=0;d<A.length;d++){if(u==null||e.isUnsafeProperty(A[d]))return l;u=u[A[d]]}return u===void 0?l:u}t.get=s})(G0);var zte=G0.get;const to=Ki(zte);var lR={exports:{}},ot={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE=Symbol.for("react.transitional.element"),SE=Symbol.for("react.portal"),z0=Symbol.for("react.fragment"),Y0=Symbol.for("react.strict_mode"),X0=Symbol.for("react.profiler"),q0=Symbol.for("react.consumer"),J0=Symbol.for("react.context"),Z0=Symbol.for("react.forward_ref"),ev=Symbol.for("react.suspense"),tv=Symbol.for("react.suspense_list"),rv=Symbol.for("react.memo"),nv=Symbol.for("react.lazy"),Yte=Symbol.for("react.view_transition"),Xte=Symbol.for("react.client.reference");function ai(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case IE:switch(t=t.type,t){case z0:case X0:case Y0:case ev:case tv:case Yte:return t;default:switch(t=t&&t.$$typeof,t){case J0:case Z0:case nv:case rv:return t;case q0:return t;default:return e}}case SE:return e}}}ot.ContextConsumer=q0;ot.ContextProvider=J0;ot.Element=IE;ot.ForwardRef=Z0;ot.Fragment=z0;ot.Lazy=nv;ot.Memo=rv;ot.Portal=SE;ot.Profiler=X0;ot.StrictMode=Y0;ot.Suspense=ev;ot.SuspenseList=tv;ot.isContextConsumer=function(t){return ai(t)===q0};ot.isContextProvider=function(t){return ai(t)===J0};ot.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===IE};ot.isForwardRef=function(t){return ai(t)===Z0};ot.isFragment=function(t){return ai(t)===z0};ot.isLazy=function(t){return ai(t)===nv};ot.isMemo=function(t){return ai(t)===rv};ot.isPortal=function(t){return ai(t)===SE};ot.isProfiler=function(t){return ai(t)===X0};ot.isStrictMode=function(t){return ai(t)===Y0};ot.isSuspense=function(t){return ai(t)===ev};ot.isSuspenseList=function(t){return ai(t)===tv};ot.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===z0||t===X0||t===Y0||t===ev||t===tv||typeof t=="object"&&t!==null&&(t.$$typeof===nv||t.$$typeof===rv||t.$$typeof===J0||t.$$typeof===q0||t.$$typeof===Z0||t.$$typeof===Xte||t.getModuleId!==void 0)};ot.typeOf=ai;lR.exports=ot;var qte=lR.exports,ur=t=>t===0?0:t>0?1:-1,In=t=>typeof t=="number"&&t!=+t,Go=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,fe=t=>(typeof t=="number"||t instanceof Number)&&!In(t),Hi=t=>fe(t)||typeof t=="string",Jte=0,Zd=t=>{var e=++Jte;return"".concat(t||"").concat(e)},Xr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(e)&&typeof e!="string")return n;var s;if(Go(e)){if(r==null)return n;var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return In(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},uR=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1},EF=(t,e)=>fe(t)&&fe(e)?r=>t+r*(e-t):()=>e;function gi(t,e,r){return fe(t)&&fe(e)?t+r*(e-t):e}function cR(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):to(n,e))===r)}var vt=t=>t===null||typeof t>"u",Uf=t=>vt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Zte=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function TE(t){if(typeof t!="string")return!1;var e=Zte;return e.includes(t)}var ere=["viewBox","children"],_F=["points","pathLength"],ow={svg:ere,polygon:_F,polyline:_F},FE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(x.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{TE(i)&&(n[i]=s=>r[i](r,s))}),n},tre=(t,e,r)=>n=>(t(e,r,n),null),Pf=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var s=t[i];TE(i)&&typeof s=="function"&&(n||(n={}),n[i]=tre(s,e,r))}),n},rre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function dR(t){if(typeof t!="string")return!1;var e=rre;return e.includes(t)}function Ds(t){var e=Object.entries(t).filter(r=>{var[n]=r;return dR(n)});return Object.fromEntries(e)}var IF=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",SF=null,Aw=null,fR=t=>{if(t===SF&&Array.isArray(Aw))return Aw;var e=[];return x.Children.forEach(t,r=>{vt(r)||(qte.isFragment(r)?e=e.concat(fR(r.props.children)):e.push(r))}),Aw=e,SF=t,e};function Nf(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>IF(i)):n=[IF(e)],fR(t).forEach(i=>{var s=to(i,"type.displayName")||to(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var hR=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,nre=(t,e,r,n)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(i=n&&(ow==null?void 0:ow[n]))!==null&&i!==void 0?i:[],a=e.startsWith("data-"),o=typeof t!="function"&&(!!n&&s.includes(e)||dR(e)),A=!!r&&TE(e);return a||o||A},Bt=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var a;nre((a=n)===null||a===void 0?void 0:a[s],s,e,r)&&(i[s]=n[s])}),i},ire=["children","width","height","viewBox","className","style","title","desc"];function Tb(){return Tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tb.apply(null,arguments)}function sre(t,e){if(t==null)return{};var r,n,i=are(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function are(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var UE=x.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:o,title:A,desc:l}=t,u=sre(t,ire),d=s||{width:n,height:i,x:0,y:0},f=We("recharts-surface",a);return x.createElement("svg",Tb({},Bt(u,!0,"svg"),{className:f,width:n,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:e}),x.createElement("title",null,A),x.createElement("desc",null,l),r)}),ore=["children","className"];function Fb(){return Fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fb.apply(null,arguments)}function Are(t,e){if(t==null)return{};var r,n,i=lre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function lre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Rr=x.forwardRef((t,e)=>{var{children:r,className:n}=t,i=Are(t,ore),s=We("recharts-layer",n);return x.createElement("g",Fb({className:s},Bt(i,!0),{ref:e}),r)}),gR=x.createContext(null),ure=()=>x.useContext(gR);function ct(t){return function(){return t}}const mR=Math.cos,ap=Math.sin,Ci=Math.sqrt,op=Math.PI,iv=2*op,Ub=Math.PI,Pb=2*Ub,No=1e-6,cre=Pb-No;function pR(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function dre(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return pR;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class fre{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?pR:dre(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,A=n-e,l=i-r,u=a-e,d=o-r,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>No)if(!(Math.abs(d*A-l*u)>No)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-a,m=i-o,p=A*A+l*l,v=g*g+m*m,y=Math.sqrt(p),w=Math.sqrt(f),B=s*Math.tan((Ub-Math.acos((p+f-v)/(2*y*w)))/2),I=B/w,T=B/y;Math.abs(I-1)>No&&this._append`L${e+I*u},${r+I*d}`,this._append`A${s},${s},0,0,${+(d*g>u*m)},${this._x1=e+T*A},${this._y1=r+T*l}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),A=n*Math.sin(i),l=e+o,u=r+A,d=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>No||Math.abs(this._y1-u)>No)&&this._append`L${l},${u}`,n&&(f<0&&(f=f%Pb+Pb),f>cre?this._append`A${n},${n},0,1,${d},${e-o},${r-A}A${n},${n},0,1,${d},${this._x1=l},${this._y1=u}`:f>No&&this._append`A${n},${n},0,${+(f>=Ub)},${d},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function PE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new fre(e)}function NE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vR(t){this._context=t}vR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function sv(t){return new vR(t)}function yR(t){return t[0]}function wR(t){return t[1]}function xR(t,e){var r=ct(!0),n=null,i=sv,s=null,a=PE(o);t=typeof t=="function"?t:t===void 0?yR:ct(t),e=typeof e=="function"?e:e===void 0?wR:ct(e);function o(A){var l,u=(A=NE(A)).length,d,f=!1,g;for(n==null&&(s=i(g=a())),l=0;l<=u;++l)!(l<u&&r(d=A[l],l,A))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(d,l,A),+e(d,l,A));if(g)return s=null,g+""||null}return o.x=function(A){return arguments.length?(t=typeof A=="function"?A:ct(+A),o):t},o.y=function(A){return arguments.length?(e=typeof A=="function"?A:ct(+A),o):e},o.defined=function(A){return arguments.length?(r=typeof A=="function"?A:ct(!!A),o):r},o.curve=function(A){return arguments.length?(i=A,n!=null&&(s=i(n)),o):i},o.context=function(A){return arguments.length?(A==null?n=s=null:s=i(n=A),o):n},o}function og(t,e,r){var n=null,i=ct(!0),s=null,a=sv,o=null,A=PE(l);t=typeof t=="function"?t:t===void 0?yR:ct(+t),e=typeof e=="function"?e:ct(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?wR:ct(+r);function l(d){var f,g,m,p=(d=NE(d)).length,v,y=!1,w,B=new Array(p),I=new Array(p);for(s==null&&(o=a(w=A())),f=0;f<=p;++f){if(!(f<p&&i(v=d[f],f,d))===y)if(y=!y)g=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=f-1;m>=g;--m)o.point(B[m],I[m]);o.lineEnd(),o.areaEnd()}y&&(B[f]=+t(v,f,d),I[f]=+e(v,f,d),o.point(n?+n(v,f,d):B[f],r?+r(v,f,d):I[f]))}if(w)return o=null,w+""||null}function u(){return xR().defined(i).curve(a).context(s)}return l.x=function(d){return arguments.length?(t=typeof d=="function"?d:ct(+d),n=null,l):t},l.x0=function(d){return arguments.length?(t=typeof d=="function"?d:ct(+d),l):t},l.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ct(+d),l):n},l.y=function(d){return arguments.length?(e=typeof d=="function"?d:ct(+d),r=null,l):e},l.y0=function(d){return arguments.length?(e=typeof d=="function"?d:ct(+d),l):e},l.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ct(+d),l):r},l.lineX0=l.lineY0=function(){return u().x(t).y(e)},l.lineY1=function(){return u().x(t).y(r)},l.lineX1=function(){return u().x(n).y(e)},l.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ct(!!d),l):i},l.curve=function(d){return arguments.length?(a=d,s!=null&&(o=a(s)),l):a},l.context=function(d){return arguments.length?(d==null?s=o=null:o=a(s=d),l):s},l}class bR{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function hre(t){return new bR(t,!0)}function gre(t){return new bR(t,!1)}const QE={draw(t,e){const r=Ci(e/op);t.moveTo(r,0),t.arc(0,0,r,0,iv)}},mre={draw(t,e){const r=Ci(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},BR=Ci(1/3),pre=BR*2,vre={draw(t,e){const r=Ci(e/pre),n=r*BR;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},yre={draw(t,e){const r=Ci(e),n=-r/2;t.rect(n,n,r,r)}},wre=.8908130915292852,CR=ap(op/10)/ap(7*op/10),xre=ap(iv/10)*CR,bre=-mR(iv/10)*CR,Bre={draw(t,e){const r=Ci(e*wre),n=xre*r,i=bre*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=iv*s/5,o=mR(a),A=ap(a);t.lineTo(A*r,-o*r),t.lineTo(o*n-A*i,A*n+o*i)}t.closePath()}},lw=Ci(3),Cre={draw(t,e){const r=-Ci(e/(lw*3));t.moveTo(0,r*2),t.lineTo(-lw*r,-r),t.lineTo(lw*r,-r),t.closePath()}},Dn=-.5,jn=Ci(3)/2,Nb=1/Ci(12),Ere=(Nb/2+1)*3,_re={draw(t,e){const r=Ci(e/Ere),n=r/2,i=r*Nb,s=n,a=r*Nb+r,o=-s,A=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,A),t.lineTo(Dn*n-jn*i,jn*n+Dn*i),t.lineTo(Dn*s-jn*a,jn*s+Dn*a),t.lineTo(Dn*o-jn*A,jn*o+Dn*A),t.lineTo(Dn*n+jn*i,Dn*i-jn*n),t.lineTo(Dn*s+jn*a,Dn*a-jn*s),t.lineTo(Dn*o+jn*A,Dn*A-jn*o),t.closePath()}};function Ire(t,e){let r=null,n=PE(i);t=typeof t=="function"?t:ct(t||QE),e=typeof e=="function"?e:ct(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:ct(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:ct(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Ap(){}function lp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function ER(t){this._context=t}ER.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Sre(t){return new ER(t)}function _R(t){this._context=t}_R.prototype={areaStart:Ap,areaEnd:Ap,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tre(t){return new _R(t)}function IR(t){this._context=t}IR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:lp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fre(t){return new IR(t)}function SR(t){this._context=t}SR.prototype={areaStart:Ap,areaEnd:Ap,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ure(t){return new SR(t)}function TF(t){return t<0?-1:1}function FF(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(TF(s)+TF(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function UF(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function uw(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function up(t){this._context=t}up.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uw(this,this._t0,UF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,uw(this,UF(this,r=FF(this,t,e)),r);break;default:uw(this,this._t0,r=FF(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function TR(t){this._context=new FR(t)}(TR.prototype=Object.create(up.prototype)).point=function(t,e){up.prototype.point.call(this,e,t)};function FR(t){this._context=t}FR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function Pre(t){return new up(t)}function Nre(t){return new TR(t)}function UR(t){this._context=t}UR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=PF(t),i=PF(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function PF(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Qre(t){return new UR(t)}function av(t,e){this._context=t,this._t=e}av.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function kre(t){return new av(t,.5)}function Ore(t){return new av(t,0)}function Dre(t){return new av(t,1)}function cu(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Qb(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function jre(t,e){return t[e]}function Rre(t){const e=[];return e.key=t,e}function Mre(){var t=ct([]),e=Qb,r=cu,n=jre;function i(s){var a=Array.from(t.apply(this,arguments),Rre),o,A=a.length,l=-1,u;for(const d of s)for(o=0,++l;o<A;++o)(a[o][l]=[0,+n(d,a[o].key,l,s)]).data=d;for(o=0,u=NE(e(a));o<A;++o)a[u[o]].index=o;return r(a,u),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:ct(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:ct(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?Qb:typeof s=="function"?s:ct(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??cu,i):r},i}function Lre(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}cu(t,e)}}function Hre(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}cu(t,e)}}function Vre(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,A=0,l=0;o<a;++o){for(var u=t[e[o]],d=u[n][1]||0,f=u[n-1][1]||0,g=(d-f)/2,m=0;m<o;++m){var p=t[e[m]],v=p[n][1]||0,y=p[n-1][1]||0;g+=v-y}A+=d,l+=g*d}i[n-1][1]+=i[n-1][0]=r,A&&(r-=l/A)}i[n-1][1]+=i[n-1][0]=r,cu(t,e)}}var Kre=["type","size","sizeType"];function kb(){return kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kb.apply(null,arguments)}function NF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NF(Object(r),!0).forEach(function(n){$re(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $re(t,e,r){return(e=Gre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gre(t){var e=Wre(t,"string");return typeof e=="symbol"?e:e+""}function Wre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zre(t,e){if(t==null)return{};var r,n,i=Yre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Yre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var PR={symbolCircle:QE,symbolCross:mre,symbolDiamond:vre,symbolSquare:yre,symbolStar:Bre,symbolTriangle:Cre,symbolWye:_re},Xre=Math.PI/180,qre=t=>{var e="symbol".concat(Uf(t));return PR[e]||QE},Jre=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*Xre;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Zre=(t,e)=>{PR["symbol".concat(Uf(t))]=e},kE=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=zre(t,Kre),s=QF(QF({},i),{},{type:e,size:r,sizeType:n}),a=()=>{var d=qre(e),f=Ire().type(d).size(Jre(r,n,e));return f()},{className:o,cx:A,cy:l}=s,u=Bt(s,!0);return A===+A&&l===+l&&r===+r?x.createElement("path",kb({},u,{className:We("recharts-symbols",o),transform:"translate(".concat(A,", ").concat(l,")"),d:a()})):null};kE.registerSymbol=Zre;function Ob(){return Ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ob.apply(null,arguments)}function kF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ene(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kF(Object(r),!0).forEach(function(n){OE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OE(t,e,r){return(e=tne(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tne(t){var e=rne(t,"string");return typeof e=="symbol"?e:e+""}function rne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ui=32;class DE extends x.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,i=ui/2,s=ui/6,a=ui/3,o=e.inactive?n:e.color,A=r??e.type;if(A==="none")return null;if(A==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:ui,y2:i,className:"recharts-legend-icon"});if(A==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(ui,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(A==="rect")return x.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(ui/8,"h").concat(ui,"v").concat(ui*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(x.isValidElement(e.legendIcon)){var l=ene({},e);return delete l.legendIcon,x.cloneElement(e.legendIcon,l)}return x.createElement(kE,{fill:o,cx:i,cy:i,size:ui,sizeType:"diameter",type:A})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:a}=this.props,o={x:0,y:0,width:ui,height:ui},A={display:n==="horizontal"?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,d)=>{var f=u.formatter||i,g=We({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:u.inactive});if(u.type==="none")return null;var m=u.inactive?s:u.color,p=f?f(u.value,u,d):u.value;return x.createElement("li",Ob({className:g,style:A,key:"legend-item-".concat(d)},Pf(this.props,u,d)),x.createElement(UE,{width:r,height:r,viewBox:o,style:l,"aria-label":"".concat(p," legend icon")},this.renderIcon(u,a)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},p))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}OE(DE,"displayName","Legend");OE(DE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var NR={},QR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],o=n(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(QR);var jE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(jE);var kR={},ov={},OR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(OR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OR;function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(ov);var DR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(DR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ov,r=DR;function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(kR);var jR={},RR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G0;function r(n){return function(i){return e.get(i,n)}}t.property=r})(RR);var MR={},cw={},dw={},RE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(RE);var ME={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(ME);var Av={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(Av);var OF;function nne(){return OF||(OF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LE(),r=RE,n=ME,i=Av;function s(d,f,g){return typeof g!="function"?e.isMatch(d,f):a(d,f,function m(p,v,y,w,B,I){const T=g(p,v,y,w,B,I);return T!==void 0?!!T:a(p,v,m,I)},new Map)}function a(d,f,g,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,g,m);case"function":return Object.keys(f).length>0?a(d,{...f},g,m):i.eq(d,f);default:return r.isObject(d)?typeof f=="string"?f==="":!0:i.eq(d,f)}}function o(d,f,g,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,g,m);if(f instanceof Map)return A(d,f,g,m);if(f instanceof Set)return u(d,f,g,m);const p=Object.keys(f);if(d==null)return p.length===0;if(p.length===0)return!0;if(m&&m.has(f))return m.get(f)===d;m&&m.set(f,d);try{for(let v=0;v<p.length;v++){const y=p[v];if(!n.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!g(d[y],f[y],y,d,f,m))return!1}return!0}finally{m&&m.delete(f)}}function A(d,f,g,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,v]of f.entries()){const y=d.get(p);if(g(y,v,p,d,f,m)===!1)return!1}return!0}function l(d,f,g,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let v=0;v<f.length;v++){const y=f[v];let w=!1;for(let B=0;B<d.length;B++){if(p.has(B))continue;const I=d[B];let T=!1;if(g(I,y,v,d,f,m)&&(T=!0),T){p.add(B),w=!0;break}}if(!w)return!1}return!0}function u(d,f,g,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],g,m):!1}t.isMatchWith=s,t.isSetMatch=u}(dw)),dw}var DF;function LE(){return DF||(DF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nne();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r}(cw)),cw}var LR={},HE={},VE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(VE);var lv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(lv);var uv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",A="[object Map]",l="[object Set]",u="[object Array]",d="[object Function]",f="[object ArrayBuffer]",g="[object Object]",m="[object Error]",p="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",w="[object Uint16Array]",B="[object Uint32Array]",I="[object BigUint64Array]",T="[object Int8Array]",F="[object Int16Array]",C="[object Int32Array]",_="[object BigInt64Array]",S="[object Float32Array]",P="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=f,t.arrayTag=u,t.bigInt64ArrayTag=_,t.bigUint64ArrayTag=I,t.booleanTag=i,t.dataViewTag=p,t.dateTag=o,t.errorTag=m,t.float32ArrayTag=S,t.float64ArrayTag=P,t.functionTag=d,t.int16ArrayTag=F,t.int32ArrayTag=C,t.int8ArrayTag=T,t.mapTag=A,t.numberTag=n,t.objectTag=g,t.regexpTag=e,t.setTag=l,t.stringTag=r,t.symbolTag=a,t.uint16ArrayTag=w,t.uint32ArrayTag=B,t.uint8ArrayTag=v,t.uint8ClampedArrayTag=y})(uv);var HR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(HR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VE,r=lv,n=uv,i=ME,s=HR;function a(u,d){return o(u,void 0,u,new Map,d)}function o(u,d,f,g=new Map,m=void 0){const p=m==null?void 0:m(u,d,f,g);if(p!=null)return p;if(i.isPrimitive(u))return u;if(g.has(u))return g.get(u);if(Array.isArray(u)){const v=new Array(u.length);g.set(u,v);for(let y=0;y<u.length;y++)v[y]=o(u[y],y,f,g,m);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;g.set(u,v);for(const[y,w]of u)v.set(y,o(w,y,f,g,m));return v}if(u instanceof Set){const v=new Set;g.set(u,v);for(const y of u)v.add(o(y,void 0,f,g,m));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(s.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);g.set(u,v);for(let y=0;y<u.length;y++)v[y]=o(u[y],y,f,g,m);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return g.set(u,v),A(v,u,f,g,m),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return g.set(u,v),A(v,u,f,g,m),v}if(u instanceof Blob){const v=new Blob([u],{type:u.type});return g.set(u,v),A(v,u,f,g,m),v}if(u instanceof Error){const v=new u.constructor;return g.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,A(v,u,f,g,m),v}if(typeof u=="object"&&l(u)){const v=Object.create(Object.getPrototypeOf(u));return g.set(u,v),A(v,u,f,g,m),v}return u}function A(u,d,f=u,g,m){const p=[...Object.keys(d),...e.getSymbols(d)];for(let v=0;v<p.length;v++){const y=p[v],w=Object.getOwnPropertyDescriptor(u,y);(w==null||w.writable)&&(u[y]=o(d[y],y,f,g,m))}}function l(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=A})(HE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HE;function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(LR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LE(),r=LR;function n(i){return i=r.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=n})(MR);var VR={},KR={},$R={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HE,r=uv;function n(i,s){return e.cloneDeepWith(i,(a,o,A,l)=>{const u=s==null?void 0:s(a,o,A,l);if(u!=null)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(d,i),d}case r.argumentsTag:{const d={};return e.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}t.cloneDeepWith=n})($R);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$R;function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(KR);var GR={},KE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(KE);var WR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lv;function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(WR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EE,r=KE,n=WR,i=W0;function s(a,o){let A;if(Array.isArray(o)?A=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?A=i.toPath(o):A=[o],A.length===0)return!1;let l=a;for(let u=0;u<A.length;u++){const d=A[u];if((l==null||!Object.hasOwn(l,d))&&!((Array.isArray(l)||n.isArguments(l))&&r.isIndex(d)&&d<l.length))return!1;l=l[d]}return!0}t.has=s})(GR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LE(),r=_E,n=KR,i=G0,s=GR;function a(o,A){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return A=n.cloneDeep(A),function(l){const u=i.get(l,o);return u===void 0?s.has(l,o):A===void 0?u===void 0:e.isMatch(u,A)}}t.matchesProperty=a})(VR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jE,r=RR,n=MR,i=VR;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}t.iteratee=s})(jR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QR,r=jE,n=kR,i=jR;function s(a,o=r.identity){return n.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}t.uniqBy=s})(NR);var ine=NR.uniqBy;const jF=Ki(ine);function zR(t,e,r){return e===!0?jF(t,r):typeof e=="function"?jF(t,e):t}var YR={exports:{}},XR={},qR={exports:{}},JR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var du=x;function sne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ane=typeof Object.is=="function"?Object.is:sne,one=du.useState,Ane=du.useEffect,lne=du.useLayoutEffect,une=du.useDebugValue;function cne(t,e){var r=e(),n=one({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return lne(function(){i.value=r,i.getSnapshot=e,fw(i)&&s({inst:i})},[t,r,e]),Ane(function(){return fw(i)&&s({inst:i}),t(function(){fw(i)&&s({inst:i})})},[t]),une(r),r}function fw(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ane(t,r)}catch{return!0}}function dne(t,e){return e()}var fne=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dne:cne;JR.useSyncExternalStore=du.useSyncExternalStore!==void 0?du.useSyncExternalStore:fne;qR.exports=JR;var hne=qR.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv=x,gne=hne;function mne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pne=typeof Object.is=="function"?Object.is:mne,vne=gne.useSyncExternalStore,yne=cv.useRef,wne=cv.useEffect,xne=cv.useMemo,bne=cv.useDebugValue;XR.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=yne(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=xne(function(){function A(g){if(!l){if(l=!0,u=g,g=n(g),i!==void 0&&a.hasValue){var m=a.value;if(i(m,g))return d=m}return d=g}if(m=d,pne(u,g))return m;var p=n(g);return i!==void 0&&i(m,p)?(u=g,m):(u=g,d=p)}var l=!1,u,d,f=r===void 0?null:r;return[function(){return A(e())},f===null?void 0:function(){return A(f())}]},[e,r,n,i]);var o=vne(t,s[0],s[1]);return wne(function(){a.hasValue=!0,a.value=o},[o]),bne(o),o};YR.exports=XR;var Bne=YR.exports,$E=x.createContext(null),Cne=t=>t,Pt=()=>{var t=x.useContext($E);return t?t.store.dispatch:Cne},Zg=()=>{},Ene=()=>Zg,_ne=(t,e)=>t===e;function ye(t){var e=x.useContext($E);return Bne.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Ene,e?e.store.getState:Zg,e?e.store.getState:Zg,e?t:Zg,_ne)}function Ine(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Sne(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Tne(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var RF=t=>Array.isArray(t)?t:[t];function Fne(t){const e=Array.isArray(t[0])?t[0]:t;return Tne(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Une(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var Pne=class{constructor(t){this.value=t}deref(){return this.value}},Nne=typeof WeakRef<"u"?WeakRef:Pne,Qne=0,MF=1;function Ag(){return{s:Qne,v:void 0,o:null,p:null}}function ZR(t,e={}){let r=Ag();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var d;let o=r;const{length:A}=arguments;for(let f=0,g=A;f<g;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let p=o.o;p===null&&(o.o=p=new WeakMap);const v=p.get(m);v===void 0?(o=Ag(),p.set(m,o)):o=v}else{let p=o.p;p===null&&(o.p=p=new Map);const v=p.get(m);v===void 0?(o=Ag(),p.set(m,o)):o=v}}const l=o;let u;if(o.s===MF)u=o.v;else if(u=t.apply(null,arguments),s++,n){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&n(f,u)&&(u=f,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new Nne(u):u}return l.s=MF,l.v=u,u}return a.clearCache=()=>{r=Ag(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function kne(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,o,A={},l=i.pop();typeof l=="object"&&(A=l,l=i.pop()),Ine(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const u={...r,...A},{memoize:d,memoizeOptions:f=[],argsMemoize:g=ZR,argsMemoizeOptions:m=[],devModeChecks:p={}}=u,v=RF(f),y=RF(m),w=Fne(i),B=d(function(){return s++,l.apply(null,arguments)},...v),I=g(function(){a++;const F=Une(w,arguments);return o=B.apply(null,F),o},...y);return Object.assign(I,{resultFunc:l,memoizedResultFunc:B,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var G=kne(ZR),One=Object.assign((t,e=G)=>{Sne(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,o,A)=>(a[r[A]]=o,a),{}))},{withTypes:()=>One}),eM={},tM={},rM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=e(n),o=e(i);if(a===o&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=r})(rM);var nM={},GE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(GE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GE,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(nM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rM,r=nM,n=W0;function i(s,a,o,A){if(s==null)return[];o=A?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(g=>String(g));const l=(g,m)=>{let p=g;for(let v=0;v<m.length&&p!=null;++v)p=p[m[v]];return p},u=(g,m)=>m==null||g==null?m:typeof g=="object"&&"key"in g?Object.hasOwn(m,g.key)?m[g.key]:l(m,g.path):typeof g=="function"?g(m):Array.isArray(g)?l(m,g):typeof m=="object"?m[g]:m,d=a.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return s.map(g=>({original:g,criteria:d.map(m=>u(m,g))})).slice().sort((g,m)=>{for(let p=0;p<d.length;p++){const v=e.compareValues(g.criteria[p],m.criteria[p],o[p]);if(v!==0)return v}return 0}).map(g=>g.original)}t.orderBy=i})(tM);var iM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],s=Math.floor(n),a=(o,A)=>{for(let l=0;l<o.length;l++){const u=o[l];Array.isArray(u)&&A<s?a(u,A+1):i.push(u)}};return a(r,0),i}t.flatten=e})(iM);var WE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KE,r=ov,n=RE,i=Av;function s(a,o,A){return n.isObject(A)&&(typeof o=="number"&&r.isArrayLike(A)&&e.isIndex(o)&&o<A.length||typeof o=="string"&&o in A)?i.eq(A[o],a):!1}t.isIterateeCall=s})(WE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tM,r=iM,n=WE;function i(s,...a){const o=a.length;return o>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,r.flatten(a),["asc"])}t.sortBy=i})(eM);var Dne=eM.sortBy;const dv=Ki(Dne);var sM=t=>t.legend.settings,jne=t=>t.legend.size,Rne=t=>t.legend.payload,Mne=G([Rne,sM],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?dv(n,r):n});function Lne(){return ye(Mne)}var lg=1;function aM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>lg||Math.abs(a.left-e.left)>lg||Math.abs(a.top-e.top)>lg||Math.abs(a.width-e.width)>lg)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function mr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Hne=typeof Symbol=="function"&&Symbol.observable||"@@observable",LF=Hne,hw=()=>Math.random().toString(36).substring(7).split("").join("."),Vne={INIT:`@@redux/INIT${hw()}`,REPLACE:`@@redux/REPLACE${hw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hw()}`},cp=Vne;function zE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function oM(t,e,r){if(typeof t!="function")throw new Error(mr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(mr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(mr(1));return r(oM)(t,e)}let n=t,i=e,s=new Map,a=s,o=0,A=!1;function l(){a===s&&(a=new Map,s.forEach((v,y)=>{a.set(y,v)}))}function u(){if(A)throw new Error(mr(3));return i}function d(v){if(typeof v!="function")throw new Error(mr(4));if(A)throw new Error(mr(5));let y=!0;l();const w=o++;return a.set(w,v),function(){if(y){if(A)throw new Error(mr(6));y=!1,l(),a.delete(w),s=null}}}function f(v){if(!zE(v))throw new Error(mr(7));if(typeof v.type>"u")throw new Error(mr(8));if(typeof v.type!="string")throw new Error(mr(17));if(A)throw new Error(mr(9));try{A=!0,i=n(i,v)}finally{A=!1}return(s=a).forEach(w=>{w()}),v}function g(v){if(typeof v!="function")throw new Error(mr(10));n=v,f({type:cp.REPLACE})}function m(){const v=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(mr(11));function w(){const I=y;I.next&&I.next(u())}return w(),{unsubscribe:v(w)}},[LF](){return this}}}return f({type:cp.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:g,[LF]:m}}function Kne(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:cp.INIT})>"u")throw new Error(mr(12));if(typeof r(void 0,{type:cp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mr(13))})}function AM(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{Kne(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let A=!1;const l={};for(let u=0;u<n.length;u++){const d=n[u],f=r[d],g=a[d],m=f(g,o);if(typeof m>"u")throw o&&o.type,new Error(mr(14));l[d]=m,A=A||m!==g}return A=A||n.length!==Object.keys(a).length,A?l:a}}function dp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function $ne(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(mr(15))};const a={getState:i.getState,dispatch:(A,...l)=>s(A,...l)},o=t.map(A=>A(a));return s=dp(...o)(i.dispatch),{...i,dispatch:s}}}function lM(t){return zE(t)&&"type"in t&&typeof t.type=="string"}var uM=Symbol.for("immer-nothing"),HF=Symbol.for("immer-draftable"),Sn=Symbol.for("immer-state");function pi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var fu=Object.getPrototypeOf;function xA(t){return!!t&&!!t[Sn]}function Ts(t){var e;return t?cM(t)||Array.isArray(t)||!!t[HF]||!!((e=t.constructor)!=null&&e[HF])||hv(t)||gv(t):!1}var Gne=Object.prototype.constructor.toString();function cM(t){if(!t||typeof t!="object")return!1;const e=fu(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Gne}function fp(t,e){fv(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function fv(t){const e=t[Sn];return e?e.type_:Array.isArray(t)?1:hv(t)?2:gv(t)?3:0}function Db(t,e){return fv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function dM(t,e,r){const n=fv(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function Wne(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function hv(t){return t instanceof Map}function gv(t){return t instanceof Set}function Qo(t){return t.copy_||t.base_}function jb(t,e){if(hv(t))return new Map(t);if(gv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=cM(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Sn];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(fu(t),n)}else{const n=fu(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function YE(t,e=!1){return mv(t)||xA(t)||!Ts(t)||(fv(t)>1&&(t.set=t.add=t.clear=t.delete=zne),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>YE(n,!0))),t}function zne(){pi(2)}function mv(t){return Object.isFrozen(t)}var Yne={};function bA(t){const e=Yne[t];return e||pi(0,t),e}var ef;function fM(){return ef}function Xne(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function VF(t,e){e&&(bA("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Rb(t){Mb(t),t.drafts_.forEach(qne),t.drafts_=null}function Mb(t){t===ef&&(ef=t.parent_)}function KF(t){return ef=Xne(ef,t)}function qne(t){const e=t[Sn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function $F(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Sn].modified_&&(Rb(e),pi(4)),Ts(t)&&(t=hp(e,t),e.parent_||gp(e,t)),e.patches_&&bA("Patches").generateReplacementPatches_(r[Sn].base_,t,e.patches_,e.inversePatches_)):t=hp(e,r,[]),Rb(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==uM?t:void 0}function hp(t,e,r){if(mv(e))return e;const n=e[Sn];if(!n)return fp(e,(i,s)=>GF(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return gp(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),fp(s,(o,A)=>GF(t,n,i,o,A,r,a)),gp(t,i,!1),r&&t.patches_&&bA("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function GF(t,e,r,n,i,s,a){if(xA(i)){const o=s&&e&&e.type_!==3&&!Db(e.assigned_,n)?s.concat(n):void 0,A=hp(t,i,o);if(dM(r,n,A),xA(A))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Ts(i)&&!mv(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;hp(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&gp(t,i)}}function gp(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&YE(e,r)}function Jne(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:fM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=XE;r&&(i=[n],s=tf);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var XE={get(t,e){if(e===Sn)return t;const r=Qo(t);if(!Db(r,e))return Zne(t,r,e);const n=r[e];return t.finalized_||!Ts(n)?n:n===gw(t.base_,e)?(mw(t),t.copy_[e]=Hb(n,t)):n},has(t,e){return e in Qo(t)},ownKeys(t){return Reflect.ownKeys(Qo(t))},set(t,e,r){const n=hM(Qo(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=gw(Qo(t),e),s=i==null?void 0:i[Sn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(Wne(r,i)&&(r!==void 0||Db(t.base_,e)))return!0;mw(t),Lb(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return gw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,mw(t),Lb(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Qo(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){pi(11)},getPrototypeOf(t){return fu(t.base_)},setPrototypeOf(){pi(12)}},tf={};fp(XE,(t,e)=>{tf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});tf.deleteProperty=function(t,e){return tf.set.call(this,t,e,void 0)};tf.set=function(t,e,r){return XE.set.call(this,t[0],e,r,t[0])};function gw(t,e){const r=t[Sn];return(r?Qo(r):t)[e]}function Zne(t,e,r){var i;const n=hM(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function hM(t,e){if(!(e in t))return;let r=fu(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=fu(r)}}function Lb(t){t.modified_||(t.modified_=!0,t.parent_&&Lb(t.parent_))}function mw(t){t.copy_||(t.copy_=jb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var eie=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(A=s,...l){return a.produce(A,u=>r.call(this,u,...l))}}typeof r!="function"&&pi(6),n!==void 0&&typeof n!="function"&&pi(7);let i;if(Ts(e)){const s=KF(this),a=Hb(e,void 0);let o=!0;try{i=r(a),o=!1}finally{o?Rb(s):Mb(s)}return VF(s,n),$F(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===uM&&(i=void 0),this.autoFreeze_&&YE(i,!0),n){const s=[],a=[];bA("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else pi(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,A=>e(A,...o));let n,i;return[this.produce(e,r,(a,o)=>{n=a,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ts(t)||pi(8),xA(t)&&(t=ys(t));const e=KF(this),r=Hb(t,void 0);return r[Sn].isManual_=!0,Mb(e),r}finishDraft(t,e){const r=t&&t[Sn];(!r||!r.isManual_)&&pi(9);const{scope_:n}=r;return VF(n,e),$F(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=bA("Patches").applyPatches_;return xA(t)?n(t,e):this.produce(t,i=>n(i,e))}};function Hb(t,e){const r=hv(t)?bA("MapSet").proxyMap_(t,e):gv(t)?bA("MapSet").proxySet_(t,e):Jne(t,e);return(e?e.scope_:fM()).drafts_.push(r),r}function ys(t){return xA(t)||pi(10,t),gM(t)}function gM(t){if(!Ts(t)||mv(t))return t;const e=t[Sn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=jb(t,e.scope_.immer_.useStrictShallowCopy_)}else r=jb(t,!0);return fp(r,(n,i)=>{dM(r,n,gM(i))}),e&&(e.finalized_=!1),r}var Tn=new eie,mM=Tn.produce;Tn.produceWithPatches.bind(Tn);Tn.setAutoFreeze.bind(Tn);Tn.setUseStrictShallowCopy.bind(Tn);Tn.applyPatches.bind(Tn);Tn.createDraft.bind(Tn);Tn.finishDraft.bind(Tn);function pM(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var tie=pM(),rie=pM,nie=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dp:dp.apply(null,arguments)};function ii(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Cn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>lM(n)&&n.type===t,r}var vM=class Kc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Kc.prototype)}static get[Symbol.species](){return Kc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Kc(...e[0].concat(this)):new Kc(...e.concat(this))}};function WF(t){return Ts(t)?mM(t,()=>{}):t}function ug(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function iie(t){return typeof t=="boolean"}var sie=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new vM;return r&&(iie(r)?a.push(tie):a.push(rie(r.extraArgument))),a},aie="RTK_autoBatch",zF=t=>e=>{setTimeout(e,t)},oie=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const o=new Set,A=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zF(10):t.type==="callback"?t.queueNotification:zF(t.timeout),l=()=>{a=!1,s&&(s=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const d=()=>i&&u(),f=n.subscribe(d);return o.add(u),()=>{f(),o.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[aie]),s=!i,s&&(a||(a=!0,A(l))),n.dispatch(u)}finally{i=!0}}})},Aie=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new vM(t);return n&&i.push(oie(typeof n=="object"?n:void 0)),i};function lie(t){const e=sie(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:s=!0,preloadedState:a=void 0,enhancers:o=void 0}=t;let A;if(typeof r=="function")A=r;else if(zE(r))A=AM(r);else throw new Error(Cn(1));let l;typeof n=="function"?l=n(e):l=e();let u=dp;i&&(u=nie({trace:!1,...typeof i=="object"&&i}));const d=$ne(...l),f=Aie(d);let g=typeof o=="function"?o(f):f();const m=u(...g);return oM(A,a,m)}function yM(t){const e={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Cn(28));if(o in e)throw new Error(Cn(29));return e[o]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function uie(t){return typeof t=="function"}function cie(t,e){let[r,n,i]=yM(e),s;if(uie(t))s=()=>WF(t());else{const o=WF(t);s=()=>o}function a(o=s(),A){let l=[r[A.type],...n.filter(({matcher:u})=>u(A)).map(({reducer:u})=>u)];return l.filter(u=>!!u).length===0&&(l=[i]),l.reduce((u,d)=>{if(d)if(xA(u)){const g=d(u,A);return g===void 0?u:g}else{if(Ts(u))return mM(u,f=>d(f,A));{const f=d(u,A);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},o)}return a.getInitialState=s,a}var die="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",fie=(t=21)=>{let e="",r=t;for(;r--;)e+=die[Math.random()*64|0];return e},hie=Symbol.for("rtk-slice-createasyncthunk");function gie(t,e){return`${t}/${e}`}function mie({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[hie];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Cn(11));const o=(typeof i.reducers=="function"?i.reducers(vie()):i.reducers)||{},A=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(I,T){const F=typeof I=="string"?I:I.type;if(!F)throw new Error(Cn(12));if(F in l.sliceCaseReducersByType)throw new Error(Cn(13));return l.sliceCaseReducersByType[F]=T,u},addMatcher(I,T){return l.sliceMatchers.push({matcher:I,reducer:T}),u},exposeAction(I,T){return l.actionCreators[I]=T,u},exposeCaseReducer(I,T){return l.sliceCaseReducersByName[I]=T,u}};A.forEach(I=>{const T=o[I],F={reducerName:I,type:gie(s,I),createNotation:typeof i.reducers=="function"};wie(T)?bie(F,T,u,e):yie(F,T,u)});function d(){const[I={},T=[],F=void 0]=typeof i.extraReducers=="function"?yM(i.extraReducers):[i.extraReducers],C={...I,...l.sliceCaseReducersByType};return cie(i.initialState,_=>{for(let S in C)_.addCase(S,C[S]);for(let S of l.sliceMatchers)_.addMatcher(S.matcher,S.reducer);for(let S of T)_.addMatcher(S.matcher,S.reducer);F&&_.addDefaultCase(F)})}const f=I=>I,g=new Map,m=new WeakMap;let p;function v(I,T){return p||(p=d()),p(I,T)}function y(){return p||(p=d()),p.getInitialState()}function w(I,T=!1){function F(_){let S=_[I];return typeof S>"u"&&T&&(S=ug(m,F,y)),S}function C(_=f){const S=ug(g,T,()=>new WeakMap);return ug(S,_,()=>{const P={};for(const[Q,k]of Object.entries(i.selectors??{}))P[Q]=pie(k,_,()=>ug(m,_,y),T);return P})}return{reducerPath:I,getSelectors:C,get selectors(){return C(F)},selectSlice:F}}const B={name:s,reducer:v,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:y,...w(a),injectInto(I,{reducerPath:T,...F}={}){const C=T??a;return I.inject({reducerPath:C,reducer:v},F),{...B,...w(C,!0)}}};return B}}function pie(t,e,r,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=r()),t(o,...a)}return i.unwrapped=t,i}var Nn=mie();function vie(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function yie({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!xie(n))throw new Error(Cn(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?ii(t,a):ii(t))}function wie(t){return t._reducerDefinitionType==="asyncThunk"}function xie(t){return t._reducerDefinitionType==="reducerWithPrepare"}function bie({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Cn(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:A,settled:l,options:u}=r,d=i(t,s,u);n.exposeAction(e,d),a&&n.addCase(d.fulfilled,a),o&&n.addCase(d.pending,o),A&&n.addCase(d.rejected,A),l&&n.addMatcher(d.settled,l),n.exposeCaseReducer(e,{fulfilled:a||cg,pending:o||cg,rejected:A||cg,settled:l||cg})}function cg(){}var Bie="task",wM="listener",xM="completed",qE="cancelled",Cie=`task-${qE}`,Eie=`task-${xM}`,Vb=`${wM}-${qE}`,_ie=`${wM}-${xM}`,pv=class{constructor(t){tc(this,"name","TaskAbortError");tc(this,"message");this.code=t,this.message=`${Bie} ${qE} (reason: ${t})`}},JE=(t,e)=>{if(typeof t!="function")throw new TypeError(Cn(32))},mp=()=>{},bM=(t,e=mp)=>(t.catch(e),t),BM=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),nA=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},iA=t=>{if(t.aborted){const{reason:e}=t;throw new pv(e)}};function CM(t,e){let r=mp;return new Promise((n,i)=>{const s=()=>i(new pv(t.reason));if(t.aborted){s();return}r=BM(t,s),e.finally(()=>r()).then(n,i)}).finally(()=>{r=mp})}var Iie=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof pv?"cancelled":"rejected",error:r}}finally{e==null||e()}},pp=t=>e=>bM(CM(t,e).then(r=>(iA(t),r))),EM=t=>{const e=pp(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Ll}=Object,YF={},vv="listenerMiddleware",Sie=(t,e)=>{const r=n=>BM(t,()=>nA(n,t.reason));return(n,i)=>{JE(n);const s=new AbortController;r(s);const a=Iie(async()=>{iA(t),iA(s.signal);const o=await n({pause:pp(s.signal),delay:EM(s.signal),signal:s.signal});return iA(s.signal),o},()=>nA(s,Eie));return i!=null&&i.autoJoin&&e.push(a.catch(mp)),{result:pp(t)(a),cancel(){nA(s,Cie)}}}},Tie=(t,e)=>{const r=async(n,i)=>{iA(e);let s=()=>{};const o=[new Promise((A,l)=>{let u=t({predicate:n,effect:(d,f)=>{f.unsubscribe(),A([d,f.getState(),f.getOriginalState()])}});s=()=>{u(),l()}})];i!=null&&o.push(new Promise(A=>setTimeout(A,i,null)));try{const A=await CM(e,Promise.race(o));return iA(e),A}finally{s()}};return(n,i)=>bM(r(n,i))},_M=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=ii(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Cn(21));return JE(s),{predicate:i,type:e,effect:s}},IM=Ll(t=>{const{type:e,predicate:r,effect:n}=_M(t);return{id:fie(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Cn(22))}}},{withTypes:()=>IM}),XF=(t,e)=>{const{type:r,effect:n,predicate:i}=_M(e);return Array.from(t.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},Kb=t=>{t.pending.forEach(e=>{nA(e,Vb)})},Fie=t=>()=>{t.forEach(Kb),t.clear()},qF=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},SM=Ll(ii(`${vv}/add`),{withTypes:()=>SM}),Uie=ii(`${vv}/removeAll`),TM=Ll(ii(`${vv}/remove`),{withTypes:()=>TM}),Pie=(...t)=>{console.error(`${vv}/error`,...t)},Qf=(t={})=>{const e=new Map,{extra:r,onError:n=Pie}=t;JE(n);const i=u=>(u.unsubscribe=()=>e.delete(u.id),e.set(u.id,u),d=>{u.unsubscribe(),d!=null&&d.cancelActive&&Kb(u)}),s=u=>{const d=XF(e,u)??IM(u);return i(d)};Ll(s,{withTypes:()=>s});const a=u=>{const d=XF(e,u);return d&&(d.unsubscribe(),u.cancelActive&&Kb(d)),!!d};Ll(a,{withTypes:()=>a});const o=async(u,d,f,g)=>{const m=new AbortController,p=Tie(s,m.signal),v=[];try{u.pending.add(m),await Promise.resolve(u.effect(d,Ll({},f,{getOriginalState:g,condition:(y,w)=>p(y,w).then(Boolean),take:p,delay:EM(m.signal),pause:pp(m.signal),extra:r,signal:m.signal,fork:Sie(m.signal,v),unsubscribe:u.unsubscribe,subscribe:()=>{e.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((y,w,B)=>{y!==m&&(nA(y,Vb),B.delete(y))})},cancel:()=>{nA(m,Vb),u.pending.delete(m)},throwIfCancelled:()=>{iA(m.signal)}})))}catch(y){y instanceof pv||qF(n,y,{raisedBy:"effect"})}finally{await Promise.all(v),nA(m,_ie),u.pending.delete(m)}},A=Fie(e);return{middleware:u=>d=>f=>{if(!lM(f))return d(f);if(SM.match(f))return s(f.payload);if(Uie.match(f)){A();return}if(TM.match(f))return a(f.payload);let g=u.getState();const m=()=>{if(g===YF)throw new Error(Cn(23));return g};let p;try{if(p=d(f),e.size>0){const v=u.getState(),y=Array.from(e.values());for(const w of y){let B=!1;try{B=w.predicate(f,v,g)}catch(I){B=!1,qF(n,I,{raisedBy:"predicate"})}B&&o(w,f,u,m)}}}finally{g=YF}return p},startListening:s,stopListening:a,clearListeners:A}};function Cn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Nie={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},FM=Nn({name:"chartLayout",initialState:Nie,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:Qie,setLayout:kie,setChartSize:Oie,setScale:Die}=FM.actions,jie=FM.reducer;function JF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JF(Object(r),!0).forEach(function(n){Rie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rie(t,e,r){return(e=Mie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mie(t){var e=Lie(t,"string");return typeof e=="symbol"?e:e+""}function Lie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vp=Math.PI/180,Hie=t=>t*180/Math.PI,Gt=(t,e,r,n)=>({x:t+Math.cos(-vp*n)*r,y:e+Math.sin(-vp*n)*r}),UM=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Vie=(t,e)=>{var{x:r,y:n}=t,{x:i,y:s}=e;return Math.sqrt((r-i)**2+(n-s)**2)},Kie=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:s}=e,a=Vie({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(r-i)/a,A=Math.acos(o);return n>s&&(A=2*Math.PI-A),{radius:a,angle:Hie(A),angleInRadian:A}},$ie=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:e-s*360,endAngle:r-s*360}},Gie=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return t+a*360},Wie=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:s}=Kie({x:r,y:n},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:A,endAngle:l}=$ie(e),u=s,d;if(A<=l){for(;u>l;)u-=360;for(;u<A;)u+=360;d=u>=A&&u<=l}else{for(;u>A;)u-=360;for(;u<l;)u+=360;d=u>=l&&u<=A}return d?ZF(ZF({},e),{},{radius:i,angle:Gie(u,e)}):null};function PM(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function eU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eU(Object(r),!0).forEach(function(n){zie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zie(t,e,r){return(e=Yie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yie(t){var e=Xie(t,"string");return typeof e=="symbol"?e:e+""}function Xie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function st(t,e,r){return vt(t)||vt(e)?r:Hi(e)?to(t,e,r):typeof e=="function"?e(t):r}var qie=(t,e,r,n,i)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var A=0;A<o;A++){var l=A>0?r[A-1].coordinate:r[o-1].coordinate,u=r[A].coordinate,d=A>=o-1?r[0].coordinate:r[A+1].coordinate,f=void 0;if(ur(u-l)!==ur(d-u)){var g=[];if(ur(d-u)===ur(i[1]-i[0])){f=d;var m=u+i[1]-i[0];g[0]=Math.min(m,(m+l)/2),g[1]=Math.max(m,(m+l)/2)}else{f=l;var p=d+i[1]-i[0];g[0]=Math.min(u,(p+u)/2),g[1]=Math.max(u,(p+u)/2)}var v=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(t>v[0]&&t<=v[1]||t>=g[0]&&t<=g[1]){({index:a}=r[A]);break}}else{var y=Math.min(l,d),w=Math.max(l,d);if(t>(y+u)/2&&t<=(w+u)/2){({index:a}=r[A]);break}}}else if(e){for(var B=0;B<o;B++)if(B===0&&t<=(e[B].coordinate+e[B+1].coordinate)/2||B>0&&B<o-1&&t>(e[B].coordinate+e[B-1].coordinate)/2&&t<=(e[B].coordinate+e[B+1].coordinate)/2||B===o-1&&t>(e[B].coordinate+e[B-1].coordinate)/2){({index:a}=e[B]);break}}return a},Jie=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&fe(t[s]))return $n($n({},t),{},{[s]:t[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&fe(t[a]))return $n($n({},t),{},{[a]:t[a]+(i||0)})}return t},ho=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",NM=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var i,s,a=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===r&&(s=!0),o.coordinate));return i||a.push(e),s||a.push(r),a},QM=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:o,isCategorical:A,categoricalDomain:l,tickCount:u,ticks:d,niceTicks:f,axisType:g}=t;if(!a)return null;var m=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,p=i==="category"&&a.bandwidth?a.bandwidth()/m:0;if(p=g==="angleAxis"&&s&&s.length>=2?ur(s[0]-s[1])*2*p:p,d||f){var v=(d||f||[]).map((y,w)=>{var B=n?n.indexOf(y):y;return{coordinate:a(B)+p,value:y,offset:p,index:w}});return v.filter(y=>!In(y.coordinate))}return A&&l?l.map((y,w)=>({coordinate:a(y)+p,value:y,index:w,offset:p})):a.ticks&&u!=null?a.ticks(u).map((y,w)=>({coordinate:a(y)+p,value:y,offset:p,index:w})):a.domain().map((y,w)=>({coordinate:a(y)+p,value:n?n[y]:y,index:w,offset:p}))},tU=1e-4,Zie=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-tU,s=Math.max(n[0],n[1])+tU,a=t(e[0]),o=t(e[r-1]);(a<i||a>s||o<i||o>s)&&t.domain([e[0],e[r-1]])}},ese=(t,e)=>{if(!e||e.length!==2||!fe(e[0])||!fe(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!fe(t[0])||t[0]<r)&&(i[0]=r),(!fe(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},tse=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0,a=0;a<e;++a){var o=In(t[a][r][1])?t[a][r][0]:t[a][r][1];o>=0?(t[a][r][0]=i,t[a][r][1]=i+o,i=t[a][r][1]):(t[a][r][0]=s,t[a][r][1]=s+o,s=t[a][r][1])}},rse=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0;s<e;++s){var a=In(t[s][r][1])?t[s][r][0]:t[s][r][1];a>=0?(t[s][r][0]=i,t[s][r][1]=i+a,i=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},nse={sign:tse,expand:Lre,none:cu,silhouette:Hre,wiggle:Vre,positive:rse},ise=(t,e,r)=>{var n=nse[r],i=Mre().keys(e).value((s,a)=>+st(s,a,0)).order(Qb).offset(n);return i(t)};function sse(t){return t==null?void 0:String(t)}function rU(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!vt(i[e.dataKey])){var o=cR(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var A=st(i,vt(a)?e.dataKey:a);return vt(A)?null:e.scale(A)}var nU=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return r[a]?r[a].coordinate+n:null;var o=st(s,e.dataKey,e.scale.domain()[a]);return vt(o)?null:e.scale(o)-i/2+n},ase=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},ose=t=>{var e=t.flat(2).filter(fe);return[Math.min(...e),Math.max(...e)]},Ase=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],lse=(t,e,r)=>{if(t!=null)return Ase(Object.keys(t).reduce((n,i)=>{var s=t[i],{stackedData:a}=s,o=a.reduce((A,l)=>{var u=PM(l,e,r),d=ose(u);return[Math.min(A[0],d[0]),Math.max(A[1],d[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},iU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rf=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=dv(e,u=>u.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var A=i[a],l=i[a-1];s=Math.min((A.coordinate||0)-(l.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function aU(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:s}=t;return $n($n({},e),{},{dataKey:r,payload:n,value:i,name:s})}function Nu(t,e){if(t)return String(t);if(typeof e=="string")return e}function use(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return n?Wie({x:t,y:e},n):null}var cse=(t,e,r,n)=>{var i=e.find(l=>l&&l.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:a}=n;return $n($n($n({},n),Gt(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:A}=n;return $n($n($n({},n),Gt(n.cx,n.cy,o,A)),{},{angle:A,radius:o})}return{x:0,y:0}},dse=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,js=t=>t.layout.width,Rs=t=>t.layout.height,fse=t=>t.layout.scale,kM=t=>t.layout.margin,ZE=G(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),e1=G(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),OM="data-recharts-item-index",DM="data-recharts-item-data-key",yv=60;function oU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oU(Object(r),!0).forEach(function(n){hse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hse(t,e,r){return(e=gse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gse(t){var e=mse(t,"string");return typeof e=="symbol"?e:e+""}function mse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pse=t=>t.brush.height,er=G([js,Rs,kM,pse,ZE,e1,sM,jne],(t,e,r,n,i,s,a,o)=>{var A=s.reduce((m,p)=>{var{orientation:v}=p;if(!p.mirror&&!p.hide){var y=typeof p.width=="number"?p.width:yv;return ta(ta({},m),{},{[v]:m[v]+y})}return m},{left:r.left||0,right:r.right||0}),l=i.reduce((m,p)=>{var{orientation:v}=p;return!p.mirror&&!p.hide?ta(ta({},m),{},{[v]:to(m,"".concat(v))+p.height}):m},{top:r.top||0,bottom:r.bottom||0}),u=ta(ta({},l),A),d=u.bottom;u.bottom+=n,u=Jie(u,a,o);var f=t-u.left-u.right,g=e-u.top-u.bottom;return ta(ta({brushBottom:d},u),{},{width:Math.max(f,0),height:Math.max(g,0)})}),vse=G(er,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),jM=G(js,Rs,(t,e)=>({x:0,y:0,width:t,height:e})),yse=x.createContext(null),cn=()=>x.useContext(yse)!=null,wv=t=>t.brush,xv=G([wv,er,kM],(t,e,r)=>({height:t.height,x:fe(t.x)?t.x:e.left,y:fe(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:fe(t.width)?t.width:e.width})),t1=()=>{var t,e=cn(),r=ye(vse),n=ye(xv),i=(t=ye(wv))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},wse={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},RM=()=>{var t;return(t=ye(er))!==null&&t!==void 0?t:wse},r1=()=>ye(js),n1=()=>ye(Rs),xse={top:0,right:0,bottom:0,left:0},bse=()=>{var t;return(t=ye(e=>e.layout.margin))!==null&&t!==void 0?t:xse},Ve=t=>t.layout.layoutType,bv=()=>ye(Ve),Bse={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},MM=Nn({name:"legend",initialState:Bse,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=ys(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:AU,setLegendSettings:Cse,addLegendPayload:LM,removeLegendPayload:HM}=MM.actions,Ese=MM.reducer,_se=["contextPayload"];function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$b.apply(null,arguments)}function lU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lU(Object(r),!0).forEach(function(n){i1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i1(t,e,r){return(e=Ise(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ise(t){var e=Sse(t,"string");return typeof e=="symbol"?e:e+""}function Sse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tse(t,e){if(t==null)return{};var r,n,i=Fse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Fse(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Use(t){return t.value}function Pse(t){var{contextPayload:e}=t,r=Tse(t,_se),n=zR(e,t.payloadUniqBy,Use),i=hu(hu({},r),{},{payload:n});return x.isValidElement(t.content)?x.cloneElement(t.content,i):typeof t.content=="function"?x.createElement(t.content,i):x.createElement(DE,i)}function Nse(t,e,r,n,i,s){var{layout:a,align:o,verticalAlign:A}=e,l,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&a==="vertical"?l={left:((n||0)-s.width)/2}:l=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(A==="middle"?u={top:((i||0)-s.height)/2}:u=A==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),hu(hu({},l),u)}function Qse(t){var e=Pt();return x.useEffect(()=>{e(Cse(t))},[e,t]),null}function kse(t){var e=Pt();return x.useEffect(()=>(e(AU(t)),()=>{e(AU({width:0,height:0}))}),[e,t]),null}function Ose(t){var e=Lne(),r=ure(),n=bse(),{width:i,height:s,wrapperStyle:a,portal:o}=t,[A,l]=aM([e]),u=r1(),d=n1(),f=u-(n.left||0)-(n.right||0),g=BA.getWidthOrHeight(t.layout,s,i,f),m=o?a:hu(hu({position:"absolute",width:(g==null?void 0:g.width)||i||"auto",height:(g==null?void 0:g.height)||s||"auto"},Nse(a,t,n,u,d,A)),a),p=o??r;if(p==null)return null;var v=x.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:l},x.createElement(Qse,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),x.createElement(kse,{width:A.width,height:A.height}),x.createElement(Pse,$b({},t,g,{margin:n,chartWidth:u,chartHeight:d,contextPayload:e})));return vC.createPortal(v,p)}class BA extends x.PureComponent{static getWidthOrHeight(e,r,n,i){return e==="vertical"&&fe(r)?{height:r}:e==="horizontal"?{width:n||i}:null}render(){return x.createElement(Ose,this.props)}}i1(BA,"displayName","Legend");i1(BA,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gb.apply(null,arguments)}function uU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uU(Object(r),!0).forEach(function(n){Dse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dse(t,e,r){return(e=jse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jse(t){var e=Rse(t,"string");return typeof e=="symbol"?e:e+""}function Rse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mse(t){return Array.isArray(t)&&Hi(t[0])&&Hi(t[1])?t.join(" ~ "):t}var Lse=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:A,labelClassName:l,label:u,labelFormatter:d,accessibilityLayer:f=!1}=t,g=()=>{if(s&&s.length){var T={padding:0,margin:0},F=(o?dv(s,o):s).map((C,_)=>{if(C.type==="none")return null;var S=C.formatter||a||Mse,{value:P,name:Q}=C,k=P,N=Q;{var ae=S(P,Q,C,_,s);if(Array.isArray(ae))[k,N]=ae;else if(ae!=null)k=ae;else return null}var be=pw({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:be},Hi(N)?x.createElement("span",{className:"recharts-tooltip-item-name"},N):null,Hi(N)?x.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,x.createElement("span",{className:"recharts-tooltip-item-value"},k),x.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:T},F)}return null},m=pw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),p=pw({margin:0},i),v=!vt(u),y=v?u:"",w=We("recharts-default-tooltip",A),B=We("recharts-tooltip-label",l);v&&d&&s!==void 0&&s!==null&&(y=d(u,s));var I=f?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Gb({className:w,style:m},I),x.createElement("p",{className:B,style:p},x.isValidElement(y)?y:"".concat(y)),g())},yc="recharts-tooltip-wrapper",Hse={visibility:"hidden"};function Vse(t){var{coordinate:e,translateX:r,translateY:n}=t;return We(yc,{["".concat(yc,"-right")]:fe(r)&&e&&fe(e.x)&&r>=e.x,["".concat(yc,"-left")]:fe(r)&&e&&fe(e.x)&&r<e.x,["".concat(yc,"-bottom")]:fe(n)&&e&&fe(e.y)&&n>=e.y,["".concat(yc,"-top")]:fe(n)&&e&&fe(e.y)&&n<e.y})}function cU(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:A,viewBoxDimension:l}=t;if(s&&fe(s[n]))return s[n];var u=r[n]-o-(i>0?i:0),d=r[n]+i;if(e[n])return a[n]?u:d;var f=A[n];if(f==null)return 0;if(a[n]){var g=u,m=f;return g<m?Math.max(d,f):Math.max(u,f)}if(l==null)return 0;var p=d+o,v=f+l;return p>v?Math.max(u,f):Math.max(d,f)}function Kse(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function $se(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:A}=t,l,u,d;return a.height>0&&a.width>0&&r?(u=cU({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:A,viewBoxDimension:A.width}),d=cU({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:A,viewBoxDimension:A.height}),l=Kse({translateX:u,translateY:d,useTranslate3d:o})):l=Hse,{cssProperties:l,cssClasses:Vse({translateX:u,translateY:d,coordinate:r})}}function dU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dU(Object(r),!0).forEach(function(n){Wb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wb(t,e,r){return(e=Gse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gse(t){var e=Wse(t,"string");return typeof e=="symbol"?e:e+""}function Wse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zse extends x.PureComponent{constructor(){super(...arguments),Wb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Wb(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:A,offset:l,position:u,reverseDirection:d,useTranslate3d:f,viewBox:g,wrapperStyle:m,lastBoundingBox:p,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:w,cssProperties:B}=$se({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:l,position:u,reverseDirection:d,tooltipBox:{height:p.height,width:p.width},useTranslate3d:f,viewBox:g}),I=y?{}:dg(dg({transition:A&&e?"transform ".concat(n,"ms ").concat(i):void 0},B),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),T=dg(dg({},I),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},m);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:T,ref:v},s)}}var Yse=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),QA={isSsr:Yse()},VM=()=>ye(t=>t.rootProps.accessibilityLayer);function Fn(t){return Number.isFinite(t)}function gu(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zb.apply(null,arguments)}function fU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fU(Object(r),!0).forEach(function(n){Xse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xse(t,e,r){return(e=qse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qse(t){var e=Jse(t,"string");return typeof e=="symbol"?e:e+""}function Jse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gU={curveBasisClosed:Tre,curveBasisOpen:Fre,curveBasis:Sre,curveBumpX:hre,curveBumpY:gre,curveLinearClosed:Ure,curveLinear:sv,curveMonotoneX:Pre,curveMonotoneY:Nre,curveNatural:Qre,curveStep:kre,curveStepAfter:Dre,curveStepBefore:Ore},fg=t=>Fn(t.x)&&Fn(t.y),wc=t=>t.x,xc=t=>t.y,Zse=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(Uf(t));return(r==="curveMonotone"||r==="curveBump")&&e?gU["".concat(r).concat(e==="vertical"?"Y":"X")]:gU[r]||sv},eae=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=t,a=Zse(e,i),o=s?r.filter(fg):r,A;if(Array.isArray(n)){var l=s?n.filter(d=>fg(d)):n,u=o.map((d,f)=>hU(hU({},d),{},{base:l[f]}));return i==="vertical"?A=og().y(xc).x1(wc).x0(d=>d.base.x):A=og().x(wc).y1(xc).y0(d=>d.base.y),A.defined(fg).curve(a),A(u)}return i==="vertical"&&fe(n)?A=og().y(xc).x1(wc).x0(n):fe(n)?A=og().x(wc).y1(xc).y0(n):A=xR().x(wc).y(xc),A.defined(fg).curve(a),A(o)},s1=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var s=r&&r.length?eae(t):n;return x.createElement("path",zb({},Ds(t),FE(t),{className:We("recharts-curve",e),d:s===null?void 0:s,ref:i}))},tae=["x","y","top","left","width","height","className"];function Yb(){return Yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yb.apply(null,arguments)}function mU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mU(Object(r),!0).forEach(function(n){nae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nae(t,e,r){return(e=iae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iae(t){var e=sae(t,"string");return typeof e=="symbol"?e:e+""}function sae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aae(t,e){if(t==null)return{};var r,n,i=oae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function oae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Aae=(t,e,r,n,i,s)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(r),lae=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:o}=t,A=aae(t,tae),l=rae({x:e,y:r,top:n,left:i,width:s,height:a},A);return!fe(e)||!fe(r)||!fe(s)||!fe(a)||!fe(n)||!fe(i)?null:x.createElement("path",Yb({},Bt(l,!0),{className:We("recharts-cross",o),d:Aae(e,r,s,a,n,i)}))};function uae(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function pU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pU(Object(r),!0).forEach(function(n){dae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dae(t,e,r){return(e=fae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fae(t){var e=hae(t,"string");return typeof e=="symbol"?e:e+""}function hae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qn(t,e){var r=cae({},t),n=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&n[o]!==void 0&&(a[o]=n[o]),a),r);return s}var KM={},$M={},GM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}t.isPlainObject=e})(GM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GM,r=VE,n=lv,i=uv,s=Av;function a(l,u,d){return o(l,u,void 0,void 0,void 0,void 0,d)}function o(l,u,d,f,g,m,p){const v=p(l,u,d,f,g,m);if(v!==void 0)return v;if(typeof l==typeof u)switch(typeof l){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return l===u;case"number":return l===u||Object.is(l,u);case"function":return l===u;case"object":return A(l,u,m,p)}return A(l,u,m,p)}function A(l,u,d,f){if(Object.is(l,u))return!0;let g=n.getTag(l),m=n.getTag(u);if(g===i.argumentsTag&&(g=i.objectTag),m===i.argumentsTag&&(m=i.objectTag),g!==m)return!1;switch(g){case i.stringTag:return l.toString()===u.toString();case i.numberTag:{const y=l.valueOf(),w=u.valueOf();return s.eq(y,w)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(l.valueOf(),u.valueOf());case i.regexpTag:return l.source===u.source&&l.flags===u.flags;case i.functionTag:return l===u}d=d??new Map;const p=d.get(l),v=d.get(u);if(p!=null&&v!=null)return p===u;d.set(l,u),d.set(u,l);try{switch(g){case i.mapTag:{if(l.size!==u.size)return!1;for(const[y,w]of l.entries())if(!u.has(y)||!o(w,u.get(y),y,l,u,d,f))return!1;return!0}case i.setTag:{if(l.size!==u.size)return!1;const y=Array.from(l.values()),w=Array.from(u.values());for(let B=0;B<y.length;B++){const I=y[B],T=w.findIndex(F=>o(I,F,void 0,l,u,d,f));if(T===-1)return!1;w.splice(T,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(l)!==Buffer.isBuffer(u)||l.length!==u.length)return!1;for(let y=0;y<l.length;y++)if(!o(l[y],u[y],y,l,u,d,f))return!1;return!0}case i.arrayBufferTag:return l.byteLength!==u.byteLength?!1:A(new Uint8Array(l),new Uint8Array(u),d,f);case i.dataViewTag:return l.byteLength!==u.byteLength||l.byteOffset!==u.byteOffset?!1:A(new Uint8Array(l),new Uint8Array(u),d,f);case i.errorTag:return l.name===u.name&&l.message===u.message;case i.objectTag:{if(!(A(l.constructor,u.constructor,d,f)||e.isPlainObject(l)&&e.isPlainObject(u)))return!1;const w=[...Object.keys(l),...r.getSymbols(l)],B=[...Object.keys(u),...r.getSymbols(u)];if(w.length!==B.length)return!1;for(let I=0;I<w.length;I++){const T=w[I],F=l[T];if(!Object.hasOwn(u,T))return!1;const C=u[T];if(!o(F,C,T,l,u,d,f))return!1}return!0}default:return!1}}finally{d.delete(l),d.delete(u)}}t.isEqualWith=a})($M);var WM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(WM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$M,r=WM;function n(i,s){return e.isEqualWith(i,s,r.noop)}t.isEqual=n})(KM);var gae=KM.isEqual;const mae=Ki(gae);var yp=1e-4,zM=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],YM=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),vU=(t,e)=>r=>{var n=zM(t,e);return YM(n,r)},pae=(t,e)=>r=>{var n=zM(t,e),i=[...n.map((s,a)=>s*a).slice(1),0];return YM(i,r)},yU=function(){for(var e,r,n,i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var A=a[0].split("(");A[0]==="cubic-bezier"&&A[1].split(")")[0].split(",").length===4&&([e,n,r,i]=A[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else a.length===4&&([e,n,r,i]=a);var l=vU(e,r),u=vU(n,i),d=pae(e,r),f=m=>m>1?1:m<0?0:m,g=m=>{for(var p=m>1?1:m,v=p,y=0;y<8;++y){var w=l(v)-p,B=d(v);if(Math.abs(w-p)<yp||B<yp)return u(v);v=f(v-w/B)}return u(v)};return g.isStepper=!1,g},vae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,s=(a,o,A)=>{var l=-(a-o)*r,u=A*n,d=A+(l-u)*i/1e3,f=A*i/1e3+a;return Math.abs(f-o)<yp&&Math.abs(d)<yp?[o,0]:[f,d]};return s.isStepper=!0,s.dt=i,s},XM=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yU(t);case"spring":return vae();default:if(t.split("(")[0]==="cubic-bezier")return yU(t)}return typeof t=="function"?t:null};function wU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wU(Object(r),!0).forEach(function(n){yae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yae(t,e,r){return(e=wae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wae(t){var e=xae(t,"string");return typeof e=="symbol"?e:e+""}function xae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bae=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Bae=(t,e,r)=>t.map(n=>"".concat(bae(n)," ").concat(e,"ms ").concat(r)).join(","),Cae=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),nf=(t,e)=>Object.keys(e).reduce((r,n)=>xU(xU({},r),{},{[n]:t(n,e[n])}),{});function bU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bU(Object(r),!0).forEach(function(n){Eae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eae(t,e,r){return(e=_ae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ae(t){var e=Iae(t,"string");return typeof e=="symbol"?e:e+""}function Iae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wp=(t,e,r)=>t+(e-t)*r,Xb=t=>{var{from:e,to:r}=t;return e!==r},qM=(t,e,r)=>{var n=nf((i,s)=>{if(Xb(s)){var[a,o]=t(s.from,s.to,s.velocity);return xr(xr({},s),{},{from:a,velocity:o})}return s},e);return r<1?nf((i,s)=>Xb(s)?xr(xr({},s),{},{velocity:wp(s.velocity,n[i].velocity,r),from:wp(s.from,n[i].from,r)}):s,e):qM(t,n,r-1)};function Sae(t,e,r,n,i,s){var a,o=n.reduce((f,g)=>xr(xr({},f),{},{[g]:{from:t[g],velocity:0,to:e[g]}}),{}),A=()=>nf((f,g)=>g.from,o),l=()=>!Object.values(o).filter(Xb).length,u=null,d=f=>{a||(a=f);var g=f-a,m=g/r.dt;o=qM(r,o,m),i(xr(xr(xr({},t),e),A())),a=f,l()||(u=s.setTimeout(d))};return()=>(u=s.setTimeout(d),()=>{u()})}function Tae(t,e,r,n,i,s,a){var o=null,A=i.reduce((d,f)=>xr(xr({},d),{},{[f]:[t[f],e[f]]}),{}),l,u=d=>{l||(l=d);var f=(d-l)/n,g=nf((p,v)=>wp(...v,r(f)),A);if(s(xr(xr(xr({},t),e),g)),f<1)o=a.setTimeout(u);else{var m=nf((p,v)=>wp(...v,r(1)),A);s(xr(xr(xr({},t),e),m))}};return()=>(o=a.setTimeout(u),()=>{o()})}const JM=(t,e,r,n,i,s)=>{var a=Cae(t,e);return r.isStepper===!0?Sae(t,e,r,a,i,s):Tae(t,e,r,n,a,i,s)};function Fae(t){var e,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[A,...l]=o;if(typeof A=="number"){i=t.setTimeout(s.bind(null,l),A);return}s(A),i=t.setTimeout(s.bind(null,l));return}typeof a=="string"&&(e=a,r(e)),typeof a=="object"&&(e=a,r(e)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>t}}class Uae{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function Pae(){return Fae(new Uae)}var Nae=x.createContext(Pae);function ZM(t,e){var r=x.useContext(Nae);return x.useMemo(()=>e??r(t),[t,e,r])}var Qae=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qb.apply(null,arguments)}function kae(t,e){if(t==null)return{};var r,n,i=Oae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Oae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function BU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ra(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BU(Object(r),!0).forEach(function(n){Wo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wo(t,e,r){return(e=Dae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dae(t){var e=jae(t,"string");return typeof e=="symbol"?e:e+""}function jae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class a1 extends x.PureComponent{constructor(e,r){super(e,r),Wo(this,"mounted",!1),Wo(this,"manager",void 0),Wo(this,"stopJSAnimation",null),Wo(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:s,to:a,children:o,duration:A,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||A<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:a});return}if(s){if(typeof o=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:r}=this.props;this.mounted=!0,!(!e||!r)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:s,to:a,from:o}=this.props,{style:A}=this.state;if(n){if(!r){var l={style:i?{[i]:a}:a};this.state&&A&&(i&&A[i]!==a||!i&&A!==a)&&this.setState(l);return}if(!(mae(e.to,a)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=u||s?o:e.to;if(this.state&&A){var f={style:i?{[i]:d}:d};(i&&A[i]!==d||!i&&A!==d)&&this.setState(f)}this.runAnimation(ra(ra({},this.props),{},{from:d,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:r,to:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:A}=e,l=JM(r,n,XM(s),i,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=l()};this.manager.start([A,a,u,i,o])}runAnimation(e){var{begin:r,duration:n,attributeName:i,to:s,easing:a,onAnimationStart:o,onAnimationEnd:A,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof l=="function"||a==="spring"){this.runJSAnimation(e);return}var u=i?{[i]:s}:s,d=Bae(Object.keys(u),n,a);this.manager.start([o,r,ra(ra({},u),{},{transition:d}),n,A])}render(){var e=this.props,{children:r,begin:n,duration:i,attributeName:s,easing:a,isActive:o,from:A,to:l,canBegin:u,onAnimationEnd:d,shouldReAnimate:f,onAnimationReStart:g,animationManager:m}=e,p=kae(e,Qae),v=x.Children.count(r),y=this.state.style;if(typeof r=="function")return r(y);if(!o||v===0||i<=0)return r;var w=B=>{var{style:I={},className:T}=B.props,F=x.cloneElement(B,ra(ra({},p),{},{style:ra(ra({},I),y),className:T}));return F};return v===1?w(x.Children.only(r)):x.createElement("div",null,x.Children.map(r,B=>w(B)))}}Wo(a1,"displayName","Animate");Wo(a1,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function xp(t){var e,r=ZM((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return x.createElement(a1,qb({},t,{animationManager:r}))}function bp(){return bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bp.apply(null,arguments)}var CU=(t,e,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,o=r>=0?1:-1,A=n>=0&&r>=0||n<0&&r<0?1:0,l;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],d=0,f=4;d<f;d++)u[d]=i[d]>s?s:i[d];l="M".concat(t,",").concat(e+a*u[0]),u[0]>0&&(l+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(A,",").concat(t+o*u[0],",").concat(e)),l+="L ".concat(t+r-o*u[1],",").concat(e),u[1]>0&&(l+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(A,`,
        `).concat(t+r,",").concat(e+a*u[1])),l+="L ".concat(t+r,",").concat(e+n-a*u[2]),u[2]>0&&(l+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(A,`,
        `).concat(t+r-o*u[2],",").concat(e+n)),l+="L ".concat(t+o*u[3],",").concat(e+n),u[3]>0&&(l+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(A,`,
        `).concat(t,",").concat(e+n-a*u[3])),l+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);l="M ".concat(t,",").concat(e+a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+o*g,",").concat(e,`
            L `).concat(t+r-o*g,",").concat(e,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+r,",").concat(e+a*g,`
            L `).concat(t+r,",").concat(e+n-a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+r-o*g,",").concat(e+n,`
            L `).concat(t+o*g,",").concat(e+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t,",").concat(e+n-a*g," Z")}else l="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return l},Rae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eL=t=>{var e=Qn(t,Rae),r=x.useRef(null),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&i(y)}catch{}},[]);var{x:s,y:a,width:o,height:A,radius:l,className:u}=e,{animationEasing:d,animationDuration:f,animationBegin:g,isAnimationActive:m,isUpdateAnimationActive:p}=e;if(s!==+s||a!==+a||o!==+o||A!==+A||o===0||A===0)return null;var v=We("recharts-rectangle",u);return p?x.createElement(xp,{canBegin:n>0,from:{width:o,height:A,x:s,y:a},to:{width:o,height:A,x:s,y:a},duration:f,animationEasing:d,isActive:p},y=>{var{width:w,height:B,x:I,y:T}=y;return x.createElement(xp,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,isActive:m,easing:d},x.createElement("path",bp({},Bt(e,!0),{className:v,d:CU(I,T,w,B,l),ref:r})))}):x.createElement("path",bp({},Bt(e,!0),{className:v,d:CU(s,a,o,A,l)}))};function tL(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:s}=t,a=Gt(e,r,n,i),o=Gt(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jb.apply(null,arguments)}var Mae=(t,e)=>{var r=ur(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},hg=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:A}=t,l=o*(a?1:-1)+n,u=Math.asin(o/l)/vp,d=A?i:i+s*u,f=Gt(e,r,l,d),g=Gt(e,r,n,d),m=A?i-s*u:i,p=Gt(e,r,l*Math.cos(u*vp),m);return{center:f,circleTangency:g,lineTangency:p,theta:u}},rL=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=t,o=Mae(s,a),A=s+o,l=Gt(e,r,i,s),u=Gt(e,r,i,A),d="M ".concat(l.x,",").concat(l.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>A),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var f=Gt(e,r,n,s),g=Gt(e,r,n,A);d+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=A),`,
            `).concat(f.x,",").concat(f.y," Z")}else d+="L ".concat(e,",").concat(r," Z");return d},Lae=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:A,endAngle:l}=t,u=ur(l-A),{circleTangency:d,lineTangency:f,theta:g}=hg({cx:e,cy:r,radius:i,angle:A,sign:u,cornerRadius:s,cornerIsExternal:o}),{circleTangency:m,lineTangency:p,theta:v}=hg({cx:e,cy:r,radius:i,angle:l,sign:-u,cornerRadius:s,cornerIsExternal:o}),y=o?Math.abs(A-l):Math.abs(A-l)-g-v;if(y<0)return a?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):rL({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:A,endAngle:l});var w="M ".concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
  `);if(n>0){var{circleTangency:B,lineTangency:I,theta:T}=hg({cx:e,cy:r,radius:n,angle:A,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:F,lineTangency:C,theta:_}=hg({cx:e,cy:r,radius:n,angle:l,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),S=o?Math.abs(A-l):Math.abs(A-l)-T-_;if(S<0&&s===0)return"".concat(w,"L").concat(e,",").concat(r,"Z");w+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(S>180),",").concat(+(u>0),",").concat(B.x,",").concat(B.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(I.x,",").concat(I.y,"Z")}else w+="L".concat(e,",").concat(r,"Z");return w},Hae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nL=t=>{var e=Qn(t,Hae),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:A,startAngle:l,endAngle:u,className:d}=e;if(s<i||l===u)return null;var f=We("recharts-sector",d),g=s-i,m=Xr(a,g,0,!0),p;return m>0&&Math.abs(l-u)<360?p=Lae({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:o,cornerIsExternal:A,startAngle:l,endAngle:u}):p=rL({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:l,endAngle:u}),x.createElement("path",Jb({},Bt(e,!0),{className:f,d:p}))};function Vae(t,e,r){var n,i,s,a;if(t==="horizontal")n=e.x,s=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:o,cy:A,innerRadius:l,outerRadius:u,angle:d}=e,f=Gt(o,A,l,d),g=Gt(o,A,u,d);n=f.x,i=f.y,s=g.x,a=g.y}else return tL(e);return[{x:n,y:i},{x:s,y:a}]}var iL={},sL={},aL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GE;function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(aL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aL;function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(sL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WE,r=sL;function n(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),A=new Array(o);for(let l=0;l<o;l++)A[l]=i,i+=a;return A}t.range=n})(iL);var Kae=iL.range;const oL=Ki(Kae);function La(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $ae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function o1(t){let e,r,n;t.length!==2?(e=La,r=(o,A)=>La(t(o),A),n=(o,A)=>t(o)-A):(e=t===La||t===$ae?t:Gae,r=t,n=t);function i(o,A,l=0,u=o.length){if(l<u){if(e(A,A)!==0)return u;do{const d=l+u>>>1;r(o[d],A)<0?l=d+1:u=d}while(l<u)}return l}function s(o,A,l=0,u=o.length){if(l<u){if(e(A,A)!==0)return u;do{const d=l+u>>>1;r(o[d],A)<=0?l=d+1:u=d}while(l<u)}return l}function a(o,A,l=0,u=o.length){const d=i(o,A,l,u-1);return d>l&&n(o[d-1],A)>-n(o[d],A)?d-1:d}return{left:i,center:a,right:s}}function Gae(){return 0}function AL(t){return t===null?NaN:+t}function*Wae(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const zae=o1(La),kf=zae.right;o1(AL).center;class EU extends Map{constructor(e,r=qae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(_U(this,e))}has(e){return super.has(_U(this,e))}set(e,r){return super.set(Yae(this,e),r)}delete(e){return super.delete(Xae(this,e))}}function _U({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Yae({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Xae({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function qae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Jae(t=La){if(t===La)return lL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function lL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Zae=Math.sqrt(50),eoe=Math.sqrt(10),toe=Math.sqrt(2);function Bp(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=Zae?10:s>=eoe?5:s>=toe?2:1;let o,A,l;return i<0?(l=Math.pow(10,-i)/a,o=Math.round(t*l),A=Math.round(e*l),o/l<t&&++o,A/l>e&&--A,l=-l):(l=Math.pow(10,i)*a,o=Math.round(t/l),A=Math.round(e/l),o*l<t&&++o,A*l>e&&--A),A<o&&.5<=r&&r<2?Bp(t,e,r*2):[o,A,l]}function Zb(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?Bp(e,t,r):Bp(t,e,r);if(!(s>=i))return[];const o=s-i+1,A=new Array(o);if(n)if(a<0)for(let l=0;l<o;++l)A[l]=(s-l)/-a;else for(let l=0;l<o;++l)A[l]=(s-l)*a;else if(a<0)for(let l=0;l<o;++l)A[l]=(i+l)/-a;else for(let l=0;l<o;++l)A[l]=(i+l)*a;return A}function eB(t,e,r){return e=+e,t=+t,r=+r,Bp(t,e,r)[2]}function tB(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?eB(e,t,r):eB(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function IU(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function SU(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function uL(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?lL:Jae(i);n>r;){if(n-r>600){const A=n-r+1,l=e-r+1,u=Math.log(A),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(A-d)/A)*(l-A/2<0?-1:1),g=Math.max(r,Math.floor(e-l*d/A+f)),m=Math.min(n,Math.floor(e+(A-l)*d/A+f));uL(t,e,g,m,i)}const s=t[e];let a=r,o=n;for(bc(t,r,e),i(t[n],s)>0&&bc(t,r,n);a<o;){for(bc(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?bc(t,r,o):(++o,bc(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function bc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function roe(t,e,r){if(t=Float64Array.from(Wae(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return SU(t);if(e>=1)return IU(t);var n,i=(n-1)*e,s=Math.floor(i),a=IU(uL(t,s).subarray(0,s+1)),o=SU(t.subarray(s+1));return a+(o-a)*(i-s)}}function noe(t,e,r=AL){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function ioe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function oi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ms(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const rB=Symbol("implicit");function A1(){var t=new EU,e=[],r=[],n=rB;function i(s){let a=t.get(s);if(a===void 0){if(n!==rB)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new EU;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return A1(e,r).unknown(n)},oi.apply(i,arguments),i}function l1(){var t=A1().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,A=0,l=0,u=.5;delete t.unknown;function d(){var f=e().length,g=i<n,m=g?i:n,p=g?n:i;s=(p-m)/Math.max(1,f-A+l*2),o&&(s=Math.floor(s)),m+=(p-m-s*(f-A))*u,a=s*(1-A),o&&(m=Math.round(m),a=Math.round(a));var v=ioe(f).map(function(y){return m+s*y});return r(g?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,o=!0,d()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(o=!!f,d()):o},t.padding=function(f){return arguments.length?(A=Math.min(1,l=+f),d()):A},t.paddingInner=function(f){return arguments.length?(A=Math.min(1,f),d()):A},t.paddingOuter=function(f){return arguments.length?(l=+f,d()):l},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},t.copy=function(){return l1(e(),[n,i]).round(o).paddingInner(A).paddingOuter(l).align(u)},oi.apply(d(),arguments)}function cL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return cL(e())},t}function soe(){return cL(l1.apply(null,arguments).paddingInner(1))}function u1(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function dL(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Of(){}var sf=.7,Cp=1/sf,Hl="\\s*([+-]?\\d+)\\s*",af="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aoe=/^#([0-9a-f]{3,8})$/,ooe=new RegExp(`^rgb\\(${Hl},${Hl},${Hl}\\)$`),Aoe=new RegExp(`^rgb\\(${Mi},${Mi},${Mi}\\)$`),loe=new RegExp(`^rgba\\(${Hl},${Hl},${Hl},${af}\\)$`),uoe=new RegExp(`^rgba\\(${Mi},${Mi},${Mi},${af}\\)$`),coe=new RegExp(`^hsl\\(${af},${Mi},${Mi}\\)$`),doe=new RegExp(`^hsla\\(${af},${Mi},${Mi},${af}\\)$`),TU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};u1(Of,of,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:FU,formatHex:FU,formatHex8:foe,formatHsl:hoe,formatRgb:UU,toString:UU});function FU(){return this.rgb().formatHex()}function foe(){return this.rgb().formatHex8()}function hoe(){return fL(this).formatHsl()}function UU(){return this.rgb().formatRgb()}function of(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=aoe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?PU(e):r===3?new an(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?gg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?gg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ooe.exec(t))?new an(e[1],e[2],e[3],1):(e=Aoe.exec(t))?new an(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=loe.exec(t))?gg(e[1],e[2],e[3],e[4]):(e=uoe.exec(t))?gg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=coe.exec(t))?kU(e[1],e[2]/100,e[3]/100,1):(e=doe.exec(t))?kU(e[1],e[2]/100,e[3]/100,e[4]):TU.hasOwnProperty(t)?PU(TU[t]):t==="transparent"?new an(NaN,NaN,NaN,0):null}function PU(t){return new an(t>>16&255,t>>8&255,t&255,1)}function gg(t,e,r,n){return n<=0&&(t=e=r=NaN),new an(t,e,r,n)}function goe(t){return t instanceof Of||(t=of(t)),t?(t=t.rgb(),new an(t.r,t.g,t.b,t.opacity)):new an}function nB(t,e,r,n){return arguments.length===1?goe(t):new an(t,e,r,n??1)}function an(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}u1(an,nB,dL(Of,{brighter(t){return t=t==null?Cp:Math.pow(Cp,t),new an(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?sf:Math.pow(sf,t),new an(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new an(sA(this.r),sA(this.g),sA(this.b),Ep(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NU,formatHex:NU,formatHex8:moe,formatRgb:QU,toString:QU}));function NU(){return`#${zo(this.r)}${zo(this.g)}${zo(this.b)}`}function moe(){return`#${zo(this.r)}${zo(this.g)}${zo(this.b)}${zo((isNaN(this.opacity)?1:this.opacity)*255)}`}function QU(){const t=Ep(this.opacity);return`${t===1?"rgb(":"rgba("}${sA(this.r)}, ${sA(this.g)}, ${sA(this.b)}${t===1?")":`, ${t})`}`}function Ep(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function sA(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zo(t){return t=sA(t),(t<16?"0":"")+t.toString(16)}function kU(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new vi(t,e,r,n)}function fL(t){if(t instanceof vi)return new vi(t.h,t.s,t.l,t.opacity);if(t instanceof Of||(t=of(t)),!t)return new vi;if(t instanceof vi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,A=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=A<.5?s+i:2-s-i,a*=60):o=A>0&&A<1?0:a,new vi(a,o,A,t.opacity)}function poe(t,e,r,n){return arguments.length===1?fL(t):new vi(t,e,r,n??1)}function vi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}u1(vi,poe,dL(Of,{brighter(t){return t=t==null?Cp:Math.pow(Cp,t),new vi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?sf:Math.pow(sf,t),new vi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new an(vw(t>=240?t-240:t+120,i,n),vw(t,i,n),vw(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new vi(OU(this.h),mg(this.s),mg(this.l),Ep(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ep(this.opacity);return`${t===1?"hsl(":"hsla("}${OU(this.h)}, ${mg(this.s)*100}%, ${mg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function OU(t){return t=(t||0)%360,t<0?t+360:t}function mg(t){return Math.max(0,Math.min(1,t||0))}function vw(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const c1=t=>()=>t;function voe(t,e){return function(r){return t+r*e}}function yoe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function woe(t){return(t=+t)==1?hL:function(e,r){return r-e?yoe(e,r,t):c1(isNaN(e)?r:e)}}function hL(t,e){var r=e-t;return r?voe(t,r):c1(isNaN(t)?e:t)}const DU=function t(e){var r=woe(e);function n(i,s){var a=r((i=nB(i)).r,(s=nB(s)).r),o=r(i.g,s.g),A=r(i.b,s.b),l=hL(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=A(u),i.opacity=l(u),i+""}}return n.gamma=t,n}(1);function xoe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function boe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Boe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Qu(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function Coe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function _p(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Eoe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Qu(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var iB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yw=new RegExp(iB.source,"g");function _oe(t){return function(){return t}}function Ioe(t){return function(e){return t(e)+""}}function Soe(t,e){var r=iB.lastIndex=yw.lastIndex=0,n,i,s,a=-1,o=[],A=[];for(t=t+"",e=e+"";(n=iB.exec(t))&&(i=yw.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,A.push({i:a,x:_p(n,i)})),r=yw.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?A[0]?Ioe(A[0].x):_oe(e):(e=A.length,function(l){for(var u=0,d;u<e;++u)o[(d=A[u]).i]=d.x(l);return o.join("")})}function Qu(t,e){var r=typeof e,n;return e==null||r==="boolean"?c1(e):(r==="number"?_p:r==="string"?(n=of(e))?(e=n,DU):Soe:e instanceof of?DU:e instanceof Date?Coe:boe(e)?xoe:Array.isArray(e)?Boe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Eoe:_p)(t,e)}function d1(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Toe(t,e){e===void 0&&(e=t,t=Qu);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function Foe(t){return function(){return t}}function Ip(t){return+t}var jU=[0,1];function $r(t){return t}function sB(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Foe(isNaN(e)?NaN:.5)}function Uoe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Poe(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=sB(i,n),s=r(a,s)):(n=sB(n,i),s=r(s,a)),function(o){return s(n(o))}}function Noe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=sB(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var A=kf(t,o,1,n)-1;return s[A](i[A](o))}}function Df(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Bv(){var t=jU,e=jU,r=Qu,n,i,s,a=$r,o,A,l;function u(){var f=Math.min(t.length,e.length);return a!==$r&&(a=Uoe(t[0],t[f-1])),o=f>2?Noe:Poe,A=l=null,d}function d(f){return f==null||isNaN(f=+f)?s:(A||(A=o(t.map(n),e,r)))(n(a(f)))}return d.invert=function(f){return a(i((l||(l=o(e,t.map(n),_p)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,Ip),u()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),r=d1,u()},d.clamp=function(f){return arguments.length?(a=f?!0:$r,u()):a!==$r},d.interpolate=function(f){return arguments.length?(r=f,u()):r},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,g){return n=f,i=g,u()}}function f1(){return Bv()($r,$r)}function Qoe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Sp(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function mu(t){return t=Sp(Math.abs(t)),t?t[1]:NaN}function koe(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],A=0;i>0&&o>0&&(A+o+1>n&&(o=Math.max(1,n-A)),s.push(r.substring(i-=o,i+o)),!((A+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Ooe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Doe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Af(t){if(!(e=Doe.exec(t)))throw new Error("invalid format: "+t);var e;return new h1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Af.prototype=h1.prototype;function h1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}h1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function joe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var gL;function Roe(t,e){var r=Sp(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(gL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Sp(t,Math.max(0,e+s-1))[0]}function RU(t,e){var r=Sp(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const MU={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Qoe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>RU(t*100,e),r:RU,s:Roe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function LU(t){return t}var HU=Array.prototype.map,VU=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Moe(t){var e=t.grouping===void 0||t.thousands===void 0?LU:koe(HU.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?LU:Ooe(HU.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",A=t.nan===void 0?"NaN":t.nan+"";function l(d){d=Af(d);var f=d.fill,g=d.align,m=d.sign,p=d.symbol,v=d.zero,y=d.width,w=d.comma,B=d.precision,I=d.trim,T=d.type;T==="n"?(w=!0,T="g"):MU[T]||(B===void 0&&(B=12),I=!0,T="g"),(v||f==="0"&&g==="=")&&(v=!0,f="0",g="=");var F=p==="$"?r:p==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",C=p==="$"?n:/[%p]/.test(T)?a:"",_=MU[T],S=/[defgprs%]/.test(T);B=B===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function P(Q){var k=F,N=C,ae,be,pe;if(T==="c")N=_(Q)+N,Q="";else{Q=+Q;var we=Q<0||1/Q<0;if(Q=isNaN(Q)?A:_(Math.abs(Q),B),I&&(Q=joe(Q)),we&&+Q==0&&m!=="+"&&(we=!1),k=(we?m==="("?m:o:m==="-"||m==="("?"":m)+k,N=(T==="s"?VU[8+gL/3]:"")+N+(we&&m==="("?")":""),S){for(ae=-1,be=Q.length;++ae<be;)if(pe=Q.charCodeAt(ae),48>pe||pe>57){N=(pe===46?i+Q.slice(ae+1):Q.slice(ae))+N,Q=Q.slice(0,ae);break}}}w&&!v&&(Q=e(Q,1/0));var X=k.length+Q.length+N.length,ne=X<y?new Array(y-X+1).join(f):"";switch(w&&v&&(Q=e(ne+Q,ne.length?y-N.length:1/0),ne=""),g){case"<":Q=k+Q+N+ne;break;case"=":Q=k+ne+Q+N;break;case"^":Q=ne.slice(0,X=ne.length>>1)+k+Q+N+ne.slice(X);break;default:Q=ne+k+Q+N;break}return s(Q)}return P.toString=function(){return d+""},P}function u(d,f){var g=l((d=Af(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(mu(f)/3)))*3,p=Math.pow(10,-m),v=VU[8+m/3];return function(y){return g(p*y)+v}}return{format:l,formatPrefix:u}}var pg,g1,mL;Loe({thousands:",",grouping:[3],currency:["$",""]});function Loe(t){return pg=Moe(t),g1=pg.format,mL=pg.formatPrefix,pg}function Hoe(t){return Math.max(0,-mu(Math.abs(t)))}function Voe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mu(e)/3)))*3-mu(Math.abs(t)))}function Koe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,mu(e)-mu(t))+1}function pL(t,e,r,n){var i=tB(t,e,r),s;switch(n=Af(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Voe(i,a))&&(n.precision=s),mL(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Koe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Hoe(i))&&(n.precision=s-(n.type==="%")*2);break}}return g1(n)}function go(t){var e=t.domain;return t.ticks=function(r){var n=e();return Zb(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return pL(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],A,l,u=10;for(o<a&&(l=a,a=o,o=l,l=i,i=s,s=l);u-- >0;){if(l=eB(a,o,r),l===A)return n[i]=a,n[s]=o,e(n);if(l>0)a=Math.floor(a/l)*l,o=Math.ceil(o/l)*l;else if(l<0)a=Math.ceil(a*l)/l,o=Math.floor(o*l)/l;else break;A=l}return t},t}function vL(){var t=f1();return t.copy=function(){return Df(t,vL())},oi.apply(t,arguments),go(t)}function yL(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Ip),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return yL(t).unknown(e)},t=arguments.length?Array.from(t,Ip):[0,1],go(r)}function wL(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function KU(t){return Math.log(t)}function $U(t){return Math.exp(t)}function $oe(t){return-Math.log(-t)}function Goe(t){return-Math.exp(-t)}function Woe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zoe(t){return t===10?Woe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Yoe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function GU(t){return(e,r)=>-t(-e,r)}function m1(t){const e=t(KU,$U),r=e.domain;let n=10,i,s;function a(){return i=Yoe(n),s=zoe(n),r()[0]<0?(i=GU(i),s=GU(s),t($oe,Goe)):t(KU,$U),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const A=r();let l=A[0],u=A[A.length-1];const d=u<l;d&&([l,u]=[u,l]);let f=i(l),g=i(u),m,p;const v=o==null?10:+o;let y=[];if(!(n%1)&&g-f<v){if(f=Math.floor(f),g=Math.ceil(g),l>0){for(;f<=g;++f)for(m=1;m<n;++m)if(p=f<0?m/s(-f):m*s(f),!(p<l)){if(p>u)break;y.push(p)}}else for(;f<=g;++f)for(m=n-1;m>=1;--m)if(p=f>0?m/s(-f):m*s(f),!(p<l)){if(p>u)break;y.push(p)}y.length*2<v&&(y=Zb(l,u,v))}else y=Zb(f,g,Math.min(g-f,v)).map(s);return d?y.reverse():y},e.tickFormat=(o,A)=>{if(o==null&&(o=10),A==null&&(A=n===10?"s":","),typeof A!="function"&&(!(n%1)&&(A=Af(A)).precision==null&&(A.trim=!0),A=g1(A)),o===1/0)return A;const l=Math.max(1,n*o/e.ticks().length);return u=>{let d=u/s(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=l?A(u):""}},e.nice=()=>r(wL(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function xL(){const t=m1(Bv()).domain([1,10]);return t.copy=()=>Df(t,xL()).base(t.base()),oi.apply(t,arguments),t}function WU(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function zU(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function p1(t){var e=1,r=t(WU(e),zU(e));return r.constant=function(n){return arguments.length?t(WU(e=+n),zU(e)):e},go(r)}function bL(){var t=p1(Bv());return t.copy=function(){return Df(t,bL()).constant(t.constant())},oi.apply(t,arguments)}function YU(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Xoe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function qoe(t){return t<0?-t*t:t*t}function v1(t){var e=t($r,$r),r=1;function n(){return r===1?t($r,$r):r===.5?t(Xoe,qoe):t(YU(r),YU(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},go(e)}function y1(){var t=v1(Bv());return t.copy=function(){return Df(t,y1()).exponent(t.exponent())},oi.apply(t,arguments),t}function Joe(){return y1.apply(null,arguments).exponent(.5)}function XU(t){return Math.sign(t)*t*t}function Zoe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function BL(){var t=f1(),e=[0,1],r=!1,n;function i(s){var a=Zoe(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(XU(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Ip)).map(XU)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return BL(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},oi.apply(i,arguments),go(i)}function CL(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=noe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[kf(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(La),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return CL().domain(t).range(e).unknown(n)},oi.apply(s,arguments)}function EL(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(A){return A!=null&&A<=A?i[kf(n,A,0,r)]:s}function o(){var A=-1;for(n=new Array(r);++A<r;)n[A]=((A+1)*e-(A-r)*t)/(r+1);return a}return a.domain=function(A){return arguments.length?([t,e]=A,t=+t,e=+e,o()):[t,e]},a.range=function(A){return arguments.length?(r=(i=Array.from(A)).length-1,o()):i.slice()},a.invertExtent=function(A){var l=i.indexOf(A);return l<0?[NaN,NaN]:l<1?[t,n[0]]:l>=r?[n[r-1],e]:[n[l-1],n[l]]},a.unknown=function(A){return arguments.length&&(s=A),a},a.thresholds=function(){return n.slice()},a.copy=function(){return EL().domain([t,e]).range(i).unknown(s)},oi.apply(go(a),arguments)}function _L(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[kf(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return _L().domain(t).range(e).unknown(r)},oi.apply(i,arguments)}const ww=new Date,xw=new Date;function tr(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const A=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return A;let l;do A.push(l=new Date(+s)),e(s,o),t(s);while(l<s&&s<a);return A},i.filter=s=>tr(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(ww.setTime(+s),xw.setTime(+a),t(ww),t(xw),Math.floor(r(ww,xw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Tp=tr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Tp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?tr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Tp);Tp.range;const hs=1e3,Jn=hs*60,gs=Jn*60,Fs=gs*24,w1=Fs*7,qU=Fs*30,bw=Fs*365,Yo=tr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*hs)},(t,e)=>(e-t)/hs,t=>t.getUTCSeconds());Yo.range;const x1=tr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*hs)},(t,e)=>{t.setTime(+t+e*Jn)},(t,e)=>(e-t)/Jn,t=>t.getMinutes());x1.range;const b1=tr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Jn)},(t,e)=>(e-t)/Jn,t=>t.getUTCMinutes());b1.range;const B1=tr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*hs-t.getMinutes()*Jn)},(t,e)=>{t.setTime(+t+e*gs)},(t,e)=>(e-t)/gs,t=>t.getHours());B1.range;const C1=tr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*gs)},(t,e)=>(e-t)/gs,t=>t.getUTCHours());C1.range;const jf=tr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Jn)/Fs,t=>t.getDate()-1);jf.range;const Cv=tr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fs,t=>t.getUTCDate()-1);Cv.range;const IL=tr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fs,t=>Math.floor(t/Fs));IL.range;function kA(t){return tr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Jn)/w1)}const Ev=kA(0),Fp=kA(1),eAe=kA(2),tAe=kA(3),pu=kA(4),rAe=kA(5),nAe=kA(6);Ev.range;Fp.range;eAe.range;tAe.range;pu.range;rAe.range;nAe.range;function OA(t){return tr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/w1)}const _v=OA(0),Up=OA(1),iAe=OA(2),sAe=OA(3),vu=OA(4),aAe=OA(5),oAe=OA(6);_v.range;Up.range;iAe.range;sAe.range;vu.range;aAe.range;oAe.range;const E1=tr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());E1.range;const _1=tr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_1.range;const Us=tr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Us.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Us.range;const Ps=tr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ps.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ps.range;function SL(t,e,r,n,i,s){const a=[[Yo,1,hs],[Yo,5,5*hs],[Yo,15,15*hs],[Yo,30,30*hs],[s,1,Jn],[s,5,5*Jn],[s,15,15*Jn],[s,30,30*Jn],[i,1,gs],[i,3,3*gs],[i,6,6*gs],[i,12,12*gs],[n,1,Fs],[n,2,2*Fs],[r,1,w1],[e,1,qU],[e,3,3*qU],[t,1,bw]];function o(l,u,d){const f=u<l;f&&([l,u]=[u,l]);const g=d&&typeof d.range=="function"?d:A(l,u,d),m=g?g.range(l,+u+1):[];return f?m.reverse():m}function A(l,u,d){const f=Math.abs(u-l)/d,g=o1(([,,v])=>v).right(a,f);if(g===a.length)return t.every(tB(l/bw,u/bw,d));if(g===0)return Tp.every(Math.max(tB(l,u,d),1));const[m,p]=a[f/a[g-1][2]<a[g][2]/f?g-1:g];return m.every(p)}return[o,A]}const[AAe,lAe]=SL(Ps,_1,_v,IL,C1,b1),[uAe,cAe]=SL(Us,E1,Ev,jf,B1,x1);function Bw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Cw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function dAe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,A=t.shortMonths,l=Cc(i),u=Ec(i),d=Cc(s),f=Ec(s),g=Cc(a),m=Ec(a),p=Cc(o),v=Ec(o),y=Cc(A),w=Ec(A),B={a:we,A:X,b:ne,B:ce,c:null,d:nP,e:nP,f:kAe,g:$Ae,G:WAe,H:PAe,I:NAe,j:QAe,L:TL,m:OAe,M:DAe,p:Fe,q:te,Q:aP,s:oP,S:jAe,u:RAe,U:MAe,V:LAe,w:HAe,W:VAe,x:null,X:null,y:KAe,Y:GAe,Z:zAe,"%":sP},I={a:ke,A:Xe,b:Oe,B:O,c:null,d:iP,e:iP,f:JAe,g:Ale,G:ule,H:YAe,I:XAe,j:qAe,L:UL,m:ZAe,M:ele,p:j,q:R,Q:aP,s:oP,S:tle,u:rle,U:nle,V:ile,w:sle,W:ale,x:null,X:null,y:ole,Y:lle,Z:cle,"%":sP},T={a:P,A:Q,b:k,B:N,c:ae,d:tP,e:tP,f:SAe,g:eP,G:ZU,H:rP,I:rP,j:CAe,L:IAe,m:BAe,M:EAe,p:S,q:bAe,Q:FAe,s:UAe,S:_Ae,u:pAe,U:vAe,V:yAe,w:mAe,W:wAe,x:be,X:pe,y:eP,Y:ZU,Z:xAe,"%":TAe};B.x=F(r,B),B.X=F(n,B),B.c=F(e,B),I.x=F(r,I),I.X=F(n,I),I.c=F(e,I);function F(K,$){return function(z){var L=[],oe=-1,ie=0,Ie=K.length,Ne,Be,At;for(z instanceof Date||(z=new Date(+z));++oe<Ie;)K.charCodeAt(oe)===37&&(L.push(K.slice(ie,oe)),(Be=JU[Ne=K.charAt(++oe)])!=null?Ne=K.charAt(++oe):Be=Ne==="e"?" ":"0",(At=$[Ne])&&(Ne=At(z,Be)),L.push(Ne),ie=oe+1);return L.push(K.slice(ie,oe)),L.join("")}}function C(K,$){return function(z){var L=Bc(1900,void 0,1),oe=_(L,K,z+="",0),ie,Ie;if(oe!=z.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if($&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(ie=Cw(Bc(L.y,0,1)),Ie=ie.getUTCDay(),ie=Ie>4||Ie===0?Up.ceil(ie):Up(ie),ie=Cv.offset(ie,(L.V-1)*7),L.y=ie.getUTCFullYear(),L.m=ie.getUTCMonth(),L.d=ie.getUTCDate()+(L.w+6)%7):(ie=Bw(Bc(L.y,0,1)),Ie=ie.getDay(),ie=Ie>4||Ie===0?Fp.ceil(ie):Fp(ie),ie=jf.offset(ie,(L.V-1)*7),L.y=ie.getFullYear(),L.m=ie.getMonth(),L.d=ie.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),Ie="Z"in L?Cw(Bc(L.y,0,1)).getUTCDay():Bw(Bc(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(Ie+5)%7:L.w+L.U*7-(Ie+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,Cw(L)):Bw(L)}}function _(K,$,z,L){for(var oe=0,ie=$.length,Ie=z.length,Ne,Be;oe<ie;){if(L>=Ie)return-1;if(Ne=$.charCodeAt(oe++),Ne===37){if(Ne=$.charAt(oe++),Be=T[Ne in JU?$.charAt(oe++):Ne],!Be||(L=Be(K,z,L))<0)return-1}else if(Ne!=z.charCodeAt(L++))return-1}return L}function S(K,$,z){var L=l.exec($.slice(z));return L?(K.p=u.get(L[0].toLowerCase()),z+L[0].length):-1}function P(K,$,z){var L=g.exec($.slice(z));return L?(K.w=m.get(L[0].toLowerCase()),z+L[0].length):-1}function Q(K,$,z){var L=d.exec($.slice(z));return L?(K.w=f.get(L[0].toLowerCase()),z+L[0].length):-1}function k(K,$,z){var L=y.exec($.slice(z));return L?(K.m=w.get(L[0].toLowerCase()),z+L[0].length):-1}function N(K,$,z){var L=p.exec($.slice(z));return L?(K.m=v.get(L[0].toLowerCase()),z+L[0].length):-1}function ae(K,$,z){return _(K,e,$,z)}function be(K,$,z){return _(K,r,$,z)}function pe(K,$,z){return _(K,n,$,z)}function we(K){return a[K.getDay()]}function X(K){return s[K.getDay()]}function ne(K){return A[K.getMonth()]}function ce(K){return o[K.getMonth()]}function Fe(K){return i[+(K.getHours()>=12)]}function te(K){return 1+~~(K.getMonth()/3)}function ke(K){return a[K.getUTCDay()]}function Xe(K){return s[K.getUTCDay()]}function Oe(K){return A[K.getUTCMonth()]}function O(K){return o[K.getUTCMonth()]}function j(K){return i[+(K.getUTCHours()>=12)]}function R(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var $=F(K+="",B);return $.toString=function(){return K},$},parse:function(K){var $=C(K+="",!1);return $.toString=function(){return K},$},utcFormat:function(K){var $=F(K+="",I);return $.toString=function(){return K},$},utcParse:function(K){var $=C(K+="",!0);return $.toString=function(){return K},$}}}var JU={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,fAe=/^%/,hAe=/[\\^$*+?|[\]().{}]/g;function ze(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function gAe(t){return t.replace(hAe,"\\$&")}function Cc(t){return new RegExp("^(?:"+t.map(gAe).join("|")+")","i")}function Ec(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function mAe(t,e,r){var n=dr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function pAe(t,e,r){var n=dr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function vAe(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function yAe(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function wAe(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function ZU(t,e,r){var n=dr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function eP(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function xAe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function bAe(t,e,r){var n=dr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function BAe(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function tP(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function CAe(t,e,r){var n=dr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function rP(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function EAe(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function _Ae(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function IAe(t,e,r){var n=dr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function SAe(t,e,r){var n=dr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function TAe(t,e,r){var n=fAe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function FAe(t,e,r){var n=dr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function UAe(t,e,r){var n=dr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function nP(t,e){return ze(t.getDate(),e,2)}function PAe(t,e){return ze(t.getHours(),e,2)}function NAe(t,e){return ze(t.getHours()%12||12,e,2)}function QAe(t,e){return ze(1+jf.count(Us(t),t),e,3)}function TL(t,e){return ze(t.getMilliseconds(),e,3)}function kAe(t,e){return TL(t,e)+"000"}function OAe(t,e){return ze(t.getMonth()+1,e,2)}function DAe(t,e){return ze(t.getMinutes(),e,2)}function jAe(t,e){return ze(t.getSeconds(),e,2)}function RAe(t){var e=t.getDay();return e===0?7:e}function MAe(t,e){return ze(Ev.count(Us(t)-1,t),e,2)}function FL(t){var e=t.getDay();return e>=4||e===0?pu(t):pu.ceil(t)}function LAe(t,e){return t=FL(t),ze(pu.count(Us(t),t)+(Us(t).getDay()===4),e,2)}function HAe(t){return t.getDay()}function VAe(t,e){return ze(Fp.count(Us(t)-1,t),e,2)}function KAe(t,e){return ze(t.getFullYear()%100,e,2)}function $Ae(t,e){return t=FL(t),ze(t.getFullYear()%100,e,2)}function GAe(t,e){return ze(t.getFullYear()%1e4,e,4)}function WAe(t,e){var r=t.getDay();return t=r>=4||r===0?pu(t):pu.ceil(t),ze(t.getFullYear()%1e4,e,4)}function zAe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ze(e/60|0,"0",2)+ze(e%60,"0",2)}function iP(t,e){return ze(t.getUTCDate(),e,2)}function YAe(t,e){return ze(t.getUTCHours(),e,2)}function XAe(t,e){return ze(t.getUTCHours()%12||12,e,2)}function qAe(t,e){return ze(1+Cv.count(Ps(t),t),e,3)}function UL(t,e){return ze(t.getUTCMilliseconds(),e,3)}function JAe(t,e){return UL(t,e)+"000"}function ZAe(t,e){return ze(t.getUTCMonth()+1,e,2)}function ele(t,e){return ze(t.getUTCMinutes(),e,2)}function tle(t,e){return ze(t.getUTCSeconds(),e,2)}function rle(t){var e=t.getUTCDay();return e===0?7:e}function nle(t,e){return ze(_v.count(Ps(t)-1,t),e,2)}function PL(t){var e=t.getUTCDay();return e>=4||e===0?vu(t):vu.ceil(t)}function ile(t,e){return t=PL(t),ze(vu.count(Ps(t),t)+(Ps(t).getUTCDay()===4),e,2)}function sle(t){return t.getUTCDay()}function ale(t,e){return ze(Up.count(Ps(t)-1,t),e,2)}function ole(t,e){return ze(t.getUTCFullYear()%100,e,2)}function Ale(t,e){return t=PL(t),ze(t.getUTCFullYear()%100,e,2)}function lle(t,e){return ze(t.getUTCFullYear()%1e4,e,4)}function ule(t,e){var r=t.getUTCDay();return t=r>=4||r===0?vu(t):vu.ceil(t),ze(t.getUTCFullYear()%1e4,e,4)}function cle(){return"+0000"}function sP(){return"%"}function aP(t){return+t}function oP(t){return Math.floor(+t/1e3)}var il,NL,QL;dle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dle(t){return il=dAe(t),NL=il.format,il.parse,QL=il.utcFormat,il.utcParse,il}function fle(t){return new Date(t)}function hle(t){return t instanceof Date?+t:+new Date(+t)}function I1(t,e,r,n,i,s,a,o,A,l){var u=f1(),d=u.invert,f=u.domain,g=l(".%L"),m=l(":%S"),p=l("%I:%M"),v=l("%I %p"),y=l("%a %d"),w=l("%b %d"),B=l("%B"),I=l("%Y");function T(F){return(A(F)<F?g:o(F)<F?m:a(F)<F?p:s(F)<F?v:n(F)<F?i(F)<F?y:w:r(F)<F?B:I)(F)}return u.invert=function(F){return new Date(d(F))},u.domain=function(F){return arguments.length?f(Array.from(F,hle)):f().map(fle)},u.ticks=function(F){var C=f();return t(C[0],C[C.length-1],F??10)},u.tickFormat=function(F,C){return C==null?T:l(C)},u.nice=function(F){var C=f();return(!F||typeof F.range!="function")&&(F=e(C[0],C[C.length-1],F??10)),F?f(wL(C,F)):u},u.copy=function(){return Df(u,I1(t,e,r,n,i,s,a,o,A,l))},u}function gle(){return oi.apply(I1(uAe,cAe,Us,E1,Ev,jf,B1,x1,Yo,NL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mle(){return oi.apply(I1(AAe,lAe,Ps,_1,_v,Cv,C1,b1,Yo,QL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Iv(){var t=0,e=1,r,n,i,s,a=$r,o=!1,A;function l(d){return d==null||isNaN(d=+d)?A:a(i===0?.5:(d=(s(d)-r)*i,o?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([t,e]=d,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),l):[t,e]},l.clamp=function(d){return arguments.length?(o=!!d,l):o},l.interpolator=function(d){return arguments.length?(a=d,l):a};function u(d){return function(f){var g,m;return arguments.length?([g,m]=f,a=d(g,m),l):[a(0),a(1)]}}return l.range=u(Qu),l.rangeRound=u(d1),l.unknown=function(d){return arguments.length?(A=d,l):A},function(d){return s=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),l}}function mo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function kL(){var t=go(Iv()($r));return t.copy=function(){return mo(t,kL())},Ms.apply(t,arguments)}function OL(){var t=m1(Iv()).domain([1,10]);return t.copy=function(){return mo(t,OL()).base(t.base())},Ms.apply(t,arguments)}function DL(){var t=p1(Iv());return t.copy=function(){return mo(t,DL()).constant(t.constant())},Ms.apply(t,arguments)}function S1(){var t=v1(Iv());return t.copy=function(){return mo(t,S1()).exponent(t.exponent())},Ms.apply(t,arguments)}function ple(){return S1.apply(null,arguments).exponent(.5)}function jL(){var t=[],e=$r;function r(n){if(n!=null&&!isNaN(n=+n))return e((kf(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(La),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>roe(t,s/n))},r.copy=function(){return jL(e).domain(t)},Ms.apply(r,arguments)}function Sv(){var t=0,e=.5,r=1,n=1,i,s,a,o,A,l=$r,u,d=!1,f;function g(p){return isNaN(p=+p)?f:(p=.5+((p=+u(p))-s)*(n*p<n*s?o:A),l(d?Math.max(0,Math.min(1,p)):p))}g.domain=function(p){return arguments.length?([t,e,r]=p,i=u(t=+t),s=u(e=+e),a=u(r=+r),o=i===s?0:.5/(s-i),A=s===a?0:.5/(a-s),n=s<i?-1:1,g):[t,e,r]},g.clamp=function(p){return arguments.length?(d=!!p,g):d},g.interpolator=function(p){return arguments.length?(l=p,g):l};function m(p){return function(v){var y,w,B;return arguments.length?([y,w,B]=v,l=Toe(p,[y,w,B]),g):[l(0),l(.5),l(1)]}}return g.range=m(Qu),g.rangeRound=m(d1),g.unknown=function(p){return arguments.length?(f=p,g):f},function(p){return u=p,i=p(t),s=p(e),a=p(r),o=i===s?0:.5/(s-i),A=s===a?0:.5/(a-s),n=s<i?-1:1,g}}function RL(){var t=go(Sv()($r));return t.copy=function(){return mo(t,RL())},Ms.apply(t,arguments)}function ML(){var t=m1(Sv()).domain([.1,1,10]);return t.copy=function(){return mo(t,ML()).base(t.base())},Ms.apply(t,arguments)}function LL(){var t=p1(Sv());return t.copy=function(){return mo(t,LL()).constant(t.constant())},Ms.apply(t,arguments)}function T1(){var t=v1(Sv());return t.copy=function(){return mo(t,T1()).exponent(t.exponent())},Ms.apply(t,arguments)}function vle(){return T1.apply(null,arguments).exponent(.5)}const $c=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:l1,scaleDiverging:RL,scaleDivergingLog:ML,scaleDivergingPow:T1,scaleDivergingSqrt:vle,scaleDivergingSymlog:LL,scaleIdentity:yL,scaleImplicit:rB,scaleLinear:vL,scaleLog:xL,scaleOrdinal:A1,scalePoint:soe,scalePow:y1,scaleQuantile:CL,scaleQuantize:EL,scaleRadial:BL,scaleSequential:kL,scaleSequentialLog:OL,scaleSequentialPow:S1,scaleSequentialQuantile:jL,scaleSequentialSqrt:ple,scaleSequentialSymlog:DL,scaleSqrt:Joe,scaleSymlog:bL,scaleThreshold:_L,scaleTime:gle,scaleUtc:mle,tickFormat:pL},Symbol.toStringTag,{value:"Module"}));var po=t=>t.chartData,F1=G([po],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Tv=(t,e,r,n)=>n?F1(t):po(t);function yu(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(Fn(e)&&Fn(r))return!0}return!1}function AP(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function yle(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,s;if(Fn(r))i=r;else if(typeof r=="function")return;if(Fn(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(yu(a))return a}}function wle(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(yu(n))return AP(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(fe(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&iU.test(i)){var A=iU.exec(i);if(A==null||e==null)a=void 0;else{var l=+A[1];a=e[0]-l}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(fe(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&sU.test(s)){var u=sU.exec(s);if(u==null||e==null)o=void 0;else{var d=+u[1];o=e[1]+d}}else o=e==null?void 0:e[1];var f=[a,o];if(yu(f))return e==null?f:AP(f,e,r)}}}var ku=1e9,xle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},P1,Ct=!0,si="[DecimalError] ",aA=si+"Invalid argument: ",U1=si+"Exponent out of range: ",Ou=Math.floor,ko=Math.pow,ble=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yn,Ar=1e7,mt=7,HL=9007199254740991,Pp=Ou(HL/mt),me={};me.absoluteValue=me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};me.comparedTo=me.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};me.decimalPlaces=me.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*mt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};me.dividedBy=me.div=function(t){return ws(this,new this.constructor(t))};me.dividedToIntegerBy=me.idiv=function(t){var e=this,r=e.constructor;return at(ws(e,new r(t),0,1),r.precision)};me.equals=me.eq=function(t){return!this.cmp(t)};me.exponent=function(){return Wt(this)};me.greaterThan=me.gt=function(t){return this.cmp(t)>0};me.greaterThanOrEqualTo=me.gte=function(t){return this.cmp(t)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(t){return this.cmp(t)<0};me.lessThanOrEqualTo=me.lte=function(t){return this.cmp(t)<1};me.logarithm=me.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(yn))throw Error(si+"NaN");if(r.s<1)throw Error(si+(r.s?"NaN":"-Infinity"));return r.eq(yn)?new n(0):(Ct=!1,e=ws(lf(r,s),lf(t,s),s),Ct=!0,at(e,i))};me.minus=me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$L(e,t):VL(e,(t.s=-t.s,t))};me.modulo=me.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(si+"NaN");return r.s?(Ct=!1,e=ws(r,t,0,1).times(t),Ct=!0,r.minus(e)):at(new n(r),i)};me.naturalExponential=me.exp=function(){return KL(this)};me.naturalLogarithm=me.ln=function(){return lf(this)};me.negated=me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};me.plus=me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?VL(e,t):$L(e,(t.s=-t.s,t))};me.precision=me.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(aA+t);if(e=Wt(i)+1,n=i.d.length-1,r=n*mt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};me.squareRoot=me.sqrt=function(){var t,e,r,n,i,s,a,o=this,A=o.constructor;if(o.s<1){if(!o.s)return new A(0);throw Error(si+"NaN")}for(t=Wt(o),Ct=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Qi(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ou((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new A(e)):n=new A(i.toString()),r=A.precision,i=a=r+3;;)if(s=n,n=s.plus(ws(o,s,a+2)).times(.5),Qi(s.d).slice(0,a)===(e=Qi(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(at(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return Ct=!0,at(n,r)};me.times=me.mul=function(t){var e,r,n,i,s,a,o,A,l,u=this,d=u.constructor,f=u.d,g=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,r=u.e+t.e,A=f.length,l=g.length,A<l&&(s=f,f=g,g=s,a=A,A=l,l=a),s=[],a=A+l,n=a;n--;)s.push(0);for(n=l;--n>=0;){for(e=0,i=A+n;i>n;)o=s[i]+g[n]*f[i-n-1]+e,s[i--]=o%Ar|0,e=o/Ar|0;s[i]=(s[i]+e)%Ar|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Ct?at(t,d.precision):t};me.toDecimalPlaces=me.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Vi(t,0,ku),e===void 0?e=n.rounding:Vi(e,0,8),at(r,t+Wt(r)+1,e))};me.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=CA(n,!0):(Vi(t,0,ku),e===void 0?e=i.rounding:Vi(e,0,8),n=at(new i(n),t+1,e),r=CA(n,!0,t+1)),r};me.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?CA(i):(Vi(t,0,ku),e===void 0?e=s.rounding:Vi(e,0,8),n=at(new s(i),t+Wt(i)+1,e),r=CA(n.abs(),!1,t+Wt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};me.toInteger=me.toint=function(){var t=this,e=t.constructor;return at(new e(t),Wt(t)+1,e.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(t){var e,r,n,i,s,a,o=this,A=o.constructor,l=12,u=+(t=new A(t));if(!t.s)return new A(yn);if(o=new A(o),!o.s){if(t.s<1)throw Error(si+"Infinity");return o}if(o.eq(yn))return o;if(n=A.precision,t.eq(yn))return at(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=u<0?-u:u)<=HL){for(i=new A(yn),e=Math.ceil(n/mt+4),Ct=!1;r%2&&(i=i.times(o),uP(i.d,e)),r=Ou(r/2),r!==0;)o=o.times(o),uP(o.d,e);return Ct=!0,t.s<0?new A(yn).div(i):at(i,n)}}else if(s<0)throw Error(si+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Ct=!1,i=t.times(lf(o,n+l)),Ct=!0,i=KL(i),i.s=s,i};me.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=Wt(i),n=CA(i,r<=s.toExpNeg||r>=s.toExpPos)):(Vi(t,1,ku),e===void 0?e=s.rounding:Vi(e,0,8),i=at(new s(i),t,e),r=Wt(i),n=CA(i,t<=r||r<=s.toExpNeg,t)),n};me.toSignificantDigits=me.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Vi(t,1,ku),e===void 0?e=n.rounding:Vi(e,0,8)),at(new n(r),t,e)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Wt(t),r=t.constructor;return CA(t,e<=r.toExpNeg||e>=r.toExpPos)};function VL(t,e){var r,n,i,s,a,o,A,l,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Ct?at(e,d):e;if(A=t.d,l=e.d,a=t.e,i=e.e,A=A.slice(),s=a-i,s){for(s<0?(n=A,s=-s,o=l.length):(n=l,i=a,o=A.length),a=Math.ceil(d/mt),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=A.length,s=l.length,o-s<0&&(s=o,n=l,l=A,A=n),r=0;s;)r=(A[--s]=A[s]+l[s]+r)/Ar|0,A[s]%=Ar;for(r&&(A.unshift(r),++i),o=A.length;A[--o]==0;)A.pop();return e.d=A,e.e=i,Ct?at(e,d):e}function Vi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(aA+t)}function Qi(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=mt-n.length,r&&(s+=Aa(r)),s+=n;a=t[e],n=a+"",r=mt-n.length,r&&(s+=Aa(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var ws=function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%Ar|0,a=s/Ar|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,A;if(s!=a)A=s>a?1:-1;else for(o=A=0;o<s;o++)if(n[o]!=i[o]){A=n[o]>i[o]?1:-1;break}return A}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*Ar+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,A,l,u,d,f,g,m,p,v,y,w,B,I,T,F,C,_,S=n.constructor,P=n.s==i.s?1:-1,Q=n.d,k=i.d;if(!n.s)return new S(n);if(!i.s)throw Error(si+"Division by zero");for(A=n.e-i.e,C=k.length,T=Q.length,g=new S(P),m=g.d=[],l=0;k[l]==(Q[l]||0);)++l;if(k[l]>(Q[l]||0)&&--A,s==null?w=s=S.precision:a?w=s+(Wt(n)-Wt(i))+1:w=s,w<0)return new S(0);if(w=w/mt+2|0,l=0,C==1)for(u=0,k=k[0],w++;(l<T||u)&&w--;l++)B=u*Ar+(Q[l]||0),m[l]=B/k|0,u=B%k|0;else{for(u=Ar/(k[0]+1)|0,u>1&&(k=t(k,u),Q=t(Q,u),C=k.length,T=Q.length),I=C,p=Q.slice(0,C),v=p.length;v<C;)p[v++]=0;_=k.slice(),_.unshift(0),F=k[0],k[1]>=Ar/2&&++F;do u=0,o=e(k,p,C,v),o<0?(y=p[0],C!=v&&(y=y*Ar+(p[1]||0)),u=y/F|0,u>1?(u>=Ar&&(u=Ar-1),d=t(k,u),f=d.length,v=p.length,o=e(d,p,f,v),o==1&&(u--,r(d,C<f?_:k,f))):(u==0&&(o=u=1),d=k.slice()),f=d.length,f<v&&d.unshift(0),r(p,d,v),o==-1&&(v=p.length,o=e(k,p,C,v),o<1&&(u++,r(p,C<v?_:k,v))),v=p.length):o===0&&(u++,p=[0]),m[l++]=u,o&&p[0]?p[v++]=Q[I]||0:(p=[Q[I]],v=1);while((I++<T||p[0]!==void 0)&&w--)}return m[0]||m.shift(),g.e=A,at(g,a?s+Wt(g)+1:s)}}();function KL(t,e){var r,n,i,s,a,o,A=0,l=0,u=t.constructor,d=u.precision;if(Wt(t)>16)throw Error(U1+Wt(t));if(!t.s)return new u(yn);for(e==null?(Ct=!1,o=d):o=e,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),l+=5;for(n=Math.log(ko(2,l))/Math.LN10*2+5|0,o+=n,r=i=s=new u(yn),u.precision=o;;){if(i=at(i.times(t),o),r=r.times(++A),a=s.plus(ws(i,r,o)),Qi(a.d).slice(0,o)===Qi(s.d).slice(0,o)){for(;l--;)s=at(s.times(s),o);return u.precision=d,e==null?(Ct=!0,at(s,d)):s}s=a}}function Wt(t){for(var e=t.e*mt,r=t.d[0];r>=10;r/=10)e++;return e}function Ew(t,e,r){if(e>t.LN10.sd())throw Ct=!0,r&&(t.precision=r),Error(si+"LN10 precision limit exceeded");return at(new t(t.LN10),e)}function Aa(t){for(var e="";t--;)e+="0";return e}function lf(t,e){var r,n,i,s,a,o,A,l,u,d=1,f=10,g=t,m=g.d,p=g.constructor,v=p.precision;if(g.s<1)throw Error(si+(g.s?"NaN":"-Infinity"));if(g.eq(yn))return new p(0);if(e==null?(Ct=!1,l=v):l=e,g.eq(10))return e==null&&(Ct=!0),Ew(p,l);if(l+=f,p.precision=l,r=Qi(m),n=r.charAt(0),s=Wt(g),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=Qi(g.d),n=r.charAt(0),d++;s=Wt(g),n>1?(g=new p("0."+r),s++):g=new p(n+"."+r.slice(1))}else return A=Ew(p,l+2,v).times(s+""),g=lf(new p(n+"."+r.slice(1)),l-f).plus(A),p.precision=v,e==null?(Ct=!0,at(g,v)):g;for(o=a=g=ws(g.minus(yn),g.plus(yn),l),u=at(g.times(g),l),i=3;;){if(a=at(a.times(u),l),A=o.plus(ws(a,new p(i),l)),Qi(A.d).slice(0,l)===Qi(o.d).slice(0,l))return o=o.times(2),s!==0&&(o=o.plus(Ew(p,l+2,v).times(s+""))),o=ws(o,new p(d),l),p.precision=v,e==null?(Ct=!0,at(o,v)):o;o=A,i+=2}}function lP(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Ou(r/mt),t.d=[],n=(r+1)%mt,r<0&&(n+=mt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=mt;n<i;)t.d.push(+e.slice(n,n+=mt));e=e.slice(n),n=mt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ct&&(t.e>Pp||t.e<-Pp))throw Error(U1+r)}else t.s=0,t.e=0,t.d=[0];return t}function at(t,e,r){var n,i,s,a,o,A,l,u,d=t.d;for(a=1,s=d[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=mt,i=e,l=d[u=0];else{if(u=Math.ceil((n+1)/mt),s=d.length,u>=s)return t;for(l=s=d[u],a=1;s>=10;s/=10)a++;n%=mt,i=n-mt+a}if(r!==void 0&&(s=ko(10,a-i-1),o=l/s%10|0,A=e<0||d[u+1]!==void 0||l%s,A=r<4?(o||A)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||A||r==6&&(n>0?i>0?l/ko(10,a-i):0:d[u-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return A?(s=Wt(t),d.length=1,e=e-s-1,d[0]=ko(10,(mt-e%mt)%mt),t.e=Ou(-e/mt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=u,s=1,u--):(d.length=u+1,s=ko(10,mt-n),d[u]=i>0?(l/ko(10,a-i)%ko(10,i)|0)*s:0),A)for(;;)if(u==0){(d[0]+=s)==Ar&&(d[0]=1,++t.e);break}else{if(d[u]+=s,d[u]!=Ar)break;d[u--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(Ct&&(t.e>Pp||t.e<-Pp))throw Error(U1+Wt(t));return t}function $L(t,e){var r,n,i,s,a,o,A,l,u,d,f=t.constructor,g=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Ct?at(e,g):e;if(A=t.d,d=e.d,n=e.e,l=t.e,A=A.slice(),a=l-n,a){for(u=a<0,u?(r=A,a=-a,o=d.length):(r=d,n=l,o=A.length),i=Math.max(Math.ceil(g/mt),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=A.length,o=d.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(A[i]!=d[i]){u=A[i]<d[i];break}a=0}for(u&&(r=A,A=d,d=r,e.s=-e.s),o=A.length,i=d.length-o;i>0;--i)A[o++]=0;for(i=d.length;i>a;){if(A[--i]<d[i]){for(s=i;s&&A[--s]===0;)A[s]=Ar-1;--A[s],A[i]+=Ar}A[i]-=d[i]}for(;A[--o]===0;)A.pop();for(;A[0]===0;A.shift())--n;return A[0]?(e.d=A,e.e=n,Ct?at(e,g):e):new f(0)}function CA(t,e,r){var n,i=Wt(t),s=Qi(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+Aa(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Aa(-i-1)+s,r&&(n=r-a)>0&&(s+=Aa(n))):i>=a?(s+=Aa(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+Aa(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=Aa(n))),t.s<0?"-"+s:s}function uP(t,e){if(t.length>e)return t.length=e,!0}function GL(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(aA+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return lP(a,s.toString())}else if(typeof s!="string")throw Error(aA+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,ble.test(s))lP(a,s);else throw Error(aA+s)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=GL,i.config=i.set=Ble,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Ble(t){if(!t||typeof t!="object")throw Error(si+"Object expected");var e,r,n,i=["precision",1,ku,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Ou(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(aA+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(aA+r+": "+n);return this}var P1=GL(xle);yn=new P1(1);const qe=P1;var Cle=t=>t,WL={"@@functional/placeholder":!0},zL=t=>t===WL,cP=t=>function e(){return arguments.length===0||arguments.length===1&&zL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},YL=(t,e)=>t===1?e:cP(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==WL).length;return s>=t?e(...n):YL(t-s,cP(function(){for(var a=arguments.length,o=new Array(a),A=0;A<a;A++)o[A]=arguments[A];var l=n.map(u=>zL(u)?o.shift():u);return e(...l,...o)}))}),Fv=t=>YL(t.length,t),aB=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},Ele=Fv((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),_le=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Cle;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,A)=>A(o),s(...arguments))}},oB=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),XL=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e&&i.every((a,o)=>{var A;return a===((A=e)===null||A===void 0?void 0:A[o])})||(e=i,r=t(...i)),r}};function qL(t){var e;return t===0?e=1:e=Math.floor(new qe(t).abs().log(10).toNumber())+1,e}function JL(t,e,r){for(var n=new qe(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}Fv((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});Fv((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});Fv((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var ZL=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},e5=(t,e,r)=>{if(t.lte(0))return new qe(0);var n=qL(t.toNumber()),i=new qe(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new qe(Math.ceil(s.div(a).toNumber())).add(r).mul(a),A=o.mul(i);return e?new qe(A.toNumber()):new qe(Math.ceil(A.toNumber()))},Ile=(t,e,r)=>{var n=new qe(1),i=new qe(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new qe(10).pow(qL(t)-1),i=new qe(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new qe(Math.floor(t)))}else t===0?i=new qe(Math.floor((e-1)/2)):r||(i=new qe(Math.floor(t)));var a=Math.floor((e-1)/2),o=_le(Ele(A=>i.add(new qe(A-a).mul(n)).toNumber()),aB);return o(0,e)},t5=function(e,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new qe(0),tickMin:new qe(0),tickMax:new qe(0)};var a=e5(new qe(r).sub(e).div(n-1),i,s),o;e<=0&&r>=0?o=new qe(0):(o=new qe(e).add(r).div(2),o=o.sub(new qe(o).mod(a)));var A=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new qe(r).sub(o).div(a).toNumber()),u=A+l+1;return u>n?t5(e,r,n,i,s+1):(u<n&&(l=r>0?l+(n-u):l,A=r>0?A:A+(n-u)),{step:a,tickMin:o.sub(new qe(A).mul(a)),tickMax:o.add(new qe(l).mul(a))})};function Sle(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,o]=ZL([e,r]);if(a===-1/0||o===1/0){var A=o===1/0?[a,...aB(0,n-1).map(()=>1/0)]:[...aB(0,n-1).map(()=>-1/0),o];return e>r?oB(A):A}if(a===o)return Ile(a,n,i);var{step:l,tickMin:u,tickMax:d}=t5(a,o,s,i,0),f=JL(u,d.add(new qe(.1).mul(l)),l);return e>r?oB(f):f}function Tle(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=ZL([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var o=Math.max(e,2),A=e5(new qe(a).sub(s).div(o-1),i,0),l=[...JL(new qe(s),new qe(a),A),a];return i===!1&&(l=l.map(u=>Math.round(u))),r>n?oB(l):l}var Fle=XL(Sle),Ule=XL(Tle),r5=t=>t.rootProps.maxBarSize,Ple=t=>t.rootProps.barGap,n5=t=>t.rootProps.barCategoryGap,Nle=t=>t.rootProps.barSize,Rf=t=>t.rootProps.stackOffset,N1=t=>t.options.chartName,Q1=t=>t.rootProps.syncId,i5=t=>t.rootProps.syncMethod,k1=t=>t.options.eventEmitter,ss={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},pn={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Uv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Qle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ss.angleAxisId,includeHidden:!1,name:void 0,reversed:ss.reversed,scale:ss.scale,tick:ss.tick,tickCount:void 0,ticks:void 0,type:ss.type,unit:void 0},kle={allowDataOverflow:pn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pn.scale,tick:pn.tick,tickCount:pn.tickCount,ticks:void 0,type:pn.type,unit:void 0},Ole={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ss.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ss.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ss.scale,tick:ss.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Dle={allowDataOverflow:pn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pn.scale,tick:pn.tick,tickCount:pn.tickCount,ticks:void 0,type:"category",unit:void 0},O1=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Ole:Qle,D1=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Dle:kle,Pv=t=>t.polarOptions,j1=G([js,Rs,er],UM),s5=G([Pv,j1],(t,e)=>{if(t!=null)return Xr(t.innerRadius,e,0)}),a5=G([Pv,j1],(t,e)=>{if(t!=null)return Xr(t.outerRadius,e,e*.8)}),jle=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},o5=G([Pv],jle);G([O1,o5],Uv);var A5=G([j1,s5,a5],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});G([D1,A5],Uv);var l5=G([Ve,Pv,s5,a5,js,Rs],(t,e,r,n,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:a,cy:o,startAngle:A,endAngle:l}=e;return{cx:Xr(a,i,i/2),cy:Xr(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:A,endAngle:l,clockWise:!1}}}),It=(t,e)=>e,Mf=(t,e,r)=>r;function R1(t){return t==null?void 0:t.id}var rr=t=>{var e=Ve(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Du=t=>t.tooltip.settings.axisId,nr=t=>{var e=rr(t),r=Du(t);return Lf(t,e,r)};function u5(t,e,r){var{chartData:n=[]}=e,i=r==null?void 0:r.dataKey,s=new Map;return t.forEach(a=>{var o,A=(o=a.data)!==null&&o!==void 0?o:n;if(!(A==null||A.length===0)){var l=R1(a);A.forEach((u,d)=>{var f=i==null?d:String(st(u,i,null)),g=st(u,a.dataKey,0),m;s.has(f)?m=s.get(f):m={},Object.assign(m,{[l]:g}),s.set(f,m)})}}),Array.from(s.values())}function Nv(t){return t.stackId!=null&&t.dataKey!=null}function dP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Np(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(r),!0).forEach(function(n){Rle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rle(t,e,r){return(e=Mle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mle(t){var e=Lle(t,"string");return typeof e=="symbol"?e:e+""}function Lle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AB=[0,"auto"],hn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ls=(t,e)=>{var r=t.cartesianAxis.xAxis[e];return r??hn},gn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:AB,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:yv},vo=(t,e)=>{var r=t.cartesianAxis.yAxis[e];return r??gn},Hle={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},M1=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??Hle},Ht=(t,e,r)=>{switch(e){case"xAxis":return Ls(t,r);case"yAxis":return vo(t,r);case"zAxis":return M1(t,r);case"angleAxis":return O1(t,r);case"radiusAxis":return D1(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Vle=(t,e,r)=>{switch(e){case"xAxis":return Ls(t,r);case"yAxis":return vo(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Lf=(t,e,r)=>{switch(e){case"xAxis":return Ls(t,r);case"yAxis":return vo(t,r);case"angleAxis":return O1(t,r);case"radiusAxis":return D1(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},c5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function L1(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var Qv=t=>t.graphicalItems.cartesianItems,Kle=G([It,Mf],L1),H1=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),Hf=G([Qv,Ht,Kle],H1),d5=G([Hf],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Nv)),f5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),h5=G([Hf],f5),V1=t=>t.map(e=>e.data).filter(Boolean).flat(1),$le=G([Hf],V1),K1=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},$1=G([$le,Tv],K1),G1=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:st(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:st(i,n)}))):t.map(n=>({value:n})),kv=G([$1,Ht,Hf],G1);function g5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function DA(t){return t.filter(e=>Hi(e)||e instanceof Date).map(Number).filter(e=>In(e)===!1)}function Gle(t,e,r){return!r||typeof e!="number"||In(e)?[]:r.length?DA(r.flatMap(n=>{var i=st(t,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Fn(s)||!Fn(a)))return[e-s,e+a]})):[]}var Wle=G([d5,Tv,nr],u5),m5=(t,e,r)=>{var n={},i=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,o]=s,A=o.map(R1);return[a,{stackedData:ise(t,A,r),graphicalItems:o}]}))},lB=G([Wle,d5,Rf],m5),p5=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var s=lse(t,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},zle=G([lB,po,It],p5),v5=(t,e,r,n,i)=>r.length>0?t.flatMap(s=>r.flatMap(a=>{var o,A,l=(o=n[a.id])===null||o===void 0?void 0:o.filter(d=>g5(i,d)),u=st(s,(A=e.dataKey)!==null&&A!==void 0?A:a.dataKey);return{value:u,errorDomain:Gle(s,u,l)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(s=>({value:st(s,e.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]})),Ov=t=>t.errorBars,y5=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>g5(r,n));G([h5,Ov,It],y5);var Yle=G([$1,Ht,h5,Ov,It],v5);function Xle(t){var{value:e}=t;if(Hi(e)||e instanceof Date)return e}var fP=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=DA(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},qle=(t,e,r)=>{var n=t.map(Xle).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&uR(n))?oL(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},W1=t=>{var e;if(t==null||!("domain"in t))return AB;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=DA(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:AB},Qp=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},w5=t=>t.referenceElements.dots,ju=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),Jle=G([w5,It,Mf],ju),x5=t=>t.referenceElements.areas,Zle=G([x5,It,Mf],ju),b5=t=>t.referenceElements.lines,eue=G([b5,It,Mf],ju),B5=(t,e)=>{var r=DA(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},tue=G(Jle,It,B5),C5=(t,e)=>{var r=DA(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},rue=G([Zle,It],C5),E5=(t,e)=>{var r=DA(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},nue=G(eue,It,E5),iue=G(tue,nue,rue,(t,e,r)=>Qp(t,r,e)),_5=G([Ht],W1),z1=(t,e,r,n,i,s,a)=>{var o=yle(e,t.allowDataOverflow);if(o!=null)return o;var A=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",l=A?Qp(r,i,fP(n)):Qp(i,fP(n));return wle(e,l,t.allowDataOverflow)},sue=G([Ht,_5,zle,Yle,iue,Ve,It],z1),aue=[0,1],Y1=(t,e,r,n,i,s,a)=>{if(!((t==null||r==null||r.length===0)&&a===void 0)){var{dataKey:o,type:A}=t,l=ho(e,s);return l&&o==null?oL(0,r.length):A==="category"?qle(n,t,l):i==="expand"?aue:a}},X1=G([Ht,Ve,$1,kv,Rf,It,sue],Y1),I5=(t,e,r,n,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Uf(s));return o in $c?o:"point"}}},Ru=G([Ht,Ve,c5,N1,It],I5);function oue(t){if(t!=null){if(t in $c)return $c[t]();var e="scale".concat(Uf(t));if(e in $c)return $c[e]()}}function q1(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=oue(e);if(i!=null){var s=i.domain(r).range(n);return Zie(s),s}}}var J1=(t,e,r)=>{var n=W1(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&yu(t))return Fle(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&yu(t))return Ule(t,e.tickCount,e.allowDecimals)}},Z1=G([X1,Lf,Ru],J1),e_=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&yu(e)&&Array.isArray(r)&&r.length>0){var i=e[0],s=r[0],a=e[1],o=r[r.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},Aue=G([Ht,X1,Z1,It],e_),lue=G(kv,Ht,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(DA(t.map(o=>o.value))).sort((o,A)=>o-A);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),S5=G(lue,Ve,n5,er,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!Fn(t))return 0;var s=e==="vertical"?n.height:n.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=Xr(r,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),uue=(t,e)=>{var r=Ls(t,e);return r==null||typeof r.padding!="string"?0:S5(t,"xAxis",e,r.padding)},cue=(t,e)=>{var r=vo(t,e);return r==null||typeof r.padding!="string"?0:S5(t,"yAxis",e,r.padding)},due=G(Ls,uue,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),fue=G(vo,cue,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),hue=G([er,due,xv,wv,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),gue=G([er,Ve,fue,xv,wv,(t,e,r)=>r],(t,e,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Vf=(t,e,r,n)=>{var i;switch(e){case"xAxis":return hue(t,r,n);case"yAxis":return gue(t,r,n);case"zAxis":return(i=M1(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return o5(t);case"radiusAxis":return A5(t,r);default:return}},T5=G([Ht,Vf],Uv),Mu=G([Ht,Ru,Aue,T5],q1);G([Hf,Ov,It],y5);function F5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Dv=(t,e)=>e,jv=(t,e,r)=>r,mue=G(ZE,Dv,jv,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(F5)),pue=G(e1,Dv,jv,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(F5)),U5=(t,e)=>({width:t.width,height:e.height}),vue=(t,e)=>{var r=typeof e.width=="number"?e.width:yv;return{width:r,height:t.height}},P5=G(er,Ls,U5),yue=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},wue=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},xue=G(Rs,er,mue,Dv,jv,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var A=U5(e,o);a==null&&(a=yue(e,n,t));var l=n==="top"&&!i||n==="bottom"&&i;s[o.id]=a-Number(l)*A.height,a+=(l?-1:1)*A.height}),s}),bue=G(js,er,pue,Dv,jv,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var A=vue(e,o);a==null&&(a=wue(e,n,t));var l=n==="left"&&!i||n==="right"&&i;s[o.id]=a-Number(l)*A.width,a+=(l?-1:1)*A.width}),s}),Bue=(t,e)=>{var r=er(t),n=Ls(t,e);if(n!=null){var i=xue(t,n.orientation,n.mirror),s=i[e];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},Cue=(t,e)=>{var r=er(t),n=vo(t,e);if(n!=null){var i=bue(t,n.orientation,n.mirror),s=i[e];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},N5=G(er,vo,(t,e)=>{var r=typeof e.width=="number"?e.width:yv;return{width:r,height:t.height}}),hP=(t,e,r)=>{switch(e){case"xAxis":return P5(t,r).width;case"yAxis":return N5(t,r).height;default:return}},Q5=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,o=ho(t,n),A=e.map(l=>l.value);if(a&&o&&s==="category"&&i&&uR(A))return A}},t_=G([Ve,kv,Ht,It],Q5),k5=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=ho(t,n);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},r_=G([Ve,kv,Lf,It],k5),gP=G([Ve,Vle,Ru,Mu,t_,r_,Vf,Z1,It],(t,e,r,n,i,s,a,o,A)=>{if(e==null)return null;var l=ho(t,A);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:A,categoricalDomain:s,duplicateDomain:i,isCategorical:l,niceTicks:o,range:a,realScaleType:r,scale:n}}),Eue=(t,e,r,n,i,s,a,o,A)=>{if(!(e==null||n==null)){var l=ho(t,A),{type:u,ticks:d,tickCount:f}=e,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/g:0;m=A==="angleAxis"&&s!=null&&s.length>=2?ur(s[0]-s[1])*2*m:m;var p=d||i;if(p){var v=p.map((y,w)=>{var B=a?a.indexOf(y):y;return{index:w,coordinate:n(B)+m,value:y,offset:m}});return v.filter(y=>!In(y.coordinate))}return l&&o?o.map((y,w)=>({coordinate:n(y)+m,value:y,index:w,offset:m})):n.ticks?n.ticks(f).map(y=>({coordinate:n(y)+m,value:y,offset:m})):n.domain().map((y,w)=>({coordinate:n(y)+m,value:a?a[y]:y,index:w,offset:m}))}},O5=G([Ve,Lf,Ru,Mu,Z1,Vf,t_,r_,It],Eue),_ue=(t,e,r,n,i,s,a)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=ho(t,a),{tickCount:A}=e,l=0;return l=a==="angleAxis"&&(n==null?void 0:n.length)>=2?ur(n[0]-n[1])*2*l:l,o&&s?s.map((u,d)=>({coordinate:r(u)+l,value:u,index:d,offset:l})):r.ticks?r.ticks(A).map(u=>({coordinate:r(u)+l,value:u,offset:l})):r.domain().map((u,d)=>({coordinate:r(u)+l,value:i?i[u]:u,index:d,offset:l}))}},ro=G([Ve,Lf,Mu,Vf,t_,r_,It],_ue),no=G(Ht,Mu,(t,e)=>{if(!(t==null||e==null))return Np(Np({},t),{},{scale:e})}),Iue=G([Ht,Ru,X1,T5],q1);G((t,e,r)=>M1(t,r),Iue,(t,e)=>{if(!(t==null||e==null))return Np(Np({},t),{},{scale:e})});var Sue=G([Ve,ZE,e1],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),D5=t=>t.options.defaultTooltipEventType,j5=t=>t.options.validateTooltipEventTypes;function R5(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function n_(t,e){var r=D5(t),n=j5(t);return R5(e,r,n)}function Tue(t){return ye(e=>n_(e,t))}var M5=(t,e)=>{var r,n=Number(e);if(!(In(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},Fue=t=>t.tooltip.settings,da={active:!1,index:null,dataKey:void 0,coordinate:void 0},Uue={itemInteraction:{click:da,hover:da},axisInteraction:{click:da,hover:da},keyboardInteraction:da,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},L5=Nn({name:"tooltip",initialState:Uue,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=ys(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Pue,removeTooltipEntrySettings:Nue,setTooltipSettingsState:Que,setActiveMouseOverItemIndex:H5,mouseLeaveItem:kue,mouseLeaveChart:V5,setActiveClickItemIndex:Oue,setMouseOverAxisIndex:K5,setMouseClickAxisIndex:Due,setSyncInteraction:uB,setKeyboardInteraction:cB}=L5.actions,jue=L5.reducer;function mP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(r),!0).forEach(function(n){Rue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rue(t,e,r){return(e=Mue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mue(t){var e=Lue(t,"string");return typeof e=="symbol"?e:e+""}function Lue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hue(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Vue(t){return t.index!=null}var $5=(t,e,r,n)=>{if(e==null)return da;var i=Hue(t,e,r);if(i==null)return da;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Vue(i)){if(s)return vg(vg({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return vg(vg({},da),{},{coordinate:i.coordinate})},i_=(t,e)=>{var r=t==null?void 0:t.index;if(r==null)return null;var n=Number(r);if(!Fn(n))return r;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(n,s)))},G5=(t,e,r,n,i,s,a,o)=>{if(!(s==null||o==null)){var A=a[0],l=A==null?void 0:o(A.positions,s);if(l!=null)return l;var u=i==null?void 0:i[Number(s)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:u.coordinate}}}},W5=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Kf=t=>t.options.tooltipPayloadSearcher,Lu=t=>t.tooltip;function pP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(r),!0).forEach(function(n){Kue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kue(t,e,r){return(e=$ue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ue(t){var e=Gue(t,"string");return typeof e=="symbol"?e:e+""}function Gue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wue(t,e){return t??e}var z5=(t,e,r,n,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:A,dataStartIndex:l,dataEndIndex:u}=r,d=[];return t.reduce((f,g)=>{var m,{dataDefinedOnItem:p,settings:v}=g,y=Wue(p,o),w=Array.isArray(y)?PM(y,l,u):y,B=(m=v==null?void 0:v.dataKey)!==null&&m!==void 0?m:n==null?void 0:n.dataKey,I=v==null?void 0:v.nameKey,T;if(n!=null&&n.dataKey&&Array.isArray(w)&&!Array.isArray(w[0])&&a==="axis"?T=cR(w,n.dataKey,i):T=s(w,e,A,I),Array.isArray(T))T.forEach(C=>{var _=vP(vP({},v),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});f.push(aU({tooltipEntrySettings:_,dataKey:C.dataKey,payload:C.payload,value:st(C.payload,C.dataKey),name:C.name}))});else{var F;f.push(aU({tooltipEntrySettings:v,dataKey:B,payload:T,value:st(T,B),name:(F=st(T,I))!==null&&F!==void 0?F:v==null?void 0:v.name}))}return f},d)}},s_=G([nr,Ve,c5,N1,rr],I5),zue=G([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Yue=G([rr,Du],L1),$f=G([zue,nr,Yue],H1),Xue=G([$f],t=>t.filter(Nv)),que=G([$f],V1),Hu=G([que,po],K1),Jue=G([Xue,po,nr],u5),a_=G([Hu,nr,$f],G1),Zue=G([nr],W1),ece=G([$f],t=>t.filter(Nv)),tce=G([Jue,ece,Rf],m5),rce=G([tce,po,rr],p5),nce=G([$f],f5),ice=G([Hu,nr,nce,Ov,rr],v5),sce=G([w5,rr,Du],ju),ace=G([sce,rr],B5),oce=G([x5,rr,Du],ju),Ace=G([oce,rr],C5),lce=G([b5,rr,Du],ju),uce=G([lce,rr],E5),cce=G([ace,uce,Ace],Qp),dce=G([nr,Zue,rce,ice,cce,Ve,rr],z1),Y5=G([nr,Ve,Hu,a_,Rf,rr,dce],Y1),fce=G([Y5,nr,s_],J1),hce=G([nr,Y5,fce,rr],e_),X5=t=>{var e=rr(t),r=Du(t),n=!1;return Vf(t,e,r,n)},q5=G([nr,X5],Uv),J5=G([nr,s_,hce,q5],q1),gce=G([Ve,a_,nr,rr],Q5),mce=G([Ve,a_,nr,rr],k5),pce=(t,e,r,n,i,s,a,o)=>{if(e){var{type:A}=e,l=ho(t,o);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=A==="category"&&n.bandwidth?n.bandwidth()/u:0;return d=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ur(i[0]-i[1])*2*d:d,l&&a?a.map((f,g)=>({coordinate:n(f)+d,value:f,index:g,offset:d})):n.domain().map((f,g)=>({coordinate:n(f)+d,value:s?s[f]:f,index:g,offset:d}))}}},Hs=G([Ve,nr,s_,J5,X5,gce,mce,rr],pce),o_=G([D5,j5,Fue],(t,e,r)=>R5(r.shared,t,e)),Z5=t=>t.tooltip.settings.trigger,A_=t=>t.tooltip.settings.defaultIndex,Rv=G([Lu,o_,Z5,A_],$5),io=G([Rv,Hu],i_),e3=G([Hs,io],M5),t3=G([Rv],t=>{if(t)return t.dataKey}),r3=G([Lu,o_,Z5,A_],W5),vce=G([js,Rs,Ve,er,Hs,A_,r3,Kf],G5),yce=G([Rv,vce],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),wce=G([Rv],t=>t.active),xce=G([r3,io,po,nr,e3,Kf,o_],z5),bce=G([xce],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function yP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(r),!0).forEach(function(n){Bce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bce(t,e,r){return(e=Cce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cce(t){var e=Ece(t,"string");return typeof e=="symbol"?e:e+""}function Ece(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ce=()=>ye(nr),Ice=()=>{var t=_ce(),e=ye(Hs),r=ye(J5);return rf(wP(wP({},t),{},{scale:r}),e)},Sce=()=>ye(N1),l_=(t,e)=>e,n3=(t,e,r)=>r,u_=(t,e,r,n)=>n,Tce=G(Hs,t=>dv(t,e=>e.coordinate)),c_=G([Lu,l_,n3,u_],$5),i3=G([c_,Hu],i_),Fce=(t,e,r)=>{if(e!=null){var n=Lu(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},s3=G([Lu,l_,n3,u_],W5),kp=G([js,Rs,Ve,er,Hs,u_,s3,Kf],G5),Uce=G([c_,kp],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),a3=G(Hs,i3,M5),Pce=G([s3,i3,po,nr,a3,Kf,l_],z5),Nce=G([c_],t=>({isActive:t.active,activeIndex:t.index})),Qce=(t,e,r,n,i,s,a,o)=>{if(!(!t||!e||!n||!i||!s)){var A=use(t.chartX,t.chartY,e,r,o);if(A){var l=dse(A,e),u=qie(l,a,s,n,i),d=cse(e,s,u,A);return{activeIndex:String(u),activeCoordinate:d}}}};function dB(){return dB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dB.apply(null,arguments)}function xP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(r),!0).forEach(function(n){kce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kce(t,e,r){return(e=Oce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oce(t){var e=Dce(t,"string");return typeof e=="symbol"?e:e+""}function Dce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jce(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:o,tooltipEventType:A,chartName:l}=t,u=e,d=r,f=n;if(!o||!u||l!=="ScatterChart"&&A!=="axis")return null;var g,m;if(l==="ScatterChart")g=u,m=lae;else if(l==="BarChart")g=uae(a,u,i,s),m=eL;else if(a==="radial"){var{cx:p,cy:v,radius:y,startAngle:w,endAngle:B}=tL(u);g={cx:p,cy:v,startAngle:w,endAngle:B,innerRadius:y,outerRadius:y},m=nL}else g={points:Vae(a,u,i)},m=s1;var I=typeof o=="object"&&"className"in o?o.className:void 0,T=yg(yg(yg(yg({stroke:"#ccc",pointerEvents:"none"},i),g),Bt(o,!1)),{},{payload:d,payloadIndex:f,className:We("recharts-tooltip-cursor",I)});return x.isValidElement(o)?x.cloneElement(o,T):x.createElement(m,T)}function Rce(t){var e=Ice(),r=RM(),n=bv(),i=Sce();return x.createElement(jce,dB({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var o3=x.createContext(null),Mce=()=>x.useContext(o3),A3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(A,l,u){this.fn=A,this.context=l,this.once=u||!1}function s(A,l,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new i(u,d||A,f),m=r?r+l:l;return A._events[m]?A._events[m].fn?A._events[m]=[A._events[m],g]:A._events[m].push(g):(A._events[m]=g,A._eventsCount++),A}function a(A,l){--A._eventsCount===0?A._events=new n:delete A._events[l]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},o.prototype.listeners=function(l){var u=r?r+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,g=d.length,m=new Array(g);f<g;f++)m[f]=d[f].fn;return m},o.prototype.listenerCount=function(l){var u=r?r+l:l,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(l,u,d,f,g,m){var p=r?r+l:l;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,w,B;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,f),!0;case 5:return v.fn.call(v.context,u,d,f,g),!0;case 6:return v.fn.call(v.context,u,d,f,g,m),!0}for(B=1,w=new Array(y-1);B<y;B++)w[B-1]=arguments[B];v.fn.apply(v.context,w)}else{var I=v.length,T;for(B=0;B<I;B++)switch(v[B].once&&this.removeListener(l,v[B].fn,void 0,!0),y){case 1:v[B].fn.call(v[B].context);break;case 2:v[B].fn.call(v[B].context,u);break;case 3:v[B].fn.call(v[B].context,u,d);break;case 4:v[B].fn.call(v[B].context,u,d,f);break;default:if(!w)for(T=1,w=new Array(y-1);T<y;T++)w[T-1]=arguments[T];v[B].fn.apply(v[B].context,w)}}return!0},o.prototype.on=function(l,u,d){return s(this,l,u,d,!1)},o.prototype.once=function(l,u,d){return s(this,l,u,d,!0)},o.prototype.removeListener=function(l,u,d,f){var g=r?r+l:l;if(!this._events[g])return this;if(!u)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===u&&(!f||m.once)&&(!d||m.context===d)&&a(this,g);else{for(var p=0,v=[],y=m.length;p<y;p++)(m[p].fn!==u||f&&!m[p].once||d&&m[p].context!==d)&&v.push(m[p]);v.length?this._events[g]=v.length===1?v[0]:v:a(this,g)}return this},o.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(A3);var Lce=A3.exports;const Hce=Ki(Lce);var uf=new Hce,fB="recharts.syncEvent.tooltip",bP="recharts.syncEvent.brush";function d_(t,e){if(e){var r=Number.parseInt(e,10);if(!In(r))return t==null?void 0:t[r]}}var Vce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},l3=Nn({name:"options",initialState:Vce,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Kce=l3.reducer,{createEventEmitter:$ce}=l3.actions;function Gce(t){return t.tooltip.syncInteraction}var Wce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},u3=Nn({name:"chartData",initialState:Wce,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:BP,setDataStartEndIndexes:zce,setComputedData:Ave}=u3.actions,Yce=u3.reducer,c3=()=>{};function Xce(){var t=ye(Q1),e=ye(k1),r=Pt(),n=ye(i5),i=ye(Hs),s=bv(),a=t1(),o=ye(A=>A.rootProps.className);x.useEffect(()=>{if(t==null)return c3;var A=(l,u,d)=>{if(e!==d&&t===l){if(n==="index"){r(u);return}if(i!=null){var f;if(typeof n=="function"){var g={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},m=n(i,g);f=i[m]}else n==="value"&&(f=i.find(F=>String(F.value)===u.payload.label));var{coordinate:p}=u.payload;if(f==null||u.payload.active===!1||p==null||a==null){r(uB({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:v,y}=p,w=Math.min(v,a.x+a.width),B=Math.min(y,a.y+a.height),I={x:s==="horizontal"?f.coordinate:w,y:s==="horizontal"?B:f.coordinate},T=uB({active:u.payload.active,coordinate:I,dataKey:u.payload.dataKey,index:String(f.index),label:u.payload.label});r(T)}}};return uf.on(fB,A),()=>{uf.off(fB,A)}},[o,r,e,t,n,i,s,a])}function qce(){var t=ye(Q1),e=ye(k1),r=Pt();x.useEffect(()=>{if(t==null)return c3;var n=(i,s,a)=>{e!==a&&t===i&&r(zce(s))};return uf.on(bP,n),()=>{uf.off(bP,n)}},[r,e,t])}function Jce(){var t=Pt();x.useEffect(()=>{t($ce())},[t]),Xce(),qce()}function Zce(t,e,r,n,i,s){var a=ye(f=>Fce(f,t,e)),o=ye(k1),A=ye(Q1),l=ye(i5),u=ye(Gce),d=u==null?void 0:u.active;x.useEffect(()=>{if(!d&&A!=null&&o!=null){var f=uB({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});uf.emit(fB,A,f,o)}},[d,r,a,i,n,o,A,l,s])}function CP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(r),!0).forEach(function(n){ede(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ede(t,e,r){return(e=tde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tde(t){var e=rde(t,"string");return typeof e=="symbol"?e:e+""}function rde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nde(t){return t.dataKey}function ide(t,e){return x.isValidElement(t)?x.cloneElement(t,e):typeof t=="function"?x.createElement(t,e):x.createElement(Lse,e)}var _P=[],sde={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!QA.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ba(t){var e=Qn(t,sde),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:o,isAnimationActive:A,offset:l,payloadUniqBy:u,position:d,reverseDirection:f,useTranslate3d:g,wrapperStyle:m,cursor:p,shared:v,trigger:y,defaultIndex:w,portal:B,axisId:I}=e,T=Pt(),F=typeof w=="number"?String(w):w;x.useEffect(()=>{T(Que({shared:v,trigger:y,axisId:I,active:r,defaultIndex:F}))},[T,v,y,I,r,F]);var C=t1(),_=VM(),S=Tue(v),{activeIndex:P,isActive:Q}=ye(Oe=>Nce(Oe,S,y,F)),k=ye(Oe=>Pce(Oe,S,y,F)),N=ye(Oe=>a3(Oe,S,y,F)),ae=ye(Oe=>Uce(Oe,S,y,F)),be=k,pe=Mce(),we=r??Q,[X,ne]=aM([be,we]),ce=S==="axis"?N:void 0;Zce(S,y,ae,ce,P,we);var Fe=B??pe;if(Fe==null)return null;var te=be??_P;we||(te=_P),o&&te.length&&(te=zR(be.filter(Oe=>Oe.value!=null&&(Oe.hide!==!0||e.includeHidden)),u,nde));var ke=te.length>0,Xe=x.createElement(zse,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:A,active:we,coordinate:ae,hasPayload:ke,offset:l,position:d,reverseDirection:f,useTranslate3d:g,viewBox:C,wrapperStyle:m,lastBoundingBox:X,innerRef:ne,hasPortalFromProps:!!B},ide(a,EP(EP({},e),{},{payload:te,label:ce,active:we,coordinate:ae,accessibilityLayer:_})));return x.createElement(x.Fragment,null,vC.createPortal(Xe,Fe),we&&x.createElement(Rce,{cursor:p,tooltipEventType:S,coordinate:ae,payload:be,index:P}))}var d3={},f3={},h3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:s}={}){let a,o=null;const A=s!=null&&s.includes("leading"),l=s==null||s.includes("trailing"),u=()=>{o!==null&&(r.apply(a,o),a=void 0,o=null)},d=()=>{l&&u(),p()};let f=null;const g=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,d()},n)},m=()=>{f!==null&&(clearTimeout(f),f=null)},p=()=>{m(),a=void 0,o=null},v=()=>{u()},y=function(...w){if(i!=null&&i.aborted)return;a=this,o=w;const B=f==null;g(),A&&B&&u()};return y.schedule=g,y.cancel=p,y.flush=v,i==null||i.addEventListener("abort",p,{once:!0}),y}t.debounce=e})(h3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h3;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:A}=s,l=Array(2);a&&(l[0]="leading"),o&&(l[1]="trailing");let u,d=null;const f=e.debounce(function(...p){u=n.apply(this,p),d=null},i,{edges:l}),g=function(...p){return A!=null&&(d===null&&(d=Date.now()),Date.now()-d>=A)?(u=n.apply(this,p),d=Date.now(),f.cancel(),f.schedule(),u):(f.apply(this,p),u)},m=()=>(f.flush(),u);return g.cancel=f.cancel,g.flush=m,g}t.debounce=r})(f3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=f3;function r(n,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(n,i,{leading:a,maxWait:i,trailing:o})}t.throttle=r})(d3);var ade=d3.throttle;const ode=Ki(ade);var md=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function IP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _w(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(r),!0).forEach(function(n){Ade(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ade(t,e,r){return(e=lde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lde(t){var e=ude(t,"string");return typeof e=="symbol"?e:e+""}function ude(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ba=x.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:o,maxHeight:A,children:l,debounce:u=0,id:d,className:f,onResize:g,style:m={}}=t,p=x.useRef(null),v=x.useRef();v.current=g,x.useImperativeHandle(e,()=>p.current);var[y,w]=x.useState({containerWidth:n.width,containerHeight:n.height}),B=x.useCallback((T,F)=>{w(C=>{var _=Math.round(T),S=Math.round(F);return C.containerWidth===_&&C.containerHeight===S?C:{containerWidth:_,containerHeight:S}})},[]);x.useEffect(()=>{var T=S=>{var P,{width:Q,height:k}=S[0].contentRect;B(Q,k),(P=v.current)===null||P===void 0||P.call(v,Q,k)};u>0&&(T=ode(T,u,{trailing:!0,leading:!1}));var F=new ResizeObserver(T),{width:C,height:_}=p.current.getBoundingClientRect();return B(C,_),F.observe(p.current),()=>{F.disconnect()}},[B,u]);var I=x.useMemo(()=>{var{containerWidth:T,containerHeight:F}=y;if(T<0||F<0)return null;md(Go(i)||Go(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),md(!r||r>0,"The aspect(%s) must be greater than zero.",r);var C=Go(i)?T:i,_=Go(s)?F:s;return r&&r>0&&(C?_=C/r:_&&(C=_*r),A&&_>A&&(_=A)),md(C>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,_,i,s,a,o,r),x.Children.map(l,S=>x.cloneElement(S,{width:C,height:_,style:_w({width:C,height:_},S.props.style)}))},[r,l,s,A,o,a,y,i]);return x.createElement("div",{id:d?"".concat(d):void 0,className:We("recharts-responsive-container",f),style:_w(_w({},m),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:A}),ref:p},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},I))}),Vu=t=>null;Vu.displayName="Cell";function cde(t,e,r){return(e=dde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dde(t){var e=fde(t,"string");return typeof e=="symbol"?e:e+""}function fde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hde{constructor(e){cde(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function SP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(r),!0).forEach(function(n){mde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mde(t,e,r){return(e=pde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pde(t){var e=vde(t,"string");return typeof e=="symbol"?e:e+""}function vde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yde={cacheSize:2e3,enableCache:!0},g3=gde({},yde),TP=new hde(g3.cacheSize),wde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},FP="recharts_measurement_span";function xde(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var UP=(t,e)=>{try{var r=document.getElementById(FP);r||(r=document.createElement("span"),r.setAttribute("id",FP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,wde,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},pd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||QA.isSsr)return{width:0,height:0};if(!g3.enableCache)return UP(e,r);var n=xde(e,r),i=TP.get(n);if(i)return i;var s=UP(e,r);return TP.set(n,s),s},PP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,m3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Cde=Object.keys(m3),Sl="NaN";function Ede(t,e){return t*m3[e]}class Zr{static parse(e){var r,[,n,i]=(r=Bde.exec(e))!==null&&r!==void 0?r:[];return new Zr(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,In(e)&&(this.unit=""),r!==""&&!bde.test(r)&&(this.num=NaN,this.unit=""),Cde.includes(r)&&(this.num=Ede(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new Zr(NaN,""):new Zr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Zr(NaN,""):new Zr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Zr(NaN,""):new Zr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Zr(NaN,""):new Zr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return In(this.num)}}function p3(t){if(t.includes(Sl))return Sl;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,s]=(r=PP.exec(e))!==null&&r!==void 0?r:[],a=Zr.parse(n??""),o=Zr.parse(s??""),A=i==="*"?a.multiply(o):a.divide(o);if(A.isNaN())return Sl;e=e.replace(PP,A.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var l,[,u,d,f]=(l=NP.exec(e))!==null&&l!==void 0?l:[],g=Zr.parse(u??""),m=Zr.parse(f??""),p=d==="+"?g.add(m):g.subtract(m);if(p.isNaN())return Sl;e=e.replace(NP,p.toString())}return e}var QP=/\(([^()]*)\)/;function _de(t){for(var e=t,r;(r=QP.exec(e))!=null;){var[,n]=r;e=e.replace(QP,p3(n))}return e}function Ide(t){var e=t.replace(/\s+/g,"");return e=_de(e),e=p3(e),e}function Sde(t){try{return Ide(t)}catch{return Sl}}function Iw(t){var e=Sde(t.slice(5,-1));return e===Sl?"":e}var Tde=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Fde=["dx","dy","angle","className","breakAll"];function hB(){return hB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hB.apply(null,arguments)}function kP(t,e){if(t==null)return{};var r,n,i=Ude(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ude(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var v3=/[ \f\n\r\t\v\u2028\u2029]+/,y3=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];vt(e)||(r?i=e.toString().split(""):i=e.toString().split(v3));var s=i.map(o=>({word:o,width:pd(o,n).width})),a=r?0:pd(" ",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Pde=(t,e,r,n,i)=>{var{maxLines:s,children:a,style:o,breakAll:A}=t,l=fe(s),u=a,d=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce((k,N)=>{var{word:ae,width:be}=N,pe=k[k.length-1];if(pe&&(n==null||i||pe.width+be+r<Number(n)))pe.words.push(ae),pe.width+=be+r;else{var we={words:[ae],width:be};k.push(we)}return k},[])},f=d(e),g=P=>P.reduce((Q,k)=>Q.width>k.width?Q:k);if(!l||i)return f;var m=f.length>s||g(f).width>Number(n);if(!m)return f;for(var p="…",v=P=>{var Q=u.slice(0,P),k=y3({breakAll:A,style:o,children:Q+p}).wordsWithComputedWidth,N=d(k),ae=N.length>s||g(N).width>Number(n);return[ae,N]},y=0,w=u.length-1,B=0,I;y<=w&&B<=u.length-1;){var T=Math.floor((y+w)/2),F=T-1,[C,_]=v(F),[S]=v(T);if(!C&&!S&&(y=T+1),C&&S&&(w=T-1),!C&&S){I=_;break}B++}return I||f},OP=t=>{var e=vt(t)?[]:t.toString().split(v3);return[{words:e}]},Nde=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=t;if((e||r)&&!QA.isSsr){var o,A,l=y3({breakAll:s,children:n,style:i});if(l){var{wordsWithComputedWidth:u,spaceWidth:d}=l;o=u,A=d}else return OP(n);return Pde({breakAll:s,children:n,maxLines:a,style:i},o,A,e,r)}return OP(n)},DP="#808080",Mv=x.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:A="end",fill:l=DP}=t,u=kP(t,Tde),d=x.useMemo(()=>Nde({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:a,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,a,u.style,u.width]),{dx:f,dy:g,angle:m,className:p,breakAll:v}=u,y=kP(u,Fde);if(!Hi(r)||!Hi(n))return null;var w=r+(fe(f)?f:0),B=n+(fe(g)?g:0),I;switch(A){case"start":I=Iw("calc(".concat(s,")"));break;case"middle":I=Iw("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:I=Iw("calc(".concat(d.length-1," * -").concat(i,")"));break}var T=[];if(a){var F=d[0].width,{width:C}=u;T.push("scale(".concat(fe(C)?C/F:1,")"))}return m&&T.push("rotate(".concat(m,", ").concat(w,", ").concat(B,")")),T.length&&(y.transform=T.join(" ")),x.createElement("text",hB({},Bt(y,!0),{ref:e,x:w,y:B,className:We("recharts-text",p),textAnchor:o,fill:l.includes("url")?DP:l}),d.map((_,S)=>{var P=_.words.join(v?"":" ");return x.createElement("tspan",{x:w,dy:S===0?I:i,key:"".concat(P,"-").concat(S)},P)}))});Mv.displayName="Text";var Qde=["offset"],kde=["labelRef"];function jP(t,e){if(t==null)return{};var r,n,i=Ode(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ode(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function RP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(r),!0).forEach(function(n){Dde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dde(t,e,r){return(e=jde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jde(t){var e=Rde(t,"string");return typeof e=="symbol"?e:e+""}function Rde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function as(){return as=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},as.apply(null,arguments)}var Mde=t=>{var{value:e,formatter:r}=t,n=vt(t.children)?e:t.children;return typeof r=="function"?r(n):n},f_=t=>t!=null&&typeof t=="function",Lde=(t,e)=>{var r=ur(e-t),n=Math.min(Math.abs(e-t),360);return r*n},Hde=(t,e,r,n)=>{var{position:i,offset:s,className:a}=t,{cx:o,cy:A,innerRadius:l,outerRadius:u,startAngle:d,endAngle:f,clockWise:g}=n,m=(l+u)/2,p=Lde(d,f),v=p>=0?1:-1,y,w;i==="insideStart"?(y=d+v*s,w=g):i==="insideEnd"?(y=f-v*s,w=!g):i==="end"&&(y=f+v*s,w=g),w=p<=0?w:!w;var B=Gt(o,A,m,y),I=Gt(o,A,m,y+(w?1:-1)*359),T="M".concat(B.x,",").concat(B.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(w?0:1,`,
    `).concat(I.x,",").concat(I.y),F=vt(t.id)?Zd("recharts-radial-line-"):t.id;return x.createElement("text",as({},r,{dominantBaseline:"central",className:We("recharts-radial-bar-label",a)}),x.createElement("defs",null,x.createElement("path",{id:F,d:T})),x.createElement("textPath",{xlinkHref:"#".concat(F)},e))},Vde=(t,e,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:A}=t,l=(o+A)/2;if(r==="outside"){var{x:u,y:d}=Gt(n,i,a+e,l);return{x:u,y:d,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(s+a)/2,{x:g,y:m}=Gt(n,i,f,l);return{x:g,y:m,textAnchor:"middle",verticalAnchor:"middle"}},Kde=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,{x:s,y:a,width:o,height:A}=e,l=A>=0?1:-1,u=l*n,d=l>0?"end":"start",f=l>0?"start":"end",g=o>=0?1:-1,m=g*n,p=g>0?"end":"start",v=g>0?"start":"end";if(i==="top"){var y={x:s+o/2,y:a-l*n,textAnchor:"middle",verticalAnchor:d};return Qt(Qt({},y),r?{height:Math.max(a-r.y,0),width:o}:{})}if(i==="bottom"){var w={x:s+o/2,y:a+A+u,textAnchor:"middle",verticalAnchor:f};return Qt(Qt({},w),r?{height:Math.max(r.y+r.height-(a+A),0),width:o}:{})}if(i==="left"){var B={x:s-m,y:a+A/2,textAnchor:p,verticalAnchor:"middle"};return Qt(Qt({},B),r?{width:Math.max(B.x-r.x,0),height:A}:{})}if(i==="right"){var I={x:s+o+m,y:a+A/2,textAnchor:v,verticalAnchor:"middle"};return Qt(Qt({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:A}:{})}var T=r?{width:o,height:A}:{};return i==="insideLeft"?Qt({x:s+m,y:a+A/2,textAnchor:v,verticalAnchor:"middle"},T):i==="insideRight"?Qt({x:s+o-m,y:a+A/2,textAnchor:p,verticalAnchor:"middle"},T):i==="insideTop"?Qt({x:s+o/2,y:a+u,textAnchor:"middle",verticalAnchor:f},T):i==="insideBottom"?Qt({x:s+o/2,y:a+A-u,textAnchor:"middle",verticalAnchor:d},T):i==="insideTopLeft"?Qt({x:s+m,y:a+u,textAnchor:v,verticalAnchor:f},T):i==="insideTopRight"?Qt({x:s+o-m,y:a+u,textAnchor:p,verticalAnchor:f},T):i==="insideBottomLeft"?Qt({x:s+m,y:a+A-u,textAnchor:v,verticalAnchor:d},T):i==="insideBottomRight"?Qt({x:s+o-m,y:a+A-u,textAnchor:p,verticalAnchor:d},T):i&&typeof i=="object"&&(fe(i.x)||Go(i.x))&&(fe(i.y)||Go(i.y))?Qt({x:s+Xr(i.x,o),y:a+Xr(i.y,A),textAnchor:"end",verticalAnchor:"end"},T):Qt({x:s+o/2,y:a+A/2,textAnchor:"middle",verticalAnchor:"middle"},T)},$de=t=>"cx"in t&&fe(t.cx);function vn(t){var{offset:e=5}=t,r=jP(t,Qde),n=Qt({offset:e},r),{viewBox:i,position:s,value:a,children:o,content:A,className:l="",textBreakAll:u,labelRef:d}=n,f=ye(l5),g=t1(),m=s==="center"?g:f??g,p=i||m;if(!p||vt(a)&&vt(o)&&!x.isValidElement(A)&&typeof A!="function")return null;var v=Qt(Qt({},n),{},{viewBox:p});if(x.isValidElement(A)){var y=jP(v,kde);return x.cloneElement(A,y)}var w;if(typeof A=="function"){if(w=x.createElement(A,v),x.isValidElement(w))return w}else w=Mde(n);var B=$de(p),I=Bt(n,!0);if(B&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Hde(n,w,I,p);var T=B?Vde(p,n.offset,n.position):Kde(n,p);return x.createElement(Mv,as({ref:d,className:We("recharts-label",l)},I,T,{breakAll:u}),w)}vn.displayName="Label";var w3=t=>{var{cx:e,cy:r,angle:n,startAngle:i,endAngle:s,r:a,radius:o,innerRadius:A,outerRadius:l,x:u,y:d,top:f,left:g,width:m,height:p,clockWise:v,labelViewBox:y}=t;if(y)return y;if(fe(m)&&fe(p)){if(fe(u)&&fe(d))return{x:u,y:d,width:m,height:p};if(fe(f)&&fe(g))return{x:f,y:g,width:m,height:p}}if(fe(u)&&fe(d))return{x:u,y:d,width:0,height:0};if(fe(e)&&fe(r))return{cx:e,cy:r,startAngle:i||n||0,endAngle:s||n||0,innerRadius:A||0,outerRadius:l||o||a||0,clockWise:v};if(t.viewBox)return t.viewBox},Gde=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?x.createElement(vn,as({key:"label-implicit"},n)):Hi(t)?x.createElement(vn,as({key:"label-implicit",value:t},n)):x.isValidElement(t)?t.type===vn?x.cloneElement(t,Qt({key:"label-implicit"},n)):x.createElement(vn,as({key:"label-implicit",content:t},n)):f_(t)?x.createElement(vn,as({key:"label-implicit",content:t},n)):t&&typeof t=="object"?x.createElement(vn,as({},t,{key:"label-implicit"},n)):null},Wde=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:i,labelRef:s}=e,a=w3(e),o=Nf(i,vn).map((l,u)=>x.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)}));if(!n)return o;var A=Gde(e.label,r||a,s);return[A,...o]};vn.parseViewBox=w3;vn.renderCallByParent=Wde;var x3={},b3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(b3);var B3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(B3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b3,r=B3,n=ov;function i(s){if(n.isArrayLike(s))return e.last(r.toArray(s))}t.last=i})(x3);var zde=x3.last;const Yde=Ki(zde);var Xde=["valueAccessor"],qde=["data","dataKey","clockWise","id","textBreakAll"];function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Op.apply(null,arguments)}function MP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(r),!0).forEach(function(n){Jde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jde(t,e,r){return(e=Zde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zde(t){var e=efe(t,"string");return typeof e=="symbol"?e:e+""}function efe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HP(t,e){if(t==null)return{};var r,n,i=tfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function tfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var rfe=t=>Array.isArray(t.value)?Yde(t.value):t.value;function Ha(t){var{valueAccessor:e=rfe}=t,r=HP(t,Xde),{data:n,dataKey:i,clockWise:s,id:a,textBreakAll:o}=r,A=HP(r,qde);return!n||!n.length?null:x.createElement(Rr,{className:"recharts-label-list"},n.map((l,u)=>{var d=vt(i)?e(l,u):st(l&&l.payload,i),f=vt(a)?{}:{id:"".concat(a,"-").concat(u)};return x.createElement(vn,Op({},Bt(l,!0),A,f,{parentViewBox:l.parentViewBox,value:d,textBreakAll:o,viewBox:vn.parseViewBox(vt(s)?l:LP(LP({},l),{},{clockWise:s})),key:"label-".concat(u),index:u}))}))}Ha.displayName="LabelList";function nfe(t,e){return t?t===!0?x.createElement(Ha,{key:"labelList-implicit",data:e}):x.isValidElement(t)||f_(t)?x.createElement(Ha,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?x.createElement(Ha,Op({data:e},t,{key:"labelList-implicit"})):null:null}function ife(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:n}=t,i=Nf(n,Ha).map((a,o)=>x.cloneElement(a,{data:e,key:"labelList-".concat(o)}));if(!r)return i;var s=nfe(t.label,e);return[s,...i]}Ha.renderCallByParent=ife;function gB(){return gB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gB.apply(null,arguments)}var C3=t=>{var{cx:e,cy:r,r:n,className:i}=t,s=We("recharts-dot",i);return e===+e&&r===+r&&n===+n?x.createElement("circle",gB({},Ds(t),FE(t),{className:s,cx:e,cy:r,r:n})):null},E3=t=>t.graphicalItems.polarItems,sfe=G([It,Mf],L1),h_=G([E3,Ht,sfe],H1),afe=G([h_],V1),g_=G([afe,F1],K1),ofe=G([g_,Ht,h_],G1),Afe=G([g_,Ht,h_],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var s,a=st(n,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:st(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),VP=()=>{},lfe=G([Ht,_5,VP,Afe,VP,Ve,It],z1),_3=G([Ht,Ve,g_,ofe,Rf,It,lfe],Y1),ufe=G([_3,Ht,Ru],J1);G([Ht,_3,ufe,It],e_);var cfe={radiusAxis:{},angleAxis:{}},dfe=Nn({name:"polarAxis",initialState:cfe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),ffe=dfe.reducer;function KP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $P(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(r),!0).forEach(function(n){hfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hfe(t,e,r){return(e=gfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gfe(t){var e=mfe(t,"string");return typeof e=="symbol"?e:e+""}function mfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pfe=(t,e)=>e,m_=G([E3,pfe],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),vfe=[],p_=(t,e,r)=>(r==null?void 0:r.length)===0?vfe:r,I3=G([F1,m_,p_],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>$P($P({},e.presentationProps),s.props))),i!=null)return i}}),yfe=G([I3,m_,p_],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var s,a=st(n,e.nameKey,e.name),o;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=e.fill,{value:Nu(a,e.dataKey),color:o,payload:n,type:e.legendType}})}),wfe=G([I3,m_,p_,er],(t,e,r,n)=>{if(!(e==null||t==null))return che({offset:n,pieSettings:e,displayedData:t,cells:r})}),S3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(S3);var xfe=S3.isPlainObject;const bfe=Ki(xfe);function Dp(){return Dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dp.apply(null,arguments)}var GP=(t,e,r,n,i)=>{var s=r-n,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+r,",").concat(e),a+="L ".concat(t+r-s/2,",").concat(e+i),a+="L ".concat(t+r-s/2-n,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},Bfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cfe=t=>{var e=Qn(t,Bfe),r=x.useRef(),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&i(v)}catch{}},[]);var{x:s,y:a,upperWidth:o,lowerWidth:A,height:l,className:u}=e,{animationEasing:d,animationDuration:f,animationBegin:g,isUpdateAnimationActive:m}=e;if(s!==+s||a!==+a||o!==+o||A!==+A||l!==+l||o===0&&A===0||l===0)return null;var p=We("recharts-trapezoid",u);return m?x.createElement(xp,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:l,x:s,y:a},to:{upperWidth:o,lowerWidth:A,height:l,x:s,y:a},duration:f,animationEasing:d,isActive:m},v=>{var{upperWidth:y,lowerWidth:w,height:B,x:I,y:T}=v;return x.createElement(xp,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,easing:d},x.createElement("path",Dp({},Bt(e,!0),{className:p,d:GP(I,T,y,w,B),ref:r})))}):x.createElement("g",null,x.createElement("path",Dp({},Bt(e,!0),{className:p,d:GP(s,a,o,A,l)})))},Efe=["option","shapeType","propTransformer","activeClassName","isActive"];function _fe(t,e){if(t==null)return{};var r,n,i=Ife(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ife(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function WP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(r),!0).forEach(function(n){Sfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sfe(t,e,r){return(e=Tfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tfe(t){var e=Ffe(t,"string");return typeof e=="symbol"?e:e+""}function Ffe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ufe(t,e){return jp(jp({},e),t)}function Pfe(t,e){return t==="symbols"}function zP(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return x.createElement(eL,r);case"trapezoid":return x.createElement(Cfe,r);case"sector":return x.createElement(nL,r);case"symbols":if(Pfe(e))return x.createElement(kE,r);break;default:return null}}function Nfe(t){return x.isValidElement(t)?t.props:t}function T3(t){var{option:e,shapeType:r,propTransformer:n=Ufe,activeClassName:i="recharts-active-shape",isActive:s}=t,a=_fe(t,Efe),o;if(x.isValidElement(e))o=x.cloneElement(e,jp(jp({},a),Nfe(e)));else if(typeof e=="function")o=e(a);else if(bfe(e)&&typeof e!="boolean"){var A=n(e,a);o=x.createElement(zP,{shapeType:r,elementProps:A})}else{var l=a;o=x.createElement(zP,{shapeType:r,elementProps:l})}return s?x.createElement(Rr,{className:i},o):o}var v_=(t,e)=>{var r=Pt();return(n,i)=>s=>{t==null||t(n,i,s),r(H5({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},y_=t=>{var e=Pt();return(r,n)=>i=>{t==null||t(r,n,i),e(kue())}},w_=(t,e)=>{var r=Pt();return(n,i)=>s=>{t==null||t(n,i,s),r(Oue({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function x_(t){var{fn:e,args:r}=t,n=Pt(),i=cn();return x.useEffect(()=>{if(!i){var s=e(r);return n(Pue(s)),()=>{n(Nue(s))}}},[e,r,n,i]),null}var F3=()=>{};function U3(t){var{legendPayload:e}=t,r=Pt(),n=cn();return x.useEffect(()=>n?F3:(r(LM(e)),()=>{r(HM(e))}),[r,n,e]),null}function Qfe(t){var{legendPayload:e}=t,r=Pt(),n=ye(Ve);return x.useEffect(()=>n!=="centric"&&n!=="radial"?F3:(r(LM(e)),()=>{r(HM(e))}),[r,n,e]),null}function b_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(Zd(e)),n=x.useRef(t);return n.current!==t&&(r.current=Zd(e),n.current=t),r.current}var Sw,kfe=()=>{var[t]=x.useState(()=>Zd("uid-"));return t},Ofe=(Sw=_N.useId)!==null&&Sw!==void 0?Sw:kfe;function Dfe(t,e){var r=Ofe();return e||(t?"".concat(t,"-").concat(r):r)}var jfe=x.createContext(void 0),B_=t=>{var{id:e,type:r,children:n}=t,i=Dfe("recharts-".concat(r),e);return x.createElement(jfe.Provider,{value:i},n(i))},Rfe={cartesianItems:[],polarItems:[]},P3=Nn({name:"graphicalItems",initialState:Rfe,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=ys(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=ys(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=ys(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Mfe,replaceCartesianGraphicalItem:Lfe,removeCartesianGraphicalItem:Hfe,addPolarGraphicalItem:Vfe,removePolarGraphicalItem:Kfe}=P3.actions,$fe=P3.reducer;function N3(t){var e=Pt(),r=x.useRef(null);return x.useEffect(()=>{r.current===null?e(Mfe(t)):r.current!==t&&e(Lfe({prev:r.current,next:t})),r.current=t},[e,t]),x.useEffect(()=>()=>{r.current&&(e(Hfe(r.current)),r.current=null)},[e]),null}function Gfe(t){var e=Pt();return x.useEffect(()=>(e(Vfe(t)),()=>{e(Kfe(t))}),[e,t]),null}function Wfe(){}var zfe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},YP={t:0},Tw={t:1};function C_(t){var e=Qn(t,zfe),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:A,children:l}=e,u=ZM("JavascriptAnimate",e.animationManager),[d,f]=x.useState(r?YP:Tw),g=x.useRef(null);return x.useEffect(()=>{r||f(Tw)},[r]),x.useEffect(()=>{if(!r||!n)return Wfe;var m=JM(YP,Tw,XM(s),i,f,u.getTimeoutController()),p=()=>{g.current=m()};return u.start([A,a,p,i,o]),()=>{u.stop(),g.current&&g.current(),o()}},[r,n,i,s,a,A,o,u]),l(d.t)}var Yfe=["onMouseEnter","onClick","onMouseLeave"],Xfe=["id"],qfe=["id"];function E_(t,e){if(t==null)return{};var r,n,i=Jfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Jfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function XP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(r),!0).forEach(function(n){Zfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zfe(t,e,r){return(e=ehe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ehe(t){var e=the(t,"string");return typeof e=="symbol"?e:e+""}function the(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ns.apply(null,arguments)}function rhe(t){var e=x.useMemo(()=>Nf(t.children,Vu),[t.children]),r=ye(n=>yfe(n,t.id,e));return r==null?null:x.createElement(Qfe,{legendPayload:r})}function nhe(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:o,hide:A,tooltipType:l}=t;return{dataDefinedOnItem:n==null?void 0:n.map(u=>u.tooltipPayload),positions:n==null?void 0:n.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:r,name:Nu(o,e),hide:A,type:l,color:a,unit:""}}}var ihe=(t,e)=>t>e?"start":t<e?"end":"middle",she=(t,e,r)=>typeof e=="function"?e(t):Xr(e,r,r*.8),ahe=(t,e,r)=>{var{top:n,left:i,width:s,height:a}=e,o=UM(s,a),A=i+Xr(t.cx,s,s/2),l=n+Xr(t.cy,a,a/2),u=Xr(t.innerRadius,o,0),d=she(r,t.outerRadius,o),f=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:A,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}},ohe=(t,e)=>{var r=ur(e-t),n=Math.min(Math.abs(e-t),360);return r*n},Ahe=(t,e)=>{if(x.isValidElement(t))return x.cloneElement(t,e);if(typeof t=="function")return t(e);var r=We("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return x.createElement(s1,Ns({},e,{type:"linear",className:r}))},lhe=(t,e,r)=>{if(x.isValidElement(t))return x.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),x.isValidElement(n)))return n;var i=We("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return x.createElement(Mv,Ns({},e,{alignmentBaseline:"middle",className:i}),n)};function uhe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!e)return null;var o=Ds(r),A=Bt(i,!1),l=Bt(s,!1),u=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,d=e.map((f,g)=>{var m=(f.startAngle+f.endAngle)/2,p=Gt(f.cx,f.cy,f.outerRadius+u,m),v=Ot(Ot(Ot(Ot({},o),f),{},{stroke:"none"},A),{},{index:g,textAnchor:ihe(p.x,f.cx)},p),y=Ot(Ot(Ot(Ot({},o),f),{},{fill:"none",stroke:f.fill},l),{},{index:g,points:[Gt(f.cx,f.cy,f.outerRadius,m),p],key:"line"});return x.createElement(Rr,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(g)},s&&Ahe(s,y),lhe(i,v,st(f,a)))});return x.createElement(Rr,{className:"recharts-pie-labels"},d)}function Q3(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:s}=t,a=ye(io),{onMouseEnter:o,onClick:A,onMouseLeave:l}=i,u=E_(i,Yfe),d=v_(o,i.dataKey),f=y_(l),g=w_(A,i.dataKey);return e==null?null:x.createElement(x.Fragment,null,e.map((m,p)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&e.length!==1)return null;var v=r&&String(p)===a,y=a?n:null,w=v?r:y,B=Ot(Ot({},m),{},{stroke:m.stroke,tabIndex:-1,[OM]:p,[DM]:i.dataKey});return x.createElement(Rr,Ns({tabIndex:-1,className:"recharts-pie-sector"},Pf(u,m,p),{onMouseEnter:d(m,p),onMouseLeave:f(m,p),onClick:g(m,p),key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(p)}),x.createElement(T3,Ns({option:w,isActive:v,shapeType:"sector"},B)))}),x.createElement(uhe,{sectors:e,props:i,showLabels:s}))}function che(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:s}=t,{cornerRadius:a,startAngle:o,endAngle:A,dataKey:l,nameKey:u,tooltipType:d}=r,f=Math.abs(r.minAngle),g=ohe(o,A),m=Math.abs(g),p=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,v=n.filter(F=>st(F,l,0)!==0).length,y=(m>=360?v:v-1)*p,w=m-v*f-y,B=n.reduce((F,C)=>{var _=st(C,l,0);return F+(fe(_)?_:0)},0),I;if(B>0){var T;I=n.map((F,C)=>{var _=st(F,l,0),S=st(F,u,C),P=ahe(r,s,F),Q=(fe(_)?_:0)/B,k,N=Ot(Ot({},F),i&&i[C]&&i[C].props);C?k=T.endAngle+ur(g)*p*(_!==0?1:0):k=o;var ae=k+ur(g)*((_!==0?f:0)+Q*w),be=(k+ae)/2,pe=(P.innerRadius+P.outerRadius)/2,we=[{name:S,value:_,payload:N,dataKey:l,type:d}],X=Gt(P.cx,P.cy,pe,be);return T=Ot(Ot(Ot(Ot({},r.presentationProps),{},{percent:Q,cornerRadius:a,name:S,tooltipPayload:we,midAngle:be,middleRadius:pe,tooltipPosition:X},N),P),{},{value:st(F,l),startAngle:k,endAngle:ae,payload:N,paddingAngle:ur(g)*p}),T})}return I}function dhe(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:o,activeShape:A,inactiveShape:l,onAnimationStart:u,onAnimationEnd:d}=e,f=b_(e,"recharts-pie-"),g=r.current,[m,p]=x.useState(!0),v=x.useCallback(()=>{typeof d=="function"&&d(),p(!1)},[d]),y=x.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return x.createElement(C_,{begin:s,duration:a,isActive:i,easing:o,onAnimationStart:y,onAnimationEnd:v,key:f},w=>{var B=[],I=n&&n[0],T=I.startAngle;return n.forEach((F,C)=>{var _=g&&g[C],S=C>0?to(F,"paddingAngle",0):0;if(_){var P=EF(_.endAngle-_.startAngle,F.endAngle-F.startAngle),Q=Ot(Ot({},F),{},{startAngle:T+S,endAngle:T+P(w)+S});B.push(Q),T=Q.endAngle}else{var{endAngle:k,startAngle:N}=F,ae=EF(0,k-N),be=ae(w),pe=Ot(Ot({},F),{},{startAngle:T+S,endAngle:T+be+S});B.push(pe),T=pe.endAngle}}),r.current=B,x.createElement(Rr,null,x.createElement(Q3,{sectors:B,activeShape:A,inactiveShape:l,allOtherPieProps:e,showLabels:!m}))})}function fhe(t){var{sectors:e,isAnimationActive:r,activeShape:n,inactiveShape:i}=t,s=x.useRef(null),a=s.current;return r&&e&&e.length&&(!a||a!==e)?x.createElement(dhe,{props:t,previousSectorsRef:s}):x.createElement(Q3,{sectors:e,activeShape:n,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function hhe(t){var{hide:e,className:r,rootTabIndex:n}=t,i=We("recharts-pie",r);return e?null:x.createElement(Rr,{tabIndex:n,className:i},x.createElement(fhe,t))}var ghe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!QA.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function mhe(t){var{id:e}=t,r=E_(t,Xfe),n=x.useMemo(()=>Nf(t.children,Vu),[t.children]),i=ye(s=>wfe(s,e,n));return x.createElement(x.Fragment,null,x.createElement(x_,{fn:nhe,args:Ot(Ot({},t),{},{sectors:i})}),x.createElement(hhe,Ns({},r,{sectors:i})))}function __(t){var e=Qn(t,ghe),{id:r}=e,n=E_(e,qfe),i=Ds(n);return x.createElement(B_,{id:r,type:"pie"},s=>x.createElement(x.Fragment,null,x.createElement(Gfe,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),x.createElement(rhe,Ns({},n,{id:s})),x.createElement(mhe,Ns({},n,{id:s})),n.children))}__.displayName="Pie";var phe=G([er],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),vhe=G([phe,js,Rs],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),I_=()=>ye(vhe),yhe=()=>ye(bce);function qP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(r),!0).forEach(function(n){whe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function whe(t,e,r){return(e=xhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xhe(t){var e=bhe(t,"string");return typeof e=="symbol"?e:e+""}function bhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bhe=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var a=JP(JP({index:r,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},Bt(i,!1)),FE(i)),o;return x.isValidElement(i)?o=x.cloneElement(i,a):typeof i=="function"?o=i(a):o=x.createElement(C3,a),x.createElement(Rr,{className:"recharts-active-dot"},o)};function Che(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,s=ye(io),a=yhe();if(e==null||a==null)return null;var o=e.find(A=>a.includes(A.payload));return vt(o)?null:Bhe({point:o,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n})}var Ehe="Invariant failed";function _he(t,e){throw new Error(Ehe)}var Ihe=["x","y"];function mB(){return mB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mB.apply(null,arguments)}function ZP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _c(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(r),!0).forEach(function(n){She(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function She(t,e,r){return(e=The(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function The(t){var e=Fhe(t,"string");return typeof e=="symbol"?e:e+""}function Fhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uhe(t,e){if(t==null)return{};var r,n,i=Phe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Phe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Nhe(t,e){var{x:r,y:n}=t,i=Uhe(t,Ihe),s="".concat(r),a=parseInt(s,10),o="".concat(n),A=parseInt(o,10),l="".concat(e.height||i.height),u=parseInt(l,10),d="".concat(e.width||i.width),f=parseInt(d,10);return _c(_c(_c(_c(_c({},e),i),a?{x:a}:{}),A?{y:A}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function k3(t){return x.createElement(T3,mB({shapeType:"rectangle",propTransformer:Nhe,activeClassName:"recharts-active-bar"},t))}var Qhe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(fe(e))return e;var s=fe(n)||vt(n);return s?e(n,i):(s||_he(),r)}},khe={},Ohe=Nn({name:"errorBars",initialState:khe,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),Dhe=Ohe.reducer,jhe=["children"];function Rhe(t,e){if(t==null)return{};var r,n,i=Mhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Mhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Lhe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Hhe=x.createContext(Lhe);function O3(t){var{children:e}=t,r=Rhe(t,jhe);return x.createElement(Hhe.Provider,{value:r},e)}function S_(t,e){var r,n,i=ye(l=>Ls(l,t)),s=ye(l=>vo(l,e)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:hn.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:gn.allowDataOverflow,A=a||o;return{needClip:A,needClipX:a,needClipY:o}}function D3(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=I_(),{needClipX:s,needClipY:a,needClip:o}=S_(e,r);if(!o)return null;var{x:A,y:l,width:u,height:d}=i;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:s?A:A-u/2,y:a?l:l-d/2,width:s?u:u*2,height:a?d:d*2}))}var Vhe=["onMouseEnter","onMouseLeave","onClick"],Khe=["value","background","tooltipPosition"],$he=["id"],Ghe=["onMouseEnter","onClick","onMouseLeave"];function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wu.apply(null,arguments)}function eN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(r),!0).forEach(function(n){Whe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Whe(t,e,r){return(e=zhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zhe(t){var e=Yhe(t,"string");return typeof e=="symbol"?e:e+""}function Yhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rp(t,e){if(t==null)return{};var r,n,i=Xhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Xhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var qhe=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Nu(r,e),payload:t}]};function Jhe(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:o}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:Nu(s,e),hide:a,type:t.tooltipType,color:t.fill,unit:o}}}function Zhe(t){var e=ye(io),{data:r,dataKey:n,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:o,onClick:A}=s,l=Rp(s,Vhe),u=v_(a,n),d=y_(o),f=w_(A,n);if(!i||r==null)return null;var g=Bt(i,!1);return x.createElement(x.Fragment,null,r.map((m,p)=>{var{value:v,background:y,tooltipPosition:w}=m,B=Rp(m,Khe);if(!y)return null;var I=u(m,p),T=d(m,p),F=f(m,p),C=Or(Or(Or(Or(Or({option:i,isActive:String(p)===e},B),{},{fill:"#eee"},y),g),Pf(l,m,p)),{},{onMouseEnter:I,onMouseLeave:T,onClick:F,dataKey:n,index:p,className:"recharts-bar-background-rectangle"});return x.createElement(k3,wu({key:"background-bar-".concat(p)},C))}))}function j3(t){var{data:e,props:r,showLabels:n}=t,i=Ds(r),s=Rp(i,$he),{shape:a,dataKey:o,activeBar:A}=r,l=ye(io),u=ye(t3),{onMouseEnter:d,onClick:f,onMouseLeave:g}=r,m=Rp(r,Ghe),p=v_(d,o),v=y_(g),y=w_(f,o);return e?x.createElement(x.Fragment,null,e.map((w,B)=>{var I=A&&String(B)===l&&(u==null||o===u),T=I?A:a,F=Or(Or(Or({},s),w),{},{isActive:I,option:T,index:B,dataKey:o});return x.createElement(Rr,wu({className:"recharts-bar-rectangle"},Pf(m,w,B),{onMouseEnter:p(w,B),onMouseLeave:v(w,B),onClick:y(w,B),key:"rectangle-".concat(w==null?void 0:w.x,"-").concat(w==null?void 0:w.y,"-").concat(w==null?void 0:w.value,"-").concat(B)}),x.createElement(k3,F))}),n&&Ha.renderCallByParent(r,e)):null}function ege(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:A,onAnimationEnd:l,onAnimationStart:u}=e,d=r.current,f=b_(e,"recharts-bar-"),[g,m]=x.useState(!1),p=x.useCallback(()=>{typeof l=="function"&&l(),m(!1)},[l]),v=x.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return x.createElement(C_,{begin:a,duration:o,isActive:s,easing:A,onAnimationEnd:p,onAnimationStart:v,key:f},y=>{var w=y===1?n:n==null?void 0:n.map((B,I)=>{var T=d&&d[I];if(T)return Or(Or({},B),{},{x:gi(T.x,B.x,y),y:gi(T.y,B.y,y),width:gi(T.width,B.width,y),height:gi(T.height,B.height,y)});if(i==="horizontal"){var F=gi(0,B.height,y);return Or(Or({},B),{},{y:B.y+B.height-F,height:F})}var C=gi(0,B.width,y);return Or(Or({},B),{},{width:C})});return y>0&&(r.current=w??null),w==null?null:x.createElement(Rr,null,x.createElement(j3,{props:e,data:w,showLabels:!g}))})}function tge(t){var{data:e,isAnimationActive:r}=t,n=x.useRef(null);return r&&e&&e.length&&(n.current==null||n.current!==e)?x.createElement(ege,{previousRectanglesRef:n,props:t}):x.createElement(j3,{props:t,data:e,showLabels:!0})}var R3=0,rge=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:st(t,e)}};class nge extends x.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:o,background:A,id:l}=this.props;if(e)return null;var u=We("recharts-bar",i),d=l;return x.createElement(Rr,{className:u,id:l},o&&x.createElement("defs",null,x.createElement(D3,{clipPathId:d,xAxisId:s,yAxisId:a})),x.createElement(Rr,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},x.createElement(Zhe,{data:r,dataKey:n,background:A,allOtherBarProps:this.props}),x.createElement(tge,this.props)),this.props.children)}}var ige={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!QA.isSsr,legendType:"rect",minPointSize:R3,xAxisId:0,yAxisId:0};function sge(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:A,animationEasing:l,isAnimationActive:u}=t,{needClip:d}=S_(e,r),f=bv(),g=cn(),m=Nf(t.children,Vu),p=ye(w=>Pge(w,e,r,g,t.id,m));if(f!=="vertical"&&f!=="horizontal")return null;var v,y=p==null?void 0:p[0];return y==null||y.height==null||y.width==null?v=0:v=f==="vertical"?y.height/2:y.width/2,x.createElement(O3,{xAxisId:e,yAxisId:r,data:p,dataPointFormatter:rge,errorBarOffset:v},x.createElement(nge,wu({},t,{layout:f,needClip:d,data:p,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:A,animationEasing:l,isAnimationActive:u})))}function age(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:A,yAxisTicks:l,stackedData:u,displayedData:d,offset:f,cells:g}=t,m=e==="horizontal"?o:a,p=u?m.scale.domain():null,v=ase({numericAxis:m});return d.map((y,w)=>{var B,I,T,F,C,_;u?B=ese(u[w],p):(B=st(y,r),Array.isArray(B)||(B=[v,B]));var S=Qhe(n,R3)(B[1],w);if(e==="horizontal"){var P,[Q,k]=[o.scale(B[0]),o.scale(B[1])];I=nU({axis:a,ticks:A,bandSize:s,offset:i.offset,entry:y,index:w}),T=(P=k??Q)!==null&&P!==void 0?P:void 0,F=i.size;var N=Q-k;if(C=In(N)?0:N,_={x:I,y:f.top,width:F,height:f.height},Math.abs(S)>0&&Math.abs(C)<Math.abs(S)){var ae=ur(C||S)*(Math.abs(S)-Math.abs(C));T-=ae,C+=ae}}else{var[be,pe]=[a.scale(B[0]),a.scale(B[1])];if(I=be,T=nU({axis:o,ticks:l,bandSize:s,offset:i.offset,entry:y,index:w}),F=pe-be,C=i.size,_={x:f.left,y:T,width:f.width,height:C},Math.abs(S)>0&&Math.abs(F)<Math.abs(S)){var we=ur(F||S)*(Math.abs(S)-Math.abs(F));F+=we}}if(I==null||T==null||F==null||C==null)return null;var X=Or(Or({},y),{},{x:I,y:T,width:F,height:C,value:u?B:B[1],payload:y,background:_,tooltipPosition:{x:I+F/2,y:T+C/2}},g&&g[w]&&g[w].props);return X}).filter(Boolean)}function fa(t){var e=Qn(t,ige),r=cn();return x.createElement(B_,{id:e.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(U3,{legendPayload:qhe(e)}),x.createElement(x_,{fn:Jhe,args:e}),x.createElement(N3,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:sse(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),x.createElement(sge,wu({},e,{id:n}))))}fa.displayName="Bar";function tN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(r),!0).forEach(function(n){oge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oge(t,e,r){return(e=Age(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Age(t){var e=lge(t,"string");return typeof e=="symbol"?e:e+""}function lge(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uge=(t,e)=>e,cge=(t,e,r)=>r,dge=(t,e,r,n)=>n,fge=(t,e,r,n,i)=>i,Gf=G([Qv,fge],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),hge=G([Gf],t=>t==null?void 0:t.maxBarSize),gge=(t,e,r,n,i,s)=>s,rN=(t,e,r)=>{var n=r??t;if(!vt(n))return Xr(n,e,0)},mge=G([Ve,Qv,uge,cge,dge],(t,e,r,n,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),pge=(t,e,r,n)=>{var i=Ve(t);return i==="horizontal"?lB(t,"yAxis",r,n):lB(t,"xAxis",e,n)},vge=(t,e,r)=>{var n=Ve(t);return n==="horizontal"?hP(t,"xAxis",e):hP(t,"yAxis",r)},yge=(t,e,r)=>{var n={},i=t.filter(Nv),s=t.filter(l=>l.stackId==null),a=i.reduce((l,u)=>(l[u.stackId]||(l[u.stackId]=[]),l[u.stackId].push(u),l),n),o=Object.entries(a).map(l=>{var[u,d]=l,f=d.map(m=>m.dataKey),g=rN(e,r,d[0].barSize);return{stackId:u,dataKeys:f,barSize:g}}),A=s.map(l=>{var u=[l.dataKey].filter(f=>f!=null),d=rN(e,r,l.barSize);return{stackId:void 0,dataKeys:u,barSize:d}});return[...o,...A]},wge=G([mge,Nle,vge],yge),xge=(t,e,r,n,i)=>{var s,a,o=Gf(t,e,r,n,i);if(o!=null){var A=Ve(t),l=r5(t),{maxBarSize:u}=o,d=vt(u)?l:u,f,g;return A==="horizontal"?(f=no(t,"xAxis",e,n),g=ro(t,"xAxis",e,n)):(f=no(t,"yAxis",r,n),g=ro(t,"yAxis",r,n)),(s=(a=rf(f,g,!0))!==null&&a!==void 0?a:d)!==null&&s!==void 0?s:0}},M3=(t,e,r,n)=>{var i=Ve(t),s,a;return i==="horizontal"?(s=no(t,"xAxis",e,n),a=ro(t,"xAxis",e,n)):(s=no(t,"yAxis",r,n),a=ro(t,"yAxis",r,n)),rf(s,a)};function bge(t,e,r,n,i){var s=n.length;if(!(s<1)){var a=Xr(t,r,0,!0),o,A=[];if(Fn(n[0].barSize)){var l=!1,u=r/s,d=n.reduce((y,w)=>y+(w.barSize||0),0);d+=(s-1)*a,d>=r&&(d-=(s-1)*a,a=0),d>=r&&u>0&&(l=!0,u*=.9,d=s*u);var f=(r-d)/2>>0,g={offset:f-a,size:0};o=n.reduce((y,w)=>{var B,I={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:g.offset+g.size+a,size:l?u:(B=w.barSize)!==null&&B!==void 0?B:0}},T=[...y,I];return g=T[T.length-1].position,T},A)}else{var m=Xr(e,r,0,!0);r-2*m-(s-1)*a<=0&&(a=0);var p=(r-2*m-(s-1)*a)/s;p>1&&(p>>=0);var v=Fn(i)?Math.min(p,i):p;o=n.reduce((y,w,B)=>[...y,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m+(p+a)*B+(p-v)/2,size:v}}],A)}return o}}var Bge=(t,e,r,n,i,s,a)=>{var o=vt(a)?e:a,A=bge(r,n,i!==s?i:s,t,o);return i!==s&&A!=null&&(A=A.map(l=>wg(wg({},l),{},{position:wg(wg({},l.position),{},{offset:l.position.offset-i/2})}))),A},Cge=G([wge,r5,Ple,n5,xge,M3,hge],Bge),Ege=(t,e,r,n)=>no(t,"xAxis",e,n),_ge=(t,e,r,n)=>no(t,"yAxis",r,n),Ige=(t,e,r,n)=>ro(t,"xAxis",e,n),Sge=(t,e,r,n)=>ro(t,"yAxis",r,n),Tge=G([Cge,Gf],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),Fge=(t,e)=>{var r=R1(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},Uge=G([pge,Gf],Fge),Pge=G([er,Ege,_ge,Ige,Sge,Tge,Ve,Tv,M3,Uge,Gf,gge],(t,e,r,n,i,s,a,o,A,l,u,d)=>{var{chartData:f,dataStartIndex:g,dataEndIndex:m}=o;if(!(u==null||s==null||a!=="horizontal"&&a!=="vertical"||e==null||r==null||n==null||i==null||A==null)){var{data:p}=u,v;if(p!=null&&p.length>0?v=p:v=f==null?void 0:f.slice(g,m+1),v!=null)return age({layout:a,barSettings:u,pos:s,bandSize:A,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:l,displayedData:v,offset:t,cells:d})}}),L3=t=>{var{chartData:e}=t,r=Pt(),n=cn();return x.useEffect(()=>n?()=>{}:(r(BP(e)),()=>{r(BP(void 0))}),[e,r,n]),null},nN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Nge=Nn({name:"brush",initialState:nN,reducers:{setBrushSettings(t,e){return e.payload==null?nN:e.payload}}}),Qge=Nge.reducer;function kge(t,e,r){return(e=Oge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oge(t){var e=Dge(t,"string");return typeof e=="symbol"?e:e+""}function Dge(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class T_{static create(e){return new T_(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}kge(T_,"EPS",1e-4);function jge(t){return(t%180+180)%180}var Rge=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=jge(i),a=s*Math.PI/180,o=Math.atan(n/r),A=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(A)},Mge={dots:[],areas:[],lines:[]},Lge=Nn({name:"referenceElements",initialState:Mge,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=ys(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=ys(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=ys(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),Hge=Lge.reducer,Vge=x.createContext(void 0),Kge=t=>{var{children:e}=t,[r]=x.useState("".concat(Zd("recharts"),"-clip")),n=I_();if(n==null)return null;var{x:i,y:s,width:a,height:o}=n;return x.createElement(Vge.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function Fw(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function H3(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function $ge(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Rge(n,r)}function Gge(t,e,r){var n=r==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function Mp(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function Wge(t,e){return H3(t,e+1)}function zge(t,e,r,n,i){for(var s=(n||[]).slice(),{start:a,end:o}=e,A=0,l=1,u=a,d=function(){var m=n==null?void 0:n[A];if(m===void 0)return{v:H3(n,l)};var p=A,v,y=()=>(v===void 0&&(v=r(m,p)),v),w=m.coordinate,B=A===0||Mp(t,w,y,u,o);B||(A=0,u=a,l+=1),B&&(u=w+t*(y()/2+i),A+=l)},f;l<=s.length;)if(f=d(),f)return f.v;return[]}function iN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(r),!0).forEach(function(n){Yge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yge(t,e,r){return(e=Xge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xge(t){var e=qge(t,"string");return typeof e=="symbol"?e:e+""}function qge(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jge(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:o}=e,{end:A}=e,l=function(f){var g=s[f],m,p=()=>(m===void 0&&(m=r(g,f)),m);if(f===a-1){var v=t*(g.coordinate+t*p()/2-A);s[f]=g=Nr(Nr({},g),{},{tickCoord:v>0?g.coordinate-v*t:g.coordinate})}else s[f]=g=Nr(Nr({},g),{},{tickCoord:g.coordinate});var y=Mp(t,g.tickCoord,p,o,A);y&&(A=g.tickCoord-t*(p()/2+i),s[f]=Nr(Nr({},g),{},{isShow:!0}))},u=a-1;u>=0;u--)l(u);return s}function Zge(t,e,r,n,i,s){var a=(n||[]).slice(),o=a.length,{start:A,end:l}=e;if(s){var u=n[o-1],d=r(u,o-1),f=t*(u.coordinate+t*d/2-l);a[o-1]=u=Nr(Nr({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var g=Mp(t,u.tickCoord,()=>d,A,l);g&&(l=u.tickCoord-t*(d/2+i),a[o-1]=Nr(Nr({},u),{},{isShow:!0}))}for(var m=s?o-1:o,p=function(w){var B=a[w],I,T=()=>(I===void 0&&(I=r(B,w)),I);if(w===0){var F=t*(B.coordinate-t*T()/2-A);a[w]=B=Nr(Nr({},B),{},{tickCoord:F<0?B.coordinate-F*t:B.coordinate})}else a[w]=B=Nr(Nr({},B),{},{tickCoord:B.coordinate});var C=Mp(t,B.tickCoord,T,A,l);C&&(A=B.tickCoord+t*(T()/2+i),a[w]=Nr(Nr({},B),{},{isShow:!0}))},v=0;v<m;v++)p(v);return a}function F_(t,e,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:A,tickFormatter:l,unit:u,angle:d}=t;if(!i||!i.length||!n)return[];if(fe(A)||QA.isSsr){var f;return(f=Wge(i,fe(A)?A:0))!==null&&f!==void 0?f:[]}var g=[],m=o==="top"||o==="bottom"?"width":"height",p=u&&m==="width"?pd(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=(B,I)=>{var T=typeof l=="function"?l(B.value,I):B.value;return m==="width"?$ge(pd(T,{fontSize:e,letterSpacing:r}),p,d):pd(T,{fontSize:e,letterSpacing:r})[m]},y=i.length>=2?ur(i[1].coordinate-i[0].coordinate):1,w=Gge(s,y,m);return A==="equidistantPreserveStart"?zge(y,w,v,i,a):(A==="preserveStart"||A==="preserveStartEnd"?g=Zge(y,w,v,i,a,A==="preserveStartEnd"):g=Jge(y,w,v,i,a),g.filter(B=>B.isShow))}var eme=["viewBox"],tme=["viewBox"];function Tl(){return Tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tl.apply(null,arguments)}function sN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(r),!0).forEach(function(n){U_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aN(t,e){if(t==null)return{};var r,n,i=rme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function rme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function U_(t,e,r){return(e=nme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nme(t){var e=ime(t,"string");return typeof e=="symbol"?e:e+""}function ime(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class yo extends x.Component{constructor(e){super(e),this.tickRefs=x.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,r){var{viewBox:n}=e,i=aN(e,eme),s=this.props,{viewBox:a}=s,o=aN(s,tme);return!Fw(n,a)||!Fw(i,o)||!Fw(r,this.state)}getTickLineCoord(e){var{x:r,y:n,width:i,height:s,orientation:a,tickSize:o,mirror:A,tickMargin:l}=this.props,u,d,f,g,m,p,v=A?-1:1,y=e.tickSize||o,w=fe(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,g=n+ +!A*s,f=g-v*y,p=f-v*l,m=w;break;case"left":f=g=e.coordinate,d=r+ +!A*i,u=d-v*y,m=u-v*l,p=w;break;case"right":f=g=e.coordinate,d=r+ +A*i,u=d+v*y,m=u+v*l,p=w;break;default:u=d=e.coordinate,g=n+ +A*s,f=g+v*y,p=f+v*l,m=w;break}return{line:{x1:u,y1:f,x2:d,y2:g},tick:{x:m,y:p}}}getTickTextAnchor(){var{orientation:e,mirror:r}=this.props,n;switch(e){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:e,mirror:r}=this.props;switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:e,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:o}=this.props,A=zt(zt(zt({},Bt(this.props,!1)),Bt(o,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var l=+(s==="top"&&!a||s==="bottom"&&a);A=zt(zt({},A),{},{x1:e,y1:r+l*i,x2:e+n,y2:r+l*i})}else{var u=+(s==="left"&&!a||s==="right"&&a);A=zt(zt({},A),{},{x1:e+u*n,y1:r,x2:e+u*n,y2:r+i})}return x.createElement("line",Tl({},A,{className:We("recharts-cartesian-axis-line",to(o,"className"))}))}static renderTickItem(e,r,n){var i,s=We(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(e))i=x.cloneElement(e,zt(zt({},r),{},{className:s}));else if(typeof e=="function")i=e(zt(zt({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=We(a,e.className)),i=x.createElement(Mv,Tl({},r,{className:a}),n)}return i}renderTicks(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:o,unit:A,padding:l}=this.props,u=F_(zt(zt({},this.props),{},{ticks:n}),e,r),d=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),g=Ds(this.props),m=Bt(a,!1),p=zt(zt({},g),{},{fill:"none"},Bt(i,!1)),v=u.map((y,w)=>{var{line:B,tick:I}=this.getTickLineCoord(y),T=zt(zt(zt(zt({textAnchor:d,verticalAnchor:f},g),{},{stroke:"none",fill:s},m),I),{},{index:w,payload:y,visibleTicksCount:u.length,tickFormatter:o,padding:l});return x.createElement(Rr,Tl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},Pf(this.props,y,w)),i&&x.createElement("line",Tl({},p,B,{className:We("recharts-cartesian-axis-tick-line",to(i,"className"))})),a&&yo.renderTickItem(a,T,"".concat(typeof o=="function"?o(y.value,w):y.value).concat(A||"")))});return v.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},v):null}render(){var{axisLine:e,width:r,height:n,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:x.createElement(Rr,{className:We("recharts-cartesian-axis",i),ref:o=>{if(o){var A=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(A);var l=A[0];if(l){var u=window.getComputedStyle(l).fontSize,d=window.getComputedStyle(l).letterSpacing;(u!==this.state.fontSize||d!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(l).fontSize,letterSpacing:window.getComputedStyle(l).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),vn.renderCallByParent(this.props))}}U_(yo,"displayName","CartesianAxis");U_(yo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var sme=["x1","y1","x2","y2","key"],ame=["offset"],ome=["xAxisId","yAxisId"],Ame=["xAxisId","yAxisId"];function oN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(r),!0).forEach(function(n){lme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lme(t,e,r){return(e=ume(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ume(t){var e=cme(t,"string");return typeof e=="symbol"?e:e+""}function cme(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xo(){return Xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xo.apply(null,arguments)}function Lp(t,e){if(t==null)return{};var r,n,i=dme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function dme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var fme=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:o}=t;return x.createElement("rect",{x:n,y:i,ry:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function V3(t,e){var r;if(x.isValidElement(t))r=x.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:s,y2:a,key:o}=e,A=Lp(e,sme),l=Ds(A),u=Lp(l,ame);r=x.createElement("line",Xo({},u,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:o}))}return r}function hme(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var s=Lp(t,ome),a=i.map((o,A)=>{var l=Dr(Dr({},s),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(A),index:A});return V3(n,l)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function gme(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var s=Lp(t,Ame),a=i.map((o,A)=>{var l=Dr(Dr({},s),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(A),index:A});return V3(n,l)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function mme(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:o,horizontal:A=!0}=t;if(!A||!e||!e.length)return null;var l=o.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==l[0]&&l.unshift(0);var u=l.map((d,f)=>{var g=!l[f+1],m=g?i+a-d:l[f+1]-d;if(m<=0)return null;var p=f%e.length;return x.createElement("rect",{key:"react-".concat(f),y:d,x:n,height:m,width:s,stroke:"none",fill:e[p],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function pme(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:o,verticalPoints:A}=t;if(!e||!r||!r.length)return null;var l=A.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==l[0]&&l.unshift(0);var u=l.map((d,f)=>{var g=!l[f+1],m=g?i+a-d:l[f+1]-d;if(m<=0)return null;var p=f%r.length;return x.createElement("rect",{key:"react-".concat(f),x:d,y:s,width:m,height:o,stroke:"none",fill:r[p],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var vme=(t,e)=>{var{xAxis:r,width:n,height:i,offset:s}=t;return NM(F_(Dr(Dr(Dr({},yo.defaultProps),r),{},{ticks:QM(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,e)},yme=(t,e)=>{var{yAxis:r,width:n,height:i,offset:s}=t;return NM(F_(Dr(Dr(Dr({},yo.defaultProps),r),{},{ticks:QM(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,e)},wme={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function oA(t){var e=r1(),r=n1(),n=RM(),i=Dr(Dr({},Qn(t,wme)),{},{x:fe(t.x)?t.x:n.left,y:fe(t.y)?t.y:n.top,width:fe(t.width)?t.width:n.width,height:fe(t.height)?t.height:n.height}),{xAxisId:s,yAxisId:a,x:o,y:A,width:l,height:u,syncWithTicks:d,horizontalValues:f,verticalValues:g}=i,m=cn(),p=ye(S=>gP(S,"xAxis",s,m)),v=ye(S=>gP(S,"yAxis",a,m));if(!fe(l)||l<=0||!fe(u)||u<=0||!fe(o)||o!==+o||!fe(A)||A!==+A)return null;var y=i.verticalCoordinatesGenerator||vme,w=i.horizontalCoordinatesGenerator||yme,{horizontalPoints:B,verticalPoints:I}=i;if((!B||!B.length)&&typeof w=="function"){var T=f&&f.length,F=w({yAxis:v?Dr(Dr({},v),{},{ticks:T?f:v.ticks}):void 0,width:e,height:r,offset:n},T?!0:d);md(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(B=F)}if((!I||!I.length)&&typeof y=="function"){var C=g&&g.length,_=y({xAxis:p?Dr(Dr({},p),{},{ticks:C?g:p.ticks}):void 0,width:e,height:r,offset:n},C?!0:d);md(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(I=_)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(fme,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(mme,Xo({},i,{horizontalPoints:B})),x.createElement(pme,Xo({},i,{verticalPoints:I})),x.createElement(hme,Xo({},i,{offset:n,horizontalPoints:B,xAxis:p,yAxis:v})),x.createElement(gme,Xo({},i,{offset:n,verticalPoints:I,xAxis:p,yAxis:v})))}oA.displayName="CartesianGrid";var K3=(t,e,r,n)=>no(t,"xAxis",e,n),$3=(t,e,r,n)=>ro(t,"xAxis",e,n),G3=(t,e,r,n)=>no(t,"yAxis",r,n),W3=(t,e,r,n)=>ro(t,"yAxis",r,n),xme=G([Ve,K3,G3,$3,W3],(t,e,r,n,i)=>ho(t,"xAxis")?rf(e,n,!1):rf(r,i,!1)),bme=(t,e,r,n,i)=>i;function Bme(t){return t.type==="line"}var Cme=G([Qv,bme],(t,e)=>t.filter(Bme).find(r=>r.id===e)),Eme=G([Ve,K3,G3,$3,W3,Cme,xme,Tv],(t,e,r,n,i,s,a,o)=>{var{chartData:A,dataStartIndex:l,dataEndIndex:u}=o;if(!(s==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||a==null)){var{dataKey:d,data:f}=s,g;if(f!=null&&f.length>0?g=f:g=A==null?void 0:A.slice(l,u+1),g!=null)return Gme({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:d,bandSize:a,displayedData:g})}}),_me=["id"],Ime=["type","layout","connectNulls","needClip"],Sme=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function AN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(r),!0).forEach(function(n){Tme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tme(t,e,r){return(e=Fme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fme(t){var e=Ume(t,"string");return typeof e=="symbol"?e:e+""}function Ume(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P_(t,e){if(t==null)return{};var r,n,i=Pme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Pme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function EA(){return EA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EA.apply(null,arguments)}var Nme=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Nu(r,e),payload:t}]};function Qme(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:s,name:a,hide:o,unit:A}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Nu(a,e),hide:o,type:t.tooltipType,color:t.stroke,unit:A}}}var z3=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function kme(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var Ome=(t,e,r)=>{var n=r.reduce((d,f)=>d+f);if(!n)return z3(e,t);for(var i=Math.floor(t/n),s=t%n,a=e-t,o=[],A=0,l=0;A<r.length;l+=r[A],++A)if(l+r[A]>s){o=[...r.slice(0,A),s-l];break}var u=o.length%2===0?[0,a]:[a];return[...kme(r,i),...o,...u].map(d=>"".concat(d,"px")).join(", ")};function Dme(t,e){var r;if(x.isValidElement(t))r=x.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=We("recharts-line-dot",typeof t!="boolean"?t.className:"");r=x.createElement(C3,EA({},e,{className:n}))}return r}function jme(t,e){return t==null?!1:e?!0:t.length===1}function Rme(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:s,needClip:a}=n;if(!jme(r,i))return null;var o=P_(n,_me),A=hR(i),l=Ds(o),u=Bt(i,!0),d=r.map((g,m)=>{var p=mi(mi(mi({key:"dot-".concat(m),r:3},l),u),{},{index:m,cx:g.x,cy:g.y,dataKey:s,value:g.value,payload:g.payload,points:r});return Dme(i,p)}),f={clipPath:a?"url(#clipPath-".concat(A?"":"dots-").concat(e,")"):void 0};return x.createElement(Rr,EA({className:"recharts-line-dots",key:"dots"},f),d)}function pB(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:s,showLabels:a}=t,{type:o,layout:A,connectNulls:l,needClip:u}=s,d=P_(s,Ime),f=mi(mi({},Bt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):void 0,points:n,type:o,layout:A,connectNulls:l,strokeDasharray:i??s.strokeDasharray});return x.createElement(x.Fragment,null,(n==null?void 0:n.length)>1&&x.createElement(s1,EA({},f,{pathRef:r})),x.createElement(Rme,{points:n,clipPathId:e,props:s}),a&&Ha.renderCallByParent(s,n))}function Mme(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Lme(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:o,isAnimationActive:A,animationBegin:l,animationDuration:u,animationEasing:d,animateNewValues:f,width:g,height:m,onAnimationEnd:p,onAnimationStart:v}=r,y=i.current,w=b_(r,"recharts-line-"),[B,I]=x.useState(!1),T=x.useCallback(()=>{typeof p=="function"&&p(),I(!1)},[p]),F=x.useCallback(()=>{typeof v=="function"&&v(),I(!0)},[v]),C=Mme(n.current),_=s.current;return x.createElement(C_,{begin:l,duration:u,isActive:A,easing:d,onAnimationEnd:T,onAnimationStart:F,key:w},S=>{var P=gi(_,C+_,S),Q=Math.min(P,C),k;if(o){var N="".concat(o).split(/[,\s]+/gim).map(pe=>parseFloat(pe));k=Ome(Q,C,N)}else k=z3(C,Q);if(y){var ae=y.length/a.length,be=S===1?a:a.map((pe,we)=>{var X=Math.floor(we*ae);if(y[X]){var ne=y[X];return mi(mi({},pe),{},{x:gi(ne.x,pe.x,S),y:gi(ne.y,pe.y,S)})}return f?mi(mi({},pe),{},{x:gi(g*2,pe.x,S),y:gi(m/2,pe.y,S)}):mi(mi({},pe),{},{x:pe.x,y:pe.y})});return i.current=be,x.createElement(pB,{props:r,points:be,clipPathId:e,pathRef:n,showLabels:!B,strokeDasharray:k})}return S>0&&C>0&&(i.current=a,s.current=Q),x.createElement(pB,{props:r,points:a,clipPathId:e,pathRef:n,showLabels:!B,strokeDasharray:k})})}function Hme(t){var{clipPathId:e,props:r}=t,{points:n,isAnimationActive:i}=r,s=x.useRef(null),a=x.useRef(0),o=x.useRef(null),A=s.current;return i&&n&&n.length&&A!==n?x.createElement(Lme,{props:r,clipPathId:e,previousPointsRef:s,longestAnimatedLengthRef:a,pathRef:o}):x.createElement(pB,{props:r,points:n,clipPathId:e,pathRef:o,showLabels:!0})}var Vme=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:st(t.payload,e)});class Kme extends x.Component{render(){var e,{hide:r,dot:n,points:i,className:s,xAxisId:a,yAxisId:o,top:A,left:l,width:u,height:d,id:f,needClip:g}=this.props;if(r)return null;var m=We("recharts-line",s),p=f,{r:v=3,strokeWidth:y=2}=(e=Bt(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},w=hR(n),B=v*2+y;return x.createElement(x.Fragment,null,x.createElement(Rr,{className:m},g&&x.createElement("defs",null,x.createElement(D3,{clipPathId:p,xAxisId:a,yAxisId:o}),!w&&x.createElement("clipPath",{id:"clipPath-dots-".concat(p)},x.createElement("rect",{x:l-B/2,y:A-B/2,width:u+B,height:d+B}))),x.createElement(Hme,{props:this.props,clipPathId:p}),x.createElement(O3,{xAxisId:a,yAxisId:o,data:i,dataPointFormatter:Vme,errorBarOffset:0},this.props.children)),x.createElement(Che,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Y3={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!QA.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function $me(t){var e=Qn(t,Y3),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:A,hide:l,isAnimationActive:u,label:d,legendType:f,xAxisId:g,yAxisId:m,id:p}=e,v=P_(e,Sme),{needClip:y}=S_(g,m),w=I_(),B=bv(),I=cn(),T=ye(P=>Eme(P,g,m,I,p));if(B!=="horizontal"&&B!=="vertical"||T==null||w==null)return null;var{height:F,width:C,x:_,y:S}=w;return x.createElement(Kme,EA({},v,{id:p,connectNulls:o,dot:A,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:u,hide:l,label:d,legendType:f,xAxisId:g,yAxisId:m,points:T,layout:B,height:F,width:C,left:_,top:S,needClip:y}))}function Gme(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:o,displayedData:A}=t;return A.map((l,u)=>{var d=st(l,a);if(e==="horizontal"){var f=rU({axis:r,ticks:i,bandSize:o,entry:l,index:u}),g=vt(d)?null:n.scale(d);return{x:f,y:g,value:d,payload:l}}var m=vt(d)?null:r.scale(d),p=rU({axis:n,ticks:s,bandSize:o,entry:l,index:u});return m==null||p==null?null:{x:m,y:p,value:d,payload:l}}).filter(Boolean)}function Ca(t){var e=Qn(t,Y3),r=cn();return x.createElement(B_,{id:e.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(U3,{legendPayload:Nme(e)}),x.createElement(x_,{fn:Qme,args:e}),x.createElement(N3,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),x.createElement($me,EA({},e,{id:n}))))}Ca.displayName="Line";function lN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(r),!0).forEach(function(n){Wme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wme(t,e,r){return(e=zme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zme(t){var e=Yme(t,"string");return typeof e=="symbol"?e:e+""}function Yme(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xme={xAxis:{},yAxis:{},zAxis:{}},X3=Nn({name:"cartesianAxis",initialState:Xme,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=uN(uN({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:qme,removeXAxis:Jme,addYAxis:Zme,removeYAxis:epe,addZAxis:lve,removeZAxis:uve,updateYAxisWidth:tpe}=X3.actions,rpe=X3.reducer,npe=["children"],ipe=["dangerouslySetInnerHTML","ticks"];function q3(t,e,r){return(e=spe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function spe(t){var e=ape(t,"string");return typeof e=="symbol"?e:e+""}function ape(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vB(){return vB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vB.apply(null,arguments)}function J3(t,e){if(t==null)return{};var r,n,i=ope(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ope(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Ape(t){var e=Pt(),r=x.useMemo(()=>{var s=J3(t,npe);return s},[t]),n=ye(s=>Ls(s,r.id)),i=r===n;return x.useEffect(()=>(e(qme(r)),()=>{e(Jme(r))}),[r,e]),i?t.children:null}var lpe=t=>{var{xAxisId:e,className:r}=t,n=ye(jM),i=cn(),s="xAxis",a=ye(d=>Mu(d,s,e,i)),o=ye(d=>O5(d,s,e,i)),A=ye(d=>P5(d,e)),l=ye(d=>Bue(d,e));if(A==null||l==null)return null;var u=J3(t,ipe);return x.createElement(yo,vB({},u,{scale:a,x:l.x,y:l.y,width:A.width,height:A.height,className:We("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o}))},upe=t=>{var e,r,n,i,s;return x.createElement(Ape,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},x.createElement(lpe,t))};class Va extends x.Component{render(){return x.createElement(upe,this.props)}}q3(Va,"displayName","XAxis");q3(Va,"defaultProps",{allowDataOverflow:hn.allowDataOverflow,allowDecimals:hn.allowDecimals,allowDuplicatedCategory:hn.allowDuplicatedCategory,height:hn.height,hide:!1,mirror:hn.mirror,orientation:hn.orientation,padding:hn.padding,reversed:hn.reversed,scale:hn.scale,tickCount:hn.tickCount,type:hn.type,xAxisId:0});var cpe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){e.forEach(u=>{if(u){var d=u.getBoundingClientRect();d.width>a&&(a=d.width)}});var o=r?r.getBoundingClientRect().width:0,A=i+s,l=a+A+o+(r?n:0);return Math.round(l)}return 0},dpe=["dangerouslySetInnerHTML","ticks"];function Z3(t,e,r){return(e=fpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fpe(t){var e=hpe(t,"string");return typeof e=="symbol"?e:e+""}function hpe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yB(){return yB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yB.apply(null,arguments)}function gpe(t,e){if(t==null)return{};var r,n,i=mpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function mpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ppe(t){var e=Pt();return x.useEffect(()=>(e(Zme(t)),()=>{e(epe(t))}),[t,e]),null}var vpe=t=>{var e,{yAxisId:r,className:n,width:i,label:s}=t,a=x.useRef(null),o=x.useRef(null),A=ye(jM),l=cn(),u=Pt(),d="yAxis",f=ye(y=>Mu(y,d,r,l)),g=ye(y=>N5(y,r)),m=ye(y=>Cue(y,r)),p=ye(y=>O5(y,d,r,l));if(x.useLayoutEffect(()=>{var y;if(!(i!=="auto"||!g||f_(s)||x.isValidElement(s))){var w=a.current,B=w==null||(y=w.tickRefs)===null||y===void 0?void 0:y.current,{tickSize:I,tickMargin:T}=w.props,F=cpe({ticks:B,label:o.current,labelGapWithTick:5,tickSize:I,tickMargin:T});Math.round(g.width)!==Math.round(F)&&u(tpe({id:r,width:F}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,g==null?void 0:g.width,g,u,s,r,i]),g==null||m==null)return null;var v=gpe(t,dpe);return x.createElement(yo,yB({},v,{ref:a,labelRef:o,scale:f,x:m.x,y:m.y,width:g.width,height:g.height,className:We("recharts-".concat(d," ").concat(d),n),viewBox:A,ticks:p}))},ype=t=>{var e,r,n,i,s;return x.createElement(x.Fragment,null,x.createElement(ppe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),x.createElement(vpe,t))},wpe={allowDataOverflow:gn.allowDataOverflow,allowDecimals:gn.allowDecimals,allowDuplicatedCategory:gn.allowDuplicatedCategory,hide:!1,mirror:gn.mirror,orientation:gn.orientation,padding:gn.padding,reversed:gn.reversed,scale:gn.scale,tickCount:gn.tickCount,type:gn.type,width:gn.width,yAxisId:0};class Ka extends x.Component{render(){return x.createElement(ype,this.props)}}Z3(Ka,"displayName","YAxis");Z3(Ka,"defaultProps",wpe);var xpe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=x;function bpe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bpe=typeof Object.is=="function"?Object.is:bpe,Cpe=Wf.useSyncExternalStore,Epe=Wf.useRef,_pe=Wf.useEffect,Ipe=Wf.useMemo,Spe=Wf.useDebugValue;xpe.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=Epe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Ipe(function(){function A(g){if(!l){if(l=!0,u=g,g=n(g),i!==void 0&&a.hasValue){var m=a.value;if(i(m,g))return d=m}return d=g}if(m=d,Bpe(u,g))return m;var p=n(g);return i!==void 0&&i(m,p)?(u=g,m):(u=g,d=p)}var l=!1,u,d,f=r===void 0?null:r;return[function(){return A(e())},f===null?void 0:function(){return A(f())}]},[e,r,n,i]);var o=Cpe(t,s[0],s[1]);return _pe(function(){a.hasValue=!0,a.value=o},[o]),Spe(o),o};function Tpe(t){t()}function Fpe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Tpe(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var cN={notify(){},get:()=>[]};function Upe(t,e){let r,n=cN,i=0,s=!1;function a(p){u();const v=n.subscribe(p);let y=!1;return()=>{y||(y=!0,v(),d())}}function o(){n.notify()}function A(){m.onStateChange&&m.onStateChange()}function l(){return s}function u(){i++,r||(r=t.subscribe(A),n=Fpe())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=cN)}function f(){s||(s=!0,u())}function g(){s&&(s=!1,d())}const m={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:A,isSubscribed:l,trySubscribe:f,tryUnsubscribe:g,getListeners:()=>n};return m}var Ppe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Npe=Ppe(),Qpe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",kpe=Qpe(),Ope=()=>Npe||kpe?x.useLayoutEffect:x.useEffect,Dpe=Ope(),Uw=Symbol.for("react-redux-context"),Pw=typeof globalThis<"u"?globalThis:{};function jpe(){if(!x.createContext)return{};const t=Pw[Uw]??(Pw[Uw]=new Map);let e=t.get(x.createContext);return e||(e=x.createContext(null),t.set(x.createContext,e)),e}var Rpe=jpe();function Mpe(t){const{children:e,context:r,serverState:n,store:i}=t,s=x.useMemo(()=>{const A=Upe(i);return{store:i,subscription:A,getServerState:n?()=>n:void 0}},[i,n]),a=x.useMemo(()=>i.getState(),[i]);Dpe(()=>{const{subscription:A}=s;return A.onStateChange=A.notifyNestedSubs,A.trySubscribe(),a!==i.getState()&&A.notifyNestedSubs(),()=>{A.tryUnsubscribe(),A.onStateChange=void 0}},[s,a]);const o=r||Rpe;return x.createElement(o.Provider,{value:s},e)}var Lpe=Mpe,Hpe=(t,e)=>e,N_=G([Hpe,Ve,l5,rr,q5,Hs,Tce,er],Qce),Q_=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},eH=ii("mouseClick"),tH=Qf();tH.startListening({actionCreator:eH,effect:(t,e)=>{var r=t.payload,n=N_(e.getState(),Q_(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(Due({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var wB=ii("mouseMove"),rH=Qf();rH.startListening({actionCreator:wB,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=n_(n,n.tooltip.settings.shared),s=N_(n,Q_(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(K5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(V5()))}});function Vpe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var dN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},nH=Nn({name:"rootProps",initialState:dN,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:dN.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Kpe=nH.reducer,{updateOptions:$pe}=nH.actions,iH=Nn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Gpe}=iH.actions,Wpe=iH.reducer,sH=ii("keyDown"),aH=ii("focus"),k_=Qf();k_.startListening({actionCreator:sH,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(i_(i,Hu(r))),o=Hs(r);if(s==="Enter"){var A=kp(r,"axis","hover",String(i.index));e.dispatch(cB({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:A}));return}var l=Sue(r),u=l==="left-to-right"?1:-1,d=s==="ArrowRight"?1:-1,f=a+d*u;if(!(o==null||f>=o.length||f<0)){var g=kp(r,"axis","hover",String(f));e.dispatch(cB({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});k_.startListening({actionCreator:aH,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=kp(r,"axis","hover",String(s));e.dispatch(cB({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Mn=ii("externalEvent"),oH=Qf();oH.startListening({actionCreator:Mn,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:yce(r),activeDataKey:t3(r),activeIndex:io(r),activeLabel:e3(r),activeTooltipIndex:io(r),isTooltipActive:wce(r)};t.payload.handler(n,t.payload.reactEvent)}}});var zpe=G([Lu],t=>t.tooltipItemPayloads),Ype=G([zpe,Kf,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,r);return a}}}),AH=ii("touchMove"),lH=Qf();lH.startListening({actionCreator:AH,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=n_(n,n.tooltip.settings.shared);if(i==="axis"){var s=N_(n,Q_({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(K5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=r.touches[0],A=document.elementFromPoint(o.clientX,o.clientY);if(!A||!A.getAttribute)return;var l=A.getAttribute(OM),u=(a=A.getAttribute(DM))!==null&&a!==void 0?a:void 0,d=Ype(e.getState(),l,u);e.dispatch(H5({activeDataKey:u,activeIndex:l,activeCoordinate:d}))}}});var Xpe=AM({brush:Qge,cartesianAxis:rpe,chartData:Yce,errorBars:Dhe,graphicalItems:$fe,layout:jie,legend:Ese,options:Kce,polarAxis:ffe,polarOptions:Wpe,referenceElements:Hge,rootProps:Kpe,tooltip:jue}),qpe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return lie({reducer:Xpe,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([tH.middleware,rH.middleware,k_.middleware,oH.middleware,lH.middleware]),devTools:{serialize:{replacer:Vpe},name:"recharts-".concat(r)}})};function uH(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=cn(),s=x.useRef(null);if(i)return r;s.current==null&&(s.current=qpe(e,n));var a=$E;return x.createElement(Lpe,{context:a,store:s.current},r)}function cH(t){var{layout:e,width:r,height:n,margin:i}=t,s=Pt(),a=cn();return x.useEffect(()=>{a||(s(kie(e)),s(Oie({width:r,height:n})),s(Qie(i)))},[s,a,e,r,n,i]),null}function dH(t){var e=Pt();return x.useEffect(()=>{e($pe(t))},[e,t]),null}var Jpe=["children"];function Zpe(t,e){if(t==null)return{};var r,n,i=e0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function e0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Hp(){return Hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hp.apply(null,arguments)}var t0e={width:"100%",height:"100%"},r0e=x.forwardRef((t,e)=>{var r=r1(),n=n1(),i=VM();if(!gu(r)||!gu(n))return null;var{children:s,otherAttributes:a,title:o,desc:A}=t,l,u;return typeof a.tabIndex=="number"?l=a.tabIndex:l=i?0:void 0,typeof a.role=="string"?u=a.role:u=i?"application":void 0,x.createElement(UE,Hp({},a,{title:o,desc:A,role:u,tabIndex:l,width:r,height:n,style:t0e,ref:e}),s)}),n0e=t=>{var{children:e}=t,r=ye(xv);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return x.createElement(UE,{width:n,height:i,x:a,y:s},e)},fN=x.forwardRef((t,e)=>{var{children:r}=t,n=Zpe(t,Jpe),i=cn();return i?x.createElement(n0e,null,r):x.createElement(r0e,Hp({ref:e},n),r)});function i0e(){var t=Pt(),[e,r]=x.useState(null),n=ye(fse);return x.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Fn(s)&&s!==n&&t(Die(s))}},[e,t,n]),r}function hN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s0e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(r),!0).forEach(function(n){a0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a0e(t,e,r){return(e=o0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o0e(t){var e=A0e(t,"string");return typeof e=="symbol"?e:e+""}function A0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l0e=x.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:A,onMouseEnter:l,onMouseLeave:u,onMouseMove:d,onMouseUp:f,onTouchEnd:g,onTouchMove:m,onTouchStart:p,style:v,width:y}=t,w=Pt(),[B,I]=x.useState(null),[T,F]=x.useState(null);Jce();var C=i0e(),_=x.useCallback(te=>{C(te),typeof e=="function"&&e(te),I(te),F(te)},[C,e,I,F]),S=x.useCallback(te=>{w(eH(te)),w(Mn({handler:s,reactEvent:te}))},[w,s]),P=x.useCallback(te=>{w(wB(te)),w(Mn({handler:l,reactEvent:te}))},[w,l]),Q=x.useCallback(te=>{w(V5()),w(Mn({handler:u,reactEvent:te}))},[w,u]),k=x.useCallback(te=>{w(wB(te)),w(Mn({handler:d,reactEvent:te}))},[w,d]),N=x.useCallback(()=>{w(aH())},[w]),ae=x.useCallback(te=>{w(sH(te.key))},[w]),be=x.useCallback(te=>{w(Mn({handler:a,reactEvent:te}))},[w,a]),pe=x.useCallback(te=>{w(Mn({handler:o,reactEvent:te}))},[w,o]),we=x.useCallback(te=>{w(Mn({handler:A,reactEvent:te}))},[w,A]),X=x.useCallback(te=>{w(Mn({handler:f,reactEvent:te}))},[w,f]),ne=x.useCallback(te=>{w(Mn({handler:p,reactEvent:te}))},[w,p]),ce=x.useCallback(te=>{w(AH(te)),w(Mn({handler:m,reactEvent:te}))},[w,m]),Fe=x.useCallback(te=>{w(Mn({handler:g,reactEvent:te}))},[w,g]);return x.createElement(o3.Provider,{value:B},x.createElement(gR.Provider,{value:T},x.createElement("div",{className:We("recharts-wrapper",n),style:s0e({position:"relative",cursor:"default",width:y,height:i},v),onClick:S,onContextMenu:be,onDoubleClick:pe,onFocus:N,onKeyDown:ae,onMouseDown:we,onMouseEnter:P,onMouseLeave:Q,onMouseMove:k,onMouseUp:X,onTouchEnd:Fe,onTouchMove:ce,onTouchStart:ne,ref:_},r)))}),u0e=["children","className","width","height","style","compact","title","desc"];function c0e(t,e){if(t==null)return{};var r,n,i=d0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function d0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var fH=x.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:s,style:a,compact:o,title:A,desc:l}=t,u=c0e(t,u0e),d=Ds(u);return o?x.createElement(fN,{otherAttributes:d,title:A,desc:l},r):x.createElement(l0e,{className:n,style:a,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},x.createElement(fN,{otherAttributes:d,title:A,desc:l,ref:e},x.createElement(Kge,null,r)))}),f0e=["width","height"];function xB(){return xB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xB.apply(null,arguments)}function h0e(t,e){if(t==null)return{};var r,n,i=g0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function g0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var m0e={top:5,right:5,bottom:5,left:5},p0e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:m0e,reverseStackOrder:!1,syncMethod:"index"},hH=x.forwardRef(function(e,r){var n,i=Qn(e.categoricalChartProps,p0e),{width:s,height:a}=i,o=h0e(i,f0e);if(!gu(s)||!gu(a))return null;var{chartName:A,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=e,g={chartName:A,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(uH,{preloadedState:{options:g},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:A},x.createElement(L3,{chartData:f.data}),x.createElement(cH,{width:s,height:a,layout:i.layout,margin:i.margin}),x.createElement(dH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(fH,xB({},o,{width:s,height:a,ref:r})))}),v0e=["axis"],O_=x.forwardRef((t,e)=>x.createElement(hH,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:v0e,tooltipPayloadSearcher:d_,categoricalChartProps:t,ref:e})),y0e=["axis","item"],bB=x.forwardRef((t,e)=>x.createElement(hH,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:y0e,tooltipPayloadSearcher:d_,categoricalChartProps:t,ref:e}));function w0e(t){var e=Pt();return x.useEffect(()=>{e(Gpe(t))},[e,t]),null}var x0e=["width","height","layout"];function BB(){return BB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BB.apply(null,arguments)}function b0e(t,e){if(t==null)return{};var r,n,i=B0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function B0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var C0e={top:5,right:5,bottom:5,left:5},E0e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:C0e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},_0e=x.forwardRef(function(e,r){var n,i=Qn(e.categoricalChartProps,E0e),{width:s,height:a,layout:o}=i,A=b0e(i,x0e);if(!gu(s)||!gu(a))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f}=e,g={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(uH,{preloadedState:{options:g},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:l},x.createElement(L3,{chartData:i.data}),x.createElement(cH,{width:s,height:a,layout:o,margin:i.margin}),x.createElement(dH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(w0e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(fH,BB({width:s,height:a},A,{ref:r})))}),I0e=["item"],S0e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},gH=x.forwardRef((t,e)=>{var r=Qn(t,S0e);return x.createElement(_0e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:I0e,tooltipPayloadSearcher:d_,categoricalChartProps:r,ref:e})});const Ti=["7-11 新街門市","A21 環北站","7-11 高萱門市","A18 桃園高鐵站","A16 橫山站","大園農會","不搭車"],gN={"A21 環北站":{name:"A21 環北站",originalPrice:65,monthlyPass:{30:1260,90:3564,120:3888}},"A19 體育園區站":{name:"A19 體育園區站",originalPrice:40,monthlyPass:{30:735,90:2079,120:2268}},"7-11 高萱門市":{name:"A19 體育園區站",originalPrice:40,monthlyPass:{30:735,90:2079,120:2268}},"A18 桃園高鐵站":{name:"A18 桃園高鐵站",originalPrice:35,monthlyPass:{30:630,90:1782,120:1944}}},T0e={name:"TPass 799",price:799,days:30,description:"A7-A22 無限搭乘 30天"},Nw={K:"早",L:"中",Y:"晚",月休:"休",SS:"特",R:"休",KK:"早",YY:"晚",早班:"早",中班:"中",晚班:"晚"},xg=(t=[])=>{const e=[],r=new Date,n=r.getFullYear(),i=r.getMonth()+1,s=`${n}-${i.toString().padStart(2,"0")}`;return t.length>0?t.sort((o,A)=>A.key.localeCompare(o.key)).forEach(o=>{let A=o.label;o.key===s&&(A+=" (當月)"),e.push({key:o.key,label:A,year:parseInt(o.key.split("-")[0]),month:parseInt(o.key.split("-")[1]),lastUpdated:o.lastUpdated})}):e.push({key:s,label:`${n}年${i}月 (當月)`,year:n,month:i}),e},F0e=()=>{const t=[],e=new Date;for(let s=12;s>=1;s--){const a=new Date(e.getFullYear(),e.getMonth()-s,1),o=a.getFullYear(),A=a.getMonth()+1,l=`${o}-${A.toString().padStart(2,"0")}`,u=`${o}年${A}月`;t.push({key:l,label:u,year:o,month:A})}const r=e.getFullYear(),n=e.getMonth()+1,i=`${r}-${n.toString().padStart(2,"0")}`;t.push({key:i,label:`${r}年${n}月 (當月)`,year:r,month:n});for(let s=1;s<=6;s++){const a=new Date(e.getFullYear(),e.getMonth()+s,1),o=a.getFullYear(),A=a.getMonth()+1,l=`${o}-${A.toString().padStart(2,"0")}`;let u=`${o}年${A}月`;s===1&&(u+=" (下個月)"),t.push({key:l,label:u,year:o,month:A})}return t};function U0e(){const[t,e]=x.useState("display"),[r,n]=x.useState({}),[i,s]=x.useState({}),[a,o]=x.useState(()=>{const D=new Date,M=D.getFullYear(),q=D.getMonth()+1;return`${M}-${q.toString().padStart(2,"0")}`}),[A,l]=x.useState({}),[u,d]=x.useState({}),[f,g]=x.useState([]);x.useState(!1);const[m,p]=x.useState({}),[v,y]=x.useState({}),[w,B]=x.useState("date"),[I,T]=x.useState("all"),[F,C]=x.useState(null),[_,S]=x.useState("week1"),[P,Q]=x.useState(null),[k,N]=x.useState(null),[ae,be]=x.useState([]),[pe,we]=x.useState({start:1,end:31}),[X,ne]=x.useState([]),[ce,Fe]=x.useState("charts"),[te,ke]=x.useState("chart"),[Xe,Oe]=x.useState(null),[O,j]=x.useState(""),[R,K]=x.useState(null),[$,z]=x.useState("");x.useState("current");const[L,oe]=x.useState(""),[ie,Ie]=x.useState("import"),[Ne,Be]=x.useState({id:"",name:"",pickupLocation:Ti[0]});x.useEffect(()=>{At(),Vs()},[]),x.useEffect(()=>{if(f.length>0){const D=new Date,M=D.getFullYear(),q=D.getMonth()+1,J=`${M}-${q.toString().padStart(2,"0")}`;if(f.some(Ae=>Ae.key===J))o(J);else{const Ae=f[0];Ae&&o(Ae.key)}}},[f]),x.useEffect(()=>{ce==="charts"?N(null):ce==="overlap"&&Q(null)},[ce]),x.useEffect(()=>{const D=Wd(Fi(or,"schedule","currentMonth"),q=>{if(q.exists()){const J=q.data();n(J),l(Z=>({...Z,current:J._lastUpdated}))}}),M=Wd(Fi(or,"schedule","nextMonth"),q=>{if(q.exists()){const J=q.data();s(J),l(Z=>({...Z,next:J._lastUpdated}))}});return()=>{D(),M()}},[]);const At=async()=>{try{const D=await Ad(ad(or,"schedule")),M={},q=[];D.forEach(Z=>{const Ae=Z.data();M[Z.id]=Ae,Z.id.match(/^\d{4}-\d{2}$/)&&q.push({key:Z.id,label:`${Z.id.split("-")[0]}年${Z.id.split("-")[1]}月`,lastUpdated:Ae._lastUpdated})}),d(M),g(q.sort((Z,Ae)=>Ae.key.localeCompare(Z.key)));const J={};M.currentMonth&&(n(M.currentMonth),J.current=M.currentMonth._lastUpdated),M.nextMonth&&(s(M.nextMonth),J.next=M.nextMonth._lastUpdated),q.forEach(Z=>{J[Z.key]=Z.lastUpdated}),l(J)}catch(D){console.error("載入班表資料失敗:",D)}},Vs=async()=>{try{const D=await Ad(ad(or,"names")),M={};D.forEach(Z=>{M[Z.id]=Z.data().name}),p(M);const q=await Ad(ad(or,"pickupLocations")),J={};q.forEach(Z=>{J[Z.id]=Z.data().location}),y(J)}catch(D){console.error("載入同事資料失敗:",D)}},Ks=async()=>{try{for(const[D,M]of Object.entries(m))await Ko(Fi(or,"names",D),{name:M});for(const[D,M]of Object.entries(v))await Ko(Fi(or,"pickupLocations",D),{location:M});alert("同事資料已儲存")}catch(D){console.error("儲存同事資料失敗:",D),alert("儲存失敗")}},wo=()=>{confirm("確定要清空所有同事資料嗎？")&&(p({}),y({}))},jA=()=>{const{id:D,name:M,pickupLocation:q}=Ne;if(!D||!M){alert("請填寫職員編號和姓名");return}if(m[D]){alert("職員編號已存在");return}p(J=>({...J,[D]:M})),y(J=>({...J,[D]:q})),Be({id:"",name:"",pickupLocation:Ti[0]})},$s=D=>{confirm(`確定要刪除 ${m[D]} 嗎？`)&&(p(M=>{const q={...M};return delete q[D],q}),y(M=>{const q={...M};return delete q[D],q}))},xo=(D,M)=>{p(q=>({...q,[D]:M}))},zf=(D,M)=>{y(q=>({...q,[D]:M}))},ir=()=>{if(!O.trim()){z("請輸入資料");return}try{const D=O.trim().split(`
`),M={};let q=null,J=0;for(const Z of D){if(J++,!Z.trim())continue;console.log(`處理第 ${J} 行:`,Z);const Ae=Z.split("	");if(console.log("分割後的欄位:",Ae),J<=2){console.log("跳過標題行或日期行");continue}const Se=Ae[0].trim(),Ke=Ae[1].trim();if(Se&&Ke&&Se.match(/^A\d+$/)&&(console.log("發現同事資料行:",Se,Ke),Ae[2]&&Ae[2].trim()==="班別排班")){q={id:Se,name:Ke,schedule:[]};const Pe=Ae.slice(3);console.log("班表資料:",Pe);const Ee=Pe.map(Mr=>{const ut=Mr.trim();return ut?Nw[ut]?Nw[ut]:ut:""});console.log("處理後的班表:",Ee);const nt=Ke.replace(/\d+/g,"").trim();M[Se]={name:nt,schedule:Ee}}}K(M),z("")}catch{z("解析資料時發生錯誤")}},fr=async()=>{if(!R){alert("請先解析資料");return}if(!L){alert("請選擇要儲存的月份");return}try{const D={};for(const[M,q]of Object.entries(R)){if(!M||M.trim()===""){console.warn("跳過空的職員編號");continue}D[M]={},q.schedule.forEach((J,Z)=>{const Ae=`${Z+1}`;J&&J.trim()&&(D[M][Ae]=J)}),console.log(`同事 ${M}: ${Object.keys(D[M]).length} 個班次`)}D._lastUpdated=new Date().toISOString(),console.log("準備上傳資料:",D),console.log("資料結構檢查:");for(const[M,q]of Object.entries(D))M!=="_lastUpdated"&&console.log(`- ${M}: ${Object.keys(q).length} 個班次`);await Ko(Fi(or,"schedule",L),D),console.log("班表上傳成功");for(const[M,q]of Object.entries(R))if(!m[M])try{await Ko(Fi(or,"names",M),{name:q.name}),console.log(`同事 ${M} 姓名已更新`)}catch(J){console.warn(`更新同事 ${M} 姓名失敗:`,J)}await At(),alert(`班表已成功儲存到 ${L}！`),j(""),K(null),oe("")}catch(D){console.error("上傳班表失敗:",D);let M="上傳失敗";D.code==="permission-denied"?M="權限不足，請檢查 Firebase 安全規則":D.code==="unavailable"?M="網路連線問題，請檢查網路連線":D.message&&(M=`上傳失敗: ${D.message}`),alert(M)}},Gs=()=>{let D;a==="current"?D=r:a==="next"?D=i:D=u[a]||{};const M=Object.keys(D).filter(Z=>Z!=="_lastUpdated"),q=(Z,Ae)=>{var Pe,Ee;const Se=parseInt(((Pe=Z.match(/\d+/))==null?void 0:Pe[0])||"0"),Ke=parseInt(((Ee=Ae.match(/\d+/))==null?void 0:Ee[0])||"0");return Se-Ke};let J=M;return F?J=[F]:X.length>0&&(J=X),J.sort(q)},lt=()=>a==="current"?r:a==="next"?i:u[a]||{},Yf=D=>{if(!D)return null;const M={totalMonths:0,totalShifts:0,earlyShifts:0,midShifts:0,nightShifts:0,restDays:0,specialShifts:0,averageShiftsPerMonth:0,averageEarlyPerMonth:0,averageMidPerMonth:0,averageNightPerMonth:0,averageRestPerMonth:0,averageSpecialPerMonth:0};return Object.keys(u).forEach(q=>{if(q==="_lastUpdated")return;const Z=u[q][D];Z&&(M.totalMonths++,Object.keys(Z).forEach(Ae=>{if(Ae==="_lastUpdated")return;const Se=Z[Ae];if(Se)switch(M.totalShifts++,Se){case"早":M.earlyShifts++;break;case"中":M.midShifts++;break;case"晚":M.nightShifts++;break;case"休":M.restDays++;break;case"特":M.specialShifts++;break}}))}),M.totalMonths>0&&(M.averageShiftsPerMonth=Math.round(M.totalShifts/M.totalMonths),M.averageEarlyPerMonth=Math.round(M.earlyShifts/M.totalMonths),M.averageMidPerMonth=Math.round(M.midShifts/M.totalMonths),M.averageNightPerMonth=Math.round(M.nightShifts/M.totalMonths),M.averageRestPerMonth=Math.round(M.restDays/M.totalMonths),M.averageSpecialPerMonth=Math.round(M.specialShifts/M.totalMonths)),M},Lv=()=>new Date().getDate(),Ws=D=>{const M=new Date,q=[];for(let J=0;J<D;J++){const Z=new Date(M);Z.setDate(M.getDate()+J),q.push(Z.getDate())}return q},bo=()=>{switch(I){case"today":return[Lv()];case"3days":return Ws(3);case"7days":return Ws(7);case"custom":return Array.from({length:pe.end-pe.start+1},(J,Z)=>pe.start+Z);default:let D,M;if(a==="current"){const J=new Date;D=J.getFullYear(),M=J.getMonth()+1}else if(a==="next"){const J=new Date;D=J.getFullYear(),M=J.getMonth()+2}else{const[J,Z]=a.split("-");D=parseInt(J),M=parseInt(Z)}const q=new Date(D,M,0).getDate();return Array.from({length:q},(J,Z)=>Z+1)}},Xf=D=>{const M=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),q=1,J=M;if(!D||!v[D])return null;const Z=v[D];if(Z==="不搭車"||!gN[Z])return null;const Se=lt()[D];if(!Se)return null;let Ke=0,Pe=0;for(let Bo=q;Bo<=J;Bo++){const Lr=Se[Bo];Lr&&Lr!=="休"&&Lr!=="特"&&(Pe++,Lr==="早"?Ke+=1:(Lr==="中"||Lr==="晚")&&(Ke+=2))}if(Ke===0)return null;const Ee=gN[Z],nt=Ke*Ee.originalPrice,Mr=Math.ceil(nt*.7),ut=[];Object.entries(Ee.monthlyPass).forEach(([Bo,Lr])=>{const Gu=parseInt(Bo),MA=Lr,LA=Lr/(Gu/30);ut.push({days:Gu,price:Lr,totalCost:MA,averagePricePerMonth:LA,savings:nt-MA})});const kn=T0e.price,RA=kn/30,hr=Math.ceil((kn-nt)/Ee.originalPrice),Kv=()=>nt>=kn?{type:"recommended",text:"TPass比原價划算，強烈推薦！"}:hr<=5?{type:"consider",text:`只需額外搭乘${hr}次即可回本，建議考慮`}:hr<=10?{type:"maybe",text:`需要額外搭乘${hr}次才回本，可考慮其他方案`}:{type:"not-recommended",text:`需要額外搭乘${hr}次才回本，不建議`};return{employeeId:D,employeeName:m[D]||D,location:Z,workDays:Pe,totalTrips:Ke,originalTotal:nt,citizenCardTotal:Mr,monthlyPassOptions:ut,tpassTotal:kn,tpassDailyCost:RA,breakEvenTrips:hr,tpassRecommendation:Kv(),recommendations:[]}},Ku=()=>{const D=Jf();D&&(document.body.appendChild(D),setTimeout(()=>{aR(D,{backgroundColor:"#ffffff",scale:2,useCORS:!0,allowTaint:!0}).then(M=>{const q=document.createElement("a");q.download=`乘車表_${a==="current"?"當月":"下個月"}_${new Date().toISOString().split("T")[0]}.png`,q.href=M.toDataURL(),q.click(),document.body.removeChild(D)}).catch(M=>{console.error("匯出失敗:",M),document.body.removeChild(D)})},500))},Hv=()=>{const D=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),M=[];for(let q=1;q<=Math.ceil(D/7);q++){const J=(q-1)*7+1,Z=Math.min(q*7,D);M.push(c.jsxs("option",{value:`week${q}`,children:[new Date().getMonth()+1,"月",J,"日 - ",new Date().getMonth()+1,"月",Z,"日"]},`week${q}`))}return M},Vv=()=>{const D=lt(),M=parseInt(_.replace("week","")),q=(M-1)*7+1,J=Math.min(M*7,new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate());let Z="";for(let Ae=q;Ae<=J;Ae++){const Se={};Object.keys(D).forEach(Ke=>{var nt;if(Ke==="_lastUpdated")return;const Pe=v[Ke];if(!Pe||Pe==="不搭車")return;((nt=D[Ke])==null?void 0:nt[Ae])==="早"&&(Se[Pe]=(Se[Pe]||0)+1)}),Z+=`${new Date().getMonth()+1}/${Ae}
`,Object.keys(Se).length>0&&["A21 環北站","7-11 高萱門市","7-11 新街門市","A18 桃園高鐵站"].forEach(Pe=>{Se[Pe]&&(Z+=`${Pe}${Se[Pe]}人
`)}),Z+=`
`}navigator.clipboard.writeText(Z.trim()).then(()=>{alert("Line 群文字已複製到剪貼簿！")}).catch(()=>{prompt("請複製以下文字：",Z.trim())})},$u=()=>{const D=lt(),M={};Object.keys(D).forEach(J=>{J!=="_lastUpdated"&&(M[J]={})});const q=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let J=1;J<=q;J++){const Z={};Object.keys(D).forEach(Ae=>{var Ke;if(Ae==="_lastUpdated")return;const Se=(Ke=D[Ae])==null?void 0:Ke[J];Se&&Se!=="休"&&(Z[Se]||(Z[Se]=[]),Z[Se].push(Ae))}),Object.keys(Z).forEach(Ae=>{const Se=Z[Ae];for(let Ke=0;Ke<Se.length;Ke++)for(let Pe=Ke+1;Pe<Se.length;Pe++){const Ee=Se[Ke],nt=Se[Pe];M[Ee][nt]||(M[Ee][nt]=0),M[nt][Ee]||(M[nt][Ee]=0),M[Ee][nt]++,M[nt][Ee]++}}),Z.早&&Z.中&&Z.早.forEach(Ae=>{Z.中.forEach(Se=>{M[Ae][Se]||(M[Ae][Se]=0),M[Se][Ae]||(M[Se][Ae]=0),M[Ae][Se]++,M[Se][Ae]++})}),Z.中&&Z.晚&&Z.中.forEach(Ae=>{Z.晚.forEach(Se=>{M[Ae][Se]||(M[Ae][Se]=0),M[Se][Ae]||(M[Se][Ae]=0),M[Ae][Se]++,M[Se][Ae]++})})}return M},qf=D=>{const q=$u()[D]||{};return Object.entries(q).map(([J,Z])=>({employeeId:J,name:m[J]||J,count:Z})).sort((J,Z)=>Z.count-J.count).filter(J=>J.count>0)},Jf=()=>{const D=lt(),M=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),q={};for(let Pe=1;Pe<=M;Pe++)q[Pe]={},Ti.forEach(Ee=>{q[Pe][Ee]=0});Object.keys(D).forEach(Pe=>{var nt;if(Pe==="_lastUpdated")return;const Ee=v[Pe];if(!(!Ee||Ee==="不搭車"))for(let Mr=1;Mr<=M;Mr++)((nt=D[Pe])==null?void 0:nt[Mr])==="早"&&q[Mr][Ee]++});const J=document.createElement("div");J.style.cssText=`
      position: fixed;
      top: -9999px;
      left: -9999px;
      width: 1200px;
      background: white;
      padding: 40px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      color: #333;
    `;const Z=document.createElement("h1");Z.textContent=`${new Date().getFullYear()}年${new Date().getMonth()+1}月 乘車統計表`,Z.style.cssText=`
      text-align: center;
      font-size: 32px;
      font-weight: bold;
      margin-bottom: 30px;
      color: #2c3e50;
    `,J.appendChild(Z);const Ae=document.createElement("div");Ae.style.cssText=`
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
      margin-top: 20px;
    `,["日","一","二","三","四","五","六"].forEach(Pe=>{const Ee=document.createElement("div");Ee.textContent=Pe,Ee.style.cssText=`
        text-align: center;
        font-weight: bold;
        font-size: 18px;
        padding: 15px 10px;
        background: #f8f9fa;
        border-radius: 8px;
        color: #495057;
      `,Ae.appendChild(Ee)});const Ke=new Date(new Date().getFullYear(),new Date().getMonth(),1).getDay();for(let Pe=0;Pe<Ke;Pe++){const Ee=document.createElement("div");Ee.style.cssText=`
        height: 120px;
        background: #f8f9fa;
        border-radius: 8px;
      `,Ae.appendChild(Ee)}for(let Pe=1;Pe<=M;Pe++){const Ee=document.createElement("div");Ee.style.cssText=`
        height: 120px;
        border: 2px solid #e9ecef;
        border-radius: 8px;
        padding: 8px;
        background: white;
        position: relative;
      `;const nt=document.createElement("div");if(nt.textContent=Pe,nt.style.cssText=`
        font-size: 16px;
        font-weight: bold;
        color: #495057;
        margin-bottom: 8px;
        text-align: center;
      `,Ee.appendChild(nt),Ti.some(ut=>{var kn;return ut!=="不搭車"&&((kn=q[Pe])==null?void 0:kn[ut])>0}))Ti.filter(ut=>ut!=="不搭車").forEach(ut=>{var RA;const kn=((RA=q[Pe])==null?void 0:RA[ut])||0;if(kn>0){const hr=document.createElement("div");hr.style.cssText=`
               font-size: 12px;
               margin: 2px 0;
               color: #333;
               text-align: center;
             `,hr.textContent=`${ut}: ${kn}人`,Ee.appendChild(hr)}});else{const ut=document.createElement("div");ut.textContent="無乘車",ut.style.cssText=`
           font-size: 12px;
           color: #6c757d;
           text-align: center;
           margin-top: 20px;
         `,Ee.appendChild(ut)}Ae.appendChild(Ee)}return J.appendChild(Ae),J};return c.jsxs("div",{className:"container-custom py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"班表管理工具"}),c.jsx("p",{className:"text-center text-text-secondary",children:"早班好"})]}),c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx("div",{className:"bg-surface/40 rounded-xl p-1 border border-white/10 w-full max-w-4xl",children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-1",children:[c.jsxs("button",{onClick:()=>e("display"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="display"?"bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-blue-400 border border-blue-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[c.jsx(ud,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"顯示班表"}),c.jsx("span",{className:"sm:hidden",children:"班表"})]}),c.jsxs("button",{onClick:()=>e("transport"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="transport"?"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 text-yellow-400 border border-yellow-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[c.jsx(sX,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"交通及車費試算"}),c.jsx("span",{className:"sm:hidden",children:"交通"})]}),c.jsxs("button",{onClick:()=>e("statistics"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="statistics"?"bg-gradient-to-r from-purple-500/20 to-pink-500/20 text-purple-400 border border-purple-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[c.jsx(ej,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"統計功能"}),c.jsx("span",{className:"sm:hidden",children:"統計"})]}),c.jsxs("button",{onClick:()=>e("import"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="import"?"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-400 border border-green-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[c.jsx(kh,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"匯入與轉換班表"}),c.jsx("span",{className:"sm:hidden",children:"匯入"})]})]})})}),t==="display"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 md:p-6 lg:p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"月份"}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:a,onChange:D=>o(D.target.value),className:"w-full px-3 py-2 md:px-4 md:py-3 bg-white/10 border border-white/20 rounded-xl focus:border-blue-400/50 focus:bg-white/20 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200 appearance-none cursor-pointer text-sm md:text-base",children:xg(f).map(D=>c.jsx("option",{value:D.key,children:D.label},D.key))}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"顯示模式"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:w,onChange:D=>B(D.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"date",children:"日期視圖"}),c.jsx("option",{value:"employee",children:"同事視圖"}),c.jsx("option",{value:"partner",children:"搭班視圖"})]}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-green-300 group-hover:text-green-200 transition-colors",children:"篩選"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:I,onChange:D=>T(D.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-green-400/50 focus:bg-white/20 focus:ring-2 focus:ring-green-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"all",children:"全部"}),c.jsx("option",{value:"today",children:"今天"}),c.jsx("option",{value:"3days",children:"接下來 3 天"}),c.jsx("option",{value:"7days",children:"接下來 7 天"}),c.jsx("option",{value:"custom",children:"自定義範圍"})]}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300 group-hover:text-orange-200 transition-colors",children:"選擇同事"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:F||"",onChange:D=>C(D.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-orange-400/50 focus:bg-white/20 focus:ring-2 focus:ring-orange-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"",children:"顯示所有同事"}),Object.keys(lt()).filter(D=>D!=="_lastUpdated").sort((D,M)=>{var Z,Ae;const q=parseInt(((Z=D.match(/\d+/))==null?void 0:Z[0])||"0"),J=parseInt(((Ae=M.match(/\d+/))==null?void 0:Ae[0])||"0");return q-J}).map(D=>c.jsx("option",{value:D,children:m[D]||D},D))]}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),A[a]&&c.jsx("div",{className:"mt-6 flex items-center justify-center",children:c.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-surface/30 rounded-full border border-white/10",children:[c.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsxs("span",{className:"text-sm text-gray-300",children:["最後更新：",new Date(A[a]).toLocaleString()]})]})})]}),(I==="custom"||ae.length>0||X.length>0)&&c.jsxs("div",{className:"bg-gradient-to-br from-surface/50 to-surface/30 rounded-2xl p-4 md:p-6 border border-white/15 shadow-lg backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-semibold mb-4 text-cyan-300",children:"進階篩選"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[I==="custom"&&c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-cyan-300",children:"日期範圍"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"number",min:"1",max:"31",value:pe.start,onChange:D=>we(M=>({...M,start:parseInt(D.target.value)})),className:"w-1/2 px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:border-cyan-400/50 focus:bg-white/20 text-sm",placeholder:"開始日期"}),c.jsx("span",{className:"text-gray-400 self-center",children:"至"}),c.jsx("input",{type:"number",min:"1",max:"31",value:pe.end,onChange:D=>we(M=>({...M,end:parseInt(D.target.value)})),className:"w-1/2 px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:border-cyan-400/50 focus:bg-white/20 text-sm",placeholder:"結束日期"})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-pink-300",children:"班次篩選"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:["早","中","晚","休","特"].map(D=>c.jsx("button",{onClick:()=>{ae.includes(D)?be(M=>M.filter(q=>q!==D)):be(M=>[...M,D])},className:`px-3 py-1 rounded-lg text-xs font-medium transition-all ${ae.includes(D)?"bg-pink-500 text-white border border-pink-400":"bg-white/10 text-gray-300 border border-white/20 hover:bg-white/20"}`,children:D},D))})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300",children:"多同事選擇"}),c.jsx("div",{className:"max-h-32 overflow-y-auto",children:Object.keys(lt()).filter(D=>D!=="_lastUpdated").sort((D,M)=>{var Z,Ae;const q=parseInt(((Z=D.match(/\d+/))==null?void 0:Z[0])||"0"),J=parseInt(((Ae=M.match(/\d+/))==null?void 0:Ae[0])||"0");return q-J}).map(D=>c.jsxs("label",{className:"flex items-center gap-2 mb-1 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:X.includes(D),onChange:M=>{M.target.checked?ne(q=>[...q,D]):ne(q=>q.filter(J=>J!==D))},className:"w-4 h-4 text-orange-500 bg-white/10 border-white/20 rounded focus:ring-orange-400/50"}),c.jsx("span",{className:"text-sm text-gray-300",children:m[D]||D})]},D))})]})]}),c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx("button",{onClick:()=>{be([]),ne([]),we({start:1,end:31}),T("all")},className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-300 rounded-lg transition-all text-sm",children:"清除所有篩選"})})]}),c.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:w==="date"?c.jsx(P0e,{schedule:lt(),names:m,displayDates:bo(),filteredEmployees:Gs(),selectedShifts:ae}):w==="employee"?c.jsx(N0e,{schedule:lt(),names:m,displayDates:bo(),filteredEmployees:Gs(),selectedShifts:ae}):w==="partner"?c.jsx(W0e,{schedule:lt(),names:m,displayDates:bo(),selectedEmployee:F}):c.jsx(M0e,{schedule:lt(),names:m,displayDates:bo(),filteredEmployees:Gs(),selectedShifts:ae})})]}),t==="transport"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-surface/60 rounded-2xl p-2 border border-white/20",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>ke("chart"),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${te==="chart"?"bg-blue-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"乘車表"}),c.jsx("button",{onClick:()=>ke("fare"),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${te==="fare"?"bg-purple-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"車費試算"})]})}),te==="chart"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-yellow-300 group-hover:text-yellow-200 transition-colors",children:"月份"}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:a,onChange:D=>o(D.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-yellow-400/50 focus:bg-white/20 focus:ring-2 focus:ring-yellow-400/20 transition-all duration-200 appearance-none cursor-pointer",children:xg(f).map(D=>c.jsx("option",{value:D.key,children:D.label},D.key))}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-yellow-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300 group-hover:text-orange-200 transition-colors",children:"匯出"}),c.jsxs("button",{onClick:()=>Ku(),className:"w-full px-4 py-3 bg-gradient-to-r from-blue-500/20 to-purple-500/20 hover:from-blue-500/30 hover:to-purple-500/30 border border-blue-400/30 text-blue-300 rounded-xl transition-all duration-200 font-medium",children:[c.jsx(kh,{className:"w-4 h-4 inline mr-2"}),"匯出乘車表"]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-green-300 group-hover:text-green-200 transition-colors",children:"乘車文字生成 (一週)"}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("select",{value:_,onChange:D=>S(D.target.value),className:"flex-1 px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-green-400/50 focus:bg-white/20 focus:ring-2 focus:ring-green-400/20 transition-all duration-200 appearance-none cursor-pointer",children:Hv()}),c.jsxs("button",{onClick:()=>Vv(),className:"px-6 py-3 bg-gradient-to-r from-green-500/20 to-teal-500/20 hover:from-green-500/30 hover:to-teal-500/30 border border-green-400/30 text-green-300 rounded-xl transition-all duration-200 font-medium whitespace-nowrap",children:[c.jsx(tj,{className:"w-4 h-4 inline mr-2"}),"生成"]})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-gray-300 group-hover:text-gray-200 transition-colors",children:"更新時間"}),c.jsx("div",{className:"px-4 py-3 bg-surface/30 rounded-xl border border-white/10",children:c.jsx("span",{className:"text-sm text-gray-300",children:A[a]?new Date(A[a]).toLocaleString():"無資料"})})]})]})]})}),c.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:c.jsx(Q0e,{schedule:lt(),names:m,pickupLocations:v})})]}),te==="fare"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"月份"}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:a,onChange:D=>o(D.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:xg(f).map(D=>c.jsx("option",{value:D.key,children:D.label},D.key))}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"選擇同事"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:Xe||"",onChange:D=>Oe(D.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-blue-400/50 focus:bg-white/20 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"",children:"請選擇同事"}),Object.keys(lt()).filter(D=>D!=="_lastUpdated").sort((D,M)=>{var Z,Ae;const q=parseInt(((Z=D.match(/\d+/))==null?void 0:Z[0])||"0"),J=parseInt(((Ae=M.match(/\d+/))==null?void 0:Ae[0])||"0");return q-J}).map(D=>c.jsx("option",{value:D,children:m[D]||D},D))]}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]})}),c.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:c.jsx(G0e,{schedule:lt(),names:m,pickupLocations:v,selectedEmployee:Xe,calculateFare:Xf})})]})]}),t==="statistics"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"月份"}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:a,onChange:D=>o(D.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:xg(f).map(D=>c.jsx("option",{value:D.key,children:D.label},D.key))}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"統計類型"}),c.jsx("div",{className:"bg-surface/40 rounded-xl p-1 border border-white/10",children:c.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[c.jsx("button",{onClick:()=>Fe("charts"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${ce==="charts"?"bg-green-500/20 text-green-300 border border-green-400/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"圖表分析"}),c.jsx("button",{onClick:()=>Fe("overlap"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${ce==="overlap"?"bg-blue-500/20 text-blue-300 border border-blue-400/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"搭班統計表"})]})})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-gray-300 group-hover:text-gray-200 transition-colors",children:"更新時間"}),c.jsx("div",{className:"px-4 py-3 bg-surface/30 rounded-xl border border-white/10",children:c.jsx("span",{className:"text-sm text-gray-300",children:A[a]?new Date(A[a]).toLocaleString():"無資料"})})]})]})}),ce==="overlap"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 md:p-6 lg:p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsxs("div",{className:"flex items-center justify-center mb-6 md:mb-8",children:[c.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 lg:w-12 lg:h-12 rounded-full bg-blue-500/20 border border-blue-400/30 flex items-center justify-center mr-2 md:mr-3",children:c.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),c.jsx("h3",{className:"text-lg md:text-xl lg:text-2xl font-bold text-blue-300",children:"搭班統計表"})]}),c.jsx(k0e,{schedule:lt(),names:m,onEmployeeClick:N})]}),k&&c.jsx(O0e,{employeeId:k,employeeName:m[k]||k,ranking:qf(k),onClose:()=>N(null)})]}),ce==="charts"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-pink-500/20 border border-pink-400/30 flex items-center justify-center mr-3",children:c.jsx("svg",{className:"w-5 h-5 text-pink-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("h3",{className:"text-lg font-bold text-pink-300",children:"早班統計"})]}),c.jsx(j0e,{schedule:lt(),names:m})]}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 border border-blue-400/30 flex items-center justify-center mr-3",children:c.jsx("svg",{className:"w-5 h-5 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),c.jsx("h3",{className:"text-lg font-bold text-blue-300",children:"晚班統計"})]}),c.jsx(R0e,{schedule:lt(),names:m})]}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-500/20 border border-orange-400/30 flex items-center justify-center mr-3",children:c.jsx("svg",{className:"w-5 h-5 text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),c.jsx("h3",{className:"text-lg font-bold text-orange-300",children:"連續上班統計"})]}),c.jsx(D0e,{schedule:lt(),names:m,allSchedules:u,selectedMonth:a})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[c.jsx(V0e,{schedule:lt()}),c.jsx(K0e,{schedule:lt(),names:m})]}),c.jsx(L0e,{schedule:lt(),names:m}),c.jsx(H0e,{schedule:lt(),names:m}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-300 text-center",children:"個人統計儀表板"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300",children:"選擇同事"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:P||"",onChange:D=>Q(D.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"",children:"請選擇一個同事查看個人統計"}),Object.keys(lt()).filter(D=>D!=="_lastUpdated").sort((D,M)=>{var Z,Ae;const q=parseInt(((Z=D.match(/\d+/))==null?void 0:Z[0])||"0"),J=parseInt(((Ae=M.match(/\d+/))==null?void 0:Ae[0])||"0");return q-J}).map(D=>c.jsx("option",{value:D,children:m[D]||D},D))]}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsx($0e,{schedule:lt(),names:m,selectedEmployee:P,crossMonthStats:Yf(P),selectedMonth:a})]})]})]}),t==="import"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx("div",{className:"bg-surface/40 rounded-xl p-1 border border-white/10 w-full max-w-2xl",children:c.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[c.jsxs("button",{onClick:()=>Ie("import"),className:`px-6 py-3 rounded-lg transition-all text-sm md:text-base ${ie==="import"?"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-400 border border-green-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[c.jsx(kh,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-2"}),"匯入班表"]}),c.jsxs("button",{onClick:()=>Ie("manage"),className:`px-6 py-3 rounded-lg transition-all text-sm md:text-base ${ie==="manage"?"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 text-blue-400 border border-blue-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[c.jsx(ud,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-2"}),"月份管理"]})]})})}),ie==="import"&&c.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-green-300",children:"匯入班表"}),c.jsxs("div",{className:"mb-6 p-4 bg-surface/40 rounded-lg border border-white/10",children:[c.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-300",children:"班別代碼說明"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:Object.entries(Nw).map(([D,M])=>c.jsxs("div",{className:"flex items-center gap-2 p-2 bg-surface/20 rounded border border-white/10",children:[c.jsx("span",{className:"font-mono bg-white/10 px-2 py-1 rounded text-green-300 font-medium",children:D}),c.jsxs("span",{className:"text-gray-300 font-medium",children:["= ",M]})]},D))})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold mb-2",children:"目標月份"}),c.jsxs("select",{value:L,onChange:D=>oe(D.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-green-400/50 focus:bg-white/10",children:[c.jsx("option",{value:"",children:"請選擇月份"}),F0e().map(D=>c.jsx("option",{value:D.key,children:D.label},D.key))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Excel 資料"}),c.jsx("textarea",{value:O,onChange:D=>j(D.target.value),placeholder:"從 Excel 複製資料並貼上這裡...",className:"w-full h-32 px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-green-400/50 focus:bg-white/10 resize-none"})]})]}),$&&c.jsx("div",{className:"mt-6 p-4 bg-red-600/20 border border-red-500/30 rounded-xl text-red-300 font-medium",children:$}),c.jsxs("div",{className:"mt-4 flex gap-3",children:[c.jsx("button",{onClick:ir,className:"px-6 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-300 rounded-lg transition-all font-medium",children:"解析資料"}),R&&c.jsx("button",{onClick:fr,className:"px-6 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-300 rounded-lg transition-all font-medium",children:"上傳班表"})]}),R&&c.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-300",children:"預覽表格"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0,border:"none"},children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[c.jsx("th",{className:"text-left p-3 text-blue-300 font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"職員編號"}),c.jsx("th",{className:"text-left p-3 text-purple-300 font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"姓名"}),Array.from({length:31},(D,M)=>c.jsx("th",{className:"text-center p-3 text-green-300 font-medium",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:M+1},M))]})}),c.jsx("tbody",{children:Object.entries(R).sort(([D],[M])=>{var Z,Ae;const q=parseInt(((Z=D.match(/\d+/))==null?void 0:Z[0])||"0"),J=parseInt(((Ae=M.match(/\d+/))==null?void 0:Ae[0])||"0");return q-J}).map(([D,M])=>c.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[c.jsx("td",{className:"p-3 text-gray-400 font-medium",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:D}),c.jsx("td",{className:"p-3 text-white font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:M.name}),M.schedule.map((q,J)=>c.jsx("td",{className:"p-2 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:q?c.jsx("div",{className:`
                                  px-3 py-2 rounded-lg text-center text-xs font-bold
                                  ${q==="早"?"bg-pink-500 text-white":q==="中"?"bg-cyan-500 text-white":q==="晚"?"bg-blue-500 text-white":q==="休"?"bg-gray-500 text-white":q==="特"?"bg-orange-500 text-white":q==="排"?"bg-yellow-500 text-white":"bg-gray-700 text-gray-300"}
                                `,children:q}):c.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})},J))]},D))})]})})]}),ie==="manage"&&c.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-300",children:"月份管理"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"text-lg font-semibold mb-4 text-cyan-300",children:"已儲存的月份"}),f.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(D=>c.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10 hover:border-white/20 transition-all",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h5",{className:"text-white font-semibold",children:D.label}),c.jsx("span",{className:"text-xs text-gray-400",children:D.lastUpdated?new Date(D.lastUpdated).toLocaleDateString():"未知"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>{o(D.key),e("display")},className:"px-3 py-1 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-300 rounded text-sm transition-all",children:"查看"}),c.jsx("button",{onClick:()=>{o(D.key),e("statistics")},className:"px-3 py-1 bg-purple-500/20 hover:bg-purple-500/30 border border-purple-400/30 text-purple-300 rounded text-sm transition-all",children:"分析"})]})]},D.key))}):c.jsx("div",{className:"text-center py-8 text-gray-400",children:"尚未儲存任何月份資料"})]}),c.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[c.jsx("h4",{className:"text-lg font-semibold mb-4 text-orange-300",children:"快速操作"}),c.jsxs("div",{className:"flex flex-wrap gap-4",children:[c.jsxs("button",{onClick:At,className:"px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-400 rounded-lg transition-all flex items-center gap-2",children:[c.jsx(B2,{className:"w-4 h-4"}),"重新載入資料"]}),c.jsxs("button",{onClick:()=>{o("current"),e("display")},className:"px-4 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-400 rounded-lg transition-all flex items-center gap-2",children:[c.jsx(ud,{className:"w-4 h-4"}),"回到當月"]})]})]})]})]}),c.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-400",children:"同事基本資料管理"}),c.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[c.jsxs("button",{onClick:Vs,className:"px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-400 rounded-lg transition-all flex items-center gap-2",children:[c.jsx(B2,{className:"w-4 h-4"}),"從 Firebase 讀取資料"]}),c.jsxs("button",{onClick:Ks,className:"px-4 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-400 rounded-lg transition-all flex items-center gap-2",children:[c.jsx(kh,{className:"w-4 h-4"}),"儲存姓名與上車地點"]}),c.jsxs("button",{onClick:wo,className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-400 rounded-lg transition-all flex items-center gap-2",children:[c.jsx(Zi,{className:"w-4 h-4"}),"清空所有資料"]})]}),c.jsxs("div",{className:"bg-surface/20 rounded-lg p-4 mb-6 border border-white/5",children:[c.jsx("h4",{className:"text-lg font-semibold mb-4 text-orange-400",children:"新增同事"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold mb-2",children:"職員編號"}),c.jsx("input",{type:"text",value:Ne.id,onChange:D=>Be(M=>({...M,id:D.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",placeholder:"例如：A45"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold mb-2",children:"姓名"}),c.jsx("input",{type:"text",value:Ne.name,onChange:D=>Be(M=>({...M,name:D.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",placeholder:"輸入姓名"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold mb-2",children:"上車地點"}),c.jsx("select",{value:Ne.pickupLocation,onChange:D=>Be(M=>({...M,pickupLocation:D.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",children:Ti.map(D=>c.jsx("option",{value:D,children:D},D))})]})]}),c.jsxs("button",{onClick:jA,className:"mt-4 px-6 py-2 bg-orange-500/20 hover:bg-orange-500/30 border border-orange-400/30 text-orange-400 rounded-lg transition-all flex items-center gap-2",children:[c.jsx(Ji,{className:"w-4 h-4"}),"新增同事"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-white/10",children:[c.jsx("th",{className:"text-left p-2 text-blue-400",children:"職員編號"}),c.jsx("th",{className:"text-left p-2 text-purple-400",children:"姓名"}),c.jsx("th",{className:"text-left p-2 text-green-400",children:"上車地點"}),c.jsx("th",{className:"text-center p-2 text-red-400",children:"操作"})]})}),c.jsx("tbody",{children:Object.keys(m).sort((D,M)=>{const q=parseInt(D.replace(/\D/g,""))||0,J=parseInt(M.replace(/\D/g,""))||0;return q-J}).map(D=>c.jsxs("tr",{className:"border-b border-white/5",children:[c.jsx("td",{className:"p-2 text-text-secondary",children:D}),c.jsx("td",{className:"p-2",children:c.jsx("input",{type:"text",value:m[D]||"",onChange:M=>xo(D,M.target.value),className:"w-full px-2 py-1 bg-white/5 border border-white/10 rounded focus:border-purple-400/50 focus:bg-white/10"})}),c.jsx("td",{className:"p-2",children:c.jsx("select",{value:v[D]||Ti[0],onChange:M=>zf(D,M.target.value),className:"w-full px-2 py-1 bg-white/5 border border-white/10 rounded focus:border-green-400/50 focus:bg-white/10",children:Ti.map(M=>c.jsx("option",{value:M,children:M},M))})}),c.jsx("td",{className:"p-2 text-center",children:c.jsx("button",{onClick:()=>$s(D),className:"px-3 py-1 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-400 rounded transition-all",children:c.jsx(Zi,{className:"w-4 h-4"})})})]},D))})]})})]})]})]})}function P0e({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i}){return c.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:c.jsx("div",{className:"bg-surface/60 rounded-xl shadow-xl border border-white/20 backdrop-blur-sm min-w-full",children:c.jsx("div",{className:"w-full",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-xs md:text-sm",style:{borderCollapse:"collapse",borderSpacing:0,border:"none"},children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[c.jsx("th",{className:"text-center p-2 md:p-3 text-purple-300 font-semibold sticky left-0 z-10 bg-surface/95",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"姓名"}),r.map(s=>{const a=s===new Date().getDate();return c.jsxs("th",{className:`text-center p-1 md:p-3 font-medium relative ${a?"text-primary":"text-green-300"}`,style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},title:a?"今天":void 0,"data-today":a?"true":void 0,children:[c.jsx("div",{className:`relative text-xs font-semibold inline-flex items-center justify-center w-7 h-7 rounded ${a?"bg-primary/20 ring-2 ring-primary":""}`,children:s}),c.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),s).getDay()]})]},s)})]})}),c.jsx("tbody",{children:n.map((s,a)=>c.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200 group","data-employee-id":s,"data-row-index":a,children:[c.jsx("td",{className:"p-2 md:p-3 text-white font-semibold text-xs md:text-sm sticky left-0 z-10 bg-surface/95 group-hover:bg-surface/100 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:c.jsx("span",{className:"group-hover:text-primary transition-colors",children:e[s]||s})}),r.map(o=>{var u;const A=(u=t[s])==null?void 0:u[o],l=o===new Date().getDate();return i&&i.length>0&&(!A||!i.includes(A))?c.jsx("td",{className:"p-1 md:p-2 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:c.jsx("div",{className:`w-full h-6 md:h-8 rounded-lg border ${l?"bg-primary/5 border-primary/30":"bg-surface/10 border-white/5"} opacity-50`})},o):c.jsx("td",{className:`p-1 md:p-2 text-center ${l?"bg-primary/5":""}`,style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:A?c.jsx("div",{className:`
                                px-2 py-1 md:px-3 md:py-2 rounded-lg text-center text-xs font-bold
                                ${l?"ring-2 ring-primary/50 ":""}${A==="早"?"bg-pink-500 text-white":A==="中"?"bg-cyan-500 text-white":A==="晚"?"bg-blue-500 text-white":A==="休"?"bg-gray-500 text-white":A==="特"?"bg-orange-500 text-white":"bg-gray-700 text-gray-300"}
                              `,children:A}):c.jsx("div",{className:`w-full h-6 md:h-8 rounded-lg border ${l?"bg-primary/5 border-primary/30":"bg-surface/20 border-white/10"}`})},o)})]},s))})]})})})})})}function N0e({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i}){const s=a=>{switch(a){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}};return c.jsx("div",{className:"space-y-6",children:n.map(a=>c.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm hover:shadow-2xl transition-all duration-300",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"text-lg font-semibold text-white mb-1",children:e[a]||a}),c.jsxs("p",{className:"text-sm text-gray-400",children:["職員編號：",a]})]}),c.jsx("div",{className:"grid grid-cols-7 gap-3",children:r.map(o=>{var l;const A=(l=t[a])==null?void 0:l[o];return i&&i.length>0&&(!A||!i.includes(A))?c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-xs text-gray-400 mb-2 font-medium",children:o}),c.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/10 border border-white/5 opacity-50"})]},o):c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-xs text-gray-400 mb-2 font-medium",children:o}),A?c.jsx("div",{className:`
                      px-3 py-2 rounded-lg text-center text-xs font-bold
                      transition-all duration-200 hover:shadow-lg hover:scale-105
                      ${s(A)}
                    `,children:A}):c.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})]},o)})})]},a))})}function Q0e({schedule:t,names:e,pickupLocations:r}){const n=()=>{const o=new Date,A=o.getFullYear(),l=o.getMonth()+1;return new Date(A,l,0).getDate()},s=(()=>{const o=n(),A={};for(let l=1;l<=o;l++)A[l]={},Ti.forEach(u=>{A[l][u]=0});return Object.keys(t).forEach(l=>{var d;if(l==="_lastUpdated")return;const u=r[l];if(!(!u||u==="不搭車"))for(let f=1;f<=o;f++)((d=t[l])==null?void 0:d[f])==="早"&&A[f][u]++}),A})(),a=n();return c.jsxs("div",{id:"transport-chart",className:"bg-surface/60 rounded-xl p-6 border border-white/20",children:[c.jsx("h3",{className:"text-xl font-bold mb-6 text-yellow-300 text-center",children:"當月乘車統計表"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0},children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[c.jsx("th",{className:"text-left p-3 text-yellow-300 font-semibold",style:{border:"none !important"},children:"上車地點"}),Array.from({length:a},(o,A)=>A+1).map(o=>c.jsxs("th",{className:"text-center p-2 text-green-300 font-medium",style:{border:"none !important"},children:[c.jsx("div",{className:"text-xs font-semibold",children:o}),c.jsx("div",{className:"text-xs text-gray-400",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),o).getDay()]})]},o))]})}),c.jsx("tbody",{children:Ti.filter(o=>o!=="不搭車").map(o=>c.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[c.jsx("td",{className:"p-3 text-white font-semibold",style:{border:"none !important"},children:o}),Array.from({length:a},(A,l)=>l+1).map(A=>{var u;const l=((u=s[A])==null?void 0:u[o])||0;return c.jsx("td",{className:"p-2 text-center",style:{border:"none !important"},children:l>0?c.jsx("div",{className:"px-3 py-2 rounded-lg text-center text-xs font-bold bg-yellow-500/20 border border-yellow-400/30 text-yellow-300",children:l}):c.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})},A)})]},o))})]})})]})}function k0e({schedule:t,names:e,onEmployeeClick:r}){const n=()=>{const u={},d={};Object.keys(t).forEach(g=>{g!=="_lastUpdated"&&(u[g]={},d[g]={})});const f=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let g=1;g<=f;g++){const m={};Object.keys(t).forEach(p=>{var y;if(p==="_lastUpdated")return;const v=(y=t[p])==null?void 0:y[g];v&&v!=="休"&&(m[v]||(m[v]=[]),m[v].push(p))}),Object.keys(m).forEach(p=>{const v=m[p];for(let y=0;y<v.length;y++)for(let w=y+1;w<v.length;w++){const B=v[y],I=v[w];u[B][I]||(u[B][I]=0),u[I][B]||(u[I][B]=0),d[B][I]||(d[B][I]=[]),d[I][B]||(d[I][B]=[]),u[B][I]++,u[I][B]++,d[B][I].push({day:g,shift:p}),d[I][B].push({day:g,shift:p})}}),m.早&&m.中&&m.早.forEach(p=>{m.中.forEach(v=>{u[p][v]||(u[p][v]=0),u[v][p]||(u[v][p]=0),d[p][v]||(d[p][v]=[]),d[v][p]||(d[v][p]=[]),u[p][v]++,u[v][p]++,d[p][v].push({day:g,shift:"早-中"}),d[v][p].push({day:g,shift:"中-早"})})}),m.中&&m.晚&&m.中.forEach(p=>{m.晚.forEach(v=>{u[p][v]||(u[p][v]=0),u[v][p]||(u[v][p]=0),d[p][v]||(d[p][v]=[]),d[v][p]||(d[v][p]=[]),u[p][v]++,u[v][p]++,d[p][v].push({day:g,shift:"中-晚"}),d[v][p].push({day:g,shift:"晚-中"})})})}return{overlapStats:u,overlapDetails:d}},{overlapStats:i,overlapDetails:s}=n(),a=Object.keys(t).filter(u=>u!=="_lastUpdated").sort((u,d)=>{var m,p;const f=parseInt(((m=u.match(/\d+/))==null?void 0:m[0])||"0"),g=parseInt(((p=d.match(/\d+/))==null?void 0:p[0])||"0");return f-g}),A=(()=>{let u=0,d=0,f=0;return a.forEach(g=>{a.forEach(m=>{var p;if(g!==m){const v=((p=i[g])==null?void 0:p[m])||0;v>0&&(u+=v,d=Math.max(d,v),f++)}})}),{totalOverlaps:u,maxOverlap:d,averageOverlap:f>0?(u/f).toFixed(1):0,totalPairs:f}})(),l=(u,d)=>{if(u===0)return"bg-surface/20 border-white/10 text-gray-400";const f=Math.min(u/d,1);return f>.7?"bg-purple-500/40 border-purple-400/50 text-purple-200":f>.4?"bg-purple-500/30 border-purple-400/40 text-purple-300":"bg-purple-500/20 border-purple-400/30 text-purple-300"};return c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold mb-6 text-purple-300 text-center",children:"搭班統計表"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0},children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[c.jsx("th",{className:"text-left p-3 text-purple-300 font-semibold",style:{border:"none !important"},children:"同事"}),a.map(u=>c.jsx("th",{className:"text-center p-3 text-purple-300 font-medium",style:{border:"none !important"},children:e[u]||u},u))]})}),c.jsx("tbody",{children:a.map(u=>c.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[c.jsx("td",{className:"p-3 text-white font-semibold cursor-pointer hover:text-purple-300 transition-colors",style:{border:"none !important"},onClick:()=>r(u),children:e[u]||u}),a.map(d=>{var g;const f=((g=i[u])==null?void 0:g[d])||0;return c.jsx("td",{className:"p-3 text-center",style:{border:"none !important"},children:u===d?c.jsx("div",{className:"w-8 h-8 rounded-lg bg-surface/20 border border-white/10 flex items-center justify-center text-gray-400",children:"-"}):f>0?c.jsx("div",{className:`px-3 py-2 rounded-lg text-center text-xs font-bold border cursor-pointer hover:scale-105 transition-all ${l(f,A.maxOverlap)}`,title:`${e[u]||u} 與 ${e[d]||d} 搭班 ${f} 次`,children:f}):c.jsx("div",{className:"w-8 h-8 rounded-lg bg-surface/10 border border-white/5 flex items-center justify-center text-gray-500 opacity-50",children:"-"})},d)})]},u))})]})})]})}function O0e({employeeId:t,employeeName:e,ranking:r,onClose:n}){const[i,s]=x.useState(null),o=(()=>{const A=r.reduce((d,f)=>d+f.count,0),l=r.length>0?(A/r.length).toFixed(1):0,u=r.length>0?r[0].count:0;return{totalOverlaps:A,avgOverlaps:l,maxOverlaps:u}})();return c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-surface/95 rounded-2xl p-8 border border-white/20 shadow-2xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-purple-300",children:[e," 的搭班詳情"]}),c.jsx("button",{onClick:n,className:"p-2 hover:bg-surface/30 rounded-lg text-gray-300 hover:text-white transition-all duration-200",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[c.jsx("div",{className:"text-2xl font-bold text-purple-300",children:o.totalOverlaps}),c.jsx("div",{className:"text-sm text-gray-400",children:"總搭班次數"})]}),c.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-300",children:o.avgOverlaps}),c.jsx("div",{className:"text-sm text-gray-400",children:"平均搭班次數"})]}),c.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[c.jsx("div",{className:"text-2xl font-bold text-green-300",children:o.maxOverlaps}),c.jsx("div",{className:"text-sm text-gray-400",children:"最高搭班次數"})]})]}),r.length>0?c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"text-lg font-semibold text-purple-300 mb-4",children:"搭班排行"}),r.map((A,l)=>c.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border cursor-pointer transition-all hover:scale-105 ${i===A.employeeId?"bg-purple-500/30 border-purple-400/50":"bg-surface/20 border-white/10 hover:bg-surface/30"}`,onClick:()=>s(i===A.employeeId?null:A.employeeId),children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:`w-8 h-8 rounded-full border flex items-center justify-center font-bold text-sm ${l===0?"bg-yellow-500/20 border-yellow-400/30 text-yellow-300":l===1?"bg-gray-500/20 border-gray-400/30 text-gray-300":l===2?"bg-orange-500/20 border-orange-400/30 text-orange-300":"bg-purple-500/20 border-purple-400/30 text-purple-300"}`,children:l+1}),c.jsx("div",{children:c.jsx("span",{className:"text-white font-medium",children:A.name})})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-purple-300 font-bold",children:[A.count," 次"]}),c.jsxs("div",{className:"text-xs text-gray-400",children:[(A.count/o.totalOverlaps*100).toFixed(1),"%"]})]})]},A.employeeId))]}):c.jsx("div",{className:"text-center py-8 text-gray-400",children:"本月無搭班記錄"})]})})}function D0e({schedule:t,names:e,allSchedules:r,selectedMonth:n}){const s=(()=>{const a={};let o,A;if(n==="current"){const p=new Date;o=p.getFullYear(),A=p.getMonth()+1}else if(n==="next"){const p=new Date;o=p.getFullYear(),A=p.getMonth()+2}else{const[p,v]=n.split("-");o=parseInt(p),A=parseInt(v)}const l=new Date(o,A-2,1),u=l.getFullYear(),d=l.getMonth()+1,f=`${u}-${d.toString().padStart(2,"0")}`,g=r[f]||{},m=new Date(u,d,0).getDate();return Object.keys(t).forEach(p=>{var I,T;if(p==="_lastUpdated")return;let v=0,y=0;const w=7;for(let F=Math.max(1,m-w+1);F<=m;F++){const C=(I=g[p])==null?void 0:I[F];C&&C!=="休"?y++:y=0}const B=new Date(o,A,0).getDate();for(let F=1;F<=B;F++){const C=(T=t[p])==null?void 0:T[F];C&&C!=="休"?(y++,v=Math.max(v,y)):y=0}v>0&&(a[p]={name:e[p]||p,maxConsecutive:v})}),Object.values(a).sort((p,v)=>v.maxConsecutive-p.maxConsecutive)})();return c.jsx("div",{className:"space-y-3",children:s.slice(0,5).map((a,o)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-500/20 border border-orange-400/30 flex items-center justify-center text-orange-300 font-bold text-xs",children:o+1}),c.jsx("span",{className:"text-white font-medium",children:a.name})]}),c.jsxs("div",{className:"text-orange-300 font-bold",children:[a.maxConsecutive," 天"]})]},a.name))})}function j0e({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(a=>{var A;if(a==="_lastUpdated")return;let o=0;for(let l=1;l<=s;l++)((A=t[a])==null?void 0:A[l])==="早"&&o++;o>0&&(i[a]={name:e[a]||a,earlyCount:o})}),Object.values(i).sort((a,o)=>o.earlyCount-a.earlyCount)})();return c.jsx("div",{className:"space-y-3",children:n.slice(0,5).map((i,s)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500/20 border border-pink-400/30 flex items-center justify-center text-pink-300 font-bold text-xs",children:s+1}),c.jsx("span",{className:"text-white font-medium",children:i.name})]}),c.jsxs("div",{className:"text-pink-300 font-bold",children:[i.earlyCount," 次"]})]},i.name))})}function R0e({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(a=>{var A;if(a==="_lastUpdated")return;let o=0;for(let l=1;l<=s;l++)((A=t[a])==null?void 0:A[l])==="晚"&&o++;o>0&&(i[a]={name:e[a]||a,nightCount:o})}),Object.values(i).sort((a,o)=>o.nightCount-a.nightCount)})();return c.jsx("div",{className:"space-y-3",children:n.slice(0,5).map((i,s)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500/20 border border-blue-400/30 flex items-center justify-center text-blue-300 font-bold text-xs",children:s+1}),c.jsx("span",{className:"text-white font-medium",children:i.name})]}),c.jsxs("div",{className:"text-blue-300 font-bold",children:[i.nightCount," 次"]})]},i.name))})}function M0e({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i}){const s=a=>{switch(a){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}};return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"3D 班表視圖"}),c.jsx("p",{className:"text-gray-400",children:"立體展示班次安排"})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:n.map(a=>c.jsx("div",{className:"group perspective-1000",children:c.jsx("div",{className:"relative transform-style-preserve-3d transition-all duration-500 group-hover:rotate-y-12",children:c.jsxs("div",{className:"bg-gradient-to-br from-surface/80 to-surface/60 rounded-2xl p-6 border border-white/20 shadow-2xl backdrop-blur-sm transform-style-preserve-3d",children:[c.jsxs("div",{className:"transform-style-preserve-3d",children:[c.jsxs("div",{className:"mb-6 text-center",children:[c.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:e[a]||a}),c.jsxs("p",{className:"text-sm text-gray-400",children:["職員編號：",a]})]}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:r.map((o,A)=>{var u;const l=(u=t[a])==null?void 0:u[o];return i&&i.length>0&&(!l||!i.includes(l))?c.jsxs("div",{className:"relative group/item",children:[c.jsx("div",{className:"w-full h-16 rounded-lg bg-surface/10 border border-white/5 opacity-50 transform transition-all duration-300 group-hover/item:scale-110 group-hover/item:rotate-y-6"}),c.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-xs text-gray-500",children:c.jsx("span",{children:o})})]},o):c.jsx("div",{className:"relative group/item",children:c.jsx("div",{className:`
                            w-full h-16 rounded-lg text-center text-xs font-bold
                            transform transition-all duration-300 
                            group-hover/item:scale-110 group-hover/item:rotate-y-6 group-hover/item:shadow-xl
                            ${l?s(l):"bg-surface/20 border border-white/10"}
                          `,children:c.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[c.jsx("span",{className:"text-xs opacity-75",children:o}),c.jsx("span",{className:"font-bold",children:l||""})]})})},o)})})]}),c.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]})})},a))})]})}function L0e({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(a=>{var A;if(a==="_lastUpdated")return;const o=e[a]||a;i[o]={name:o,early:0,middle:0,night:0,rest:0,special:0,total:0};for(let l=1;l<=s;l++){const u=(A=t[a])==null?void 0:A[l];if(u)switch(i[o].total++,u){case"早":i[o].early++;break;case"中":i[o].middle++;break;case"晚":i[o].night++;break;case"休":i[o].rest++;break;case"特":i[o].special++;break}}}),Object.values(i).filter(a=>a.total>0).sort((a,o)=>{var f,g;const A=Object.keys(e).find(m=>e[m]===a.name)||a.name,l=Object.keys(e).find(m=>e[m]===o.name)||o.name,u=parseInt(((f=A.match(/\d+/))==null?void 0:f[0])||"0"),d=parseInt(((g=l.match(/\d+/))==null?void 0:g[0])||"0");return u-d})})();return c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-6 text-purple-300 text-center",children:"各同事班次分布"}),c.jsx(Ba,{width:"100%",height:400,children:c.jsxs(bB,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(oA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),c.jsx(Va,{dataKey:"name",stroke:"#ffffff80"}),c.jsx(Ka,{stroke:"#ffffff80"}),c.jsx(ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}}),c.jsx(BA,{}),c.jsx(fa,{dataKey:"early",stackId:"a",fill:"#ec4899",name:"早班"}),c.jsx(fa,{dataKey:"middle",stackId:"a",fill:"#06b6d4",name:"中班"}),c.jsx(fa,{dataKey:"night",stackId:"a",fill:"#3b82f6",name:"晚班"}),c.jsx(fa,{dataKey:"rest",stackId:"a",fill:"#6b7280",name:"休假"}),c.jsx(fa,{dataKey:"special",stackId:"a",fill:"#f97316",name:"特休"})]})})]})}function H0e({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();let a={early:0,middle:0,night:0,rest:0,special:0};Object.keys(t).forEach(l=>{var u;if(l!=="_lastUpdated")for(let d=1;d<=s;d++){const f=(u=t[l])==null?void 0:u[d];if(f)switch(f){case"早":a.early++;break;case"中":a.middle++;break;case"晚":a.night++;break;case"休":a.rest++;break;case"特":a.special++;break}}});const o=Object.keys(t).filter(l=>l!=="_lastUpdated").length,A={early:a.early/o,middle:a.middle/o,night:a.night/o,rest:a.rest/o,special:a.special/o};return Object.keys(t).forEach(l=>{var g;if(l==="_lastUpdated")return;const u=e[l]||l,d={early:0,middle:0,night:0,rest:0,special:0};for(let m=1;m<=s;m++){const p=(g=t[l])==null?void 0:g[m];if(p)switch(p){case"早":d.early++;break;case"中":d.middle++;break;case"晚":d.night++;break;case"休":d.rest++;break;case"特":d.special++;break}}const f={name:u,earlyBias:((d.early-A.early)/A.early*100).toFixed(1),middleBias:((d.middle-A.middle)/A.middle*100).toFixed(1),nightBias:((d.night-A.night)/A.night*100).toFixed(1),restBias:((d.rest-A.rest)/A.rest*100).toFixed(1),specialBias:((d.special-A.special)/A.special*100).toFixed(1)};i[u]=f}),Object.values(i).sort((l,u)=>{var p,v;const d=Object.keys(e).find(y=>e[y]===l.name)||l.name,f=Object.keys(e).find(y=>e[y]===u.name)||u.name,g=parseInt(((p=d.match(/\d+/))==null?void 0:p[0])||"0"),m=parseInt(((v=f.match(/\d+/))==null?void 0:v[0])||"0");return g-m})})();return c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-6 text-orange-300 text-center",children:"班次分配偏差度分析"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-white/20",children:[c.jsx("th",{className:"text-left p-3 text-white font-semibold",children:"同事"}),c.jsx("th",{className:"text-center p-3 text-pink-300 font-semibold",children:"早班偏差"}),c.jsx("th",{className:"text-center p-3 text-cyan-300 font-semibold",children:"中班偏差"}),c.jsx("th",{className:"text-center p-3 text-blue-300 font-semibold",children:"晚班偏差"}),c.jsx("th",{className:"text-center p-3 text-gray-300 font-semibold",children:"休假偏差"}),c.jsx("th",{className:"text-center p-3 text-orange-300 font-semibold",children:"特休偏差"})]})}),c.jsx("tbody",{children:n.map((i,s)=>c.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5",children:[c.jsx("td",{className:"p-3 text-white font-medium",children:i.name}),c.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.earlyBias)>0?"text-green-400":"text-red-400"}`,children:[i.earlyBias,"%"]}),c.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.middleBias)>0?"text-green-400":"text-red-400"}`,children:[i.middleBias,"%"]}),c.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.nightBias)>0?"text-green-400":"text-red-400"}`,children:[i.nightBias,"%"]}),c.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.restBias)>0?"text-green-400":"text-red-400"}`,children:[i.restBias,"%"]}),c.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.specialBias)>0?"text-green-400":"text-red-400"}`,children:[i.specialBias,"%"]})]},s))})]})})]})}function V0e({schedule:t}){const r=(()=>{const n={early:0,middle:0,night:0,rest:0,special:0},i=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(s=>{var a;if(s!=="_lastUpdated")for(let o=1;o<=i;o++){const A=(a=t[s])==null?void 0:a[o];if(A)switch(A){case"早":n.early++;break;case"中":n.middle++;break;case"晚":n.night++;break;case"休":n.rest++;break;case"特":n.special++;break}}}),[{name:"早班",value:n.early,color:"#ec4899"},{name:"中班",value:n.middle,color:"#06b6d4"},{name:"晚班",value:n.night,color:"#3b82f6"},{name:"休假",value:n.rest,color:"#6b7280"},{name:"特休",value:n.special,color:"#f97316"}].filter(s=>s.value>0)})();return c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-6 text-green-300 text-center",children:"班次類型分布"}),c.jsx(Ba,{width:"100%",height:300,children:c.jsxs(gH,{children:[c.jsx(__,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:n,percent:i})=>`${n} ${(i*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((n,i)=>c.jsx(Vu,{fill:n.color},`cell-${i}`))}),c.jsx(ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}})]})})]})}function K0e({schedule:t,names:e}){const[r,n]=x.useState(["early","middle","night"]),s=(()=>{const u=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),d=[];for(let f=1;f<=u;f++){let g=0,m=0,p=0,v=0,y=0;Object.keys(t).forEach(w=>{var I;if(w==="_lastUpdated")return;switch((I=t[w])==null?void 0:I[f]){case"早":g++;break;case"中":m++;break;case"晚":p++;break;case"休":v++;break;case"特":y++;break}}),d.push({date:`${f}日`,day:f,early:g,middle:m,night:p,rest:v,special:y})}return d})(),a=s.reduce((u,d)=>(u.early+=d.early,u.middle+=d.middle,u.night+=d.night,u.rest+=d.rest,u.special+=d.special,u),{early:0,middle:0,night:0,rest:0,special:0}),o=Object.entries(a).filter(([u,d])=>d>0).map(([u])=>u),A=u=>{switch(u){case"early":return"#ec4899";case"middle":return"#06b6d4";case"night":return"#3b82f6";case"rest":return"#6b7280";case"special":return"#f97316";default:return"#9ca3af"}},l=u=>{switch(u){case"early":return"早班";case"middle":return"中班";case"night":return"晚班";case"rest":return"休假";case"special":return"特休";default:return u}};return c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-6 text-blue-300 text-center",children:"班次趨勢變化"}),c.jsx("div",{className:"mb-6",children:c.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:o.map(u=>c.jsx("button",{onClick:()=>{r.includes(u)?n(d=>d.filter(f=>f!==u)):n(d=>[...d,u])},className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${r.includes(u)?"bg-blue-500 text-white border border-blue-400":"bg-white/10 text-gray-300 border border-white/20 hover:bg-white/20"}`,style:{borderColor:r.includes(u)?A(u):void 0},children:l(u)},u))})}),c.jsx(Ba,{width:"100%",height:400,children:c.jsxs(O_,{data:s,margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(oA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),c.jsx(Va,{dataKey:"date",stroke:"#ffffff80",interval:Math.ceil(s.length/10),tick:{fontSize:12}}),c.jsx(Ka,{stroke:"#ffffff80",tick:{fontSize:12},allowDecimals:!1}),c.jsx(ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"},formatter:(u,d)=>[`${u}人`,l(d)],labelFormatter:u=>`${u}`}),c.jsx(BA,{formatter:u=>l(u),wrapperStyle:{fontSize:"12px"}}),r.map(u=>c.jsx(Ca,{type:"monotone",dataKey:u,stroke:A(u),strokeWidth:2,name:u,dot:{fill:A(u),strokeWidth:2,r:3},activeDot:{r:5,stroke:A(u),strokeWidth:2}},u))]})}),c.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-5 gap-4",children:o.map(u=>c.jsxs("div",{className:"text-center p-3 bg-surface/20 rounded-lg border border-white/10",children:[c.jsx("div",{className:"text-sm text-gray-400 mb-1",children:l(u)}),c.jsx("div",{className:"text-lg font-bold",style:{color:A(u)},children:a[u]}),c.jsx("div",{className:"text-xs text-gray-500",children:"總次數"})]},u))})]})}function $0e({schedule:t,names:e,selectedEmployee:r,crossMonthStats:n,selectedMonth:i}){if(!r)return c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-300 text-center",children:"個人統計儀表板"}),c.jsx("p",{className:"text-center text-gray-400",children:"請選擇一個同事查看個人統計"})]});const a=(()=>{var p;const g={name:e[r]||r,early:0,middle:0,night:0,rest:0,special:0,total:0},m=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let v=1;v<=m;v++){const y=(p=t[r])==null?void 0:p[v];if(y)switch(y){case"早":g.early++,g.total++;break;case"中":g.middle++,g.total++;break;case"晚":g.night++,g.total++;break;case"休":g.rest++;break;case"特":g.special++,g.total++;break}}return g})(),o=[{name:"早班",value:a.early,color:"#ec4899"},{name:"中班",value:a.middle,color:"#06b6d4"},{name:"晚班",value:a.night,color:"#3b82f6"},{name:"休假",value:a.rest,color:"#6b7280"},{name:"特休",value:a.special,color:"#f97316"}].filter(g=>g.value>0),A=()=>{var y;const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),m=[];let p=0,v=0;for(let w=1;w<=g;w++){const B=(y=t[r])==null?void 0:y[w];B&&B!=="休"?p++:(p>0&&(v++,m.push({period:`期間${v}`,consecutiveDays:p,trend:p>=6?"高":p>=4?"中":"低"})),p=0)}return p>0&&(v++,m.push({period:`期間${v}`,consecutiveDays:p,trend:p>=6?"高":p>=4?"中":"低"})),m},l=()=>{var p;const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),m=[];for(let v=1;v<=g;v++){let y=0,w=0;for(let B=1;B<=v;B++){const I=(p=t[r])==null?void 0:p[B];I&&I!=="休"?y++:(y>0&&(y>=7?w=3:y>=5?w=2:w=1),y=0)}y>0&&(y>=7?w=3:y>=5?w=2:w=1),m.push({date:`${v}日`,consecutiveDays:y,riskLevel:w})}return m},u=()=>{var p,v;const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),m={};for(let y=1;y<g;y++){const w=(p=t[r])==null?void 0:p[y],B=(v=t[r])==null?void 0:v[y+1];if(w&&B){const I=`${w}→${B}`;m[I]=(m[I]||0)+1}}return Object.entries(m).sort(([,y],[,w])=>w-y).slice(0,10).map(([y,w])=>({transition:y,value:w}))},d=()=>{var p,v;const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),m={};for(let y=1;y<g;y++){const w=(p=t[r])==null?void 0:p[y],B=(v=t[r])==null?void 0:v[y+1];if(w&&B){const I=`${w}→${B}`;if(!m[I]){const[T,F]=I.split("→");m[I]={from:T,to:F,count:0}}m[I].count++}}return Object.values(m).sort((y,w)=>w.count-y.count)},f=g=>{switch(g){case"早":return"#ec4899";case"中":return"#06b6d4";case"晚":return"#3b82f6";case"休":return"#6b7280";case"特":return"#f97316";default:return"#9ca3af"}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-pink-500/20 rounded-lg border border-pink-400/30",children:[c.jsx("div",{className:"text-2xl font-bold text-pink-300",children:a.early}),c.jsx("div",{className:"text-sm text-pink-200",children:"早班"})]}),c.jsxs("div",{className:"text-center p-4 bg-cyan-500/20 rounded-lg border border-cyan-400/30",children:[c.jsx("div",{className:"text-2xl font-bold text-cyan-300",children:a.middle}),c.jsx("div",{className:"text-sm text-cyan-200",children:"中班"})]}),c.jsxs("div",{className:"text-center p-4 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-300",children:a.night}),c.jsx("div",{className:"text-sm text-blue-200",children:"晚班"})]}),c.jsxs("div",{className:"text-center p-4 bg-gray-500/20 rounded-lg border border-gray-400/30",children:[c.jsx("div",{className:"text-2xl font-bold text-gray-300",children:a.rest}),c.jsx("div",{className:"text-sm text-gray-200",children:"休假"})]}),c.jsxs("div",{className:"text-center p-4 bg-orange-500/20 rounded-lg border border-orange-400/30",children:[c.jsx("div",{className:"text-2xl font-bold text-orange-300",children:a.special}),c.jsx("div",{className:"text-sm text-orange-200",children:"特休"})]})]}),c.jsxs("div",{className:"text-center p-4 bg-surface/40 rounded-lg border border-white/10",children:[c.jsxs("div",{className:"text-lg font-semibold text-white",children:["總工作天數：",a.total," 天"]}),c.jsxs("div",{className:"text-sm text-gray-400",children:["工作率：",(a.total/31*100).toFixed(1),"%"]})]}),n&&n.totalMonths>0&&c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-bold mb-4 text-green-300 text-center",children:"跨月份平均值統計"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-4",children:[c.jsxs("div",{className:"text-center p-3 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[c.jsx("div",{className:"text-lg font-bold text-blue-300",children:n.totalMonths}),c.jsx("div",{className:"text-xs text-blue-200",children:"統計月份"})]}),(()=>{const g={early:a.early,middle:a.middle,night:a.night,rest:a.rest},m=(B,I)=>{const T=B-I;return{value:T,isPositive:T>0,isZero:T===0}},p=m(g.early,n.averageEarlyPerMonth),v=m(g.middle,n.averageMidPerMonth),y=m(g.night,n.averageNightPerMonth),w=m(g.rest,n.averageRestPerMonth);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"text-center p-3 bg-pink-500/20 rounded-lg border border-pink-400/30",children:[c.jsx("div",{className:"text-lg font-bold text-pink-300",children:n.averageEarlyPerMonth}),c.jsx("div",{className:"text-xs text-pink-200",children:"平均早班/月"}),c.jsxs("div",{className:`text-xs mt-1 ${p.isPositive?"text-green-400":p.isZero?"text-gray-400":"text-red-400"}`,children:[p.isPositive?"+":"",p.value," vs 本月"]})]}),c.jsxs("div",{className:"text-center p-3 bg-cyan-500/20 rounded-lg border border-cyan-400/30",children:[c.jsx("div",{className:"text-lg font-bold text-cyan-300",children:n.averageMidPerMonth}),c.jsx("div",{className:"text-xs text-cyan-200",children:"平均中班/月"}),c.jsxs("div",{className:`text-xs mt-1 ${v.isPositive?"text-green-400":v.isZero?"text-gray-400":"text-red-400"}`,children:[v.isPositive?"+":"",v.value," vs 本月"]})]}),c.jsxs("div",{className:"text-center p-3 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[c.jsx("div",{className:"text-lg font-bold text-blue-300",children:n.averageNightPerMonth}),c.jsx("div",{className:"text-xs text-blue-200",children:"平均晚班/月"}),c.jsxs("div",{className:`text-xs mt-1 ${y.isPositive?"text-green-400":y.isZero?"text-gray-400":"text-red-400"}`,children:[y.isPositive?"+":"",y.value," vs 本月"]})]}),c.jsxs("div",{className:"text-center p-3 bg-gray-500/20 rounded-lg border border-gray-400/30",children:[c.jsx("div",{className:"text-lg font-bold text-gray-300",children:n.averageRestPerMonth}),c.jsx("div",{className:"text-xs text-gray-200",children:"平均休假/月"}),c.jsxs("div",{className:`text-xs mt-1 ${w.isPositive?"text-green-400":w.isZero?"text-gray-400":"text-red-400"}`,children:[w.isPositive?"+":"",w.value," vs 本月"]})]})]})})()]}),c.jsxs("div",{className:"text-center text-sm text-gray-400",children:["基於 ",n.totalMonths," 個月份的資料計算 | ",c.jsx("span",{className:"text-green-400",children:"綠色"})," = 高於平均值 | ",c.jsx("span",{className:"text-red-400",children:"紅色"})," = 低於平均值"]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-bold mb-4 text-purple-300 text-center",children:"班次佔比"}),c.jsx(Ba,{width:"100%",height:300,children:c.jsxs(gH,{children:[c.jsx(__,{data:o,cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percent:m})=>`${g} ${(m*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.map((g,m)=>c.jsx(Vu,{fill:g.color},`cell-${m}`))}),c.jsx(ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}})]})})]}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-bold mb-4 text-blue-300 text-center",children:"每日班次分布"}),c.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["日","一","二","三","四","五","六"].map(g=>c.jsx("div",{className:"text-center text-sm font-semibold text-gray-400 py-2",children:g},g))}),c.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:new Date(new Date().getFullYear(),new Date().getMonth(),1).getDay()},(g,m)=>c.jsx("div",{className:"h-8 bg-surface/20 rounded border border-white/5"},`empty-${m}`)),Array.from({length:new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate()},(g,m)=>{var B;const p=m+1,v=(B=t[r])==null?void 0:B[p],y=I=>{switch(I){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-surface/20 text-gray-400 border border-white/10"}},w=I=>{switch(I){case"早":return"早班";case"中":return"中班";case"晚":return"晚班";case"休":return"休假";case"特":return"特休";default:return"無班次"}};return c.jsx("div",{className:`h-8 rounded border flex items-center justify-center text-xs font-bold transition-all hover:scale-110 cursor-pointer ${y(v)}`,title:`${p}日 - ${w(v)}`,children:p},p)})]}),c.jsxs("div",{className:"mt-4 flex flex-wrap justify-center gap-3 text-xs",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded"}),c.jsx("span",{className:"text-gray-300",children:"早班"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 bg-cyan-500 rounded"}),c.jsx("span",{className:"text-gray-300",children:"中班"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),c.jsx("span",{className:"text-gray-300",children:"晚班"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded"}),c.jsx("span",{className:"text-gray-300",children:"休假"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded"}),c.jsx("span",{className:"text-gray-300",children:"特休"})]})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-bold mb-4 text-orange-300 text-center",children:"連續上班天數分析"}),c.jsx(Ba,{width:"100%",height:300,children:c.jsxs(bB,{data:A(),margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(oA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),c.jsx(Va,{dataKey:"period",stroke:"#ffffff80"}),c.jsx(Ka,{stroke:"#ffffff80"}),c.jsx(ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"},formatter:(g,m)=>[g,{highRisk:"高 (≥6天)",mediumRisk:"中 (4-5天)",lowRisk:"低 (1-3天)"}[m]||m]}),c.jsx(BA,{}),c.jsx(fa,{dataKey:"consecutiveDays",fill:"#f97316",name:"連續天數"})]})}),c.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{className:"flex items-center justify-center p-2 bg-red-500/20 rounded-lg border border-red-400/30",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),c.jsx("span",{className:"text-red-300",children:"高 (≥6天)"})]}),c.jsxs("div",{className:"flex items-center justify-center p-2 bg-orange-500/20 rounded-lg border border-orange-400/30",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500 mr-2"}),c.jsx("span",{className:"text-orange-300",children:"中 (4-5天)"})]}),c.jsxs("div",{className:"flex items-center justify-center p-2 bg-green-500/20 rounded-lg border border-green-400/30",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),c.jsx("span",{className:"text-green-300",children:"低 (1-3天)"})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-bold mb-4 text-blue-300 text-center",children:"連續上班頻率趨勢"}),c.jsx(Ba,{width:"100%",height:300,children:c.jsxs(O_,{data:l(),margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(oA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),c.jsx(Va,{dataKey:"date",stroke:"#ffffff80"}),c.jsx(Ka,{stroke:"#ffffff80",domain:[0,6]}),c.jsx(ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}}),c.jsx(BA,{}),c.jsx(Ca,{type:"monotone",dataKey:"consecutiveDays",stroke:"#8b5cf6",strokeWidth:3,name:"連續天數"}),c.jsx(Ca,{type:"monotone",dataKey:"riskLevel",stroke:"#ef4444",strokeWidth:2,name:"等級"})]})})]})]}),c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-bold mb-4 text-purple-300 text-center",children:"班次轉換關係圖"}),c.jsx(Ba,{width:"100%",height:300,children:c.jsxs(bB,{data:u(),margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(oA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),c.jsx(Va,{dataKey:"transition",stroke:"#ffffff80"}),c.jsx(Ka,{stroke:"#ffffff80"}),c.jsx(ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"},formatter:(g,m,p)=>[`${p.payload.transition}: ${g}次`,"轉換次數"]}),c.jsx(fa,{dataKey:"value",fill:"#8b5cf6"})]})}),c.jsx("div",{className:"mt-4 grid grid-cols-2 lg:grid-cols-4 gap-4",children:d().slice(0,8).map((g,m)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:f(g.from)},children:g.from}),c.jsx("span",{className:"text-gray-400",children:"→"}),c.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:f(g.to)},children:g.to})]}),c.jsx("div",{className:"text-purple-300 font-bold",children:g.count})]},m))})]})})]})}function G0e({schedule:t,names:e,pickupLocations:r,selectedEmployee:n,calculateFare:i}){const[s,a]=x.useState(!1),[o,A]=x.useState(null);if(x.useEffect(()=>{n?(a(!0),setTimeout(()=>{const g=i(n);A(g),a(!1)},500)):A(null)},[n,i]),!n)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"請選擇一位同事來計算車費"}),c.jsx("div",{className:"text-gray-500 text-sm",children:"選擇同事後，將顯示該同事的車費分析"})]});if(s)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),c.jsx("div",{className:"text-gray-400 text-lg",children:"正在計算車費..."})]});if(!o)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"無法計算車費"}),c.jsx("div",{className:"text-gray-500 text-sm",children:"該同事可能不搭車或沒有班表資料"})]});const l=[{name:"原價",cost:o.originalTotal,type:"original"},{name:"桃園市民卡 7折",cost:o.citizenCardTotal,type:"citizen"},...o.monthlyPassOptions.map(g=>({name:`${g.days}天定期票`,cost:g.averagePricePerMonth,type:"monthly",days:g.days,savings:g.savings,averagePricePerMonth:g.averagePricePerMonth,price:g.price,originalPrice:g.totalCost})),{name:"TPass 799",cost:o.tpassTotal,type:"tpass"}],d=((g,m)=>{const p={bestValue:null,mostFlexible:null,bestForFrequent:null,bestForOccasional:null};return p.bestValue=m.reduce((v,y)=>y.cost<v.cost?y:v),p.mostFlexible=m.find(v=>v.type==="original"||v.type==="citizen")||p.bestValue,g.totalTrips>20?p.bestForFrequent=m.find(v=>v.type==="tpass")||p.bestValue:g.totalTrips<10?p.bestForOccasional=m.find(v=>v.type==="original"||v.type==="citizen")||p.bestValue:(p.bestForFrequent=p.bestValue,p.bestForOccasional=p.bestValue),p})(o,l),f=d.bestValue;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-xl p-6 border border-blue-400/30",children:[c.jsx("h3",{className:"text-xl font-bold text-blue-300 mb-4",children:"車費試算結果"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:o.employeeName}),c.jsx("div",{className:"text-sm text-gray-400",children:"同事"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-green-300",children:o.location}),c.jsx("div",{className:"text-sm text-gray-400",children:"上車地點"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-purple-300",children:[o.totalTrips," 次"]}),c.jsx("div",{className:"text-sm text-gray-400",children:"總搭乘次數"})]})]})]}),c.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/20",children:[c.jsx("h4",{className:"text-lg font-semibold text-purple-300 mb-4",children:"車費方案比較"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4",children:l.map((g,m)=>{var p,v,y;return c.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border transition-all duration-300 relative transform hover:scale-105 hover:shadow-lg animate-fade-in-up ${g.cost===f.cost?"bg-green-500/20 border-green-400/50 text-green-300 ring-2 ring-green-400/30":"bg-surface/20 border-white/20 text-white hover:bg-surface/30"}`,style:{animationDelay:`${m*100}ms`,animationFillMode:"both"},children:[c.jsxs("div",{className:"absolute -top-2 -right-2 flex flex-col gap-1",children:[g.cost===f.cost&&c.jsx("div",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg animate-pulse",children:"🏆 最划算"}),g.cost===((p=d.mostFlexible)==null?void 0:p.cost)&&g.type!=="original"&&c.jsx("div",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"🎯 最靈活"}),g.cost===((v=d.bestForFrequent)==null?void 0:v.cost)&&o.totalTrips>20&&c.jsx("div",{className:"bg-purple-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"⚡ 常搭推薦"}),g.cost===((y=d.bestForOccasional)==null?void 0:y.cost)&&o.totalTrips<10&&c.jsx("div",{className:"bg-orange-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"💡 偶爾搭"})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g.type==="original"&&c.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),g.type==="citizen"&&c.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V4a2 2 0 114 0v2m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})}),g.type==="monthly"&&c.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),g.type==="tpass"&&c.jsx("svg",{className:"w-5 h-5 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),c.jsx("span",{className:"font-semibold text-sm",children:g.name})]}),c.jsxs("div",{className:"text-xl sm:text-2xl font-bold mb-2 transition-all duration-300 animate-price-change",children:["$",g.cost]}),g.type==="monthly"&&c.jsx("div",{className:"text-xs text-gray-400 mb-1",children:c.jsxs("span",{className:"text-xs text-gray-500",children:["票券原價 $",g.originalPrice]})}),g.type==="tpass"&&c.jsx("div",{className:"text-xs text-gray-400",children:"A22-A7 坐到哭"})]},m)})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-r from-indigo-500/20 to-purple-500/20 rounded-xl p-6 border border-indigo-400/30",children:[c.jsx("h4",{className:"text-xl font-bold text-indigo-300 mb-6",children:"車費分析儀表板"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",Math.min(...l.map(g=>g.cost))]}),c.jsx("div",{className:"text-sm text-gray-400",children:"最低費用"})]}),c.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-red-400",children:["$",Math.max(...l.map(g=>g.cost))]}),c.jsx("div",{className:"text-sm text-gray-400",children:"最高費用"})]}),c.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-orange-400",children:["$",o.originalTotal-Math.min(...l.map(g=>g.cost))]}),c.jsx("div",{className:"text-sm text-gray-400",children:"最大節省"})]}),c.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-400",children:l.length}),c.jsx("div",{className:"text-sm text-gray-400",children:"方案數量"})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 via-teal-500/5 to-cyan-500/10 rounded-xl p-6 border border-emerald-400/20 shadow-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[c.jsx("h5",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-emerald-300 to-teal-300 bg-clip-text text-transparent",children:"搭乘次數 vs 費用效益分析"}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[c.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-emerald-400"}),c.jsx("span",{className:"hidden sm:inline",children:"即時分析"})]})]}),c.jsx(Ba,{width:"100%",height:200,className:"sm:h-[250px]",children:c.jsxs(O_,{data:Array.from({length:40},(g,m)=>{const p=m+1,v=p*o.originalTotal/o.totalTrips,y=Math.ceil(v*.7),w=799,B=o.monthlyPassOptions.find(T=>T.days===120),I=B?B.averagePricePerMonth:486;return{trips:p,原價:Math.round(v),市民卡:y,TPass:w,"120天票":Math.round(I)}}),children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"originalGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.8}),c.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:.1})]}),c.jsxs("linearGradient",{id:"citizenGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),c.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),c.jsxs("linearGradient",{id:"tpassGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.8}),c.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:.1})]}),c.jsxs("linearGradient",{id:"monthlyGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),c.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})]}),c.jsx(oA,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),c.jsx(Va,{dataKey:"trips",stroke:"#9ca3af",fontSize:10,className:"sm:text-xs",tickLine:!1,axisLine:{stroke:"#4b5563",strokeWidth:1},interval:"preserveStartEnd",label:{value:"搭乘次數",position:"insideBottom",offset:-5,style:{textAnchor:"middle",fill:"#9ca3af",fontSize:"11px",fontWeight:"500"}}}),c.jsx(Ka,{stroke:"#9ca3af",fontSize:10,className:"sm:text-xs",tickLine:!1,axisLine:{stroke:"#4b5563",strokeWidth:1},tickFormatter:g=>`$${g}`,width:50,label:{value:"費用",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9ca3af",fontSize:"11px",fontWeight:"500"}}}),c.jsx(ba,{formatter:(g,m)=>[`$${g}`,m],labelFormatter:g=>`搭乘 ${g} 次`,contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"12px",color:"#fff",boxShadow:"0 10px 25px rgba(0,0,0,0.3)",padding:"12px"},cursor:{stroke:"#6b7280",strokeWidth:1,strokeDasharray:"3 3"}}),c.jsx(Ca,{type:"monotone",dataKey:"原價",stroke:"#ef4444",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#ef4444",strokeWidth:1,fill:"#fff"}}),c.jsx(Ca,{type:"monotone",dataKey:"市民卡",stroke:"#3b82f6",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#3b82f6",strokeWidth:1,fill:"#fff"}}),c.jsx(Ca,{type:"monotone",dataKey:"TPass",stroke:"#f59e0b",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#f59e0b",strokeWidth:1,fill:"#fff"}}),c.jsx(Ca,{type:"monotone",dataKey:"120天票",stroke:"#10b981",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#10b981",strokeWidth:1,fill:"#fff"}})]})}),c.jsx("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 bg-surface/20 rounded-lg border border-emerald-400/10",children:c.jsxs("div",{className:"text-xs sm:text-sm text-gray-300 leading-relaxed",children:["此圖顯示不同搭乘次數下各方案的費用變化，幫助您了解在什麼情況下哪種方案最划算。",c.jsx("span",{className:"text-emerald-300 font-medium",children:"交叉點"}),"表示方案間的轉換時機。"]})})]})]})]})}function W0e({schedule:t,names:e,displayDates:r,selectedEmployee:n}){if(!n)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"請選擇一位同事來查看搭班情況"}),c.jsx("div",{className:"text-gray-500 text-sm",children:"在左側選擇同事後，將顯示該同事每天的搭班同事"})]});const i=o=>{var d;const A=(d=t[n])==null?void 0:d[o];if(!A||A==="休")return[];const l=[];Object.keys(t).forEach(f=>{var m;if(f==="_lastUpdated"||f===n)return;const g=(m=t[f])==null?void 0:m[o];!g||g==="休"||(g===A?l.push({id:f,name:e[f]||f,shift:g,type:"同班"}):(A==="早"&&g==="中"||A==="中"&&g==="晚"||A==="中"&&g==="早"||A==="晚"&&g==="中")&&l.push({id:f,name:e[f]||f,shift:g,type:"跨班"}))});const u={早:1,中:2,晚:3};return l.sort((f,g)=>{const m=u[f.shift]||999,p=u[g.shift]||999;return m-p}),l},s=o=>{switch(o){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}},a=o=>{switch(o){case"同班":return"bg-green-500/20 border-green-400/30 text-green-300";case"跨班":return"bg-purple-500/20 border-purple-400/30 text-purple-300";default:return"bg-gray-500/20 border-gray-400/30 text-gray-300"}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-xl p-4 sm:p-6 border border-purple-400/30",children:[c.jsx("h3",{className:"text-lg sm:text-xl font-bold text-purple-300 mb-2",children:"每日搭班視圖"}),c.jsx("div",{className:"flex items-center gap-2 sm:gap-4",children:c.jsxs("div",{className:"text-white font-semibold text-sm sm:text-base",children:["同事：",c.jsx("span",{className:"text-purple-300",children:e[n]||n})]})})]}),c.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 gap-2 sm:gap-3 md:gap-4",children:r.map(o=>{var d;const A=o===new Date().getDate(),l=(d=t[n])==null?void 0:d[o],u=i(o);return c.jsxs("div",{className:`bg-surface/60 rounded-xl p-2 sm:p-3 md:p-4 border transition-all duration-200 ${A?"border-primary/50 bg-primary/10 ring-2 ring-primary/30":"border-white/20 hover:border-white/30"}`,children:[c.jsxs("div",{className:"text-center mb-2 sm:mb-3",children:[c.jsx("div",{className:`text-sm sm:text-base md:text-lg font-bold ${A?"text-primary":"text-white"}`,children:o}),c.jsx("div",{className:"text-xs text-gray-400 hidden sm:block",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),o).getDay()]})]}),c.jsxs("div",{className:"mb-2 sm:mb-3",children:[c.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"我的班次"}),l?c.jsx("div",{className:`px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-center text-xs sm:text-sm font-bold ${s(l)}`,children:l}):c.jsx("div",{className:"px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-center text-xs sm:text-sm text-gray-400 bg-surface/20 border border-white/10",children:"無班次"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-xs text-gray-400 mb-1 sm:mb-2",children:["搭班同事 (",u.length,")"]}),u.length>0?c.jsx("div",{className:"space-y-1 sm:space-y-2",children:u.map(f=>c.jsxs("div",{className:`p-1 sm:p-2 rounded-lg border text-xs ${a(f.type)}`,children:[c.jsx("div",{className:"font-medium mb-0.5 sm:mb-1 text-xs sm:text-xs truncate",children:f.name}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs opacity-80 hidden sm:inline",children:f.type}),c.jsx("div",{className:`px-1 sm:px-2 py-0.5 sm:py-1 rounded text-xs font-bold ${s(f.shift)}`,children:f.shift})]})]},f.id))}):c.jsx("div",{className:"text-xs text-gray-500 text-center py-1 sm:py-2",children:l&&l!=="休"?"無搭班同事":"休息日"})]})]},o)})})]})}function z0e(){const[t,e]=x.useState(""),[r,n]=x.useState(""),i=()=>{if(!t.trim()){n("請輸入測試資料");return}const s=t.trim().split(`
`);let a=`資料格式分析結果：

`;a+=`總行數: ${s.length}

`,s.forEach((o,A)=>{if(!o.trim()){a+=`第 ${A+1} 行: 空白行
`;return}a+=`第 ${A+1} 行: "${o}"
`;const l=o.split("	"),u=o.split(/\s+/);a+=`  Tab 分隔: ${l.length} 個欄位
`,a+=`  空格分隔: ${u.length} 個欄位
`,l.length>=2?(a+=`  職員編號: "${l[0].trim()}"
`,a+=`  姓名: "${l[1].trim()}"
`,a+=`  班表欄位數: ${l.length-2}
`):u.length>=2?(a+=`  職員編號: "${u[0].trim()}"
`,a+=`  姓名: "${u[1].trim()}"
`,a+=`  班表欄位數: ${u.length-2}
`):a+=`  ❌ 格式錯誤：欄位數不足
`,a+=`
`}),n(a)};return c.jsxs("div",{className:"container-custom py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"資料格式測試工具"}),c.jsx("p",{className:"text-center text-text-secondary",children:"檢查 Excel 資料格式是否正確"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-400",children:"輸入測試資料"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-semibold mb-2",children:"從 Excel 複製的資料"}),c.jsx("textarea",{value:t,onChange:s=>e(s.target.value),placeholder:"請從 Excel 複製資料並貼上這裡...",className:"w-full h-64 px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-blue-400/50 focus:bg-white/10 resize-none"})]}),c.jsx("button",{onClick:i,className:"px-6 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-400 rounded-lg transition-all",children:"分析資料格式"})]}),c.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-green-400",children:"分析結果"}),c.jsx("div",{className:"bg-surface/20 rounded-lg p-4 border border-white/5",children:c.jsx("pre",{className:"text-sm text-text-secondary whitespace-pre-wrap font-mono",children:r||"請輸入資料並點擊「分析資料格式」"})})]})]}),c.jsxs("div",{className:"mt-8 bg-surface/40 rounded-xl p-6 border border-white/10",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-400",children:"正確的資料格式"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2 text-orange-400",children:"Excel 格式要求"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary",children:[c.jsx("li",{children:"第一欄：職員編號（如 A45、A51）"}),c.jsx("li",{children:"第二欄：姓名（如 林小余、黃紅葉）"}),c.jsx("li",{children:"第三欄開始：每日班表（如 K、Y、L、月休）"}),c.jsx("li",{children:"欄位之間用 Tab 鍵分隔"}),c.jsx("li",{children:"每行代表一位同仁的完整班表"})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2 text-green-400",children:"範例資料"}),c.jsx("div",{className:"bg-surface/20 rounded-lg p-4 border border-white/5",children:c.jsx("pre",{className:"text-sm text-text-secondary font-mono",children:`A45	林小余	K	K	Y	L	月休	Y
A51	黃紅葉	K	K	Y	L	K	Y
A60	李Ashley	Y	L	K	Y	L	K`})})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2 text-red-400",children:"常見問題"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary",children:[c.jsx("li",{children:"複製時沒有包含 Tab 分隔符"}),c.jsx("li",{children:"職員編號或姓名為空"}),c.jsx("li",{children:"資料行數不足"}),c.jsx("li",{children:"包含多餘的空格或特殊字符"})]})]})]})]})]})}const Y0e=x.lazy(()=>ma(()=>import("./CashierManagement-CYhVOX3V.js"),[])),X0e=x.lazy(()=>ma(()=>import("./AdminPanel-D5vqLSUp.js"),[]));function q0e(){const[t,e]=x.useState({checked:!1,connected:!1,error:null});return x.useEffect(()=>{(async()=>{try{const n=await fY();e({checked:!0,connected:n,error:n?null:"無法連接到 Firebase"})}catch(n){console.error("檢查 Firebase 連接時出錯:",n),e({checked:!0,connected:!1,error:n.message||"無法連接到 Firebase"})}})()},[]),c.jsx(dX,{children:c.jsx(o$,{children:c.jsxs(lX,{children:[t.checked&&!t.connected&&c.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 m-4",children:[c.jsx("h3",{className:"text-amber-500 font-bold mb-2",children:"Firebase 連接警告"}),c.jsxs("p",{className:"text-sm text-text-secondary",children:["應用程序無法連接到 Firebase 服務。部分功能可能無法正常工作。",t.error&&c.jsxs("span",{className:"block mt-1",children:["錯誤: ",t.error]})]}),c.jsx("p",{className:"text-xs text-text-secondary mt-2",children:"您仍然可以使用應用程序，但數據將不會同步到雲端。"})]}),c.jsx(x.Suspense,{fallback:c.jsx(uX,{}),children:c.jsxs(Z6,{children:[c.jsx(Rn,{path:"/",element:c.jsx(q6,{to:"/sandwich",replace:!0})}),c.jsx(Rn,{path:"/sandwich",element:c.jsx(vX,{})}),c.jsx(Rn,{path:"/cashier",element:c.jsx(Y0e,{})}),c.jsx(Rn,{path:"/alcohol",element:c.jsx(mX,{})}),c.jsx(Rn,{path:"/coffee-beans",element:c.jsx(yX,{})}),c.jsx(Rn,{path:"/daily-reports",element:c.jsx(bX,{})}),c.jsx(Rn,{path:"/schedule",element:c.jsx(U0e,{})}),c.jsx(Rn,{path:"/data-tester",element:c.jsx(z0e,{})}),c.jsx(Rn,{path:"/poursteady",element:c.jsx(hX,{})}),c.jsx(Rn,{path:"/admin",element:c.jsx(X0e,{})}),c.jsx(Rn,{path:"*",element:c.jsx(cX,{})})]})})]})})})}Qw.createRoot(document.getElementById("root")).render(c.jsx(Kp.StrictMode,{children:c.jsx(q0e,{})}));export{Yd as F,Kp as R,ma as _,B2 as a,rj as b,vC as c,ZD as d,Az as e,lu as f,QY as g,Fi as h,or as i,c as j,Ad as k,ad as l,ave as m,sve as n,ove as o,PY as p,YD as q,x as r,Ko as s,hY as t,kk as u,ive as v,Wd as w,lz as x,cY as y};
