var NH=Object.defineProperty;var QH=(t,e,r)=>e in t?NH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Xu=(t,e,r)=>QH(t,typeof e!="symbol"?e+"":e,r);function kH(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function Ki(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cN={exports:{}},Dp={},dN={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf=Symbol.for("react.element"),OH=Symbol.for("react.portal"),DH=Symbol.for("react.fragment"),jH=Symbol.for("react.strict_mode"),RH=Symbol.for("react.profiler"),MH=Symbol.for("react.provider"),LH=Symbol.for("react.context"),HH=Symbol.for("react.forward_ref"),VH=Symbol.for("react.suspense"),KH=Symbol.for("react.memo"),$H=Symbol.for("react.lazy"),pI=Symbol.iterator;function GH(t){return t===null||typeof t!="object"?null:(t=pI&&t[pI]||t["@@iterator"],typeof t=="function"?t:null)}var fN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hN=Object.assign,gN={};function mu(t,e,r){this.props=t,this.context=e,this.refs=gN,this.updater=r||fN}mu.prototype.isReactComponent={};mu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mN(){}mN.prototype=mu.prototype;function vB(t,e,r){this.props=t,this.context=e,this.refs=gN,this.updater=r||fN}var yB=vB.prototype=new mN;yB.constructor=vB;hN(yB,mu.prototype);yB.isPureReactComponent=!0;var vI=Array.isArray,pN=Object.prototype.hasOwnProperty,wB={current:null},vN={key:!0,ref:!0,__self:!0,__source:!0};function yN(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)pN.call(e,n)&&!vN.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var A=Array(o),l=0;l<o;l++)A[l]=arguments[l+2];i.children=A}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:sf,type:t,key:s,ref:a,props:i,_owner:wB.current}}function WH(t,e){return{$$typeof:sf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xB(t){return typeof t=="object"&&t!==null&&t.$$typeof===sf}function zH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var yI=/\/+/g;function Yv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zH(""+t.key):e.toString(36)}function mg(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case sf:case OH:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Yv(a,0):n,vI(i)?(r="",t!=null&&(r=t.replace(yI,"$&/")+"/"),mg(i,e,r,"",function(l){return l})):i!=null&&(xB(i)&&(i=WH(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(yI,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",vI(t))for(var o=0;o<t.length;o++){s=t[o];var A=n+Yv(s,o);a+=mg(s,e,r,A,i)}else if(A=GH(t),typeof A=="function")for(t=A.call(t),o=0;!(s=t.next()).done;)s=s.value,A=n+Yv(s,o++),a+=mg(s,e,r,A,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function oh(t,e,r){if(t==null)return t;var n=[],i=0;return mg(t,n,"","",function(s){return e.call(r,s,i++)}),n}function YH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yr={current:null},pg={transition:null},XH={ReactCurrentDispatcher:Yr,ReactCurrentBatchConfig:pg,ReactCurrentOwner:wB};function wN(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:oh,forEach:function(t,e,r){oh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return oh(t,function(){e++}),e},toArray:function(t){return oh(t,function(e){return e})||[]},only:function(t){if(!xB(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=mu;Oe.Fragment=DH;Oe.Profiler=RH;Oe.PureComponent=vB;Oe.StrictMode=jH;Oe.Suspense=VH;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XH;Oe.act=wN;Oe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=hN({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=wB.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(A in e)pN.call(e,A)&&!vN.hasOwnProperty(A)&&(n[A]=e[A]===void 0&&o!==void 0?o[A]:e[A])}var A=arguments.length-2;if(A===1)n.children=r;else if(1<A){o=Array(A);for(var l=0;l<A;l++)o[l]=arguments[l+2];n.children=o}return{$$typeof:sf,type:t.type,key:i,ref:s,props:n,_owner:a}};Oe.createContext=function(t){return t={$$typeof:LH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:MH,_context:t},t.Consumer=t};Oe.createElement=yN;Oe.createFactory=function(t){var e=yN.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:HH,render:t}};Oe.isValidElement=xB;Oe.lazy=function(t){return{$$typeof:$H,_payload:{_status:-1,_result:t},_init:YH}};Oe.memo=function(t,e){return{$$typeof:KH,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=pg.transition;pg.transition={};try{t()}finally{pg.transition=e}};Oe.unstable_act=wN;Oe.useCallback=function(t,e){return Yr.current.useCallback(t,e)};Oe.useContext=function(t){return Yr.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return Yr.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return Yr.current.useEffect(t,e)};Oe.useId=function(){return Yr.current.useId()};Oe.useImperativeHandle=function(t,e,r){return Yr.current.useImperativeHandle(t,e,r)};Oe.useInsertionEffect=function(t,e){return Yr.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return Yr.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return Yr.current.useMemo(t,e)};Oe.useReducer=function(t,e,r){return Yr.current.useReducer(t,e,r)};Oe.useRef=function(t){return Yr.current.useRef(t)};Oe.useState=function(t){return Yr.current.useState(t)};Oe.useSyncExternalStore=function(t,e,r){return Yr.current.useSyncExternalStore(t,e,r)};Oe.useTransition=function(){return Yr.current.useTransition()};Oe.version="18.3.1";dN.exports=Oe;var x=dN.exports;const jp=Ki(x),xN=kH({__proto__:null,default:jp},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qH=x,JH=Symbol.for("react.element"),ZH=Symbol.for("react.fragment"),eV=Object.prototype.hasOwnProperty,tV=qH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rV={key:!0,ref:!0,__self:!0,__source:!0};function bN(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)eV.call(e,n)&&!rV.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:JH,type:t,key:s,ref:a,props:i,_owner:tV.current}}Dp.Fragment=ZH;Dp.jsx=bN;Dp.jsxs=bN;cN.exports=Dp;var d=cN.exports,Sw={},BN={exports:{}},Un={},CN={exports:{}},EN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,ne){var ce=Y.length;Y.push(ne);e:for(;0<ce;){var Ue=ce-1>>>1,re=Y[Ue];if(0<i(re,ne))Y[Ue]=ne,Y[ce]=re,ce=Ue;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var ne=Y[0],ce=Y.pop();if(ce!==ne){Y[0]=ce;e:for(var Ue=0,re=Y.length,Pe=re>>>1;Ue<Pe;){var O=2*(Ue+1)-1,D=Y[O],j=O+1,q=Y[j];if(0>i(D,ce))j<re&&0>i(q,D)?(Y[Ue]=q,Y[j]=ce,Ue=j):(Y[Ue]=D,Y[O]=ce,Ue=O);else if(j<re&&0>i(q,ce))Y[Ue]=q,Y[j]=ce,Ue=j;else break e}}return ne}function i(Y,ne){var ce=Y.sortIndex-ne.sortIndex;return ce!==0?ce:Y.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var A=[],l=[],u=1,c=null,f=3,g=!1,m=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(Y){for(var ne=r(l);ne!==null;){if(ne.callback===null)n(l);else if(ne.startTime<=Y)n(l),ne.sortIndex=ne.expirationTime,e(A,ne);else break;ne=r(l)}}function I(Y){if(p=!1,B(Y),!m)if(r(A)!==null)m=!0,he(T);else{var ne=r(l);ne!==null&&ye(I,ne.startTime-Y)}}function T(Y,ne){m=!1,p&&(p=!1,y(_),_=-1),g=!0;var ce=f;try{for(B(ne),c=r(A);c!==null&&(!(c.expirationTime>ne)||Y&&!Q());){var Ue=c.callback;if(typeof Ue=="function"){c.callback=null,f=c.priorityLevel;var re=Ue(c.expirationTime<=ne);ne=t.unstable_now(),typeof re=="function"?c.callback=re:c===r(A)&&n(A),B(ne)}else n(A);c=r(A)}if(c!==null)var Pe=!0;else{var O=r(l);O!==null&&ye(I,O.startTime-ne),Pe=!1}return Pe}finally{c=null,f=ce,g=!1}}var F=!1,C=null,_=-1,S=5,P=-1;function Q(){return!(t.unstable_now()-P<S)}function k(){if(C!==null){var Y=t.unstable_now();P=Y;var ne=!0;try{ne=C(!0,Y)}finally{ne?N():(F=!1,C=null)}}else F=!1}var N;if(typeof w=="function")N=function(){w(k)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,be=se.port2;se.port1.onmessage=k,N=function(){be.postMessage(null)}}else N=function(){v(k,0)};function he(Y){C=Y,F||(F=!0,N())}function ye(Y,ne){_=v(function(){Y(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,he(T))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(A)},t.unstable_next=function(Y){switch(f){case 1:case 2:case 3:var ne=3;break;default:ne=f}var ce=f;f=ne;try{return Y()}finally{f=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,ne){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ce=f;f=Y;try{return ne()}finally{f=ce}},t.unstable_scheduleCallback=function(Y,ne,ce){var Ue=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ue+ce:Ue):ce=Ue,Y){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ce+re,Y={id:u++,callback:ne,priorityLevel:Y,startTime:ce,expirationTime:re,sortIndex:-1},ce>Ue?(Y.sortIndex=ce,e(l,Y),r(A)===null&&Y===r(l)&&(p?(y(_),_=-1):p=!0,ye(I,ce-Ue))):(Y.sortIndex=re,e(A,Y),m||g||(m=!0,he(T))),Y},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(Y){var ne=f;return function(){var ce=f;f=ne;try{return Y.apply(this,arguments)}finally{f=ce}}}})(EN);CN.exports=EN;var nV=CN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iV=x,En=nV;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _N=new Set,dd={};function xA(t,e){jl(t,e),jl(t+"Capture",e)}function jl(t,e){for(dd[t]=e,t=0;t<e.length;t++)_N.add(e[t])}var _s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tw=Object.prototype.hasOwnProperty,sV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wI={},xI={};function aV(t){return Tw.call(xI,t)?!0:Tw.call(wI,t)?!1:sV.test(t)?xI[t]=!0:(wI[t]=!0,!1)}function oV(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AV(t,e,r,n){if(e===null||typeof e>"u"||oV(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Br[t]=new Xr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Br[e]=new Xr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Br[t]=new Xr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Br[t]=new Xr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Br[t]=new Xr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Br[t]=new Xr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Br[t]=new Xr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Br[t]=new Xr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Br[t]=new Xr(t,5,!1,t.toLowerCase(),null,!1,!1)});var bB=/[\-:]([a-z])/g;function BB(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bB,BB);Br[e]=new Xr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bB,BB);Br[e]=new Xr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bB,BB);Br[e]=new Xr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Br[t]=new Xr(t,1,!1,t.toLowerCase(),null,!1,!1)});Br.xlinkHref=new Xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Br[t]=new Xr(t,1,!1,t.toLowerCase(),null,!0,!0)});function CB(t,e,r,n){var i=Br.hasOwnProperty(e)?Br[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AV(e,r,i,n)&&(r=null),n||i===null?aV(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Rs=iV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ah=Symbol.for("react.element"),ol=Symbol.for("react.portal"),Al=Symbol.for("react.fragment"),EB=Symbol.for("react.strict_mode"),Fw=Symbol.for("react.profiler"),IN=Symbol.for("react.provider"),SN=Symbol.for("react.context"),_B=Symbol.for("react.forward_ref"),Uw=Symbol.for("react.suspense"),Pw=Symbol.for("react.suspense_list"),IB=Symbol.for("react.memo"),oa=Symbol.for("react.lazy"),TN=Symbol.for("react.offscreen"),bI=Symbol.iterator;function qu(t){return t===null||typeof t!="object"?null:(t=bI&&t[bI]||t["@@iterator"],typeof t=="function"?t:null)}var St=Object.assign,Xv;function bc(t){if(Xv===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Xv=e&&e[1]||""}return`
`+Xv+t}var qv=!1;function Jv(t,e){if(!t||qv)return"";qv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var A=`
`+i[a].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=a&&0<=o);break}}}finally{qv=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?bc(t):""}function lV(t){switch(t.tag){case 5:return bc(t.type);case 16:return bc("Lazy");case 13:return bc("Suspense");case 19:return bc("SuspenseList");case 0:case 2:case 15:return t=Jv(t.type,!1),t;case 11:return t=Jv(t.type.render,!1),t;case 1:return t=Jv(t.type,!0),t;default:return""}}function Nw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Al:return"Fragment";case ol:return"Portal";case Fw:return"Profiler";case EB:return"StrictMode";case Uw:return"Suspense";case Pw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case SN:return(t.displayName||"Context")+".Consumer";case IN:return(t._context.displayName||"Context")+".Provider";case _B:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case IB:return e=t.displayName||null,e!==null?e:Nw(t.type)||"Memo";case oa:e=t._payload,t=t._init;try{return Nw(t(e))}catch{}}return null}function uV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nw(e);case 8:return e===EB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function La(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cV(t){var e=FN(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lh(t){t._valueTracker||(t._valueTracker=cV(t))}function UN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=FN(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Wg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qw(t,e){var r=e.checked;return St({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function BI(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=La(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PN(t,e){e=e.checked,e!=null&&CB(t,"checked",e,!1)}function kw(t,e){PN(t,e);var r=La(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ow(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ow(t,e.type,La(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function CI(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ow(t,e,r){(e!=="number"||Wg(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Bc=Array.isArray;function El(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+La(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Dw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return St({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function EI(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(te(92));if(Bc(r)){if(1<r.length)throw Error(te(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:La(r)}}function NN(t,e){var r=La(e.value),n=La(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function _I(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function QN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?QN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uh,kN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uh=uh||document.createElement("div"),uh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Lc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dV=["Webkit","ms","Moz","O"];Object.keys(Lc).forEach(function(t){dV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lc[e]=Lc[t]})});function ON(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Lc.hasOwnProperty(t)&&Lc[t]?(""+e).trim():e+"px"}function DN(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=ON(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var fV=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rw(t,e){if(e){if(fV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function Mw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lw=null;function SB(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hw=null,_l=null,Il=null;function II(t){if(t=Af(t)){if(typeof Hw!="function")throw Error(te(280));var e=t.stateNode;e&&(e=Vp(e),Hw(t.stateNode,t.type,e))}}function jN(t){_l?Il?Il.push(t):Il=[t]:_l=t}function RN(){if(_l){var t=_l,e=Il;if(Il=_l=null,II(t),e)for(t=0;t<e.length;t++)II(e[t])}}function MN(t,e){return t(e)}function LN(){}var Zv=!1;function HN(t,e,r){if(Zv)return t(e,r);Zv=!0;try{return MN(t,e,r)}finally{Zv=!1,(_l!==null||Il!==null)&&(LN(),RN())}}function hd(t,e){var r=t.stateNode;if(r===null)return null;var n=Vp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(te(231,e,typeof r));return r}var Vw=!1;if(_s)try{var Ju={};Object.defineProperty(Ju,"passive",{get:function(){Vw=!0}}),window.addEventListener("test",Ju,Ju),window.removeEventListener("test",Ju,Ju)}catch{Vw=!1}function hV(t,e,r,n,i,s,a,o,A){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var Hc=!1,zg=null,Yg=!1,Kw=null,gV={onError:function(t){Hc=!0,zg=t}};function mV(t,e,r,n,i,s,a,o,A){Hc=!1,zg=null,hV.apply(gV,arguments)}function pV(t,e,r,n,i,s,a,o,A){if(mV.apply(this,arguments),Hc){if(Hc){var l=zg;Hc=!1,zg=null}else throw Error(te(198));Yg||(Yg=!0,Kw=l)}}function bA(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function VN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function SI(t){if(bA(t)!==t)throw Error(te(188))}function vV(t){var e=t.alternate;if(!e){if(e=bA(t),e===null)throw Error(te(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return SI(i),t;if(s===n)return SI(i),e;s=s.sibling}throw Error(te(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?t:e}function KN(t){return t=vV(t),t!==null?$N(t):null}function $N(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$N(t);if(e!==null)return e;t=t.sibling}return null}var GN=En.unstable_scheduleCallback,TI=En.unstable_cancelCallback,yV=En.unstable_shouldYield,wV=En.unstable_requestPaint,jt=En.unstable_now,xV=En.unstable_getCurrentPriorityLevel,TB=En.unstable_ImmediatePriority,WN=En.unstable_UserBlockingPriority,Xg=En.unstable_NormalPriority,bV=En.unstable_LowPriority,zN=En.unstable_IdlePriority,Rp=null,ki=null;function BV(t){if(ki&&typeof ki.onCommitFiberRoot=="function")try{ki.onCommitFiberRoot(Rp,t,void 0,(t.current.flags&128)===128)}catch{}}var yi=Math.clz32?Math.clz32:_V,CV=Math.log,EV=Math.LN2;function _V(t){return t>>>=0,t===0?32:31-(CV(t)/EV|0)|0}var ch=64,dh=4194304;function Cc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qg(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Cc(o):(s&=a,s!==0&&(n=Cc(s)))}else a=r&~i,a!==0?n=Cc(a):s!==0&&(n=Cc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-yi(e),i=1<<r,n|=t[r],e&=~i;return n}function IV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SV(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-yi(s),o=1<<a,A=i[a];A===-1?(!(o&r)||o&n)&&(i[a]=IV(o,e)):A<=e&&(t.expiredLanes|=o),s&=~o}}function $w(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function YN(){var t=ch;return ch<<=1,!(ch&4194240)&&(ch=64),t}function ey(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function af(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yi(e),t[e]=r}function TV(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-yi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function FB(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-yi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var qe=0;function XN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qN,UB,JN,ZN,eQ,Gw=!1,fh=[],ba=null,Ba=null,Ca=null,gd=new Map,md=new Map,ca=[],FV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function FI(t,e){switch(t){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":gd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(e.pointerId)}}function Zu(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Af(e),e!==null&&UB(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function UV(t,e,r,n,i){switch(e){case"focusin":return ba=Zu(ba,t,e,r,n,i),!0;case"dragenter":return Ba=Zu(Ba,t,e,r,n,i),!0;case"mouseover":return Ca=Zu(Ca,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return gd.set(s,Zu(gd.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,md.set(s,Zu(md.get(s)||null,t,e,r,n,i)),!0}return!1}function tQ(t){var e=Do(t.target);if(e!==null){var r=bA(e);if(r!==null){if(e=r.tag,e===13){if(e=VN(r),e!==null){t.blockedOn=e,eQ(t.priority,function(){JN(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ww(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Lw=n,r.target.dispatchEvent(n),Lw=null}else return e=Af(r),e!==null&&UB(e),t.blockedOn=r,!1;e.shift()}return!0}function UI(t,e,r){vg(t)&&r.delete(e)}function PV(){Gw=!1,ba!==null&&vg(ba)&&(ba=null),Ba!==null&&vg(Ba)&&(Ba=null),Ca!==null&&vg(Ca)&&(Ca=null),gd.forEach(UI),md.forEach(UI)}function ec(t,e){t.blockedOn===e&&(t.blockedOn=null,Gw||(Gw=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,PV)))}function pd(t){function e(i){return ec(i,t)}if(0<fh.length){ec(fh[0],t);for(var r=1;r<fh.length;r++){var n=fh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ba!==null&&ec(ba,t),Ba!==null&&ec(Ba,t),Ca!==null&&ec(Ca,t),gd.forEach(e),md.forEach(e),r=0;r<ca.length;r++)n=ca[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ca.length&&(r=ca[0],r.blockedOn===null);)tQ(r),r.blockedOn===null&&ca.shift()}var Sl=Rs.ReactCurrentBatchConfig,Jg=!0;function NV(t,e,r,n){var i=qe,s=Sl.transition;Sl.transition=null;try{qe=1,PB(t,e,r,n)}finally{qe=i,Sl.transition=s}}function QV(t,e,r,n){var i=qe,s=Sl.transition;Sl.transition=null;try{qe=4,PB(t,e,r,n)}finally{qe=i,Sl.transition=s}}function PB(t,e,r,n){if(Jg){var i=Ww(t,e,r,n);if(i===null)uy(t,e,n,Zg,r),FI(t,n);else if(UV(i,t,e,r,n))n.stopPropagation();else if(FI(t,n),e&4&&-1<FV.indexOf(t)){for(;i!==null;){var s=Af(i);if(s!==null&&qN(s),s=Ww(t,e,r,n),s===null&&uy(t,e,n,Zg,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else uy(t,e,n,null,r)}}var Zg=null;function Ww(t,e,r,n){if(Zg=null,t=SB(n),t=Do(t),t!==null)if(e=bA(t),e===null)t=null;else if(r=e.tag,r===13){if(t=VN(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zg=t,null}function rQ(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xV()){case TB:return 1;case WN:return 4;case Xg:case bV:return 16;case zN:return 536870912;default:return 16}default:return 16}}var ga=null,NB=null,yg=null;function nQ(){if(yg)return yg;var t,e=NB,r=e.length,n,i="value"in ga?ga.value:ga.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return yg=i.slice(t,1<n?1-n:void 0)}function wg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hh(){return!0}function PI(){return!1}function Pn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hh:PI,this.isPropagationStopped=PI,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hh)},persist:function(){},isPersistent:hh}),e}var pu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},QB=Pn(pu),of=St({},pu,{view:0,detail:0}),kV=Pn(of),ty,ry,tc,Mp=St({},of,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kB,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tc&&(tc&&t.type==="mousemove"?(ty=t.screenX-tc.screenX,ry=t.screenY-tc.screenY):ry=ty=0,tc=t),ty)},movementY:function(t){return"movementY"in t?t.movementY:ry}}),NI=Pn(Mp),OV=St({},Mp,{dataTransfer:0}),DV=Pn(OV),jV=St({},of,{relatedTarget:0}),ny=Pn(jV),RV=St({},pu,{animationName:0,elapsedTime:0,pseudoElement:0}),MV=Pn(RV),LV=St({},pu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HV=Pn(LV),VV=St({},pu,{data:0}),QI=Pn(VV),KV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$V={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GV[t])?!!e[t]:!1}function kB(){return WV}var zV=St({},of,{key:function(t){if(t.key){var e=KV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$V[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kB,charCode:function(t){return t.type==="keypress"?wg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YV=Pn(zV),XV=St({},Mp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kI=Pn(XV),qV=St({},of,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kB}),JV=Pn(qV),ZV=St({},pu,{propertyName:0,elapsedTime:0,pseudoElement:0}),eK=Pn(ZV),tK=St({},Mp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rK=Pn(tK),nK=[9,13,27,32],OB=_s&&"CompositionEvent"in window,Vc=null;_s&&"documentMode"in document&&(Vc=document.documentMode);var iK=_s&&"TextEvent"in window&&!Vc,iQ=_s&&(!OB||Vc&&8<Vc&&11>=Vc),OI=" ",DI=!1;function sQ(t,e){switch(t){case"keyup":return nK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aQ(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ll=!1;function sK(t,e){switch(t){case"compositionend":return aQ(e);case"keypress":return e.which!==32?null:(DI=!0,OI);case"textInput":return t=e.data,t===OI&&DI?null:t;default:return null}}function aK(t,e){if(ll)return t==="compositionend"||!OB&&sQ(t,e)?(t=nQ(),yg=NB=ga=null,ll=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iQ&&e.locale!=="ko"?null:e.data;default:return null}}var oK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oK[t.type]:e==="textarea"}function oQ(t,e,r,n){jN(n),e=em(e,"onChange"),0<e.length&&(r=new QB("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Kc=null,vd=null;function AK(t){vQ(t,0)}function Lp(t){var e=dl(t);if(UN(e))return t}function lK(t,e){if(t==="change")return e}var AQ=!1;if(_s){var iy;if(_s){var sy="oninput"in document;if(!sy){var RI=document.createElement("div");RI.setAttribute("oninput","return;"),sy=typeof RI.oninput=="function"}iy=sy}else iy=!1;AQ=iy&&(!document.documentMode||9<document.documentMode)}function MI(){Kc&&(Kc.detachEvent("onpropertychange",lQ),vd=Kc=null)}function lQ(t){if(t.propertyName==="value"&&Lp(vd)){var e=[];oQ(e,vd,t,SB(t)),HN(AK,e)}}function uK(t,e,r){t==="focusin"?(MI(),Kc=e,vd=r,Kc.attachEvent("onpropertychange",lQ)):t==="focusout"&&MI()}function cK(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lp(vd)}function dK(t,e){if(t==="click")return Lp(e)}function fK(t,e){if(t==="input"||t==="change")return Lp(e)}function hK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xi=typeof Object.is=="function"?Object.is:hK;function yd(t,e){if(xi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Tw.call(e,i)||!xi(t[i],e[i]))return!1}return!0}function LI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function HI(t,e){var r=LI(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=LI(r)}}function uQ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uQ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cQ(){for(var t=window,e=Wg();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Wg(t.document)}return e}function DB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gK(t){var e=cQ(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&uQ(r.ownerDocument.documentElement,r)){if(n!==null&&DB(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=HI(r,s);var a=HI(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mK=_s&&"documentMode"in document&&11>=document.documentMode,ul=null,zw=null,$c=null,Yw=!1;function VI(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yw||ul==null||ul!==Wg(n)||(n=ul,"selectionStart"in n&&DB(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$c&&yd($c,n)||($c=n,n=em(zw,"onSelect"),0<n.length&&(e=new QB("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ul)))}function gh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var cl={animationend:gh("Animation","AnimationEnd"),animationiteration:gh("Animation","AnimationIteration"),animationstart:gh("Animation","AnimationStart"),transitionend:gh("Transition","TransitionEnd")},ay={},dQ={};_s&&(dQ=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function Hp(t){if(ay[t])return ay[t];if(!cl[t])return t;var e=cl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in dQ)return ay[t]=e[r];return t}var fQ=Hp("animationend"),hQ=Hp("animationiteration"),gQ=Hp("animationstart"),mQ=Hp("transitionend"),pQ=new Map,KI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ro(t,e){pQ.set(t,e),xA(e,[t])}for(var oy=0;oy<KI.length;oy++){var Ay=KI[oy],pK=Ay.toLowerCase(),vK=Ay[0].toUpperCase()+Ay.slice(1);ro(pK,"on"+vK)}ro(fQ,"onAnimationEnd");ro(hQ,"onAnimationIteration");ro(gQ,"onAnimationStart");ro("dblclick","onDoubleClick");ro("focusin","onFocus");ro("focusout","onBlur");ro(mQ,"onTransitionEnd");jl("onMouseEnter",["mouseout","mouseover"]);jl("onMouseLeave",["mouseout","mouseover"]);jl("onPointerEnter",["pointerout","pointerover"]);jl("onPointerLeave",["pointerout","pointerover"]);xA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xA("onBeforeInput",["compositionend","keypress","textInput","paste"]);xA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yK=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ec));function $I(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,pV(n,e,void 0,t),t.currentTarget=null}function vQ(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],A=o.instance,l=o.currentTarget;if(o=o.listener,A!==s&&i.isPropagationStopped())break e;$I(i,o,l),s=A}else for(a=0;a<n.length;a++){if(o=n[a],A=o.instance,l=o.currentTarget,o=o.listener,A!==s&&i.isPropagationStopped())break e;$I(i,o,l),s=A}}}if(Yg)throw t=Kw,Yg=!1,Kw=null,t}function ut(t,e){var r=e[ex];r===void 0&&(r=e[ex]=new Set);var n=t+"__bubble";r.has(n)||(yQ(e,t,2,!1),r.add(n))}function ly(t,e,r){var n=0;e&&(n|=4),yQ(r,t,n,e)}var mh="_reactListening"+Math.random().toString(36).slice(2);function wd(t){if(!t[mh]){t[mh]=!0,_N.forEach(function(r){r!=="selectionchange"&&(yK.has(r)||ly(r,!1,t),ly(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mh]||(e[mh]=!0,ly("selectionchange",!1,e))}}function yQ(t,e,r,n){switch(rQ(e)){case 1:var i=NV;break;case 4:i=QV;break;default:i=PB}r=i.bind(null,e,r,t),i=void 0,!Vw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function uy(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var A=a.tag;if((A===3||A===4)&&(A=a.stateNode.containerInfo,A===i||A.nodeType===8&&A.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Do(o),a===null)return;if(A=a.tag,A===5||A===6){n=s=a;continue e}o=o.parentNode}}n=n.return}HN(function(){var l=s,u=SB(r),c=[];e:{var f=pQ.get(t);if(f!==void 0){var g=QB,m=t;switch(t){case"keypress":if(wg(r)===0)break e;case"keydown":case"keyup":g=YV;break;case"focusin":m="focus",g=ny;break;case"focusout":m="blur",g=ny;break;case"beforeblur":case"afterblur":g=ny;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=NI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=DV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=JV;break;case fQ:case hQ:case gQ:g=MV;break;case mQ:g=eK;break;case"scroll":g=kV;break;case"wheel":g=rK;break;case"copy":case"cut":case"paste":g=HV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=kI}var p=(e&4)!==0,v=!p&&t==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var w=l,B;w!==null;){B=w;var I=B.stateNode;if(B.tag===5&&I!==null&&(B=I,y!==null&&(I=hd(w,y),I!=null&&p.push(xd(w,I,B)))),v)break;w=w.return}0<p.length&&(f=new g(f,m,null,r,u),c.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==Lw&&(m=r.relatedTarget||r.fromElement)&&(Do(m)||m[Is]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=l,m=m?Do(m):null,m!==null&&(v=bA(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=l),g!==m)){if(p=NI,I="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(p=kI,I="onPointerLeave",y="onPointerEnter",w="pointer"),v=g==null?f:dl(g),B=m==null?f:dl(m),f=new p(I,w+"leave",g,r,u),f.target=v,f.relatedTarget=B,I=null,Do(u)===l&&(p=new p(y,w+"enter",m,r,u),p.target=B,p.relatedTarget=v,I=p),v=I,g&&m)t:{for(p=g,y=m,w=0,B=p;B;B=MA(B))w++;for(B=0,I=y;I;I=MA(I))B++;for(;0<w-B;)p=MA(p),w--;for(;0<B-w;)y=MA(y),B--;for(;w--;){if(p===y||y!==null&&p===y.alternate)break t;p=MA(p),y=MA(y)}p=null}else p=null;g!==null&&GI(c,f,g,p,!1),m!==null&&v!==null&&GI(c,v,m,p,!0)}}e:{if(f=l?dl(l):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var T=lK;else if(jI(f))if(AQ)T=fK;else{T=cK;var F=uK}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=dK);if(T&&(T=T(t,l))){oQ(c,T,r,u);break e}F&&F(t,f,l),t==="focusout"&&(F=f._wrapperState)&&F.controlled&&f.type==="number"&&Ow(f,"number",f.value)}switch(F=l?dl(l):window,t){case"focusin":(jI(F)||F.contentEditable==="true")&&(ul=F,zw=l,$c=null);break;case"focusout":$c=zw=ul=null;break;case"mousedown":Yw=!0;break;case"contextmenu":case"mouseup":case"dragend":Yw=!1,VI(c,r,u);break;case"selectionchange":if(mK)break;case"keydown":case"keyup":VI(c,r,u)}var C;if(OB)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ll?sQ(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(iQ&&r.locale!=="ko"&&(ll||_!=="onCompositionStart"?_==="onCompositionEnd"&&ll&&(C=nQ()):(ga=u,NB="value"in ga?ga.value:ga.textContent,ll=!0)),F=em(l,_),0<F.length&&(_=new QI(_,t,null,r,u),c.push({event:_,listeners:F}),C?_.data=C:(C=aQ(r),C!==null&&(_.data=C)))),(C=iK?sK(t,r):aK(t,r))&&(l=em(l,"onBeforeInput"),0<l.length&&(u=new QI("onBeforeInput","beforeinput",null,r,u),c.push({event:u,listeners:l}),u.data=C))}vQ(c,e)})}function xd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function em(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hd(t,r),s!=null&&n.unshift(xd(t,s,i)),s=hd(t,e),s!=null&&n.push(xd(t,s,i))),t=t.return}return n}function MA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function GI(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,A=o.alternate,l=o.stateNode;if(A!==null&&A===n)break;o.tag===5&&l!==null&&(o=l,i?(A=hd(r,s),A!=null&&a.unshift(xd(r,A,o))):i||(A=hd(r,s),A!=null&&a.push(xd(r,A,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var wK=/\r\n?/g,xK=/\u0000|\uFFFD/g;function WI(t){return(typeof t=="string"?t:""+t).replace(wK,`
`).replace(xK,"")}function ph(t,e,r){if(e=WI(e),WI(t)!==e&&r)throw Error(te(425))}function tm(){}var Xw=null,qw=null;function Jw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zw=typeof setTimeout=="function"?setTimeout:void 0,bK=typeof clearTimeout=="function"?clearTimeout:void 0,zI=typeof Promise=="function"?Promise:void 0,BK=typeof queueMicrotask=="function"?queueMicrotask:typeof zI<"u"?function(t){return zI.resolve(null).then(t).catch(CK)}:Zw;function CK(t){setTimeout(function(){throw t})}function cy(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),pd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);pd(e)}function Ea(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function YI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var vu=Math.random().toString(36).slice(2),Ui="__reactFiber$"+vu,bd="__reactProps$"+vu,Is="__reactContainer$"+vu,ex="__reactEvents$"+vu,EK="__reactListeners$"+vu,_K="__reactHandles$"+vu;function Do(t){var e=t[Ui];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Is]||r[Ui]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=YI(t);t!==null;){if(r=t[Ui])return r;t=YI(t)}return e}t=r,r=t.parentNode}return null}function Af(t){return t=t[Ui]||t[Is],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function dl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function Vp(t){return t[bd]||null}var tx=[],fl=-1;function no(t){return{current:t}}function dt(t){0>fl||(t.current=tx[fl],tx[fl]=null,fl--)}function At(t,e){fl++,tx[fl]=t.current,t.current=e}var Ha={},Dr=no(Ha),sn=no(!1),iA=Ha;function Rl(t,e){var r=t.type.contextTypes;if(!r)return Ha;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function an(t){return t=t.childContextTypes,t!=null}function rm(){dt(sn),dt(Dr)}function XI(t,e,r){if(Dr.current!==Ha)throw Error(te(168));At(Dr,e),At(sn,r)}function wQ(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(te(108,uV(t)||"Unknown",i));return St({},r,n)}function nm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ha,iA=Dr.current,At(Dr,t),At(sn,sn.current),!0}function qI(t,e,r){var n=t.stateNode;if(!n)throw Error(te(169));r?(t=wQ(t,e,iA),n.__reactInternalMemoizedMergedChildContext=t,dt(sn),dt(Dr),At(Dr,t)):dt(sn),At(sn,r)}var ts=null,Kp=!1,dy=!1;function xQ(t){ts===null?ts=[t]:ts.push(t)}function IK(t){Kp=!0,xQ(t)}function io(){if(!dy&&ts!==null){dy=!0;var t=0,e=qe;try{var r=ts;for(qe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ts=null,Kp=!1}catch(i){throw ts!==null&&(ts=ts.slice(t+1)),GN(TB,io),i}finally{qe=e,dy=!1}}return null}var hl=[],gl=0,im=null,sm=0,Mn=[],Ln=0,sA=null,As=1,ls="";function Eo(t,e){hl[gl++]=sm,hl[gl++]=im,im=t,sm=e}function bQ(t,e,r){Mn[Ln++]=As,Mn[Ln++]=ls,Mn[Ln++]=sA,sA=t;var n=As;t=ls;var i=32-yi(n)-1;n&=~(1<<i),r+=1;var s=32-yi(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,As=1<<32-yi(e)+i|r<<i|n,ls=s+t}else As=1<<s|r<<i|n,ls=t}function jB(t){t.return!==null&&(Eo(t,1),bQ(t,1,0))}function RB(t){for(;t===im;)im=hl[--gl],hl[gl]=null,sm=hl[--gl],hl[gl]=null;for(;t===sA;)sA=Mn[--Ln],Mn[Ln]=null,ls=Mn[--Ln],Mn[Ln]=null,As=Mn[--Ln],Mn[Ln]=null}var Bn=null,wn=null,pt=!1,hi=null;function BQ(t,e){var r=$n(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function JI(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,wn=Ea(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=sA!==null?{id:As,overflow:ls}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=$n(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Bn=t,wn=null,!0):!1;default:return!1}}function rx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nx(t){if(pt){var e=wn;if(e){var r=e;if(!JI(t,e)){if(rx(t))throw Error(te(418));e=Ea(r.nextSibling);var n=Bn;e&&JI(t,e)?BQ(n,r):(t.flags=t.flags&-4097|2,pt=!1,Bn=t)}}else{if(rx(t))throw Error(te(418));t.flags=t.flags&-4097|2,pt=!1,Bn=t}}}function ZI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function vh(t){if(t!==Bn)return!1;if(!pt)return ZI(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jw(t.type,t.memoizedProps)),e&&(e=wn)){if(rx(t))throw CQ(),Error(te(418));for(;e;)BQ(t,e),e=Ea(e.nextSibling)}if(ZI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){wn=Ea(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=Bn?Ea(t.stateNode.nextSibling):null;return!0}function CQ(){for(var t=wn;t;)t=Ea(t.nextSibling)}function Ml(){wn=Bn=null,pt=!1}function MB(t){hi===null?hi=[t]:hi.push(t)}var SK=Rs.ReactCurrentBatchConfig;function rc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,t))}return t}function yh(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function eS(t){var e=t._init;return e(t._payload)}function EQ(t){function e(y,w){if(t){var B=y.deletions;B===null?(y.deletions=[w],y.flags|=16):B.push(w)}}function r(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=Ta(y,w),y.index=0,y.sibling=null,y}function s(y,w,B){return y.index=B,t?(B=y.alternate,B!==null?(B=B.index,B<w?(y.flags|=2,w):B):(y.flags|=2,w)):(y.flags|=1048576,w)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,w,B,I){return w===null||w.tag!==6?(w=yy(B,y.mode,I),w.return=y,w):(w=i(w,B),w.return=y,w)}function A(y,w,B,I){var T=B.type;return T===Al?u(y,w,B.props.children,I,B.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===oa&&eS(T)===w.type)?(I=i(w,B.props),I.ref=rc(y,w,B),I.return=y,I):(I=Ig(B.type,B.key,B.props,null,y.mode,I),I.ref=rc(y,w,B),I.return=y,I)}function l(y,w,B,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==B.containerInfo||w.stateNode.implementation!==B.implementation?(w=wy(B,y.mode,I),w.return=y,w):(w=i(w,B.children||[]),w.return=y,w)}function u(y,w,B,I,T){return w===null||w.tag!==7?(w=zo(B,y.mode,I,T),w.return=y,w):(w=i(w,B),w.return=y,w)}function c(y,w,B){if(typeof w=="string"&&w!==""||typeof w=="number")return w=yy(""+w,y.mode,B),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ah:return B=Ig(w.type,w.key,w.props,null,y.mode,B),B.ref=rc(y,null,w),B.return=y,B;case ol:return w=wy(w,y.mode,B),w.return=y,w;case oa:var I=w._init;return c(y,I(w._payload),B)}if(Bc(w)||qu(w))return w=zo(w,y.mode,B,null),w.return=y,w;yh(y,w)}return null}function f(y,w,B,I){var T=w!==null?w.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return T!==null?null:o(y,w,""+B,I);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Ah:return B.key===T?A(y,w,B,I):null;case ol:return B.key===T?l(y,w,B,I):null;case oa:return T=B._init,f(y,w,T(B._payload),I)}if(Bc(B)||qu(B))return T!==null?null:u(y,w,B,I,null);yh(y,B)}return null}function g(y,w,B,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return y=y.get(B)||null,o(w,y,""+I,T);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ah:return y=y.get(I.key===null?B:I.key)||null,A(w,y,I,T);case ol:return y=y.get(I.key===null?B:I.key)||null,l(w,y,I,T);case oa:var F=I._init;return g(y,w,B,F(I._payload),T)}if(Bc(I)||qu(I))return y=y.get(B)||null,u(w,y,I,T,null);yh(w,I)}return null}function m(y,w,B,I){for(var T=null,F=null,C=w,_=w=0,S=null;C!==null&&_<B.length;_++){C.index>_?(S=C,C=null):S=C.sibling;var P=f(y,C,B[_],I);if(P===null){C===null&&(C=S);break}t&&C&&P.alternate===null&&e(y,C),w=s(P,w,_),F===null?T=P:F.sibling=P,F=P,C=S}if(_===B.length)return r(y,C),pt&&Eo(y,_),T;if(C===null){for(;_<B.length;_++)C=c(y,B[_],I),C!==null&&(w=s(C,w,_),F===null?T=C:F.sibling=C,F=C);return pt&&Eo(y,_),T}for(C=n(y,C);_<B.length;_++)S=g(C,y,_,B[_],I),S!==null&&(t&&S.alternate!==null&&C.delete(S.key===null?_:S.key),w=s(S,w,_),F===null?T=S:F.sibling=S,F=S);return t&&C.forEach(function(Q){return e(y,Q)}),pt&&Eo(y,_),T}function p(y,w,B,I){var T=qu(B);if(typeof T!="function")throw Error(te(150));if(B=T.call(B),B==null)throw Error(te(151));for(var F=T=null,C=w,_=w=0,S=null,P=B.next();C!==null&&!P.done;_++,P=B.next()){C.index>_?(S=C,C=null):S=C.sibling;var Q=f(y,C,P.value,I);if(Q===null){C===null&&(C=S);break}t&&C&&Q.alternate===null&&e(y,C),w=s(Q,w,_),F===null?T=Q:F.sibling=Q,F=Q,C=S}if(P.done)return r(y,C),pt&&Eo(y,_),T;if(C===null){for(;!P.done;_++,P=B.next())P=c(y,P.value,I),P!==null&&(w=s(P,w,_),F===null?T=P:F.sibling=P,F=P);return pt&&Eo(y,_),T}for(C=n(y,C);!P.done;_++,P=B.next())P=g(C,y,_,P.value,I),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?_:P.key),w=s(P,w,_),F===null?T=P:F.sibling=P,F=P);return t&&C.forEach(function(k){return e(y,k)}),pt&&Eo(y,_),T}function v(y,w,B,I){if(typeof B=="object"&&B!==null&&B.type===Al&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case Ah:e:{for(var T=B.key,F=w;F!==null;){if(F.key===T){if(T=B.type,T===Al){if(F.tag===7){r(y,F.sibling),w=i(F,B.props.children),w.return=y,y=w;break e}}else if(F.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===oa&&eS(T)===F.type){r(y,F.sibling),w=i(F,B.props),w.ref=rc(y,F,B),w.return=y,y=w;break e}r(y,F);break}else e(y,F);F=F.sibling}B.type===Al?(w=zo(B.props.children,y.mode,I,B.key),w.return=y,y=w):(I=Ig(B.type,B.key,B.props,null,y.mode,I),I.ref=rc(y,w,B),I.return=y,y=I)}return a(y);case ol:e:{for(F=B.key;w!==null;){if(w.key===F)if(w.tag===4&&w.stateNode.containerInfo===B.containerInfo&&w.stateNode.implementation===B.implementation){r(y,w.sibling),w=i(w,B.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else e(y,w);w=w.sibling}w=wy(B,y.mode,I),w.return=y,y=w}return a(y);case oa:return F=B._init,v(y,w,F(B._payload),I)}if(Bc(B))return m(y,w,B,I);if(qu(B))return p(y,w,B,I);yh(y,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,w!==null&&w.tag===6?(r(y,w.sibling),w=i(w,B),w.return=y,y=w):(r(y,w),w=yy(B,y.mode,I),w.return=y,y=w),a(y)):r(y,w)}return v}var Ll=EQ(!0),_Q=EQ(!1),am=no(null),om=null,ml=null,LB=null;function HB(){LB=ml=om=null}function VB(t){var e=am.current;dt(am),t._currentValue=e}function ix(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Tl(t,e){om=t,LB=ml=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function ti(t){var e=t._currentValue;if(LB!==t)if(t={context:t,memoizedValue:e,next:null},ml===null){if(om===null)throw Error(te(308));ml=t,om.dependencies={lanes:0,firstContext:t}}else ml=ml.next=t;return e}var jo=null;function KB(t){jo===null?jo=[t]:jo.push(t)}function IQ(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,KB(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ss(t,n)}function Ss(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Aa=!1;function $B(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SQ(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ys(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _a(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,He&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ss(t,r)}return i=n.interleaved,i===null?(e.next=e,KB(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ss(t,r)}function xg(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,FB(t,r)}}function tS(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Am(t,e,r,n){var i=t.updateQueue;Aa=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var A=o,l=A.next;A.next=null,a===null?s=l:a.next=l,a=A;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=A))}if(s!==null){var c=i.baseState;a=0,u=l=A=null,o=s;do{var f=o.lane,g=o.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,p=o;switch(f=e,g=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){c=m.call(g,c,f);break e}c=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,f=typeof m=="function"?m.call(g,c,f):m,f==null)break e;c=St({},c,f);break e;case 2:Aa=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else g={eventTime:g,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(l=u=g,A=c):u=u.next=g,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(A=c),i.baseState=A,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);oA|=a,t.lanes=a,t.memoizedState=c}}function rS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(te(191,i));i.call(n)}}}var lf={},Oi=no(lf),Bd=no(lf),Cd=no(lf);function Ro(t){if(t===lf)throw Error(te(174));return t}function GB(t,e){switch(At(Cd,e),At(Bd,t),At(Oi,lf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jw(e,t)}dt(Oi),At(Oi,e)}function Hl(){dt(Oi),dt(Bd),dt(Cd)}function TQ(t){Ro(Cd.current);var e=Ro(Oi.current),r=jw(e,t.type);e!==r&&(At(Bd,t),At(Oi,r))}function WB(t){Bd.current===t&&(dt(Oi),dt(Bd))}var Et=no(0);function lm(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fy=[];function zB(){for(var t=0;t<fy.length;t++)fy[t]._workInProgressVersionPrimary=null;fy.length=0}var bg=Rs.ReactCurrentDispatcher,hy=Rs.ReactCurrentBatchConfig,aA=0,_t=null,Wt=null,ar=null,um=!1,Gc=!1,Ed=0,TK=0;function Ir(){throw Error(te(321))}function YB(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!xi(t[r],e[r]))return!1;return!0}function XB(t,e,r,n,i,s){if(aA=s,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bg.current=t===null||t.memoizedState===null?NK:QK,t=r(n,i),Gc){s=0;do{if(Gc=!1,Ed=0,25<=s)throw Error(te(301));s+=1,ar=Wt=null,e.updateQueue=null,bg.current=kK,t=r(n,i)}while(Gc)}if(bg.current=cm,e=Wt!==null&&Wt.next!==null,aA=0,ar=Wt=_t=null,um=!1,e)throw Error(te(300));return t}function qB(){var t=Ed!==0;return Ed=0,t}function Si(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?_t.memoizedState=ar=t:ar=ar.next=t,ar}function ri(){if(Wt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var e=ar===null?_t.memoizedState:ar.next;if(e!==null)ar=e,Wt=t;else{if(t===null)throw Error(te(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},ar===null?_t.memoizedState=ar=t:ar=ar.next=t}return ar}function _d(t,e){return typeof e=="function"?e(t):e}function gy(t){var e=ri(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=Wt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,A=null,l=s;do{var u=l.lane;if((aA&u)===u)A!==null&&(A=A.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var c={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};A===null?(o=A=c,a=n):A=A.next=c,_t.lanes|=u,oA|=u}l=l.next}while(l!==null&&l!==s);A===null?a=n:A.next=o,xi(n,e.memoizedState)||(rn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=A,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,_t.lanes|=s,oA|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function my(t){var e=ri(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);xi(s,e.memoizedState)||(rn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function FQ(){}function UQ(t,e){var r=_t,n=ri(),i=e(),s=!xi(n.memoizedState,i);if(s&&(n.memoizedState=i,rn=!0),n=n.queue,JB(QQ.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||ar!==null&&ar.memoizedState.tag&1){if(r.flags|=2048,Id(9,NQ.bind(null,r,n,i,e),void 0,null),Ar===null)throw Error(te(349));aA&30||PQ(r,e,i)}return i}function PQ(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function NQ(t,e,r,n){e.value=r,e.getSnapshot=n,kQ(e)&&OQ(t)}function QQ(t,e,r){return r(function(){kQ(e)&&OQ(t)})}function kQ(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!xi(t,r)}catch{return!0}}function OQ(t){var e=Ss(t,1);e!==null&&wi(e,t,1,-1)}function nS(t){var e=Si();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_d,lastRenderedState:t},e.queue=t,t=t.dispatch=PK.bind(null,_t,t),[e.memoizedState,t]}function Id(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function DQ(){return ri().memoizedState}function Bg(t,e,r,n){var i=Si();_t.flags|=t,i.memoizedState=Id(1|e,r,void 0,n===void 0?null:n)}function $p(t,e,r,n){var i=ri();n=n===void 0?null:n;var s=void 0;if(Wt!==null){var a=Wt.memoizedState;if(s=a.destroy,n!==null&&YB(n,a.deps)){i.memoizedState=Id(e,r,s,n);return}}_t.flags|=t,i.memoizedState=Id(1|e,r,s,n)}function iS(t,e){return Bg(8390656,8,t,e)}function JB(t,e){return $p(2048,8,t,e)}function jQ(t,e){return $p(4,2,t,e)}function RQ(t,e){return $p(4,4,t,e)}function MQ(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LQ(t,e,r){return r=r!=null?r.concat([t]):null,$p(4,4,MQ.bind(null,e,t),r)}function ZB(){}function HQ(t,e){var r=ri();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&YB(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function VQ(t,e){var r=ri();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&YB(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function KQ(t,e,r){return aA&21?(xi(r,e)||(r=YN(),_t.lanes|=r,oA|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=r)}function FK(t,e){var r=qe;qe=r!==0&&4>r?r:4,t(!0);var n=hy.transition;hy.transition={};try{t(!1),e()}finally{qe=r,hy.transition=n}}function $Q(){return ri().memoizedState}function UK(t,e,r){var n=Sa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},GQ(t))WQ(e,r);else if(r=IQ(t,e,r,n),r!==null){var i=Kr();wi(r,t,n,i),zQ(r,e,n)}}function PK(t,e,r){var n=Sa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(GQ(t))WQ(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,xi(o,a)){var A=e.interleaved;A===null?(i.next=i,KB(e)):(i.next=A.next,A.next=i),e.interleaved=i;return}}catch{}finally{}r=IQ(t,e,i,n),r!==null&&(i=Kr(),wi(r,t,n,i),zQ(r,e,n))}}function GQ(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function WQ(t,e){Gc=um=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function zQ(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,FB(t,r)}}var cm={readContext:ti,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useInsertionEffect:Ir,useLayoutEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useMutableSource:Ir,useSyncExternalStore:Ir,useId:Ir,unstable_isNewReconciler:!1},NK={readContext:ti,useCallback:function(t,e){return Si().memoizedState=[t,e===void 0?null:e],t},useContext:ti,useEffect:iS,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Bg(4194308,4,MQ.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Bg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bg(4,2,t,e)},useMemo:function(t,e){var r=Si();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Si();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=UK.bind(null,_t,t),[n.memoizedState,t]},useRef:function(t){var e=Si();return t={current:t},e.memoizedState=t},useState:nS,useDebugValue:ZB,useDeferredValue:function(t){return Si().memoizedState=t},useTransition:function(){var t=nS(!1),e=t[0];return t=FK.bind(null,t[1]),Si().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=_t,i=Si();if(pt){if(r===void 0)throw Error(te(407));r=r()}else{if(r=e(),Ar===null)throw Error(te(349));aA&30||PQ(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,iS(QQ.bind(null,n,s,t),[t]),n.flags|=2048,Id(9,NQ.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Si(),e=Ar.identifierPrefix;if(pt){var r=ls,n=As;r=(n&~(1<<32-yi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ed++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=TK++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QK={readContext:ti,useCallback:HQ,useContext:ti,useEffect:JB,useImperativeHandle:LQ,useInsertionEffect:jQ,useLayoutEffect:RQ,useMemo:VQ,useReducer:gy,useRef:DQ,useState:function(){return gy(_d)},useDebugValue:ZB,useDeferredValue:function(t){var e=ri();return KQ(e,Wt.memoizedState,t)},useTransition:function(){var t=gy(_d)[0],e=ri().memoizedState;return[t,e]},useMutableSource:FQ,useSyncExternalStore:UQ,useId:$Q,unstable_isNewReconciler:!1},kK={readContext:ti,useCallback:HQ,useContext:ti,useEffect:JB,useImperativeHandle:LQ,useInsertionEffect:jQ,useLayoutEffect:RQ,useMemo:VQ,useReducer:my,useRef:DQ,useState:function(){return my(_d)},useDebugValue:ZB,useDeferredValue:function(t){var e=ri();return Wt===null?e.memoizedState=t:KQ(e,Wt.memoizedState,t)},useTransition:function(){var t=my(_d)[0],e=ri().memoizedState;return[t,e]},useMutableSource:FQ,useSyncExternalStore:UQ,useId:$Q,unstable_isNewReconciler:!1};function di(t,e){if(t&&t.defaultProps){e=St({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function sx(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:St({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Gp={isMounted:function(t){return(t=t._reactInternals)?bA(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Kr(),i=Sa(t),s=ys(n,i);s.payload=e,r!=null&&(s.callback=r),e=_a(t,s,i),e!==null&&(wi(e,t,i,n),xg(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Kr(),i=Sa(t),s=ys(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=_a(t,s,i),e!==null&&(wi(e,t,i,n),xg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Kr(),n=Sa(t),i=ys(r,n);i.tag=2,e!=null&&(i.callback=e),e=_a(t,i,n),e!==null&&(wi(e,t,n,r),xg(e,t,n))}};function sS(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!yd(r,n)||!yd(i,s):!0}function YQ(t,e,r){var n=!1,i=Ha,s=e.contextType;return typeof s=="object"&&s!==null?s=ti(s):(i=an(e)?iA:Dr.current,n=e.contextTypes,s=(n=n!=null)?Rl(t,i):Ha),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function aS(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Gp.enqueueReplaceState(e,e.state,null)}function ax(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},$B(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ti(s):(s=an(e)?iA:Dr.current,i.context=Rl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(sx(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gp.enqueueReplaceState(i,i.state,null),Am(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vl(t,e){try{var r="",n=e;do r+=lV(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function py(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ox(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var OK=typeof WeakMap=="function"?WeakMap:Map;function XQ(t,e,r){r=ys(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){fm||(fm=!0,px=n),ox(t,e)},r}function qQ(t,e,r){r=ys(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){ox(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ox(t,e),typeof n!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function oS(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new OK;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=XK.bind(null,t,e,r),e.then(t,t))}function AS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lS(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ys(-1,1),e.tag=2,_a(r,e,1))),r.lanes|=1),t)}var DK=Rs.ReactCurrentOwner,rn=!1;function Lr(t,e,r,n){e.child=t===null?_Q(e,null,r,n):Ll(e,t.child,r,n)}function uS(t,e,r,n,i){r=r.render;var s=e.ref;return Tl(e,i),n=XB(t,e,r,n,s,i),r=qB(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ts(t,e,i)):(pt&&r&&jB(e),e.flags|=1,Lr(t,e,n,i),e.child)}function cS(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!oC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,JQ(t,e,s,n,i)):(t=Ig(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:yd,r(a,n)&&t.ref===e.ref)return Ts(t,e,i)}return e.flags|=1,t=Ta(s,n),t.ref=e.ref,t.return=e,e.child=t}function JQ(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(yd(s,n)&&t.ref===e.ref)if(rn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,Ts(t,e,i)}return Ax(t,e,r,n,i)}function ZQ(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(vl,gn),gn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,At(vl,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,At(vl,gn),gn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,At(vl,gn),gn|=n;return Lr(t,e,i,r),e.child}function ek(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ax(t,e,r,n,i){var s=an(r)?iA:Dr.current;return s=Rl(e,s),Tl(e,i),r=XB(t,e,r,n,s,i),n=qB(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ts(t,e,i)):(pt&&n&&jB(e),e.flags|=1,Lr(t,e,r,i),e.child)}function dS(t,e,r,n,i){if(an(r)){var s=!0;nm(e)}else s=!1;if(Tl(e,i),e.stateNode===null)Cg(t,e),YQ(e,r,n),ax(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var A=a.context,l=r.contextType;typeof l=="object"&&l!==null?l=ti(l):(l=an(r)?iA:Dr.current,l=Rl(e,l));var u=r.getDerivedStateFromProps,c=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||A!==l)&&aS(e,a,n,l),Aa=!1;var f=e.memoizedState;a.state=f,Am(e,n,a,i),A=e.memoizedState,o!==n||f!==A||sn.current||Aa?(typeof u=="function"&&(sx(e,r,u,n),A=e.memoizedState),(o=Aa||sS(e,r,o,n,f,A,l))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=A),a.props=n,a.state=A,a.context=l,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,SQ(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:di(e.type,o),a.props=l,c=e.pendingProps,f=a.context,A=r.contextType,typeof A=="object"&&A!==null?A=ti(A):(A=an(r)?iA:Dr.current,A=Rl(e,A));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==c||f!==A)&&aS(e,a,n,A),Aa=!1,f=e.memoizedState,a.state=f,Am(e,n,a,i);var m=e.memoizedState;o!==c||f!==m||sn.current||Aa?(typeof g=="function"&&(sx(e,r,g,n),m=e.memoizedState),(l=Aa||sS(e,r,l,n,f,m,A)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,A),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,A)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=A,n=l):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return lx(t,e,r,n,s,i)}function lx(t,e,r,n,i,s){ek(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&qI(e,r,!1),Ts(t,e,s);n=e.stateNode,DK.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Ll(e,t.child,null,s),e.child=Ll(e,null,o,s)):Lr(t,e,o,s),e.memoizedState=n.state,i&&qI(e,r,!0),e.child}function tk(t){var e=t.stateNode;e.pendingContext?XI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&XI(t,e.context,!1),GB(t,e.containerInfo)}function fS(t,e,r,n,i){return Ml(),MB(i),e.flags|=256,Lr(t,e,r,n),e.child}var ux={dehydrated:null,treeContext:null,retryLane:0};function cx(t){return{baseLanes:t,cachePool:null,transitions:null}}function rk(t,e,r){var n=e.pendingProps,i=Et.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),At(Et,i&1),t===null)return nx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Yp(a,n,0,null),t=zo(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=cx(r),e.memoizedState=ux,t):eC(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return jK(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var A={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=A,e.deletions=null):(n=Ta(i,A),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Ta(o,s):(s=zo(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?cx(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=ux,n}return s=t.child,t=s.sibling,n=Ta(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function eC(t,e){return e=Yp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wh(t,e,r,n){return n!==null&&MB(n),Ll(e,t.child,null,r),t=eC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jK(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=py(Error(te(422))),wh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Yp({mode:"visible",children:n.children},i,0,null),s=zo(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Ll(e,t.child,null,a),e.child.memoizedState=cx(a),e.memoizedState=ux,s);if(!(e.mode&1))return wh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(te(419)),n=py(s,n,void 0),wh(t,e,a,n)}if(o=(a&t.childLanes)!==0,rn||o){if(n=Ar,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ss(t,i),wi(n,t,i,-1))}return aC(),n=py(Error(te(421))),wh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=qK.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,wn=Ea(i.nextSibling),Bn=e,pt=!0,hi=null,t!==null&&(Mn[Ln++]=As,Mn[Ln++]=ls,Mn[Ln++]=sA,As=t.id,ls=t.overflow,sA=e),e=eC(e,n.children),e.flags|=4096,e)}function hS(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ix(t.return,e,r)}function vy(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function nk(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Lr(t,e,n.children,r),n=Et.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hS(t,r,e);else if(t.tag===19)hS(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(At(Et,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&lm(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),vy(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&lm(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}vy(e,!0,r,null,s);break;case"together":vy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ts(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),oA|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,r=Ta(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ta(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function RK(t,e,r){switch(e.tag){case 3:tk(e),Ml();break;case 5:TQ(e);break;case 1:an(e.type)&&nm(e);break;case 4:GB(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;At(am,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(At(Et,Et.current&1),e.flags|=128,null):r&e.child.childLanes?rk(t,e,r):(At(Et,Et.current&1),t=Ts(t,e,r),t!==null?t.sibling:null);At(Et,Et.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return nk(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),At(Et,Et.current),n)break;return null;case 22:case 23:return e.lanes=0,ZQ(t,e,r)}return Ts(t,e,r)}var ik,dx,sk,ak;ik=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};dx=function(){};sk=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ro(Oi.current);var s=null;switch(r){case"input":i=Qw(t,i),n=Qw(t,n),s=[];break;case"select":i=St({},i,{value:void 0}),n=St({},n,{value:void 0}),s=[];break;case"textarea":i=Dw(t,i),n=Dw(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=tm)}Rw(r,n);var a;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var o=i[l];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(dd.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var A=n[l];if(o=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&A!==o&&(A!=null||o!=null))if(l==="style")if(o){for(a in o)!o.hasOwnProperty(a)||A&&A.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in A)A.hasOwnProperty(a)&&o[a]!==A[a]&&(r||(r={}),r[a]=A[a])}else r||(s||(s=[]),s.push(l,r)),r=A;else l==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,o=o?o.__html:void 0,A!=null&&o!==A&&(s=s||[]).push(l,A)):l==="children"?typeof A!="string"&&typeof A!="number"||(s=s||[]).push(l,""+A):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(dd.hasOwnProperty(l)?(A!=null&&l==="onScroll"&&ut("scroll",t),s||o===A||(s=[])):(s=s||[]).push(l,A))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};ak=function(t,e,r,n){r!==n&&(e.flags|=4)};function nc(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Sr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function MK(t,e,r){var n=e.pendingProps;switch(RB(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sr(e),null;case 1:return an(e.type)&&rm(),Sr(e),null;case 3:return n=e.stateNode,Hl(),dt(sn),dt(Dr),zB(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(vh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hi!==null&&(wx(hi),hi=null))),dx(t,e),Sr(e),null;case 5:WB(e);var i=Ro(Cd.current);if(r=e.type,t!==null&&e.stateNode!=null)sk(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(te(166));return Sr(e),null}if(t=Ro(Oi.current),vh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ui]=e,n[bd]=s,t=(e.mode&1)!==0,r){case"dialog":ut("cancel",n),ut("close",n);break;case"iframe":case"object":case"embed":ut("load",n);break;case"video":case"audio":for(i=0;i<Ec.length;i++)ut(Ec[i],n);break;case"source":ut("error",n);break;case"img":case"image":case"link":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"input":BI(n,s),ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ut("invalid",n);break;case"textarea":EI(n,s),ut("invalid",n)}Rw(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&ph(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&ph(n.textContent,o,t),i=["children",""+o]):dd.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ut("scroll",n)}switch(r){case"input":lh(n),CI(n,s,!0);break;case"textarea":lh(n),_I(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=tm)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=QN(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Ui]=e,t[bd]=n,ik(t,e,!1,!1),e.stateNode=t;e:{switch(a=Mw(r,n),r){case"dialog":ut("cancel",t),ut("close",t),i=n;break;case"iframe":case"object":case"embed":ut("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ec.length;i++)ut(Ec[i],t);i=n;break;case"source":ut("error",t),i=n;break;case"img":case"image":case"link":ut("error",t),ut("load",t),i=n;break;case"details":ut("toggle",t),i=n;break;case"input":BI(t,n),i=Qw(t,n),ut("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=St({},n,{value:void 0}),ut("invalid",t);break;case"textarea":EI(t,n),i=Dw(t,n),ut("invalid",t);break;default:i=n}Rw(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var A=o[s];s==="style"?DN(t,A):s==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&kN(t,A)):s==="children"?typeof A=="string"?(r!=="textarea"||A!=="")&&fd(t,A):typeof A=="number"&&fd(t,""+A):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(dd.hasOwnProperty(s)?A!=null&&s==="onScroll"&&ut("scroll",t):A!=null&&CB(t,s,A,a))}switch(r){case"input":lh(t),CI(t,n,!1);break;case"textarea":lh(t),_I(t);break;case"option":n.value!=null&&t.setAttribute("value",""+La(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?El(t,!!n.multiple,s,!1):n.defaultValue!=null&&El(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Sr(e),null;case 6:if(t&&e.stateNode!=null)ak(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(te(166));if(r=Ro(Cd.current),Ro(Oi.current),vh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ui]=e,(s=n.nodeValue!==r)&&(t=Bn,t!==null))switch(t.tag){case 3:ph(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ph(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ui]=e,e.stateNode=n}return Sr(e),null;case 13:if(dt(Et),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&wn!==null&&e.mode&1&&!(e.flags&128))CQ(),Ml(),e.flags|=98560,s=!1;else if(s=vh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(te(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(te(317));s[Ui]=e}else Ml(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Sr(e),s=!1}else hi!==null&&(wx(hi),hi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?Yt===0&&(Yt=3):aC())),e.updateQueue!==null&&(e.flags|=4),Sr(e),null);case 4:return Hl(),dx(t,e),t===null&&wd(e.stateNode.containerInfo),Sr(e),null;case 10:return VB(e.type._context),Sr(e),null;case 17:return an(e.type)&&rm(),Sr(e),null;case 19:if(dt(Et),s=e.memoizedState,s===null)return Sr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)nc(s,!1);else{if(Yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=lm(t),a!==null){for(e.flags|=128,nc(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return At(Et,Et.current&1|2),e.child}t=t.sibling}s.tail!==null&&jt()>Kl&&(e.flags|=128,n=!0,nc(s,!1),e.lanes=4194304)}else{if(!n)if(t=lm(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),nc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!pt)return Sr(e),null}else 2*jt()-s.renderingStartTime>Kl&&r!==1073741824&&(e.flags|=128,n=!0,nc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=jt(),e.sibling=null,r=Et.current,At(Et,n?r&1|2:r&1),e):(Sr(e),null);case 22:case 23:return sC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?gn&1073741824&&(Sr(e),e.subtreeFlags&6&&(e.flags|=8192)):Sr(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function LK(t,e){switch(RB(e),e.tag){case 1:return an(e.type)&&rm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hl(),dt(sn),dt(Dr),zB(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return WB(e),null;case 13:if(dt(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Ml()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(Et),null;case 4:return Hl(),null;case 10:return VB(e.type._context),null;case 22:case 23:return sC(),null;case 24:return null;default:return null}}var xh=!1,Qr=!1,HK=typeof WeakSet=="function"?WeakSet:Set,ge=null;function pl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Pt(t,e,n)}else r.current=null}function fx(t,e,r){try{r()}catch(n){Pt(t,e,n)}}var gS=!1;function VK(t,e){if(Xw=Jg,t=cQ(),DB(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,A=-1,l=0,u=0,c=t,f=null;t:for(;;){for(var g;c!==r||i!==0&&c.nodeType!==3||(o=a+i),c!==s||n!==0&&c.nodeType!==3||(A=a+n),c.nodeType===3&&(a+=c.nodeValue.length),(g=c.firstChild)!==null;)f=c,c=g;for(;;){if(c===t)break t;if(f===r&&++l===i&&(o=a),f===s&&++u===n&&(A=a),(g=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=g}r=o===-1||A===-1?null:{start:o,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(qw={focusedElem:t,selectionRange:r},Jg=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,v=m.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:di(e.type,p),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var B=e.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(I){Pt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return m=gS,gS=!1,m}function Wc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&fx(e,r,s)}i=i.next}while(i!==n)}}function Wp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function hx(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ok(t){var e=t.alternate;e!==null&&(t.alternate=null,ok(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ui],delete e[bd],delete e[ex],delete e[EK],delete e[_K])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ak(t){return t.tag===5||t.tag===3||t.tag===4}function mS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ak(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=tm));else if(n!==4&&(t=t.child,t!==null))for(gx(t,e,r),t=t.sibling;t!==null;)gx(t,e,r),t=t.sibling}function mx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(mx(t,e,r),t=t.sibling;t!==null;)mx(t,e,r),t=t.sibling}var hr=null,fi=!1;function Zs(t,e,r){for(r=r.child;r!==null;)lk(t,e,r),r=r.sibling}function lk(t,e,r){if(ki&&typeof ki.onCommitFiberUnmount=="function")try{ki.onCommitFiberUnmount(Rp,r)}catch{}switch(r.tag){case 5:Qr||pl(r,e);case 6:var n=hr,i=fi;hr=null,Zs(t,e,r),hr=n,fi=i,hr!==null&&(fi?(t=hr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):hr.removeChild(r.stateNode));break;case 18:hr!==null&&(fi?(t=hr,r=r.stateNode,t.nodeType===8?cy(t.parentNode,r):t.nodeType===1&&cy(t,r),pd(t)):cy(hr,r.stateNode));break;case 4:n=hr,i=fi,hr=r.stateNode.containerInfo,fi=!0,Zs(t,e,r),hr=n,fi=i;break;case 0:case 11:case 14:case 15:if(!Qr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&fx(r,e,a),i=i.next}while(i!==n)}Zs(t,e,r);break;case 1:if(!Qr&&(pl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Pt(r,e,o)}Zs(t,e,r);break;case 21:Zs(t,e,r);break;case 22:r.mode&1?(Qr=(n=Qr)||r.memoizedState!==null,Zs(t,e,r),Qr=n):Zs(t,e,r);break;default:Zs(t,e,r)}}function pS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new HK),e.forEach(function(n){var i=JK.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function li(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:hr=o.stateNode,fi=!1;break e;case 3:hr=o.stateNode.containerInfo,fi=!0;break e;case 4:hr=o.stateNode.containerInfo,fi=!0;break e}o=o.return}if(hr===null)throw Error(te(160));lk(s,a,i),hr=null,fi=!1;var A=i.alternate;A!==null&&(A.return=null),i.return=null}catch(l){Pt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uk(e,t),e=e.sibling}function uk(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(li(e,t),Ei(t),n&4){try{Wc(3,t,t.return),Wp(3,t)}catch(p){Pt(t,t.return,p)}try{Wc(5,t,t.return)}catch(p){Pt(t,t.return,p)}}break;case 1:li(e,t),Ei(t),n&512&&r!==null&&pl(r,r.return);break;case 5:if(li(e,t),Ei(t),n&512&&r!==null&&pl(r,r.return),t.flags&32){var i=t.stateNode;try{fd(i,"")}catch(p){Pt(t,t.return,p)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&PN(i,s),Mw(o,a);var l=Mw(o,s);for(a=0;a<A.length;a+=2){var u=A[a],c=A[a+1];u==="style"?DN(i,c):u==="dangerouslySetInnerHTML"?kN(i,c):u==="children"?fd(i,c):CB(i,u,c,l)}switch(o){case"input":kw(i,s);break;case"textarea":NN(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?El(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?El(i,!!s.multiple,s.defaultValue,!0):El(i,!!s.multiple,s.multiple?[]:"",!1))}i[bd]=s}catch(p){Pt(t,t.return,p)}}break;case 6:if(li(e,t),Ei(t),n&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){Pt(t,t.return,p)}}break;case 3:if(li(e,t),Ei(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{pd(e.containerInfo)}catch(p){Pt(t,t.return,p)}break;case 4:li(e,t),Ei(t);break;case 13:li(e,t),Ei(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(nC=jt())),n&4&&pS(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Qr=(l=Qr)||u,li(e,t),Qr=l):li(e,t),Ei(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(ge=t,u=t.child;u!==null;){for(c=ge=u;ge!==null;){switch(f=ge,g=f.child,f.tag){case 0:case 11:case 14:case 15:Wc(4,f,f.return);break;case 1:pl(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){Pt(n,r,p)}}break;case 5:pl(f,f.return);break;case 22:if(f.memoizedState!==null){yS(c);continue}}g!==null?(g.return=f,ge=g):yS(c)}u=u.sibling}e:for(u=null,c=t;;){if(c.tag===5){if(u===null){u=c;try{i=c.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=c.stateNode,A=c.memoizedProps.style,a=A!=null&&A.hasOwnProperty("display")?A.display:null,o.style.display=ON("display",a))}catch(p){Pt(t,t.return,p)}}}else if(c.tag===6){if(u===null)try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(p){Pt(t,t.return,p)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;u===c&&(u=null),c=c.return}u===c&&(u=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:li(e,t),Ei(t),n&4&&pS(t);break;case 21:break;default:li(e,t),Ei(t)}}function Ei(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Ak(r)){var n=r;break e}r=r.return}throw Error(te(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(fd(i,""),n.flags&=-33);var s=mS(t);mx(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=mS(t);gx(t,o,a);break;default:throw Error(te(161))}}catch(A){Pt(t,t.return,A)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function KK(t,e,r){ge=t,ck(t)}function ck(t,e,r){for(var n=(t.mode&1)!==0;ge!==null;){var i=ge,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||xh;if(!a){var o=i.alternate,A=o!==null&&o.memoizedState!==null||Qr;o=xh;var l=Qr;if(xh=a,(Qr=A)&&!l)for(ge=i;ge!==null;)a=ge,A=a.child,a.tag===22&&a.memoizedState!==null?wS(i):A!==null?(A.return=a,ge=A):wS(i);for(;s!==null;)ge=s,ck(s),s=s.sibling;ge=i,xh=o,Qr=l}vS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ge=s):vS(t)}}function vS(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qr||Wp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Qr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:di(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&rS(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}rS(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var A=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&r.focus();break;case"img":A.src&&(r.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var c=u.dehydrated;c!==null&&pd(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Qr||e.flags&512&&hx(e)}catch(f){Pt(e,e.return,f)}}if(e===t){ge=null;break}if(r=e.sibling,r!==null){r.return=e.return,ge=r;break}ge=e.return}}function yS(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ge=r;break}ge=e.return}}function wS(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Wp(4,e)}catch(A){Pt(e,r,A)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(A){Pt(e,i,A)}}var s=e.return;try{hx(e)}catch(A){Pt(e,s,A)}break;case 5:var a=e.return;try{hx(e)}catch(A){Pt(e,a,A)}}}catch(A){Pt(e,e.return,A)}if(e===t){ge=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ge=o;break}ge=e.return}}var $K=Math.ceil,dm=Rs.ReactCurrentDispatcher,tC=Rs.ReactCurrentOwner,Jn=Rs.ReactCurrentBatchConfig,He=0,Ar=null,Vt=null,br=0,gn=0,vl=no(0),Yt=0,Sd=null,oA=0,zp=0,rC=0,zc=null,en=null,nC=0,Kl=1/0,Ji=null,fm=!1,px=null,Ia=null,bh=!1,ma=null,hm=0,Yc=0,vx=null,Eg=-1,_g=0;function Kr(){return He&6?jt():Eg!==-1?Eg:Eg=jt()}function Sa(t){return t.mode&1?He&2&&br!==0?br&-br:SK.transition!==null?(_g===0&&(_g=YN()),_g):(t=qe,t!==0||(t=window.event,t=t===void 0?16:rQ(t.type)),t):1}function wi(t,e,r,n){if(50<Yc)throw Yc=0,vx=null,Error(te(185));af(t,r,n),(!(He&2)||t!==Ar)&&(t===Ar&&(!(He&2)&&(zp|=r),Yt===4&&da(t,br)),on(t,n),r===1&&He===0&&!(e.mode&1)&&(Kl=jt()+500,Kp&&io()))}function on(t,e){var r=t.callbackNode;SV(t,e);var n=qg(t,t===Ar?br:0);if(n===0)r!==null&&TI(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&TI(r),e===1)t.tag===0?IK(xS.bind(null,t)):xQ(xS.bind(null,t)),BK(function(){!(He&6)&&io()}),r=null;else{switch(XN(n)){case 1:r=TB;break;case 4:r=WN;break;case 16:r=Xg;break;case 536870912:r=zN;break;default:r=Xg}r=yk(r,dk.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function dk(t,e){if(Eg=-1,_g=0,He&6)throw Error(te(327));var r=t.callbackNode;if(Fl()&&t.callbackNode!==r)return null;var n=qg(t,t===Ar?br:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=gm(t,n);else{e=n;var i=He;He|=2;var s=hk();(Ar!==t||br!==e)&&(Ji=null,Kl=jt()+500,Wo(t,e));do try{zK();break}catch(o){fk(t,o)}while(!0);HB(),dm.current=s,He=i,Vt!==null?e=0:(Ar=null,br=0,e=Yt)}if(e!==0){if(e===2&&(i=$w(t),i!==0&&(n=i,e=yx(t,i))),e===1)throw r=Sd,Wo(t,0),da(t,n),on(t,jt()),r;if(e===6)da(t,n);else{if(i=t.current.alternate,!(n&30)&&!GK(i)&&(e=gm(t,n),e===2&&(s=$w(t),s!==0&&(n=s,e=yx(t,s))),e===1))throw r=Sd,Wo(t,0),da(t,n),on(t,jt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(te(345));case 2:_o(t,en,Ji);break;case 3:if(da(t,n),(n&130023424)===n&&(e=nC+500-jt(),10<e)){if(qg(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Kr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Zw(_o.bind(null,t,en,Ji),e);break}_o(t,en,Ji);break;case 4:if(da(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-yi(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=jt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$K(n/1960))-n,10<n){t.timeoutHandle=Zw(_o.bind(null,t,en,Ji),n);break}_o(t,en,Ji);break;case 5:_o(t,en,Ji);break;default:throw Error(te(329))}}}return on(t,jt()),t.callbackNode===r?dk.bind(null,t):null}function yx(t,e){var r=zc;return t.current.memoizedState.isDehydrated&&(Wo(t,e).flags|=256),t=gm(t,e),t!==2&&(e=en,en=r,e!==null&&wx(e)),t}function wx(t){en===null?en=t:en.push.apply(en,t)}function GK(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!xi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function da(t,e){for(e&=~rC,e&=~zp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-yi(e),n=1<<r;t[r]=-1,e&=~n}}function xS(t){if(He&6)throw Error(te(327));Fl();var e=qg(t,0);if(!(e&1))return on(t,jt()),null;var r=gm(t,e);if(t.tag!==0&&r===2){var n=$w(t);n!==0&&(e=n,r=yx(t,n))}if(r===1)throw r=Sd,Wo(t,0),da(t,e),on(t,jt()),r;if(r===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_o(t,en,Ji),on(t,jt()),null}function iC(t,e){var r=He;He|=1;try{return t(e)}finally{He=r,He===0&&(Kl=jt()+500,Kp&&io())}}function AA(t){ma!==null&&ma.tag===0&&!(He&6)&&Fl();var e=He;He|=1;var r=Jn.transition,n=qe;try{if(Jn.transition=null,qe=1,t)return t()}finally{qe=n,Jn.transition=r,He=e,!(He&6)&&io()}}function sC(){gn=vl.current,dt(vl)}function Wo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,bK(r)),Vt!==null)for(r=Vt.return;r!==null;){var n=r;switch(RB(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&rm();break;case 3:Hl(),dt(sn),dt(Dr),zB();break;case 5:WB(n);break;case 4:Hl();break;case 13:dt(Et);break;case 19:dt(Et);break;case 10:VB(n.type._context);break;case 22:case 23:sC()}r=r.return}if(Ar=t,Vt=t=Ta(t.current,null),br=gn=e,Yt=0,Sd=null,rC=zp=oA=0,en=zc=null,jo!==null){for(e=0;e<jo.length;e++)if(r=jo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}jo=null}return t}function fk(t,e){do{var r=Vt;try{if(HB(),bg.current=cm,um){for(var n=_t.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}um=!1}if(aA=0,ar=Wt=_t=null,Gc=!1,Ed=0,tC.current=null,r===null||r.return===null){Yt=1,Sd=e,Vt=null;break}e:{var s=t,a=r.return,o=r,A=e;if(e=br,o.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var l=A,u=o,c=u.tag;if(!(u.mode&1)&&(c===0||c===11||c===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=AS(a);if(g!==null){g.flags&=-257,lS(g,a,o,s,e),g.mode&1&&oS(s,l,e),e=g,A=l;var m=e.updateQueue;if(m===null){var p=new Set;p.add(A),e.updateQueue=p}else m.add(A);break e}else{if(!(e&1)){oS(s,l,e),aC();break e}A=Error(te(426))}}else if(pt&&o.mode&1){var v=AS(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),lS(v,a,o,s,e),MB(Vl(A,o));break e}}s=A=Vl(A,o),Yt!==4&&(Yt=2),zc===null?zc=[s]:zc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=XQ(s,A,e);tS(s,y);break e;case 1:o=A;var w=s.type,B=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Ia===null||!Ia.has(B)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=qQ(s,o,e);tS(s,I);break e}}s=s.return}while(s!==null)}mk(r)}catch(T){e=T,Vt===r&&r!==null&&(Vt=r=r.return);continue}break}while(!0)}function hk(){var t=dm.current;return dm.current=cm,t===null?cm:t}function aC(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),Ar===null||!(oA&268435455)&&!(zp&268435455)||da(Ar,br)}function gm(t,e){var r=He;He|=2;var n=hk();(Ar!==t||br!==e)&&(Ji=null,Wo(t,e));do try{WK();break}catch(i){fk(t,i)}while(!0);if(HB(),He=r,dm.current=n,Vt!==null)throw Error(te(261));return Ar=null,br=0,Yt}function WK(){for(;Vt!==null;)gk(Vt)}function zK(){for(;Vt!==null&&!yV();)gk(Vt)}function gk(t){var e=vk(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?mk(t):Vt=e,tC.current=null}function mk(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=LK(r,e),r!==null){r.flags&=32767,Vt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Yt=6,Vt=null;return}}else if(r=MK(r,e,gn),r!==null){Vt=r;return}if(e=e.sibling,e!==null){Vt=e;return}Vt=e=t}while(e!==null);Yt===0&&(Yt=5)}function _o(t,e,r){var n=qe,i=Jn.transition;try{Jn.transition=null,qe=1,YK(t,e,r,n)}finally{Jn.transition=i,qe=n}return null}function YK(t,e,r,n){do Fl();while(ma!==null);if(He&6)throw Error(te(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(TV(t,s),t===Ar&&(Vt=Ar=null,br=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bh||(bh=!0,yk(Xg,function(){return Fl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Jn.transition,Jn.transition=null;var a=qe;qe=1;var o=He;He|=4,tC.current=null,VK(t,r),uk(r,t),gK(qw),Jg=!!Xw,qw=Xw=null,t.current=r,KK(r),wV(),He=o,qe=a,Jn.transition=s}else t.current=r;if(bh&&(bh=!1,ma=t,hm=i),s=t.pendingLanes,s===0&&(Ia=null),BV(r.stateNode),on(t,jt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(fm)throw fm=!1,t=px,px=null,t;return hm&1&&t.tag!==0&&Fl(),s=t.pendingLanes,s&1?t===vx?Yc++:(Yc=0,vx=t):Yc=0,io(),null}function Fl(){if(ma!==null){var t=XN(hm),e=Jn.transition,r=qe;try{if(Jn.transition=null,qe=16>t?16:t,ma===null)var n=!1;else{if(t=ma,ma=null,hm=0,He&6)throw Error(te(331));var i=He;for(He|=4,ge=t.current;ge!==null;){var s=ge,a=s.child;if(ge.flags&16){var o=s.deletions;if(o!==null){for(var A=0;A<o.length;A++){var l=o[A];for(ge=l;ge!==null;){var u=ge;switch(u.tag){case 0:case 11:case 15:Wc(8,u,s)}var c=u.child;if(c!==null)c.return=u,ge=c;else for(;ge!==null;){u=ge;var f=u.sibling,g=u.return;if(ok(u),u===l){ge=null;break}if(f!==null){f.return=g,ge=f;break}ge=g}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}ge=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ge=a;else e:for(;ge!==null;){if(s=ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wc(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ge=y;break e}ge=s.return}}var w=t.current;for(ge=w;ge!==null;){a=ge;var B=a.child;if(a.subtreeFlags&2064&&B!==null)B.return=a,ge=B;else e:for(a=w;ge!==null;){if(o=ge,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Wp(9,o)}}catch(T){Pt(o,o.return,T)}if(o===a){ge=null;break e}var I=o.sibling;if(I!==null){I.return=o.return,ge=I;break e}ge=o.return}}if(He=i,io(),ki&&typeof ki.onPostCommitFiberRoot=="function")try{ki.onPostCommitFiberRoot(Rp,t)}catch{}n=!0}return n}finally{qe=r,Jn.transition=e}}return!1}function bS(t,e,r){e=Vl(r,e),e=XQ(t,e,1),t=_a(t,e,1),e=Kr(),t!==null&&(af(t,1,e),on(t,e))}function Pt(t,e,r){if(t.tag===3)bS(t,t,r);else for(;e!==null;){if(e.tag===3){bS(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ia===null||!Ia.has(n))){t=Vl(r,t),t=qQ(e,t,1),e=_a(e,t,1),t=Kr(),e!==null&&(af(e,1,t),on(e,t));break}}e=e.return}}function XK(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Kr(),t.pingedLanes|=t.suspendedLanes&r,Ar===t&&(br&r)===r&&(Yt===4||Yt===3&&(br&130023424)===br&&500>jt()-nC?Wo(t,0):rC|=r),on(t,e)}function pk(t,e){e===0&&(t.mode&1?(e=dh,dh<<=1,!(dh&130023424)&&(dh=4194304)):e=1);var r=Kr();t=Ss(t,e),t!==null&&(af(t,e,r),on(t,r))}function qK(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),pk(t,r)}function JK(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(te(314))}n!==null&&n.delete(e),pk(t,r)}var vk;vk=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return rn=!1,RK(t,e,r);rn=!!(t.flags&131072)}else rn=!1,pt&&e.flags&1048576&&bQ(e,sm,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Cg(t,e),t=e.pendingProps;var i=Rl(e,Dr.current);Tl(e,r),i=XB(null,e,n,t,i,r);var s=qB();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(n)?(s=!0,nm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$B(e),i.updater=Gp,e.stateNode=i,i._reactInternals=e,ax(e,n,t,r),e=lx(null,e,n,!0,s,r)):(e.tag=0,pt&&s&&jB(e),Lr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Cg(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=e6(n),t=di(n,t),i){case 0:e=Ax(null,e,n,t,r);break e;case 1:e=dS(null,e,n,t,r);break e;case 11:e=uS(null,e,n,t,r);break e;case 14:e=cS(null,e,n,di(n.type,t),r);break e}throw Error(te(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:di(n,i),Ax(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:di(n,i),dS(t,e,n,i,r);case 3:e:{if(tk(e),t===null)throw Error(te(387));n=e.pendingProps,s=e.memoizedState,i=s.element,SQ(t,e),Am(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Vl(Error(te(423)),e),e=fS(t,e,n,r,i);break e}else if(n!==i){i=Vl(Error(te(424)),e),e=fS(t,e,n,r,i);break e}else for(wn=Ea(e.stateNode.containerInfo.firstChild),Bn=e,pt=!0,hi=null,r=_Q(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ml(),n===i){e=Ts(t,e,r);break e}Lr(t,e,n,r)}e=e.child}return e;case 5:return TQ(e),t===null&&nx(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Jw(n,i)?a=null:s!==null&&Jw(n,s)&&(e.flags|=32),ek(t,e),Lr(t,e,a,r),e.child;case 6:return t===null&&nx(e),null;case 13:return rk(t,e,r);case 4:return GB(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ll(e,null,n,r):Lr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:di(n,i),uS(t,e,n,i,r);case 7:return Lr(t,e,e.pendingProps,r),e.child;case 8:return Lr(t,e,e.pendingProps.children,r),e.child;case 12:return Lr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,At(am,n._currentValue),n._currentValue=a,s!==null)if(xi(s.value,a)){if(s.children===i.children&&!sn.current){e=Ts(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var A=o.firstContext;A!==null;){if(A.context===n){if(s.tag===1){A=ys(-1,r&-r),A.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?A.next=A:(A.next=u.next,u.next=A),l.pending=A}}s.lanes|=r,A=s.alternate,A!==null&&(A.lanes|=r),ix(s.return,r,e),o.lanes|=r;break}A=A.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(te(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),ix(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Lr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Tl(e,r),i=ti(i),n=n(i),e.flags|=1,Lr(t,e,n,r),e.child;case 14:return n=e.type,i=di(n,e.pendingProps),i=di(n.type,i),cS(t,e,n,i,r);case 15:return JQ(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:di(n,i),Cg(t,e),e.tag=1,an(n)?(t=!0,nm(e)):t=!1,Tl(e,r),YQ(e,n,i),ax(e,n,i,r),lx(null,e,n,!0,t,r);case 19:return nk(t,e,r);case 22:return ZQ(t,e,r)}throw Error(te(156,e.tag))};function yk(t,e){return GN(t,e)}function ZK(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,e,r,n){return new ZK(t,e,r,n)}function oC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function e6(t){if(typeof t=="function")return oC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_B)return 11;if(t===IB)return 14}return 2}function Ta(t,e){var r=t.alternate;return r===null?(r=$n(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ig(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")oC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Al:return zo(r.children,i,s,e);case EB:a=8,i|=8;break;case Fw:return t=$n(12,r,e,i|2),t.elementType=Fw,t.lanes=s,t;case Uw:return t=$n(13,r,e,i),t.elementType=Uw,t.lanes=s,t;case Pw:return t=$n(19,r,e,i),t.elementType=Pw,t.lanes=s,t;case TN:return Yp(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case IN:a=10;break e;case SN:a=9;break e;case _B:a=11;break e;case IB:a=14;break e;case oa:a=16,n=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=$n(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function zo(t,e,r,n){return t=$n(7,t,n,e),t.lanes=r,t}function Yp(t,e,r,n){return t=$n(22,t,n,e),t.elementType=TN,t.lanes=r,t.stateNode={isHidden:!1},t}function yy(t,e,r){return t=$n(6,t,null,e),t.lanes=r,t}function wy(t,e,r){return e=$n(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function t6(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ey(0),this.expirationTimes=ey(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ey(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function AC(t,e,r,n,i,s,a,o,A){return t=new t6(t,e,r,o,A),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$n(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$B(s),t}function r6(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ol,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function wk(t){if(!t)return Ha;t=t._reactInternals;e:{if(bA(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var r=t.type;if(an(r))return wQ(t,r,e)}return e}function xk(t,e,r,n,i,s,a,o,A){return t=AC(r,n,!0,t,i,s,a,o,A),t.context=wk(null),r=t.current,n=Kr(),i=Sa(r),s=ys(n,i),s.callback=e??null,_a(r,s,i),t.current.lanes=i,af(t,i,n),on(t,n),t}function Xp(t,e,r,n){var i=e.current,s=Kr(),a=Sa(i);return r=wk(r),e.context===null?e.context=r:e.pendingContext=r,e=ys(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=_a(i,e,a),t!==null&&(wi(t,i,a,s),xg(t,i,a)),a}function mm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function BS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function lC(t,e){BS(t,e),(t=t.alternate)&&BS(t,e)}var bk=typeof reportError=="function"?reportError:function(t){console.error(t)};function uC(t){this._internalRoot=t}qp.prototype.render=uC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));Xp(t,e,null,null)};qp.prototype.unmount=uC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;AA(function(){Xp(null,t,null,null)}),e[Is]=null}};function qp(t){this._internalRoot=t}qp.prototype.unstable_scheduleHydration=function(t){if(t){var e=ZN();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ca.length&&e!==0&&e<ca[r].priority;r++);ca.splice(r,0,t),r===0&&tQ(t)}};function cC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function CS(){}function n6(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=mm(a);s.call(l)}}var a=xk(e,n,t,0,null,!1,!1,"",CS);return t._reactRootContainer=a,t[Is]=a.current,wd(t.nodeType===8?t.parentNode:t),AA(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var l=mm(A);o.call(l)}}var A=AC(t,0,!1,null,null,!1,!1,"",CS);return t._reactRootContainer=A,t[Is]=A.current,wd(t.nodeType===8?t.parentNode:t),AA(function(){Xp(e,A,r,n)}),A}function Zp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var A=mm(a);o.call(A)}}Xp(e,a,t,i)}else a=n6(r,e,t,i,n);return mm(a)}qN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Cc(e.pendingLanes);r!==0&&(FB(e,r|1),on(e,jt()),!(He&6)&&(Kl=jt()+500,io()))}break;case 13:AA(function(){var n=Ss(t,1);if(n!==null){var i=Kr();wi(n,t,1,i)}}),lC(t,1)}};UB=function(t){if(t.tag===13){var e=Ss(t,134217728);if(e!==null){var r=Kr();wi(e,t,134217728,r)}lC(t,134217728)}};JN=function(t){if(t.tag===13){var e=Sa(t),r=Ss(t,e);if(r!==null){var n=Kr();wi(r,t,e,n)}lC(t,e)}};ZN=function(){return qe};eQ=function(t,e){var r=qe;try{return qe=t,e()}finally{qe=r}};Hw=function(t,e,r){switch(e){case"input":if(kw(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Vp(n);if(!i)throw Error(te(90));UN(n),kw(n,i)}}}break;case"textarea":NN(t,r);break;case"select":e=r.value,e!=null&&El(t,!!r.multiple,e,!1)}};MN=iC;LN=AA;var i6={usingClientEntryPoint:!1,Events:[Af,dl,Vp,jN,RN,iC]},ic={findFiberByHostInstance:Do,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s6={bundleType:ic.bundleType,version:ic.version,rendererPackageName:ic.rendererPackageName,rendererConfig:ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=KN(t),t===null?null:t.stateNode},findFiberByHostInstance:ic.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{Rp=Bh.inject(s6),ki=Bh}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i6;Un.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cC(e))throw Error(te(200));return r6(t,e,null,r)};Un.createRoot=function(t,e){if(!cC(t))throw Error(te(299));var r=!1,n="",i=bk;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=AC(t,1,!1,null,null,r,!1,n,i),t[Is]=e.current,wd(t.nodeType===8?t.parentNode:t),new uC(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=KN(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return AA(t)};Un.hydrate=function(t,e,r){if(!Jp(e))throw Error(te(200));return Zp(null,t,e,!0,r)};Un.hydrateRoot=function(t,e,r){if(!cC(t))throw Error(te(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=bk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=xk(e,null,t,1,r??null,i,!1,s,a),t[Is]=e.current,wd(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new qp(e)};Un.render=function(t,e,r){if(!Jp(e))throw Error(te(200));return Zp(null,t,e,!1,r)};Un.unmountComponentAtNode=function(t){if(!Jp(t))throw Error(te(40));return t._reactRootContainer?(AA(function(){Zp(null,null,t,!1,function(){t._reactRootContainer=null,t[Is]=null})}),!0):!1};Un.unstable_batchedUpdates=iC;Un.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Jp(r))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Zp(t,e,r,!1,n)};Un.version="18.3.1-next-f1338f8080-20240426";function Bk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bk)}catch(t){console.error(t)}}Bk(),BN.exports=Un;var dC=BN.exports,ES=dC;Sw.createRoot=ES.createRoot,Sw.hydrateRoot=ES.hydrateRoot;const a6="modulepreload",o6=function(t){return"/Brainless/"+t},_S={},Yo=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(A=>{if(A=o6(A),A in _S)return;_S[A]=!0;const l=A.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${u}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":a6,l||(c.as="script"),c.crossOrigin="",c.href=A,o&&c.setAttribute("nonce",o),document.head.appendChild(c),l)return new Promise((f,g)=>{c.addEventListener("load",f),c.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${A}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Td(){return Td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Td.apply(this,arguments)}var pa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pa||(pa={}));const IS="popstate";function A6(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:o="",hash:A=""}=BA(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),xx("",{pathname:a,search:o,hash:A},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let A=i.location.href,l=A.indexOf("#");o=l===-1?A:A.slice(0,l)}return o+"#"+(typeof s=="string"?s:pm(s))}function n(i,s){fC(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return u6(e,r,n,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function l6(){return Math.random().toString(36).substr(2,8)}function SS(t,e){return{usr:t.state,key:t.key,idx:e}}function xx(t,e,r,n){return r===void 0&&(r=null),Td({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?BA(e):e,{state:r,key:e&&e.key||n||l6()})}function pm(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function BA(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function u6(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=pa.Pop,A=null,l=u();l==null&&(l=0,a.replaceState(Td({},a.state,{idx:l}),""));function u(){return(a.state||{idx:null}).idx}function c(){o=pa.Pop;let v=u(),y=v==null?null:v-l;l=v,A&&A({action:o,location:p.location,delta:y})}function f(v,y){o=pa.Push;let w=xx(p.location,v,y);r(w,v),l=u()+1;let B=SS(w,l),I=p.createHref(w);try{a.pushState(B,"",I)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(I)}s&&A&&A({action:o,location:p.location,delta:1})}function g(v,y){o=pa.Replace;let w=xx(p.location,v,y);r(w,v),l=u();let B=SS(w,l),I=p.createHref(w);a.replaceState(B,"",I),s&&A&&A({action:o,location:p.location,delta:0})}function m(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:pm(v);return w=w.replace(/ $/,"%20"),It(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let p={get action(){return o},get location(){return t(i,a)},listen(v){if(A)throw new Error("A history only accepts one active listener");return i.addEventListener(IS,c),A=v,()=>{i.removeEventListener(IS,c),A=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(v){return a.go(v)}};return p}var TS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(TS||(TS={}));function c6(t,e,r){return r===void 0&&(r="/"),d6(t,e,r)}function d6(t,e,r,n){let i=typeof e=="string"?BA(e):e,s=$l(i.pathname||"/",r);if(s==null)return null;let a=Ck(t);f6(a);let o=null;for(let A=0;o==null&&A<a.length;++A){let l=C6(s);o=b6(a[A],l)}return o}function Ck(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let A={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};A.relativePath.startsWith("/")&&(It(A.relativePath.startsWith(n),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(n.length));let l=Fa([n,A.relativePath]),u=r.concat(A);s.children&&s.children.length>0&&(It(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Ck(s.children,e,u,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:w6(l,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let A of Ek(s.path))i(s,a,A)}),e}function Ek(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=Ek(n.join("/")),o=[];return o.push(...a.map(A=>A===""?s:[s,A].join("/"))),i&&o.push(...a),o.map(A=>t.startsWith("/")&&A===""?"/":A)}function f6(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:x6(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const h6=/^:[\w-]+$/,g6=3,m6=2,p6=1,v6=10,y6=-2,FS=t=>t==="*";function w6(t,e){let r=t.split("/"),n=r.length;return r.some(FS)&&(n+=y6),e&&(n+=m6),r.filter(i=>!FS(i)).reduce((i,s)=>i+(h6.test(s)?g6:s===""?p6:v6),n)}function x6(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function b6(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let A=n[o],l=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",c=bx({path:A.relativePath,caseSensitive:A.caseSensitive,end:l},u),f=A.route;if(!c)return null;Object.assign(i,c.params),a.push({params:i,pathname:Fa([s,c.pathname]),pathnameBase:S6(Fa([s,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(s=Fa([s,c.pathnameBase]))}return a}function bx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=B6(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((l,u,c)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let p=o[c]||"";a=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const m=o[c];return g&&!m?l[f]=void 0:l[f]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:a,pattern:t}}function B6(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),fC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,A)=>(n.push({paramName:o,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function C6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $l(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function E6(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?BA(t):t;return{pathname:r?r.startsWith("/")?r:_6(r,e):e,search:T6(n),hash:F6(i)}}function _6(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function xy(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I6(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function hC(t,e){let r=I6(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function gC(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=BA(t):(i=Td({},t),It(!i.pathname||!i.pathname.includes("?"),xy("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),xy("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),xy("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let c=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),c-=1;i.pathname=f.join("/")}o=c>=0?e[c]:"/"}let A=E6(i,o),l=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&r.endsWith("/");return!A.pathname.endsWith("/")&&(l||u)&&(A.pathname+="/"),A}const Fa=t=>t.join("/").replace(/\/\/+/g,"/"),S6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),T6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,F6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function U6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _k=["post","put","patch","delete"];new Set(_k);const P6=["get",..._k];new Set(P6);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fd.apply(this,arguments)}const e0=x.createContext(null),Ik=x.createContext(null),Ms=x.createContext(null),t0=x.createContext(null),so=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Sk=x.createContext(null);function N6(t,e){let{relative:r}=e===void 0?{}:e;yu()||It(!1);let{basename:n,navigator:i}=x.useContext(Ms),{hash:s,pathname:a,search:o}=r0(t,{relative:r}),A=a;return n!=="/"&&(A=a==="/"?n:Fa([n,a])),i.createHref({pathname:A,search:o,hash:s})}function yu(){return x.useContext(t0)!=null}function wu(){return yu()||It(!1),x.useContext(t0).location}function Tk(t){x.useContext(Ms).static||x.useLayoutEffect(t)}function Fk(){let{isDataRoute:t}=x.useContext(so);return t?G6():Q6()}function Q6(){yu()||It(!1);let t=x.useContext(e0),{basename:e,future:r,navigator:n}=x.useContext(Ms),{matches:i}=x.useContext(so),{pathname:s}=wu(),a=JSON.stringify(hC(i,r.v7_relativeSplatPath)),o=x.useRef(!1);return Tk(()=>{o.current=!0}),x.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=gC(l,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Fa([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,a,s,t])}function r0(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=x.useContext(Ms),{matches:i}=x.useContext(so),{pathname:s}=wu(),a=JSON.stringify(hC(i,n.v7_relativeSplatPath));return x.useMemo(()=>gC(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function k6(t,e){return O6(t,e)}function O6(t,e,r,n){yu()||It(!1);let{navigator:i}=x.useContext(Ms),{matches:s}=x.useContext(so),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let A=a?a.pathnameBase:"/";a&&a.route;let l=wu(),u;if(e){var c;let v=typeof e=="string"?BA(e):e;A==="/"||(c=v.pathname)!=null&&c.startsWith(A)||It(!1),u=v}else u=l;let f=u.pathname||"/",g=f;if(A!=="/"){let v=A.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=c6(t,{pathname:g}),p=L6(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Fa([A,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?A:Fa([A,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return e&&p?x.createElement(t0.Provider,{value:{location:Fd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:pa.Pop}},p):p}function D6(){let t=$6(),e=U6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),r?x.createElement("pre",{style:i},r):null,null)}const j6=x.createElement(D6,null);class R6 extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?x.createElement(so.Provider,{value:this.props.routeContext},x.createElement(Sk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function M6(t){let{routeContext:e,match:r,children:n}=t,i=x.useContext(e0);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(so.Provider,{value:e},n)}function L6(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);u>=0||It(!1),a=a.slice(0,Math.min(a.length,u+1))}let A=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let c=a[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:f,errors:g}=r,m=c.route.loader&&f[c.route.id]===void 0&&(!g||g[c.route.id]===void 0);if(c.route.lazy||m){A=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((u,c,f)=>{let g,m=!1,p=null,v=null;r&&(g=o&&c.route.id?o[c.route.id]:void 0,p=c.route.errorElement||j6,A&&(l<0&&f===0?(m=!0,v=null):l===f&&(m=!0,v=c.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,f+1)),w=()=>{let B;return g?B=p:m?B=v:c.route.Component?B=x.createElement(c.route.Component,null):c.route.element?B=c.route.element:B=u,x.createElement(M6,{match:c,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:B})};return r&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?x.createElement(R6,{location:r.location,revalidation:r.revalidation,component:p,error:g,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var Uk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Uk||{}),vm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vm||{});function H6(t){let e=x.useContext(e0);return e||It(!1),e}function V6(t){let e=x.useContext(Ik);return e||It(!1),e}function K6(t){let e=x.useContext(so);return e||It(!1),e}function Pk(t){let e=K6(),r=e.matches[e.matches.length-1];return r.route.id||It(!1),r.route.id}function $6(){var t;let e=x.useContext(Sk),r=V6(vm.UseRouteError),n=Pk(vm.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function G6(){let{router:t}=H6(Uk.UseNavigateStable),e=Pk(vm.UseNavigateStable),r=x.useRef(!1);return Tk(()=>{r.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fd({fromRouteId:e},s)))},[t,e])}const US={};function W6(t,e){US[e]||(US[e]=!0,console.warn(e))}const PS=(t,e,r)=>W6(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function z6(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&PS("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&PS("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Y6(t){let{to:e,replace:r,state:n,relative:i}=t;yu()||It(!1);let{future:s,static:a}=x.useContext(Ms),{matches:o}=x.useContext(so),{pathname:A}=wu(),l=Fk(),u=gC(e,hC(o,s.v7_relativeSplatPath),A,i==="path"),c=JSON.stringify(u);return x.useEffect(()=>l(JSON.parse(c),{replace:r,state:n,relative:i}),[l,c,i,r,n]),null}function Dn(t){It(!1)}function X6(t){let{basename:e="/",children:r=null,location:n,navigationType:i=pa.Pop,navigator:s,static:a=!1,future:o}=t;yu()&&It(!1);let A=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:A,navigator:s,static:a,future:Fd({v7_relativeSplatPath:!1},o)}),[A,o,s,a]);typeof n=="string"&&(n=BA(n));let{pathname:u="/",search:c="",hash:f="",state:g=null,key:m="default"}=n,p=x.useMemo(()=>{let v=$l(u,A);return v==null?null:{location:{pathname:v,search:c,hash:f,state:g,key:m},navigationType:i}},[A,u,c,f,g,m,i]);return p==null?null:x.createElement(Ms.Provider,{value:l},x.createElement(t0.Provider,{children:r,value:p}))}function q6(t){let{children:e,location:r}=t;return k6(Bx(e),r)}new Promise(()=>{});function Bx(t,e){e===void 0&&(e=[]);let r=[];return x.Children.forEach(t,(n,i)=>{if(!x.isValidElement(n))return;let s=[...e,i];if(n.type===x.Fragment){r.push.apply(r,Bx(n.props.children,s));return}n.type!==Dn&&It(!1),!n.props.index||!n.props.children||It(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Bx(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ym(){return ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ym.apply(this,arguments)}function Nk(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function J6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Z6(t,e){return t.button===0&&(!e||e==="_self")&&!J6(t)}const e$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],t$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],r$="6";try{window.__reactRouterVersion=r$}catch{}const n$=x.createContext({isTransitioning:!1}),i$="startTransition",NS=xN[i$];function s$(t){let{basename:e,children:r,future:n,window:i}=t,s=x.useRef();s.current==null&&(s.current=A6({window:i,v5Compat:!0}));let a=s.current,[o,A]=x.useState({action:a.action,location:a.location}),{v7_startTransition:l}=n||{},u=x.useCallback(c=>{l&&NS?NS(()=>A(c)):A(c)},[A,l]);return x.useLayoutEffect(()=>a.listen(u),[a,u]),x.useEffect(()=>z6(n),[n]),x.createElement(X6,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const a$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",o$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,A$=x.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:A,to:l,preventScrollReset:u,viewTransition:c}=e,f=Nk(e,e$),{basename:g}=x.useContext(Ms),m,p=!1;if(typeof l=="string"&&o$.test(l)&&(m=l,a$))try{let B=new URL(window.location.href),I=l.startsWith("//")?new URL(B.protocol+l):new URL(l),T=$l(I.pathname,g);I.origin===B.origin&&T!=null?l=T+I.search+I.hash:p=!0}catch{}let v=N6(l,{relative:i}),y=c$(l,{replace:a,state:o,target:A,preventScrollReset:u,relative:i,viewTransition:c});function w(B){n&&n(B),B.defaultPrevented||y(B)}return x.createElement("a",ym({},f,{href:m||v,onClick:p||s?n:w,ref:r,target:A}))}),l$=x.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:A,viewTransition:l,children:u}=e,c=Nk(e,t$),f=r0(A,{relative:c.relative}),g=wu(),m=x.useContext(Ik),{navigator:p,basename:v}=x.useContext(Ms),y=m!=null&&d$(f)&&l===!0,w=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,B=g.pathname,I=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(B=B.toLowerCase(),I=I?I.toLowerCase():null,w=w.toLowerCase()),I&&v&&(I=$l(I,v)||I);const T=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let F=B===w||!a&&B.startsWith(w)&&B.charAt(T)==="/",C=I!=null&&(I===w||!a&&I.startsWith(w)&&I.charAt(w.length)==="/"),_={isActive:F,isPending:C,isTransitioning:y},S=F?n:void 0,P;typeof s=="function"?P=s(_):P=[s,F?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let Q=typeof o=="function"?o(_):o;return x.createElement(A$,ym({},c,{"aria-current":S,className:P,ref:r,style:Q,to:A,viewTransition:l}),typeof u=="function"?u(_):u)});var Cx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Cx||(Cx={}));var QS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(QS||(QS={}));function u$(t){let e=x.useContext(e0);return e||It(!1),e}function c$(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,A=Fk(),l=wu(),u=r0(t,{relative:a});return x.useCallback(c=>{if(Z6(c,r)){c.preventDefault();let f=n!==void 0?n:pm(l)===pm(u);A(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[l,A,u,n,i,r,t,s,a,o])}function d$(t,e){e===void 0&&(e={});let r=x.useContext(n$);r==null&&It(!1);let{basename:n}=u$(Cx.useViewTransitionState),i=r0(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=$l(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=$l(r.nextLocation.pathname,n)||r.nextLocation.pathname;return bx(i.pathname,a)!=null||bx(i.pathname,s)!=null}function f$(){const[t,e]=x.useState(null),[r,n]=x.useState(null),[i,s]=x.useState(null);x.useEffect(()=>{const A=setInterval(()=>{const l=new Date,u=l.getHours(),c=l.getMinutes(),f=u*60+c,g=4*60+30,m=13*60,p=21*60+30;let v=null;f>=g&&f<m?(v=m-f,n("workEnd"),s("morning")):f>=m&&f<p?(v=p-f,n("workEnd"),s("afternoon")):(f<g?v=g-f:v=1440-f+g,n("workStart"),s("morning")),e(v)},1e3);return()=>clearInterval(A)},[]);const a=A=>A===null?"text-text-secondary":A<=30?"text-red-400 bg-red-400/10 ring-1 ring-red-400":A<=120?"text-orange-400 bg-orange-400/10 ring-1 ring-orange-400":"text-primary bg-primary/10 ring-1 ring-primary",o=A=>{if(A===null)return"";const l=Math.floor(A/60),u=A%60;return`${l}小時 ${u}分鐘`};return d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("span",{className:"text-text-secondary",children:r==="workEnd"?`${i==="morning"?"早班":"晚班"}離下班還有 `:"早班離上班還有 "}),d.jsx("span",{className:`
        font-medium px-3 py-1 rounded-full
        ${a(t)}
        transition-all duration-300
      `,children:o(t)})]})}var kS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},h$=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],A=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(A>>10)),e[n++]=String.fromCharCode(56320+(A&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},kk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,A=i+2<t.length,l=A?t[i+2]:0,u=s>>2,c=(s&3)<<4|o>>4;let f=(o&15)<<2|l>>6,g=l&63;A||(g=64,a||(f=64)),n.push(r[u],r[c],r[f],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const l=i<t.length?r[t.charAt(i)]:64;++i;const c=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||l==null||c==null)throw new g$;const f=s<<2|o>>4;if(n.push(f),l!==64){const g=o<<4&240|l>>2;if(n.push(g),c!==64){const m=l<<6&192|c;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class g$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m$=function(t){const e=Qk(t);return kk.encodeByteArray(e,!0)},wm=function(t){return m$(t).replace(/\./g,"")},Ok=function(t){try{return kk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$=()=>p$().__FIREBASE_DEFAULTS__,y$=()=>{if(typeof process>"u"||typeof kS>"u")return;const t=kS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},w$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ok(t[1]);return e&&JSON.parse(e)},n0=()=>{try{return v$()||y$()||w$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dk=t=>{var e,r;return(r=(e=n0())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},x$=t=>{const e=Dk(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},jk=()=>{var t;return(t=n0())===null||t===void 0?void 0:t.config},Rk=t=>{var e;return(e=n0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wm(JSON.stringify(r)),wm(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function E$(){var t;const e=(t=n0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function I$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function S$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function T$(){const t=Xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Mk(){return!E$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lk(){try{return typeof indexedDB=="object"}catch{return!1}}function F$(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$="FirebaseError";class Ls extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=U$,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uf.prototype.create)}}class uf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?P$(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ls(i,o,n)}}function P$(t,e){return t.replace(N$,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const N$=/\{\$([^}]+)}/g;function Q$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xm(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(OS(s)&&OS(a)){if(!xm(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function OS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function _c(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ic(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function k$(t,e){const r=new O$(t,e);return r.subscribe.bind(r)}class O${constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");D$(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=by),i.error===void 0&&(i.error=by),i.complete===void 0&&(i.complete=by);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D$(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function by(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t){return t&&t._delegate?t._delegate:t}class lA{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j$=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new b$;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M$(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Io){return this.instances.has(e)}getOptions(e=Io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:R$(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Io){return this.component?this.component.multipleInstances?e:Io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function R$(t){return t===Io?void 0:t}function M$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new j$(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const H$={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},V$=je.INFO,K$={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},$$=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=K$[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let mC=class{constructor(e){this.name=e,this._logLevel=V$,this._logHandler=$$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}};const G$=(t,e)=>e.some(r=>t instanceof r);let DS,jS;function W$(){return DS||(DS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z$(){return jS||(jS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hk=new WeakMap,Ex=new WeakMap,Vk=new WeakMap,By=new WeakMap,pC=new WeakMap;function Y$(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(Ua(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&Hk.set(r,t)}).catch(()=>{}),pC.set(e,t),e}function X$(t){if(Ex.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Ex.set(t,e)}let _x={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Ex.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Vk.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ua(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function q$(t){_x=t(_x)}function J$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Cy(this),e,...r);return Vk.set(n,e.sort?e.sort():[e]),Ua(n)}:z$().includes(t)?function(...e){return t.apply(Cy(this),e),Ua(Hk.get(this))}:function(...e){return Ua(t.apply(Cy(this),e))}}function Z$(t){return typeof t=="function"?J$(t):(t instanceof IDBTransaction&&X$(t),G$(t,W$())?new Proxy(t,_x):t)}function Ua(t){if(t instanceof IDBRequest)return Y$(t);if(By.has(t))return By.get(t);const e=Z$(t);return e!==t&&(By.set(t,e),pC.set(e,t)),e}const Cy=t=>pC.get(t);function e8(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Ua(a);return n&&a.addEventListener("upgradeneeded",A=>{n(Ua(a.result),A.oldVersion,A.newVersion,Ua(a.transaction),A)}),r&&a.addEventListener("blocked",A=>r(A.oldVersion,A.newVersion,A)),o.then(A=>{s&&A.addEventListener("close",()=>s()),i&&A.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}const t8=["get","getKey","getAll","getAllKeys","count"],r8=["put","add","delete","clear"],Ey=new Map;function RS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ey.get(e))return Ey.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=r8.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||t8.includes(r)))return;const s=async function(a,...o){const A=this.transaction(a,i?"readwrite":"readonly");let l=A.store;return n&&(l=l.index(o.shift())),(await Promise.all([l[r](...o),i&&A.done]))[0]};return Ey.set(e,s),s}q$(t=>({...t,get:(e,r,n)=>RS(e,r)||t.get(e,r,n),has:(e,r)=>!!RS(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(i8(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function i8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ix="@firebase/app",MS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new mC("@firebase/app"),s8="@firebase/app-compat",a8="@firebase/analytics-compat",o8="@firebase/analytics",A8="@firebase/app-check-compat",l8="@firebase/app-check",u8="@firebase/auth",c8="@firebase/auth-compat",d8="@firebase/database",f8="@firebase/data-connect",h8="@firebase/database-compat",g8="@firebase/functions",m8="@firebase/functions-compat",p8="@firebase/installations",v8="@firebase/installations-compat",y8="@firebase/messaging",w8="@firebase/messaging-compat",x8="@firebase/performance",b8="@firebase/performance-compat",B8="@firebase/remote-config",C8="@firebase/remote-config-compat",E8="@firebase/storage",_8="@firebase/storage-compat",I8="@firebase/firestore",S8="@firebase/vertexai-preview",T8="@firebase/firestore-compat",F8="firebase",U8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="[DEFAULT]",P8={[Ix]:"fire-core",[s8]:"fire-core-compat",[o8]:"fire-analytics",[a8]:"fire-analytics-compat",[l8]:"fire-app-check",[A8]:"fire-app-check-compat",[u8]:"fire-auth",[c8]:"fire-auth-compat",[d8]:"fire-rtdb",[f8]:"fire-data-connect",[h8]:"fire-rtdb-compat",[g8]:"fire-fn",[m8]:"fire-fn-compat",[p8]:"fire-iid",[v8]:"fire-iid-compat",[y8]:"fire-fcm",[w8]:"fire-fcm-compat",[x8]:"fire-perf",[b8]:"fire-perf-compat",[B8]:"fire-rc",[C8]:"fire-rc-compat",[E8]:"fire-gcs",[_8]:"fire-gcs-compat",[I8]:"fire-fst",[T8]:"fire-fst-compat",[S8]:"fire-vertex","fire-js":"fire-js",[F8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new Map,N8=new Map,Tx=new Map;function LS(t,e){try{t.container.addComponent(e)}catch(r){Fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Gl(t){const e=t.name;if(Tx.has(e))return Fs.debug(`There were multiple attempts to register component ${e}.`),!1;Tx.set(e,t);for(const r of Ud.values())LS(r,t);for(const r of N8.values())LS(r,t);return!0}function vC(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function us(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pa=new uf("app","Firebase",Q8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new lA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=U8;function Kk(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Sx,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Pa.create("bad-app-name",{appName:String(i)});if(r||(r=jk()),!r)throw Pa.create("no-options");const s=Ud.get(i);if(s){if(xm(r,s.options)&&xm(n,s.config))return s;throw Pa.create("duplicate-app",{appName:i})}const a=new L$(i);for(const A of Tx.values())a.addComponent(A);const o=new k8(r,n,a);return Ud.set(i,o),o}function $k(t=Sx){const e=Ud.get(t);if(!e&&t===Sx&&jk())return Kk();if(!e)throw Pa.create("no-app",{appName:t});return e}function HS(){return Array.from(Ud.values())}function Na(t,e,r){var n;let i=(n=P8[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fs.warn(o.join(" "));return}Gl(new lA(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8="firebase-heartbeat-database",D8=1,Pd="firebase-heartbeat-store";let _y=null;function Gk(){return _y||(_y=e8(O8,D8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pd)}catch(r){console.warn(r)}}}}).catch(t=>{throw Pa.create("idb-open",{originalErrorMessage:t.message})})),_y}async function j8(t){try{const r=(await Gk()).transaction(Pd),n=await r.objectStore(Pd).get(Wk(t));return await r.done,n}catch(e){if(e instanceof Ls)Fs.warn(e.message);else{const r=Pa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fs.warn(r.message)}}}async function VS(t,e){try{const n=(await Gk()).transaction(Pd,"readwrite");await n.objectStore(Pd).put(e,Wk(t)),await n.done}catch(r){if(r instanceof Ls)Fs.warn(r.message);else{const n=Pa.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Fs.warn(n.message)}}}function Wk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8=1024,M8=30*24*60*60*1e3;class L8{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new V8(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=KS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=M8}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Fs.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=KS(),{heartbeatsToSend:n,unsentEntries:i}=H8(this._heartbeatsCache.heartbeats),s=wm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Fs.warn(r),""}}}function KS(){return new Date().toISOString().substring(0,10)}function H8(t,e=R8){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),$S(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),$S(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class V8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lk()?F$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await j8(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return VS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return VS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $S(t){return wm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(t){Gl(new lA("platform-logger",e=>new n8(e),"PRIVATE")),Gl(new lA("heartbeat",e=>new L8(e),"PRIVATE")),Na(Ix,MS,t),Na(Ix,MS,"esm2017"),Na("fire-js","")}K8("");var GS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xo,zk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function S(){}S.prototype=_.prototype,C.D=_.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(P,Q,k){for(var N=Array(arguments.length-2),se=2;se<arguments.length;se++)N[se-2]=arguments[se];return _.prototype[Q].apply(P,N)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,_,S){S||(S=0);var P=Array(16);if(typeof _=="string")for(var Q=0;16>Q;++Q)P[Q]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(Q=0;16>Q;++Q)P[Q]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=C.g[0],S=C.g[1],Q=C.g[2];var k=C.g[3],N=_+(k^S&(Q^k))+P[0]+3614090360&4294967295;_=S+(N<<7&4294967295|N>>>25),N=k+(Q^_&(S^Q))+P[1]+3905402710&4294967295,k=_+(N<<12&4294967295|N>>>20),N=Q+(S^k&(_^S))+P[2]+606105819&4294967295,Q=k+(N<<17&4294967295|N>>>15),N=S+(_^Q&(k^_))+P[3]+3250441966&4294967295,S=Q+(N<<22&4294967295|N>>>10),N=_+(k^S&(Q^k))+P[4]+4118548399&4294967295,_=S+(N<<7&4294967295|N>>>25),N=k+(Q^_&(S^Q))+P[5]+1200080426&4294967295,k=_+(N<<12&4294967295|N>>>20),N=Q+(S^k&(_^S))+P[6]+2821735955&4294967295,Q=k+(N<<17&4294967295|N>>>15),N=S+(_^Q&(k^_))+P[7]+4249261313&4294967295,S=Q+(N<<22&4294967295|N>>>10),N=_+(k^S&(Q^k))+P[8]+1770035416&4294967295,_=S+(N<<7&4294967295|N>>>25),N=k+(Q^_&(S^Q))+P[9]+2336552879&4294967295,k=_+(N<<12&4294967295|N>>>20),N=Q+(S^k&(_^S))+P[10]+4294925233&4294967295,Q=k+(N<<17&4294967295|N>>>15),N=S+(_^Q&(k^_))+P[11]+2304563134&4294967295,S=Q+(N<<22&4294967295|N>>>10),N=_+(k^S&(Q^k))+P[12]+1804603682&4294967295,_=S+(N<<7&4294967295|N>>>25),N=k+(Q^_&(S^Q))+P[13]+4254626195&4294967295,k=_+(N<<12&4294967295|N>>>20),N=Q+(S^k&(_^S))+P[14]+2792965006&4294967295,Q=k+(N<<17&4294967295|N>>>15),N=S+(_^Q&(k^_))+P[15]+1236535329&4294967295,S=Q+(N<<22&4294967295|N>>>10),N=_+(Q^k&(S^Q))+P[1]+4129170786&4294967295,_=S+(N<<5&4294967295|N>>>27),N=k+(S^Q&(_^S))+P[6]+3225465664&4294967295,k=_+(N<<9&4294967295|N>>>23),N=Q+(_^S&(k^_))+P[11]+643717713&4294967295,Q=k+(N<<14&4294967295|N>>>18),N=S+(k^_&(Q^k))+P[0]+3921069994&4294967295,S=Q+(N<<20&4294967295|N>>>12),N=_+(Q^k&(S^Q))+P[5]+3593408605&4294967295,_=S+(N<<5&4294967295|N>>>27),N=k+(S^Q&(_^S))+P[10]+38016083&4294967295,k=_+(N<<9&4294967295|N>>>23),N=Q+(_^S&(k^_))+P[15]+3634488961&4294967295,Q=k+(N<<14&4294967295|N>>>18),N=S+(k^_&(Q^k))+P[4]+3889429448&4294967295,S=Q+(N<<20&4294967295|N>>>12),N=_+(Q^k&(S^Q))+P[9]+568446438&4294967295,_=S+(N<<5&4294967295|N>>>27),N=k+(S^Q&(_^S))+P[14]+3275163606&4294967295,k=_+(N<<9&4294967295|N>>>23),N=Q+(_^S&(k^_))+P[3]+4107603335&4294967295,Q=k+(N<<14&4294967295|N>>>18),N=S+(k^_&(Q^k))+P[8]+1163531501&4294967295,S=Q+(N<<20&4294967295|N>>>12),N=_+(Q^k&(S^Q))+P[13]+2850285829&4294967295,_=S+(N<<5&4294967295|N>>>27),N=k+(S^Q&(_^S))+P[2]+4243563512&4294967295,k=_+(N<<9&4294967295|N>>>23),N=Q+(_^S&(k^_))+P[7]+1735328473&4294967295,Q=k+(N<<14&4294967295|N>>>18),N=S+(k^_&(Q^k))+P[12]+2368359562&4294967295,S=Q+(N<<20&4294967295|N>>>12),N=_+(S^Q^k)+P[5]+4294588738&4294967295,_=S+(N<<4&4294967295|N>>>28),N=k+(_^S^Q)+P[8]+2272392833&4294967295,k=_+(N<<11&4294967295|N>>>21),N=Q+(k^_^S)+P[11]+1839030562&4294967295,Q=k+(N<<16&4294967295|N>>>16),N=S+(Q^k^_)+P[14]+4259657740&4294967295,S=Q+(N<<23&4294967295|N>>>9),N=_+(S^Q^k)+P[1]+2763975236&4294967295,_=S+(N<<4&4294967295|N>>>28),N=k+(_^S^Q)+P[4]+1272893353&4294967295,k=_+(N<<11&4294967295|N>>>21),N=Q+(k^_^S)+P[7]+4139469664&4294967295,Q=k+(N<<16&4294967295|N>>>16),N=S+(Q^k^_)+P[10]+3200236656&4294967295,S=Q+(N<<23&4294967295|N>>>9),N=_+(S^Q^k)+P[13]+681279174&4294967295,_=S+(N<<4&4294967295|N>>>28),N=k+(_^S^Q)+P[0]+3936430074&4294967295,k=_+(N<<11&4294967295|N>>>21),N=Q+(k^_^S)+P[3]+3572445317&4294967295,Q=k+(N<<16&4294967295|N>>>16),N=S+(Q^k^_)+P[6]+76029189&4294967295,S=Q+(N<<23&4294967295|N>>>9),N=_+(S^Q^k)+P[9]+3654602809&4294967295,_=S+(N<<4&4294967295|N>>>28),N=k+(_^S^Q)+P[12]+3873151461&4294967295,k=_+(N<<11&4294967295|N>>>21),N=Q+(k^_^S)+P[15]+530742520&4294967295,Q=k+(N<<16&4294967295|N>>>16),N=S+(Q^k^_)+P[2]+3299628645&4294967295,S=Q+(N<<23&4294967295|N>>>9),N=_+(Q^(S|~k))+P[0]+4096336452&4294967295,_=S+(N<<6&4294967295|N>>>26),N=k+(S^(_|~Q))+P[7]+1126891415&4294967295,k=_+(N<<10&4294967295|N>>>22),N=Q+(_^(k|~S))+P[14]+2878612391&4294967295,Q=k+(N<<15&4294967295|N>>>17),N=S+(k^(Q|~_))+P[5]+4237533241&4294967295,S=Q+(N<<21&4294967295|N>>>11),N=_+(Q^(S|~k))+P[12]+1700485571&4294967295,_=S+(N<<6&4294967295|N>>>26),N=k+(S^(_|~Q))+P[3]+2399980690&4294967295,k=_+(N<<10&4294967295|N>>>22),N=Q+(_^(k|~S))+P[10]+4293915773&4294967295,Q=k+(N<<15&4294967295|N>>>17),N=S+(k^(Q|~_))+P[1]+2240044497&4294967295,S=Q+(N<<21&4294967295|N>>>11),N=_+(Q^(S|~k))+P[8]+1873313359&4294967295,_=S+(N<<6&4294967295|N>>>26),N=k+(S^(_|~Q))+P[15]+4264355552&4294967295,k=_+(N<<10&4294967295|N>>>22),N=Q+(_^(k|~S))+P[6]+2734768916&4294967295,Q=k+(N<<15&4294967295|N>>>17),N=S+(k^(Q|~_))+P[13]+1309151649&4294967295,S=Q+(N<<21&4294967295|N>>>11),N=_+(Q^(S|~k))+P[4]+4149444226&4294967295,_=S+(N<<6&4294967295|N>>>26),N=k+(S^(_|~Q))+P[11]+3174756917&4294967295,k=_+(N<<10&4294967295|N>>>22),N=Q+(_^(k|~S))+P[2]+718787259&4294967295,Q=k+(N<<15&4294967295|N>>>17),N=S+(k^(Q|~_))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(Q+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+Q&4294967295,C.g[3]=C.g[3]+k&4294967295}n.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var S=_-this.blockSize,P=this.B,Q=this.h,k=0;k<_;){if(Q==0)for(;k<=S;)i(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<_;)if(P[Q++]=C.charCodeAt(k++),Q==this.blockSize){i(this,P),Q=0;break}}else for(;k<_;)if(P[Q++]=C[k++],Q==this.blockSize){i(this,P),Q=0;break}}this.h=Q,this.o+=_},n.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var S=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=S&255,S/=256;for(this.u(C),C=Array(16),_=S=0;4>_;++_)for(var P=0;32>P;P+=8)C[S++]=this.g[_]>>>P&255;return C};function s(C,_){var S=o;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=_(C)}function a(C,_){this.h=_;for(var S=[],P=!0,Q=C.length-1;0<=Q;Q--){var k=C[Q]|0;P&&k==_||(S[Q]=k,P=!1)}this.g=S}var o={};function A(C){return-128<=C&&128>C?s(C,function(_){return new a([_|0],0>_?-1:0)}):new a([C|0],0>C?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return c;if(0>C)return v(l(-C));for(var _=[],S=1,P=0;C>=S;P++)_[P]=C/S|0,S*=4294967296;return new a(_,0)}function u(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return v(u(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=l(Math.pow(_,8)),P=c,Q=0;Q<C.length;Q+=8){var k=Math.min(8,C.length-Q),N=parseInt(C.substring(Q,Q+k),_);8>k?(k=l(Math.pow(_,k)),P=P.j(k).add(l(N))):(P=P.j(S),P=P.add(l(N)))}return P}var c=A(0),f=A(1),g=A(16777216);t=a.prototype,t.m=function(){if(p(this))return-v(this).m();for(var C=0,_=1,S=0;S<this.g.length;S++){var P=this.i(S);C+=(0<=P?P:4294967296+P)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(m(this))return"0";if(p(this))return"-"+v(this).toString(C);for(var _=l(Math.pow(C,6)),S=this,P="";;){var Q=I(S,_).g;S=y(S,Q.j(_));var k=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=Q,m(S))return k+P;for(;6>k.length;)k="0"+k;P=k+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function m(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function p(C){return C.h==-1}t.l=function(C){return C=y(this,C),p(C)?-1:m(C)?0:1};function v(C){for(var _=C.g.length,S=[],P=0;P<_;P++)S[P]=~C.g[P];return new a(S,~C.h).add(f)}t.abs=function(){return p(this)?v(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0,Q=0;Q<=_;Q++){var k=P+(this.i(Q)&65535)+(C.i(Q)&65535),N=(k>>>16)+(this.i(Q)>>>16)+(C.i(Q)>>>16);P=N>>>16,k&=65535,N&=65535,S[Q]=N<<16|k}return new a(S,S[S.length-1]&-2147483648?-1:0)};function y(C,_){return C.add(v(_))}t.j=function(C){if(m(this)||m(C))return c;if(p(this))return p(C)?v(this).j(v(C)):v(v(this).j(C));if(p(C))return v(this.j(v(C)));if(0>this.l(g)&&0>C.l(g))return l(this.m()*C.m());for(var _=this.g.length+C.g.length,S=[],P=0;P<2*_;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var Q=0;Q<C.g.length;Q++){var k=this.i(P)>>>16,N=this.i(P)&65535,se=C.i(Q)>>>16,be=C.i(Q)&65535;S[2*P+2*Q]+=N*be,w(S,2*P+2*Q),S[2*P+2*Q+1]+=k*be,w(S,2*P+2*Q+1),S[2*P+2*Q+1]+=N*se,w(S,2*P+2*Q+1),S[2*P+2*Q+2]+=k*se,w(S,2*P+2*Q+2)}for(P=0;P<_;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=_;P<2*_;P++)S[P]=0;return new a(S,0)};function w(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function B(C,_){this.g=C,this.h=_}function I(C,_){if(m(_))throw Error("division by zero");if(m(C))return new B(c,c);if(p(C))return _=I(v(C),_),new B(v(_.g),v(_.h));if(p(_))return _=I(C,v(_)),new B(v(_.g),_.h);if(30<C.g.length){if(p(C)||p(_))throw Error("slowDivide_ only works with positive integers.");for(var S=f,P=_;0>=P.l(C);)S=T(S),P=T(P);var Q=F(S,1),k=F(P,1);for(P=F(P,2),S=F(S,2);!m(P);){var N=k.add(P);0>=N.l(C)&&(Q=Q.add(S),k=N),P=F(P,1),S=F(S,1)}return _=y(C,Q.j(_)),new B(Q,_)}for(Q=c;0<=C.l(_);){for(S=Math.max(1,Math.floor(C.m()/_.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),k=l(S),N=k.j(_);p(N)||0<N.l(C);)S-=P,k=l(S),N=k.j(_);m(k)&&(k=f),Q=Q.add(k),C=y(C,N)}return new B(Q,C)}t.A=function(C){return I(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0;P<_;P++)S[P]=this.i(P)&C.i(P);return new a(S,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0;P<_;P++)S[P]=this.i(P)|C.i(P);return new a(S,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0;P<_;P++)S[P]=this.i(P)^C.i(P);return new a(S,this.h^C.h)};function T(C){for(var _=C.g.length+1,S=[],P=0;P<_;P++)S[P]=C.i(P)<<1|C.i(P-1)>>>31;return new a(S,C.h)}function F(C,_){var S=_>>5;_%=32;for(var P=C.g.length-S,Q=[],k=0;k<P;k++)Q[k]=0<_?C.i(k+S)>>>_|C.i(k+S+1)<<32-_:C.i(k+S);return new a(Q,C.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,zk=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=u,Xo=a}).apply(typeof GS<"u"?GS:typeof self<"u"?self:typeof window<"u"?window:{});var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yk,Sc,Xk,Sg,Fx,qk,Jk,Zk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,b,E){return h==Array.prototype||h==Object.prototype||(h[b]=E.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ch=="object"&&Ch];for(var b=0;b<h.length;++b){var E=h[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=r(this);function i(h,b){if(b)e:{var E=n;h=h.split(".");for(var U=0;U<h.length-1;U++){var M=h[U];if(!(M in E))break e;E=E[M]}h=h[h.length-1],U=E[h],b=b(U),b!=U&&b!=null&&e(E,h,{configurable:!0,writable:!0,value:b})}}function s(h,b){h instanceof String&&(h+="");var E=0,U=!1,M={next:function(){if(!U&&E<h.length){var G=E++;return{value:b(G,h[G]),done:!1}}return U=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(h){return h||function(){return s(this,function(b,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function A(h){var b=typeof h;return b=b!="object"?b:h?Array.isArray(h)?"array":b:"null",b=="array"||b=="object"&&typeof h.length=="number"}function l(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function u(h,b,E){return h.call.apply(h.bind,arguments)}function c(h,b,E){if(!h)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,U),h.apply(b,M)}}return function(){return h.apply(b,arguments)}}function f(h,b,E){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:c,f.apply(null,arguments)}function g(h,b){var E=Array.prototype.slice.call(arguments,1);return function(){var U=E.slice();return U.push.apply(U,arguments),h.apply(this,U)}}function m(h,b){function E(){}E.prototype=b.prototype,h.aa=b.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(U,M,G){for(var ie=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)ie[rt-2]=arguments[rt];return b.prototype[M].apply(U,ie)}}function p(h){const b=h.length;if(0<b){const E=Array(b);for(let U=0;U<b;U++)E[U]=h[U];return E}return[]}function v(h,b){for(let E=1;E<arguments.length;E++){const U=arguments[E];if(A(U)){const M=h.length||0,G=U.length||0;h.length=M+G;for(let ie=0;ie<G;ie++)h[M+ie]=U[ie]}else h.push(U)}}class y{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function w(h){return/^[\s\xa0]*$/.test(h)}function B(){var h=o.navigator;return h&&(h=h.userAgent)?h:""}function I(h){return I[" "](h),h}I[" "]=function(){};var T=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function F(h,b,E){for(const U in h)b.call(E,h[U],U,h)}function C(h,b){for(const E in h)b.call(void 0,h[E],E,h)}function _(h){const b={};for(const E in h)b[E]=h[E];return b}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,b){let E,U;for(let M=1;M<arguments.length;M++){U=arguments[M];for(E in U)h[E]=U[E];for(let G=0;G<S.length;G++)E=S[G],Object.prototype.hasOwnProperty.call(U,E)&&(h[E]=U[E])}}function Q(h){var b=1;h=h.split(":");const E=[];for(;0<b&&h.length;)E.push(h.shift()),b--;return h.length&&E.push(h.join(":")),E}function k(h){o.setTimeout(()=>{throw h},0)}function N(){var h=ne;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class se{constructor(){this.h=this.g=null}add(b,E){const U=be.get();U.set(b,E),this.h?this.h.next=U:this.g=U,this.h=U}}var be=new y(()=>new he,h=>h.reset());class he{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,Y=!1,ne=new se,ce=()=>{const h=o.Promise.resolve(void 0);ye=()=>{h.then(Ue)}};var Ue=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(E){k(E)}var b=be;b.j(h),100>b.h&&(b.h++,h.next=b.g,b.g=h)}Y=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pe(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}Pe.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};o.addEventListener("test",E,b),o.removeEventListener("test",E,b)}catch{}return h}();function D(h,b){if(Pe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,U=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget){if(T){e:{try{I(b.nodeName);var M=!0;break e}catch{}M=!1}M||(b=null)}}else E=="mouseover"?b=h.fromElement:E=="mouseout"&&(b=h.toElement);this.relatedTarget=b,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:j[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&D.aa.h.call(this)}}m(D,Pe);var j={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),J=0;function H(h,b,E,U,M){this.listener=h,this.proxy=null,this.src=b,this.type=E,this.capture=!!U,this.ha=M,this.key=++J,this.da=this.fa=!1}function W(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Z(h){this.src=h,this.g={},this.h=0}Z.prototype.add=function(h,b,E,U,M){var G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);var ie=Ie(h,b,U,M);return-1<ie?(b=h[ie],E||(b.fa=!1)):(b=new H(b,this.src,G,!!U,M),b.fa=E,h.push(b)),b};function K(h,b){var E=b.type;if(E in h.g){var U=h.g[E],M=Array.prototype.indexOf.call(U,b,void 0),G;(G=0<=M)&&Array.prototype.splice.call(U,M,1),G&&(W(b),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ie(h,b,E,U){for(var M=0;M<h.length;++M){var G=h[M];if(!G.da&&G.listener==b&&G.capture==!!E&&G.ha==U)return M}return-1}var Ee="closure_lm_"+(1e6*Math.random()|0),Ge={};function ht(h,b,E,U,M){if(Array.isArray(b)){for(var G=0;G<b.length;G++)ht(h,b[G],E,U,M);return null}return E=po(E),h&&h[q]?h.K(b,E,l(U)?!!U.capture:!1,M):oi(h,b,E,!1,U,M)}function oi(h,b,E,U,M,G){if(!b)throw Error("Invalid event type");var ie=l(M)?!!M.capture:!!M,rt=Lu(h);if(rt||(h[Ee]=rt=new Z(h)),E=rt.add(b,E,U,ie,G),E.proxy)return E;if(U=NA(),E.proxy=U,U.src=h,U.listener=E,h.addEventListener)O||(M=ie),M===void 0&&(M=!1),h.addEventListener(b.toString(),U,M);else if(h.attachEvent)h.attachEvent(Vf(b.toString()),U);else if(h.addListener&&h.removeListener)h.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return E}function NA(){function h(E){return b.call(h.src,h.listener,E)}const b=Mu;return h}function Hf(h,b,E,U,M){if(Array.isArray(b))for(var G=0;G<b.length;G++)Hf(h,b[G],E,U,M);else U=l(U)?!!U.capture:!!U,E=po(E),h&&h[q]?(h=h.i,b=String(b).toString(),b in h.g&&(G=h.g[b],E=Ie(G,E,U,M),-1<E&&(W(G[E]),Array.prototype.splice.call(G,E,1),G.length==0&&(delete h.g[b],h.h--)))):h&&(h=Lu(h))&&(b=h.g[b.toString()],h=-1,b&&(h=Ie(b,E,U,M)),(E=-1<h?b[h]:null)&&Ru(E))}function Ru(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[q])K(b.i,h);else{var E=h.type,U=h.proxy;b.removeEventListener?b.removeEventListener(E,U,h.capture):b.detachEvent?b.detachEvent(Vf(E),U):b.addListener&&b.removeListener&&b.removeListener(U),(E=Lu(b))?(K(E,h),E.h==0&&(E.src=null,b[Ee]=null)):W(h)}}}function Vf(h){return h in Ge?Ge[h]:Ge[h]="on"+h}function Mu(h,b){if(h.da)h=!0;else{b=new D(b,this);var E=h.listener,U=h.ha||h.src;h.fa&&Ru(h),h=E.call(U,b)}return h}function Lu(h){return h=h[Ee],h instanceof Z?h:null}var QA="__closure_events_fn_"+(1e9*Math.random()>>>0);function po(h){return typeof h=="function"?h:(h[QA]||(h[QA]=function(b){return h.handleEvent(b)}),h[QA])}function rr(){re.call(this),this.i=new Z(this),this.M=this,this.F=null}m(rr,re),rr.prototype[q]=!0,rr.prototype.removeEventListener=function(h,b,E,U){Hf(this,h,b,E,U)};function ur(h,b){var E,U=h.F;if(U)for(E=[];U;U=U.F)E.push(U);if(h=h.M,U=b.type||b,typeof b=="string")b=new Pe(b,h);else if(b instanceof Pe)b.target=b.target||h;else{var M=b;b=new Pe(U,h),P(b,M)}if(M=!0,E)for(var G=E.length-1;0<=G;G--){var ie=b.g=E[G];M=kA(ie,U,!0,b)&&M}if(ie=b.g=h,M=kA(ie,U,!0,b)&&M,M=kA(ie,U,!1,b)&&M,E)for(G=0;G<E.length;G++)ie=b.g=E[G],M=kA(ie,U,!1,b)&&M}rr.prototype.N=function(){if(rr.aa.N.call(this),this.i){var h=this.i,b;for(b in h.g){for(var E=h.g[b],U=0;U<E.length;U++)W(E[U]);delete h.g[b],h.h--}}this.F=null},rr.prototype.K=function(h,b,E,U){return this.i.add(String(h),b,!1,E,U)},rr.prototype.L=function(h,b,E,U){return this.i.add(String(h),b,!0,E,U)};function kA(h,b,E,U){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();for(var M=!0,G=0;G<b.length;++G){var ie=b[G];if(ie&&!ie.da&&ie.capture==E){var rt=ie.listener,dr=ie.ha||ie.src;ie.fa&&K(h.i,ie),M=rt.call(dr,U)!==!1&&M}}return M&&!U.defaultPrevented}function Kf(h,b,E){if(typeof h=="function")E&&(h=f(h,E));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:o.setTimeout(h,b||0)}function $f(h){h.g=Kf(()=>{h.g=null,h.i&&(h.i=!1,$f(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class kv extends re{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:$f(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vo(h){re.call(this),this.h=h,this.g={}}m(vo,re);var R=[];function $(h){F(h.g,function(b,E){this.g.hasOwnProperty(E)&&Ru(b)},h),h.g={}}vo.prototype.N=function(){vo.aa.N.call(this),$(this)},vo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var X=o.JSON.stringify,Ae=o.JSON.parse,ae=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function we(){}we.prototype.h=null;function Se(h){return h.h||(h.h=h.i())}function We(){}var Te={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qe(){Pe.call(this,"d")}m(Qe,Pe);function Je(){Pe.call(this,"c")}m(Je,Pe);var cr={},Ct=null;function Rr(){return Ct=Ct||new rr}cr.La="serverreachability";function yo(h){Pe.call(this,cr.La,h)}m(yo,Pe);function Cr(h){const b=Rr();ur(b,new yo(b))}cr.STAT_EVENT="statevent";function Gf(h,b){Pe.call(this,cr.STAT_EVENT,h),this.stat=b}m(Gf,Pe);function kt(h){const b=Rr();ur(b,new Gf(b,h))}cr.Ma="timingevent";function un(h,b){Pe.call(this,cr.Ma,h),this.size=b}m(un,Pe);function zs(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},b)}function Ys(){this.g=!0}Ys.prototype.xa=function(){this.g=!1};function Ov(h,b,E,U,M,G){h.info(function(){if(h.g)if(G)for(var ie="",rt=G.split("&"),dr=0;dr<rt.length;dr++){var Ve=rt[dr].split("=");if(1<Ve.length){var Er=Ve[0];Ve=Ve[1];var _r=Er.split("_");ie=2<=_r.length&&_r[1]=="type"?ie+(Er+"="+Ve+"&"):ie+(Er+"=redacted&")}}else ie=null;else ie=G;return"XMLHTTP REQ ("+U+") [attempt "+M+"]: "+b+`
`+E+`
`+ie})}function cH(h,b,E,U,M,G,ie){h.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+M+"]: "+b+`
`+E+`
`+G+" "+ie})}function OA(h,b,E,U){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+fH(h,E)+(U?" "+U:"")})}function dH(h,b){h.info(function(){return"TIMEOUT: "+b})}Ys.prototype.info=function(){};function fH(h,b){if(!h.g)return b;if(!b)return null;try{var E=JSON.parse(b);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var U=E[h];if(!(2>U.length)){var M=U[1];if(Array.isArray(M)&&!(1>M.length)){var G=M[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ie=1;ie<M.length;ie++)M[ie]=""}}}}return X(E)}catch{return b}}var Wf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},P_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dv;function zf(){}m(zf,we),zf.prototype.g=function(){return new XMLHttpRequest},zf.prototype.i=function(){return{}},Dv=new zf;function Xs(h,b,E,U){this.j=h,this.i=b,this.l=E,this.R=U||1,this.U=new vo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new N_}function N_(){this.i=null,this.g="",this.h=!1}var Q_={},jv={};function Rv(h,b,E){h.L=1,h.v=Jf(Wi(b)),h.m=E,h.P=!0,k_(h,null)}function k_(h,b){h.F=Date.now(),Yf(h),h.A=Wi(h.v);var E=h.A,U=h.R;Array.isArray(U)||(U=[String(U)]),Y_(E.i,"t",U),h.C=0,E=h.j.J,h.h=new N_,h.g=fI(h.j,E?b:null,!h.m),0<h.O&&(h.M=new kv(f(h.Y,h,h.g),h.O)),b=h.U,E=h.g,U=h.ca;var M="readystatechange";Array.isArray(M)||(M&&(R[0]=M.toString()),M=R);for(var G=0;G<M.length;G++){var ie=ht(E,M[G],U||b.handleEvent,!1,b.h||b);if(!ie)break;b.g[ie.key]=ie}b=h.H?_(h.H):{},h.m?(h.u||(h.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,b)):(h.u="GET",h.g.ea(h.A,h.u,null,b)),Cr(),Ov(h.i,h.u,h.A,h.l,h.R,h.m)}Xs.prototype.ca=function(h){h=h.target;const b=this.M;b&&zi(h)==3?b.j():this.Y(h)},Xs.prototype.Y=function(h){try{if(h==this.g)e:{const _r=zi(this.g);var b=this.g.Ba();const RA=this.g.Z();if(!(3>_r)&&(_r!=3||this.g&&(this.h.h||this.g.oa()||rI(this.g)))){this.J||_r!=4||b==7||(b==8||0>=RA?Cr(3):Cr(2)),Mv(this);var E=this.g.Z();this.X=E;t:if(O_(this)){var U=rI(this.g);h="";var M=U.length,G=zi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wo(this),Hu(this);var ie="";break t}this.h.i=new o.TextDecoder}for(b=0;b<M;b++)this.h.h=!0,h+=this.h.i.decode(U[b],{stream:!(G&&b==M-1)});U.length=0,this.h.g+=h,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=E==200,cH(this.i,this.u,this.A,this.l,this.R,_r,E),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,dr=this.g;if((rt=dr.g?dr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(rt)){var Ve=rt;break t}}Ve=null}if(E=Ve)OA(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lv(this,E);else{this.o=!1,this.s=3,kt(12),wo(this),Hu(this);break e}}if(this.P){E=!0;let Ai;for(;!this.J&&this.C<ie.length;)if(Ai=hH(this,ie),Ai==jv){_r==4&&(this.s=4,kt(14),E=!1),OA(this.i,this.l,null,"[Incomplete Response]");break}else if(Ai==Q_){this.s=4,kt(15),OA(this.i,this.l,ie,"[Invalid Chunk]"),E=!1;break}else OA(this.i,this.l,Ai,null),Lv(this,Ai);if(O_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_r!=4||ie.length!=0||this.h.h||(this.s=1,kt(16),E=!1),this.o=this.o&&E,!E)OA(this.i,this.l,ie,"[Invalid Chunked Response]"),wo(this),Hu(this);else if(0<ie.length&&!this.W){this.W=!0;var Er=this.j;Er.g==this&&Er.ba&&!Er.M&&(Er.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Wv(Er),Er.M=!0,kt(11))}}else OA(this.i,this.l,ie,null),Lv(this,ie);_r==4&&wo(this),this.o&&!this.J&&(_r==4?lI(this.j,this):(this.o=!1,Yf(this)))}else UH(this.g),E==400&&0<ie.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),wo(this),Hu(this)}}}catch{}finally{}};function O_(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function hH(h,b){var E=h.C,U=b.indexOf(`
`,E);return U==-1?jv:(E=Number(b.substring(E,U)),isNaN(E)?Q_:(U+=1,U+E>b.length?jv:(b=b.slice(U,U+E),h.C=U+E,b)))}Xs.prototype.cancel=function(){this.J=!0,wo(this)};function Yf(h){h.S=Date.now()+h.I,D_(h,h.I)}function D_(h,b){if(h.B!=null)throw Error("WatchDog timer not null");h.B=zs(f(h.ba,h),b)}function Mv(h){h.B&&(o.clearTimeout(h.B),h.B=null)}Xs.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(dH(this.i,this.A),this.L!=2&&(Cr(),kt(17)),wo(this),this.s=2,Hu(this)):D_(this,this.S-h)};function Hu(h){h.j.G==0||h.J||lI(h.j,h)}function wo(h){Mv(h);var b=h.M;b&&typeof b.ma=="function"&&b.ma(),h.M=null,$(h.U),h.g&&(b=h.g,h.g=null,b.abort(),b.ma())}function Lv(h,b){try{var E=h.j;if(E.G!=0&&(E.g==h||Hv(E.h,h))){if(!h.K&&Hv(E.h,h)&&E.G==3){try{var U=E.Da.g.parse(b)}catch{U=null}if(Array.isArray(U)&&U.length==3){var M=U;if(M[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)ih(E),rh(E);else break e;Gv(E),kt(18)}}else E.za=M[1],0<E.za-E.T&&37500>M[2]&&E.F&&E.v==0&&!E.C&&(E.C=zs(f(E.Za,E),6e3));if(1>=M_(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else bo(E,11)}else if((h.K||E.g==h)&&ih(E),!w(b))for(M=E.Da.g.parse(b),b=0;b<M.length;b++){let Ve=M[b];if(E.T=Ve[0],Ve=Ve[1],E.G==2)if(Ve[0]=="c"){E.K=Ve[1],E.ia=Ve[2];const Er=Ve[3];Er!=null&&(E.la=Er,E.j.info("VER="+E.la));const _r=Ve[4];_r!=null&&(E.Aa=_r,E.j.info("SVER="+E.Aa));const RA=Ve[5];RA!=null&&typeof RA=="number"&&0<RA&&(U=1.5*RA,E.L=U,E.j.info("backChannelRequestTimeoutMs_="+U)),U=E;const Ai=h.g;if(Ai){const ah=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ah){var G=U.h;G.g||ah.indexOf("spdy")==-1&&ah.indexOf("quic")==-1&&ah.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Vv(G,G.h),G.h=null))}if(U.D){const zv=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;zv&&(U.ya=zv,lt(U.I,U.D,zv))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),U=E;var ie=h;if(U.qa=dI(U,U.J?U.ia:null,U.W),ie.K){L_(U.h,ie);var rt=ie,dr=U.L;dr&&(rt.I=dr),rt.B&&(Mv(rt),Yf(rt)),U.g=ie}else oI(U);0<E.i.length&&nh(E)}else Ve[0]!="stop"&&Ve[0]!="close"||bo(E,7);else E.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?bo(E,7):$v(E):Ve[0]!="noop"&&E.l&&E.l.ta(Ve),E.v=0)}}Cr(4)}catch{}}var gH=class{constructor(h,b){this.g=h,this.map=b}};function j_(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function R_(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function M_(h){return h.h?1:h.g?h.g.size:0}function Hv(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function Vv(h,b){h.g?h.g.add(b):h.h=b}function L_(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}j_.prototype.cancel=function(){if(this.i=H_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function H_(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const E of h.g.values())b=b.concat(E.D);return b}return p(h.i)}function mH(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(A(h)){for(var b=[],E=h.length,U=0;U<E;U++)b.push(h[U]);return b}b=[],E=0;for(U in h)b[E++]=h[U];return b}function pH(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(A(h)||typeof h=="string"){var b=[];h=h.length;for(var E=0;E<h;E++)b.push(E);return b}b=[],E=0;for(const U in h)b[E++]=U;return b}}}function V_(h,b){if(h.forEach&&typeof h.forEach=="function")h.forEach(b,void 0);else if(A(h)||typeof h=="string")Array.prototype.forEach.call(h,b,void 0);else for(var E=pH(h),U=mH(h),M=U.length,G=0;G<M;G++)b.call(void 0,U[G],E&&E[G],h)}var K_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vH(h,b){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var U=h[E].indexOf("="),M=null;if(0<=U){var G=h[E].substring(0,U);M=h[E].substring(U+1)}else G=h[E];b(G,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function xo(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof xo){this.h=h.h,Xf(this,h.j),this.o=h.o,this.g=h.g,qf(this,h.s),this.l=h.l;var b=h.i,E=new $u;E.i=b.i,b.g&&(E.g=new Map(b.g),E.h=b.h),$_(this,E),this.m=h.m}else h&&(b=String(h).match(K_))?(this.h=!1,Xf(this,b[1]||"",!0),this.o=Vu(b[2]||""),this.g=Vu(b[3]||"",!0),qf(this,b[4]),this.l=Vu(b[5]||"",!0),$_(this,b[6]||"",!0),this.m=Vu(b[7]||"")):(this.h=!1,this.i=new $u(null,this.h))}xo.prototype.toString=function(){var h=[],b=this.j;b&&h.push(Ku(b,G_,!0),":");var E=this.g;return(E||b=="file")&&(h.push("//"),(b=this.o)&&h.push(Ku(b,G_,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ku(E,E.charAt(0)=="/"?xH:wH,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ku(E,BH)),h.join("")};function Wi(h){return new xo(h)}function Xf(h,b,E){h.j=E?Vu(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function qf(h,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);h.s=b}else h.s=null}function $_(h,b,E){b instanceof $u?(h.i=b,CH(h.i,h.h)):(E||(b=Ku(b,bH)),h.i=new $u(b,h.h))}function lt(h,b,E){h.i.set(b,E)}function Jf(h){return lt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Vu(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ku(h,b,E){return typeof h=="string"?(h=encodeURI(h).replace(b,yH),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function yH(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var G_=/[#\/\?@]/g,wH=/[#\?:]/g,xH=/[#\?]/g,bH=/[#\?@]/g,BH=/#/g;function $u(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function qs(h){h.g||(h.g=new Map,h.h=0,h.i&&vH(h.i,function(b,E){h.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}t=$u.prototype,t.add=function(h,b){qs(this),this.i=null,h=DA(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(b),this.h+=1,this};function W_(h,b){qs(h),b=DA(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function z_(h,b){return qs(h),b=DA(h,b),h.g.has(b)}t.forEach=function(h,b){qs(this),this.g.forEach(function(E,U){E.forEach(function(M){h.call(b,M,U,this)},this)},this)},t.na=function(){qs(this);const h=Array.from(this.g.values()),b=Array.from(this.g.keys()),E=[];for(let U=0;U<b.length;U++){const M=h[U];for(let G=0;G<M.length;G++)E.push(b[U])}return E},t.V=function(h){qs(this);let b=[];if(typeof h=="string")z_(this,h)&&(b=b.concat(this.g.get(DA(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)b=b.concat(h[E])}return b},t.set=function(h,b){return qs(this),this.i=null,h=DA(this,h),z_(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=this.V(h),0<h.length?String(h[0]):b):b};function Y_(h,b,E){W_(h,b),0<E.length&&(h.i=null,h.g.set(DA(h,b),p(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(var E=0;E<b.length;E++){var U=b[E];const G=encodeURIComponent(String(U)),ie=this.V(U);for(U=0;U<ie.length;U++){var M=G;ie[U]!==""&&(M+="="+encodeURIComponent(String(ie[U]))),h.push(M)}}return this.i=h.join("&")};function DA(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function CH(h,b){b&&!h.j&&(qs(h),h.i=null,h.g.forEach(function(E,U){var M=U.toLowerCase();U!=M&&(W_(this,U),Y_(this,M,E))},h)),h.j=b}function EH(h,b){const E=new Ys;if(o.Image){const U=new Image;U.onload=g(Js,E,"TestLoadImage: loaded",!0,b,U),U.onerror=g(Js,E,"TestLoadImage: error",!1,b,U),U.onabort=g(Js,E,"TestLoadImage: abort",!1,b,U),U.ontimeout=g(Js,E,"TestLoadImage: timeout",!1,b,U),o.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=h}else b(!1)}function _H(h,b){const E=new Ys,U=new AbortController,M=setTimeout(()=>{U.abort(),Js(E,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:U.signal}).then(G=>{clearTimeout(M),G.ok?Js(E,"TestPingServer: ok",!0,b):Js(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(M),Js(E,"TestPingServer: error",!1,b)})}function Js(h,b,E,U,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),U(E)}catch{}}function IH(){this.g=new ae}function SH(h,b,E){const U=E||"";try{V_(h,function(M,G){let ie=M;l(M)&&(ie=X(M)),b.push(U+G+"="+encodeURIComponent(ie))})}catch(M){throw b.push(U+"type="+encodeURIComponent("_badmap")),M}}function Zf(h){this.l=h.Ub||null,this.j=h.eb||!1}m(Zf,we),Zf.prototype.g=function(){return new eh(this.l,this.j)},Zf.prototype.i=function(h){return function(){return h}}({});function eh(h,b){rr.call(this),this.D=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(eh,rr),t=eh.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=b,this.readyState=1,Wu(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(b.body=h),(this.D||o).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gu(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Wu(this)),this.g&&(this.readyState=3,Wu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;X_(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function X_(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?Gu(this):Wu(this),this.readyState==3&&X_(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Gu(this))},t.Qa=function(h){this.g&&(this.response=h,Gu(this))},t.ga=function(){this.g&&Gu(this)};function Gu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Wu(h)}t.setRequestHeader=function(h,b){this.u.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=b.next();return h.join(`\r
`)};function Wu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(eh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function q_(h){let b="";return F(h,function(E,U){b+=U,b+=":",b+=E,b+=`\r
`}),b}function Kv(h,b,E){e:{for(U in E){var U=!1;break e}U=!0}U||(E=q_(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):lt(h,b,E))}function Ft(h){rr.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Ft,rr);var TH=/^https?$/i,FH=["POST","PUT"];t=Ft.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,b,E,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dv.g(),this.v=this.o?Se(this.o):Se(Dv),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(G){J_(this,G);return}if(h=E||"",E=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var M in U)E.set(M,U[M]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const G of U.keys())E.set(G,U.get(G));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),M=o.FormData&&h instanceof o.FormData,!(0<=Array.prototype.indexOf.call(FH,b,void 0))||U||M||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of E)this.g.setRequestHeader(G,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tI(this),this.u=!0,this.g.send(h),this.u=!1}catch(G){J_(this,G)}};function J_(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.m=5,Z_(h),th(h)}function Z_(h){h.A||(h.A=!0,ur(h,"complete"),ur(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ur(this,"complete"),ur(this,"abort"),th(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),th(this,!0)),Ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?eI(this):this.bb())},t.bb=function(){eI(this)};function eI(h){if(h.h&&typeof a<"u"&&(!h.v[1]||zi(h)!=4||h.Z()!=2)){if(h.u&&zi(h)==4)Kf(h.Ea,0,h);else if(ur(h,"readystatechange"),zi(h)==4){h.h=!1;try{const ie=h.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var U;if(U=ie===0){var M=String(h.D).match(K_)[1]||null;!M&&o.self&&o.self.location&&(M=o.self.location.protocol.slice(0,-1)),U=!TH.test(M?M.toLowerCase():"")}E=U}if(E)ur(h,"complete"),ur(h,"success");else{h.m=6;try{var G=2<zi(h)?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.Z()+"]",Z_(h)}}finally{th(h)}}}}function th(h,b){if(h.g){tI(h);const E=h.g,U=h.v[0]?()=>{}:null;h.g=null,h.v=null,b||ur(h,"ready");try{E.onreadystatechange=U}catch{}}}function tI(h){h.I&&(o.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function zi(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<zi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),Ae(b)}};function rI(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function UH(h){const b={};h=(h.g&&2<=zi(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<h.length;U++){if(w(h[U]))continue;var E=Q(h[U]);const M=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=b[M]||[];b[M]=G,G.push(E)}C(b,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zu(h,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||b}function nI(h){this.Aa=0,this.i=[],this.j=new Ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zu("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zu("baseRetryDelayMs",5e3,h),this.cb=zu("retryDelaySeedMs",1e4,h),this.Wa=zu("forwardChannelMaxRetries",2,h),this.wa=zu("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new j_(h&&h.concurrentRequestLimit),this.Da=new IH,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nI.prototype,t.la=8,t.G=1,t.connect=function(h,b,E,U){kt(0),this.W=h,this.H=b||{},E&&U!==void 0&&(this.H.OSID=E,this.H.OAID=U),this.F=this.X,this.I=dI(this,null,this.W),nh(this)};function $v(h){if(iI(h),h.G==3){var b=h.U++,E=Wi(h.I);if(lt(E,"SID",h.K),lt(E,"RID",b),lt(E,"TYPE","terminate"),Yu(h,E),b=new Xs(h,h.j,b),b.L=2,b.v=Jf(Wi(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(b.v.toString(),"")}catch{}!E&&o.Image&&(new Image().src=b.v,E=!0),E||(b.g=fI(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Yf(b)}cI(h)}function rh(h){h.g&&(Wv(h),h.g.cancel(),h.g=null)}function iI(h){rh(h),h.u&&(o.clearTimeout(h.u),h.u=null),ih(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&o.clearTimeout(h.s),h.s=null)}function nh(h){if(!R_(h.h)&&!h.s){h.s=!0;var b=h.Ga;ye||ce(),Y||(ye(),Y=!0),ne.add(b,h),h.B=0}}function PH(h,b){return M_(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=b.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=zs(f(h.Ga,h,b),uI(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const M=new Xs(this,this.j,h);let G=this.o;if(this.S&&(G?(G=_(G),P(G,this.S)):G=this.S),this.m!==null||this.O||(M.H=G,G=null),this.P)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var U=this.i[E];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(b+=U,4096<b){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=aI(this,M,b),E=Wi(this.I),lt(E,"RID",h),lt(E,"CVER",22),this.D&&lt(E,"X-HTTP-Session-Id",this.D),Yu(this,E),G&&(this.O?b="headers="+encodeURIComponent(String(q_(G)))+"&"+b:this.m&&Kv(E,this.m,G)),Vv(this.h,M),this.Ua&&lt(E,"TYPE","init"),this.P?(lt(E,"$req",b),lt(E,"SID","null"),M.T=!0,Rv(M,E,null)):Rv(M,E,b),this.G=2}}else this.G==3&&(h?sI(this,h):this.i.length==0||R_(this.h)||sI(this))};function sI(h,b){var E;b?E=b.l:E=h.U++;const U=Wi(h.I);lt(U,"SID",h.K),lt(U,"RID",E),lt(U,"AID",h.T),Yu(h,U),h.m&&h.o&&Kv(U,h.m,h.o),E=new Xs(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),b&&(h.i=b.D.concat(h.i)),b=aI(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Vv(h.h,E),Rv(E,U,b)}function Yu(h,b){h.H&&F(h.H,function(E,U){lt(b,U,E)}),h.l&&V_({},function(E,U){lt(b,U,E)})}function aI(h,b,E){E=Math.min(h.i.length,E);var U=h.l?f(h.l.Na,h.l,h):null;e:{var M=h.i;let G=-1;for(;;){const ie=["count="+E];G==-1?0<E?(G=M[0].g,ie.push("ofs="+G)):G=0:ie.push("ofs="+G);let rt=!0;for(let dr=0;dr<E;dr++){let Ve=M[dr].g;const Er=M[dr].map;if(Ve-=G,0>Ve)G=Math.max(0,M[dr].g-100),rt=!1;else try{SH(Er,ie,"req"+Ve+"_")}catch{U&&U(Er)}}if(rt){U=ie.join("&");break e}}}return h=h.i.splice(0,E),b.D=h,U}function oI(h){if(!h.g&&!h.u){h.Y=1;var b=h.Fa;ye||ce(),Y||(ye(),Y=!0),ne.add(b,h),h.v=0}}function Gv(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=zs(f(h.Fa,h),uI(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,AI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=zs(f(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),rh(this),AI(this))};function Wv(h){h.A!=null&&(o.clearTimeout(h.A),h.A=null)}function AI(h){h.g=new Xs(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var b=Wi(h.qa);lt(b,"RID","rpc"),lt(b,"SID",h.K),lt(b,"AID",h.T),lt(b,"CI",h.F?"0":"1"),!h.F&&h.ja&&lt(b,"TO",h.ja),lt(b,"TYPE","xmlhttp"),Yu(h,b),h.m&&h.o&&Kv(b,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Jf(Wi(b)),E.m=null,E.P=!0,k_(E,h)}t.Za=function(){this.C!=null&&(this.C=null,rh(this),Gv(this),kt(19))};function ih(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function lI(h,b){var E=null;if(h.g==b){ih(h),Wv(h),h.g=null;var U=2}else if(Hv(h.h,b))E=b.D,L_(h.h,b),U=1;else return;if(h.G!=0){if(b.o)if(U==1){E=b.m?b.m.length:0,b=Date.now()-b.F;var M=h.B;U=Rr(),ur(U,new un(U,E)),nh(h)}else oI(h);else if(M=b.s,M==3||M==0&&0<b.X||!(U==1&&PH(h,b)||U==2&&Gv(h)))switch(E&&0<E.length&&(b=h.h,b.i=b.i.concat(E)),M){case 1:bo(h,5);break;case 4:bo(h,10);break;case 3:bo(h,6);break;default:bo(h,2)}}}function uI(h,b){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*b}function bo(h,b){if(h.j.info("Error code "+b),b==2){var E=f(h.fb,h),U=h.Xa;const M=!U;U=new xo(U||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Xf(U,"https"),Jf(U),M?EH(U.toString(),E):_H(U.toString(),E)}else kt(2);h.G=0,h.l&&h.l.sa(b),cI(h),iI(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function cI(h){if(h.G=0,h.ka=[],h.l){const b=H_(h.h);(b.length!=0||h.i.length!=0)&&(v(h.ka,b),v(h.ka,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.ra()}}function dI(h,b,E){var U=E instanceof xo?Wi(E):new xo(E);if(U.g!="")b&&(U.g=b+"."+U.g),qf(U,U.s);else{var M=o.location;U=M.protocol,b=b?b+"."+M.hostname:M.hostname,M=+M.port;var G=new xo(null);U&&Xf(G,U),b&&(G.g=b),M&&qf(G,M),E&&(G.l=E),U=G}return E=h.D,b=h.ya,E&&b&&lt(U,E,b),lt(U,"VER",h.la),Yu(h,U),U}function fI(h,b,E){if(b&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Ca&&!h.pa?new Ft(new Zf({eb:E})):new Ft(h.pa),b.Ha(h.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hI(){}t=hI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function sh(){}sh.prototype.g=function(h,b){return new cn(h,b)};function cn(h,b){rr.call(this),this.g=new nI(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(h?h["X-WebChannel-Client-Profile"]=b.va:h={"X-WebChannel-Client-Profile":b.va}),this.g.S=h,(h=b&&b.Sb)&&!w(h)&&(this.g.m=h),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!w(b)&&(this.g.D=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new jA(this)}m(cn,rr),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){$v(this.g)},cn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=X(h),h=E);b.i.push(new gH(b.Ya++,h)),b.G==3&&nh(b)},cn.prototype.N=function(){this.g.l=null,delete this.j,$v(this.g),delete this.g,cn.aa.N.call(this)};function gI(h){Qe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const E in b){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}m(gI,Qe);function mI(){Je.call(this),this.status=1}m(mI,Je);function jA(h){this.g=h}m(jA,hI),jA.prototype.ua=function(){ur(this.g,"a")},jA.prototype.ta=function(h){ur(this.g,new gI(h))},jA.prototype.sa=function(h){ur(this.g,new mI)},jA.prototype.ra=function(){ur(this.g,"b")},sh.prototype.createWebChannel=sh.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Zk=function(){return new sh},Jk=function(){return Rr()},qk=cr,Fx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wf.NO_ERROR=0,Wf.TIMEOUT=8,Wf.HTTP_ERROR=6,Sg=Wf,P_.COMPLETE="complete",Xk=P_,We.EventType=Te,Te.OPEN="a",Te.CLOSE="b",Te.ERROR="c",Te.MESSAGE="d",rr.prototype.listen=rr.prototype.K,Sc=We,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Yk=Ft}).apply(typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{});const WS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=new mC("@firebase/firestore");function el(){return uA.logLevel}function ee(t,...e){if(uA.logLevel<=je.DEBUG){const r=e.map(yC);uA.debug(`Firestore (${bu}): ${t}`,...r)}}function Hr(t,...e){if(uA.logLevel<=je.ERROR){const r=e.map(yC);uA.error(`Firestore (${bu}): ${t}`,...r)}}function Va(t,...e){if(uA.logLevel<=je.WARN){const r=e.map(yC);uA.warn(`Firestore (${bu}): ${t}`,...r)}}function yC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${bu}) INTERNAL ASSERTION FAILED: `+t;throw Hr(e),new Error(e)}function xe(t,e){t||pe()}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ls{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(pr.UNAUTHENTICATED))}shutdown(){}}class $8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class G8{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){xe(this.o===void 0);let n=this.i;const i=A=>this.i!==n?(n=this.i,r(A)):Promise.resolve();let s=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Di,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const A=s;e.enqueueRetryable(async()=>{await A.promise,await i(this.currentUser)})},o=A=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(A=>o(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?o(A):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Di)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(xe(typeof n.accessToken=="string"),new eO(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new pr(e)}}class W8{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class z8{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new W8(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Y8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){xe(this.o===void 0);const n=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(xe(typeof r.token=="string"),this.R=r.token,new Y8(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=q8(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function Ne(t,e){return t<e?-1:t>e?1:0}function Wl(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}function rO(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new fe(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new fe(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new fe(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new xt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Be(e)}static min(){return new Be(new xt(0,0))}static max(){return new Be(new xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,r,n){r===void 0?r=0:r>e.length&&pe(),n===void 0?n=e.length-r:n>e.length-r&&pe(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Nd.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Nd?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Xe extends Nd{construct(e,r,n){return new Xe(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new fe(z.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Xe(r)}static emptyPath(){return new Xe([])}}const J8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Nd{construct(e,r,n){return new vt(e,r,n)}static isValidIdentifier(e){return J8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new fe(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new fe(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const A=e[i+1];if(A!=="\\"&&A!=="."&&A!=="`")throw new fe(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=A,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new fe(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(r)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Xe.fromString(e))}static fromName(e){return new oe(Xe.fromString(e).popFirst(5))}static empty(){return new oe(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Xe.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,r,n,i){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=i}}function Ux(t){return t.fields.find(e=>e.kind===2)}function So(t){return t.fields.filter(e=>e.kind!==2)}bm.UNKNOWN_ID=-1;class Tg{constructor(e,r){this.fieldPath=e,this.kind=r}}class Qd{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Qd(0,_n.min())}}function Z8(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Be.fromTimestamp(n===1e9?new xt(r+1,0):new xt(r,n));return new _n(i,oe.empty(),e)}function nO(t){return new _n(t.readTime,t.key,-1)}class _n{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new _n(Be.min(),oe.empty(),-1)}static max(){return new _n(Be.max(),oe.empty(),-1)}}function xC(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=oe.comparator(t.documentKey,e.documentKey),r!==0?r:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==iO)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new L((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof L?r:L.resolve(r)}catch(r){return L.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):L.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):L.reject(r)}static resolve(e){return new L((r,n)=>{r(e)})}static reject(e){return new L((r,n)=>{n(e)})}static waitFor(e){return new L((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},A=>n(A))}),a=!0,s===i&&r()})}static or(e){let r=L.resolve(!1);for(const n of e)r=r.next(i=>i?L.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new L((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let A=0;A<s;A++){const l=A;r(e[l]).next(u=>{a[l]=u,++o,o===s&&n(a)},u=>i(u))}})}static doWhile(e,r){return new L((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Di,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Xc(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{const i=bC(n.target.error);this.V.reject(new Xc(e,i))}}static open(e,r,n,i){try{return new i0(r,e.transaction(i,n))}catch(s){throw new Xc(r,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ee("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new t9(r)}}class Qa{constructor(e,r,n){this.name=e,this.version=r,this.p=n,Qa.S(Xt())===12.2&&Hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ee("SimpleDb","Removing database:",e),Po(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Lk())return!1;if(Qa.v())return!0;const e=Xt(),r=Qa.S(e),n=0<r&&r<10,i=aO(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(ee("SimpleDb","Opening database:",this.name),this.db=await new Promise((r,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;r(a)},i.onblocked=()=>{n(new Xc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?n(new fe(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?n(new fe(z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):n(new Xc(e,a))},i.onupgradeneeded=s=>{ee("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.O(a,i.transaction,s.oldVersion,this.version).next(()=>{ee("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=r=>this.N(r)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,i){const s=r==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const o=i0.open(this.db,e,s?"readonly":"readwrite",n),A=i(o).next(l=>(o.g(),l)).catch(l=>(o.abort(l),L.reject(l))).toPromise();return A.catch(()=>{}),await o.m,A}catch(o){const A=o,l=A.name!=="FirebaseError"&&a<3;if(ee("SimpleDb","Transaction failed with error:",A.message,"Retrying:",l),this.close(),!l)return Promise.reject(A)}}}close(){this.db&&this.db.close(),this.db=void 0}}function aO(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class e9{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Po(this.B.delete())}}class Xc extends fe{constructor(e,r){super(z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function ao(t){return t.name==="IndexedDbTransactionError"}class t9{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(ee("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(ee("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Po(n)}add(e){return ee("SimpleDb","ADD",this.store.name,e,e),Po(this.store.add(e))}get(e){return Po(this.store.get(e)).next(r=>(r===void 0&&(r=null),ee("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return ee("SimpleDb","DELETE",this.store.name,e),Po(this.store.delete(e))}count(){return ee("SimpleDb","COUNT",this.store.name),Po(this.store.count())}U(e,r){const n=this.options(e,r),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(n.range);return new L((a,o)=>{s.onerror=A=>{o(A.target.error)},s.onsuccess=A=>{a(A.target.result)}})}{const s=this.cursor(n),a=[];return this.W(s,(o,A)=>{a.push(A)}).next(()=>a)}}G(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new L((i,s)=>{n.onerror=a=>{s(a.target.error)},n.onsuccess=a=>{i(a.target.result)}})}j(e,r){ee("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.H=!1;const i=this.cursor(n);return this.W(i,(s,a,o)=>o.delete())}J(e,r){let n;r?n=e:(n={},r=e);const i=this.cursor(n);return this.W(i,r)}Y(e){const r=this.cursor({});return new L((n,i)=>{r.onerror=s=>{const a=bC(s.target.error);i(a)},r.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(o=>{o?a.continue():n()}):n()}})}W(e,r){const n=[];return new L((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const A=new e9(o),l=r(o.primaryKey,o.value,A);if(l instanceof L){const u=l.catch(c=>(A.done(),L.reject(c)));n.push(u)}A.isDone?i():A.K===null?o.continue():o.continue(A.K)}}).next(()=>L.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Po(t){return new L((e,r)=>{t.onsuccess=n=>{const i=n.target.result;e(i)},t.onerror=n=>{const i=bC(n.target.error);r(i)}})}let zS=!1;function bC(t){const e=Qa.S(Xt());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zS||(zS=!0,setTimeout(()=>{throw n},0)),n}}return t}class r9{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){ee("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{ee("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(r){ao(r)?ee("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):await CA(r)}await this.X(6e4)})}}class n9{constructor(e,r){this.localStore=e,this.persistence=r}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.te(r,e))}te(e,r){const n=new Set;let i=r,s=!0;return L.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!n.has(a))return ee("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next(o=>{i-=o,n.add(a)});s=!1})).next(()=>r-i)}ne(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(i=>this.localStore.localDocuments.getNextDocuments(e,r,i,n).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.re(i,s)).next(o=>(ee("IndexBackfiller",`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,r,o))).next(()=>a.size)}))}re(e,r){let n=e;return r.changes.forEach((i,s)=>{const a=nO(s);xC(a,n)>0&&(n=a)}),new _n(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Gn.oe=-1;function s0(t){return t==null}function kd(t){return t===0&&1/t==-1/0}function i9(t){return typeof t=="number"&&Number.isInteger(t)&&!kd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=YS(e)),e=s9(t.get(r),e);return YS(e)}function s9(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case"":r+="";break;default:r+=s}}return r}function YS(t){return t+""}function Pi(t){const e=t.length;if(xe(e>=2),e===2)return xe(t.charAt(0)===""&&t.charAt(1)===""),Xe.emptyPath();const r=e-2,n=[];let i="";for(let s=0;s<e;){const a=t.indexOf("",s);switch((a<0||a>r)&&pe(),t.charAt(a+1)){case"":const o=t.substring(s,a);let A;i.length===0?A=o:(i+=o,A=i,i=""),n.push(A);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:pe()}s=a+2}return new Xe(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e){return[t,$r(e)]}function oO(t,e,r){return[t,$r(e),r]}const a9={},o9=["prefixPath","collectionGroup","readTime","documentId"],A9=["prefixPath","collectionGroup","documentId"],l9=["collectionGroup","readTime","prefixPath","documentId"],u9=["canonicalId","targetId"],c9=["targetId","path"],d9=["path","targetId"],f9=["collectionId","parent"],h9=["indexId","uid"],g9=["uid","sequenceNumber"],m9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],p9=["indexId","uid","orderedDocumentKey"],v9=["userId","collectionPath","documentId"],y9=["userId","collectionPath","largestBatchId"],w9=["userId","collectionGroup","largestBatchId"],AO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],x9=[...AO,"documentOverlays"],lO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],uO=lO,BC=[...uO,"indexConfiguration","indexState","indexEntries"],b9=BC,B9=[...BC,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px extends sO{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function qt(t,e){const r=Fe(t);return Qa.F(r._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Bu(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function cO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,r){this.comparator=e,this.root=r||vr.EMPTY}insert(e,r){return new bt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,vr.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eh(this.root,e,this.comparator,!0)}}class Eh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vr{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??vr.RED,this.left=i??vr.EMPTY,this.right=s??vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new vr(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return vr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}vr.EMPTY=null,vr.RED=!0,vr.BLACK=!1;vr.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,r,n,i,s){return this}insert(e,r,n){return new vr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new JS(this.data.getIterator())}getIteratorFrom(e){return new JS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof tt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new tt(this.comparator);return r.data=e,r}}class JS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function LA(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new Wn([])}unionWith(e){let r=new tt(vt.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Wn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Wl(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dO("Invalid base64 string: "+s):s}}(e);return new Rt(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Rt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const C9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(t){if(xe(!!t),typeof t=="string"){let e=0;const r=C9.exec(t);if(xe(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ka(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function EC(t){const e=t.mapValue.fields.__previous_value__;return CC(e)?EC(e):e}function Od(t){const e=Us(t.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,r,n,i,s,a,o,A,l){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=A,this.useFetchStreams=l}}class $a{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new $a("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $a&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ug={nullValue:"NULL_VALUE"};function cA(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?CC(t)?4:fO(t)?9007199254740991:a0(t)?10:11:pe()}function Li(t,e){if(t===e)return!0;const r=cA(t);if(r!==cA(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Od(t).isEqual(Od(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Us(i.timestampValue),o=Us(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ka(i.bytesValue).isEqual(Ka(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return mt(i.geoPointValue.latitude)===mt(s.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return mt(i.integerValue)===mt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=mt(i.doubleValue),o=mt(s.doubleValue);return a===o?kd(a)===kd(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Wl(t.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(qS(a)!==qS(o))return!1;for(const A in a)if(a.hasOwnProperty(A)&&(o[A]===void 0||!Li(a[A],o[A])))return!1;return!0}(t,e);default:return pe()}}function Dd(t,e){return(t.values||[]).find(r=>Li(r,e))!==void 0}function Ga(t,e){if(t===e)return 0;const r=cA(t),n=cA(e);if(r!==n)return Ne(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=mt(s.integerValue||s.doubleValue),A=mt(a.integerValue||a.doubleValue);return o<A?-1:o>A?1:o===A?0:isNaN(o)?isNaN(A)?0:-1:1}(t,e);case 3:return ZS(t.timestampValue,e.timestampValue);case 4:return ZS(Od(t),Od(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Ka(s),A=Ka(a);return o.compareTo(A)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),A=a.split("/");for(let l=0;l<o.length&&l<A.length;l++){const u=Ne(o[l],A[l]);if(u!==0)return u}return Ne(o.length,A.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Ne(mt(s.latitude),mt(a.latitude));return o!==0?o:Ne(mt(s.longitude),mt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return eT(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,A,l,u;const c=s.fields||{},f=a.fields||{},g=(o=c.value)===null||o===void 0?void 0:o.arrayValue,m=(A=f.value)===null||A===void 0?void 0:A.arrayValue,p=Ne(((l=g==null?void 0:g.values)===null||l===void 0?void 0:l.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return p!==0?p:eT(g,m)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===va.mapValue&&a===va.mapValue)return 0;if(s===va.mapValue)return 1;if(a===va.mapValue)return-1;const o=s.fields||{},A=Object.keys(o),l=a.fields||{},u=Object.keys(l);A.sort(),u.sort();for(let c=0;c<A.length&&c<u.length;++c){const f=Ne(A[c],u[c]);if(f!==0)return f;const g=Ga(o[A[c]],l[u[c]]);if(g!==0)return g}return Ne(A.length,u.length)}(t.mapValue,e.mapValue);default:throw pe()}}function ZS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const r=Us(t),n=Us(e),i=Ne(r.seconds,n.seconds);return i!==0?i:Ne(r.nanos,n.nanos)}function eT(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Ga(r[i],n[i]);if(s)return s}return Ne(r.length,n.length)}function zl(t){return Nx(t)}function Nx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Us(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Ka(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return oe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=Nx(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${Nx(r.fields[a])}`;return i+"}"}(t.mapValue):pe()}function _C(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qx(t){return!!t&&"integerValue"in t}function jd(t){return!!t&&"arrayValue"in t}function tT(t){return!!t&&"nullValue"in t}function rT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pg(t){return!!t&&"mapValue"in t}function a0(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function qc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bu(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=qc(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=qc(t.arrayValue.values[r]);return e}return Object.assign({},t)}function fO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const hO={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function _9(t){return"nullValue"in t?Ug:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?_C($a.empty(),oe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?a0(t)?hO:{mapValue:{}}:pe()}function I9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?_C($a.empty(),oe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?hO:"mapValue"in t?a0(t)?{mapValue:{}}:va:pe()}function nT(t,e){const r=Ga(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function iT(t,e){const r=Ga(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Pg(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=qc(r)}setAll(e){let r=vt.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const A=this.getFieldsMap(r);this.applyChanges(A,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=qc(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());Pg(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Pg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Bu(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new tn(qc(this.value))}}function gO(t){const e=[];return Bu(t.fields,(r,n)=>{const i=new vt([r]);if(Pg(n)){const s=gO(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Qt(e,0,Be.min(),Be.min(),Be.min(),tn.empty(),0)}static newFoundDocument(e,r,n,i){return new Qt(e,1,r,Be.min(),n,i,0)}static newNoDocument(e,r){return new Qt(e,2,r,Be.min(),Be.min(),tn.empty(),0)}static newUnknownDocument(e,r){return new Qt(e,3,r,Be.min(),Be.min(),tn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,r){this.position=e,this.inclusive=r}}function sT(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=oe.comparator(oe.fromName(a.referenceValue),r.key):n=Ga(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function aT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Li(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,r="asc"){this.field=e,this.dir=r}}function S9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{}class Re extends mO{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new T9(e,r,n):r==="array-contains"?new P9(e,n):r==="in"?new bO(e,n):r==="not-in"?new N9(e,n):r==="array-contains-any"?new Q9(e,n):new Re(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new F9(e,n):new U9(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ga(r,this.value)):r!==null&&cA(this.value)===cA(r)&&this.matchesComparison(Ga(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class et extends mO{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new et(e,r)}matches(e){return Xl(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xl(t){return t.op==="and"}function kx(t){return t.op==="or"}function IC(t){return pO(t)&&Xl(t)}function pO(t){for(const e of t.filters)if(e instanceof et)return!1;return!0}function Ox(t){if(t instanceof Re)return t.field.canonicalString()+t.op.toString()+zl(t.value);if(IC(t))return t.filters.map(e=>Ox(e)).join(",");{const e=t.filters.map(r=>Ox(r)).join(",");return`${t.op}(${e})`}}function vO(t,e){return t instanceof Re?function(n,i){return i instanceof Re&&n.op===i.op&&n.field.isEqual(i.field)&&Li(n.value,i.value)}(t,e):t instanceof et?function(n,i){return i instanceof et&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&vO(a,i.filters[o]),!0):!1}(t,e):void pe()}function yO(t,e){const r=t.filters.concat(e);return et.create(r,t.op)}function wO(t){return t instanceof Re?function(r){return`${r.field.canonicalString()} ${r.op} ${zl(r.value)}`}(t):t instanceof et?function(r){return r.op.toString()+" {"+r.getFilters().map(wO).join(" ,")+"}"}(t):"Filter"}class T9 extends Re{constructor(e,r,n){super(e,r,n),this.key=oe.fromName(n.referenceValue)}matches(e){const r=oe.comparator(e.key,this.key);return this.matchesComparison(r)}}class F9 extends Re{constructor(e,r){super(e,"in",r),this.keys=xO("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class U9 extends Re{constructor(e,r){super(e,"not-in",r),this.keys=xO("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function xO(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>oe.fromName(n.referenceValue))}class P9 extends Re{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return jd(r)&&Dd(r.arrayValue,this.value)}}class bO extends Re{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Dd(this.value.arrayValue,r)}}class N9 extends Re{constructor(e,r){super(e,"not-in",r)}matches(e){if(Dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Dd(this.value.arrayValue,r)}}class Q9 extends Re{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!jd(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Dd(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function Dx(t,e=null,r=[],n=[],i=null,s=null,a=null){return new k9(t,e,r,n,i,s,a)}function dA(t){const e=Fe(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Ox(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),s0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>zl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>zl(n)).join(",")),e.ue=r}return e.ue}function df(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!S9(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!vO(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aT(t.startAt,e.startAt)&&aT(t.endAt,e.endAt)}function Cm(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Em(t,e){return t.filters.filter(r=>r instanceof Re&&r.field.isEqual(e))}function oT(t,e,r){let n=Ug,i=!0;for(const s of Em(t,e)){let a=Ug,o=!0;switch(s.op){case"<":case"<=":a=_9(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=Ug}nT({value:n,inclusive:i},{value:a,inclusive:o})<0&&(n=a,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=r.position[s];nT({value:n,inclusive:i},{value:a,inclusive:r.inclusive})<0&&(n=a,i=r.inclusive);break}}return{value:n,inclusive:i}}function AT(t,e,r){let n=va,i=!0;for(const s of Em(t,e)){let a=va,o=!0;switch(s.op){case">=":case">":a=I9(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=va}iT({value:n,inclusive:i},{value:a,inclusive:o})>0&&(n=a,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=r.position[s];iT({value:n,inclusive:i},{value:a,inclusive:r.inclusive})>0&&(n=a,i=r.inclusive);break}}return{value:n,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,A=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=A,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function O9(t,e,r,n,i,s,a,o){return new o0(t,e,r,n,i,s,a,o)}function ff(t){return new o0(t)}function lT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function D9(t){return t.collectionGroup!==null}function Jc(t){const e=Fe(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new tt(vt.comparator);return a.filters.forEach(A=>{A.getFlattenedFilters().forEach(l=>{l.isInequality()&&(o=o.add(l.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Bm(s,n))}),r.has(vt.keyField().canonicalString())||e.ce.push(new Bm(vt.keyField(),n))}return e.ce}function Zn(t){const e=Fe(t);return e.le||(e.le=j9(e,Jc(t))),e.le}function j9(t,e){if(t.limitType==="F")return Dx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Bm(i.field,s)});const r=t.endAt?new Yl(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Yl(t.startAt.position,t.startAt.inclusive):null;return Dx(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function _m(t,e,r){return new o0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function A0(t,e){return df(Zn(t),Zn(e))&&t.limitType===e.limitType}function BO(t){return`${dA(Zn(t))}|lt:${t.limitType}`}function tl(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>wO(i)).join(", ")}]`),s0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>zl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>zl(i)).join(",")),`Target(${n})`}(Zn(t))}; limitType=${t.limitType})`}function hf(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):oe.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of Jc(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,A){const l=sT(a,o,A);return a.inclusive?l<=0:l<0}(n.startAt,Jc(n),i)||n.endAt&&!function(a,o,A){const l=sT(a,o,A);return a.inclusive?l>=0:l>0}(n.endAt,Jc(n),i))}(t,e)}function R9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CO(t){return(e,r)=>{let n=!1;for(const i of Jc(t)){const s=M9(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function M9(t,e,r){const n=t.field.isKeyField()?oe.comparator(e.key,r.key):function(s,a,o){const A=a.data.field(s),l=o.data.field(s);return A!==null&&l!==null?Ga(A,l):pe()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bu(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return cO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=new bt(oe.comparator);function xn(){return L9}const EO=new bt(oe.comparator);function Tc(...t){let e=EO;for(const r of t)e=e.insert(r.key,r);return e}function _O(t){let e=EO;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Ni(){return Zc()}function IO(){return Zc()}function Zc(){return new oo(t=>t.toString(),(t,e)=>t.isEqual(e))}const H9=new bt(oe.comparator),V9=new tt(oe.comparator);function ke(...t){let e=V9;for(const r of t)e=e.add(r);return e}const K9=new tt(Ne);function $9(){return K9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kd(e)?"-0":e}}function SO(t){return{integerValue:""+t}}function G9(t,e){return i9(e)?SO(e):SC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this._=void 0}}function W9(t,e,r){return t instanceof ql?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&CC(s)&&(s=EC(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(r,e):t instanceof Jl?FO(t,e):t instanceof Zl?UO(t,e):function(i,s){const a=TO(i,s),o=uT(a)+uT(i.Pe);return Qx(a)&&Qx(i.Pe)?SO(o):SC(i.serializer,o)}(t,e)}function z9(t,e,r){return t instanceof Jl?FO(t,e):t instanceof Zl?UO(t,e):r}function TO(t,e){return t instanceof Rd?function(n){return Qx(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class ql extends l0{}class Jl extends l0{constructor(e){super(),this.elements=e}}function FO(t,e){const r=PO(e);for(const n of t.elements)r.some(i=>Li(i,n))||r.push(n);return{arrayValue:{values:r}}}class Zl extends l0{constructor(e){super(),this.elements=e}}function UO(t,e){let r=PO(e);for(const n of t.elements)r=r.filter(i=>!Li(i,n));return{arrayValue:{values:r}}}class Rd extends l0{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function uT(t){return mt(t.integerValue||t.doubleValue)}function PO(t){return jd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,r){this.field=e,this.transform=r}}function Y9(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Jl&&i instanceof Jl||n instanceof Zl&&i instanceof Zl?Wl(n.elements,i.elements,Li):n instanceof Rd&&i instanceof Rd?Li(n.Pe,i.Pe):n instanceof ql&&i instanceof ql}(t.transform,e.transform)}class X9{constructor(e,r){this.version=e,this.transformResults=r}}class bn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ng(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class u0{}function QO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new TC(t.key,bn.none()):new Cu(t.key,t.data,bn.none());{const r=t.data,n=tn.empty();let i=new tt(vt.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Ao(t.key,n,new Wn(i.toArray()),bn.none())}}function q9(t,e,r){t instanceof Cu?function(i,s,a){const o=i.value.clone(),A=dT(i.fieldTransforms,s,a.transformResults);o.setAll(A),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof Ao?function(i,s,a){if(!Ng(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=dT(i.fieldTransforms,s,a.transformResults),A=s.data;A.setAll(kO(i)),A.setAll(o),s.convertToFoundDocument(a.version,A).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function ed(t,e,r,n){return t instanceof Cu?function(s,a,o,A){if(!Ng(s.precondition,a))return o;const l=s.value.clone(),u=fT(s.fieldTransforms,A,a);return l.setAll(u),a.convertToFoundDocument(a.version,l).setHasLocalMutations(),null}(t,e,r,n):t instanceof Ao?function(s,a,o,A){if(!Ng(s.precondition,a))return o;const l=fT(s.fieldTransforms,A,a),u=a.data;return u.setAll(kO(s)),u.setAll(l),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(c=>c.field))}(t,e,r,n):function(s,a,o){return Ng(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function J9(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=TO(n.transform,i||null);s!=null&&(r===null&&(r=tn.empty()),r.set(n.field,s))}return r||null}function cT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Wl(n,i,(s,a)=>Y9(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cu extends u0{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ao extends u0{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function kO(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function dT(t,e,r){const n=new Map;xe(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,z9(a,o,r[i]))}return n}function fT(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,W9(s,a,e))}return n}class TC extends u0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OO extends u0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&q9(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=ed(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=ed(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=IO();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const A=QO(a,o);A!==null&&n.set(i.key,A),a.isValidDocument()||a.convertToNoDocument(Be.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ke())}isEqual(e){return this.batchId===e.batchId&&Wl(this.mutations,e.mutations,(r,n)=>cT(r,n))&&Wl(this.baseMutations,e.baseMutations,(r,n)=>cT(r,n))}}class UC{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){xe(e.mutations.length===n.length);let i=function(){return H9}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new UC(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Me;function eG(t){switch(t){default:return pe();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function DO(t){if(t===void 0)return Hr("GRPC error has no .code"),z.UNKNOWN;switch(t){case Lt.OK:return z.OK;case Lt.CANCELLED:return z.CANCELLED;case Lt.UNKNOWN:return z.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return z.INTERNAL;case Lt.UNAVAILABLE:return z.UNAVAILABLE;case Lt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Lt.NOT_FOUND:return z.NOT_FOUND;case Lt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Lt.ABORTED:return z.ABORTED;case Lt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Lt.DATA_LOSS:return z.DATA_LOSS;default:return pe()}}(Me=Lt||(Lt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG=new Xo([4294967295,4294967295],0);function hT(t){const e=tG().encode(t),r=new zk;return r.update(e),new Uint8Array(r.digest())}function gT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xo([r,n],0),new Xo([i,s],0)]}class NC{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Fc(`Invalid padding: ${r}`);if(n<0)throw new Fc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Fc(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Fc(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Xo.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Xo.fromNumber(n)));return i.compare(rG)===1&&(i=new Xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=hT(e),[n,i]=gT(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new NC(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const r=hT(e),[n,i]=gT(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,gf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new c0(Be.min(),i,new bt(Ne),xn(),ke())}}class gf{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new gf(n,r,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class jO{constructor(e,r){this.targetId=e,this.me=r}}class RO{constructor(e,r,n=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class mT{constructor(){this.fe=0,this.ge=vT(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),r=ke(),n=ke();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:pe()}}),new gf(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=vT()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class nG{constructor(e){this.Le=e,this.Be=new Map,this.ke=xn(),this.qe=pT(),this.Qe=new bt(Ne)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:pe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(Cm(s))if(n===0){const a=new oe(s.path);this.Ue(r,a,Qt.newNoDocument(a,Be.min()))}else xe(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),A=o?this.Xe(o,e,a):1;if(A!==0){this.je(r);const l=A===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,l)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=Ka(n).toUint8Array()}catch(A){if(A instanceof dO)return Va("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw A}try{o=new NC(a,i,s)}catch(A){return Va(A instanceof Fc?"BloomFilter error: ":"Applying bloom filter failed: ",A),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&Cm(o.target)){const A=new oe(o.target.path);this.ke.get(A)!==null||this.it(a,A)||this.Ue(a,A,Qt.newNoDocument(A,e))}s.be&&(r.set(a,s.ve()),s.Ce())}});let n=ke();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(A=>{const l=this.Je(A);return!l||l.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new c0(e,r,this.Qe,this.ke,n);return this.ke=xn(),this.qe=pT(),this.Qe=new bt(Ne),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new mT,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new tt(Ne),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||ee("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new mT),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function pT(){return new bt(oe.comparator)}function vT(){return new bt(oe.comparator)}const iG={asc:"ASCENDING",desc:"DESCENDING"},sG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aG={and:"AND",or:"OR"};class oG{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function jx(t,e){return t.useProto3Json||s0(e)?e:{value:e}}function eu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AG(t,e){return eu(t,e.toTimestamp())}function Gr(t){return xe(!!t),Be.fromTimestamp(function(r){const n=Us(r);return new xt(n.seconds,n.nanos)}(t))}function QC(t,e){return Rx(t,e).canonicalString()}function Rx(t,e){const r=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function LO(t){const e=Xe.fromString(t);return xe(XO(e)),e}function Im(t,e){return QC(t.databaseId,e.path)}function qo(t,e){const r=LO(e);if(r.get(1)!==t.databaseId.projectId)throw new fe(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new fe(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new oe(KO(r))}function HO(t,e){return QC(t.databaseId,e)}function VO(t){const e=LO(t);return e.length===4?Xe.emptyPath():KO(e)}function Mx(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KO(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yT(t,e,r){return{name:Im(t,e),fields:r.value.mapValue.fields}}function lG(t,e,r){const n=qo(t,e.name),i=Gr(e.updateTime),s=e.createTime?Gr(e.createTime):Be.min(),a=new tn({mapValue:{fields:e.fields}}),o=Qt.newFoundDocument(n,i,s,a);return r&&o.setHasCommittedMutations(),r?o.setHasCommittedMutations():o}function uG(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(xe(u===void 0||typeof u=="string"),Rt.fromBase64String(u||"")):(xe(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Rt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(l){const u=l.code===void 0?z.UNKNOWN:DO(l.code);return new fe(u,l.message||"")}(a);r=new RO(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=qo(t,n.document.name),s=Gr(n.document.updateTime),a=n.document.createTime?Gr(n.document.createTime):Be.min(),o=new tn({mapValue:{fields:n.document.fields}}),A=Qt.newFoundDocument(i,s,a,o),l=n.targetIds||[],u=n.removedTargetIds||[];r=new Qg(l,u,A.key,A)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=qo(t,n.document),s=n.readTime?Gr(n.readTime):Be.min(),a=Qt.newNoDocument(i,s),o=n.removedTargetIds||[];r=new Qg([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=qo(t,n.document),s=n.removedTargetIds||[];r=new Qg([],s,i,null)}else{if(!("filter"in e))return pe();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new Z9(i,s),o=n.targetId;r=new jO(o,a)}}return r}function Sm(t,e){let r;if(e instanceof Cu)r={update:yT(t,e.key,e.value)};else if(e instanceof TC)r={delete:Im(t,e.key)};else if(e instanceof Ao)r={update:yT(t,e.key,e.data),updateMask:mG(e.fieldMask)};else{if(!(e instanceof OO))return pe();r={verify:Im(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof ql)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Jl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Zl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Rd)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw pe()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:AG(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:pe()}(t,e.precondition)),r}function Lx(t,e){const r=e.currentDocument?function(s){return s.updateTime!==void 0?bn.updateTime(Gr(s.updateTime)):s.exists!==void 0?bn.exists(s.exists):bn.none()}(e.currentDocument):bn.none(),n=e.updateTransforms?e.updateTransforms.map(i=>function(a,o){let A=null;if("setToServerValue"in o)xe(o.setToServerValue==="REQUEST_TIME"),A=new ql;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];A=new Jl(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];A=new Zl(u)}else"increment"in o?A=new Rd(a,o.increment):pe();const l=vt.fromServerFormat(o.fieldPath);return new NO(l,A)}(t,i)):[];if(e.update){e.update.name;const i=qo(t,e.update.name),s=new tn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(A){const l=A.fieldPaths||[];return new Wn(l.map(u=>vt.fromServerFormat(u)))}(e.updateMask);return new Ao(i,s,a,r,n)}return new Cu(i,s,r,n)}if(e.delete){const i=qo(t,e.delete);return new TC(i,r)}if(e.verify){const i=qo(t,e.verify);return new OO(i,r)}return pe()}function cG(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(r=>function(i,s){let a=i.updateTime?Gr(i.updateTime):Gr(s);return a.isEqual(Be.min())&&(a=Gr(s)),new X9(a,i.transformResults||[])}(r,e))):[]}function $O(t,e){return{documents:[HO(t,e.path)]}}function GO(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=HO(t,i);const s=function(l){if(l.length!==0)return YO(et.create(l,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:rl(f.field),direction:fG(f.dir)}}(u))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=jx(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:r,parent:i}}function WO(t){let e=VO(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){xe(n===1);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];r.where&&(s=function(c){const f=zO(c);return f instanceof et&&IC(f)?f.getFilters():[f]}(r.where));let a=[];r.orderBy&&(a=function(c){return c.map(f=>function(m){return new Bm(nl(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(r.orderBy));let o=null;r.limit&&(o=function(c){let f;return f=typeof c=="object"?c.value:c,s0(f)?null:f}(r.limit));let A=null;r.startAt&&(A=function(c){const f=!!c.before,g=c.values||[];return new Yl(g,f)}(r.startAt));let l=null;return r.endAt&&(l=function(c){const f=!c.before,g=c.values||[];return new Yl(g,f)}(r.endAt)),O9(e,i,a,s,o,"F",A,l)}function dG(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function zO(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=nl(r.unaryFilter.field);return Re.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=nl(r.unaryFilter.field);return Re.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=nl(r.unaryFilter.field);return Re.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=nl(r.unaryFilter.field);return Re.create(a,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(r){return Re.create(nl(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return et.create(r.compositeFilter.filters.map(n=>zO(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pe()}}(r.compositeFilter.op))}(t):pe()}function fG(t){return iG[t]}function hG(t){return sG[t]}function gG(t){return aG[t]}function rl(t){return{fieldPath:t.canonicalString()}}function nl(t){return vt.fromServerFormat(t.fieldPath)}function YO(t){return t instanceof Re?function(r){if(r.op==="=="){if(rT(r.value))return{unaryFilter:{field:rl(r.field),op:"IS_NAN"}};if(tT(r.value))return{unaryFilter:{field:rl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(rT(r.value))return{unaryFilter:{field:rl(r.field),op:"IS_NOT_NAN"}};if(tT(r.value))return{unaryFilter:{field:rl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(r.field),op:hG(r.op),value:r.value}}}(t):t instanceof et?function(r){const n=r.getFilters().map(i=>YO(i));return n.length===1?n[0]:{compositeFilter:{op:gG(r.op),filters:n}}}(t):pe()}function mG(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function XO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,r,n,i,s=Be.min(),a=Be.min(),o=Rt.EMPTY_BYTE_STRING,A=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=A}withSequenceNumber(e){return new cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.ct=e}}function pG(t,e){let r;if(e.document)r=lG(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=oe.fromSegments(e.noDocument.path),i=hA(e.noDocument.readTime);r=Qt.newNoDocument(n,i),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return pe();{const n=oe.fromSegments(e.unknownDocument.path),i=hA(e.unknownDocument.version);r=Qt.newUnknownDocument(n,i)}}return e.readTime&&r.setReadTime(function(i){const s=new xt(i[0],i[1]);return Be.fromTimestamp(s)}(e.readTime)),r}function wT(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Tm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(s,a){return{name:Im(s,a.key),fields:a.data.value.mapValue.fields,updateTime:eu(s,a.version.toTimestamp()),createTime:eu(s,a.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:fA(e.version)};else{if(!e.isUnknownDocument())return pe();n.unknownDocument={path:r.path.toArray(),version:fA(e.version)}}return n}function Tm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function fA(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function hA(t){const e=new xt(t.seconds,t.nanoseconds);return Be.fromTimestamp(e)}function No(t,e){const r=(e.baseMutations||[]).map(s=>Lx(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const n=e.mutations.map(s=>Lx(t.ct,s)),i=xt.fromMillis(e.localWriteTimeMs);return new FC(e.batchId,i,r,n)}function Uc(t){const e=hA(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?hA(t.lastLimboFreeSnapshotVersion):Be.min();let n;return n=function(s){return s.documents!==void 0}(t.query)?function(s){return xe(s.documents.length===1),Zn(ff(VO(s.documents[0])))}(t.query):function(s){return Zn(WO(s))}(t.query),new cs(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,Rt.fromBase64String(t.resumeToken))}function JO(t,e){const r=fA(e.snapshotVersion),n=fA(e.lastLimboFreeSnapshotVersion);let i;i=Cm(e.target)?$O(t.ct,e.target):GO(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:dA(e.target),readTime:r,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function ZO(t){const e=WO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_m(e,e.limit,"L"):e}function Iy(t,e){return new PC(e.largestBatchId,Lx(t.ct,e.overlayMutation))}function xT(t,e){const r=e.path.lastSegment();return[t,$r(e.path.popLast()),r]}function bT(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:fA(n.readTime),documentKey:$r(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{getBundleMetadata(e,r){return BT(e).get(r).next(n=>{if(n)return function(s){return{id:s.bundleId,createTime:hA(s.createTime),version:s.version}}(n)})}saveBundleMetadata(e,r){return BT(e).put(function(i){return{bundleId:i.id,createTime:fA(Gr(i.createTime)),version:i.version}}(r))}getNamedQuery(e,r){return CT(e).get(r).next(n=>{if(n)return function(s){return{name:s.name,query:ZO(s.bundledQuery),readTime:hA(s.readTime)}}(n)})}saveNamedQuery(e,r){return CT(e).put(function(i){return{name:i.name,readTime:fA(Gr(i.readTime)),bundledQuery:i.bundledQuery}}(r))}}function BT(t){return qt(t,"bundles")}function CT(t){return qt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){const n=r.uid||"";return new d0(e,n)}getOverlay(e,r){return sc(e).get(xT(this.userId,r)).next(n=>n?Iy(this.serializer,n):null)}getOverlays(e,r){const n=Ni();return L.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){const i=[];return n.forEach((s,a)=>{const o=new PC(r,a);i.push(this.ht(e,o))}),L.waitFor(i)}removeOverlaysForBatchId(e,r,n){const i=new Set;r.forEach(a=>i.add($r(a.getCollectionPath())));const s=[];return i.forEach(a=>{const o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,n+1],!1,!0);s.push(sc(e).j("collectionPathOverlayIndex",o))}),L.waitFor(s)}getOverlaysForCollection(e,r,n){const i=Ni(),s=$r(r),a=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return sc(e).U("collectionPathOverlayIndex",a).next(o=>{for(const A of o){const l=Iy(this.serializer,A);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,r,n,i){const s=Ni();let a;const o=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return sc(e).J({index:"collectionGroupOverlayIndex",range:o},(A,l,u)=>{const c=Iy(this.serializer,l);s.size()<i||c.largestBatchId===a?(s.set(c.getKey(),c),a=c.largestBatchId):u.done()}).next(()=>s)}ht(e,r){return sc(e).put(function(i,s,a){const[o,A,l]=xT(s,a.mutation.key);return{userId:s,collectionPath:A,documentId:l,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Sm(i.ct,a.mutation)}}(this.serializer,this.userId,r))}}function sc(t){return qt(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{Pt(e){return qt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const n=r==null?void 0:r.value;return n?Rt.fromUint8Array(n):Rt.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(mt(e.integerValue));else if("doubleValue"in e){const n=mt(e.doubleValue);isNaN(n)?this.dt(r,13):(this.dt(r,15),kd(n)?r.At(0):r.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(r,20),typeof n=="string"&&(n=Us(n)),r.Rt(`${n.seconds||""}`),r.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Ka(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(r,45),r.At(n.latitude||0),r.At(n.longitude||0)}else"mapValue"in e?fO(e)?this.dt(r,Number.MAX_SAFE_INTEGER):a0(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):pe()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const n=e.fields||{};this.dt(r,55);for(const i of Object.keys(n))this.Vt(i,r),this.Tt(n[i],r)}wt(e,r){var n,i;const s=e.fields||{};this.dt(r,53);const a="value",o=((i=(n=s[a].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.length)||0;this.dt(r,15),r.At(mt(o)),this.Vt(a,r),this.Tt(s[a],r)}bt(e,r){const n=e.values||[];this.dt(r,50);for(const i of n)this.Tt(i,r)}yt(e,r){this.dt(r,37),oe.fromName(e).path.forEach(n=>{this.dt(r,60),this.Dt(n,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}Qo.vt=new Qo;function wG(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function ET(t){const e=64-function(n){let i=0;for(let s=0;s<8;++s){const a=wG(255&n[s]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class xG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ft(n.value),n=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ot(n.value),n=r.next();this.Nt()}Lt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const i=r.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const i=r.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const r=this.qt(e),n=ET(r);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=255&r[i]}Kt(e){const r=this.qt(e),n=ET(r);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=~(255&r[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)}(e),n=(128&r[0])!=0;r[0]^=n?255:128;for(let i=1;i<r.length;++i)r[i]^=n?255:0;return r}Ft(e){const r=255&e;r===0?(this.Ut(0),this.Ut(255)):r===255?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;r===0?(this.Gt(0),this.Gt(255)):r===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class bG{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class BG{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class ac{constructor(){this.jt=new xG,this.Ht=new bG(this.jt),this.Jt=new BG(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,r,n,i){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=i}Zt(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new ko(this.indexId,this.documentKey,this.arrayValue,n)}}function ea(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=_T(t.arrayValue,e.arrayValue),r!==0?r:(r=_T(t.directionalValue,e.directionalValue),r!==0?r:oe.comparator(t.documentKey,e.documentKey)))}function _T(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.Xt=new tt((r,n)=>vt.comparator(r.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const n=r;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(xe(e.collectionGroup===this.collectionId),this.nn)return!1;const r=Ux(e);if(r!==void 0&&!this.sn(r))return!1;const n=So(e);let i=new Set,s=0,a=0;for(;s<n.length&&this.sn(n[s]);++s)i=i.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.Xt.size>0){const o=this.Xt.getIterator().getNext();if(!i.has(o.field.canonicalString())){const A=n[s];if(!this.on(o,A)||!this._n(this.en[a++],A))return!1}++s}for(;s<n.length;++s){const o=n[s];if(a>=this.en.length||!this._n(this.en[a++],o))return!1}return!0}an(){if(this.nn)return null;let e=new tt(vt.comparator);const r=[];for(const n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new Tg(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new Tg(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new Tg(n.field,n.dir==="asc"?0:1)));return new bm(bm.UNKNOWN_ID,this.collectionId,r,Qd.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t){var e,r;if(xe(t instanceof Re||t instanceof et),t instanceof Re){if(t instanceof bO){const i=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(s=>Re.create(t.field,"==",s)))||[];return et.create(i,"or")}return t}const n=t.filters.map(i=>e4(i));return et.create(n,t.op)}function CG(t){if(t.getFilters().length===0)return[];const e=Kx(e4(t));return xe(t4(e)),Hx(e)||Vx(e)?[e]:e.getFilters()}function Hx(t){return t instanceof Re}function Vx(t){return t instanceof et&&IC(t)}function t4(t){return Hx(t)||Vx(t)||function(r){if(r instanceof et&&kx(r)){for(const n of r.getFilters())if(!Hx(n)&&!Vx(n))return!1;return!0}return!1}(t)}function Kx(t){if(xe(t instanceof Re||t instanceof et),t instanceof Re)return t;if(t.filters.length===1)return Kx(t.filters[0]);const e=t.filters.map(n=>Kx(n));let r=et.create(e,t.op);return r=Fm(r),t4(r)?r:(xe(r instanceof et),xe(Xl(r)),xe(r.filters.length>1),r.filters.reduce((n,i)=>kC(n,i)))}function kC(t,e){let r;return xe(t instanceof Re||t instanceof et),xe(e instanceof Re||e instanceof et),r=t instanceof Re?e instanceof Re?function(i,s){return et.create([i,s],"and")}(t,e):ST(t,e):e instanceof Re?ST(e,t):function(i,s){if(xe(i.filters.length>0&&s.filters.length>0),Xl(i)&&Xl(s))return yO(i,s.getFilters());const a=kx(i)?i:s,o=kx(i)?s:i,A=a.filters.map(l=>kC(l,o));return et.create(A,"or")}(t,e),Fm(r)}function ST(t,e){if(Xl(e))return yO(e,t.getFilters());{const r=e.filters.map(n=>kC(t,n));return et.create(r,"or")}}function Fm(t){if(xe(t instanceof Re||t instanceof et),t instanceof Re)return t;const e=t.getFilters();if(e.length===1)return Fm(e[0]);if(pO(t))return t;const r=e.map(i=>Fm(i)),n=[];return r.forEach(i=>{i instanceof Re?n.push(i):i instanceof et&&(i.op===t.op?n.push(...i.filters):n.push(i))}),n.length===1?n[0]:et.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(){this.un=new OC}addToCollectionParentIndex(e,r){return this.un.add(r),L.resolve()}getCollectionParents(e,r){return L.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return L.resolve()}deleteFieldIndex(e,r){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,r){return L.resolve()}getDocumentsMatchingTarget(e,r){return L.resolve(null)}getIndexType(e,r){return L.resolve(0)}getFieldIndexes(e,r){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,r){return L.resolve(_n.min())}getMinOffsetFromCollectionGroup(e,r){return L.resolve(_n.min())}updateCollectionGroup(e,r,n){return L.resolve()}updateIndexEntries(e,r){return L.resolve()}}class OC{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new tt(Xe.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new tt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Uint8Array(0);class _G{constructor(e,r){this.databaseId=r,this.cn=new OC,this.ln=new oo(n=>dA(n),(n,i)=>df(n,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const n=r.lastSegment(),i=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const s={collectionId:n,parent:$r(i)};return TT(e).put(s)}return L.resolve()}getCollectionParents(e,r){const n=[],i=IDBKeyRange.bound([r,""],[rO(r),""],!1,!0);return TT(e).U(i).next(s=>{for(const a of s){if(a.collectionId!==r)break;n.push(Pi(a.parent))}return n})}addFieldIndex(e,r){const n=oc(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])}}(r);delete i.indexId;const s=n.add(i);if(r.indexState){const a=VA(e);return s.next(o=>{a.put(bT(o,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return s.next()}deleteFieldIndex(e,r){const n=oc(e),i=VA(e),s=HA(e);return n.delete(r.indexId).next(()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=oc(e),n=HA(e),i=VA(e);return r.j().next(()=>n.j()).next(()=>i.j())}createTargetIndexes(e,r){return L.forEach(this.hn(r),n=>this.getIndexType(e,n).next(i=>{if(i===0||i===1){const s=new IT(n).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,r){const n=HA(e);let i=!0;const s=new Map;return L.forEach(this.hn(r),a=>this.Pn(e,a).next(o=>{i&&(i=!!o),s.set(a,o)})).next(()=>{if(i){let a=ke();const o=[];return L.forEach(s,(A,l)=>{ee("IndexedDbIndexManager",`Using index ${function(B){return`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map(I=>`${I.fieldPath}:${I.kind}`).join(",")}`}(A)} to execute ${dA(r)}`);const u=function(B,I){const T=Ux(I);if(T===void 0)return null;for(const F of Em(B,T.fieldPath))switch(F.op){case"array-contains-any":return F.value.arrayValue.values||[];case"array-contains":return[F.value]}return null}(l,A),c=function(B,I){const T=new Map;for(const F of So(I))for(const C of Em(B,F.fieldPath))switch(C.op){case"==":case"in":T.set(F.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return T.set(F.fieldPath.canonicalString(),C.value),Array.from(T.values())}return null}(l,A),f=function(B,I){const T=[];let F=!0;for(const C of So(I)){const _=C.kind===0?oT(B,C.fieldPath,B.startAt):AT(B,C.fieldPath,B.startAt);T.push(_.value),F&&(F=_.inclusive)}return new Yl(T,F)}(l,A),g=function(B,I){const T=[];let F=!0;for(const C of So(I)){const _=C.kind===0?AT(B,C.fieldPath,B.endAt):oT(B,C.fieldPath,B.endAt);T.push(_.value),F&&(F=_.inclusive)}return new Yl(T,F)}(l,A),m=this.In(A,l,f),p=this.In(A,l,g),v=this.Tn(A,l,c),y=this.En(A.indexId,u,m,f.inclusive,p,g.inclusive,v);return L.forEach(y,w=>n.G(w,r.limit).next(B=>{B.forEach(I=>{const T=oe.fromSegments(I.documentKey);a.has(T)||(a=a.add(T),o.push(T))})}))}).next(()=>o)}return L.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(e.filters.length===0?r=[e]:r=CG(et.create(e.filters,"and")).map(n=>Dx(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,n,i,s,a,o){const A=(r!=null?r.length:1)*Math.max(n.length,s.length),l=A/(r!=null?r.length:1),u=[];for(let c=0;c<A;++c){const f=r?this.dn(r[c/l]):_h,g=this.An(e,f,n[c%l],i),m=this.Rn(e,f,s[c%l],a),p=o.map(v=>this.An(e,f,v,!0));u.push(...this.createRange(g,m,p))}return u}An(e,r,n,i){const s=new ko(e,oe.empty(),r,n);return i?s:s.Zt()}Rn(e,r,n,i){const s=new ko(e,oe.empty(),r,n);return i?s.Zt():s}Pn(e,r){const n=new IT(r),i=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let a=null;for(const o of s)n.rn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a})}getIndexType(e,r){let n=2;const i=this.hn(r);return L.forEach(i,s=>this.Pn(e,s).next(a=>{a?n!==0&&a.fields.length<function(A){let l=new tt(vt.comparator),u=!1;for(const c of A.filters)for(const f of c.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:l=l.add(f.field));for(const c of A.orderBy)c.field.isKeyField()||(l=l.add(c.field));return l.size+(u?1:0)}(s)&&(n=1):n=0})).next(()=>function(a){return a.limit!==null}(r)&&i.length>1&&n===2?1:n)}Vn(e,r){const n=new ac;for(const i of So(e)){const s=r.data.field(i.fieldPath);if(s==null)return null;const a=n.Yt(i.kind);Qo.vt.It(s,a)}return n.zt()}dn(e){const r=new ac;return Qo.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const n=new ac;return Qo.vt.It(_C(this.databaseId,r),n.Yt(function(s){const a=So(s);return a.length===0?0:a[a.length-1].kind}(e))),n.zt()}Tn(e,r,n){if(n===null)return[];let i=[];i.push(new ac);let s=0;for(const a of So(e)){const o=n[s++];for(const A of i)if(this.fn(r,a.fieldPath)&&jd(o))i=this.gn(i,a,o);else{const l=A.Yt(a.kind);Qo.vt.It(o,l)}}return this.pn(i)}In(e,r,n){return this.Tn(e,r,n.position)}pn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].zt();return r}gn(e,r,n){const i=[...e],s=[];for(const a of n.arrayValue.values||[])for(const o of i){const A=new ac;A.seed(o.zt()),Qo.vt.It(a,A.Yt(r.kind)),s.push(A)}return s}fn(e,r){return!!e.filters.find(n=>n instanceof Re&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,r){const n=oc(e),i=VA(e);return(r?n.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.U()).next(s=>{const a=[];return L.forEach(s,o=>i.get([o.indexId,this.uid]).next(A=>{a.push(function(u,c){const f=c?new Qd(c.sequenceNumber,new _n(hA(c.readTime),new oe(Pi(c.documentKey)),c.largestBatchId)):Qd.empty(),g=u.fields.map(([m,p])=>new Tg(vt.fromServerFormat(m),p));return new bm(u.indexId,u.collectionGroup,g,f)}(o,A))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((n,i)=>{const s=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ne(n.collectionGroup,i.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const i=oc(e),s=VA(e);return this.yn(e).next(a=>i.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(o=>L.forEach(o,A=>s.put(bT(A.indexId,this.uid,a,n)))))}updateIndexEntries(e,r){const n=new Map;return L.forEach(r,(i,s)=>{const a=n.get(i.collectionGroup);return(a?L.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(o=>(n.set(i.collectionGroup,o),L.forEach(o,A=>this.wn(e,i,A).next(l=>{const u=this.Sn(s,A);return l.isEqual(u)?L.resolve():this.bn(e,s,A,l,u)}))))})}Dn(e,r,n,i){return HA(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(n,r.key),documentKey:r.key.path.toArray()})}vn(e,r,n,i){return HA(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(n,r.key),r.key.path.toArray()])}wn(e,r,n){const i=HA(e);let s=new tt(ea);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,r)])},(a,o)=>{s=s.add(new ko(n.indexId,r,o.arrayValue,o.directionalValue))}).next(()=>s)}Sn(e,r){let n=new tt(ea);const i=this.Vn(r,e);if(i==null)return n;const s=Ux(r);if(s!=null){const a=e.data.field(s.fieldPath);if(jd(a))for(const o of a.arrayValue.values||[])n=n.add(new ko(r.indexId,e.key,this.dn(o),i))}else n=n.add(new ko(r.indexId,e.key,_h,i));return n}bn(e,r,n,i,s){ee("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const a=[];return function(A,l,u,c,f){const g=A.getIterator(),m=l.getIterator();let p=LA(g),v=LA(m);for(;p||v;){let y=!1,w=!1;if(p&&v){const B=u(p,v);B<0?w=!0:B>0&&(y=!0)}else p!=null?w=!0:y=!0;y?(c(v),v=LA(m)):w?(f(p),p=LA(g)):(p=LA(g),v=LA(m))}}(i,s,ea,o=>{a.push(this.Dn(e,r,n,o))},o=>{a.push(this.vn(e,r,n,o))}),L.waitFor(a)}yn(e){let r=1;return VA(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,i,s)=>{s.done(),r=i.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((a,o)=>ea(a,o)).filter((a,o,A)=>!o||ea(a,A[o-1])!==0);const i=[];i.push(e);for(const a of n){const o=ea(a,e),A=ea(a,r);if(o===0)i[0]=e.Zt();else if(o>0&&A<0)i.push(a),i.push(a.Zt());else if(A>0)break}i.push(r);const s=[];for(let a=0;a<i.length;a+=2){if(this.Cn(i[a],i[a+1]))return[];const o=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,_h,[]],A=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,_h,[]];s.push(IDBKeyRange.bound(o,A))}return s}Cn(e,r){return ea(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(FT)}getMinOffset(e,r){return L.mapArray(this.hn(r),n=>this.Pn(e,n).next(i=>i||pe())).next(FT)}}function TT(t){return qt(t,"collectionParents")}function HA(t){return qt(t,"indexEntries")}function oc(t){return qt(t,"indexConfiguration")}function VA(t){return qt(t,"indexState")}function FT(t){xe(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const i=t[n].indexState.offset;xC(i,e)<0&&(e=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new _n(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Jr{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Jr(e,Jr.DEFAULT_COLLECTION_PERCENTILE,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t,e,r){const n=t.store("mutations"),i=t.store("documentMutations"),s=[],a=IDBKeyRange.only(r.batchId);let o=0;const A=n.J({range:a},(u,c,f)=>(o++,f.delete()));s.push(A.next(()=>{xe(o===1)}));const l=[];for(const u of r.mutations){const c=oO(e,u.key.path,r.batchId);s.push(i.delete(c)),l.push(u.key)}return L.waitFor(s).next(()=>l)}function Um(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw pe();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr.DEFAULT_COLLECTION_PERCENTILE=10,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jr.DEFAULT=new Jr(41943040,Jr.DEFAULT_COLLECTION_PERCENTILE,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jr.DISABLED=new Jr(-1,0,0);class f0{constructor(e,r,n,i){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=i,this.Fn={}}static lt(e,r,n,i){xe(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new f0(s,r,n,i)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ta(e).J({index:"userMutationsIndex",range:n},(i,s,a)=>{r=!1,a.done()}).next(()=>r)}addMutationBatch(e,r,n,i){const s=il(e),a=ta(e);return a.add({}).next(o=>{xe(typeof o=="number");const A=new FC(o,r,n,i),l=function(g,m,p){const v=p.baseMutations.map(w=>Sm(g.ct,w)),y=p.mutations.map(w=>Sm(g.ct,w));return{userId:m,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:v,mutations:y}}(this.serializer,this.userId,A),u=[];let c=new tt((f,g)=>Ne(f.canonicalString(),g.canonicalString()));for(const f of i){const g=oO(this.userId,f.key.path,o);c=c.add(f.key.path.popLast()),u.push(a.put(l)),u.push(s.put(g,a9))}return c.forEach(f=>{u.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[o]=A.keys()}),L.waitFor(u).next(()=>A)})}lookupMutationBatch(e,r){return ta(e).get(r).next(n=>n?(xe(n.userId===this.userId),No(this.serializer,n)):null)}Mn(e,r){return this.Fn[r]?L.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const i=n.keys();return this.Fn[r]=i,i}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return ta(e).J({index:"userMutationsIndex",range:i},(a,o,A)=>{o.userId===this.userId&&(xe(o.batchId>=n),s=No(this.serializer,o)),A.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return ta(e).J({index:"userMutationsIndex",range:r,reverse:!0},(i,s,a)=>{n=s.batchId,a.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ta(e).U("userMutationsIndex",r).next(n=>n.map(i=>No(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=Fg(this.userId,r.path),i=IDBKeyRange.lowerBound(n),s=[];return il(e).J({range:i},(a,o,A)=>{const[l,u,c]=a,f=Pi(u);if(l===this.userId&&r.path.isEqual(f))return ta(e).get(c).next(g=>{if(!g)throw pe();xe(g.userId===this.userId),s.push(No(this.serializer,g))});A.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new tt(Ne);const i=[];return r.forEach(s=>{const a=Fg(this.userId,s.path),o=IDBKeyRange.lowerBound(a),A=il(e).J({range:o},(l,u,c)=>{const[f,g,m]=l,p=Pi(g);f===this.userId&&s.path.isEqual(p)?n=n.add(m):c.done()});i.push(A)}),L.waitFor(i).next(()=>this.xn(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1,s=Fg(this.userId,n),a=IDBKeyRange.lowerBound(s);let o=new tt(Ne);return il(e).J({range:a},(A,l,u)=>{const[c,f,g]=A,m=Pi(f);c===this.userId&&n.isPrefixOf(m)?m.length===i&&(o=o.add(g)):u.done()}).next(()=>this.xn(e,o))}xn(e,r){const n=[],i=[];return r.forEach(s=>{i.push(ta(e).get(s).next(a=>{if(a===null)throw pe();xe(a.userId===this.userId),n.push(No(this.serializer,a))}))}),L.waitFor(i).next(()=>n)}removeMutationBatch(e,r){return r4(e._e,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),L.forEach(n,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return L.resolve();const n=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return il(e).J({range:n},(s,a,o)=>{if(s[0]===this.userId){const A=Pi(s[1]);i.push(A)}else o.done()}).next(()=>{xe(i.length===0)})})}containsKey(e,r){return n4(e,this.userId,r)}Nn(e){return i4(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function n4(t,e,r){const n=Fg(e,r.path),i=n[1],s=IDBKeyRange.lowerBound(n);let a=!1;return il(t).J({range:s,H:!0},(o,A,l)=>{const[u,c,f]=o;u===e&&c===i&&(a=!0),l.done()}).next(()=>a)}function ta(t){return qt(t,"mutations")}function il(t){return qt(t,"documentMutations")}function i4(t){return qt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new gA(0)}static kn(){return new gA(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const n=new gA(r.highestTargetId);return r.highestTargetId=n.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>Be.fromTimestamp(new xt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.qn(e).next(i=>(i.highestListenSequenceNumber=r,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),r>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r),this.Qn(e,i)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(n=>(n.targetCount+=1,this.$n(r,n),this.Qn(e,n))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>KA(e).delete(r.targetId)).next(()=>this.qn(e)).next(n=>(xe(n.targetCount>0),n.targetCount-=1,this.Qn(e,n)))}removeTargets(e,r,n){let i=0;const s=[];return KA(e).J((a,o)=>{const A=Uc(o);A.sequenceNumber<=r&&n.get(A.targetId)===null&&(i++,s.push(this.removeTargetData(e,A)))}).next(()=>L.waitFor(s)).next(()=>i)}forEachTarget(e,r){return KA(e).J((n,i)=>{const s=Uc(i);r(s)})}qn(e){return PT(e).get("targetGlobalKey").next(r=>(xe(r!==null),r))}Qn(e,r){return PT(e).put("targetGlobalKey",r)}Kn(e,r){return KA(e).put(JO(this.serializer,r))}$n(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const n=dA(r),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return KA(e).J({range:i,index:"queryTargetsIndex"},(a,o,A)=>{const l=Uc(o);df(r,l.target)&&(s=l,A.done())}).next(()=>s)}addMatchingKeys(e,r,n){const i=[],s=fa(e);return r.forEach(a=>{const o=$r(a.path);i.push(s.put({targetId:n,path:o})),i.push(this.referenceDelegate.addReference(e,n,a))}),L.waitFor(i)}removeMatchingKeys(e,r,n){const i=fa(e);return L.forEach(r,s=>{const a=$r(s.path);return L.waitFor([i.delete([n,a]),this.referenceDelegate.removeReference(e,n,s)])})}removeMatchingKeysForTargetId(e,r){const n=fa(e),i=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),i=fa(e);let s=ke();return i.J({range:n,H:!0},(a,o,A)=>{const l=Pi(a[1]),u=new oe(l);s=s.add(u)}).next(()=>s)}containsKey(e,r){const n=$r(r.path),i=IDBKeyRange.bound([n],[rO(n)],!1,!0);let s=0;return fa(e).J({index:"documentTargetsIndex",H:!0,range:i},([a,o],A,l)=>{a!==0&&(s++,l.done())}).next(()=>s>0)}ot(e,r){return KA(e).get(r).next(n=>n?Uc(n):null)}}function KA(t){return qt(t,"targets")}function PT(t){return qt(t,"targetGlobal")}function fa(t){return qt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT([t,e],[r,n]){const i=Ne(t,r);return i===0?Ne(e,n):i}class SG{constructor(e){this.Un=e,this.buffer=new tt(NT),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();NT(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class TG{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){ee("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ao(r)?ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await CA(r)}await this.Hn(3e5)})}}class FG{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return L.resolve(Gn.oe);const n=new SG(r);return this.Jn.forEachTarget(e,i=>n.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>n.zn(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(UT)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UT):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let n,i,s,a,o,A,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(c=>(c>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${c}`),i=this.params.maximumSequenceNumbersToCollect):i=c,a=Date.now(),this.nthSequenceNumber(e,i))).next(c=>(n=c,o=Date.now(),this.removeTargets(e,n,r))).next(c=>(s=c,A=Date.now(),this.removeOrphanedDocuments(e,n))).next(c=>(l=Date.now(),el()<=je.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(A-o)+`ms
	Removed ${c} documents in `+(l-A)+`ms
Total Duration: ${l-u}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:c})))}}function UG(t,e){return new FG(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e,r){this.db=e,this.garbageCollector=UG(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}er(e){let r=0;return this.Zn(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(n,i)=>r(i))}addReference(e,r,n){return Ih(e,n)}removeReference(e,r,n){return Ih(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return Ih(e,r)}nr(e,r){return function(i,s){let a=!1;return i4(i).Y(o=>n4(i,o,s).next(A=>(A&&(a=!0),L.resolve(!A)))).next(()=>a)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(a,o)=>{if(o<=r){const A=this.nr(e,a).next(l=>{if(!l)return s++,n.getEntry(e,a).next(()=>(n.removeEntry(a,Be.min()),fa(e).delete(function(c){return[0,$r(c.path)]}(a))))});i.push(A)}}).next(()=>L.waitFor(i)).next(()=>n.apply(e)).next(()=>s)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return Ih(e,r)}tr(e,r){const n=fa(e);let i,s=Gn.oe;return n.J({index:"documentTargetsIndex"},([a,o],{path:A,sequenceNumber:l})=>{a===0?(s!==Gn.oe&&r(new oe(Pi(i)),s),s=l,i=A):s=Gn.oe}).next(()=>{s!==Gn.oe&&r(new oe(Pi(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ih(t,e){return fa(t).put(function(n,i){return{targetId:0,path:$r(n.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.changes=new oo(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?L.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return Bo(e).put(n)}removeEntry(e,r,n){return Bo(e).delete(function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Tm(a),o[o.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.rr(e,n)))}getEntry(e,r){let n=Qt.newInvalidDocument(r);return Bo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ac(r))},(i,s)=>{n=this.ir(r,s)}).next(()=>n)}sr(e,r){let n={size:0,document:Qt.newInvalidDocument(r)};return Bo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ac(r))},(i,s)=>{n={document:this.ir(r,s),size:Um(s)}}).next(()=>n)}getEntries(e,r){let n=xn();return this._r(e,r,(i,s)=>{const a=this.ir(i,s);n=n.insert(i,a)}).next(()=>n)}ar(e,r){let n=xn(),i=new bt(oe.comparator);return this._r(e,r,(s,a)=>{const o=this.ir(s,a);n=n.insert(s,o),i=i.insert(s,Um(a))}).next(()=>({documents:n,ur:i}))}_r(e,r,n){if(r.isEmpty())return L.resolve();let i=new tt(OT);r.forEach(A=>i=i.add(A));const s=IDBKeyRange.bound(Ac(i.first()),Ac(i.last())),a=i.getIterator();let o=a.getNext();return Bo(e).J({index:"documentKeyIndex",range:s},(A,l,u)=>{const c=oe.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;o&&OT(o,c)<0;)n(o,null),o=a.getNext();o&&o.isEqual(c)&&(n(o,l),o=a.hasNext()?a.getNext():null),o?u.$(Ac(o)):u.done()}).next(()=>{for(;o;)n(o,null),o=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,r,n,i,s){const a=r.path,o=[a.popLast().toArray(),a.lastSegment(),Tm(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],A=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bo(e).U(IDBKeyRange.bound(o,A,!0)).next(l=>{s==null||s.incrementDocumentReadCount(l.length);let u=xn();for(const c of l){const f=this.ir(oe.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);f.isFoundDocument()&&(hf(r,f)||i.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(e,r,n,i){let s=xn();const a=kT(r,n),o=kT(r,_n.max());return Bo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,o,!0)},(A,l,u)=>{const c=this.ir(oe.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(c.key,c),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new QG(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return QT(e).get("remoteDocumentGlobalKey").next(r=>(xe(!!r),r))}rr(e,r){return QT(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const n=pG(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(Be.min())))return n}return Qt.newInvalidDocument(e)}}function a4(t){return new NG(t)}class QG extends s4{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new oo(n=>n.toString(),(n,i)=>n.isEqual(i))}applyChanges(e){const r=[];let n=0,i=new tt((s,a)=>Ne(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const o=this.lr.get(s);if(r.push(this.cr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const A=wT(this.cr.serializer,a);i=i.add(s.path.popLast());const l=Um(A);n+=l-o.size,r.push(this.cr.addEntry(e,s,A))}else if(n-=o.size,this.trackRemovals){const A=wT(this.cr.serializer,a.convertToNoDocument(Be.min()));r.push(this.cr.addEntry(e,s,A))}}),i.forEach(s=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),r.push(this.cr.updateMetadata(e,n)),L.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(n=>(this.lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:n,ur:i})=>(i.forEach((s,a)=>{this.lr.set(s,{size:a,readTime:n.get(s).readTime})}),n))}}function QT(t){return qt(t,"remoteDocumentGlobal")}function Bo(t){return qt(t,"remoteDocumentsV14")}function Ac(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function kT(t,e){const r=e.documentKey.path.toArray();return[t,Tm(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function OT(t,e){const r=t.path.toArray(),n=e.path.toArray();let i=0;for(let s=0;s<r.length-2&&s<n.length-2;++s)if(i=Ne(r[s],n[s]),i)return i;return i=Ne(r.length,n.length),i||(i=Ne(r[r.length-2],n[n.length-2]),i||Ne(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&ed(n.mutation,i,Wn.empty(),xt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,ke()).next(()=>n))}getLocalViewOfDocuments(e,r,n=ke()){const i=Ni();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=Tc();return s.forEach((o,A)=>{a=a.insert(o,A.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=Ni();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,ke()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=xn();const a=Zc(),o=function(){return Zc()}();return r.forEach((A,l)=>{const u=n.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof Ao)?s=s.insert(l.key,l):u!==void 0?(a.set(l.key,u.mutation.getFieldMask()),ed(u.mutation,l,u.mutation.getFieldMask(),xt.now())):a.set(l.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,s).next(A=>(A.forEach((l,u)=>a.set(l,u)),r.forEach((l,u)=>{var c;return o.set(l,new kG(u,(c=a.get(l))!==null&&c!==void 0?c:null))}),o))}recalculateAndSaveOverlays(e,r){const n=Zc();let i=new bt((a,o)=>a-o),s=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(A=>{const l=r.get(A);if(l===null)return;let u=n.get(A)||Wn.empty();u=o.applyToLocalView(l,u),n.set(A,u);const c=(i.get(o.batchId)||ke()).add(A);i=i.insert(o.batchId,c)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const A=o.getNext(),l=A.key,u=A.value,c=IO();u.forEach(f=>{if(!s.has(f)){const g=QO(r.get(f),n.get(f));g!==null&&c.set(f,g),s=s.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,l,c))}return L.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return oe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):D9(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):L.resolve(Ni());let o=-1,A=s;return a.next(l=>L.forEach(l,(u,c)=>(o<c.largestBatchId&&(o=c.largestBatchId),s.get(u)?L.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{A=A.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,A,l,ke())).next(u=>({batchId:o,changes:_O(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new oe(r)).next(n=>{let i=Tc();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=Tc();return this.indexManager.getCollectionParents(e,s).next(o=>L.forEach(o,A=>{const l=function(c,f){return new o0(f,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(r,A.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,n,i).next(u=>{u.forEach((c,f)=>{a=a.insert(c,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((A,l)=>{const u=l.getKey();a.get(u)===null&&(a=a.insert(u,Qt.newInvalidDocument(u)))});let o=Tc();return a.forEach((A,l)=>{const u=s.get(A);u!==void 0&&ed(u.mutation,l,Wn.empty(),xt.now()),hf(r,l)&&(o=o.insert(A,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return L.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Gr(i.createTime)}}(r)),L.resolve()}getNamedQuery(e,r){return L.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:ZO(i.bundledQuery),readTime:Gr(i.readTime)}}(r)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(){this.overlays=new bt(oe.comparator),this.Ir=new Map}getOverlay(e,r){return L.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ni();return L.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),L.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),L.resolve()}getOverlaysForCollection(e,r,n){const i=Ni(),s=r.length+1,a=new oe(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const A=o.getNext().value,l=A.getKey();if(!r.isPrefixOf(l.path))break;l.path.length===s&&A.largestBatchId>n&&i.set(A.getKey(),A)}return L.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new bt((l,u)=>l-u);const a=this.overlays.getIterator();for(;a.hasNext();){const l=a.getNext().value;if(l.getKey().getCollectionGroup()===r&&l.largestBatchId>n){let u=s.get(l.largestBatchId);u===null&&(u=Ni(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const o=Ni(),A=s.getIterator();for(;A.hasNext()&&(A.getNext().value.forEach((l,u)=>o.set(l,u)),!(o.size()>=i)););return L.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new PC(r,n));let s=this.Ir.get(r);s===void 0&&(s=ke(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.Tr=new tt(ir.Er),this.dr=new tt(ir.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new ir(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new ir(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new oe(new Xe([])),n=new ir(r,e),i=new ir(r,e+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new oe(new Xe([])),n=new ir(r,e),i=new ir(r,e+1);let s=ke();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new ir(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class ir{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return oe.comparator(e.key,r.key)||Ne(e.wr,r.wr)}static Ar(e,r){return Ne(e.wr,r.wr)||oe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new tt(ir.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new FC(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new ir(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return L.resolve(a)}lookupMutationBatch(e,r){return L.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new ir(r,0),i=new ir(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const o=this.Dr(a.wr);s.push(o)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new tt(Ne);return r.forEach(i=>{const s=new ir(i,0),a=new ir(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{n=n.add(o.wr)})}),L.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;oe.isDocumentKey(s)||(s=s.child(""));const a=new ir(new oe(s),0);let o=new tt(Ne);return this.br.forEachWhile(A=>{const l=A.key.path;return!!n.isPrefixOf(l)&&(l.length===i&&(o=o.add(A.wr)),!0)},a),L.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){xe(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return L.forEach(r.mutations,i=>{const s=new ir(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new ir(r,0),i=this.br.firstAfterOrEqual(n);return L.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e){this.Mr=e,this.docs=function(){return new bt(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return L.resolve(n?n.document.mutableCopy():Qt.newInvalidDocument(r))}getEntries(e,r){let n=xn();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Qt.newInvalidDocument(i))}),L.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=xn();const a=r.path,o=new oe(a.child("")),A=this.docs.getIteratorFrom(o);for(;A.hasNext();){const{key:l,value:{document:u}}=A.getNext();if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||xC(nO(u),n)<=0||(i.has(u.key)||hf(r,u))&&(s=s.insert(u.key,u.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,r,n,i){pe()}Or(e,r){return L.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new LG(this)}getSize(e){return L.resolve(this.size)}}class LG extends s4{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),L.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(e){this.persistence=e,this.Nr=new oo(r=>dA(r),df),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new DC,this.targetCount=0,this.kr=gA.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),L.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new gA(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,L.resolve()}updateTargetData(e,r){return this.Kn(r),L.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return L.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),L.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),L.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return L.resolve(n)}containsKey(e,r){return L.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Gn(0),this.Kr=!1,this.Kr=!0,this.$r=new jG,this.referenceDelegate=e(this),this.Ur=new HG(this),this.indexManager=new EG,this.remoteDocumentCache=function(i){return new MG(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new qO(r),this.Gr=new OG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new DG,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new RG(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){ee("MemoryPersistence","Starting transaction:",e);const i=new VG(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return L.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class VG extends sO{constructor(e){super(),this.currentSequenceNumber=e}}class h0{constructor(e){this.persistence=e,this.Jr=new DC,this.Yr=null}static Zr(e){return new h0(e)}get Xr(){if(this.Yr)return this.Yr;throw pe()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),L.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),L.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),L.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,n=>{const i=oe.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,Be.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return L.or([()=>L.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(e){this.serializer=e}O(e,r,n,i){const s=new i0("createOrUpgrade",r);n<1&&i>=1&&(function(A){A.createObjectStore("owner")}(e),function(A){A.createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XS,{unique:!0}),A.createObjectStore("documentMutations")}(e),DT(e),function(A){A.createObjectStore("remoteDocuments")}(e));let a=L.resolve();return n<3&&i>=3&&(n!==0&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),DT(e)),a=a.next(()=>function(A){const l=A.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Be.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),n<4&&i>=4&&(n!==0&&(a=a.next(()=>function(A,l){return l.store("mutations").U().next(u=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XS,{unique:!0});const c=l.store("mutations"),f=u.map(g=>c.put(g));return L.waitFor(f)})}(e,s))),a=a.next(()=>{(function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),n<5&&i>=5&&(a=a.next(()=>this.ni(s))),n<6&&i>=6&&(a=a.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),n<7&&i>=7&&(a=a.next(()=>this.ii(s))),n<8&&i>=8&&(a=a.next(()=>this.si(e,s))),n<9&&i>=9&&(a=a.next(()=>{(function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&i>=10&&(a=a.next(()=>this.oi(s))),n<11&&i>=11&&(a=a.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&i>=12&&(a=a.next(()=>{(function(A){const l=A.createObjectStore("documentOverlays",{keyPath:v9});l.createIndex("collectionPathOverlayIndex",y9,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",w9,{unique:!1})})(e)})),n<13&&i>=13&&(a=a.next(()=>function(A){const l=A.createObjectStore("remoteDocumentsV14",{keyPath:o9});l.createIndex("documentKeyIndex",A9),l.createIndex("collectionGroupIndex",l9)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&i>=14&&(a=a.next(()=>this.ai(e,s))),n<15&&i>=15&&(a=a.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:h9}).createIndex("sequenceNumberIndex",g9,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:m9}).createIndex("documentKeyIndex",p9,{unique:!1})}(e))),n<16&&i>=16&&(a=a.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),n<17&&i>=17&&(a=a.next(()=>{(function(A){A.createObjectStore("globals",{keyPath:"name"})})(e)})),a}ri(e){let r=0;return e.store("remoteDocuments").J((n,i)=>{r+=Um(i)}).next(()=>{const n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}ni(e){const r=e.store("mutationQueues"),n=e.store("mutations");return r.U().next(i=>L.forEach(i,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",a).next(o=>L.forEach(o,A=>{xe(A.userId===s.userId);const l=No(this.serializer,A);return r4(e,s.userId,l).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return n.J((a,o)=>{const A=new Xe(a),l=function(c){return[0,$r(c)]}(A);s.push(r.get(l).next(u=>u?L.resolve():(c=>r.put({targetId:0,path:$r(c),sequenceNumber:i.highestListenSequenceNumber}))(A)))}).next(()=>L.waitFor(s))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:f9});const n=r.store("collectionParents"),i=new OC,s=a=>{if(i.add(a)){const o=a.lastSegment(),A=a.popLast();return n.put({collectionId:o,parent:$r(A)})}};return r.store("remoteDocuments").J({H:!0},(a,o)=>{const A=new Xe(a);return s(A.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([a,o,A],l)=>{const u=Pi(o);return s(u.popLast())}))}oi(e){const r=e.store("targets");return r.J((n,i)=>{const s=Uc(i),a=JO(this.serializer,s);return r.put(a)})}_i(e,r){const n=r.store("remoteDocuments"),i=[];return n.J((s,a)=>{const o=r.store("remoteDocumentsV14"),A=function(c){return c.document?new oe(Xe.fromString(c.document.name).popFirst(5)):c.noDocument?oe.fromSegments(c.noDocument.path):c.unknownDocument?oe.fromSegments(c.unknownDocument.path):pe()}(a).path.toArray(),l={prefixPath:A.slice(0,A.length-2),collectionGroup:A[A.length-2],documentId:A[A.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(l))}).next(()=>L.waitFor(i))}ai(e,r){const n=r.store("mutations"),i=a4(this.serializer),s=new A4(h0.Zr,this.serializer.ct);return n.U().next(a=>{const o=new Map;return a.forEach(A=>{var l;let u=(l=o.get(A.userId))!==null&&l!==void 0?l:ke();No(this.serializer,A).keys().forEach(c=>u=u.add(c)),o.set(A.userId,u)}),L.forEach(o,(A,l)=>{const u=new pr(l),c=d0.lt(this.serializer,u),f=s.getIndexManager(u),g=f0.lt(u,this.serializer,f,s.referenceDelegate);return new o4(i,g,c,f).recalculateAndSaveOverlaysForDocumentKeys(new Px(r,Gn.oe),A).next()})})}}function DT(t){t.createObjectStore("targetDocuments",{keyPath:c9}).createIndex("documentTargetsIndex",d9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",u9,{unique:!0}),t.createObjectStore("targetGlobal")}const Sy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jC{constructor(e,r,n,i,s,a,o,A,l,u,c=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ui=s,this.window=a,this.document=o,this.ci=l,this.li=u,this.hi=c,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!jC.D())throw new fe(z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new PG(this,i),this.Ai=r+"main",this.serializer=new qO(A),this.Ri=new Qa(this.Ai,this.hi,new KG(this.serializer)),this.$r=new yG,this.Ur=new IG(this.referenceDelegate,this.serializer),this.remoteDocumentCache=a4(this.serializer),this.Gr=new vG,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,u===!1&&Hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(z.FAILED_PRECONDITION,Sy);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Gn(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Sh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(ao(e))return ee("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ee("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return lc(e).get("owner").next(r=>L.resolve(this.vi(r)))}Ci(e){return Sh(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const n=qt(r,"clientMetadata");return n.U().next(i=>{const s=this.xi(i,18e5),a=i.filter(o=>s.indexOf(o)===-1);return L.forEach(a,o=>n.delete(o.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Vi)for(const r of e)this.Vi.removeItem(this.Oi(r.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?L.resolve(!0):lc(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new fe(z.FAILED_PRECONDITION,Sy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sh(e).U().next(n=>this.xi(n,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&ee("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new Px(e,Gn.oe);return this.bi(r).next(()=>this.Ci(r))}),this.Ri.close(),this.qi()}xi(e,r){return e.filter(n=>this.Mi(n.updateTimeMs,r)&&!this.Ni(n.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Sh(e).U().next(r=>this.xi(r,18e5).map(n=>n.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return f0.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new _G(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return d0.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,n){ee("IndexedDbPersistence","Starting transaction:",e);const i=r==="readonly"?"readonly":"readwrite",s=function(A){return A===17?B9:A===16?b9:A===15?BC:A===14?uO:A===13?lO:A===12?x9:A===11?AO:void pe()}(this.hi);let a;return this.Ri.runTransaction(e,i,s,o=>(a=new Px(o,this.Qr?this.Qr.next():Gn.oe),r==="readwrite-primary"?this.wi(a).next(A=>!!A||this.Si(a)).next(A=>{if(!A)throw Hr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new fe(z.FAILED_PRECONDITION,iO);return n(a)}).next(A=>this.Di(a).next(()=>A)):this.Ki(a).next(()=>n(a)))).then(o=>(a.raiseOnCommittedEvent(),o))}Ki(e){return lc(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new fe(z.FAILED_PRECONDITION,Sy)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lc(e).put("owner",r)}static D(){return Qa.D()}bi(e){const r=lc(e);return r.get("owner").next(n=>this.vi(n)?(ee("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):L.resolve())}Mi(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(Hr(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;Mk()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const n=((r=this.Vi)===null||r===void 0?void 0:r.getItem(this.Oi(e)))!==null;return ee("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Hr("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Hr("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function lc(t){return qt(t,"owner")}function Sh(t){return qt(t,"clientMetadata")}function $G(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=ke(),i=ke();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new RC(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Mk()?8:aO(Xt())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new GG;return this.Xi(e,r,a).next(o=>{if(s.result=o,this.zi)return this.es(e,r,a,o.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(el()<=je.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",tl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(el()<=je.DEBUG&&ee("QueryEngine","Query:",tl(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(el()<=je.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",tl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(r))):L.resolve())}Yi(e,r){if(lT(r))return L.resolve(null);let n=Zn(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=_m(r,null,"F"),n=Zn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=ke(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(A=>{const l=this.ts(r,o);return this.ns(r,l,a,A.readTime)?this.Yi(e,_m(r,null,"F")):this.rs(e,l,r,A)}))})))}Zi(e,r,n,i){return lT(r)||i.isEqual(Be.min())?L.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const a=this.ts(r,s);return this.ns(r,a,n,i)?L.resolve(null):(el()<=je.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tl(r)),this.rs(e,a,r,Z8(i,-1)).next(o=>o))})}ts(e,r){let n=new tt(CO(e));return r.forEach((i,s)=>{hf(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return el()<=je.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",tl(r)),this.Ji.getDocumentsMatchingQuery(e,r,_n.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new bt(Ne),this._s=new oo(s=>dA(s),df),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function u4(t,e,r,n){return new WG(t,e,r,n)}async function c4(t,e){const r=Fe(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let A=ke();for(const l of i){a.push(l.batchId);for(const u of l.mutations)A=A.add(u.key)}for(const l of s){o.push(l.batchId);for(const u of l.mutations)A=A.add(u.key)}return r.localDocuments.getDocuments(n,A).next(l=>({hs:l,removedBatchIds:a,addedBatchIds:o}))})})}function zG(t,e){const r=Fe(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,A,l,u){const c=l.batch,f=c.keys();let g=L.resolve();return f.forEach(m=>{g=g.next(()=>u.getEntry(A,m)).next(p=>{const v=l.docVersions.get(m);xe(v!==null),p.version.compareTo(v)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(A,c))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let A=ke();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(A=A.add(o.batch.mutations[l].key));return A}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function d4(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function YG(t,e){const r=Fe(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((u,c)=>{const f=i.get(c);if(!f)return;o.push(r.Ur.removeMatchingKeys(s,u.removedDocuments,c).next(()=>r.Ur.addMatchingKeys(s,u.addedDocuments,c)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(c)!==null?g=g.withResumeToken(Rt.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,n)),i=i.insert(c,g),function(p,v,y){return p.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,g,u)&&o.push(r.Ur.updateTargetData(s,g))});let A=xn(),l=ke();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(XG(s,a,e.documentUpdates).next(u=>{A=u.Ps,l=u.Is})),!n.isEqual(Be.min())){const u=r.Ur.getLastRemoteSnapshotVersion(s).next(c=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(u)}return L.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,A,l)).next(()=>A)}).then(s=>(r.os=i,s))}function XG(t,e,r){let n=ke(),i=ke();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=xn();return r.forEach((o,A)=>{const l=s.get(o);A.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(o)),A.isNoDocument()&&A.version.isEqual(Be.min())?(e.removeEntry(o,A.readTime),a=a.insert(o,A)):!l.isValidDocument()||A.version.compareTo(l.version)>0||A.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(A),a=a.insert(o,A)):ee("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",A.version)}),{Ps:a,Is:i}})}function qG(t,e){const r=Fe(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function JG(t,e){const r=Fe(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,L.resolve(i)):r.Ur.allocateTargetId(n).next(a=>(i=new cs(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function $x(t,e,r){const n=Fe(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!ao(a))throw a;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function jT(t,e,r){const n=Fe(t);let i=Be.min(),s=ke();return n.persistence.runTransaction("Execute query","readwrite",a=>function(A,l,u){const c=Fe(A),f=c._s.get(u);return f!==void 0?L.resolve(c.os.get(f)):c.Ur.getTargetData(l,u)}(n,a,Zn(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(A=>{s=A})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:Be.min(),r?s:ke())).next(o=>(ZG(n,R9(e),o),{documents:o,Ts:s})))}function ZG(t,e,r){let n=t.us.get(e)||Be.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class RT{constructor(){this.activeTargetIds=$9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f4{constructor(){this.so=new RT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new RT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th=null;function Ty(){return Th===null?Th=function(){return 268435456+Math.round(2147483648*Math.random())}():Th++,"0x"+Th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="WebChannelConnection";class nW extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,a){const o=Ty(),A=this.xo(r,n.toUriEncodedString());ee("RestConnection",`Sending RPC '${r}' ${o}:`,A,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,a),this.No(r,A,l,i).then(u=>(ee("RestConnection",`Received RPC '${r}' ${o}: `,u),u),u=>{throw Va("RestConnection",`RPC '${r}' ${o} failed with error: `,u,"url: ",A,"request:",i),u})}Lo(r,n,i,s,a,o){return this.Mo(r,n,i,s,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bu}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>r[a]=s),i&&i.headers.forEach((s,a)=>r[a]=s)}xo(r,n){const i=tW[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=Ty();return new Promise((a,o)=>{const A=new Yk;A.setWithCredentials(!0),A.listenOnce(Xk.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case Sg.NO_ERROR:const u=A.getResponseJson();ee(Tr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),a(u);break;case Sg.TIMEOUT:ee(Tr,`RPC '${e}' ${s} timed out`),o(new fe(z.DEADLINE_EXCEEDED,"Request time out"));break;case Sg.HTTP_ERROR:const c=A.getStatus();if(ee(Tr,`RPC '${e}' ${s} failed with status:`,c,"response text:",A.getResponseText()),c>0){let f=A.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const m=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(y)>=0?y:z.UNKNOWN}(g.status);o(new fe(m,g.message))}else o(new fe(z.UNKNOWN,"Server responded with status "+A.getStatus()))}else o(new fe(z.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{ee(Tr,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);ee(Tr,`RPC '${e}' ${s} sending request:`,i),A.send(r,"POST",l,n,15)})}Bo(e,r,n){const i=Ty(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Zk(),o=Jk(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(A.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(A.useFetchStreams=!0),this.Oo(A.initMessageHeaders,r,n),A.encodeInitMessageHeaders=!0;const u=s.join("");ee(Tr,`Creating RPC '${e}' stream ${i}: ${u}`,A);const c=a.createWebChannel(u,A);let f=!1,g=!1;const m=new rW({Io:v=>{g?ee(Tr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(ee(Tr,`Opening RPC '${e}' stream ${i} transport.`),c.open(),f=!0),ee(Tr,`RPC '${e}' stream ${i} sending:`,v),c.send(v))},To:()=>c.close()}),p=(v,y,w)=>{v.listen(y,B=>{try{w(B)}catch(I){setTimeout(()=>{throw I},0)}})};return p(c,Sc.EventType.OPEN,()=>{g||(ee(Tr,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),p(c,Sc.EventType.CLOSE,()=>{g||(g=!0,ee(Tr,`RPC '${e}' stream ${i} transport closed`),m.So())}),p(c,Sc.EventType.ERROR,v=>{g||(g=!0,Va(Tr,`RPC '${e}' stream ${i} transport errored:`,v),m.So(new fe(z.UNAVAILABLE,"The operation could not be completed")))}),p(c,Sc.EventType.MESSAGE,v=>{var y;if(!g){const w=v.data[0];xe(!!w);const B=w,I=B.error||((y=B[0])===null||y===void 0?void 0:y.error);if(I){ee(Tr,`RPC '${e}' stream ${i} received error:`,I);const T=I.status;let F=function(S){const P=Lt[S];if(P!==void 0)return DO(P)}(T),C=I.message;F===void 0&&(F=z.INTERNAL,C="Unknown error status: "+T+" with message "+I.message),g=!0,m.So(new fe(F,C)),c.close()}else ee(Tr,`RPC '${e}' stream ${i} received:`,w),m.bo(w)}}),p(o,qk.STAT_EVENT,v=>{v.stat===Fx.PROXY?ee(Tr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Fx.NOPROXY&&ee(Tr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(){return typeof window<"u"?window:null}function kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(t){return new oG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,r,n,i,s,a,o,A){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=A,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new h4(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===z.RESOURCE_EXHAUSTED?(Hr(r.toString()),Hr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new fe(z.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sW extends g4{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=uG(this.serializer,e),n=function(s){if(!("targetChange"in s))return Be.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Be.min():a.readTime?Gr(a.readTime):Be.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Mx(this.serializer),r.addTarget=function(s,a){let o;const A=a.target;if(o=Cm(A)?{documents:$O(s,A)}:{query:GO(s,A)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=MO(s,a.resumeToken);const l=jx(s,a.expectedCount);l!==null&&(o.expectedCount=l)}else if(a.snapshotVersion.compareTo(Be.min())>0){o.readTime=eu(s,a.snapshotVersion.toTimestamp());const l=jx(s,a.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const n=dG(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Mx(this.serializer),r.removeTarget=e,this.a_(r)}}class aW extends g4{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=cG(e.writeResults,e.commitTime),n=Gr(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Mx(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Sm(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new fe(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Rx(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(z.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,Rx(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(z.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class AW{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Hr(r),this.D_=!1):ee("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{EA(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(A){const l=Fe(A);l.L_.add(4),await mf(l),l.q_.set("Unknown"),l.L_.delete(4),await m0(l)}(this))})}),this.q_=new AW(n,i)}}async function m0(t){if(EA(t))for(const e of t.B_)await e(!0)}async function mf(t){for(const e of t.B_)await e(!1)}function m4(t,e){const r=Fe(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),VC(r)?HC(r):Eu(r).r_()&&LC(r,e))}function MC(t,e){const r=Fe(t),n=Eu(r);r.N_.delete(e),n.r_()&&p4(r,e),r.N_.size===0&&(n.r_()?n.o_():EA(r)&&r.q_.set("Unknown"))}function LC(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Eu(t).A_(e)}function p4(t,e){t.Q_.xe(e),Eu(t).R_(e)}function HC(t){t.Q_=new nG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Eu(t).start(),t.q_.v_()}function VC(t){return EA(t)&&!Eu(t).n_()&&t.N_.size>0}function EA(t){return Fe(t).L_.size===0}function v4(t){t.Q_=void 0}async function uW(t){t.q_.set("Online")}async function cW(t){t.N_.forEach((e,r)=>{LC(t,e)})}async function dW(t,e){v4(t),VC(t)?(t.q_.M_(e),HC(t)):t.q_.set("Unknown")}async function fW(t,e,r){if(t.q_.set("Online"),e instanceof RO&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Pm(t,n)}else if(e instanceof Qg?t.Q_.Ke(e):e instanceof jO?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Be.min()))try{const n=await d4(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((A,l)=>{if(A.resumeToken.approximateByteSize()>0){const u=s.N_.get(l);u&&s.N_.set(l,u.withResumeToken(A.resumeToken,a))}}),o.targetMismatches.forEach((A,l)=>{const u=s.N_.get(A);if(!u)return;s.N_.set(A,u.withResumeToken(Rt.EMPTY_BYTE_STRING,u.snapshotVersion)),p4(s,A);const c=new cs(u.target,A,l,u.sequenceNumber);LC(s,c)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){ee("RemoteStore","Failed to raise snapshot:",n),await Pm(t,n)}}async function Pm(t,e,r){if(!ao(e))throw e;t.L_.add(1),await mf(t),t.q_.set("Offline"),r||(r=()=>d4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await m0(t)})}function y4(t,e){return e().catch(r=>Pm(t,r,e))}async function pf(t){const e=Fe(t),r=Wa(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;hW(e);)try{const i=await qG(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,gW(e,i)}catch(i){await Pm(e,i)}w4(e)&&x4(e)}function hW(t){return EA(t)&&t.O_.length<10}function gW(t,e){t.O_.push(e);const r=Wa(t);r.r_()&&r.V_&&r.m_(e.mutations)}function w4(t){return EA(t)&&!Wa(t).n_()&&t.O_.length>0}function x4(t){Wa(t).start()}async function mW(t){Wa(t).p_()}async function pW(t){const e=Wa(t);for(const r of t.O_)e.m_(r.mutations)}async function vW(t,e,r){const n=t.O_.shift(),i=UC.from(n,e,r);await y4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await pf(t)}async function yW(t,e){e&&Wa(t).V_&&await async function(n,i){if(function(a){return eG(a)&&a!==z.ABORTED}(i.code)){const s=n.O_.shift();Wa(n).s_(),await y4(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await pf(n)}}(t,e),w4(t)&&x4(t)}async function LT(t,e){const r=Fe(t);r.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const n=EA(r);r.L_.add(3),await mf(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await m0(r)}async function wW(t,e){const r=Fe(t);e?(r.L_.delete(2),await m0(r)):e||(r.L_.add(2),await mf(r),r.q_.set("Unknown"))}function Eu(t){return t.K_||(t.K_=function(r,n,i){const s=Fe(r);return s.w_(),new sW(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:uW.bind(null,t),Ro:cW.bind(null,t),mo:dW.bind(null,t),d_:fW.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),VC(t)?HC(t):t.q_.set("Unknown")):(await t.K_.stop(),v4(t))})),t.K_}function Wa(t){return t.U_||(t.U_=function(r,n,i){const s=Fe(r);return s.w_(),new aW(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mW.bind(null,t),mo:yW.bind(null,t),f_:pW.bind(null,t),g_:vW.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await pf(t)):(await t.U_.stop(),t.O_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new KC(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $C(t,e){if(Hr("AsyncQueue",`${e}: ${t}`),ao(t))return new fe(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.comparator=e?(r,n)=>e(r,n)||oe.comparator(r.key,n.key):(r,n)=>oe.comparator(r.key,n.key),this.keyedMap=Tc(),this.sortedSet=new bt(this.comparator)}static emptySet(e){return new Ul(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Ul;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.W_=new bt(oe.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):pe():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class tu{constructor(e,r,n,i,s,a,o,A,l){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=A,this.hasCachedResults=l}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new tu(e,r,Ul.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&A0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class bW{constructor(){this.queries=VT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Fe(r),s=i.queries;i.queries=VT(),s.forEach((a,o)=>{for(const A of o.j_)A.onError(n)})})(this,new fe(z.ABORTED,"Firestore shutting down"))}}function VT(){return new oo(t=>BO(t),A0)}async function GC(t,e){const r=Fe(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new xW,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=$C(a,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&zC(r)}async function WC(t,e){const r=Fe(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function BW(t,e){const r=Fe(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&zC(r)}function CW(t,e,r){const n=Fe(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function zC(t){t.Y_.forEach(e=>{e.next()})}var Gx,KT;(KT=Gx||(Gx={})).ea="default",KT.Cache="cache";class YC{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new tu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Gx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.key=e}}class B4{constructor(e){this.key=e}}class EW{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ke(),this.mutatedKeys=ke(),this.Aa=CO(e),this.Ra=new Ul(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new HT,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const A=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,c)=>{const f=i.get(u),g=hf(this.query,c)?c:null,m=!!f&&this.mutatedKeys.has(f.key),p=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let v=!1;f&&g?f.data.isEqual(g.data)?m!==p&&(n.track({type:3,doc:g}),v=!0):this.ga(f,g)||(n.track({type:2,doc:g}),v=!0,(A&&this.Aa(g,A)>0||l&&this.Aa(g,l)<0)&&(o=!0)):!f&&g?(n.track({type:0,doc:g}),v=!0):f&&!g&&(n.track({type:1,doc:f}),v=!0,(A||l)&&(o=!0)),v&&(g?(a=a.add(g),s=p?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),n.track({type:1,doc:u})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((u,c)=>function(g,m){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return p(g)-p(m)}(u.type,c.type)||this.Aa(u.doc,c.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],A=this.da.size===0&&this.current&&!i?1:0,l=A!==this.Ea;return this.Ea=A,a.length!==0||l?{snapshot:new tu(this.query,e.Ra,s,a,e.mutatedKeys,A===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new HT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ke(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new B4(n))}),this.da.forEach(n=>{e.has(n)||r.push(new b4(n))}),r}ba(e){this.Ta=e.Ts,this.da=ke();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return tu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class _W{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class IW{constructor(e){this.key=e,this.va=!1}}class SW{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new oo(o=>BO(o),A0),this.Ma=new Map,this.xa=new Set,this.Oa=new bt(oe.comparator),this.Na=new Map,this.La=new DC,this.Ba={},this.ka=new Map,this.qa=gA.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function TW(t,e,r=!0){const n=T4(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await C4(n,e,r,!0),i}async function FW(t,e){const r=T4(t);await C4(r,e,!0,!1)}async function C4(t,e,r,n){const i=await JG(t.localStore,Zn(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await UW(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&m4(t.remoteStore,i),o}async function UW(t,e,r,n,i){t.Ka=(c,f,g)=>async function(p,v,y,w){let B=v.view.ma(y);B.ns&&(B=await jT(p.localStore,v.query,!1).then(({documents:C})=>v.view.ma(C,B)));const I=w&&w.targetChanges.get(v.targetId),T=w&&w.targetMismatches.get(v.targetId)!=null,F=v.view.applyChanges(B,p.isPrimaryClient,I,T);return GT(p,v.targetId,F.wa),F.snapshot}(t,c,f,g);const s=await jT(t.localStore,e,!0),a=new EW(e,s.Ts),o=a.ma(s.documents),A=gf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),l=a.applyChanges(o,t.isPrimaryClient,A);GT(t,r,l.wa);const u=new _W(e,r,a);return t.Fa.set(e,u),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),l.snapshot}async function PW(t,e,r){const n=Fe(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!A0(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await $x(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&MC(n.remoteStore,i.targetId),Wx(n,i.targetId)}).catch(CA)):(Wx(n,i.targetId),await $x(n.localStore,i.targetId,!0))}async function NW(t,e){const r=Fe(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),MC(r.remoteStore,n.targetId))}async function QW(t,e,r){const n=F4(t);try{const i=await function(a,o){const A=Fe(a),l=xt.now(),u=o.reduce((g,m)=>g.add(m.key),ke());let c,f;return A.persistence.runTransaction("Locally write mutations","readwrite",g=>{let m=xn(),p=ke();return A.cs.getEntries(g,u).next(v=>{m=v,m.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>A.localDocuments.getOverlayedDocuments(g,m)).next(v=>{c=v;const y=[];for(const w of o){const B=J9(w,c.get(w.key).overlayedDocument);B!=null&&y.push(new Ao(w.key,B,gO(B.value.mapValue),bn.exists(!0)))}return A.mutationQueue.addMutationBatch(g,l,y,o)}).next(v=>{f=v;const y=v.applyToLocalDocumentSet(c,p);return A.documentOverlayCache.saveOverlays(g,v.batchId,y)})}).then(()=>({batchId:f.batchId,changes:_O(c)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,A){let l=a.Ba[a.currentUser.toKey()];l||(l=new bt(Ne)),l=l.insert(o,A),a.Ba[a.currentUser.toKey()]=l}(n,i.batchId,r),await vf(n,i.changes),await pf(n.remoteStore)}catch(i){const s=$C(i,"Failed to persist write");r.reject(s)}}async function E4(t,e){const r=Fe(t);try{const n=await YG(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Na.get(s);a&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?xe(a.va):i.removedDocuments.size>0&&(xe(a.va),a.va=!1))}),await vf(r,n,e)}catch(n){await CA(n)}}function $T(t,e,r){const n=Fe(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const A=Fe(a);A.onlineState=o;let l=!1;A.queries.forEach((u,c)=>{for(const f of c.j_)f.Z_(o)&&(l=!0)}),l&&zC(A)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function kW(t,e,r){const n=Fe(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new bt(oe.comparator);a=a.insert(s,Qt.newNoDocument(s,Be.min()));const o=ke().add(s),A=new c0(Be.min(),new Map,new bt(Ne),a,o);await E4(n,A),n.Oa=n.Oa.remove(s),n.Na.delete(e),XC(n)}else await $x(n.localStore,e,!1).then(()=>Wx(n,e,r)).catch(CA)}async function OW(t,e){const r=Fe(t),n=e.batch.batchId;try{const i=await zG(r.localStore,e);I4(r,n,null),_4(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await vf(r,i)}catch(i){await CA(i)}}async function DW(t,e,r){const n=Fe(t);try{const i=await function(a,o){const A=Fe(a);return A.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return A.mutationQueue.lookupMutationBatch(l,o).next(c=>(xe(c!==null),u=c.keys(),A.mutationQueue.removeMutationBatch(l,c))).next(()=>A.mutationQueue.performConsistencyCheck(l)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>A.localDocuments.getDocuments(l,u))})}(n.localStore,e);I4(n,e,r),_4(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await vf(n,i)}catch(i){await CA(i)}}function _4(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function I4(t,e,r){const n=Fe(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function Wx(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||S4(t,n)})}function S4(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(MC(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),XC(t))}function GT(t,e,r){for(const n of r)n instanceof b4?(t.La.addReference(n.key,e),jW(t,n)):n instanceof B4?(ee("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||S4(t,n.key)):pe()}function jW(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(ee("SyncEngine","New document in limbo: "+r),t.xa.add(n),XC(t))}function XC(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new oe(Xe.fromString(e)),n=t.qa.next();t.Na.set(n,new IW(r)),t.Oa=t.Oa.insert(r,n),m4(t.remoteStore,new cs(Zn(ff(r.path)),n,"TargetPurposeLimboResolution",Gn.oe))}}async function vf(t,e,r){const n=Fe(t),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,A)=>{a.push(n.Ka(A,e,r).then(l=>{var u;if((l||r)&&n.isPrimaryClient){const c=l?!l.fromCache:(u=r==null?void 0:r.targetChanges.get(A.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(A.targetId,c?"current":"not-current")}if(l){i.push(l);const c=RC.Wi(A.targetId,l);s.push(c)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(A,l){const u=Fe(A);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>L.forEach(l,f=>L.forEach(f.$i,g=>u.persistence.referenceDelegate.addReference(c,f.targetId,g)).next(()=>L.forEach(f.Ui,g=>u.persistence.referenceDelegate.removeReference(c,f.targetId,g)))))}catch(c){if(!ao(c))throw c;ee("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const f=c.targetId;if(!c.fromCache){const g=u.os.get(f),m=g.snapshotVersion,p=g.withLastLimboFreeSnapshotVersion(m);u.os=u.os.insert(f,p)}}}(n.localStore,s))}async function RW(t,e){const r=Fe(t);if(!r.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const n=await c4(r.localStore,e);r.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(A=>{A.reject(new fe(z.CANCELLED,a))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await vf(r,n.hs)}}function MW(t,e){const r=Fe(t),n=r.Na.get(e);if(n&&n.va)return ke().add(n.key);{let i=ke();const s=r.Ma.get(e);if(!s)return i;for(const a of s){const o=r.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function T4(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=E4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kW.bind(null,e),e.Ca.d_=BW.bind(null,e.eventManager),e.Ca.$a=CW.bind(null,e.eventManager),e}function F4(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DW.bind(null,e),e}class Md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=g0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return u4(this.persistence,new l4,e.initialUser,this.serializer)}Ga(e){return new A4(h0.Zr,this.serializer)}Wa(e){return new f4}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Md.provider={build:()=>new Md};class LW extends Md{constructor(e,r,n){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await F4(this.Ja.syncEngine),await pf(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return u4(this.persistence,new l4,e.initialUser,this.serializer)}ja(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new TG(n,e.asyncQueue,r)}Ha(e,r){const n=new n9(r,this.persistence);return new r9(e.asyncQueue,n)}Ga(e){const r=$G(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?Jr.withCacheSize(this.cacheSizeBytes):Jr.DEFAULT;return new jC(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,iW(),kg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new f4}}class Nm{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>$T(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=RW.bind(null,this.syncEngine),await wW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bW}()}createDatastore(e){const r=g0(e.databaseInfo.databaseId),n=function(s){return new nW(s)}(e.databaseInfo);return function(s,a,o,A){return new oW(s,a,o,A)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new lW(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>$T(this.syncEngine,r,0),function(){return MT.D()?new MT:new eW}())}createSyncEngine(e,r){return function(i,s,a,o,A,l,u){const c=new SW(i,s,a,o,A,l);return u&&(c.Qa=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=Fe(i);ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await mf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Nm.provider={build:()=>new Nm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Hr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=pr.UNAUTHENTICATED,this.clientId=wC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{ee("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(ee("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=$C(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Fy(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await c4(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function WT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await VW(t);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>LT(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>LT(e.remoteStore,i)),t._onlineComponents=e}async function VW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Fy(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Va("Error using user provided cache. Falling back to memory cache: "+r),await Fy(t,new Md)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await Fy(t,new Md);return t._offlineComponents}async function U4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await WT(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await WT(t,new Nm))),t._onlineComponents}function KW(t){return U4(t).then(e=>e.syncEngine)}async function Qm(t){const e=await U4(t),r=e.eventManager;return r.onListen=TW.bind(null,e.syncEngine),r.onUnlisten=PW.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=FW.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=NW.bind(null,e.syncEngine),r}function $W(t,e,r={}){const n=new Di;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,A,l){const u=new qC({next:f=>{u.Za(),a.enqueueAndForget(()=>WC(s,c));const g=f.docs.has(o);!g&&f.fromCache?l.reject(new fe(z.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&A&&A.source==="server"?l.reject(new fe(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new YC(ff(o.path),u,{includeMetadataChanges:!0,_a:!0});return GC(s,c)}(await Qm(t),t.asyncQueue,e,r,n)),n.promise}function GW(t,e,r={}){const n=new Di;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,A,l){const u=new qC({next:f=>{u.Za(),a.enqueueAndForget(()=>WC(s,c)),f.fromCache&&A.source==="server"?l.reject(new fe(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new YC(o,u,{includeMetadataChanges:!0,_a:!0});return GC(s,c)}(await Qm(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t,e,r){if(!r)throw new fe(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q4(t,e,r,n){if(e===!0&&n===!0)throw new fe(z.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function YT(t){if(!oe.isDocumentKey(t))throw new fe(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XT(t){if(oe.isDocumentKey(t))throw new fe(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function JC(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function ei(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=JC(t);throw new fe(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P4((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class p0{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new tO;switch(n.type){case"firstParty":return new z8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new fe(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=zT.get(r);n&&(ee("ComponentProvider","Removing Datastore"),zT.delete(r),n.terminate())}(this),Promise.resolve()}}function k4(t,e,r,n={}){var i;const s=(t=ei(t,p0))._getSettings(),a=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,A;if(typeof n.mockUserToken=="string")o=n.mockUserToken,A=pr.MOCK_USER;else{o=B$(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new fe(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new pr(l)}t._authCredentials=new $8(new eO(o,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new _A(this.firestore,e,this._query)}}class Wr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wr(this.firestore,e,this._key)}}class ws extends _A{constructor(e,r,n){super(e,r,ff(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wr(this.firestore,null,new oe(e))}withConverter(e){return new ws(this.firestore,e,this._path)}}function td(t,e,...r){if(t=An(t),N4("collection","path",e),t instanceof p0){const n=Xe.fromString(e,...r);return XT(n),new ws(t,null,n)}{if(!(t instanceof Wr||t instanceof ws))throw new fe(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Xe.fromString(e,...r));return XT(n),new ws(t.firestore,null,n)}}function Fi(t,e,...r){if(t=An(t),arguments.length===1&&(e=wC.newId()),N4("doc","path",e),t instanceof p0){const n=Xe.fromString(e,...r);return YT(n),new Wr(t,null,new oe(n))}{if(!(t instanceof Wr||t instanceof ws))throw new fe(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Xe.fromString(e,...r));return YT(n),new Wr(t.firestore,t instanceof ws?t.converter:null,new oe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new h4(this,"async_queue_retry"),this.Vu=()=>{const n=kg();n&&ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=kg();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=kg();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Di;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ao(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw Hr("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=KC.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&pe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function ZT(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=-1;class za extends p0{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new JT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JT(e),this._firestoreClient=void 0,await e}}}function D4(t,e){const r=typeof t=="object"?t:$k(),n=typeof t=="string"?t:"(default)",i=vC(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=x$("firestore");s&&k4(i,...s)}return i}function yf(t){if(t._terminated)throw new fe(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||j4(t),t._firestoreClient}function j4(t){var e,r,n;const i=t._freezeSettings(),s=function(o,A,l,u){return new E9(o,A,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,P4(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new HW(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const A=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(A),_online:A}}(t._componentsProvider))}function R4(t,e){Va("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return WW(t,Nm.provider,{build:n=>new LW(n,r.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function WW(t,e,r){if((t=ei(t,za))._firestoreClient||t._terminated)throw new fe(z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new fe(z.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},j4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mA(Rt.fromBase64String(e))}catch(r){throw new fe(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new mA(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new fe(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new fe(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new fe(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=/^__.*__$/;class YW{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Ao(e,this.data,this.fieldMask,r,this.fieldTransforms):new Cu(e,this.data,r,this.fieldTransforms)}}function M4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class ZC{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ZC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return km(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(M4(this.Cu)&&zW.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class XW{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||g0(e)}Qu(e,r,n,i=!1){return new ZC({Cu:e,methodName:r,qu:n,path:vt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qW(t){const e=t._freezeSettings(),r=g0(t._databaseId);return new XW(t._databaseId,!!e.ignoreUndefinedProperties,r)}function JW(t,e,r,n,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);K4("Data must be an object, but it was:",a,n);const o=H4(n,a);let A,l;if(s.merge)A=new Wn(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const c of s.mergeFields){const f=ZW(e,c,r);if(!a.contains(f))throw new fe(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);tz(u,f)||u.push(f)}A=new Wn(u),l=a.fieldTransforms.filter(c=>A.covers(c.field))}else A=null,l=a.fieldTransforms;return new YW(new tn(o),A,l)}class eE extends y0{_toFieldTransform(e){return new NO(e.path,new ql)}isEqual(e){return e instanceof eE}}function L4(t,e){if(V4(t=An(t)))return K4("Unsupported field value:",e,t),H4(t,e);if(t instanceof y0)return function(n,i){if(!M4(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let A=L4(o,i.Lu(a));A==null&&(A={nullValue:"NULL_VALUE"}),s.push(A),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=An(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return G9(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=xt.fromDate(n);return{timestampValue:eu(i.serializer,s)}}if(n instanceof xt){const s=new xt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:eu(i.serializer,s)}}if(n instanceof w0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof mA)return{bytesValue:MO(i.serializer,n._byteString)};if(n instanceof Wr){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:QC(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof x0)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(A=>{if(typeof A!="number")throw o.Bu("VectorValues must only contain numeric values.");return SC(o.serializer,A)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${JC(n)}`)}(t,e)}function H4(t,e){const r={};return cO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bu(t,(n,i)=>{const s=L4(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function V4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof w0||t instanceof mA||t instanceof Wr||t instanceof y0||t instanceof x0)}function K4(t,e,r){if(!V4(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=JC(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function ZW(t,e,r){if((e=An(e))instanceof v0)return e._internalPath;if(typeof e=="string")return $4(t,e);throw km("Field path arguments must be of type string or ",t,!1,void 0,r)}const ez=new RegExp("[~\\*/\\[\\]]");function $4(t,e,r){if(e.search(ez)>=0)throw km(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new v0(...e.split("."))._internalPath}catch{throw km(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function km(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let A="";return(s||a)&&(A+=" (found",s&&(A+=` in field ${n}`),a&&(A+=` in document ${i}`),A+=")"),new fe(z.INVALID_ARGUMENT,o+t+A)}function tz(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(W4("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class rz extends G4{data(){return super.data()}}function W4(t,e){return typeof e=="string"?$4(t,e):e instanceof v0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nz{}class Y4 extends nz{}class b0 extends Y4{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new b0(e,r,n)}_apply(e){return new _A(e.firestore,e.converter,_m(e._query,this._limit,this._limitType))}}function X4(t){return b0._create("limit",t,"F")}class q4{convertValue(e,r="none"){switch(cA(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw pe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Bu(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>mt(a.doubleValue));return new x0(s)}convertGeoPoint(e){return new w0(mt(e.latitude),mt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=EC(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Od(e));default:return null}}convertTimestamp(e){const r=Us(e);return new xt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Xe.fromString(e);xe(XO(n));const i=new $a(n.get(1),n.get(3)),s=new oe(n.popFirst(5));return i.isEqual(r)||Hr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tE extends G4{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(W4("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class rd extends tE{data(e={}){return super.data(e)}}class rE{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new yl(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new rd(this._firestore,this._userDataWriter,n.key,n,new yl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new fe(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const A=new rd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new yl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:A,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const A=new rd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new yl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return o.type!==0&&(l=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:sz(o.type),doc:A,oldIndex:l,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function sz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(t){t=ei(t,Wr);const e=ei(t.firestore,za);return $W(yf(e),t._key).then(r=>Z4(e,t,r))}class nE extends q4{constructor(e){super(),this.firestore=e}convertBytes(e){return new mA(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Wr(this.firestore,null,r)}}function nd(t){t=ei(t,_A);const e=ei(t.firestore,za),r=yf(e),n=new nE(e);return z4(t._query),GW(r,t._query).then(i=>new rE(e,n,t,i))}function Mo(t,e,r){t=ei(t,Wr);const n=ei(t.firestore,za),i=iz(t.converter,e);return J4(n,[JW(qW(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,bn.none())])}function Ld(t,...e){var r,n,i;t=An(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||ZT(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(ZT(e[a])){const c=e[a];e[a]=(r=c.next)===null||r===void 0?void 0:r.bind(c),e[a+1]=(n=c.error)===null||n===void 0?void 0:n.bind(c),e[a+2]=(i=c.complete)===null||i===void 0?void 0:i.bind(c)}let A,l,u;if(t instanceof Wr)l=ei(t.firestore,za),u=ff(t._key.path),A={next:c=>{e[a]&&e[a](Z4(l,t,c))},error:e[a+1],complete:e[a+2]};else{const c=ei(t,_A);l=ei(c.firestore,za),u=c._query;const f=new nE(l);A={next:g=>{e[a]&&e[a](new rE(l,f,c,g))},error:e[a+1],complete:e[a+2]},z4(t._query)}return function(f,g,m,p){const v=new qC(p),y=new YC(g,v,m);return f.asyncQueue.enqueueAndForget(async()=>GC(await Qm(f),y)),()=>{v.Za(),f.asyncQueue.enqueueAndForget(async()=>WC(await Qm(f),y))}}(yf(l),u,o,A)}function J4(t,e){return function(n,i){const s=new Di;return n.asyncQueue.enqueueAndForget(async()=>QW(await KW(n),i,s)),s.promise}(yf(t),e)}function Z4(t,e,r){const n=r.docs.get(e._key),i=new nE(t);return new tE(t,i,e._key,n,new yl(r.hasPendingWrites,r.fromCache),e.converter)}function oz(){return new eE("serverTimestamp")}(function(e,r=!0){(function(i){bu=i})(xu),Gl(new lA("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new za(new G8(n.getProvider("auth-internal")),new X8(n.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new fe(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(l.options.projectId,u)}(a,i),a);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Na(WS,"4.7.3",e),Na(WS,"4.7.3","esm2017")})();const zx=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:q4,Bytes:mA,CACHE_SIZE_UNLIMITED:O4,CollectionReference:ws,DocumentReference:Wr,DocumentSnapshot:tE,FieldPath:v0,FieldValue:y0,Firestore:za,FirestoreError:fe,GeoPoint:w0,Query:_A,QueryConstraint:Y4,QueryDocumentSnapshot:rd,QueryLimitConstraint:b0,QuerySnapshot:rE,SnapshotMetadata:yl,Timestamp:xt,VectorValue:x0,_AutoId:wC,_ByteString:Rt,_DatabaseId:$a,_DocumentKey:oe,_EmptyAuthCredentialsProvider:tO,_FieldPath:vt,_cast:ei,_logWarn:Va,_validateIsNotUsedTogether:Q4,collection:td,connectFirestoreEmulator:k4,doc:Fi,enableIndexedDbPersistence:R4,ensureFirestoreConfigured:yf,executeWrite:J4,getDoc:az,getDocs:nd,getFirestore:D4,limit:X4,onSnapshot:Ld,serverTimestamp:oz,setDoc:Mo},Symbol.toStringTag,{value:"Module"}));var Az="firebase",lz="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Na(Az,lz,"app");function iE(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function eD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tD=eD,rD=new uf("auth","Firebase",eD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=new mC("@firebase/auth");function uz(t,...e){Om.logLevel<=je.WARN&&Om.warn(`Auth (${xu}): ${t}`,...e)}function Og(t,...e){Om.logLevel<=je.ERROR&&Om.error(`Auth (${xu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t,...e){throw sE(t,...e)}function ji(t,...e){return sE(t,...e)}function nD(t,e,r){const n=Object.assign(Object.assign({},tD()),{[e]:r});return new uf("auth","Firebase",n).create(e,{appName:t.name})}function ka(t){return nD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sE(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return rD.create(t,...e)}function _e(t,e,...r){if(!t)throw sE(e,...r)}function ds(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Og(e),new Error(e)}function Ps(t,e){t||ds(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cz(){return e2()==="http:"||e2()==="https:"}function e2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cz()||I$()||"connection"in navigator)?navigator.onLine:!0}function fz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ps(r>e,"Short delay should be less than long delay!"),this.isMobile=C$()||S$()}get(){return dz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t,e){Ps(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz=new wf(3e4,6e4);function IA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function lo(t,e,r,n,i={}){return sD(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=cf(Object.assign({key:t.config.apiKey},a)).slice(1),A=await t._getAdditionalHeaders();A["Content-Type"]="application/json",t.languageCode&&(A["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:A},s);return _$()||(l.referrerPolicy="no-referrer"),iD.fetch()(aD(t,t.config.apiHost,r,o),l)})}async function sD(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},hz),e);try{const i=new pz(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Fh(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[A,l]=o.split(" : ");if(A==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(t,"credential-already-in-use",a);if(A==="EMAIL_EXISTS")throw Fh(t,"email-already-in-use",a);if(A==="USER_DISABLED")throw Fh(t,"user-disabled",a);const u=n[A]||A.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw nD(t,u,l);bi(t,u)}}catch(i){if(i instanceof Ls)throw i;bi(t,"network-request-failed",{message:String(i)})}}async function B0(t,e,r,n,i={}){const s=await lo(t,e,r,n,i);return"mfaPendingCredential"in s&&bi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function aD(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?aE(t.config,i):`${t.config.apiScheme}://${i}`}function mz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ji(this.auth,"network-request-failed")),gz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=ji(t,e,n);return i.customData._tokenResponse=r,i}function t2(t){return t!==void 0&&t.enterprise!==void 0}class vz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return mz(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function yz(t,e){return lo(t,"GET","/v2/recaptchaConfig",IA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wz(t,e){return lo(t,"POST","/v1/accounts:delete",e)}async function oD(t,e){return lo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AD(t,e=!1){const r=An(t),n=await r.getIdToken(e),i=oE(n);_e(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:id(Uy(i.auth_time)),issuedAtTime:id(Uy(i.iat)),expirationTime:id(Uy(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Uy(t){return Number(t)*1e3}function oE(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Og("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ok(r);return i?JSON.parse(i):(Og("Failed to decode base64 JWT payload"),null)}catch(i){return Og("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function r2(t){const e=oE(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ls&&xz(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function xz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=id(this.lastLoginAt),this.creationTime=id(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dm(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Hd(t,oD(r,{idToken:n}));_e(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?uD(s.providerUserInfo):[],o=Bz(t.providerData,a),A=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=A?l:!1,c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Xx(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function lD(t){const e=An(t);await Dm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Bz(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function uD(t){return t.map(e=>{var{providerId:r}=e,n=iE(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cz(t,e){const r=await sD(t,{},async()=>{const n=cf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=aD(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",iD.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Ez(t,e){return lo(t,"POST","/v2/accounts:revokeToken",IA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const r=r2(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await Cz(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new Pl;return n&&(_e(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(_e(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(_e(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pl,this.toJSON())}_performRefresh(){return ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fs{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=iE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Xx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await Hd(this,this.stsTokenManager.getToken(this.auth,e));return _e(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return AD(this,e)}reload(){return lD(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new fs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Dm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(us(this.auth.app))return Promise.reject(ka(this.auth));const e=await this.getIdToken();return await Hd(this,wz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,a,o,A,l,u;const c=(n=r.displayName)!==null&&n!==void 0?n:void 0,f=(i=r.email)!==null&&i!==void 0?i:void 0,g=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,m=(a=r.photoURL)!==null&&a!==void 0?a:void 0,p=(o=r.tenantId)!==null&&o!==void 0?o:void 0,v=(A=r._redirectEventId)!==null&&A!==void 0?A:void 0,y=(l=r.createdAt)!==null&&l!==void 0?l:void 0,w=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:B,emailVerified:I,isAnonymous:T,providerData:F,stsTokenManager:C}=r;_e(B&&C,e,"internal-error");const _=Pl.fromJSON(this.name,C);_e(typeof B=="string",e,"internal-error"),ra(c,e.name),ra(f,e.name),_e(typeof I=="boolean",e,"internal-error"),_e(typeof T=="boolean",e,"internal-error"),ra(g,e.name),ra(m,e.name),ra(p,e.name),ra(v,e.name),ra(y,e.name),ra(w,e.name);const S=new fs({uid:B,auth:e,email:f,emailVerified:I,displayName:c,isAnonymous:T,photoURL:m,phoneNumber:g,tenantId:p,stsTokenManager:_,createdAt:y,lastLoginAt:w});return F&&Array.isArray(F)&&(S.providerData=F.map(P=>Object.assign({},P))),v&&(S._redirectEventId=v),S}static async _fromIdTokenResponse(e,r,n=!1){const i=new Pl;i.updateFromServerResponse(r);const s=new fs({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Dm(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];_e(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?uD(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Pl;o.updateFromIdToken(n);const A=new fs({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Xx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(A,l),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new Map;function hs(t){Ps(t instanceof Function,"Expected a class definition");let e=n2.get(t);return e?(Ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,n2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}cD.type="NONE";const qx=cD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t,e,r){return`firebase:${t}:${e}:${r}`}class Nl{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Dg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Dg("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Nl(hs(qx),e,n);const i=(await Promise.all(r.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||hs(qx);const a=Dg(n,e.config.apiKey,e.name);let o=null;for(const l of r)try{const u=await l._get(a);if(u){const c=fs._fromJSON(e,u);l!==s&&(o=c),s=l;break}}catch{}const A=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!A.length?new Nl(s,e,n):(s=A[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async l=>{if(l!==s)try{await l._remove(a)}catch{}})),new Nl(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pD(e))return"Blackberry";if(vD(e))return"Webos";if(fD(e))return"Safari";if((e.includes("chrome/")||hD(e))&&!e.includes("edge/"))return"Chrome";if(mD(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function dD(t=Xt()){return/firefox\//i.test(t)}function fD(t=Xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hD(t=Xt()){return/crios\//i.test(t)}function gD(t=Xt()){return/iemobile/i.test(t)}function mD(t=Xt()){return/android/i.test(t)}function pD(t=Xt()){return/blackberry/i.test(t)}function vD(t=Xt()){return/webos/i.test(t)}function AE(t=Xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _z(t=Xt()){var e;return AE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Iz(){return T$()&&document.documentMode===10}function yD(t=Xt()){return AE(t)||mD(t)||vD(t)||pD(t)||/windows phone/i.test(t)||gD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t,e=[]){let r;switch(t){case"Browser":r=i2(Xt());break;case"Worker":r=`${i2(Xt())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${xu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const A=e(s);a(A)}catch(A){o(A)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tz(t,e={}){return lo(t,"GET","/v2/passwordPolicy",IA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=6;class Uz{constructor(e){var r,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:Fz,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,a,o;const A={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,A),this.validatePasswordCharacterOptions(e,A),A.isValid&&(A.isValid=(r=A.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),A.isValid&&(A.isValid=(n=A.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),A.isValid&&(A.isValid=(i=A.containsLowercaseLetter)!==null&&i!==void 0?i:!0),A.isValid&&(A.isValid=(s=A.containsUppercaseLetter)!==null&&s!==void 0?s:!0),A.isValid&&(A.isValid=(a=A.containsNumericCharacter)!==null&&a!==void 0?a:!0),A.isValid&&(A.isValid=(o=A.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),A}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s2(this),this.idTokenSubscription=new s2(this),this.beforeStateQueue=new Sz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=hs(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Nl.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await oD(this,{idToken:e}),n=await fs._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(us(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,A=await this.tryRedirectSignIn(e);(!a||a===o)&&(A!=null&&A.user)&&(i=A.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Dm(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(us(this.app))return Promise.reject(ka(this));const r=e?An(e):null;return r&&_e(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return us(this.app)?Promise.reject(ka(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return us(this.app)?Promise.reject(ka(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Tz(this),r=new Uz(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Ez(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&hs(e)||this._popupRedirectResolver;_e(r,this,"argument-error"),this.redirectPersistenceManager=await Nl.create(this,[hs(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const A=e.addObserver(r,n,i);return()=>{a=!0,A()}}else{const A=e.addObserver(r);return()=>{a=!0,A()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&uz(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function _u(t){return An(t)}class s2{constructor(e){this.auth=e,this.observer=null,this.addObserver=k$(r=>this.observer=r)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nz(t){C0=t}function xD(t){return C0.loadJS(t)}function Qz(){return C0.recaptchaEnterpriseScript}function kz(){return C0.gapiScript}function Oz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Dz="recaptcha-enterprise",jz="NO_RECAPTCHA";class Rz{constructor(e){this.type=Dz,this.auth=_u(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{yz(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(A=>{if(A.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const l=new vz(A);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,a(l.siteKey)}}).catch(A=>{o(A)})})}function i(s,a,o){const A=window.grecaptcha;t2(A)?A.enterprise.ready(()=>{A.enterprise.execute(s,{action:e}).then(l=>{a(l)}).catch(()=>{a(jz)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&t2(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let A=Qz();A.length!==0&&(A+=o),xD(A).then(()=>{i(o,s,a)}).catch(l=>{a(l)})}}).catch(o=>{a(o)})})}}async function a2(t,e,r,n=!1){const i=new Rz(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function o2(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await a2(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await a2(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t,e){const r=vC(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(xm(s,e??{}))return i;bi(i,"already-initialized")}return r.initialize({options:e})}function Mz(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(hs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function BD(t,e,r){const n=_u(t);_e(n._canInitEmulator,n,"emulator-config-failed"),_e(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=CD(e),{host:a,port:o}=Lz(e),A=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${A}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Hz()}function CD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Lz(t){const e=CD(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:A2(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:A2(a)}}}function A2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Hz(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,r){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}async function Vz(t,e){return lo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kz(t,e){return B0(t,"POST","/v1/accounts:signInWithPassword",IA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $z(t,e){return B0(t,"POST","/v1/accounts:signInWithEmailLink",IA(t,e))}async function Gz(t,e){return B0(t,"POST","/v1/accounts:signInWithEmailLink",IA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends E0{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new ru(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new ru(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return o2(e,r,"signInWithPassword",Kz);case"emailLink":return $z(e,{email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return o2(e,n,"signUpPassword",Vz);case"emailLink":return Gz(e,{idToken:r,email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t,e){return B0(t,"POST","/v1/accounts:signInWithIdp",IA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz="http://localhost";class Ya extends E0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):bi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=iE(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new Ya(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return Ql(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Ql(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Ql(e,r)}buildRequest(){const e={requestUri:Wz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=cf(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yz(t){const e=_c(Ic(t)).link,r=e?_c(Ic(e)).deep_link_id:null,n=_c(Ic(t)).deep_link_id;return(n?_c(Ic(n)).link:null)||n||r||e||t}class _0{constructor(e){var r,n,i,s,a,o;const A=_c(Ic(e)),l=(r=A.apiKey)!==null&&r!==void 0?r:null,u=(n=A.oobCode)!==null&&n!==void 0?n:null,c=zz((i=A.mode)!==null&&i!==void 0?i:null);_e(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=(s=A.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=A.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=A.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=Yz(e);try{return new _0(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.providerId=SA.PROVIDER_ID}static credential(e,r){return ru._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=_0.parseLink(r);return _e(n,"argument-error"),ru._fromEmailAndCode(e,n.code,n.tenantId)}}SA.PROVIDER_ID="password";SA.EMAIL_PASSWORD_SIGN_IN_METHOD="password";SA.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends ED{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends xf{constructor(){super("facebook.com")}static credential(e){return Ya._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends xf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ya._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ns.credential(r,n)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends xf{constructor(){super("github.com")}static credential(e){return Ya._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends xf{constructor(){super("twitter.com")}static credential(e,r){return Ya._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return ss.credential(r,n)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await fs._fromIdTokenResponse(e,n,i),a=l2(n);return new nu({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=l2(n);return new nu({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function l2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends Ls{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,jm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new jm(e,r,n,i)}}function _D(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?jm._fromErrorAndOperation(t,s,e,n):s})}async function Xz(t,e,r=!1){const n=await Hd(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return nu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qz(t,e,r=!1){const{auth:n}=t;if(us(n.app))return Promise.reject(ka(n));const i="reauthenticate";try{const s=await Hd(t,_D(n,i,e,t),r);_e(s.idToken,n,"internal-error");const a=oE(s.idToken);_e(a,n,"internal-error");const{sub:o}=a;return _e(t.uid===o,n,"user-mismatch"),nu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&bi(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(t,e,r=!1){if(us(t.app))return Promise.reject(ka(t));const n="signIn",i=await _D(t,n,e),s=await nu._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function SD(t,e){return ID(_u(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jz(t){const e=_u(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Zz(t,e,r){return us(t.app)?Promise.reject(ka(t)):SD(An(t),SA.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Jz(t),n})}function TD(t,e,r,n){return An(t).onIdTokenChanged(e,r,n)}function FD(t,e,r){return An(t).beforeAuthStateChanged(e,r)}function e7(t){return An(t).signOut()}const Rm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Rm,"1"),this.storage.removeItem(Rm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7=1e3,r7=10;class PD extends UD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,A)=>{this.notifyListeners(a,A)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);Iz()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,r7):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},t7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}PD.type="LOCAL";const ND=PD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD extends UD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}QD.type="SESSION";const lE=QD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new I0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async l=>l(r.origin,s)),A=await n7(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:A})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}I0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,A)=>{const l=uE("",20);i.port1.start();const u=setTimeout(()=>{A(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(c){const f=c;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{A(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(f.data.response);break;default:clearTimeout(u),clearTimeout(s),A(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function s7(t){Ri().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function a7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function A7(){return kD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="firebaseLocalStorageDb",l7=1,Mm="firebaseLocalStorage",DD="fbase_key";class bf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function S0(t,e){return t.transaction([Mm],e?"readwrite":"readonly").objectStore(Mm)}function u7(){const t=indexedDB.deleteDatabase(OD);return new bf(t).toPromise()}function Jx(){const t=indexedDB.open(OD,l7);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Mm,{keyPath:DD})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Mm)?e(n):(n.close(),await u7(),e(await Jx()))})})}async function u2(t,e,r){const n=S0(t,!0).put({[DD]:e,value:r});return new bf(n).toPromise()}async function c7(t,e){const r=S0(t,!1).get(e),n=await new bf(r).toPromise();return n===void 0?null:n.value}function c2(t,e){const r=S0(t,!0).delete(e);return new bf(r).toPromise()}const d7=800,f7=3;class jD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jx(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>f7)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=I0._getInstance(A7()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await a7(),!this.activeServiceWorker)return;this.sender=new i7(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jx();return await u2(e,Rm,"1"),await c2(e,Rm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>u2(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>c7(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>c2(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=S0(i,!1).getAll();return new bf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jD.type="LOCAL";const RD=jD;new wf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(t,e){return e?hs(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE extends E0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ql(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Ql(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Ql(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function g7(t){return ID(t.auth,new cE(t),t.bypassAuthState)}function m7(t){const{auth:e,user:r}=t;return _e(r,e,"internal-error"),qz(r,new cE(t),t.bypassAuthState)}async function p7(t){const{auth:e,user:r}=t;return _e(r,e,"internal-error"),Xz(r,new cE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const A={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(A))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g7;case"linkViaPopup":case"linkViaRedirect":return p7;case"reauthViaPopup":case"reauthViaRedirect":return m7;default:bi(this.auth,"internal-error")}}resolve(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7=new wf(2e3,1e4);class wl extends MD{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,wl.currentPopupAction&&wl.currentPopupAction.cancel(),wl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Ps(this.filter.length===1,"Popup operations only handle one event");const e=uE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,v7.get())};e()}}wl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7="pendingRedirect",jg=new Map;class w7 extends MD{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=jg.get(this.auth._key());if(!e){try{const n=await x7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}jg.set(this.auth._key(),e)}return this.bypassAuthState||jg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function x7(t,e){const r=C7(e),n=B7(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function b7(t,e){jg.set(t._key(),e)}function B7(t){return hs(t._redirectPersistence)}function C7(t){return Dg(y7,t.config.apiKey,t.name)}async function E7(t,e,r=!1){if(us(t.app))return Promise.reject(ka(t));const n=_u(t),i=h7(n,e),a=await new w7(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=10*60*1e3;class I7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S7(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!LD(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(ji(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_7&&this.cachedEventUids.clear(),this.cachedEventUids.has(d2(e))}saveEventToCache(e){this.cachedEventUids.add(d2(e)),this.lastProcessedEventTime=Date.now()}}function d2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function S7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T7(t,e={}){return lo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U7=/^https?/;async function P7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await T7(t);for(const r of e)try{if(N7(r))return}catch{}bi(t,"unauthorized-domain")}function N7(t){const e=Yx(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!U7.test(r))return!1;if(F7.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7=new wf(3e4,6e4);function f2(){const t=Ri().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function k7(t){return new Promise((e,r)=>{var n,i,s;function a(){f2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f2(),r(ji(t,"network-request-failed"))},timeout:Q7.get()})}if(!((i=(n=Ri().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ri().gapi)===null||s===void 0)&&s.load)a();else{const o=Oz("iframefcb");return Ri()[o]=()=>{gapi.load?a():r(ji(t,"network-request-failed"))},xD(`${kz()}?onload=${o}`).catch(A=>r(A))}}).catch(e=>{throw Rg=null,e})}let Rg=null;function O7(t){return Rg=Rg||k7(t),Rg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7=new wf(5e3,15e3),j7="__/auth/iframe",R7="emulator/auth/iframe",M7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H7(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?aE(e,R7):`https://${t.config.authDomain}/${j7}`,n={apiKey:e.apiKey,appName:t.name,v:xu},i=L7.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${cf(n).slice(1)}`}async function V7(t){const e=await O7(t),r=Ri().gapi;return _e(r,t,"internal-error"),e.open({where:document.body,url:H7(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M7,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=ji(t,"network-request-failed"),o=Ri().setTimeout(()=>{s(a)},D7.get());function A(){Ri().clearTimeout(o),i(n)}n.ping(A).then(A,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$7=500,G7=600,W7="_blank",z7="http://localhost";class h2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y7(t,e,r,n=$7,i=G7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const A=Object.assign(Object.assign({},K7),{width:n.toString(),height:i.toString(),top:s,left:a}),l=Xt().toLowerCase();r&&(o=hD(l)?W7:r),dD(l)&&(e=e||z7,A.scrollbars="yes");const u=Object.entries(A).reduce((f,[g,m])=>`${f}${g}=${m},`,"");if(_z(l)&&o!=="_self")return X7(e||"",o),new h2(null);const c=window.open(e||"",o,u);_e(c,t,"popup-blocked");try{c.focus()}catch{}return new h2(c)}function X7(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7="__/auth/handler",J7="emulator/auth/handler",Z7=encodeURIComponent("fac");async function g2(t,e,r,n,i,s){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:xu,eventId:i};if(e instanceof ED){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Q$(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries({}))a[u]=c}if(e instanceof xf){const u=e.getScopes().filter(c=>c!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const A=await t._getAppCheckToken(),l=A?`#${Z7}=${encodeURIComponent(A)}`:"";return`${eY(t)}?${cf(o).slice(1)}${l}`}function eY({config:t}){return t.emulator?aE(t,J7):`https://${t.authDomain}/${q7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="webStorageSupport";class tY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lE,this._completeRedirectFn=E7,this._overrideRedirectResult=b7}async _openPopup(e,r,n,i){var s;Ps((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await g2(e,r,n,Yx(),i);return Y7(e,a,uE())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await g2(e,r,n,Yx(),i);return s7(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Ps(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await V7(e),n=new I7(e);return r.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Py,{type:Py},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Py];a!==void 0&&r(!!a),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=P7(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return yD()||fD()||AE()}}const HD=tY;var m2="@firebase/auth",p2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iY(t){Gl(new lA("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;_e(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const A={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wD(t)},l=new Pz(n,i,s,A);return Mz(l,r),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Gl(new lA("auth-internal",e=>{const r=_u(e.getProvider("auth").getImmediate());return(n=>new rY(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Na(m2,p2,nY(t)),Na(m2,p2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sY=5*60,aY=Rk("authIdTokenMaxAge")||sY;let v2=null;const oY=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>aY)return;const i=r==null?void 0:r.token;v2!==i&&(v2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function VD(t=$k()){const e=vC(t,"auth");if(e.isInitialized())return e.getImmediate();const r=bD(t,{popupRedirectResolver:HD,persistence:[RD,ND,lE]}),n=Rk("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=oY(s.toString());FD(r,a,()=>a(r.currentUser)),TD(r,o=>a(o))}}const i=Dk("auth");return i&&BD(r,`http://${i}`),r}function AY(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Nz({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=ji("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",AY().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iY("Browser");const lY=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:_0,AuthCredential:E0,EmailAuthCredential:ru,EmailAuthProvider:SA,FacebookAuthProvider:rs,GithubAuthProvider:is,GoogleAuthProvider:ns,OAuthCredential:Ya,TwitterAuthProvider:ss,beforeAuthStateChanged:FD,browserLocalPersistence:ND,browserPopupRedirectResolver:HD,browserSessionPersistence:lE,connectAuthEmulator:BD,getAuth:VD,getIdTokenResult:AD,inMemoryPersistence:qx,indexedDBLocalPersistence:RD,initializeAuth:bD,onIdTokenChanged:TD,prodErrorMap:tD,reload:lD,signInWithCredential:SD,signInWithEmailAndPassword:Zz,signOut:e7},Symbol.toStringTag,{value:"Module"})),uY={apiKey:"AIzaSyBHzCLGD1E8mrp-iVaJ1P1t9cHe5QT8LN8",authDomain:"brainless-schedule.firebaseapp.com",projectId:"brainless-schedule",storageBucket:"brainless-schedule.appspot.com",messagingSenderId:"902167883215",appId:"1:902167883215:web:8dfc400a1035929c5bf6ba"};let Lm;HS().length?Lm=HS()[0]:Lm=Kk(uY);const gr=D4(Lm),KD=VD(Lm);try{R4(gr,{cacheSizeBytes:O4}).catch(t=>{t.code==="failed-precondition"?console.warn("離線持久性在多個標籤中失敗"):t.code==="unimplemented"&&console.warn("當前瀏覽器不支持離線持久性")})}catch(t){console.error("啟用離線功能時出錯:",t)}async function cY(){try{const t=await nd(td(gr,"forecasts"),X4(1));return console.log("Firebase 連接成功"),!0}catch(t){return console.error("Firebase 連接失敗:",t),!1}}const dY=async t=>{try{const{doc:e,getDoc:r}=await Yo(async()=>{const{doc:i,getDoc:s}=await Promise.resolve().then(()=>zx);return{doc:i,getDoc:s}},void 0);return(await r(e(gr,"admins",t))).exists()}catch(e){return console.error("檢查管理員狀態失敗:",e),!1}},zn={MAX_CONSECUTIVE_DAYS_CHECK:30,MIN_CONSECUTIVE_DAYS:4,MAX_CONSECUTIVE_DAYS:6,REST_SHIFTS:["休假","特休","月休","休","特"],TIME_SLOTS:{MORNING:{start:5,end:12},AFTERNOON:{start:12,end:18},EVENING:{start:18,end:22}},SHIFT_KEYWORDS:{MORNING:["早班","早","Morning","K","KK"],AFTERNOON:["中班","中","Mid","L"],EVENING:["晚班","晚","Evening","Y"]}};let Mg={};const fY=t=>{Mg=t},wr={consecutiveDays:new Map,todayWorkers:new Map,todayString:null,todayDate:null,lastCacheTime:0},T0=(t=!1)=>{const e=Date.now(),r=new Date().toDateString();(t||wr.lastCacheTime===0||new Date(wr.lastCacheTime).toDateString()!==r)&&(wr.consecutiveDays.clear(),wr.todayWorkers.clear(),wr.todayString=null,wr.todayDate=null,wr.lastCacheTime=e)},hY=()=>{T0(!0)},$D=()=>(T0(),wr.todayString||(wr.todayString=new Date().toISOString().split("T")[0]),wr.todayString),GD=()=>{if(T0(),!wr.todayDate){const t=new Date;wr.todayDate={year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate(),day:t.getDay()}}return wr.todayDate},gY=t=>!t||typeof t!="string"?!1:zn.REST_SHIFTS.includes(t.trim()),xl=t=>{if(!t||typeof t!="string")return!1;const e=t.trim();return e!==""&&!gY(e)},mY=(t,e,r)=>`${t}-${String(e).padStart(2,"0")}-${String(r).padStart(2,"0")}`,pY=t=>t.timeRestriction?Lg(t.startTime,t.endTime):!0,vY=(t,e)=>(t=t.replace(/\{早班同事\}/g,e.morning.length>0?e.morning.join("、"):""),t=t.replace(/\{中班同事\}/g,e.afternoon.length>0?e.afternoon.join("、"):""),t=t.replace(/\{晚班同事\}/g,e.evening.length>0?e.evening.join("、"):""),t=t.replace(/\{所有同事\}/g,e.all.length>0?e.all.join("、"):""),t),yY=(t,e)=>(t=t.replace(/\{早班人數\}/g,e.morning.length.toString()),t=t.replace(/\{中班人數\}/g,e.afternoon.length.toString()),t=t.replace(/\{晚班人數\}/g,e.evening.length.toString()),t=t.replace(/\{總人數\}/g,e.all.length.toString()),t),wY=(t,e,r)=>(t=t.replace(/\{([^}]+)\}連續上班\{(\d+)\}/g,(n,i,s)=>{const a=Object.keys(r).find(o=>r[o]===i);if(a){const o=Hm(e,a,r);return`${i}連續上班${o}天`}return n}),t=t.replace(/\{([^}]+)\}連續上班天數/g,(n,i)=>{const s=Object.keys(r).find(a=>r[a]===i);if(s){const a=Hm(e,s,r);return`${i}連續上班${a}天`}return n}),t),xY=(t,e,r)=>(t=t.replace(/\{連續上班同事\}/g,()=>{const n=iu(e,r,zn.MIN_CONSECUTIVE_DAYS,zn.MAX_CONSECUTIVE_DAYS);if(n.length>0){const i={};return n.forEach(a=>{i[a.consecutiveDays]||(i[a.consecutiveDays]=[]),i[a.consecutiveDays].push(a.name)}),Object.entries(i).map(([a,o])=>o.length===1?`${o[0]}連續上班${a}天`:`${o.join("、")}連續上班${a}天`).join("、")}return""}),t=t.replace(/\{連續上班同事數量\}/g,()=>iu(e,r,zn.MIN_CONSECUTIVE_DAYS,zn.MAX_CONSECUTIVE_DAYS).length.toString()),t),bY=(t,e,r)=>(t=t.replace(/\{連續上班(\d+)天同事\}/g,(n,i)=>{const s=parseInt(i),a=iu(e,r,s,s);if(a.length>0){const o=a.map(A=>A.name);return o.length===1?o[0]:o.join("、")}return""}),t=t.replace(/\{連續上班(\d+)天同事數量\}/g,(n,i)=>{const s=parseInt(i);return iu(e,r,s,s).length.toString()}),t),BY=t=>(t=t.replace(/\s*[，、]\s*$/g,""),t=t.replace(/^\s*[，、]\s*/g,""),t=t.replace(/\s+/g," "),t),CY=(t,e,r)=>{if((t.message.includes("{連續上班同事}")||t.message.includes("{連續上班同事數量}"))&&iu(e,r,zn.MIN_CONSECUTIVE_DAYS,zn.MAX_CONSECUTIVE_DAYS).length===0)return!1;const n=t.message.match(/\{連續上班(\d+)天同事\}/g);if(n)for(const i of n){const s=i.match(/\{連續上班(\d+)天同事\}/);if(s){const a=parseInt(s[1]);if(iu(e,r,a,a).length===0)return!1}}return!0},EY=(t,e,r)=>{if(!t||!Array.isArray(t)||t.length===0)return[];const n=WD(e);return n.length>0&&zD(n,r),t.filter(i=>i.enabled).map(i=>{const s=FY(i,e,r);return s&&typeof s=="string"&&s.trim()!==""?{type:"schedule",priority:2,message:s,source:`班表模板: ${i.name}`}:null}).filter(Boolean)},Lg=(t,e)=>{const r=new Date,n=r.getHours(),i=r.getMinutes(),s=n*60+i,[a,o]=t.split(":").map(Number),[A,l]=e.split(":").map(Number),u=a*60+o,c=A*60+l;return c<u?s>=u||s<=c:s>=u&&s<=c},_Y=()=>["日","一","二","三","四","五","六"][new Date().getDay()],IY=(t,e)=>{const r=new Date;return r.getMonth()+1===t&&r.getDate()===e},SY=t=>new Date().getDate()===t,TY=t=>{if(!t||typeof t!="object")return[];const e=[],r=GD();for(const[n,i]of Object.entries(t))if(n!=="_lastUpdated"&&i&&typeof i=="object"){for(const[s,a]of Object.entries(i))if(xl(a)){const o=parseInt(s);if(o===r.date){const A={id:`${n}_${o}`,date:mY(r.year,r.month,o),shift:a,employee:n};e.push(A)}}}return e},WD=t=>{if(!t)return[];if(Array.isArray(t)){const e=$D();return t.filter(n=>{const a=new Date(n.date).toISOString().split("T")[0]===e,o=xl(n.shift);return a&&o})}else return TY(t)},Hm=(t,e,r={})=>{var i,s,a;if(!t||!e)return 0;T0();const n=`${e}_${JSON.stringify(t)}`;if(wr.consecutiveDays.has(n))return wr.consecutiveDays.get(n);if(r[e],Array.isArray(t)){const o=$D();if(!t.find(c=>c.employee===e&&new Date(c.date).toISOString().split("T")[0]===o))return 0;let l=0,u=new Date;for(;;){const c=u.toISOString().split("T")[0],f=t.find(g=>g.employee===e&&new Date(g.date).toISOString().split("T")[0]===c);if(f&&xl(f.shift))l++,u.setDate(u.getDate()-1);else break}return wr.consecutiveDays.set(n,l),l}else{const o=GD(),A=(i=t[e])==null?void 0:i[o.date];if(!xl(A))return 0;let l=0,u=o.date;for(;u>=1;){const c=(s=t[e])==null?void 0:s[u];if(xl(c))l++,u--;else break}if(u<1){const c=new Date,f=c.getFullYear(),g=c.getMonth()+1;let m,p;g===1?(m=f-1,p=12):(m=f,p=g-1);const v=`${m}-${p.toString().padStart(2,"0")}`;if(Mg&&Mg[v]){const y=Mg[v],w=new Date(m,p,0).getDate(),B=7;for(let I=w;I>=Math.max(1,w-B+1);I--){const T=(a=y[e])==null?void 0:a[I];if(xl(T))l++;else break}}}return wr.consecutiveDays.set(n,l),l}},iu=(t,e={},r=zn.MIN_CONSECUTIVE_DAYS,n=zn.MAX_CONSECUTIVE_DAYS)=>{if(!t)return[];const i=[];return Array.isArray(t)?[...new Set(t.map(a=>a.employee))].forEach(a=>{const o=Hm(t,a,e);if(o>=r&&o<=n){const A=e[a]||a;i.push({id:a,name:A,consecutiveDays:o})}}):Object.keys(t).filter(a=>a!=="_lastUpdated").forEach(a=>{const o=Hm(t,a,e);if(o>=r&&o<=n){const A=e[a]||a;i.push({id:a,name:A,consecutiveDays:o})}}),i},zD=(t,e={})=>{const r={morning:[],afternoon:[],evening:[],all:[]};return t.forEach(n=>{const i=n.shift||"",s=n.employee||"未知",a=e[s]||s;r.all.push(a),zn.SHIFT_KEYWORDS.MORNING.some(o=>i.includes(o))?r.morning.push(a):zn.SHIFT_KEYWORDS.AFTERNOON.some(o=>i.includes(o))?r.afternoon.push(a):zn.SHIFT_KEYWORDS.EVENING.some(o=>i.includes(o))?r.evening.push(a):r.all.push(a)}),r},FY=(t,e,r={})=>{if(!t||!e||!pY(t))return null;const n=WD(e);if(n.length===0)return null;const i=zD(n,r);let s=t.message;return s=vY(s,i),s=yY(s,i),s=wY(s,e,r),s=xY(s,e,r),s=bY(s,e,r),s=BY(s),CY(t,e,r)?s:null},UY=t=>{if(!Array.isArray(t)||t.length===0)return"";const e=t.filter(r=>r&&typeof r=="string"&&r.trim()!=="");return e.length===0?"":e[Math.floor(Math.random()*e.length)]},PY=(t=null,e=[],r=[],n={})=>{const i=_Y(),s=[];if(e&&Array.isArray(e)){const a=[];for(const o of e){if(!o.enabled)continue;let A=!1;o.type==="timeRange"?A=o.allDay||Lg(o.startTime,o.endTime):o.type==="dayOfWeek"?A=o.day===i&&(o.allDay||Lg(o.startTime,o.endTime)):o.type==="specificDate"?A=IY(o.month,o.date):o.type==="monthlyDate"&&(A=SY(o.date)&&(o.allDay||Lg(o.startTime,o.endTime))),A&&o.messages&&Array.isArray(o.messages)&&o.messages.length>0&&o.messages.some(l=>l&&typeof l=="string"&&l.trim()!=="")&&a.push(o)}if(a.length>0){const o=a[Math.floor(Math.random()*a.length)],A=UY(o.messages);A&&A.trim()!==""&&s.push({type:"custom",priority:1,message:A,source:`自定義規則: ${o.name}`})}}if(t&&r&&Array.isArray(r)){const a=EY(r,t,n);s.push(...a)}return s},$A=t=>/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(t),nve=t=>{if(!t.type||!t.messages||!Array.isArray(t.messages)||t.messages.length===0)return!1;switch(t.type){case"timeRange":return t.allDay||$A(t.startTime)&&$A(t.endTime);case"dayOfWeek":return["日","一","二","三","四","五","六"].includes(t.day)&&(t.allDay||$A(t.startTime)&&$A(t.endTime));case"specificDate":return t.month>=1&&t.month<=12&&t.date>=1&&t.date<=31;case"monthlyDate":return t.date>=1&&t.date<=31&&(t.allDay||$A(t.startTime)&&$A(t.endTime));default:return!1}},ive=t=>t.message&&t.message.trim()!=="",sve=()=>[{id:"1",name:"早上問候",type:"timeRange",startTime:"08:00",endTime:"10:00",allDay:!1,messages:["早安！新的一天開始了～","早上好！今天也要加油喔！","喵～早安！準備好迎接新的一天了嗎？"],enabled:!1},{id:"2",name:"午休提醒",type:"timeRange",startTime:"12:00",endTime:"13:00",allDay:!1,messages:["午休時間到了，記得休息一下喔～","喵～該吃午餐了！","午休愉快！"],enabled:!1},{id:"3",name:"週三進貨提醒",type:"dayOfWeek",day:"三",startTime:"14:00",endTime:"16:00",allDay:!1,messages:["週三下午進貨時間到了，加油！","喵～進貨時間！","週三進貨，辛苦了！"],enabled:!1},{id:"4",name:"週末問候",type:"dayOfWeek",day:"六",startTime:"09:00",endTime:"11:00",allDay:!1,messages:["週末愉快！好好休息喔～","喵～週末快樂！","週末愉快！享受美好時光～"],enabled:!1},{id:"5",name:"每月1號提醒",type:"monthlyDate",date:1,startTime:"08:00",endTime:"10:00",allDay:!1,messages:["新的月份開始了！大家加油！","喵～新的月份，新的開始！","每月1號，重新出發！"],enabled:!1},{id:"6",name:"週末全天問候",type:"dayOfWeek",day:"六",startTime:"08:00",endTime:"10:00",allDay:!0,messages:["週末愉快！好好享受假期～","喵～週末快樂！全天陪伴你！","週末愉快！放鬆心情～"],enabled:!1}],ave=()=>[{id:"1",name:"早班問候",message:"{早班同事}，早安！今天也要加油喔！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"2",name:"晚班問候",message:"{晚班同事}，晚安！今天辛苦了！",enabled:!1,timeRestriction:!1,startTime:"18:00",endTime:"20:00"},{id:"3",name:"全體問候",message:"{所有同事}，工作辛苦了！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"4",name:"人數統計",message:"今天有{總人數}位同事上班，加油！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"5",name:"連續上班關心",message:"{連續上班同事}，辛苦了！記得適時休息喔～",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"6",name:"連續上班鼓勵",message:"{連續上班同事}，真是勤奮！繼續保持！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"7",name:"連續上班提醒",message:"提醒：{連續上班同事}，請注意工作時數安排",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"8",name:"連續上班統計",message:"今天有{連續上班同事數量}位同事連續上班4天以上，大家辛苦了！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"9",name:"連續上班6天提醒",message:"{連續上班6天同事}，已經連續上班6天，請務必安排休息！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"10",name:"連續上班5天關心",message:"{連續上班5天同事}，連續上班5天辛苦了，記得適時休息喔～",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"11",name:"連續上班4天鼓勵",message:"{連續上班4天同事}，連續上班4天，工作態度值得肯定！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"12",name:"連續上班6天簡潔提醒",message:"{連續上班6天同事}，請務必安排休息！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"13",name:"連續上班5天簡潔關心",message:"{連續上班5天同事}，辛苦了，記得適時休息喔～",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"}],NY=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState([]),[i,s]=x.useState(0),[a,o]=x.useState(!1),[A,l]=x.useState(4),[u,c]=x.useState(""),[f,g]=x.useState(!0),[m,p]=x.useState(!1),[v,y]=x.useState(""),[w,B]=x.useState(""),[I,T]=x.useState(""),[F,C]=x.useState(!1),[_,S]=x.useState(!1),[P,Q]=x.useState(null),[k,N]=x.useState([]),[se,be]=x.useState([]),[he,ye]=x.useState([]),[Y,ne]=x.useState({}),[ce,Ue]=x.useState(Date.now());x.useEffect(()=>Ld(Fi(gr,"catSpeech","global"),D=>{if(D.exists()){const j=D.data();e(j.enabled||!1),n(j.texts||[]),l(j.intervalSeconds||4),S(j.smartMode||!1),N(j.customRules||[]),be(j.scheduleTemplates||[]),c("")}else e(!1),n([]),l(4),S(!1),N([]),be([]);g(!1)},D=>{console.error("監聽設定失敗:",D),c("載入對話設定失敗"),g(!1)}),[]),x.useEffect(()=>{if(!_)return;(async()=>{try{const{collection:D,getDocs:j}=await Yo(async()=>{const{collection:H,getDocs:W}=await Promise.resolve().then(()=>zx);return{collection:H,getDocs:W}},void 0),q=await j(D(gr,"names")),J={};q.forEach(H=>{const W=H.data();J[H.id]=W.name}),ne(J)}catch(D){console.error("載入姓名資料失敗:",D)}})()},[_]),x.useEffect(()=>{if(!_)return;(async()=>{try{console.log("開始載入班表資料...");const{collection:D,getDocs:j}=await Yo(async()=>{const{collection:W,getDocs:Z}=await Promise.resolve().then(()=>zx);return{collection:W,getDocs:Z}},void 0),q=await j(D(gr,"schedule")),J={};let H=null;q.forEach(W=>{const Z=W.data();J[W.id]=Z,(W.id==="currentMonth"&&!H||W.id==="nextMonth"&&!H)&&(H=Z)}),console.log("載入的班表資料:",Object.keys(J)),fY(J),Q(H)}catch(D){console.error("載入班表資料失敗:",D)}})()},[_]),x.useEffect(()=>{if(!_||!t)return;const O=()=>{hY();const j=PY(P,k,se,Y);if(j.length>0){const q=j.filter(K=>K.type==="custom").map(K=>K.message),J=j.filter(K=>K.type==="schedule").map(K=>K.message),H=[...q,...J].filter(K=>K&&K.trim()!==""),W=r.filter(K=>K&&typeof K=="string"&&K.trim()!==""&&!H.includes(K)),Z=[...H,...W];if(Z.length>0)ye(j),n(Z);else{const K=r.filter(Ie=>Ie&&typeof Ie=="string"&&Ie.trim()!=="");n(K)}}else{const q=r.filter(J=>J&&typeof J=="string"&&J.trim()!=="");n(q)}};O();const D=setInterval(O,30*1e3);return()=>clearInterval(D)},[_,t,P,k,se,Y,ce]),x.useEffect(()=>{if(r.length>0){if(i>=r.length)s(0);else if(!r[i]||typeof r[i]!="string"||r[i].trim()===""){const O=r.findIndex(D=>D&&typeof D=="string"&&D.trim()!=="");s(O!==-1?O:0)}}},[r,i]),x.useEffect(()=>{if(!t||r.length===0)return;const O=setInterval(()=>{o(!0),setTimeout(()=>{s(D=>D>=r.length||D===r.length-1?0:D+1),o(!1)},300)},A*1e3);return()=>clearInterval(O)},[t,r.length,A]);const re=()=>{Ue(Date.now())};x.useEffect(()=>{const O=D=>{D.ctrlKey&&D.altKey&&D.key==="A"&&p(!0),D.ctrlKey&&D.key==="R"&&_&&(D.preventDefault(),re())};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[_]);const Pe=async()=>{if(!v.trim()||!w.trim()){T("請輸入信箱和密碼");return}try{C(!0),T("");const{signInWithEmailAndPassword:O}=await Yo(async()=>{const{signInWithEmailAndPassword:D}=await Promise.resolve().then(()=>lY);return{signInWithEmailAndPassword:D}},void 0);await O(KD,v,w),p(!1),y(""),B("")}catch(O){console.error("登入失敗:",O);let D="登入失敗";switch(O.code){case"auth/user-not-found":D="找不到此帳號";break;case"auth/wrong-password":D="密碼錯誤";break;case"auth/invalid-email":D="信箱格式錯誤";break;case"auth/too-many-requests":D="登入次數過多，請稍後再試";break;default:D="登入失敗："+O.message}T(D)}finally{C(!1)}};return f?d.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:d.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}):u?d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:d.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),d.jsx("div",{className:"mt-2 mb-0 animate-fadeIn",children:d.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-2",children:d.jsx("div",{className:"text-red-400 text-center text-sm",children:u})})})]}):!t||r.length===0?d.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:d.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}):d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:d.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),d.jsx("div",{className:"mt-2 mb-0 animate-fadeIn",children:d.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-2xl p-2 border border-primary/20 backdrop-blur-sm shadow-lg relative",children:[_&&d.jsx("button",{onClick:re,className:"absolute top-1 right-1 w-6 h-6 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100 z-10",title:"刷新智能對話 (Ctrl+R)",children:d.jsx("svg",{className:"w-3 h-3 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),d.jsx("div",{className:"relative",children:d.jsx("div",{className:`text-white text-center text-lg leading-relaxed min-h-[1.2rem] flex items-center justify-center transition-all duration-300 ${a?"opacity-0 transform translate-y-2":"opacity-100 transform translate-y-0"}`,children:(()=>{const O=r[i];if(O&&typeof O=="string"&&O.trim()!=="")return O;if(r.length===0)return"喵～";{const D=r.findIndex((j,q)=>q>i&&j&&typeof j=="string"&&j.trim()!=="");if(D!==-1)return r[D];{const j=r.findIndex(q=>q&&typeof q=="string"&&q.trim()!=="");return j!==-1?r[j]:"喵～"}}})()})})]})}),m&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-surface rounded-xl p-6 w-96 border border-primary/20",children:[d.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"管理員登入"}),d.jsx("input",{type:"email",placeholder:"管理員信箱",value:v,onChange:O=>y(O.target.value),disabled:F,className:"w-full mb-3 p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:opacity-50",onKeyPress:O=>O.key==="Enter"&&!F&&Pe()}),d.jsx("input",{type:"password",placeholder:"密碼",value:w,onChange:O=>B(O.target.value),disabled:F,className:"w-full mb-4 p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:opacity-50",onKeyPress:O=>O.key==="Enter"&&!F&&Pe()}),I&&d.jsx("div",{className:"text-red-400 text-sm mb-3 bg-red-500/10 border border-red-500/20 rounded-lg p-2",children:I}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:Pe,disabled:F,className:"flex-1 bg-primary text-white p-3 rounded-lg hover:bg-primary/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:F?"登入中...":"登入"}),d.jsx("button",{onClick:()=>p(!1),disabled:F,className:"flex-1 bg-white/10 text-white p-3 rounded-lg hover:bg-white/20 transition-colors disabled:opacity-50",children:"取消"})]})]})})]})},QY="/Brainless/assets/logo-cat-CbWHoD5g.png";function kY(){return d.jsx("header",{className:"bg-surface text-white",children:d.jsx("div",{className:"container-custom py-4 md:py-6",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("div",{className:"flex items-center gap-4 relative",children:[d.jsx("img",{src:QY,alt:"Cat Logo",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full border-2 border-primary p-1 logo logo-glow logo-float"}),d.jsxs("div",{className:"flex flex-col items-start gap-1",children:[d.jsx("h1",{className:"text-2xl sm:text-4xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Brainless"}),d.jsx(f$,{})]})]}),d.jsx(NY,{})]})})})}function OY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const DY=x.forwardRef(OY);function jY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const RY=x.forwardRef(jY);function MY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const LY=x.forwardRef(MY);function HY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const VY=x.forwardRef(HY);function KY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))}const Vd=x.forwardRef(KY);function $Y({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const dE=x.forwardRef($Y);function GY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const YD=x.forwardRef(GY);function WY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const zY=x.forwardRef(WY);function YY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const Zx=x.forwardRef(YY);function XY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const eb=x.forwardRef(XY);function qY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Ny=x.forwardRef(qY);function JY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const XD=x.forwardRef(JY);function ZY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const eX=x.forwardRef(ZY);function tX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Zi=x.forwardRef(tX);function rX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const es=x.forwardRef(rX);function nX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const iX=x.forwardRef(nX);function sX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const qD=x.forwardRef(sX);function aX(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 20v-7m0 0l6-6.5H6L12 13zm-4-9h8m-8 0l-2-2m10 2l2-2"})})}const y2=[{path:"/sandwich",label:"三明治計算器",icon:d.jsx(Vd,{className:"w-5 h-5"})},{path:"/cashier",label:"收銀管理",icon:d.jsx(LY,{className:"w-5 h-5"})},{path:"/coffee-beans",label:"咖啡豆管理",icon:d.jsx(Zx,{className:"w-5 h-5"})},{path:"/schedule",label:"班表管理",icon:d.jsx(dE,{className:"w-5 h-5"})},{path:"/daily-reports",label:"報表生成器",icon:d.jsx(XD,{className:"w-5 h-5"})},{path:"/poursteady",label:"手沖機調整",icon:d.jsx(VY,{className:"w-5 h-5"})},{path:"/alcohol",label:"酒精計算",icon:d.jsx(aX,{className:"w-5 h-5"})}];function oX(){const[t,e]=x.useState(!1),[r,n]=x.useState(!0),[i,s]=x.useState("");if(x.useEffect(()=>{let o=!0;const A=KD.onAuthStateChanged(async l=>{if(o){if(l)try{const u=await dY(l.uid);o&&(e(u),s(""))}catch(u){console.error("檢查管理員狀態失敗:",u),o&&(e(!1),s("權限檢查失敗"))}else o&&(e(!1),s(""));o&&n(!1)}});return()=>{o=!1,A()}},[]),r)return d.jsx("nav",{className:"bg-surface sticky top-0 z-50 shadow-lg",children:d.jsx("div",{className:"container-custom py-2 sm:py-4",children:d.jsxs("div",{className:"flex justify-center gap-2 sm:gap-4",children:[y2.map(({path:o,label:A,icon:l})=>d.jsxs("div",{className:"flex flex-col items-center w-[5.5rem] sm:w-28 min-h-[4.5rem] sm:min-h-20 p-2 sm:p-3 rounded-lg animate-pulse",children:[d.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-white/10 rounded mb-1.5 sm:mb-2"}),d.jsx("div",{className:"w-12 h-3 bg-white/10 rounded text-xs sm:text-sm"})]},o)),d.jsxs("div",{className:"flex flex-col items-center w-[5.5rem] sm:w-28 min-h-[4.5rem] sm:min-h-20 p-2 sm:p-3 rounded-lg animate-pulse",children:[d.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-white/10 rounded mb-1.5 sm:mb-2"}),d.jsx("div",{className:"w-12 h-3 bg-white/10 rounded text-xs sm:text-sm"})]})]})})});const a=[...y2,...t?[{path:"/admin",label:"管理設定",icon:d.jsx(eb,{className:"w-5 h-5"})}]:[]];return d.jsx("nav",{className:"bg-surface sticky top-0 z-50 shadow-lg",children:d.jsxs("div",{className:"container-custom py-2 sm:py-4",children:[i&&d.jsx("div",{className:"mb-4 bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"text-amber-500",children:"⚠️"}),d.jsx("p",{className:"text-amber-400 text-sm",children:i})]})}),d.jsx("div",{className:"flex justify-center gap-2 sm:gap-4",children:a.map(({path:o,label:A,icon:l})=>d.jsxs(l$,{to:o,className:({isActive:u})=>`
                flex flex-col items-center
                w-[5.5rem] sm:w-28
                min-h-[4.5rem] sm:min-h-20
                p-2 sm:p-3
                rounded-lg
                transition-all duration-200
                ${u?"text-primary bg-primary/10":"text-text-secondary hover:text-text-primary hover:bg-white/5"}
              `,children:[d.jsx("div",{className:"mb-1.5 sm:mb-2",children:jp.cloneElement(l,{className:"w-6 h-6 sm:w-7 sm:h-7"})}),d.jsx("div",{className:"text-xs sm:text-sm text-center leading-tight",children:A})]},o))})]})})}function AX({children:t}){return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx(kY,{}),d.jsx(oX,{}),d.jsx("main",{className:"py-6",children:d.jsx("div",{className:"container-custom",children:t})})]})}function lX(){return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary border-t-transparent"}),d.jsx("p",{className:"text-text-secondary animate-pulse",children:"載入中..."})]})})}function uX(){return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("h1",{className:"text-4xl font-bold text-red-500",children:"出錯了！"}),d.jsx("p",{className:"text-text-secondary",children:"抱歉，頁面載入時發生錯誤。"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"重新載入"})]})})}class cX extends jp.Component{constructor(r){super(r);Xu(this,"handleReload",()=>{window.location.reload()});Xu(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){console.error("錯誤邊界捕獲到錯誤:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsxs("div",{className:"text-center max-w-md mx-auto",children:[d.jsx("div",{className:"text-red-400 text-6xl mb-6",children:"😵"}),d.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"哎呀！發生了一些問題"}),d.jsx("p",{className:"text-text-secondary mb-6",children:"應用程序遇到了一個意外錯誤。請嘗試重新載入頁面或返回首頁。"}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("button",{onClick:this.handleReload,className:"w-full bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/80 transition-colors",children:"重新載入頁面"}),d.jsx("button",{onClick:this.handleGoHome,className:"w-full bg-white/10 text-white px-6 py-3 rounded-lg hover:bg-white/20 transition-colors",children:"返回首頁"})]}),!1]})}):this.props.children}}function dX(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 21.5c4.5 0 7.5-3 7.5-7.5C19.5 8.5 12 2.5 12 2.5S4.5 8.5 4.5 14c0 4.5 3 7.5 7.5 7.5z"})})}const _i={hot:[40,78,120,162,200,230],cold:{"150ml":[40,58,80,102,120,150],"140ml":[40,58,80,102,120,140],"130ml":[40,58,80,102,120,130]}},Uh={hot:[40,38,42,42,38,30],cold:{"150ml":[40,18,22,22,18,30],"140ml":[40,18,22,22,18,20],"130ml":[40,18,22,22,18,10]}};function fX(){const[t,e]=x.useState("hot"),[r,n]=x.useState("150ml"),[i,s]=x.useState({hot:Array(6).fill(""),cold:Array(6).fill("")}),a=(u,c)=>{const f=[...i[t]];f[u]=c,f.map((g,m)=>g===""?_i[t][m]:Number(g)),s({...i,[t]:f})},o=()=>{s({...i,[t]:Array(6).fill("")})},A=u=>{n(u),s({...i,cold:Array(6).fill("")})},l=u=>{const c=i[t][u];return t==="hot"?c===""?_i.hot[u]:Number(c):c===""?_i.cold[r][u]:Number(c)};return d.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6 sm:space-y-8",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:d.jsx(dX,{className:"w-6 h-6 text-primary"})}),d.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Poursteady 注水量調整"})]}),d.jsx("button",{onClick:o,className:`
            w-full sm:w-auto px-4 py-2 rounded-lg font-medium
            transition-all duration-200
            border border-white/10
            hover:bg-white/5
          `,children:"重設"})]}),d.jsxs("div",{className:"flex gap-2 bg-surface/30 p-1.5 rounded-xl w-full sm:w-fit",children:[d.jsx("button",{onClick:()=>e("hot"),className:`
            flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
            transition-all duration-200
            ${t==="hot"?"bg-gradient-to-br from-rose-500 to-amber-500 text-white shadow-lg shadow-rose-500/20":"text-text-secondary hover:bg-white/5"}
          `,children:"熱手沖"}),d.jsx("button",{onClick:()=>e("cold"),className:`
            flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
            transition-all duration-200
            ${t==="cold"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
          `,children:"冰手沖"})]}),t==="cold"&&d.jsxs("div",{className:"flex gap-2 bg-surface/30 p-1.5 rounded-xl w-full sm:w-fit",children:[d.jsx("button",{onClick:()=>A("150ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="150ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"150ml"}),d.jsx("button",{onClick:()=>A("140ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="140ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"140ml"}),d.jsx("button",{onClick:()=>A("130ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="130ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"130ml"})]}),d.jsx("div",{className:"grid gap-4",children:(t==="hot"?_i.hot:_i.cold[r]).map((u,c)=>{const f=l(c),g=c>0?l(c-1):0,m=c===0?f:f-g,p=t==="hot"?Uh.hot[c]:Uh.cold[r][c],v=Math.round(m-p);return d.jsx("div",{className:`
                bg-gradient-to-br from-surface/30 to-surface/20
                rounded-xl p-5 space-y-4 border border-white/5
                transition-all duration-300 hover:shadow-lg
                ${t==="hot"?"hover:border-rose-500/20":"hover:border-blue-500/20"}
              `,children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`
                    w-8 h-8 rounded-full flex items-center justify-center font-bold
                    ${t==="hot"?"bg-gradient-to-br from-rose-400/20 to-amber-400/20 text-rose-400":"bg-gradient-to-br from-blue-400/20 to-cyan-400/20 text-blue-400"}
                  `,children:c+1}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium",children:["第 ",c+1," 段注水"]}),d.jsxs("div",{className:"text-sm text-text-secondary",children:["累計標準: ",u," ml",d.jsxs("span",{className:"block sm:inline sm:ml-2",children:["單段標準: ",p," ml"]})]})]})]}),d.jsx("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-end",children:d.jsxs("div",{className:"w-full sm:w-32 text-center",children:[d.jsx("input",{type:"number",value:i[t][c],onChange:y=>a(c,y.target.value),placeholder:_i[t][c],step:"0.1",className:`
                        w-full sm:w-24 text-center rounded-lg px-2 py-1.5 text-lg font-bold
                        bg-white/5 border border-white/10 focus:outline-none
                        focus:ring-1 ${t==="hot"?"focus:ring-rose-500":"focus:ring-blue-500"}
                      `}),v!==0&&d.jsxs("div",{className:`text-xs mt-1 ${v>0?"text-green-400":"text-red-400"}`,children:[v>0?`+${v}`:v," ml"]})]})})]})},c)})}),d.jsx("div",{className:`
        bg-gradient-to-br from-surface/30 to-surface/20
        rounded-xl p-5 border border-white/5
        ${t==="hot"?"hover:border-rose-500/20":"hover:border-blue-500/20"}
      `,children:d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-text-secondary",children:"總注水量"}),d.jsxs("div",{className:"text-2xl sm:text-3xl font-bold mt-1",children:[l(5)," ml"]}),(()=>{const u=l(5),c=t==="hot"?_i.hot[5]:_i.cold[r][5],f=Math.round(u-c);return f!==0?d.jsxs("div",{className:`text-sm mt-1 ${f>0?"text-green-400":"text-red-400"}`,children:[f>0?`+${f}`:f," ml"]}):null})()]}),d.jsxs("div",{className:"text-right w-full sm:w-auto",children:[d.jsx("div",{className:"text-sm text-text-secondary",children:"標準總量"}),d.jsxs("div",{className:"text-xl mt-1",children:[t==="hot"?_i.hot[5]:_i.cold[r][5]," ml"]}),d.jsx("div",{className:`
              text-xs mt-2 px-2 py-1 rounded-full w-fit ml-auto
              ${t==="hot"?"bg-rose-500/10 text-rose-400":"bg-blue-500/10 text-blue-400"}
            `,children:t==="hot"?"熱手沖":"冰手沖"})]})]})}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`
            w-1 h-5 rounded-full
            ${t==="hot"?"bg-rose-400":"bg-blue-400"}
          `}),d.jsx("h2",{className:"font-medium",children:"需調整水量"})]}),d.jsx("div",{className:"grid gap-2",children:(t==="hot"?Uh.hot:Uh.cold[r]).map((u,c)=>{const f=l(c),g=c>0?l(c-1):0,m=c===0?f:f-g,p=Math.round(u-m);return p===0?null:d.jsxs("div",{className:`
                  flex items-center justify-between
                  px-4 py-2 rounded-lg
                  ${t==="hot"?"bg-rose-500/5":"bg-blue-500/5"}
                `,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`
                    w-6 h-6 rounded-full 
                    flex items-center justify-center 
                    text-sm font-medium
                    ${t==="hot"?"bg-rose-400/10 text-rose-400":"bg-blue-400/10 text-blue-400"}
                  `,children:c+1}),d.jsxs("span",{children:["第 ",c+1," 段注水"]})]}),d.jsxs("span",{className:`
                  text-sm px-3 py-1 rounded-full font-medium
                  ${p>0?"bg-green-400/10 text-green-400":"bg-red-400/10 text-red-400"}
                `,children:[p>0?`+${p}`:p," ml"]})]},c)})})]})]})}function hX(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 20v-7m0 0l6-6.5H6L12 13zm-4-9h8m-8 0l-2-2m10 2l2-2"})})}function gX(){const[t,e]=x.useState([{volume:"",concentration:"",unit:"ml",id:Date.now()}]),[r,n]=x.useState({method:"volume",volume:"",cubes:"",cubeWeight:""}),[i,s]=x.useState(null),[a,o]=x.useState("ml"),A=(p,v,y)=>{if(!p)return"";const w=parseFloat(p);return v===y?w:v==="shot"?w*30:w/30},l=()=>{e([...t,{volume:"",concentration:"",unit:"ml",id:Date.now()}])},u=p=>{t.length>1&&e(t.filter(v=>v.id!==p))},c=(p,v,y)=>{e(t.map(w=>w.id===p?{...w,[v]:y}:w))},f=p=>{e(t.map(v=>{if(v.id!==p)return v;const y=v.unit==="shot"?"ml":"shot";return{...v,unit:y,volume:A(v.volume,v.unit,y).toString()}}))},g=()=>{const p=t.reduce((I,{volume:T,concentration:F,unit:C})=>{const _=parseFloat(T)||0,S=C==="shot"?_*30:_,P=parseFloat(F)||0;return I+S*(P/100)},0),v=t.reduce((I,{volume:T,unit:F})=>{const C=parseFloat(T)||0;return I+(F==="shot"?C*30:C)},0);let y=0;if(r.method==="volume")y=parseFloat(r.volume)||0;else{const I=parseFloat(r.cubes)||0,T=parseFloat(r.cubeWeight)||0;y=I*T}const w=v+y,B=p/w*100;s({originalConcentration:p/v*100,finalConcentration:B,totalVolume:w,pureAlcohol:p,meltedIceVolume:y})},m=()=>{e([{volume:"",concentration:"",unit:"ml",id:Date.now()}]),n({method:"volume",volume:"",cubes:"",cubeWeight:""}),s(null)};return d.jsx("div",{className:"container-custom py-8",children:d.jsx("div",{className:"max-w-2xl mx-auto px-4",children:d.jsxs("div",{className:"bg-surface rounded-2xl p-6 shadow-xl",children:[d.jsx("div",{className:"text-center mb-8",children:d.jsxs("div",{className:"inline-flex items-center justify-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-blue-500/20 to-cyan-500/20",children:d.jsx(hX,{className:"w-8 h-8 text-blue-400"})}),d.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"酒精濃度計算器"})]})}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"bg-white/5 rounded-xl p-6 space-y-4",children:[d.jsxs("h2",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[d.jsx("span",{className:"w-1.5 h-5 bg-blue-400 rounded-full"}),"酒類清單"]}),d.jsx("div",{className:"space-y-4",children:t.map((p,v)=>d.jsxs("div",{className:"bg-white/5 rounded-lg p-4 transition-all duration-200 hover:bg-white/10",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"text-sm font-medium text-blue-400",children:["酒類 ",v+1]}),t.length>1&&d.jsx("button",{onClick:()=>u(p.id),className:"p-1 rounded-lg hover:bg-red-500/10 text-red-400 transition-colors",children:d.jsx(qD,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{className:"text-sm text-text-secondary",children:"容量"}),d.jsx("button",{onClick:()=>f(p.id),className:`text-xs px-2 py-0.5 rounded-full bg-blue-500/10 
                                     hover:bg-blue-500/20 transition-colors text-blue-400`,children:p.unit==="shot"?"ml":"shot"})]}),d.jsx("input",{type:"number",value:p.volume,onChange:y=>c(p.id,"volume",y.target.value),className:"input-field w-full",placeholder:p.unit==="shot"?"1 shot = 30ml":"輸入毫升",min:"0",step:p.unit==="shot"?"0.5":"1"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"濃度 (%)"}),d.jsx("input",{type:"number",value:p.concentration,onChange:y=>c(p.id,"concentration",y.target.value),className:"input-field w-full",placeholder:"輸入濃度",min:"0",max:"100"})]})]})]},p.id))}),d.jsx("button",{onClick:l,className:`w-full py-3 rounded-lg border-2 border-dashed border-blue-500/30
                         hover:bg-blue-500/5 text-blue-400
                         transition-all duration-200 group`,children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(Zi,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),d.jsx("span",{className:"text-sm font-medium",children:"添加酒類"})]})})]}),d.jsxs("div",{className:"bg-white/5 rounded-xl p-6",children:[d.jsxs("h2",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[d.jsx("span",{className:"w-1.5 h-5 bg-blue-400 rounded-full"}),"融冰計算"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:()=>n(p=>({...p,method:"volume"})),className:`p-3 rounded-lg transition-all duration-200 ${r.method==="volume"?"bg-blue-500 text-white shadow-lg shadow-blue-500/25":"bg-white/5 hover:bg-white/10 text-text-secondary"}`,children:[d.jsx("div",{className:"text-sm font-medium",children:"直接輸入體積"}),d.jsx("div",{className:"text-xs mt-1 opacity-60",children:"手動輸入融冰量"})]}),d.jsxs("button",{onClick:()=>n(p=>({...p,method:"cubes"})),className:`p-3 rounded-lg transition-all duration-200 ${r.method==="cubes"?"bg-blue-500 text-white shadow-lg shadow-blue-500/25":"bg-white/5 hover:bg-white/10 text-text-secondary"}`,children:[d.jsx("div",{className:"text-sm font-medium",children:"計算冰塊體積"}),d.jsx("div",{className:"text-xs mt-1 opacity-60",children:"根據冰塊計算"})]})]}),d.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:r.method==="volume"?d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"融冰體積 (ml)"}),d.jsx("input",{type:"number",value:r.volume,onChange:p=>n(v=>({...v,volume:p.target.value})),className:"input-field w-full",placeholder:"輸入預計融化的體積",min:"0"})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"冰塊數量"}),d.jsx("input",{type:"number",value:r.cubes,onChange:p=>n(v=>({...v,cubes:p.target.value})),className:"input-field w-full",placeholder:"輸入數量",min:"0"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"每個冰塊重量 (g)"}),d.jsx("input",{type:"number",value:r.cubeWeight,onChange:p=>n(v=>({...v,cubeWeight:p.target.value})),className:"input-field w-full",placeholder:"輸入冰塊重量",min:"0"})]})]}),r.cubes&&r.cubeWeight&&d.jsxs("div",{className:"text-sm bg-blue-500/10 text-blue-400 rounded-lg p-3",children:["預計融化體積：",(parseFloat(r.cubes)*parseFloat(r.cubeWeight)).toFixed(0)," ml"]})]})})]})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("button",{onClick:g,className:`flex-1 py-3 rounded-lg bg-gradient-to-r from-blue-500 to-cyan-500
                         text-white font-medium shadow-lg shadow-blue-500/25
                         hover:shadow-xl hover:shadow-blue-500/40 
                         transition-all duration-200`,children:"計算結果"}),d.jsx("button",{onClick:m,className:`flex-1 py-3 rounded-lg bg-white/5 hover:bg-white/10 
                         text-text-secondary transition-all duration-200`,children:"重設"})]}),i&&d.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fade-in",children:[d.jsxs("div",{className:"col-span-2 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg p-4",children:[d.jsx("div",{className:"text-sm text-gray-300",children:i.meltedIceVolume>0?"加入融冰後濃度":"酒精濃度"}),d.jsxs("div",{className:"text-3xl font-bold text-blue-400 mt-1",children:[i.finalConcentration.toFixed(2),"%"]}),i.meltedIceVolume>0&&d.jsxs("div",{className:"text-sm text-gray-300 mt-2",children:["調酒前濃度：",i.originalConcentration.toFixed(2),"%"]})]}),d.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[d.jsx("div",{className:"text-sm text-text-secondary",children:"總容量"}),d.jsx("div",{className:"text-xl font-bold mt-1",children:a==="shot"?`${(i.totalVolume/30).toFixed(1)} shot`:`${i.totalVolume.toFixed(0)} ml`}),d.jsx("div",{className:"text-sm text-text-secondary mt-1",children:a==="shot"?`${i.totalVolume.toFixed(0)} ml`:`${(i.totalVolume/30).toFixed(1)} shot`}),i.meltedIceVolume>0&&d.jsxs("div",{className:"text-sm text-text-secondary mt-1",children:["含融冰：",i.meltedIceVolume.toFixed(0)," ml"]})]}),d.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[d.jsx("div",{className:"text-sm text-text-secondary",children:"純酒精含量"}),d.jsx("div",{className:"text-xl font-bold mt-1",children:a==="shot"?`${(i.pureAlcohol/30).toFixed(1)} shot`:`${i.pureAlcohol.toFixed(0)} ml`}),d.jsx("div",{className:"text-sm text-text-secondary mt-1",children:a==="shot"?`${i.pureAlcohol.toFixed(0)} ml`:`${(i.pureAlcohol/30).toFixed(1)} shot`})]})]})]})]})})})}function mX(t,e){const[r,n]=x.useState(()=>{try{const i=window.localStorage.getItem(t);return i?JSON.parse(i):e}catch(i){return console.error(i),e}});return x.useEffect(()=>{try{window.localStorage.setItem(t,JSON.stringify(r))}catch(i){console.error(i)}},[t,r]),[r,n]}const Ce={common:{loading:"載入中...",error:"出錯了！",retry:"重試",save:"儲存",cancel:"取消",confirm:"確認",delete:"刪除",edit:"編輯"},sandwich:{title:"三明治計算器",subtitle:"選擇拉奶，選擇成功",inputsTitle:"計算輸入",inputsSubtitle:"輸入現有數量",existingHam:"現有的火腿三明治",existingSalami:"現有的臘腸三明治",distribution:"分配方式",distributionEven:"平均分配",distributionHam:"優先火腿",distributionSalami:"優先臘腸",extraBagsLabel:"額外需要的麵包包數",calculate:"計算結果",reset:"重設輸入",resultsTitle:"計算結果",resultsSubtitle:"製作需求總覽",needHam:"需製作的火腿三明治",needSalami:"需製作的臘腸三明治",needBags:"需要的麵包數量",totalNeed:"總計需求",emptyHint:"點擊計算按鈕查看結果"},sandwichUi:{summaryTarget:"目標",summaryExisting:"現有",summaryToMake:"需製作",unitPiece:"個",unitBag:"包",capacityTitle:"容量與分配資訊",capacityFormula:"容量 = 包數 × 每包數量",capacityLeftover:"剩餘切片 = 容量 − 需求",capacityDistributionTitle:"分配方式",capacityEvenDetail:"平均分配：多出的切片會均分到火腿與臘腸",capacityHamDetail:"優先火腿：多出的切片全分給火腿",capacitySalamiDetail:"優先臘腸：多出的切片全分給臘腸",capacityActual:"本次實際分配",hamProgress:"火腿達成度",salamiProgress:"臘腸達成度",inputPlaceholderNumber:"輸入個數",tooltipEven:"平均分配多出的切片",tooltipHam:"多出的切片優先給火腿",tooltipSalami:"多出的切片優先給臘腸"},settings:{title:"基本設定",subtitle:"調整計算參數",breadPerBag:"每包麵包的數量",targetHam:"目標火腿三明治數量",targetSalami:"目標臘腸三明治數量",done:"完成設定"}};function GA(t){const e=parseInt(t,10);return Number.isFinite(e)?e:0}function w2(t,e){const r=Math.max(1,GA(e.breadPerBag)),n=Math.max(0,GA(e.targetHam)),i=Math.max(0,GA(e.targetSalami)),s=Math.max(0,GA(t.existingHam)),a=Math.max(0,GA(t.existingSalami)),o=Math.max(0,GA(t.extraBags)),A=t.distribution||"even",l=Math.max(0,n-s),u=Math.max(0,i-a),c=l+u,g=Math.max(0,Math.ceil(c/r))+o,m=g*r,p=Math.max(0,m-c);let v=0,y=0;switch(A){case"ham":v=p;break;case"salami":y=p;break;default:v=Math.floor(p/2),y=p-v}const w=l+v,B=u+y;return{totalHamNeeded:w,totalSalamiNeeded:B,bagsNeeded:g,totalTarget:n+i,totalExisting:s+a,baseHamNeeded:l,baseSalamiNeeded:u,baseTotalNeeded:c,totalSlices:m,extraSlices:p,extraHam:v,extraSalami:y}}function pX(){const t={breadPerBag:8,targetHam:60,targetSalami:30},[e,r]=mX("sandwich_settings",t),[n,i]=x.useState({existingHam:"",existingSalami:"",extraBags:0,distribution:"even"}),[s,a]=x.useState(!1),[o,A]=x.useState(e),[l,u]=x.useState(null),[c,f]=x.useState(!0),[g,m]=x.useState(null),[p,v]=x.useState(!1);x.useEffect(()=>{let C;try{C=Ld(Fi(gr,"settings","sandwich"),_=>{_.exists()?r(_.data()):Mo(_.ref,e).catch(S=>{console.error("創建設定文件失敗:",S)}),f(!1)},_=>{console.error("讀取設定錯誤:",_),m("無法連接到 Firebase，使用本地設定"),f(!1)})}catch(_){console.error("Firebase 初始化錯誤:",_),m("Firebase 連接失敗，使用本地設定"),f(!1)}return()=>{C&&C()}},[]),x.useEffect(()=>{s&&A(e)},[s,e]);const y=async C=>{r(C);try{await Mo(Fi(gr,"settings","sandwich"),C)}catch(_){console.error("更新設定錯誤:",_),m("無法同步到 Firebase，設定已保存到本地")}},w=async()=>{await y(o),a(!1)},B=()=>{const C=w2(n,e);u(C)},I=x.useMemo(()=>w2(n,e),[n,e]),T=()=>{i({existingHam:"",existingSalami:"",extraBags:0,distribution:"even"}),u(null)},F=[{value:"even",label:Ce.sandwich.distributionEven},{value:"ham",label:Ce.sandwich.distributionHam},{value:"salami",label:Ce.sandwich.distributionSalami}];return d.jsx("div",{className:"container-custom py-8",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent mb-2",children:Ce.sandwich.title}),d.jsx("p",{className:"text-text-secondary",children:Ce.sandwich.subtitle})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[d.jsxs("div",{className:"card bg-gradient-to-br from-surface/80 to-surface/60 border-primary/20",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:d.jsx(Vd,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-primary",children:Ce.sandwich.inputsTitle}),d.jsx("p",{className:"text-xs sm:text-sm text-text-secondary",children:Ce.sandwich.inputsSubtitle})]})]}),d.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-lg bg-primary/20 hover:bg-primary/30 border border-primary/30 text-primary transition-all duration-200 hover:scale-110",title:Ce.settings.title,children:d.jsx(eb,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),c?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"})}):g?d.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 mb-4",children:d.jsxs("div",{className:"flex items-center gap-2 text-amber-400",children:[d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),d.jsx("span",{className:"text-sm font-medium",children:g})]})}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[d.jsxs("div",{className:"rounded-lg bg-white/5 border border-white/10 p-3 text-center",children:[d.jsx("div",{className:"text-xs text-text-secondary",children:Ce.sandwichUi.summaryTarget}),d.jsx("div",{className:"text-base font-semibold",children:I.totalTarget})]}),d.jsxs("div",{className:"rounded-lg bg-white/5 border border-white/10 p-3 text-center",children:[d.jsx("div",{className:"text-xs text-text-secondary",children:Ce.sandwichUi.summaryExisting}),d.jsx("div",{className:"text-base font-semibold text-text-secondary",children:I.totalExisting})]}),d.jsxs("div",{className:"rounded-lg bg-primary/10 border border-primary/30 p-3 text-center",children:[d.jsx("div",{className:"text-xs text-text-secondary",children:Ce.sandwichUi.summaryToMake}),d.jsx("div",{className:"text-lg sm:text-xl font-bold text-primary",children:I.baseTotalNeeded})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ce.sandwich.existingHam}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",className:"input-field w-full pr-10",placeholder:Ce.sandwichUi.inputPlaceholderNumber,min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:n.existingHam,onChange:C=>i({...n,existingHam:C.target.value})}),d.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-text-secondary text-sm",children:Ce.sandwichUi.unitPiece})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ce.sandwich.existingSalami}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",className:"input-field w-full pr-10",placeholder:Ce.sandwichUi.inputPlaceholderNumber,min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:n.existingSalami,onChange:C=>i({...n,existingSalami:C.target.value})}),d.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-text-secondary text-sm",children:Ce.sandwichUi.unitPiece})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ce.sandwich.distribution}),d.jsx("div",{role:"radiogroup","aria-label":Ce.sandwich.distribution,className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:F.map(C=>d.jsx("button",{role:"radio","aria-checked":n.distribution===C.value,title:C.value==="even"?Ce.sandwichUi.tooltipEven:C.value==="ham"?Ce.sandwichUi.tooltipHam:Ce.sandwichUi.tooltipSalami,onClick:()=>i({...n,distribution:C.value}),className:`px-3 py-2 sm:px-4 sm:py-3 rounded-lg transition-all duration-200 text-sm sm:text-base ${n.distribution===C.value?"bg-primary/20 border border-primary/30 text-primary":"bg-white/5 hover:bg-white/10 text-text-secondary border border-transparent"}`,children:d.jsx("span",{className:"font-medium",children:C.label})},C.value))})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm text-text-secondary mb-2",children:[Ce.sandwich.extraBagsLabel,"：",n.extraBags]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"range",min:"0",max:"5",step:"1",value:n.extraBags,"aria-label":Ce.sandwich.extraBagsLabel,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onTouchStart:()=>v(!0),onTouchEnd:()=>v(!1),onChange:C=>i(_=>({..._,extraBags:parseInt(C.target.value,10)||0})),className:`w-full h-3 bg-white/10 rounded-lg appearance-none cursor-pointer
                                touch-manipulation
                                [&::-webkit-slider-thumb]:appearance-none
                                [&::-webkit-slider-thumb]:w-6
                                [&::-webkit-slider-thumb]:h-6
                                [&::-webkit-slider-thumb]:rounded-full
                                [&::-webkit-slider-thumb]:bg-primary
                                [&::-webkit-slider-thumb]:cursor-pointer
                                [&::-webkit-slider-thumb]:hover:bg-primary/80
                                [&::-webkit-slider-thumb]:transition-all
                                [&::-webkit-slider-thumb]:shadow-lg
                                [&::-moz-range-thumb]:appearance-none
                                [&::-moz-range-thumb]:border-0
                                [&::-moz-range-thumb]:w-6
                                [&::-moz-range-thumb]:h-6
                                [&::-moz-range-thumb]:rounded-full
                                [&::-moz-range-thumb]:bg-primary
                                [&::-moz-range-thumb]:cursor-pointer
                                [&::-moz-range-thumb]:hover:bg-primary/80
                                [&::-moz-range-thumb]:transition-all
                                [&::-moz-range-thumb]:shadow-lg`}),p&&d.jsx("div",{className:"absolute -top-7",style:{left:`${n.extraBags/5*100}%`,transform:"translateX(-50%)"},children:d.jsx("div",{className:"px-2 py-0.5 rounded bg-primary/80 text-white text-xs shadow",children:n.extraBags})})]}),d.jsxs("div",{className:"flex justify-between text-xs text-text-secondary mt-2 px-1",children:[d.jsx("span",{children:"0"}),d.jsx("span",{children:"1"}),d.jsx("span",{children:"2"}),d.jsx("span",{children:"3"}),d.jsx("span",{children:"4"}),d.jsx("span",{children:"5"})]})]}),d.jsxs("div",{className:"space-y-3 pt-4",children:[d.jsx("button",{onClick:B,className:"btn-primary w-full py-3 sm:py-4 text-sm sm:text-base",children:Ce.sandwich.calculate}),d.jsx("button",{onClick:T,className:`w-full px-3 py-2 sm:px-4 sm:py-3 bg-white/5 hover:bg-white/10 
                              text-text-secondary rounded-lg transition-all duration-200 text-sm sm:text-base`,children:Ce.sandwich.reset})]})]})]}),d.jsxs("div",{className:"card bg-gradient-to-br from-surface/60 to-surface/40 border-primary/20",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:d.jsx(YD,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-primary",children:Ce.sandwich.resultsTitle}),d.jsx("p",{className:"text-xs sm:text-sm text-text-secondary",children:Ce.sandwich.resultsSubtitle})]})]}),l?d.jsxs("div",{className:"space-y-4 animate-fade-in",children:[d.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[d.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalHamNeeded}),d.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Ce.sandwich.needHam,"（",Ce.sandwichUi.unitPiece,"）"]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[d.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalSalamiNeeded}),d.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Ce.sandwich.needSalami,"（",Ce.sandwichUi.unitPiece,"）"]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[d.jsx("div",{className:"text-2xl font-bold text-white",children:l.bagsNeeded}),d.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Ce.sandwich.needBags,"（",Ce.sandwichUi.unitBag,"）"]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[d.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalHamNeeded+l.totalSalamiNeeded}),d.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Ce.sandwich.totalNeed,"（",Ce.sandwichUi.unitPiece,"）"]})]}),d.jsxs("div",{className:"rounded-xl p-4 bg-white/5 border border-white/10 space-y-1.5",children:[d.jsx("div",{className:"text-sm font-semibold",children:Ce.sandwichUi.capacityTitle}),d.jsxs("div",{className:"text-xs text-text-secondary",children:[Ce.sandwichUi.capacityFormula,"：",l.bagsNeeded," × ",e.breadPerBag," = ",d.jsx("span",{className:"text-white font-medium",children:l.totalSlices})]}),d.jsxs("div",{className:"text-xs text-text-secondary",children:[Ce.sandwichUi.capacityLeftover,"：",d.jsx("span",{className:"text-white font-medium",children:l.extraSlices})]}),d.jsxs("div",{className:"text-xs text-text-secondary mt-2",children:[Ce.sandwichUi.capacityDistributionTitle,"：",d.jsxs("span",{className:"ml-1",children:[n.distribution==="even"&&Ce.sandwichUi.capacityEvenDetail,n.distribution==="ham"&&Ce.sandwichUi.capacityHamDetail,n.distribution==="salami"&&Ce.sandwichUi.capacitySalamiDetail]})]}),d.jsxs("div",{className:"text-xs text-text-secondary",children:[Ce.sandwichUi.capacityActual,"：",d.jsxs("span",{className:"ml-1 text-white font-medium",children:["火腿 +",l.extraHam]}),d.jsx("span",{className:"mx-2",children:"/"}),d.jsxs("span",{className:"text-white font-medium",children:["臘腸 +",l.extraSalami]})]})]})]}):d.jsxs("div",{className:"text-center py-12 text-text-secondary",children:[d.jsx(Vd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),d.jsx("p",{children:Ce.sandwich.emptyHint})]})]})]}),s&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-surface/95 backdrop-blur-md border border-white/20 rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[d.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:d.jsx(eb,{className:"w-6 h-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-primary",children:Ce.settings.title}),d.jsx("p",{className:"text-sm text-text-secondary",children:Ce.settings.subtitle})]})]}),d.jsx("button",{onClick:()=>a(!1),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ce.settings.breadPerBag}),d.jsx("input",{type:"number",className:"input-field w-full",min:1,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.breadPerBag,onChange:C=>A(_=>({..._,breadPerBag:parseInt(C.target.value,10)||1}))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ce.settings.targetHam}),d.jsx("input",{type:"number",className:"input-field w-full",min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.targetHam,onChange:C=>A(_=>({..._,targetHam:parseInt(C.target.value,10)||0}))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ce.settings.targetSalami}),d.jsx("input",{type:"number",className:"input-field w-full",min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.targetSalami,onChange:C=>A(_=>({..._,targetSalami:parseInt(C.target.value,10)||0}))})]})]}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsx("button",{className:"flex-1 px-4 py-2 bg-primary/20 hover:bg-primary/30 text-primary rounded-lg transition-colors",onClick:w,children:Ce.settings.done}),d.jsx("button",{className:"flex-1 px-4 py-2 bg-white/5 hover:bg-white/10 text-text-secondary rounded-lg transition-colors",onClick:()=>a(!1),children:Ce.common.cancel})]})]})})]})})}const Yi={brewing:{pourOver:["水洗","日曬","阿寶","台灣豆","Geisha"],espresso:["ESP","水洗"]},retail:["水洗","日曬","阿寶","季節","台灣豆","Geisha"]},Fr=["台灣豆","Geisha"],Ph={bagWeight:121,ikeaBoxWeight:365,beanWeightPerPack:19};function vX(){const[t,e]=x.useState(!1),r=x.useRef(null),[n,i]=x.useState({brewing:{pourOver:{},espresso:{}},retail:{}}),[s,a]=x.useState("bag"),[o,A]=x.useState(!1),[l,u]=x.useState({}),[c,f]=x.useState("brewing"),[g,m]=x.useState("original"),[p,v]=x.useState(()=>{const O=localStorage.getItem("coffeeBeanWeightSettings");if(O)try{return JSON.parse(O)}catch(D){return console.error("解析重量設定失敗:",D),Ph}return Ph}),[y,w]=x.useState(()=>{const O=localStorage.getItem("coffeeBeanCalculations");if(O)try{return JSON.parse(O)}catch(D){return console.error("解析計算欄位失敗:",D),[{id:1,totalWeight:"",estimatedPacks:0}]}return[{id:1,totalWeight:"",estimatedPacks:0}]});x.useEffect(()=>{const O=localStorage.getItem("coffeeBeanInventory");O&&i(JSON.parse(O));const D=localStorage.getItem("coffeeBeanWeightMode");D&&a(D)},[]),x.useEffect(()=>{localStorage.setItem("coffeeBeanWeightSettings",JSON.stringify(p))},[p]),x.useEffect(()=>{localStorage.setItem("coffeeBeanInventory",JSON.stringify(n))},[n]),x.useEffect(()=>{localStorage.setItem("coffeeBeanCalculations",JSON.stringify(y))},[y]),x.useEffect(()=>{localStorage.setItem("coffeeBeanWeightMode",s)},[s]),x.useEffect(()=>{const O=()=>{const D=document.getElementById("brewing-section"),j=document.getElementById("retail-section");if(D&&j){const q=D.getBoundingClientRect(),J=j.getBoundingClientRect();q.top<window.innerHeight/2&&q.bottom>window.innerHeight/2?f("brewing"):J.top<window.innerHeight/2&&J.bottom>window.innerHeight/2&&f("retail")}};return window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)},[]);const B=(O,D,j)=>{var q;if(!((q=n[O][D])!=null&&q[j])){const H=Fr.includes(j)?{store:[""]}:{store:[""],breakRoom:[""]};i(W=>{var Z;return{...W,[O]:{...W[O],[D]:{...(Z=W[O])==null?void 0:Z[D],[j]:H}}}})}},I=(O,D,j,q)=>{B(O,D,j),i(J=>{var H,W,Z;return{...J,[O]:{...J[O],[D]:{...J[O][D],[j]:{...(H=J[O][D])==null?void 0:H[j],[q]:[...((Z=(W=J[O][D])==null?void 0:W[j])==null?void 0:Z[q])||[""],""]}}}}})},T=(O,D,j,q,J,H)=>{B(O,D,j),i(W=>{var Z,K,Ie,Ee;return{...W,[O]:{...W[O],[D]:{...W[O][D],[j]:{...(Z=W[O][D])==null?void 0:Z[j],[q]:((Ee=(Ie=(K=W[O][D])==null?void 0:K[j])==null?void 0:Ie[q])==null?void 0:Ee.map((Ge,ht)=>ht===J?H:Ge))||[""]}}}}})},F=(O,D,j,q,J)=>{i(H=>{var W,Z,K,Ie;return{...H,[O]:{...H[O],[D]:{...H[O][D],[j]:{...(W=H[O][D])==null?void 0:W[j],[q]:((Ie=(K=(Z=H[O][D])==null?void 0:Z[j])==null?void 0:K[q])==null?void 0:Ie.filter((Ee,Ge)=>Ge!==J))||[""]}}}}})},C=O=>(O==null?void 0:O.reduce((D,j)=>D+(parseInt(j)||0),0))||0,_=O=>{if(!O)return 0;let D=0;return O.store&&(D+=C(O.store)),O.breakRoom&&(D+=C(O.breakRoom)),D},S=O=>{if(!O)return 0;const D=s==="bag"?p.bagWeight:p.ikeaBoxWeight,j=O-D;return j<=0?0:Math.round(j/p.beanWeightPerPack*10)/10},P=(O,D)=>{v(j=>({...j,[O]:parseFloat(D)||0}))},Q=()=>{const O=Math.max(...y.map(D=>D.id),0)+1;w(D=>[...D,{id:O,totalWeight:"",estimatedPacks:0}])},k=O=>{y.length>1&&w(D=>D.filter(j=>j.id!==O))},N=(O,D)=>{w(j=>j.map(q=>q.id===O?{...q,totalWeight:D,estimatedPacks:S(D)}:q))},se=()=>{A(!0);const O={};Yi.brewing.pourOver.forEach(D=>{const j=n.brewing.pourOver[D],q=C((j==null?void 0:j.store)||[]),J=Fr.includes(D)?0:C((j==null?void 0:j.breakRoom)||[]);O[`brewing-pourOver-${D}`]={store:q.toString(),breakRoom:J.toString(),category:"brewing",subCategory:"pourOver",beanType:D}}),Yi.brewing.espresso.forEach(D=>{const j=n.brewing.espresso[D],q=C((j==null?void 0:j.store)||[]),J=Fr.includes(D)?0:C((j==null?void 0:j.breakRoom)||[]);O[`brewing-espresso-${D}`]={store:q.toString(),breakRoom:J.toString(),category:"brewing",subCategory:"espresso",beanType:D}}),Yi.retail.forEach(D=>{const j=n.retail[D],q=C((j==null?void 0:j.store)||[]),J=Fr.includes(D)?0:C((j==null?void 0:j.breakRoom)||[]);O[`retail-${D}`]={store:q.toString(),breakRoom:J.toString(),category:"retail",subCategory:null,beanType:D}}),u(O)},be=()=>{Object.entries(l).forEach(([O,D])=>{const{category:j,subCategory:q,beanType:J,store:H,breakRoom:W}=D;i(j==="retail"?Z=>({...Z,retail:{...Z.retail,[J]:{store:[H],...Fr.includes(J)?{}:{breakRoom:[W]}}}}):Z=>({...Z,[j]:{...Z[j],[q]:{...Z[j][q],[J]:{store:[H],...Fr.includes(J)?{}:{breakRoom:[W]}}}}}))}),A(!1),u({})},he=()=>{A(!1),u({})},ye=(O,D,j)=>{u(q=>({...q,[O]:{...q[O],[D]:j}}))},Y=()=>{confirm("確定要重置所有數據嗎？此操作無法復原。")&&(i({brewing:{pourOver:{},espresso:{}},retail:{}}),w([{id:1,totalWeight:"",estimatedPacks:0}]),v(Ph),a("bag"),A(!1),u({}),localStorage.removeItem("coffeeBeanInventory"),localStorage.removeItem("coffeeBeanWeightSettings"),localStorage.removeItem("coffeeBeanCalculations"),localStorage.removeItem("coffeeBeanWeightMode"))},ne=()=>{confirm("確定要回復原本的重量設定嗎？")&&(v(Ph),localStorage.removeItem("coffeeBeanWeightSettings"))},ce=()=>{const O=[];return Yi.brewing.pourOver.forEach(D=>{const j=n.brewing.pourOver[D],q=C((j==null?void 0:j.store)||[]),J=Fr.includes(D)?0:C((j==null?void 0:j.breakRoom)||[]),H=q+J;O.push({category:"出杯豆",beanType:D,storeTotal:q,breakRoomTotal:J,grandTotal:H})}),Yi.brewing.espresso.forEach(D=>{const j=n.brewing.espresso[D],q=C((j==null?void 0:j.store)||[]),J=Fr.includes(D)?0:C((j==null?void 0:j.breakRoom)||[]),H=q+J;O.push({category:"義式豆",beanType:D,storeTotal:q,breakRoomTotal:J,grandTotal:H})}),Yi.retail.forEach(D=>{const j=n.retail[D],q=C((j==null?void 0:j.store)||[]),J=Fr.includes(D)?0:C((j==null?void 0:j.breakRoom)||[]),H=q+J;O.push({category:"賣豆",beanType:D,storeTotal:q,breakRoomTotal:J,grandTotal:H})}),O},Ue=()=>{const O=ce(),D=new Date().toLocaleDateString("zh-TW"),j={};return O.forEach(q=>{j[q.category]||(j[q.category]=[]),j[q.category].push(q)}),`
      <div style="font-family: 'Microsoft JhengHei', Arial, sans-serif; max-width: 900px; margin: 0 auto; padding: 30px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); color: #2c3e50; min-height: 100vh;">
        <div style="background: white; border-radius: 15px; padding: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
          <div style="text-align: center; margin-bottom: 40px;">
            <h1 style="color: #2c3e50; margin: 0; font-size: 32px; font-weight: 700; text-shadow: 2px 2px 4px rgba(0,0,0,0.1);">☕ 咖啡豆盤點表</h1>
            <p style="color: #7f8c8d; margin: 10px 0 0 0; font-size: 16px;">盤點日期：${D}</p>
          </div>
          
          ${Object.entries(j).map(([q,J])=>`
            <div style="margin-bottom: 30px;">
              <h2 style="color: white; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 12px 25px; border-radius: 10px 10px 0 0; margin: 0; font-size: 18px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                ${q}
              </h2>
              
              <table style="width: 100%; border-collapse: collapse; background: white; border-radius: 0 0 10px 10px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.08);">
                <thead>
                  <tr style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); height: 40px;">
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">豆種</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">店面庫存</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">員休室庫存</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">總計</th>
                  </tr>
                </thead>
                <tbody>
                  ${J.map((H,W)=>`
                    <tr style="${W%2===0?"background: #f8f9fa;":"background: white;"}">
                      <td style="padding: 12px 15px; text-align: center; font-weight: 600; color: #2c3e50; border-bottom: 1px solid #ecf0f1;">${H.beanType}</td>
                      <td style="padding: 12px 15px; text-align: center; color: #34495e; border-bottom: 1px solid #ecf0f1;">${H.storeTotal}</td>
                      <td style="padding: 12px 15px; text-align: center; color: #34495e; border-bottom: 1px solid #ecf0f1;">${H.breakRoomTotal}</td>
                      <td style="padding: 12px 15px; text-align: center; font-weight: 700; color: #27ae60; background: linear-gradient(135deg, #a8e6cf 0%, #dcedc1 100%); border-bottom: 1px solid #ecf0f1;">${H.grandTotal}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          `).join("")}
        </div>
      </div>
    `},re=()=>{const O=ce(),D=new Date().toLocaleDateString("zh-TW"),j={};return O.forEach(q=>{j[q.category]||(j[q.category]=[]),j[q.category].push(q)}),`
      <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 800px; margin: 0 auto; padding: 40px; background: #fafafa; color: #1d1d1f; min-height: 100vh;">
        <div style="background: white; border-radius: 20px; padding: 50px; box-shadow: 0 8px 32px rgba(0,0,0,0.08);">
          <div style="text-align: center; margin-bottom: 50px;">
            <h1 style="color: #1d1d1f; margin: 0; font-size: 36px; font-weight: 600; letter-spacing: -0.5px;">咖啡豆盤點表</h1>
            <p style="color: #86868b; margin: 12px 0 0 0; font-size: 17px; font-weight: 400;">盤點日期：${D}</p>
          </div>
          
          ${Object.entries(j).map(([q,J])=>`
            <div style="margin-bottom: 40px;">
              <h2 style="color: #1d1d1f; background: #f5f5f7; padding: 16px 24px; border-radius: 12px; margin: 0 0 24px 0; font-size: 20px; font-weight: 600; text-align: center; border: none;">
                ${q}
              </h2>
              
              <div style="background: white; border-radius: 16px; overflow: hidden; border: 1px solid #e5e5e7;">
                <table style="width: 100%; border-collapse: collapse; background: white;">
                  <thead>
                    <tr style="background: #f5f5f7; height: 48px;">
                      <th style="padding: 0 20px; text-align: left; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">豆種</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">店面庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">員休室庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">總計</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${J.map((H,W)=>`
                      <tr style="background: ${W%2===0?"#fafafa":"white"};">
                        <td style="padding: 16px 20px; text-align: left; font-weight: 500; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${H.beanType}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #515154; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${H.storeTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #515154; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${H.breakRoomTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; font-weight: 600; color: #007aff; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${H.grandTotal}</td>
                      </tr>
                    `).join("")}
                  </tbody>
                </table>
              </div>
            </div>
          `).join("")}
        </div>
      </div>
    `},Pe=async()=>{try{let O;try{O=(await Yo(async()=>{const{default:W}=await Promise.resolve().then(()=>Gte);return{default:W}},void 0)).default}catch(W){console.error("html2canvas 載入失敗:",W),alert("匯出功能暫時無法使用，請重新整理頁面後再試");return}const D=g==="minimalist"?re():Ue(),j=document.createElement("div");j.innerHTML=D,j.style.position="absolute",j.style.left="-9999px",j.style.top="0",document.body.appendChild(j);const q=await O(j.firstElementChild,{backgroundColor:g==="minimalist"?"#fafafa":"#ffffff",scale:2,useCORS:!0,allowTaint:!0,logging:!1});document.body.removeChild(j);const J=document.createElement("a"),H=g==="minimalist"?"Minimalist":"原始風格";J.download=`咖啡豆盤點表_${H}_${new Date().toLocaleDateString("zh-TW")}.png`,J.href=q.toDataURL(),J.click()}catch(O){console.error("匯出圖片失敗:",O),alert("匯出圖片失敗，請稍後再試")}};return d.jsxs("div",{className:"container-custom py-6 space-y-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-primary/20 to-primary/10 border border-primary/20",children:d.jsx(Zx,{className:"w-6 h-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-primary to-purple-400 bg-clip-text text-transparent",children:"咖啡豆管理工具"}),d.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"庫存管理與重量換算"})]})]}),d.jsxs("div",{className:"flex gap-2",children:[o?d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:be,className:"px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-500/30 text-blue-400 hover:from-blue-500/30 hover:to-cyan-500/30 hover:border-blue-500/50 transition-all duration-200 flex items-center gap-2",children:[d.jsx(Zx,{className:"w-4 h-4"}),"儲存盤點"]}),d.jsx("button",{onClick:he,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 hover:bg-red-500/20 hover:border-red-500/50 transition-all duration-200",children:"取消"})]}):d.jsxs("button",{onClick:se,className:"px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30 text-green-400 hover:from-green-500/30 hover:to-emerald-500/30 hover:border-green-500/50 transition-all duration-200 flex items-center gap-2",children:[d.jsx(Vd,{className:"w-4 h-4"}),"快速盤點"]}),d.jsx("button",{onClick:Y,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 hover:bg-red-500/20 hover:border-red-500/50 transition-all duration-200",children:"重置數據"})]})]}),d.jsxs("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",ref:r,children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-primary mb-1",children:"咖啡豆盤點表"}),d.jsx("p",{className:"text-sm text-text-secondary",children:"即時更新庫存數量"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-surface/40 rounded-lg border border-white/10",children:[d.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[d.jsx("input",{type:"radio",value:"original",checked:g==="original",onChange:O=>m(O.target.value),className:"text-blue-400 w-3 h-3"}),d.jsx("span",{children:"原始風格"})]}),d.jsx("div",{className:"w-px h-4 bg-white/20"}),d.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[d.jsx("input",{type:"radio",value:"minimalist",checked:g==="minimalist",onChange:O=>m(O.target.value),className:"text-blue-400 w-3 h-3"}),d.jsx("span",{children:"Minimalist"})]})]}),d.jsxs("button",{onClick:Pe,className:"px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-400/30 text-blue-400 hover:from-blue-500/30 hover:to-cyan-500/30 hover:border-blue-500/50 transition-all duration-200 flex items-center gap-2",children:[d.jsx(DY,{className:"w-4 h-4"}),"匯出圖片"]})]})]}),d.jsxs("div",{id:"brewing-section",className:"space-y-4",children:[d.jsxs("div",{className:"sticky top-0 z-30 flex items-center gap-3 mb-4 p-4 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-xl border border-blue-400/20 backdrop-blur-md",children:[d.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-blue-400 to-purple-400 rounded-full"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-blue-400",children:"出杯豆"}),d.jsx("p",{className:"text-sm text-blue-300/70",children:"用於製作飲品的咖啡豆"})]}),d.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 animate-pulse"}),d.jsx("span",{className:"text-xs text-blue-300 font-medium",children:"當前區域"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"sticky top-16 z-20 flex items-center gap-3 mb-3 p-3 bg-gradient-to-r from-blue-500/5 to-cyan-500/5 rounded-lg border border-blue-400/10 backdrop-blur-sm",children:[d.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),d.jsx("h4",{className:"text-md font-semibold text-blue-300",children:"手沖豆"}),d.jsx("span",{className:"text-xs text-blue-300/60",children:"手沖咖啡專用"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:Yi.brewing.pourOver.map(O=>{const D=Fr.includes(O),j=n.brewing.pourOver[O],q=`brewing-pourOver-${O}`,J=l[q];return d.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h5",{className:"font-semibold text-sm text-primary",children:O}),d.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),d.jsx("input",{type:"number",value:(J==null?void 0:J.store)||"0",onChange:H=>ye(q,"store",H.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!D&&d.jsxs("div",{children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),d.jsx("input",{type:"number",value:(J==null?void 0:J.breakRoom)||"0",onChange:H=>ye(q,"breakRoom",H.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),d.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:d.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt((J==null?void 0:J.store)||0)+parseInt((J==null?void 0:J.breakRoom)||0)," 包"]})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),d.jsx("button",{onClick:()=>I("brewing","pourOver",O,"store"),className:"p-1.5 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors hover:scale-110 transform",children:d.jsx(Zi,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.store)||[""]).map((H,W)=>d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("input",{type:"number",value:H,onChange:Z=>T("brewing","pourOver",O,"store",W,Z.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-2 px-3 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all",inputMode:"decimal"}),((j==null?void 0:j.store)||[]).length>1&&d.jsx("button",{onClick:()=>F("brewing","pourOver",O,"store",W),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:d.jsx(es,{className:"w-3 h-3"})})]},W))})]}),!D&&d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),d.jsx("button",{onClick:()=>I("brewing","pourOver",O,"breakRoom"),className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:d.jsx(Zi,{className:"w-3 h-3"})})]}),d.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.breakRoom)||[""]).map((H,W)=>d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("input",{type:"number",value:H,onChange:Z=>T("brewing","pourOver",O,"breakRoom",W,Z.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.breakRoom)||[]).length>1&&d.jsx("button",{onClick:()=>F("brewing","pourOver",O,"breakRoom",W),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:d.jsx(es,{className:"w-3 h-3"})})]},W))})]}),d.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-primary/10 to-transparent rounded-lg p-2",children:d.jsxs("span",{className:"text-xs font-semibold text-primary",children:[O,"：總共 ",_(j)," 包"]})})]})]},O)})})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"sticky top-16 z-20 flex items-center gap-3 mb-3 p-3 bg-gradient-to-r from-purple-500/5 to-pink-500/5 rounded-lg border border-purple-400/10 backdrop-blur-sm",children:[d.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),d.jsx("h4",{className:"text-md font-semibold text-purple-300",children:"義式豆"}),d.jsx("span",{className:"text-xs text-purple-300/60",children:"義式咖啡專用"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Yi.brewing.espresso.map(O=>{const D=Fr.includes(O),j=n.brewing.espresso[O],q=`brewing-espresso-${O}`,J=l[q];return d.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h5",{className:"font-semibold text-sm text-primary",children:O}),d.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),d.jsx("input",{type:"number",value:(J==null?void 0:J.store)||"0",onChange:H=>ye(q,"store",H.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!D&&d.jsxs("div",{children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),d.jsx("input",{type:"number",value:(J==null?void 0:J.breakRoom)||"0",onChange:H=>ye(q,"breakRoom",H.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),d.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:d.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt((J==null?void 0:J.store)||0)+parseInt((J==null?void 0:J.breakRoom)||0)," 包"]})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),d.jsx("button",{onClick:()=>I("brewing","espresso",O,"store"),className:"p-1 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors",children:d.jsx(Zi,{className:"w-3 h-3"})})]}),d.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.store)||[""]).map((H,W)=>d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("input",{type:"number",value:H,onChange:Z=>T("brewing","espresso",O,"store",W,Z.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.store)||[]).length>1&&d.jsx("button",{onClick:()=>F("brewing","espresso",O,"store",W),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:d.jsx(es,{className:"w-3 h-3"})})]},W))})]}),!D&&d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),d.jsx("button",{onClick:()=>I("brewing","espresso",O,"breakRoom"),className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:d.jsx(Zi,{className:"w-3 h-3"})})]}),d.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.breakRoom)||[""]).map((H,W)=>d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("input",{type:"number",value:H,onChange:Z=>T("brewing","espresso",O,"breakRoom",W,Z.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.breakRoom)||[]).length>1&&d.jsx("button",{onClick:()=>F("brewing","espresso",O,"breakRoom",W),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:d.jsx(es,{className:"w-3 h-3"})})]},W))})]}),d.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-primary/10 to-transparent rounded-lg p-2",children:d.jsxs("span",{className:"text-xs font-semibold text-primary",children:[O,"：總共 ",_(j)," 包"]})})]})]},O)})})]})]}),d.jsxs("div",{id:"retail-section",className:"space-y-4 mt-8",children:[d.jsxs("div",{className:"sticky top-0 z-30 flex items-center gap-3 mb-4 p-4 bg-gradient-to-r from-orange-500/10 to-yellow-500/10 rounded-xl border border-orange-400/20 backdrop-blur-md",children:[d.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-orange-400 to-yellow-400 rounded-full"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-orange-400",children:"賣豆"}),d.jsx("p",{className:"text-sm text-orange-300/70",children:"用於販售的咖啡豆"})]}),d.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-400 animate-pulse"}),d.jsx("span",{className:"text-xs text-orange-300 font-medium",children:"當前區域"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:Yi.retail.map(O=>{const D=Fr.includes(O),j=n.retail[O],q=`retail-${O}`,J=l[q];return d.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h5",{className:"font-semibold text-sm text-primary",children:O}),d.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),d.jsx("input",{type:"number",value:(J==null?void 0:J.store)||"0",onChange:H=>ye(q,"store",H.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!D&&d.jsxs("div",{children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),d.jsx("input",{type:"number",value:(J==null?void 0:J.breakRoom)||"0",onChange:H=>ye(q,"breakRoom",H.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),d.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:d.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt((J==null?void 0:J.store)||0)+parseInt((J==null?void 0:J.breakRoom)||0)," 包"]})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),d.jsx("button",{onClick:()=>{if(!n.retail[O]){const W=Fr.includes(O)?{store:[""]}:{store:[""],breakRoom:[""]};i(Z=>({...Z,retail:{...Z.retail,[O]:W}}))}i(H=>{var W;return{...H,retail:{...H.retail,[O]:{...H.retail[O],store:[...((W=H.retail[O])==null?void 0:W.store)||[""],""]}}}})},className:"p-1 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors",children:d.jsx(Zi,{className:"w-3 h-3"})})]}),d.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.store)||[""]).map((H,W)=>d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("input",{type:"number",value:H,onChange:Z=>{if(!n.retail[O]){const Ie=Fr.includes(O)?{store:[""]}:{store:[""],breakRoom:[""]};i(Ee=>({...Ee,retail:{...Ee.retail,[O]:Ie}}))}i(K=>{var Ie,Ee;return{...K,retail:{...K.retail,[O]:{...K.retail[O],store:((Ee=(Ie=K.retail[O])==null?void 0:Ie.store)==null?void 0:Ee.map((Ge,ht)=>ht===W?Z.target.value:Ge))||[""]}}}})},placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.store)||[]).length>1&&d.jsx("button",{onClick:()=>{i(Z=>{var K,Ie;return{...Z,retail:{...Z.retail,[O]:{...Z.retail[O],store:((Ie=(K=Z.retail[O])==null?void 0:K.store)==null?void 0:Ie.filter((Ee,Ge)=>Ge!==W))||[""]}}}})},className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:d.jsx(es,{className:"w-3 h-3"})})]},W))})]}),!D&&d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),d.jsx("button",{onClick:()=>{if(!n.retail[O]){const W=Fr.includes(O)?{store:[""]}:{store:[""],breakRoom:[""]};i(Z=>({...Z,retail:{...Z.retail,[O]:W}}))}i(H=>{var W;return{...H,retail:{...H.retail,[O]:{...H.retail[O],breakRoom:[...((W=H.retail[O])==null?void 0:W.breakRoom)||[""],""]}}}})},className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:d.jsx(Zi,{className:"w-3 h-3"})})]}),d.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.breakRoom)||[""]).map((H,W)=>d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("input",{type:"number",value:H,onChange:Z=>{if(!n.retail[O]){const Ie=Fr.includes(O)?{store:[""]}:{store:[""],breakRoom:[""]};i(Ee=>({...Ee,retail:{...Ee.retail,[O]:Ie}}))}i(K=>{var Ie,Ee;return{...K,retail:{...K.retail,[O]:{...K.retail[O],breakRoom:((Ee=(Ie=K.retail[O])==null?void 0:Ie.breakRoom)==null?void 0:Ee.map((Ge,ht)=>ht===W?Z.target.value:Ge))||[""]}}}})},placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.breakRoom)||[]).length>1&&d.jsx("button",{onClick:()=>{i(Z=>{var K,Ie;return{...Z,retail:{...Z.retail,[O]:{...Z.retail[O],breakRoom:((Ie=(K=Z.retail[O])==null?void 0:K.breakRoom)==null?void 0:Ie.filter((Ee,Ge)=>Ge!==W))||[""]}}}})},className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:d.jsx(es,{className:"w-3 h-3"})})]},W))})]}),d.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-primary/10 to-transparent rounded-lg p-2",children:d.jsxs("span",{className:"text-xs font-semibold text-primary",children:[O,"：總共 ",_(j)," 包"]})})]})]},O)})})]}),d.jsxs("div",{className:"mt-8 space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-primary to-purple-400 rounded-full"}),d.jsx("h3",{className:"text-xl font-bold text-primary",children:"豆種詳細總計"})]}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-5 border border-white/10 hover:border-primary/30 transition-all duration-200",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("h4",{className:"font-semibold text-primary text-lg",children:"出杯豆"}),d.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"})]}),d.jsx("div",{className:"space-y-3",children:ce().filter(D=>D.category==="出杯豆").map(D=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",children:[d.jsx("span",{className:"font-medium text-primary text-base",children:D.beanType}),d.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[d.jsxs("span",{className:"text-blue-400 font-medium",children:["店面 ",D.storeTotal,"包"]}),d.jsxs("span",{className:"text-green-400 font-medium",children:["員休 ",D.breakRoomTotal,"包"]}),d.jsxs("span",{className:"font-bold text-white bg-gradient-to-r from-primary/20 to-purple-500/20 px-3 py-1.5 rounded-lg",children:["總計 ",D.grandTotal,"包"]})]})]},D.beanType))})]}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-4 border border-white/10",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("h4",{className:"font-semibold text-primary",children:"義式豆"}),d.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400"})]}),d.jsx("div",{className:"space-y-2",children:ce().filter(D=>D.category==="義式豆").map(D=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/5 rounded-lg",children:[d.jsx("span",{className:"font-medium text-primary",children:D.beanType}),d.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[d.jsxs("span",{className:"text-blue-400",children:["店面 ",D.storeTotal,"包"]}),d.jsxs("span",{className:"text-green-400",children:["員休 ",D.breakRoomTotal,"包"]}),d.jsxs("span",{className:"font-bold text-white bg-gradient-to-r from-primary/20 to-purple-500/20 px-2 py-1 rounded",children:["總計 ",D.grandTotal,"包"]})]})]},D.beanType))})]}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-4 border border-white/10",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("h4",{className:"font-semibold text-primary",children:"賣豆"}),d.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-400"})]}),d.jsx("div",{className:"space-y-2",children:ce().filter(D=>D.category==="賣豆").map(D=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/5 rounded-lg",children:[d.jsx("span",{className:"font-medium text-primary",children:D.beanType}),d.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[d.jsxs("span",{className:"text-blue-400",children:["店面 ",D.storeTotal,"包"]}),d.jsxs("span",{className:"text-green-400",children:["員休 ",D.breakRoomTotal,"包"]}),d.jsxs("span",{className:"font-bold text-white bg-gradient-to-r from-primary/20 to-purple-500/20 px-2 py-1 rounded",children:["總計 ",D.grandTotal,"包"]})]})]},D.beanType))})]})]})]}),d.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50",children:d.jsx("div",{className:"bg-surface/90 backdrop-blur-md border border-white/20 rounded-full px-4 py-2 shadow-lg",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("button",{onClick:()=>{var O;return(O=document.getElementById("brewing-section"))==null?void 0:O.scrollIntoView({behavior:"smooth"})},className:`flex items-center gap-2 px-3 py-1 rounded-full transition-all duration-300 ${c==="brewing"?"bg-blue-400/20 text-blue-400":"text-gray-400 hover:text-blue-300"}`,children:[d.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${c==="brewing"?"bg-blue-400":"bg-gray-400"}`}),d.jsx("span",{className:"text-sm font-medium",children:"出杯豆"})]}),d.jsx("div",{className:"w-px h-4 bg-gray-600"}),d.jsxs("button",{onClick:()=>{var O;return(O=document.getElementById("retail-section"))==null?void 0:O.scrollIntoView({behavior:"smooth"})},className:`flex items-center gap-2 px-3 py-1 rounded-full transition-all duration-300 ${c==="retail"?"bg-orange-400/20 text-orange-400":"text-gray-400 hover:text-orange-300"}`,children:[d.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${c==="retail"?"bg-orange-400":"bg-gray-400"}`}),d.jsx("span",{className:"text-sm font-medium",children:"賣豆"})]})]})})}),d.jsx("button",{onClick:()=>e(!0),className:"fixed bottom-6 right-6 p-4 bg-gradient-to-r from-primary/20 to-purple-500/20 border border-primary/30 text-primary hover:from-primary/30 hover:to-purple-500/30 hover:border-primary/50 transition-all duration-200 rounded-full shadow-lg hover:shadow-xl z-50 hover:scale-110 transform",children:d.jsx(Vd,{className:"w-6 h-6"})}),t&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-surface/95 backdrop-blur-md border border-white/20 rounded-2xl p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-primary mb-1",children:"重量換算計算器"}),d.jsx("p",{className:"text-sm text-text-secondary",children:"估算豆包數量"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:ne,className:"px-3 py-1.5 text-xs font-medium rounded-lg border border-amber-500/30 text-amber-400 hover:bg-amber-500/10 hover:border-amber-500/50 transition-all duration-200 flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-400"}),"回復設定"]}),d.jsx("button",{onClick:()=>e(!1),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:d.jsx(qD,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-amber-400 to-orange-400 rounded-full"}),d.jsx("h3",{className:"text-lg font-bold text-primary",children:"計算模式"})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/10 hover:border-amber-400/30 transition-all duration-200 cursor-pointer bg-gradient-to-br from-surface/40 to-surface/20",children:[d.jsx("input",{type:"radio",value:"bag",checked:s==="bag",onChange:O=>a(O.target.value),className:"text-amber-400 w-4 h-4"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),d.jsx("span",{className:"font-medium",children:"外包裝袋"})]})]}),d.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/10 hover:border-amber-400/30 transition-all duration-200 cursor-pointer bg-gradient-to-br from-surface/40 to-surface/20",children:[d.jsx("input",{type:"radio",value:"ikea",checked:s==="ikea",onChange:O=>a(O.target.value),className:"text-amber-400 w-4 h-4"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),d.jsx("span",{className:"font-medium",children:"IKEA 盒子"})]})]})]})]}),d.jsxs("div",{className:"space-y-4 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-400 to-purple-400 rounded-full"}),d.jsx("h3",{className:"text-lg font-bold text-primary",children:"重量設定"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-xl p-4 border border-white/10",children:[d.jsxs("label",{className:"block text-sm font-semibold mb-3 text-primary flex items-center gap-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),s==="bag"?"外包裝袋重量":"IKEA 盒重量"," (g)"]}),d.jsx("input",{type:"number",value:s==="bag"?p.bagWeight:p.ikeaBoxWeight,onChange:O=>P(s==="bag"?"bagWeight":"ikeaBoxWeight",O.target.value),className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all",placeholder:"輸入重量",inputMode:"decimal"})]}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-xl p-4 border border-white/10",children:[d.jsxs("label",{className:"block text-sm font-semibold mb-3 text-primary flex items-center gap-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"每包豆子重量 (g)"]}),d.jsx("input",{type:"number",value:p.beanWeightPerPack,onChange:O=>P("beanWeightPerPack",O.target.value),className:"input-field w-full text-sm py-2.5 px-3 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",placeholder:"輸入重量",inputMode:"decimal"})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("button",{onClick:Q,className:"px-4 py-2.5 text-sm font-medium rounded-lg bg-gradient-to-r from-primary/20 to-purple-500/20 border border-primary/30 text-primary hover:from-primary/30 hover:to-purple-500/30 hover:border-primary/50 transition-all duration-200 flex items-center gap-2",children:[d.jsx(Zi,{className:"w-4 h-4"}),"新增計算欄位"]})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-green-400 to-emerald-400 rounded-full"}),d.jsx("h3",{className:"text-lg font-bold text-primary",children:"計算結果"})]}),y.map(O=>d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-4 border border-white/10 hover:border-primary/30 transition-all duration-200 hover:shadow-lg hover:shadow-primary/10",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("h5",{className:"font-semibold text-primary",children:["計算欄位 #",O.id]}),d.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/60"})]}),y.length>1&&d.jsx("button",{onClick:()=>k(O.id),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:d.jsx(es,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-lg p-3 border border-white/10",children:[d.jsxs("label",{className:"block text-sm font-semibold mb-2 text-text-secondary flex items-center gap-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"總重量 (g)"]}),d.jsx("input",{type:"number",value:O.totalWeight,onChange:D=>N(O.id,D.target.value),placeholder:"輸入總重量",className:"input-field w-full text-sm py-2 px-3 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"})]}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-lg p-3 border border-white/10",children:[d.jsxs("label",{className:"block text-sm font-semibold mb-2 text-text-secondary flex items-center gap-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"估算包數"]}),d.jsxs("div",{className:"w-full text-sm py-3 px-4 rounded-lg bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-400/30 text-center font-bold text-green-400 hover:border-green-500/50 transition-all",children:[O.estimatedPacks," 包"]})]})]})]},O.id))]})]})})]})}function yX(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),d.jsx("polyline",{points:"14,2 14,8 20,8"})]})}function wX(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}function xX(){const[t,e]=x.useState("");x.useState(!1);const[r,n]=x.useState(0),[i,s]=x.useState(!1),[a,o]=x.useState(""),[A,l]=x.useState(!1),u=[{value:"1",label:"1月"},{value:"2",label:"2月"},{value:"3",label:"3月"},{value:"4",label:"4月"},{value:"5",label:"5月"},{value:"6",label:"6月"},{value:"7",label:"7月"},{value:"8",label:"8月"},{value:"9",label:"9月"},{value:"10",label:"10月"},{value:"11",label:"11月"},{value:"12",label:"12月"}],c=g=>[31,28,31,30,31,30,31,31,30,31,30,31][parseInt(g)-1],f=()=>{if(!t)return;const g=`DailyReport_${t}_Month.zip`,m=`https://raw.githubusercontent.com/greedysisyphus/Brainless/main/public/reports/${g}`,p=document.createElement("a");p.href=m,p.download=g,document.body.appendChild(p),p.click(),document.body.removeChild(p)};return d.jsx("div",{className:"container-custom py-6",children:d.jsxs("div",{className:"max-w-2xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(yX,{className:"w-8 h-8 text-primary"}),d.jsx("h1",{className:"text-2xl font-bold mb-2 text-center",children:"報表生成器"})]}),d.jsx("div",{className:"mb-6",children:d.jsxs("blockquote",{className:"italic text-gray-400 text-center text-base",children:["「我愛改檔名」",d.jsx("span",{className:"block text-xs text-gray-500 mt-1 text-center",children:"— 紅葉"})]})})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("h2",{className:"text-lg font-semibold text-primary mb-4 flex items-center gap-2",children:[d.jsx(dE,{className:"w-5 h-5"}),"選擇月份"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-text-secondary",children:"選擇要生成日報表的月份"}),d.jsxs("select",{value:t,onChange:g=>e(g.target.value),className:"input-field w-full max-w-xs",children:[d.jsx("option",{value:"",children:"請選擇月份"}),u.map(g=>d.jsxs("option",{value:g.value,children:[g.label," (",c(g.value),"天)"]},g.value))]}),t&&d.jsxs("div",{className:"text-sm text-text-secondary",children:["將生成 ",c(t)," 個日報表檔案"]})]})]})}),d.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("h2",{className:"text-lg font-semibold text-primary mb-4 flex items-center gap-2",children:[d.jsx(wX,{className:"w-5 h-5"}),"生成日報表"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-text-secondary",children:"點擊下方按鈕開始生成整月日報表"}),d.jsx("button",{onClick:f,disabled:!t,className:"btn-primary w-full max-w-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"下載日報表"})]})]})}),a&&d.jsx("div",{className:"card backdrop-blur-sm bg-red-500/10 border border-red-500/30",children:d.jsxs("div",{className:"p-4 flex items-center gap-3",children:[d.jsx(eX,{className:"w-5 h-5 text-red-400"}),d.jsx("span",{className:"text-red-400",children:a})]})}),A&&d.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h3",{className:"text-lg font-semibold text-primary",children:"生成進度"}),d.jsxs("span",{className:"text-sm text-text-secondary",children:[Math.round(r),"%"]})]}),d.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:d.jsx("div",{className:"bg-gradient-to-r from-primary to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${r}%`}})}),i&&d.jsxs("div",{className:"mt-4 flex items-center gap-2 text-green-400",children:[d.jsx(zY,{className:"w-5 h-5"}),d.jsx("span",{children:"日報表生成完成！"})]})]})})]})]})})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tb=function(t,e){return tb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},tb(t,e)};function Bi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");tb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var rb=function(){return rb=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},rb.apply(this,arguments)};function Mr(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{l(n.next(u))}catch(c){a(c)}}function A(u){try{l(n.throw(u))}catch(c){a(c)}}function l(u){u.done?s(u.value):i(u.value).then(o,A)}l((n=n.apply(t,[])).next())})}function Ur(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(u){return A([l,u])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Nh(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var Ns=function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),F0=function(t,e){return Ns.fromClientRect(t,e.getBoundingClientRect())},bX=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Ns(0,0,n,i)},U0=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Dt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},x2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",BX=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Qh=0;Qh<x2.length;Qh++)BX[x2.charCodeAt(Qh)]=Qh;var b2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var kh=0;kh<b2.length;kh++)Pc[b2.charCodeAt(kh)]=kh;var CX=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=Pc[t.charCodeAt(n)],a=Pc[t.charCodeAt(n+1)],o=Pc[t.charCodeAt(n+2)],A=Pc[t.charCodeAt(n+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|A&63;return l},EX=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},_X=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Jo=5,fE=11,Qy=2,IX=fE-Jo,JD=65536>>Jo,SX=1<<Jo,ky=SX-1,TX=1024>>Jo,FX=JD+TX,UX=FX,PX=32,NX=UX+PX,QX=65536>>fE,kX=1<<IX,OX=kX-1,B2=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},DX=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},jX=function(t,e){var r=CX(t),n=Array.isArray(r)?_X(r):new Uint32Array(r),i=Array.isArray(r)?EX(r):new Uint16Array(r),s=24,a=B2(i,s/2,n[4]/2),o=n[5]===2?B2(i,(s+n[4])/2):DX(n,Math.ceil((s+n[4])/4));return new RX(n[0],n[1],n[2],n[3],a,o)},RX=function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Jo],r=(r<<Qy)+(e&ky),this.data[r];if(e<=65535)return r=this.index[JD+(e-55296>>Jo)],r=(r<<Qy)+(e&ky),this.data[r];if(e<this.highStart)return r=NX-QX+(e>>fE),r=this.index[r],r+=e>>Jo&OX,r=this.index[r],r=(r<<Qy)+(e&ky),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),C2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",MX=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Oh=0;Oh<C2.length;Oh++)MX[C2.charCodeAt(Oh)]=Oh;var LX="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",E2=50,HX=1,ZD=2,ej=3,VX=4,KX=5,_2=7,tj=8,I2=9,ya=10,nb=11,S2=12,ib=13,$X=14,Nc=15,sb=16,Dh=17,uc=18,GX=19,T2=20,ab=21,cc=22,Oy=23,WA=24,dn=25,Qc=26,kc=27,zA=28,WX=29,Oo=30,zX=31,jh=32,Rh=33,ob=34,Ab=35,lb=36,Kd=37,ub=38,Hg=39,Vg=40,Dy=41,rj=42,YX=43,XX=[9001,65288],nj="!",De="×",Mh="÷",cb=jX(LX),Xi=[Oo,lb],db=[HX,ZD,ej,KX],ij=[ya,tj],F2=[kc,Qc],qX=db.concat(ij),U2=[ub,Hg,Vg,ob,Ab],JX=[Nc,ib],ZX=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(s,a){var o=cb.get(s);if(o>E2?(i.push(!0),o-=E2):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),r.push(sb);if(o===VX||o===nb){if(a===0)return n.push(a),r.push(Oo);var A=r[a-1];return qX.indexOf(A)===-1?(n.push(n[a-1]),r.push(A)):(n.push(a),r.push(Oo))}if(n.push(a),o===zX)return r.push(e==="strict"?ab:Kd);if(o===rj||o===WX)return r.push(Oo);if(o===YX)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(Kd):r.push(Oo);r.push(o)}),[n,r,i]},jy=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=r;s<=n.length;){s++;var a=n[s];if(a===e)return!0;if(a!==ya)break}if(i===ya)for(var s=r;s>0;){s--;var o=n[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var A=r;A<=n.length;){A++;var a=n[A];if(a===e)return!0;if(a!==ya)break}if(o!==ya)break}return!1},P2=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===ya)r--;else return n}return 0},eq=function(t,e,r,n,i){if(r[n]===0)return De;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return De;var a=s-1,o=s+1,A=e[s],l=a>=0?e[a]:0,u=e[o];if(A===ZD&&u===ej)return De;if(db.indexOf(A)!==-1)return nj;if(db.indexOf(u)!==-1||ij.indexOf(u)!==-1)return De;if(P2(s,e)===tj)return Mh;if(cb.get(t[s])===nb||(A===jh||A===Rh)&&cb.get(t[o])===nb||A===_2||u===_2||A===I2||[ya,ib,Nc].indexOf(A)===-1&&u===I2||[Dh,uc,GX,WA,zA].indexOf(u)!==-1||P2(s,e)===cc||jy(Oy,cc,s,e)||jy([Dh,uc],ab,s,e)||jy(S2,S2,s,e))return De;if(A===ya)return Mh;if(A===Oy||u===Oy)return De;if(u===sb||A===sb)return Mh;if([ib,Nc,ab].indexOf(u)!==-1||A===$X||l===lb&&JX.indexOf(A)!==-1||A===zA&&u===lb||u===T2||Xi.indexOf(u)!==-1&&A===dn||Xi.indexOf(A)!==-1&&u===dn||A===kc&&[Kd,jh,Rh].indexOf(u)!==-1||[Kd,jh,Rh].indexOf(A)!==-1&&u===Qc||Xi.indexOf(A)!==-1&&F2.indexOf(u)!==-1||F2.indexOf(A)!==-1&&Xi.indexOf(u)!==-1||[kc,Qc].indexOf(A)!==-1&&(u===dn||[cc,Nc].indexOf(u)!==-1&&e[o+1]===dn)||[cc,Nc].indexOf(A)!==-1&&u===dn||A===dn&&[dn,zA,WA].indexOf(u)!==-1)return De;if([dn,zA,WA,Dh,uc].indexOf(u)!==-1)for(var c=s;c>=0;){var f=e[c];if(f===dn)return De;if([zA,WA].indexOf(f)!==-1)c--;else break}if([kc,Qc].indexOf(u)!==-1)for(var c=[Dh,uc].indexOf(A)!==-1?a:s;c>=0;){var f=e[c];if(f===dn)return De;if([zA,WA].indexOf(f)!==-1)c--;else break}if(ub===A&&[ub,Hg,ob,Ab].indexOf(u)!==-1||[Hg,ob].indexOf(A)!==-1&&[Hg,Vg].indexOf(u)!==-1||[Vg,Ab].indexOf(A)!==-1&&u===Vg||U2.indexOf(A)!==-1&&[T2,Qc].indexOf(u)!==-1||U2.indexOf(u)!==-1&&A===kc||Xi.indexOf(A)!==-1&&Xi.indexOf(u)!==-1||A===WA&&Xi.indexOf(u)!==-1||Xi.concat(dn).indexOf(A)!==-1&&u===cc&&XX.indexOf(t[o])===-1||Xi.concat(dn).indexOf(u)!==-1&&A===uc)return De;if(A===Dy&&u===Dy){for(var g=r[s],m=1;g>0&&(g--,e[g]===Dy);)m++;if(m%2!==0)return De}return A===jh&&u===Rh?De:Mh},tq=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=ZX(t,e.lineBreak),n=r[0],i=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[dn,Oo,rj].indexOf(o)!==-1?Kd:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,A){return o&&t[A]>=19968&&t[A]<=40959}):void 0;return[n,i,a]},rq=function(){function t(e,r,n,i){this.codePoints=e,this.required=r===nj,this.start=n,this.end=i}return t.prototype.slice=function(){return Dt.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),nq=function(t,e){var r=U0(t),n=tq(r,e),i=n[0],s=n[1],a=n[2],o=r.length,A=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var u=De;l<o&&(u=eq(r,s,i,++l,a))===De;);if(u!==De||l===o){var c=new rq(r,u,A,l);return A=l,{value:c,done:!1}}return{done:!0,value:null}}}},iq=1,sq=2,Bf=4,N2=8,Vm=10,Q2=47,sd=92,aq=9,oq=32,Lh=34,dc=61,Aq=35,lq=36,uq=37,Hh=39,Vh=40,fc=41,cq=95,Zr=45,dq=33,fq=60,hq=62,gq=64,mq=91,pq=93,vq=61,yq=123,Kh=63,wq=125,k2=124,xq=126,bq=128,O2=65533,Ry=42,Lo=43,Bq=44,Cq=58,Eq=59,$d=46,_q=0,Iq=8,Sq=11,Tq=14,Fq=31,Uq=127,Ii=-1,sj=48,aj=97,oj=101,Pq=102,Nq=117,Qq=122,Aj=65,lj=69,uj=70,kq=85,Oq=90,Nr=function(t){return t>=sj&&t<=57},Dq=function(t){return t>=55296&&t<=57343},YA=function(t){return Nr(t)||t>=Aj&&t<=uj||t>=aj&&t<=Pq},jq=function(t){return t>=aj&&t<=Qq},Rq=function(t){return t>=Aj&&t<=Oq},Mq=function(t){return jq(t)||Rq(t)},Lq=function(t){return t>=bq},$h=function(t){return t===Vm||t===aq||t===oq},Km=function(t){return Mq(t)||Lq(t)||t===cq},D2=function(t){return Km(t)||Nr(t)||t===Zr},Hq=function(t){return t>=_q&&t<=Iq||t===Sq||t>=Tq&&t<=Fq||t===Uq},la=function(t,e){return t!==sd?!1:e!==Vm},Gh=function(t,e,r){return t===Zr?Km(e)||la(e,r):Km(t)?!0:!!(t===sd&&la(t,e))},My=function(t,e,r){return t===Lo||t===Zr?Nr(e)?!0:e===$d&&Nr(r):Nr(t===$d?e:t)},Vq=function(t){var e=0,r=1;(t[e]===Lo||t[e]===Zr)&&(t[e]===Zr&&(r=-1),e++);for(var n=[];Nr(t[e]);)n.push(t[e++]);var i=n.length?parseInt(Dt.apply(void 0,n),10):0;t[e]===$d&&e++;for(var s=[];Nr(t[e]);)s.push(t[e++]);var a=s.length,o=a?parseInt(Dt.apply(void 0,s),10):0;(t[e]===lj||t[e]===oj)&&e++;var A=1;(t[e]===Lo||t[e]===Zr)&&(t[e]===Zr&&(A=-1),e++);for(var l=[];Nr(t[e]);)l.push(t[e++]);var u=l.length?parseInt(Dt.apply(void 0,l),10):0;return r*(i+o*Math.pow(10,-a))*Math.pow(10,A*u)},Kq={type:2},$q={type:3},Gq={type:4},Wq={type:13},zq={type:8},Yq={type:21},Xq={type:9},qq={type:10},Jq={type:11},Zq={type:12},eJ={type:14},Wh={type:23},tJ={type:1},rJ={type:25},nJ={type:24},iJ={type:26},sJ={type:27},aJ={type:28},oJ={type:29},AJ={type:31},fb={type:32},cj=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(U0(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==fb;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Lh:return this.consumeStringToken(Lh);case Aq:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(D2(r)||la(n,i)){var s=Gh(r,n,i)?sq:iq,a=this.consumeName();return{type:5,value:a,flags:s}}break;case lq:if(this.peekCodePoint(0)===dc)return this.consumeCodePoint(),Wq;break;case Hh:return this.consumeStringToken(Hh);case Vh:return Kq;case fc:return $q;case Ry:if(this.peekCodePoint(0)===dc)return this.consumeCodePoint(),eJ;break;case Lo:if(My(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Bq:return Gq;case Zr:var o=e,A=this.peekCodePoint(0),l=this.peekCodePoint(1);if(My(o,A,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Gh(o,A,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===Zr&&l===hq)return this.consumeCodePoint(),this.consumeCodePoint(),nJ;break;case $d:if(My(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Q2:if(this.peekCodePoint(0)===Ry)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===Ry&&(u=this.consumeCodePoint(),u===Q2))return this.consumeToken();if(u===Ii)return this.consumeToken()}break;case Cq:return iJ;case Eq:return sJ;case fq:if(this.peekCodePoint(0)===dq&&this.peekCodePoint(1)===Zr&&this.peekCodePoint(2)===Zr)return this.consumeCodePoint(),this.consumeCodePoint(),rJ;break;case gq:var c=this.peekCodePoint(0),f=this.peekCodePoint(1),g=this.peekCodePoint(2);if(Gh(c,f,g)){var a=this.consumeName();return{type:7,value:a}}break;case mq:return aJ;case sd:if(la(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case pq:return oJ;case vq:if(this.peekCodePoint(0)===dc)return this.consumeCodePoint(),zq;break;case yq:return Jq;case wq:return Zq;case Nq:case kq:var m=this.peekCodePoint(0),p=this.peekCodePoint(1);return m===Lo&&(YA(p)||p===Kh)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case k2:if(this.peekCodePoint(0)===dc)return this.consumeCodePoint(),Xq;if(this.peekCodePoint(0)===k2)return this.consumeCodePoint(),Yq;break;case xq:if(this.peekCodePoint(0)===dc)return this.consumeCodePoint(),qq;break;case Ii:return fb}return $h(e)?(this.consumeWhiteSpace(),AJ):Nr(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Km(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Dt(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();YA(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===Kh&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Dt.apply(void 0,e.map(function(A){return A===Kh?sj:A})),16),s=parseInt(Dt.apply(void 0,e.map(function(A){return A===Kh?uj:A})),16);return{type:30,start:i,end:s}}var a=parseInt(Dt.apply(void 0,e),16);if(this.peekCodePoint(0)===Zr&&YA(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];YA(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var s=parseInt(Dt.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Vh?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Vh?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ii)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Hh||r===Lh){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ii||this.peekCodePoint(0)===fc)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Wh)}for(;;){var i=this.consumeCodePoint();if(i===Ii||i===fc)return{type:22,value:Dt.apply(void 0,e)};if($h(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ii||this.peekCodePoint(0)===fc?(this.consumeCodePoint(),{type:22,value:Dt.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Wh);if(i===Lh||i===Hh||i===Vh||Hq(i))return this.consumeBadUrlRemnants(),Wh;if(i===sd)if(la(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Wh;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;$h(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===fc||e===Ii)return;la(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=Dt.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===Ii||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===Vm)return this._value.splice(0,n),tJ;if(i===sd){var s=this._value[n+1];s!==Ii&&s!==void 0&&(s===Vm?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):la(i,s)&&(r+=this.consumeStringSlice(n),r+=Dt(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Bf,n=this.peekCodePoint(0);for((n===Lo||n===Zr)&&e.push(this.consumeCodePoint());Nr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===$d&&Nr(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=N2;Nr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===lj||n===oj)&&((i===Lo||i===Zr)&&Nr(s)||Nr(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=N2;Nr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Vq(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(Gh(i,s,a)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return i===uq?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(YA(e)){for(var r=Dt(e);YA(this.peekCodePoint(0))&&r.length<6;)r+=Dt(this.consumeCodePoint());$h(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||Dq(n)||n>1114111?O2:n}return e===Ii?O2:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(D2(r))e+=Dt(r);else if(la(r,this.peekCodePoint(0)))e+=Dt(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),dj=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new cj;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||uJ(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?fb:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Cf=function(t){return t.type===15},Iu=function(t){return t.type===17},Ze=function(t){return t.type===20},lJ=function(t){return t.type===0},hb=function(t,e){return Ze(t)&&t.value===e},fj=function(t){return t.type!==31},su=function(t){return t.type!==31&&t.type!==4},$i=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},uJ=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Xa=function(t){return t.type===17||t.type===15},Ht=function(t){return t.type===16||Xa(t)},hj=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},xr={type:17,number:0,flags:Bf},hE={type:16,number:50,flags:Bf},wa={type:16,number:100,flags:Bf},Oc=function(t,e,r){var n=t[0],i=t[1];return[ot(n,e),ot(typeof i<"u"?i:n,r)]},ot=function(t,e){if(t.type===16)return t.number/100*e;if(Cf(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},gj="deg",mj="grad",pj="rad",vj="turn",P0={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case gj:return Math.PI*e.number/180;case mj:return Math.PI/200*e.number;case pj:return e.number;case vj:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},yj=function(t){return t.type===15&&(t.unit===gj||t.unit===mj||t.unit===pj||t.unit===vj)},wj=function(t){var e=t.filter(Ze).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[xr,xr];case"to top":case"bottom":return Yn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[xr,wa];case"to right":case"left":return Yn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[wa,wa];case"to bottom":case"top":return Yn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[wa,xr];case"to left":case"right":return Yn(270)}return 0},Yn=function(t){return Math.PI*t/180},Oa={name:"color",parse:function(t,e){if(e.type===18){var r=cJ[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return xa(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return xa(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return xa(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return xa(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=xs[e.value.toUpperCase()];if(typeof o<"u")return o}return xs.TRANSPARENT}},Da=function(t){return(255&t)===0},nr=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},xa=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},j2=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},R2=function(t,e){var r=e.filter(su);if(r.length===3){var n=r.map(j2),i=n[0],s=n[1],a=n[2];return xa(i,s,a,1)}if(r.length===4){var o=r.map(j2),i=o[0],s=o[1],a=o[2],A=o[3];return xa(i,s,a,A)}return 0};function Ly(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var M2=function(t,e){var r=e.filter(su),n=r[0],i=r[1],s=r[2],a=r[3],o=(n.type===17?Yn(n.number):P0.parse(t,n))/(Math.PI*2),A=Ht(i)?i.number/100:0,l=Ht(s)?s.number/100:0,u=typeof a<"u"&&Ht(a)?ot(a,1):1;if(A===0)return xa(l*255,l*255,l*255,1);var c=l<=.5?l*(A+1):l+A-l*A,f=l*2-c,g=Ly(f,c,o+1/3),m=Ly(f,c,o),p=Ly(f,c,o-1/3);return xa(g*255,m*255,p*255,u)},cJ={hsl:M2,hsla:M2,rgb:R2,rgba:R2},ad=function(t,e){return Oa.parse(t,dj.create(e).parseComponentValue())},xs={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},dJ={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Ze(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fJ={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},N0=function(t,e){var r=Oa.parse(t,e[0]),n=e[1];return n&&Ht(n)?{color:r,stop:n}:{color:r,stop:null}},L2=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=xr),n.stop===null&&(n.stop=wa);for(var i=[],s=0,a=0;a<t.length;a++){var o=t[a].stop;if(o!==null){var A=ot(o,e);A>s?i.push(A):i.push(s),s=A}else i.push(null)}for(var l=null,a=0;a<i.length;a++){var u=i[a];if(u===null)l===null&&(l=a);else if(l!==null){for(var c=a-l,f=i[l-1],g=(u-f)/(c+1),m=1;m<=c;m++)i[l+m-1]=g*m;l=null}}return t.map(function(p,v){var y=p.color;return{color:y,stop:Math.max(Math.min(1,i[v]/e),0)}})},hJ=function(t,e,r){var n=e/2,i=r/2,s=ot(t[0],e)-n,a=i-ot(t[1],r);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},gJ=function(t,e,r){var n=typeof t=="number"?t:hJ(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,a=r/2,o=i/2,A=Math.sin(n-Math.PI/2)*o,l=Math.cos(n-Math.PI/2)*o;return[i,s-l,s+l,a-A,a+A]},ci=function(t,e){return Math.sqrt(t*t+e*e)},H2=function(t,e,r,n,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(a,o){var A=o[0],l=o[1],u=ci(r-A,n-l);return(i?u<a.optimumDistance:u>a.optimumDistance)?{optimumCorner:o,optimumDistance:u}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},mJ=function(t,e,r,n,i){var s=0,a=0;switch(t.size){case 0:t.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)s=a=Math.min(ci(e,r),ci(e,r-i),ci(e-n,r),ci(e-n,r-i));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),A=H2(n,i,e,r,!0),l=A[0],u=A[1];s=ci(l-e,(u-r)/o),a=o*s}break;case 1:t.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)s=a=Math.max(ci(e,r),ci(e,r-i),ci(e-n,r),ci(e-n,r-i));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),c=H2(n,i,e,r,!1),l=c[0],u=c[1];s=ci(l-e,(u-r)/o),a=o*s}break}return Array.isArray(t.size)&&(s=ot(t.size[0],n),a=t.size.length===2?ot(t.size[1],i):s),[s,a]},pJ=function(t,e){var r=Yn(180),n=[];return $i(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){r=wj(i);return}else if(yj(a)){r=P0.parse(t,a);return}}var o=N0(t,i);n.push(o)}),{angle:r,stops:n,type:1}},zh=function(t,e){var r=Yn(180),n=[];return $i(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=wj(i);return}else if(yj(a)){r=(P0.parse(t,a)+Yn(270))%Yn(360);return}}var o=N0(t,i);n.push(o)}),{angle:r,stops:n,type:1}},vJ=function(t,e){var r=Yn(180),n=[],i=1,s=0,a=3,o=[];return $i(e).forEach(function(A,l){var u=A[0];if(l===0){if(Ze(u)&&u.value==="linear"){i=1;return}else if(Ze(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var c=Oa.parse(t,u.values[0]);n.push({stop:xr,color:c})}else if(u.name==="to"){var c=Oa.parse(t,u.values[0]);n.push({stop:wa,color:c})}else if(u.name==="color-stop"){var f=u.values.filter(su);if(f.length===2){var c=Oa.parse(t,f[1]),g=f[0];Iu(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:c})}}}}),i===1?{angle:(r+Yn(180))%Yn(360),stops:n,type:i}:{size:a,shape:s,stops:n,position:o,type:i}},xj="closest-side",bj="farthest-side",Bj="closest-corner",Cj="farthest-corner",Ej="circle",_j="ellipse",Ij="cover",Sj="contain",yJ=function(t,e){var r=0,n=3,i=[],s=[];return $i(e).forEach(function(a,o){var A=!0;if(o===0){var l=!1;A=a.reduce(function(c,f){if(l)if(Ze(f))switch(f.value){case"center":return s.push(hE),c;case"top":case"left":return s.push(xr),c;case"right":case"bottom":return s.push(wa),c}else(Ht(f)||Xa(f))&&s.push(f);else if(Ze(f))switch(f.value){case Ej:return r=0,!1;case _j:return r=1,!1;case"at":return l=!0,!1;case xj:return n=0,!1;case Ij:case bj:return n=1,!1;case Sj:case Bj:return n=2,!1;case Cj:return n=3,!1}else if(Xa(f)||Ht(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return c},A)}if(A){var u=N0(t,a);i.push(u)}}),{size:n,shape:r,stops:i,position:s,type:2}},Yh=function(t,e){var r=0,n=3,i=[],s=[];return $i(e).forEach(function(a,o){var A=!0;if(o===0?A=a.reduce(function(u,c){if(Ze(c))switch(c.value){case"center":return s.push(hE),!1;case"top":case"left":return s.push(xr),!1;case"right":case"bottom":return s.push(wa),!1}else if(Ht(c)||Xa(c))return s.push(c),!1;return u},A):o===1&&(A=a.reduce(function(u,c){if(Ze(c))switch(c.value){case Ej:return r=0,!1;case _j:return r=1,!1;case Sj:case xj:return n=0,!1;case bj:return n=1,!1;case Bj:return n=2,!1;case Ij:case Cj:return n=3,!1}else if(Xa(c)||Ht(c))return Array.isArray(n)||(n=[]),n.push(c),!1;return u},A)),A){var l=N0(t,a);i.push(l)}}),{size:n,shape:r,stops:i,position:s,type:2}},wJ=function(t){return t.type===1},xJ=function(t){return t.type===2},gE={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=Tj[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function bJ(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Tj[t.name])}var Tj={"linear-gradient":pJ,"-moz-linear-gradient":zh,"-ms-linear-gradient":zh,"-o-linear-gradient":zh,"-webkit-linear-gradient":zh,"radial-gradient":yJ,"-moz-radial-gradient":Yh,"-ms-radial-gradient":Yh,"-o-radial-gradient":Yh,"-webkit-radial-gradient":Yh,"-webkit-gradient":vJ},BJ={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return su(n)&&bJ(n)}).map(function(n){return gE.parse(t,n)})}},CJ={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Ze(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},EJ={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return $i(e).map(function(r){return r.filter(Ht)}).map(hj)}},_J={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return $i(e).map(function(r){return r.filter(Ze).map(function(n){return n.value}).join(" ")}).map(IJ)}},IJ=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},kl;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(kl||(kl={}));var SJ={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return $i(e).map(function(r){return r.filter(TJ)})}},TJ=function(t){return Ze(t)||Ht(t)},Q0=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},FJ=Q0("top"),UJ=Q0("right"),PJ=Q0("bottom"),NJ=Q0("left"),k0=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return hj(r.filter(Ht))}}},QJ=k0("top-left"),kJ=k0("top-right"),OJ=k0("bottom-right"),DJ=k0("bottom-left"),O0=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},jJ=O0("top"),RJ=O0("right"),MJ=O0("bottom"),LJ=O0("left"),D0=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Cf(r)?r.number:0}}},HJ=D0("top"),VJ=D0("right"),KJ=D0("bottom"),$J=D0("left"),GJ={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},WJ={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},zJ={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Ze).reduce(function(r,n){return r|YJ(n.value)},0)}},YJ=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},XJ={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},qJ={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},$m;(function(t){t.NORMAL="normal",t.STRICT="strict"})($m||($m={}));var JJ={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return $m.STRICT;case"normal":default:return $m.NORMAL}}},ZJ={name:"line-height",initialValue:"normal",prefix:!1,type:4},V2=function(t,e){return Ze(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Ht(t)?ot(t,e):e},eZ={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:gE.parse(t,e)}},tZ={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},gb={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},j0=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},rZ=j0("top"),nZ=j0("right"),iZ=j0("bottom"),sZ=j0("left"),aZ={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Ze).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},oZ={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},R0=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},AZ=R0("top"),lZ=R0("right"),uZ=R0("bottom"),cZ=R0("left"),dZ={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},fZ={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},hZ={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&hb(e[0],"none")?[]:$i(e).map(function(r){for(var n={color:xs.TRANSPARENT,offsetX:xr,offsetY:xr,blur:xr},i=0,s=0;s<r.length;s++){var a=r[s];Xa(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:n.blur=a,i++):n.color=Oa.parse(t,a)}return n})}},gZ={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},mZ={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=yZ[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},pZ=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},vZ=function(t){var e=t.filter(function(A){return A.type===17}).map(function(A){return A.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,i,s,a,o]:null},yZ={matrix:pZ,matrix3d:vZ},K2={type:16,number:50,flags:Bf},wZ=[K2,K2],xZ={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Ht);return r.length!==2?wZ:[r[0],r[1]]}},bZ={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},od;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(od||(od={}));var BZ={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return od.BREAK_ALL;case"keep-all":return od.KEEP_ALL;case"normal":default:return od.NORMAL}}},CZ={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Iu(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Fj={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},EZ={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Iu(e)?e.number:1}},_Z={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},IZ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Ze).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},SZ={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},TZ={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},FZ={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Iu(e))return e.number;if(Ze(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},UZ={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Ze).map(function(r){return r.value})}},PZ={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},zt=function(t,e){return(t&e)!==0},NZ={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},QZ={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(fj),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var A=o&&Iu(o)?o.number:1;n.push({counter:a.value,increment:A})}}return n}},kZ={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(fj),i=0;i<n.length;i++){var s=n[i],a=n[i+1];if(Ze(s)&&s.value!=="none"){var o=a&&Iu(a)?a.number:0;r.push({counter:s.value,reset:o})}}return r}},OZ={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Cf).map(function(r){return Fj.parse(t,r)})}},DZ={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(lJ);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;n.push({open:a,close:o})}return n}},$2=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},jZ={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&hb(e[0],"none")?[]:$i(e).map(function(r){for(var n={color:255,offsetX:xr,offsetY:xr,blur:xr,spread:xr,inset:!1},i=0,s=0;s<r.length;s++){var a=r[s];hb(a,"inset")?n.inset=!0:Xa(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:i===2?n.blur=a:n.spread=a,i++):n.color=Oa.parse(t,a)}return n})}},RZ={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(Ze).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},MZ={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},LZ={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Cf(e)?e.number:0}},HZ=function(){function t(e,r){var n,i;this.animationDuration=ue(e,OZ,r.animationDuration),this.backgroundClip=ue(e,dJ,r.backgroundClip),this.backgroundColor=ue(e,fJ,r.backgroundColor),this.backgroundImage=ue(e,BJ,r.backgroundImage),this.backgroundOrigin=ue(e,CJ,r.backgroundOrigin),this.backgroundPosition=ue(e,EJ,r.backgroundPosition),this.backgroundRepeat=ue(e,_J,r.backgroundRepeat),this.backgroundSize=ue(e,SJ,r.backgroundSize),this.borderTopColor=ue(e,FJ,r.borderTopColor),this.borderRightColor=ue(e,UJ,r.borderRightColor),this.borderBottomColor=ue(e,PJ,r.borderBottomColor),this.borderLeftColor=ue(e,NJ,r.borderLeftColor),this.borderTopLeftRadius=ue(e,QJ,r.borderTopLeftRadius),this.borderTopRightRadius=ue(e,kJ,r.borderTopRightRadius),this.borderBottomRightRadius=ue(e,OJ,r.borderBottomRightRadius),this.borderBottomLeftRadius=ue(e,DJ,r.borderBottomLeftRadius),this.borderTopStyle=ue(e,jJ,r.borderTopStyle),this.borderRightStyle=ue(e,RJ,r.borderRightStyle),this.borderBottomStyle=ue(e,MJ,r.borderBottomStyle),this.borderLeftStyle=ue(e,LJ,r.borderLeftStyle),this.borderTopWidth=ue(e,HJ,r.borderTopWidth),this.borderRightWidth=ue(e,VJ,r.borderRightWidth),this.borderBottomWidth=ue(e,KJ,r.borderBottomWidth),this.borderLeftWidth=ue(e,$J,r.borderLeftWidth),this.boxShadow=ue(e,jZ,r.boxShadow),this.color=ue(e,GJ,r.color),this.direction=ue(e,WJ,r.direction),this.display=ue(e,zJ,r.display),this.float=ue(e,XJ,r.cssFloat),this.fontFamily=ue(e,SZ,r.fontFamily),this.fontSize=ue(e,TZ,r.fontSize),this.fontStyle=ue(e,PZ,r.fontStyle),this.fontVariant=ue(e,UZ,r.fontVariant),this.fontWeight=ue(e,FZ,r.fontWeight),this.letterSpacing=ue(e,qJ,r.letterSpacing),this.lineBreak=ue(e,JJ,r.lineBreak),this.lineHeight=ue(e,ZJ,r.lineHeight),this.listStyleImage=ue(e,eZ,r.listStyleImage),this.listStylePosition=ue(e,tZ,r.listStylePosition),this.listStyleType=ue(e,gb,r.listStyleType),this.marginTop=ue(e,rZ,r.marginTop),this.marginRight=ue(e,nZ,r.marginRight),this.marginBottom=ue(e,iZ,r.marginBottom),this.marginLeft=ue(e,sZ,r.marginLeft),this.opacity=ue(e,EZ,r.opacity);var s=ue(e,aZ,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=ue(e,oZ,r.overflowWrap),this.paddingTop=ue(e,AZ,r.paddingTop),this.paddingRight=ue(e,lZ,r.paddingRight),this.paddingBottom=ue(e,uZ,r.paddingBottom),this.paddingLeft=ue(e,cZ,r.paddingLeft),this.paintOrder=ue(e,RZ,r.paintOrder),this.position=ue(e,fZ,r.position),this.textAlign=ue(e,dZ,r.textAlign),this.textDecorationColor=ue(e,_Z,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=ue(e,IZ,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=ue(e,hZ,r.textShadow),this.textTransform=ue(e,gZ,r.textTransform),this.transform=ue(e,mZ,r.transform),this.transformOrigin=ue(e,xZ,r.transformOrigin),this.visibility=ue(e,bZ,r.visibility),this.webkitTextStrokeColor=ue(e,MZ,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=ue(e,LZ,r.webkitTextStrokeWidth),this.wordBreak=ue(e,BZ,r.wordBreak),this.zIndex=ue(e,CZ,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Da(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return zt(this.display,4)||zt(this.display,33554432)||zt(this.display,268435456)||zt(this.display,536870912)||zt(this.display,67108864)||zt(this.display,134217728)},t}(),VZ=function(){function t(e,r){this.content=ue(e,NZ,r.content),this.quotes=ue(e,DZ,r.quotes)}return t}(),G2=function(){function t(e,r){this.counterIncrement=ue(e,QZ,r.counterIncrement),this.counterReset=ue(e,kZ,r.counterReset)}return t}(),ue=function(t,e,r){var n=new cj,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var s=new dj(n.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(t,Ze(a)?a.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return P0.parse(t,s.parseComponentValue());case"color":return Oa.parse(t,s.parseComponentValue());case"image":return gE.parse(t,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Xa(o)?o:xr;case"length-percentage":var A=s.parseComponentValue();return Ht(A)?A:xr;case"time":return Fj.parse(t,s.parseComponentValue())}break}},KZ="data-html2canvas-debug",$Z=function(t){var e=t.getAttribute(KZ);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},mb=function(t,e){var r=$Z(t);return r===1||e===r},Gi=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,mb(r,3))debugger;this.styles=new HZ(e,window.getComputedStyle(r,null)),yb(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=F0(this.context,r),mb(r,4)&&(this.flags|=16)}return t}(),GZ="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",W2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Xh=0;Xh<W2.length;Xh++)Dc[W2.charCodeAt(Xh)]=Xh;var WZ=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=Dc[t.charCodeAt(n)],a=Dc[t.charCodeAt(n+1)],o=Dc[t.charCodeAt(n+2)],A=Dc[t.charCodeAt(n+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|A&63;return l},zZ=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},YZ=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Zo=5,mE=11,Hy=2,XZ=mE-Zo,Uj=65536>>Zo,qZ=1<<Zo,Vy=qZ-1,JZ=1024>>Zo,ZZ=Uj+JZ,eee=ZZ,tee=32,ree=eee+tee,nee=65536>>mE,iee=1<<XZ,see=iee-1,z2=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},aee=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},oee=function(t,e){var r=WZ(t),n=Array.isArray(r)?YZ(r):new Uint32Array(r),i=Array.isArray(r)?zZ(r):new Uint16Array(r),s=24,a=z2(i,s/2,n[4]/2),o=n[5]===2?z2(i,(s+n[4])/2):aee(n,Math.ceil((s+n[4])/4));return new Aee(n[0],n[1],n[2],n[3],a,o)},Aee=function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Zo],r=(r<<Hy)+(e&Vy),this.data[r];if(e<=65535)return r=this.index[Uj+(e-55296>>Zo)],r=(r<<Hy)+(e&Vy),this.data[r];if(e<this.highStart)return r=ree-nee+(e>>mE),r=this.index[r],r+=e>>Zo&see,r=this.index[r],r=(r<<Hy)+(e&Vy),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Y2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lee=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var qh=0;qh<Y2.length;qh++)lee[Y2.charCodeAt(qh)]=qh;var uee=1,Ky=2,$y=3,X2=4,q2=5,cee=7,J2=8,Gy=9,Wy=10,Z2=11,eF=12,tF=13,rF=14,zy=15,dee=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},fee=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},hee=oee(GZ),Rn="×",Yy="÷",gee=function(t){return hee.get(t)},mee=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],a=e[r];if(s===Ky&&a===$y)return Rn;if(s===Ky||s===$y||s===X2||a===Ky||a===$y||a===X2)return Yy;if(s===J2&&[J2,Gy,Z2,eF].indexOf(a)!==-1||(s===Z2||s===Gy)&&(a===Gy||a===Wy)||(s===eF||s===Wy)&&a===Wy||a===tF||a===q2||a===cee||s===uee)return Rn;if(s===tF&&a===rF){for(;i===q2;)i=e[--n];if(i===rF)return Rn}if(s===zy&&a===zy){for(var o=0;i===zy;)o++,i=e[--n];if(o%2===0)return Rn}return Yy},pee=function(t){var e=dee(t),r=e.length,n=0,i=0,s=e.map(gee);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=Rn;n<r&&(a=mee(e,s,++n))===Rn;);if(a!==Rn||n===r){var o=fee.apply(null,e.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},vee=function(t){for(var e=pee(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},yee=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(n),s===e)return!0}}return!1},wee=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=U0(n.data).map(function(A){return Dt(A)}),s=0,a={},o=i.every(function(A,l){r.setStart(n,s),r.setEnd(n,s+A.length);var u=r.getBoundingClientRect();s+=A.length;var c=u.x>a.x||u.y>a.y;return a=u,l===0?!0:c});return t.body.removeChild(e),o},xee=function(){return typeof new Image().crossOrigin<"u"},bee=function(){return typeof new XMLHttpRequest().responseType=="string"},Bee=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},nF=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Cee=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var a=pb(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),iF(a).then(function(o){n.drawImage(o,0,0);var A=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var l=t.createElement("div");return l.style.backgroundImage="url("+s+")",l.style.height=r+"px",nF(A)?iF(pb(r,r,0,0,l)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),nF(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},pb=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},iF=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},mr={get SUPPORT_RANGE_BOUNDS(){var t=yee(document);return Object.defineProperty(mr,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=mr.SUPPORT_RANGE_BOUNDS&&wee(document);return Object.defineProperty(mr,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Bee(document);return Object.defineProperty(mr,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Cee(document):Promise.resolve(!1);return Object.defineProperty(mr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=xee();return Object.defineProperty(mr,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=bee();return Object.defineProperty(mr,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(mr,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(mr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Ad=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),Eee=function(t,e,r,n){var i=See(e,r),s=[],a=0;return i.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(mr.SUPPORT_RANGE_BOUNDS){var A=sF(n,a,o.length).getClientRects();if(A.length>1){var l=pE(o),u=0;l.forEach(function(f){s.push(new Ad(f,Ns.fromDOMRectList(t,sF(n,u+a,f.length).getClientRects()))),u+=f.length})}else s.push(new Ad(o,Ns.fromDOMRectList(t,A)))}else{var c=n.splitText(o.length);s.push(new Ad(o,_ee(t,n))),n=c}else mr.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),s},_ee=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=F0(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return Ns.EMPTY},sF=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},pE=function(t){if(mr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return vee(t)},Iee=function(t,e){if(mr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return Fee(t,e)},See=function(t,e){return e.letterSpacing!==0?pE(t):Iee(t,e)},Tee=[32,160,4961,65792,65793,4153,4241],Fee=function(t,e){for(var r=nq(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var a=i.value.slice(),o=U0(a),A="";o.forEach(function(l){Tee.indexOf(l)===-1?A+=Dt(l):(A.length&&n.push(A),n.push(Dt(l)),A="")}),A.length&&n.push(A)}};!(i=r.next()).done;)s();return n},Uee=function(){function t(e,r,n){this.text=Pee(r.data,n.textTransform),this.textBounds=Eee(e,this.text,n,r)}return t}(),Pee=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Nee,Qee);case 2:return t.toUpperCase();default:return t}},Nee=/(^|\s|:|-|\(|\))([a-z])/g,Qee=function(t,e,r){return t.length>0?e+r.toUpperCase():t},Pj=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Gi),Nj=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(Gi),Qj=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=new XMLSerializer,a=F0(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Gi),kj=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Gi),vb=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(Gi),kee=[{type:15,flags:0,unit:"px",number:3}],Oee=[{type:16,flags:0,number:50}],Dee=function(t){return t.width>t.height?new Ns(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Ns(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},jee=function(t){var e=t.type===Ree?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},Gm="checkbox",Wm="radio",Ree="password",aF=707406591,vE=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=jee(n),(i.type===Gm||i.type===Wm)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Dee(i.bounds)),i.type){case Gm:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=kee;break;case Wm:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Oee;break}return i}return e}(Gi),Oj=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(Gi),Dj=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Gi),jj=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=Mj(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?ad(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):xs.TRANSPARENT,a=n.contentWindow.document.body?ad(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):xs.TRANSPARENT;i.backgroundColor=Da(s)?Da(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e}(Gi),Mee=["OL","UL","MENU"],Kg=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,Lj(i)&&i.data.trim().length>0)r.textNodes.push(new Uee(t,i,r.styles));else if(bl(i))if($j(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return Kg(t,o,r,n)});else{var a=Rj(t,i);a.styles.isVisible()&&(Lee(i,a,n)?a.flags|=4:Hee(a.styles)&&(a.flags|=2),Mee.indexOf(i.tagName)!==-1&&(a.flags|=8),r.elements.push(a),i.slot,i.shadowRoot?Kg(t,i.shadowRoot,a,n):!zm(i)&&!Hj(i)&&!Ym(i)&&Kg(t,i,a,n))}},Rj=function(t,e){return wb(e)?new Pj(t,e):Vj(e)?new Nj(t,e):Hj(e)?new Qj(t,e):Vee(e)?new kj(t,e):Kee(e)?new vb(t,e):$ee(e)?new vE(t,e):Ym(e)?new Oj(t,e):zm(e)?new Dj(t,e):Kj(e)?new jj(t,e):new Gi(t,e)},Mj=function(t,e){var r=Rj(t,e);return r.flags|=4,Kg(t,e,r,r),r},Lee=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||yE(t)&&r.styles.isTransparent()},Hee=function(t){return t.isPositioned()||t.isFloating()},Lj=function(t){return t.nodeType===Node.TEXT_NODE},bl=function(t){return t.nodeType===Node.ELEMENT_NODE},yb=function(t){return bl(t)&&typeof t.style<"u"&&!$g(t)},$g=function(t){return typeof t.className=="object"},Vee=function(t){return t.tagName==="LI"},Kee=function(t){return t.tagName==="OL"},$ee=function(t){return t.tagName==="INPUT"},Gee=function(t){return t.tagName==="HTML"},Hj=function(t){return t.tagName==="svg"},yE=function(t){return t.tagName==="BODY"},Vj=function(t){return t.tagName==="CANVAS"},oF=function(t){return t.tagName==="VIDEO"},wb=function(t){return t.tagName==="IMG"},Kj=function(t){return t.tagName==="IFRAME"},AF=function(t){return t.tagName==="STYLE"},Wee=function(t){return t.tagName==="SCRIPT"},zm=function(t){return t.tagName==="TEXTAREA"},Ym=function(t){return t.tagName==="SELECT"},$j=function(t){return t.tagName==="SLOT"},lF=function(t){return t.tagName.indexOf("-")>0},zee=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(o){var A=r.counters[o.counter];A&&o.increment!==0&&(s=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var A=r.counters[o.counter];a.push(o.counter),A||(A=r.counters[o.counter]=[]),A.push(o.reset)}),a},t}(),uF={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},cF={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Yee={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Xee={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},XA=function(t,e,r,n,i,s){return t<e||t>r?Gd(t,i,s.length>0):n.integers.reduce(function(a,o,A){for(;t>=o;)t-=o,a+=n.values[A];return a},"")+s},Gj=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},Ot=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(Gj(Math.abs(t),s,n,function(a){return Dt(Math.floor(a%s)+e)})+i)},Co=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return Gj(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},sl=1,sa=2,aa=4,jc=8,qi=function(t,e,r,n,i,s){if(t<-9999||t>9999)return Gd(t,4,i.length>0);var a=Math.abs(t),o=i;if(a===0)return e[0]+o;for(var A=0;a>0&&A<=4;A++){var l=a%10;l===0&&zt(s,sl)&&o!==""?o=e[l]+o:l>1||l===1&&A===0||l===1&&A===1&&zt(s,sa)||l===1&&A===1&&zt(s,aa)&&t>100||l===1&&A>1&&zt(s,jc)?o=e[l]+(A>0?r[A-1]:"")+o:l===1&&A>0&&(o=r[A-1]+o),a=Math.floor(a/10)}return(t<0?n:"")+o},dF="十百千萬",fF="拾佰仟萬",hF="マイナス",Xy="마이너스",Gd=function(t,e,r){var n=r?". ":"",i=r?"、":"",s=r?", ":"",a=r?" ":"";switch(e){case 0:return"•"+a;case 1:return"◦"+a;case 2:return"◾"+a;case 5:var o=Ot(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return Co(t,"〇一二三四五六七八九",i);case 6:return XA(t,1,3999,uF,3,n).toLowerCase();case 7:return XA(t,1,3999,uF,3,n);case 8:return Ot(t,945,969,!1,n);case 9:return Ot(t,97,122,!1,n);case 10:return Ot(t,65,90,!1,n);case 11:return Ot(t,1632,1641,!0,n);case 12:case 49:return XA(t,1,9999,cF,3,n);case 35:return XA(t,1,9999,cF,3,n).toLowerCase();case 13:return Ot(t,2534,2543,!0,n);case 14:case 30:return Ot(t,6112,6121,!0,n);case 15:return Co(t,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return Co(t,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return qi(t,"零一二三四五六七八九",dF,"負",i,sa|aa|jc);case 47:return qi(t,"零壹貳參肆伍陸柒捌玖",fF,"負",i,sl|sa|aa|jc);case 42:return qi(t,"零一二三四五六七八九",dF,"负",i,sa|aa|jc);case 41:return qi(t,"零壹贰叁肆伍陆柒捌玖",fF,"负",i,sl|sa|aa|jc);case 26:return qi(t,"〇一二三四五六七八九","十百千万",hF,i,0);case 25:return qi(t,"零壱弐参四伍六七八九","拾百千万",hF,i,sl|sa|aa);case 31:return qi(t,"영일이삼사오육칠팔구","십백천만",Xy,s,sl|sa|aa);case 33:return qi(t,"零一二三四五六七八九","十百千萬",Xy,s,0);case 32:return qi(t,"零壹貳參四五六七八九","拾百千",Xy,s,sl|sa|aa);case 18:return Ot(t,2406,2415,!0,n);case 20:return XA(t,1,19999,Xee,3,n);case 21:return Ot(t,2790,2799,!0,n);case 22:return Ot(t,2662,2671,!0,n);case 22:return XA(t,1,10999,Yee,3,n);case 23:return Co(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Co(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Ot(t,3302,3311,!0,n);case 28:return Co(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return Co(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return Ot(t,3792,3801,!0,n);case 37:return Ot(t,6160,6169,!0,n);case 38:return Ot(t,4160,4169,!0,n);case 39:return Ot(t,2918,2927,!0,n);case 40:return Ot(t,1776,1785,!0,n);case 43:return Ot(t,3046,3055,!0,n);case 44:return Ot(t,3174,3183,!0,n);case 45:return Ot(t,3664,3673,!0,n);case 46:return Ot(t,3872,3881,!0,n);case 3:default:return Ot(t,48,57,!0,n)}},Wj="data-html2canvas-ignore",gF=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new zee,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=qee(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,A=o.document,l=ete(i).then(function(){return Mr(n,void 0,void 0,function(){var u,c;return Ur(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(ite),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),u=this.options.onclone,c=this.clonedReferenceElement,typeof c>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Zee(A)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(A,c)}).then(function(){return i})]:[2,i]}})})});return A.open(),A.write(rte(document.doctype)+"<html></html>"),nte(this.referenceElement.ownerDocument,s,a),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),l},t.prototype.createElementClone=function(e){if(mb(e,2))debugger;if(Vj(e))return this.createCanvasClone(e);if(oF(e))return this.createVideoClone(e);if(AF(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return wb(r)&&(wb(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),lF(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return qy(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var A=o.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!bl(r)||!Wee(r)&&!r.hasAttribute(Wj)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!bl(r)||!AF(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(bl(s)&&$j(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(r,o,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(Lj(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&bl(e)&&(yb(e)||$g(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&yb(i)&&(this.clonedReferenceElement=i),yE(i)&&ote(i);var A=this.counters.parse(new G2(this.context,s)),l=this.resolvePseudoContent(e,i,a,ld.BEFORE);lF(e)&&(r=!0),oF(e)||this.cloneChildNodes(e,i,r),l&&i.insertBefore(l,i.firstChild);var u=this.resolvePseudoContent(e,i,o,ld.AFTER);return u&&i.appendChild(u),this.counters.pop(A),(s&&(this.options.copyStyles||$g(e))&&!Kj(e)||r)&&qy(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(zm(e)||Ym(e))&&(zm(i)||Ym(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var s=this;if(n){var a=n.content,o=r.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new G2(this.context,n));var A=new VZ(this.context,n),l=o.createElement("html2canvaspseudoelement");qy(n,l),A.content.forEach(function(c){if(c.type===0)l.appendChild(o.createTextNode(c.value));else if(c.type===22){var f=o.createElement("img");f.src=c.value,f.style.opacity="1",l.appendChild(f)}else if(c.type===18){if(c.name==="attr"){var g=c.values.filter(Ze);g.length&&l.appendChild(o.createTextNode(e.getAttribute(g[0].value)||""))}else if(c.name==="counter"){var m=c.values.filter(su),p=m[0],v=m[1];if(p&&Ze(p)){var y=s.counters.getCounterValue(p.value),w=v&&Ze(v)?gb.parse(s.context,v.value):3;l.appendChild(o.createTextNode(Gd(y,w,!1)))}}else if(c.name==="counters"){var B=c.values.filter(su),p=B[0],I=B[1],v=B[2];if(p&&Ze(p)){var T=s.counters.getCounterValues(p.value),F=v&&Ze(v)?gb.parse(s.context,v.value):3,C=I&&I.type===0?I.value:"",_=T.map(function(Q){return Gd(Q,F,!1)}).join(C);l.appendChild(o.createTextNode(_))}}}else if(c.type===20)switch(c.value){case"open-quote":l.appendChild(o.createTextNode($2(A.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode($2(A.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(c.value))}}),l.className=xb+" "+bb;var u=i===ld.BEFORE?" "+xb:" "+bb;return $g(r)?r.className.baseValue+=u:r.className+=u,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),ld;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(ld||(ld={}));var qee=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(Wj,"true"),t.body.appendChild(r),r},Jee=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Zee=function(t){return Promise.all([].slice.call(t.images,0).map(Jee))},ete=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},tte=["all","d","content"],qy=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);tte.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},rte=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},nte=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},ite=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},ste=":before",ate=":after",xb="___html2canvas___pseudoelement_before",bb="___html2canvas___pseudoelement_after",mF=`{
    content: "" !important;
    display: none !important;
}`,ote=function(t){Ate(t,"."+xb+ste+mF+`
         .`+bb+ate+mF)},Ate=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},zj=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),lte=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(Zy(e)||fte(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Mr(this,void 0,void 0,function(){var r,n,i,s,a=this;return Ur(this,function(o){switch(o.label){case 0:return r=zj.isSameOrigin(e),n=!Jy(e)&&this._options.useCORS===!0&&mr.SUPPORT_CORS_IMAGES&&!r,i=!Jy(e)&&!r&&!Zy(e)&&typeof this._options.proxy=="string"&&mr.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!Jy(e)&&!Zy(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(A,l){var u=new Image;u.onload=function(){return A(u)},u.onerror=l,(hte(s)||n)&&(u.crossOrigin="anonymous"),u.src=s,u.complete===!0&&setTimeout(function(){return A(u)},500),a._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=mr.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(o==="text")s(A.response);else{var c=new FileReader;c.addEventListener("load",function(){return s(c.result)},!1),c.addEventListener("error",function(f){return a(f)},!1),c.readAsDataURL(A.response)}else a("Failed to proxy resource "+i+" with status code "+A.status)},A.onerror=a;var l=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=o),r._options.imageTimeout){var u=r._options.imageTimeout;A.timeout=u,A.ontimeout=function(){return a("Timed out ("+u+"ms) proxying "+i)}}A.send()})},t}(),ute=/^data:image\/svg\+xml/i,cte=/^data:image\/.*;base64,/i,dte=/^data:image\/.*/i,fte=function(t){return mr.SUPPORT_SVG_DRAWING||!gte(t)},Jy=function(t){return dte.test(t)},hte=function(t){return cte.test(t)},Zy=function(t){return t.substr(0,4)==="blob"},gte=function(t){return t.substr(-3).toLowerCase()==="svg"||ute.test(t)},le=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),qA=function(t,e,r){return new le(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Jh=function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=qA(this.start,this.startControl,e),i=qA(this.startControl,this.endControl,e),s=qA(this.endControl,this.end,e),a=qA(n,i,e),o=qA(i,s,e),A=qA(a,o,e);return r?new t(this.start,n,a,A):new t(A,o,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Hn=function(t){return t.type===1},mte=function(){function t(e){var r=e.styles,n=e.bounds,i=Oc(r.borderTopLeftRadius,n.width,n.height),s=i[0],a=i[1],o=Oc(r.borderTopRightRadius,n.width,n.height),A=o[0],l=o[1],u=Oc(r.borderBottomRightRadius,n.width,n.height),c=u[0],f=u[1],g=Oc(r.borderBottomLeftRadius,n.width,n.height),m=g[0],p=g[1],v=[];v.push((s+A)/n.width),v.push((m+c)/n.width),v.push((a+p)/n.height),v.push((l+f)/n.height);var y=Math.max.apply(Math,v);y>1&&(s/=y,a/=y,A/=y,l/=y,c/=y,f/=y,m/=y,p/=y);var w=n.width-A,B=n.height-f,I=n.width-c,T=n.height-p,F=r.borderTopWidth,C=r.borderRightWidth,_=r.borderBottomWidth,S=r.borderLeftWidth,P=ot(r.paddingTop,e.bounds.width),Q=ot(r.paddingRight,e.bounds.width),k=ot(r.paddingBottom,e.bounds.width),N=ot(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?gt(n.left+S/3,n.top+F/3,s-S/3,a-F/3,ze.TOP_LEFT):new le(n.left+S/3,n.top+F/3),this.topRightBorderDoubleOuterBox=s>0||a>0?gt(n.left+w,n.top+F/3,A-C/3,l-F/3,ze.TOP_RIGHT):new le(n.left+n.width-C/3,n.top+F/3),this.bottomRightBorderDoubleOuterBox=c>0||f>0?gt(n.left+I,n.top+B,c-C/3,f-_/3,ze.BOTTOM_RIGHT):new le(n.left+n.width-C/3,n.top+n.height-_/3),this.bottomLeftBorderDoubleOuterBox=m>0||p>0?gt(n.left+S/3,n.top+T,m-S/3,p-_/3,ze.BOTTOM_LEFT):new le(n.left+S/3,n.top+n.height-_/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?gt(n.left+S*2/3,n.top+F*2/3,s-S*2/3,a-F*2/3,ze.TOP_LEFT):new le(n.left+S*2/3,n.top+F*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?gt(n.left+w,n.top+F*2/3,A-C*2/3,l-F*2/3,ze.TOP_RIGHT):new le(n.left+n.width-C*2/3,n.top+F*2/3),this.bottomRightBorderDoubleInnerBox=c>0||f>0?gt(n.left+I,n.top+B,c-C*2/3,f-_*2/3,ze.BOTTOM_RIGHT):new le(n.left+n.width-C*2/3,n.top+n.height-_*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||p>0?gt(n.left+S*2/3,n.top+T,m-S*2/3,p-_*2/3,ze.BOTTOM_LEFT):new le(n.left+S*2/3,n.top+n.height-_*2/3),this.topLeftBorderStroke=s>0||a>0?gt(n.left+S/2,n.top+F/2,s-S/2,a-F/2,ze.TOP_LEFT):new le(n.left+S/2,n.top+F/2),this.topRightBorderStroke=s>0||a>0?gt(n.left+w,n.top+F/2,A-C/2,l-F/2,ze.TOP_RIGHT):new le(n.left+n.width-C/2,n.top+F/2),this.bottomRightBorderStroke=c>0||f>0?gt(n.left+I,n.top+B,c-C/2,f-_/2,ze.BOTTOM_RIGHT):new le(n.left+n.width-C/2,n.top+n.height-_/2),this.bottomLeftBorderStroke=m>0||p>0?gt(n.left+S/2,n.top+T,m-S/2,p-_/2,ze.BOTTOM_LEFT):new le(n.left+S/2,n.top+n.height-_/2),this.topLeftBorderBox=s>0||a>0?gt(n.left,n.top,s,a,ze.TOP_LEFT):new le(n.left,n.top),this.topRightBorderBox=A>0||l>0?gt(n.left+w,n.top,A,l,ze.TOP_RIGHT):new le(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||f>0?gt(n.left+I,n.top+B,c,f,ze.BOTTOM_RIGHT):new le(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=m>0||p>0?gt(n.left,n.top+T,m,p,ze.BOTTOM_LEFT):new le(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?gt(n.left+S,n.top+F,Math.max(0,s-S),Math.max(0,a-F),ze.TOP_LEFT):new le(n.left+S,n.top+F),this.topRightPaddingBox=A>0||l>0?gt(n.left+Math.min(w,n.width-C),n.top+F,w>n.width+C?0:Math.max(0,A-C),Math.max(0,l-F),ze.TOP_RIGHT):new le(n.left+n.width-C,n.top+F),this.bottomRightPaddingBox=c>0||f>0?gt(n.left+Math.min(I,n.width-S),n.top+Math.min(B,n.height-_),Math.max(0,c-C),Math.max(0,f-_),ze.BOTTOM_RIGHT):new le(n.left+n.width-C,n.top+n.height-_),this.bottomLeftPaddingBox=m>0||p>0?gt(n.left+S,n.top+Math.min(T,n.height-_),Math.max(0,m-S),Math.max(0,p-_),ze.BOTTOM_LEFT):new le(n.left+S,n.top+n.height-_),this.topLeftContentBox=s>0||a>0?gt(n.left+S+N,n.top+F+P,Math.max(0,s-(S+N)),Math.max(0,a-(F+P)),ze.TOP_LEFT):new le(n.left+S+N,n.top+F+P),this.topRightContentBox=A>0||l>0?gt(n.left+Math.min(w,n.width+S+N),n.top+F+P,w>n.width+S+N?0:A-S+N,l-(F+P),ze.TOP_RIGHT):new le(n.left+n.width-(C+Q),n.top+F+P),this.bottomRightContentBox=c>0||f>0?gt(n.left+Math.min(I,n.width-(S+N)),n.top+Math.min(B,n.height+F+P),Math.max(0,c-(C+Q)),f-(_+k),ze.BOTTOM_RIGHT):new le(n.left+n.width-(C+Q),n.top+n.height-(_+k)),this.bottomLeftContentBox=m>0||p>0?gt(n.left+S+N,n.top+T,Math.max(0,m-(S+N)),p-(_+k),ze.BOTTOM_LEFT):new le(n.left+S+N,n.top+n.height-(_+k))}return t}(),ze;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ze||(ze={}));var gt=function(t,e,r,n,i){var s=4*((Math.sqrt(2)-1)/3),a=r*s,o=n*s,A=t+r,l=e+n;switch(i){case ze.TOP_LEFT:return new Jh(new le(t,l),new le(t,l-o),new le(A-a,e),new le(A,e));case ze.TOP_RIGHT:return new Jh(new le(t,e),new le(t+a,e),new le(A,l-o),new le(A,l));case ze.BOTTOM_RIGHT:return new Jh(new le(A,e),new le(A,e+o),new le(t+a,l),new le(t,l));case ze.BOTTOM_LEFT:default:return new Jh(new le(A,l),new le(A-a,l),new le(t,e+o),new le(t,e))}},Xm=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},pte=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},qm=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},vte=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),Zh=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),yte=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),wte=function(t){return t.type===0},Yj=function(t){return t.type===1},xte=function(t){return t.type===2},pF=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},bte=function(t,e,r,n,i){return t.map(function(s,a){switch(a){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+i);case 3:return s.add(e,r+i)}return s})},Xj=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),qj=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new mte(this.container),this.container.styles.opacity<1&&this.effects.push(new yte(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new vte(n,i,s))}if(this.container.styles.overflowX!==0){var a=Xm(this.curves),o=qm(this.curves);pF(a,o)?this.effects.push(new Zh(a,6)):(this.effects.push(new Zh(a,2)),this.effects.push(new Zh(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(A){return!Yj(A)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=Xm(n.curves),o=qm(n.curves);pF(a,o)||i.unshift(new Zh(o,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(A){return zt(A.target,e)})},t}(),Bb=function(t,e,r,n){t.container.elements.forEach(function(i){var s=zt(i.flags,4),a=zt(i.flags,2),o=new qj(i,t);zt(i.styles.display,2048)&&n.push(o);var A=zt(i.flags,8)?[]:n;if(s||a){var l=s||i.styles.isPositioned()?r:e,u=new Xj(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var c=i.styles.zIndex.order;if(c<0){var f=0;l.negativeZIndex.some(function(m,p){return c>m.element.container.styles.zIndex.order?(f=p,!1):f>0}),l.negativeZIndex.splice(f,0,u)}else if(c>0){var g=0;l.positiveZIndex.some(function(m,p){return c>=m.element.container.styles.zIndex.order?(g=p+1,!1):g>0}),l.positiveZIndex.splice(g,0,u)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?l.nonPositionedFloats.push(u):l.nonPositionedInlineLevel.push(u);Bb(o,u,s?u:r,A)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),Bb(o,e,r,A);zt(i.flags,8)&&Jj(i,A)})},Jj=function(t,e){for(var r=t instanceof vb?t.start:1,n=t instanceof vb?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof kj&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=Gd(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},Bte=function(t){var e=new qj(t,null),r=new Xj(e),n=[];return Bb(e,r,r,n),Jj(e.container,n),r},vF=function(t,e){switch(e){case 0:return Xn(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Xn(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Xn(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Xn(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Cte=function(t,e){switch(e){case 0:return Xn(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Xn(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Xn(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Xn(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Ete=function(t,e){switch(e){case 0:return Xn(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Xn(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Xn(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Xn(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},_te=function(t,e){switch(e){case 0:return eg(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return eg(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return eg(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return eg(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},eg=function(t,e){var r=[];return Hn(t)?r.push(t.subdivide(.5,!1)):r.push(t),Hn(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Xn=function(t,e,r,n){var i=[];return Hn(t)?i.push(t.subdivide(.5,!1)):i.push(t),Hn(r)?i.push(r.subdivide(.5,!0)):i.push(r),Hn(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Hn(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},Zj=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Jm=function(t){var e=t.styles,r=t.bounds,n=ot(e.paddingLeft,r.width),i=ot(e.paddingRight,r.width),s=ot(e.paddingTop,r.width),a=ot(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},Ite=function(t,e){return t===0?e.bounds:t===2?Jm(e):Zj(e)},Ste=function(t,e){return t===0?e.bounds:t===2?Jm(e):Zj(e)},ew=function(t,e,r){var n=Ite(al(t.styles.backgroundOrigin,e),t),i=Ste(al(t.styles.backgroundClip,e),t),s=Tte(al(t.styles.backgroundSize,e),r,n),a=s[0],o=s[1],A=Oc(al(t.styles.backgroundPosition,e),n.width-a,n.height-o),l=Fte(al(t.styles.backgroundRepeat,e),A,s,n,i),u=Math.round(n.left+A[0]),c=Math.round(n.top+A[1]);return[l,u,c,a,o]},JA=function(t){return Ze(t)&&t.value===kl.AUTO},tg=function(t){return typeof t=="number"},Tte=function(t,e,r){var n=e[0],i=e[1],s=e[2],a=t[0],o=t[1];if(!a)return[0,0];if(Ht(a)&&o&&Ht(o))return[ot(a,r.width),ot(o,r.height)];var A=tg(s);if(Ze(a)&&(a.value===kl.CONTAIN||a.value===kl.COVER)){if(tg(s)){var l=r.width/r.height;return l<s!=(a.value===kl.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var u=tg(n),c=tg(i),f=u||c;if(JA(a)&&(!o||JA(o))){if(u&&c)return[n,i];if(!A&&!f)return[r.width,r.height];if(f&&A){var g=u?n:i*s,m=c?i:n/s;return[g,m]}var p=u?n:r.width,v=c?i:r.height;return[p,v]}if(A){var y=0,w=0;return Ht(a)?y=ot(a,r.width):Ht(o)&&(w=ot(o,r.height)),JA(a)?y=w*s:(!o||JA(o))&&(w=y/s),[y,w]}var B=null,I=null;if(Ht(a)?B=ot(a,r.width):o&&Ht(o)&&(I=ot(o,r.height)),B!==null&&(!o||JA(o))&&(I=u&&c?B/n*i:r.height),I!==null&&JA(a)&&(B=u&&c?I/i*n:r.width),B!==null&&I!==null)return[B,I];throw new Error("Unable to calculate background-size for element")},al=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},Fte=function(t,e,r,n,i){var s=e[0],a=e[1],o=r[0],A=r[1];switch(t){case 2:return[new le(Math.round(n.left),Math.round(n.top+a)),new le(Math.round(n.left+n.width),Math.round(n.top+a)),new le(Math.round(n.left+n.width),Math.round(A+n.top+a)),new le(Math.round(n.left),Math.round(A+n.top+a))];case 3:return[new le(Math.round(n.left+s),Math.round(n.top)),new le(Math.round(n.left+s+o),Math.round(n.top)),new le(Math.round(n.left+s+o),Math.round(n.height+n.top)),new le(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new le(Math.round(n.left+s),Math.round(n.top+a)),new le(Math.round(n.left+s+o),Math.round(n.top+a)),new le(Math.round(n.left+s+o),Math.round(n.top+a+A)),new le(Math.round(n.left+s),Math.round(n.top+a+A))];default:return[new le(Math.round(i.left),Math.round(i.top)),new le(Math.round(i.left+i.width),Math.round(i.top)),new le(Math.round(i.left+i.width),Math.round(i.height+i.top)),new le(Math.round(i.left),Math.round(i.height+i.top))]}},Ute="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",yF="Hidden Text",Pte=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),i.src=Ute,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(yF)),n.appendChild(s),n.appendChild(i);var o=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(yF)),n.style.lineHeight="normal",i.style.verticalAlign="super";var A=i.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:A}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),eR=function(){function t(e,r){this.context=e,this.options=r}return t}(),Nte=1e4,Qte=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new Pte(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),xte(r)&&(this.ctx.globalAlpha=r.opacity),wte(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),Yj(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Mr(this,void 0,void 0,function(){var n;return Ur(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Mr(this,void 0,void 0,function(){return Ur(this,function(n){switch(n.label){case 0:if(zt(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var a=pE(r.text);a.reduce(function(o,A){return s.ctx.fillText(A,o,r.bounds.top+i),o+s.ctx.measureText(A).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=Rte(r.fontFamily).join(", "),s=Cf(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(r,n){return Mr(this,void 0,void 0,function(){var i,s,a,o,A,l,u,c,f=this;return Ur(this,function(g){return i=this.createFontStyle(n),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(a,o),l=A.baseline,u=A.middle,c=n.paintOrder,r.textBounds.forEach(function(m){c.forEach(function(p){switch(p){case 0:f.ctx.fillStyle=nr(n.color),f.renderTextWithLetterSpacing(m,n.letterSpacing,l);var v=n.textShadow;v.length&&m.text.trim().length&&(v.slice(0).reverse().forEach(function(y){f.ctx.shadowColor=nr(y.color),f.ctx.shadowOffsetX=y.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=y.offsetY.number*f.options.scale,f.ctx.shadowBlur=y.blur.number,f.renderTextWithLetterSpacing(m,n.letterSpacing,l)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=nr(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+l),m.bounds.width,1);break;case 2:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:f.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+u),m.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&m.text.trim().length&&(f.ctx.strokeStyle=nr(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+l)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=Jm(r),a=qm(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Mr(this,void 0,void 0,function(){var n,i,s,a,o,A,w,w,l,u,c,f,I,g,m,T,p,v,y,w,B,I,T;return Ur(this,function(F){switch(F.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,a=0,o=n.textNodes,F.label=1;case 1:return a<o.length?(A=o[a],[4,this.renderTextNode(A,s)]):[3,4];case 2:F.sent(),F.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof Pj))return[3,8];F.label=5;case 5:return F.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return w=F.sent(),this.renderReplacedElement(n,i,w),[3,8];case 7:return F.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Nj&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof Qj))return[3,12];F.label=9;case 9:return F.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return w=F.sent(),this.renderReplacedElement(n,i,w),[3,12];case 11:return F.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof jj&&n.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,l.render(n.tree)]):[3,14];case 13:u=F.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),F.label=14;case 14:if(n instanceof vE&&(c=Math.min(n.bounds.width,n.bounds.height),n.type===Gm?n.checked&&(this.ctx.save(),this.path([new le(n.bounds.left+c*.39363,n.bounds.top+c*.79),new le(n.bounds.left+c*.16,n.bounds.top+c*.5549),new le(n.bounds.left+c*.27347,n.bounds.top+c*.44071),new le(n.bounds.left+c*.39694,n.bounds.top+c*.5649),new le(n.bounds.left+c*.72983,n.bounds.top+c*.23),new le(n.bounds.left+c*.84,n.bounds.top+c*.34085),new le(n.bounds.left+c*.39363,n.bounds.top+c*.79)]),this.ctx.fillStyle=nr(aF),this.ctx.fill(),this.ctx.restore()):n.type===Wm&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+c/2,n.bounds.top+c/2,c/4,0,Math.PI*2,!0),this.ctx.fillStyle=nr(aF),this.ctx.fill(),this.ctx.restore())),kte(n)&&n.value.length){switch(f=this.createFontStyle(s),I=f[0],g=f[1],m=this.fontMetrics.getMetrics(I,g).baseline,this.ctx.font=I,this.ctx.fillStyle=nr(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Dte(n.styles.textAlign),T=Jm(n),p=0,n.styles.textAlign){case 1:p+=T.width/2;break;case 2:p+=T.width;break}v=T.add(p,0,0,-T.height/2+1),this.ctx.save(),this.path([new le(T.left,T.top),new le(T.left+T.width,T.top),new le(T.left+T.width,T.top+T.height),new le(T.left,T.top+T.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ad(n.value,v),s.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!zt(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];w=void 0,B=y.url,F.label=15;case 15:return F.trys.push([15,17,,18]),[4,this.context.cache.match(B)];case 16:return w=F.sent(),this.ctx.drawImage(w,n.bounds.left-(w.width+10),n.bounds.top),[3,18];case 17:return F.sent(),this.context.logger.error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(I=this.createFontStyle(s)[0],this.ctx.font=I,this.ctx.fillStyle=nr(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",T=new Ns(n.bounds.left,n.bounds.top+ot(n.styles.paddingTop,n.bounds.width),n.bounds.width,V2(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ad(r.listValue,T),s.letterSpacing,V2(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),F.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Mr(this,void 0,void 0,function(){var n,i,y,s,a,y,o,A,y,l,u,y,c,f,y,g,m,y,p,v,y;return Ur(this,function(w){switch(w.label){case 0:if(zt(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:w.sent(),n=0,i=r.negativeZIndex,w.label=2;case 2:return n<i.length?(y=i[n],[4,this.renderStack(y)]):[3,5];case 3:w.sent(),w.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:w.sent(),s=0,a=r.nonInlineLevel,w.label=7;case 7:return s<a.length?(y=a[s],[4,this.renderNode(y)]):[3,10];case 8:w.sent(),w.label=9;case 9:return s++,[3,7];case 10:o=0,A=r.nonPositionedFloats,w.label=11;case 11:return o<A.length?(y=A[o],[4,this.renderStack(y)]):[3,14];case 12:w.sent(),w.label=13;case 13:return o++,[3,11];case 14:l=0,u=r.nonPositionedInlineLevel,w.label=15;case 15:return l<u.length?(y=u[l],[4,this.renderStack(y)]):[3,18];case 16:w.sent(),w.label=17;case 17:return l++,[3,15];case 18:c=0,f=r.inlineLevel,w.label=19;case 19:return c<f.length?(y=f[c],[4,this.renderNode(y)]):[3,22];case 20:w.sent(),w.label=21;case 21:return c++,[3,19];case 22:g=0,m=r.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return g<m.length?(y=m[g],[4,this.renderStack(y)]):[3,26];case 24:w.sent(),w.label=25;case 25:return g++,[3,23];case 26:p=0,v=r.positiveZIndex,w.label=27;case 27:return p<v.length?(y=v[p],[4,this.renderStack(y)]):[3,30];case 28:w.sent(),w.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var a=Hn(i)?i.start:i;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),Hn(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var A=o.getContext("2d");return A.drawImage(r,0,0,r.width,r.height,0,0,n,i),o},e.prototype.renderBackgroundImage=function(r){return Mr(this,void 0,void 0,function(){var n,i,s,a,o,A;return Ur(this,function(l){switch(l.label){case 0:n=r.styles.backgroundImage.length-1,i=function(u){var c,f,g,P,he,ye,N,se,_,m,P,he,ye,N,se,p,v,y,w,B,I,T,F,C,_,S,P,Q,k,N,se,be,he,ye,Y,ne,ce,Ue,re,Pe,O,D;return Ur(this,function(j){switch(j.label){case 0:if(u.type!==0)return[3,5];c=void 0,f=u.url,j.label=1;case 1:return j.trys.push([1,3,,4]),[4,s.context.cache.match(f)];case 2:return c=j.sent(),[3,4];case 3:return j.sent(),s.context.logger.error("Error loading background-image "+f),[3,4];case 4:return c&&(g=ew(r,n,[c.width,c.height,c.width/c.height]),P=g[0],he=g[1],ye=g[2],N=g[3],se=g[4],_=s.ctx.createPattern(s.resizeImage(c,N,se),"repeat"),s.renderRepeat(P,_,he,ye)),[3,6];case 5:wJ(u)?(m=ew(r,n,[null,null,null]),P=m[0],he=m[1],ye=m[2],N=m[3],se=m[4],p=gJ(u.angle,N,se),v=p[0],y=p[1],w=p[2],B=p[3],I=p[4],T=document.createElement("canvas"),T.width=N,T.height=se,F=T.getContext("2d"),C=F.createLinearGradient(y,B,w,I),L2(u.stops,v).forEach(function(q){return C.addColorStop(q.stop,nr(q.color))}),F.fillStyle=C,F.fillRect(0,0,N,se),N>0&&se>0&&(_=s.ctx.createPattern(T,"repeat"),s.renderRepeat(P,_,he,ye))):xJ(u)&&(S=ew(r,n,[null,null,null]),P=S[0],Q=S[1],k=S[2],N=S[3],se=S[4],be=u.position.length===0?[hE]:u.position,he=ot(be[0],N),ye=ot(be[be.length-1],se),Y=mJ(u,he,ye,N,se),ne=Y[0],ce=Y[1],ne>0&&ce>0&&(Ue=s.ctx.createRadialGradient(Q+he,k+ye,0,Q+he,k+ye,ne),L2(u.stops,ne*2).forEach(function(q){return Ue.addColorStop(q.stop,nr(q.color))}),s.path(P),s.ctx.fillStyle=Ue,ne!==ce?(re=r.bounds.left+.5*r.bounds.width,Pe=r.bounds.top+.5*r.bounds.height,O=ce/ne,D=1/O,s.ctx.save(),s.ctx.translate(re,Pe),s.ctx.transform(1,0,0,O,0,0),s.ctx.translate(-re,-Pe),s.ctx.fillRect(Q,D*(k-Pe)+Pe,N,se*D),s.ctx.restore()):s.ctx.fill())),j.label=6;case 6:return n--,[2]}})},s=this,a=0,o=r.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return a<o.length?(A=o[a],[5,i(A)]):[3,4];case 2:l.sent(),l.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return Mr(this,void 0,void 0,function(){return Ur(this,function(s){return this.path(vF(i,n)),this.ctx.fillStyle=nr(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,s){return Mr(this,void 0,void 0,function(){var a,o;return Ur(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return A.sent(),[2];case 2:return a=Cte(s,i),this.path(a),this.ctx.fillStyle=nr(r),this.ctx.fill(),o=Ete(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Mr(this,void 0,void 0,function(){var n,i,s,a,o,A,l,u,c=this;return Ur(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!Da(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=Ote(al(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Da(n.backgroundColor)||(this.ctx.fillStyle=nr(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){c.ctx.save();var m=Xm(r.curves),p=g.inset?0:Nte,v=bte(m,-p+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(c.path(m),c.ctx.clip(),c.mask(v)):(c.mask(m),c.ctx.clip(),c.path(v)),c.ctx.shadowOffsetX=g.offsetX.number+p,c.ctx.shadowOffsetY=g.offsetY.number,c.ctx.shadowColor=nr(g.color),c.ctx.shadowBlur=g.blur.number,c.ctx.fillStyle=g.inset?nr(g.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),f.label=2;case 2:o=0,A=0,l=s,f.label=3;case 3:return A<l.length?(u=l[A],u.style!==0&&!Da(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,r.curves)];case 10:f.sent(),f.label=11;case 11:o++,f.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,s,a){return Mr(this,void 0,void 0,function(){var o,A,l,u,c,f,g,m,p,v,y,w,B,I,T,F,T,F;return Ur(this,function(C){return this.ctx.save(),o=_te(s,i),A=vF(s,i),a===2&&(this.path(A),this.ctx.clip()),Hn(A[0])?(l=A[0].start.x,u=A[0].start.y):(l=A[0].x,u=A[0].y),Hn(A[1])?(c=A[1].end.x,f=A[1].end.y):(c=A[1].x,f=A[1].y),i===0||i===2?g=Math.abs(l-c):g=Math.abs(u-f),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(A.slice(0,2)),m=n<3?n*3:n*2,p=n<3?n*2:n,a===3&&(m=n,p=n),v=!0,g<=m*2?v=!1:g<=m*2+p?(y=g/(2*m+p),m*=y,p*=y):(w=Math.floor((g+p)/(m+p)),B=(g-w*m)/(w-1),I=(g-(w+1)*m)/w,p=I<=0||Math.abs(p-B)<Math.abs(p-I)?B:I),v&&(a===3?this.ctx.setLineDash([0,m+p]):this.ctx.setLineDash([m,p])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=nr(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Hn(A[0])&&(T=A[3],F=A[0],this.ctx.beginPath(),this.formatPath([new le(T.end.x,T.end.y),new le(F.start.x,F.start.y)]),this.ctx.stroke()),Hn(A[1])&&(T=A[1],F=A[2],this.ctx.beginPath(),this.formatPath([new le(T.end.x,T.end.y),new le(F.start.x,F.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Mr(this,void 0,void 0,function(){var n;return Ur(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=nr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Bte(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(eR),kte=function(t){return t instanceof Dj||t instanceof Oj?!0:t instanceof vE&&t.type!==Wm&&t.type!==Gm},Ote=function(t,e){switch(t){case 0:return Xm(e);case 2:return pte(e);case 1:default:return qm(e)}},Dte=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},jte=["-apple-system","system-ui"],Rte=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return jte.indexOf(e)===-1}):t},Mte=function(t){Bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return Mr(this,void 0,void 0,function(){var n,i;return Ur(this,function(s){switch(s.label){case 0:return n=pb(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Lte(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=nr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(eR),Lte=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Hte=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Nh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Nh([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Nh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Nh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),Vte=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new Hte({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new lte(this,e)}return t.instanceCount=1,t}(),tR=function(t,e){return e===void 0&&(e={}),Kte(t,e)};typeof window<"u"&&zj.setContext(window);var Kte=function(t,e){return Mr(void 0,void 0,void 0,function(){var r,n,i,s,a,o,A,l,u,c,f,g,m,p,v,y,w,B,I,T,C,F,C,_,S,P,Q,k,N,se,be,he,ye,Y,ne,ce,Ue,re,Pe,O;return Ur(this,function(D){switch(D.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(_=e.allowTaint)!==null&&_!==void 0?_:!1,imageTimeout:(S=e.imageTimeout)!==null&&S!==void 0?S:15e3,proxy:e.proxy,useCORS:(P=e.useCORS)!==null&&P!==void 0?P:!1},s=rb({logging:(Q=e.logging)!==null&&Q!==void 0?Q:!0,cache:e.cache},i),a={windowWidth:(k=e.windowWidth)!==null&&k!==void 0?k:n.innerWidth,windowHeight:(N=e.windowHeight)!==null&&N!==void 0?N:n.innerHeight,scrollX:(se=e.scrollX)!==null&&se!==void 0?se:n.pageXOffset,scrollY:(be=e.scrollY)!==null&&be!==void 0?be:n.pageYOffset},o=new Ns(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),A=new Vte(s,o),l=(he=e.foreignObjectRendering)!==null&&he!==void 0?he:!1,u={allowTaint:(ye=e.allowTaint)!==null&&ye!==void 0?ye:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},A.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),c=new gF(A,t,u),f=c.clonedReferenceElement,f?[4,c.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=D.sent(),m=yE(f)||Gee(f)?bX(f.ownerDocument):F0(A,f),p=m.width,v=m.height,y=m.left,w=m.top,B=$te(A,f,e.backgroundColor),I={canvas:e.canvas,backgroundColor:B,scale:(ne=(Y=e.scale)!==null&&Y!==void 0?Y:n.devicePixelRatio)!==null&&ne!==void 0?ne:1,x:((ce=e.x)!==null&&ce!==void 0?ce:0)+y,y:((Ue=e.y)!==null&&Ue!==void 0?Ue:0)+w,width:(re=e.width)!==null&&re!==void 0?re:Math.ceil(p),height:(Pe=e.height)!==null&&Pe!==void 0?Pe:Math.ceil(v)},l?(A.logger.debug("Document cloned, using foreign object rendering"),C=new Mte(A,I),[4,C.render(f)]):[3,3];case 2:return T=D.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+y+","+w+" with size "+p+"x"+v+" using computed rendering"),A.logger.debug("Starting DOM parsing"),F=Mj(A,f),B===F.styles.backgroundColor&&(F.styles.backgroundColor=xs.TRANSPARENT),A.logger.debug("Starting renderer for element at "+I.x+","+I.y+" with size "+I.width+"x"+I.height),C=new Qte(A,I),[4,C.render(F)];case 4:T=D.sent(),D.label=5;case 5:return(!((O=e.removeContainer)!==null&&O!==void 0)||O)&&(gF.destroy(g)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,T]}})})},$te=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?ad(t,getComputedStyle(n.documentElement).backgroundColor):xs.TRANSPARENT,s=n.body?ad(t,getComputedStyle(n.body).backgroundColor):xs.TRANSPARENT,a=typeof r=="string"?ad(t,r):r===null?xs.TRANSPARENT:4294967295;return e===n.documentElement?Da(i)?Da(s)?a:s:i:a};const Gte=Object.freeze(Object.defineProperty({__proto__:null,default:tR},Symbol.toStringTag,{value:"Module"}));function rR(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=rR(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ke(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=rR(t))&&(n&&(n+=" "),n+=e);return n}var M0={},nR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(nR);var wE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(wE);var xE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(xE);var L0={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){const n=[],i=r.length;if(i===0)return n;let s=0,a="",o="",A=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const l=r[s];o?l==="\\"&&s+1<i?(s++,a+=r[s]):l===o?o="":a+=l:A?l==='"'||l==="'"?o=l:l==="]"?(A=!1,n.push(a),a=""):a+=l:l==="["?(A=!0,a&&(n.push(a),a="")):l==="."?a&&(n.push(a),a=""):a+=l,s++}return a&&n.push(a),n}t.toPath=e})(L0);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nR,r=wE,n=xE,i=L0;function s(o,A,l){if(o==null)return l;switch(typeof A){case"string":{if(e.isUnsafeProperty(A))return l;const u=o[A];return u===void 0?r.isDeepKey(A)?s(o,i.toPath(A),l):l:u}case"number":case"symbol":{typeof A=="number"&&(A=n.toKey(A));const u=o[A];return u===void 0?l:u}default:{if(Array.isArray(A))return a(o,A,l);if(Object.is(A==null?void 0:A.valueOf(),-0)?A="-0":A=String(A),e.isUnsafeProperty(A))return l;const u=o[A];return u===void 0?l:u}}}function a(o,A,l){if(A.length===0)return l;let u=o;for(let c=0;c<A.length;c++){if(u==null||e.isUnsafeProperty(A[c]))return l;u=u[A[c]]}return u===void 0?l:u}t.get=s})(M0);var Wte=M0.get;const qa=Ki(Wte);var iR={exports:{}},st={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE=Symbol.for("react.transitional.element"),BE=Symbol.for("react.portal"),H0=Symbol.for("react.fragment"),V0=Symbol.for("react.strict_mode"),K0=Symbol.for("react.profiler"),$0=Symbol.for("react.consumer"),G0=Symbol.for("react.context"),W0=Symbol.for("react.forward_ref"),z0=Symbol.for("react.suspense"),Y0=Symbol.for("react.suspense_list"),X0=Symbol.for("react.memo"),q0=Symbol.for("react.lazy"),zte=Symbol.for("react.view_transition"),Yte=Symbol.for("react.client.reference");function si(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case bE:switch(t=t.type,t){case H0:case K0:case V0:case z0:case Y0:case zte:return t;default:switch(t=t&&t.$$typeof,t){case G0:case W0:case q0:case X0:return t;case $0:return t;default:return e}}case BE:return e}}}st.ContextConsumer=$0;st.ContextProvider=G0;st.Element=bE;st.ForwardRef=W0;st.Fragment=H0;st.Lazy=q0;st.Memo=X0;st.Portal=BE;st.Profiler=K0;st.StrictMode=V0;st.Suspense=z0;st.SuspenseList=Y0;st.isContextConsumer=function(t){return si(t)===$0};st.isContextProvider=function(t){return si(t)===G0};st.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===bE};st.isForwardRef=function(t){return si(t)===W0};st.isFragment=function(t){return si(t)===H0};st.isLazy=function(t){return si(t)===q0};st.isMemo=function(t){return si(t)===X0};st.isPortal=function(t){return si(t)===BE};st.isProfiler=function(t){return si(t)===K0};st.isStrictMode=function(t){return si(t)===V0};st.isSuspense=function(t){return si(t)===z0};st.isSuspenseList=function(t){return si(t)===Y0};st.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===H0||t===K0||t===V0||t===z0||t===Y0||typeof t=="object"&&t!==null&&(t.$$typeof===q0||t.$$typeof===X0||t.$$typeof===G0||t.$$typeof===$0||t.$$typeof===W0||t.$$typeof===Yte||t.getModuleId!==void 0)};st.typeOf=si;iR.exports=st;var Xte=iR.exports,or=t=>t===0?0:t>0?1:-1,In=t=>typeof t=="number"&&t!=+t,Ho=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,de=t=>(typeof t=="number"||t instanceof Number)&&!In(t),Hi=t=>de(t)||typeof t=="string",qte=0,Wd=t=>{var e=++qte;return"".concat(t||"").concat(e)},zr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(e)&&typeof e!="string")return n;var s;if(Ho(e)){if(r==null)return n;var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return In(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},sR=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1},wF=(t,e)=>de(t)&&de(e)?r=>t+r*(e-t):()=>e;function gi(t,e,r){return de(t)&&de(e)?t+r*(e-t):e}function aR(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):qa(n,e))===r)}var ft=t=>t===null||typeof t>"u",Ef=t=>ft(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Jte=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function CE(t){if(typeof t!="string")return!1;var e=Jte;return e.includes(t)}var Zte=["viewBox","children"],xF=["points","pathLength"],tw={svg:Zte,polygon:xF,polyline:xF},EE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(x.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{CE(i)&&(n[i]=s=>r[i](r,s))}),n},ere=(t,e,r)=>n=>(t(e,r,n),null),_f=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var s=t[i];CE(i)&&typeof s=="function"&&(n||(n={}),n[i]=ere(s,e,r))}),n},tre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function oR(t){if(typeof t!="string")return!1;var e=tre;return e.includes(t)}function Hs(t){var e=Object.entries(t).filter(r=>{var[n]=r;return oR(n)});return Object.fromEntries(e)}var bF=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",BF=null,rw=null,AR=t=>{if(t===BF&&Array.isArray(rw))return rw;var e=[];return x.Children.forEach(t,r=>{ft(r)||(Xte.isFragment(r)?e=e.concat(AR(r.props.children)):e.push(r))}),rw=e,BF=t,e};function If(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>bF(i)):n=[bF(e)],AR(t).forEach(i=>{var s=qa(i,"type.displayName")||qa(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var lR=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,rre=(t,e,r,n)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(i=n&&(tw==null?void 0:tw[n]))!==null&&i!==void 0?i:[],a=e.startsWith("data-"),o=typeof t!="function"&&(!!n&&s.includes(e)||oR(e)),A=!!r&&CE(e);return a||o||A},yt=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var a;rre((a=n)===null||a===void 0?void 0:a[s],s,e,r)&&(i[s]=n[s])}),i},nre=["children","width","height","viewBox","className","style","title","desc"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cb.apply(null,arguments)}function ire(t,e){if(t==null)return{};var r,n,i=sre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function sre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var _E=x.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:o,title:A,desc:l}=t,u=ire(t,nre),c=s||{width:n,height:i,x:0,y:0},f=Ke("recharts-surface",a);return x.createElement("svg",Cb({},yt(u,!0,"svg"),{className:f,width:n,height:i,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height),ref:e}),x.createElement("title",null,A),x.createElement("desc",null,l),r)}),are=["children","className"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eb.apply(null,arguments)}function ore(t,e){if(t==null)return{};var r,n,i=Are(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Are(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var jr=x.forwardRef((t,e)=>{var{children:r,className:n}=t,i=ore(t,are),s=Ke("recharts-layer",n);return x.createElement("g",Eb({className:s},yt(i,!0),{ref:e}),r)}),uR=x.createContext(null),lre=()=>x.useContext(uR);function at(t){return function(){return t}}const cR=Math.cos,Zm=Math.sin,Ci=Math.sqrt,ep=Math.PI,J0=2*ep,_b=Math.PI,Ib=2*_b,To=1e-6,ure=Ib-To;function dR(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function cre(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return dR;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class dre{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?dR:cre(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,A=n-e,l=i-r,u=a-e,c=o-r,f=u*u+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>To)if(!(Math.abs(c*A-l*u)>To)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-a,m=i-o,p=A*A+l*l,v=g*g+m*m,y=Math.sqrt(p),w=Math.sqrt(f),B=s*Math.tan((_b-Math.acos((p+f-v)/(2*y*w)))/2),I=B/w,T=B/y;Math.abs(I-1)>To&&this._append`L${e+I*u},${r+I*c}`,this._append`A${s},${s},0,0,${+(c*g>u*m)},${this._x1=e+T*A},${this._y1=r+T*l}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),A=n*Math.sin(i),l=e+o,u=r+A,c=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>To||Math.abs(this._y1-u)>To)&&this._append`L${l},${u}`,n&&(f<0&&(f=f%Ib+Ib),f>ure?this._append`A${n},${n},0,1,${c},${e-o},${r-A}A${n},${n},0,1,${c},${this._x1=l},${this._y1=u}`:f>To&&this._append`A${n},${n},0,${+(f>=_b)},${c},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function IE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new dre(e)}function SE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fR(t){this._context=t}fR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Z0(t){return new fR(t)}function hR(t){return t[0]}function gR(t){return t[1]}function mR(t,e){var r=at(!0),n=null,i=Z0,s=null,a=IE(o);t=typeof t=="function"?t:t===void 0?hR:at(t),e=typeof e=="function"?e:e===void 0?gR:at(e);function o(A){var l,u=(A=SE(A)).length,c,f=!1,g;for(n==null&&(s=i(g=a())),l=0;l<=u;++l)!(l<u&&r(c=A[l],l,A))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(c,l,A),+e(c,l,A));if(g)return s=null,g+""||null}return o.x=function(A){return arguments.length?(t=typeof A=="function"?A:at(+A),o):t},o.y=function(A){return arguments.length?(e=typeof A=="function"?A:at(+A),o):e},o.defined=function(A){return arguments.length?(r=typeof A=="function"?A:at(!!A),o):r},o.curve=function(A){return arguments.length?(i=A,n!=null&&(s=i(n)),o):i},o.context=function(A){return arguments.length?(A==null?n=s=null:s=i(n=A),o):n},o}function rg(t,e,r){var n=null,i=at(!0),s=null,a=Z0,o=null,A=IE(l);t=typeof t=="function"?t:t===void 0?hR:at(+t),e=typeof e=="function"?e:at(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?gR:at(+r);function l(c){var f,g,m,p=(c=SE(c)).length,v,y=!1,w,B=new Array(p),I=new Array(p);for(s==null&&(o=a(w=A())),f=0;f<=p;++f){if(!(f<p&&i(v=c[f],f,c))===y)if(y=!y)g=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=f-1;m>=g;--m)o.point(B[m],I[m]);o.lineEnd(),o.areaEnd()}y&&(B[f]=+t(v,f,c),I[f]=+e(v,f,c),o.point(n?+n(v,f,c):B[f],r?+r(v,f,c):I[f]))}if(w)return o=null,w+""||null}function u(){return mR().defined(i).curve(a).context(s)}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:at(+c),n=null,l):t},l.x0=function(c){return arguments.length?(t=typeof c=="function"?c:at(+c),l):t},l.x1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:at(+c),l):n},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:at(+c),r=null,l):e},l.y0=function(c){return arguments.length?(e=typeof c=="function"?c:at(+c),l):e},l.y1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:at(+c),l):r},l.lineX0=l.lineY0=function(){return u().x(t).y(e)},l.lineY1=function(){return u().x(t).y(r)},l.lineX1=function(){return u().x(n).y(e)},l.defined=function(c){return arguments.length?(i=typeof c=="function"?c:at(!!c),l):i},l.curve=function(c){return arguments.length?(a=c,s!=null&&(o=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=o=null:o=a(s=c),l):s},l}class pR{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function fre(t){return new pR(t,!0)}function hre(t){return new pR(t,!1)}const TE={draw(t,e){const r=Ci(e/ep);t.moveTo(r,0),t.arc(0,0,r,0,J0)}},gre={draw(t,e){const r=Ci(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},vR=Ci(1/3),mre=vR*2,pre={draw(t,e){const r=Ci(e/mre),n=r*vR;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},vre={draw(t,e){const r=Ci(e),n=-r/2;t.rect(n,n,r,r)}},yre=.8908130915292852,yR=Zm(ep/10)/Zm(7*ep/10),wre=Zm(J0/10)*yR,xre=-cR(J0/10)*yR,bre={draw(t,e){const r=Ci(e*yre),n=wre*r,i=xre*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=J0*s/5,o=cR(a),A=Zm(a);t.lineTo(A*r,-o*r),t.lineTo(o*n-A*i,A*n+o*i)}t.closePath()}},nw=Ci(3),Bre={draw(t,e){const r=-Ci(e/(nw*3));t.moveTo(0,r*2),t.lineTo(-nw*r,-r),t.lineTo(nw*r,-r),t.closePath()}},kn=-.5,On=Ci(3)/2,Sb=1/Ci(12),Cre=(Sb/2+1)*3,Ere={draw(t,e){const r=Ci(e/Cre),n=r/2,i=r*Sb,s=n,a=r*Sb+r,o=-s,A=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,A),t.lineTo(kn*n-On*i,On*n+kn*i),t.lineTo(kn*s-On*a,On*s+kn*a),t.lineTo(kn*o-On*A,On*o+kn*A),t.lineTo(kn*n+On*i,kn*i-On*n),t.lineTo(kn*s+On*a,kn*a-On*s),t.lineTo(kn*o+On*A,kn*A-On*o),t.closePath()}};function _re(t,e){let r=null,n=IE(i);t=typeof t=="function"?t:at(t||TE),e=typeof e=="function"?e:at(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:at(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:at(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function tp(){}function rp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function wR(t){this._context=t}wR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ire(t){return new wR(t)}function xR(t){this._context=t}xR.prototype={areaStart:tp,areaEnd:tp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:rp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Sre(t){return new xR(t)}function bR(t){this._context=t}bR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:rp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tre(t){return new bR(t)}function BR(t){this._context=t}BR.prototype={areaStart:tp,areaEnd:tp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Fre(t){return new BR(t)}function CF(t){return t<0?-1:1}function EF(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(CF(s)+CF(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function _F(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function iw(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function np(t){this._context=t}np.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:iw(this,this._t0,_F(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,iw(this,_F(this,r=EF(this,t,e)),r);break;default:iw(this,this._t0,r=EF(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function CR(t){this._context=new ER(t)}(CR.prototype=Object.create(np.prototype)).point=function(t,e){np.prototype.point.call(this,e,t)};function ER(t){this._context=t}ER.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function Ure(t){return new np(t)}function Pre(t){return new CR(t)}function _R(t){this._context=t}_R.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=IF(t),i=IF(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function IF(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Nre(t){return new _R(t)}function ev(t,e){this._context=t,this._t=e}ev.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Qre(t){return new ev(t,.5)}function kre(t){return new ev(t,0)}function Ore(t){return new ev(t,1)}function au(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Tb(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Dre(t,e){return t[e]}function jre(t){const e=[];return e.key=t,e}function Rre(){var t=at([]),e=Tb,r=au,n=Dre;function i(s){var a=Array.from(t.apply(this,arguments),jre),o,A=a.length,l=-1,u;for(const c of s)for(o=0,++l;o<A;++o)(a[o][l]=[0,+n(c,a[o].key,l,s)]).data=c;for(o=0,u=SE(e(a));o<A;++o)a[u[o]].index=o;return r(a,u),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:at(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:at(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?Tb:typeof s=="function"?s:at(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??au,i):r},i}function Mre(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}au(t,e)}}function Lre(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}au(t,e)}}function Hre(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,A=0,l=0;o<a;++o){for(var u=t[e[o]],c=u[n][1]||0,f=u[n-1][1]||0,g=(c-f)/2,m=0;m<o;++m){var p=t[e[m]],v=p[n][1]||0,y=p[n-1][1]||0;g+=v-y}A+=c,l+=g*c}i[n-1][1]+=i[n-1][0]=r,A&&(r-=l/A)}i[n-1][1]+=i[n-1][0]=r,au(t,e)}}var Vre=["type","size","sizeType"];function Fb(){return Fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fb.apply(null,arguments)}function SF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SF(Object(r),!0).forEach(function(n){Kre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kre(t,e,r){return(e=$re(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $re(t){var e=Gre(t,"string");return typeof e=="symbol"?e:e+""}function Gre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wre(t,e){if(t==null)return{};var r,n,i=zre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function zre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var IR={symbolCircle:TE,symbolCross:gre,symbolDiamond:pre,symbolSquare:vre,symbolStar:bre,symbolTriangle:Bre,symbolWye:Ere},Yre=Math.PI/180,Xre=t=>{var e="symbol".concat(Ef(t));return IR[e]||TE},qre=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*Yre;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Jre=(t,e)=>{IR["symbol".concat(Ef(t))]=e},FE=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=Wre(t,Vre),s=TF(TF({},i),{},{type:e,size:r,sizeType:n}),a=()=>{var c=Xre(e),f=_re().type(c).size(qre(r,n,e));return f()},{className:o,cx:A,cy:l}=s,u=yt(s,!0);return A===+A&&l===+l&&r===+r?x.createElement("path",Fb({},u,{className:Ke("recharts-symbols",o),transform:"translate(".concat(A,", ").concat(l,")"),d:a()})):null};FE.registerSymbol=Jre;function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ub.apply(null,arguments)}function FF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zre(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FF(Object(r),!0).forEach(function(n){UE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UE(t,e,r){return(e=ene(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ene(t){var e=tne(t,"string");return typeof e=="symbol"?e:e+""}function tne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ui=32;class PE extends x.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,i=ui/2,s=ui/6,a=ui/3,o=e.inactive?n:e.color,A=r??e.type;if(A==="none")return null;if(A==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:ui,y2:i,className:"recharts-legend-icon"});if(A==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(ui,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(A==="rect")return x.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(ui/8,"h").concat(ui,"v").concat(ui*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(x.isValidElement(e.legendIcon)){var l=Zre({},e);return delete l.legendIcon,x.cloneElement(e.legendIcon,l)}return x.createElement(FE,{fill:o,cx:i,cy:i,size:ui,sizeType:"diameter",type:A})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:a}=this.props,o={x:0,y:0,width:ui,height:ui},A={display:n==="horizontal"?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,c)=>{var f=u.formatter||i,g=Ke({"recharts-legend-item":!0,["legend-item-".concat(c)]:!0,inactive:u.inactive});if(u.type==="none")return null;var m=u.inactive?s:u.color,p=f?f(u.value,u,c):u.value;return x.createElement("li",Ub({className:g,style:A,key:"legend-item-".concat(c)},_f(this.props,u,c)),x.createElement(_E,{width:r,height:r,viewBox:o,style:l,"aria-label":"".concat(p," legend icon")},this.renderIcon(u,a)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},p))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}UE(PE,"displayName","Legend");UE(PE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var SR={},TR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],o=n(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(TR);var NE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(NE);var FR={},tv={},UR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(UR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UR;function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(tv);var PR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(PR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tv,r=PR;function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(FR);var NR={},QR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M0;function r(n){return function(i){return e.get(i,n)}}t.property=r})(QR);var kR={},sw={},aw={},QE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(QE);var kE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(kE);var rv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(rv);var UF;function rne(){return UF||(UF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OE(),r=QE,n=kE,i=rv;function s(c,f,g){return typeof g!="function"?e.isMatch(c,f):a(c,f,function m(p,v,y,w,B,I){const T=g(p,v,y,w,B,I);return T!==void 0?!!T:a(p,v,m,I)},new Map)}function a(c,f,g,m){if(f===c)return!0;switch(typeof f){case"object":return o(c,f,g,m);case"function":return Object.keys(f).length>0?a(c,{...f},g,m):i.eq(c,f);default:return r.isObject(c)?typeof f=="string"?f==="":!0:i.eq(c,f)}}function o(c,f,g,m){if(f==null)return!0;if(Array.isArray(f))return l(c,f,g,m);if(f instanceof Map)return A(c,f,g,m);if(f instanceof Set)return u(c,f,g,m);const p=Object.keys(f);if(c==null)return p.length===0;if(p.length===0)return!0;if(m&&m.has(f))return m.get(f)===c;m&&m.set(f,c);try{for(let v=0;v<p.length;v++){const y=p[v];if(!n.isPrimitive(c)&&!(y in c)||f[y]===void 0&&c[y]!==void 0||f[y]===null&&c[y]!==null||!g(c[y],f[y],y,c,f,m))return!1}return!0}finally{m&&m.delete(f)}}function A(c,f,g,m){if(f.size===0)return!0;if(!(c instanceof Map))return!1;for(const[p,v]of f.entries()){const y=c.get(p);if(g(y,v,p,c,f,m)===!1)return!1}return!0}function l(c,f,g,m){if(f.length===0)return!0;if(!Array.isArray(c))return!1;const p=new Set;for(let v=0;v<f.length;v++){const y=f[v];let w=!1;for(let B=0;B<c.length;B++){if(p.has(B))continue;const I=c[B];let T=!1;if(g(I,y,v,c,f,m)&&(T=!0),T){p.add(B),w=!0;break}}if(!w)return!1}return!0}function u(c,f,g,m){return f.size===0?!0:c instanceof Set?l([...c],[...f],g,m):!1}t.isMatchWith=s,t.isSetMatch=u}(aw)),aw}var PF;function OE(){return PF||(PF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rne();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r}(sw)),sw}var OR={},DE={},jE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(jE);var nv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(nv);var iv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",A="[object Map]",l="[object Set]",u="[object Array]",c="[object Function]",f="[object ArrayBuffer]",g="[object Object]",m="[object Error]",p="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",w="[object Uint16Array]",B="[object Uint32Array]",I="[object BigUint64Array]",T="[object Int8Array]",F="[object Int16Array]",C="[object Int32Array]",_="[object BigInt64Array]",S="[object Float32Array]",P="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=f,t.arrayTag=u,t.bigInt64ArrayTag=_,t.bigUint64ArrayTag=I,t.booleanTag=i,t.dataViewTag=p,t.dateTag=o,t.errorTag=m,t.float32ArrayTag=S,t.float64ArrayTag=P,t.functionTag=c,t.int16ArrayTag=F,t.int32ArrayTag=C,t.int8ArrayTag=T,t.mapTag=A,t.numberTag=n,t.objectTag=g,t.regexpTag=e,t.setTag=l,t.stringTag=r,t.symbolTag=a,t.uint16ArrayTag=w,t.uint32ArrayTag=B,t.uint8ArrayTag=v,t.uint8ClampedArrayTag=y})(iv);var DR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(DR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jE,r=nv,n=iv,i=kE,s=DR;function a(u,c){return o(u,void 0,u,new Map,c)}function o(u,c,f,g=new Map,m=void 0){const p=m==null?void 0:m(u,c,f,g);if(p!=null)return p;if(i.isPrimitive(u))return u;if(g.has(u))return g.get(u);if(Array.isArray(u)){const v=new Array(u.length);g.set(u,v);for(let y=0;y<u.length;y++)v[y]=o(u[y],y,f,g,m);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;g.set(u,v);for(const[y,w]of u)v.set(y,o(w,y,f,g,m));return v}if(u instanceof Set){const v=new Set;g.set(u,v);for(const y of u)v.add(o(y,void 0,f,g,m));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(s.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);g.set(u,v);for(let y=0;y<u.length;y++)v[y]=o(u[y],y,f,g,m);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return g.set(u,v),A(v,u,f,g,m),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return g.set(u,v),A(v,u,f,g,m),v}if(u instanceof Blob){const v=new Blob([u],{type:u.type});return g.set(u,v),A(v,u,f,g,m),v}if(u instanceof Error){const v=new u.constructor;return g.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,A(v,u,f,g,m),v}if(typeof u=="object"&&l(u)){const v=Object.create(Object.getPrototypeOf(u));return g.set(u,v),A(v,u,f,g,m),v}return u}function A(u,c,f=u,g,m){const p=[...Object.keys(c),...e.getSymbols(c)];for(let v=0;v<p.length;v++){const y=p[v],w=Object.getOwnPropertyDescriptor(u,y);(w==null||w.writable)&&(u[y]=o(c[y],y,f,g,m))}}function l(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=A})(DE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DE;function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(OR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OE(),r=OR;function n(i){return i=r.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=n})(kR);var jR={},RR={},MR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DE,r=iv;function n(i,s){return e.cloneDeepWith(i,(a,o,A,l)=>{const u=s==null?void 0:s(a,o,A,l);if(u!=null)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const c=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(c,i),c}case r.argumentsTag:{const c={};return e.copyProperties(c,i),c.length=i.length,c[Symbol.iterator]=i[Symbol.iterator],c}default:return}})}t.cloneDeepWith=n})(MR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MR;function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(RR);var LR={},RE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(RE);var HR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nv;function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(HR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wE,r=RE,n=HR,i=L0;function s(a,o){let A;if(Array.isArray(o)?A=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?A=i.toPath(o):A=[o],A.length===0)return!1;let l=a;for(let u=0;u<A.length;u++){const c=A[u];if((l==null||!Object.hasOwn(l,c))&&!((Array.isArray(l)||n.isArguments(l))&&r.isIndex(c)&&c<l.length))return!1;l=l[c]}return!0}t.has=s})(LR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OE(),r=xE,n=RR,i=M0,s=LR;function a(o,A){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return A=n.cloneDeep(A),function(l){const u=i.get(l,o);return u===void 0?s.has(l,o):A===void 0?u===void 0:e.isMatch(u,A)}}t.matchesProperty=a})(jR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NE,r=QR,n=kR,i=jR;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}t.iteratee=s})(NR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TR,r=NE,n=FR,i=NR;function s(a,o=r.identity){return n.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}t.uniqBy=s})(SR);var nne=SR.uniqBy;const NF=Ki(nne);function VR(t,e,r){return e===!0?NF(t,r):typeof e=="function"?NF(t,e):t}var KR={exports:{}},$R={},GR={exports:{}},WR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ou=x;function ine(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sne=typeof Object.is=="function"?Object.is:ine,ane=ou.useState,one=ou.useEffect,Ane=ou.useLayoutEffect,lne=ou.useDebugValue;function une(t,e){var r=e(),n=ane({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return Ane(function(){i.value=r,i.getSnapshot=e,ow(i)&&s({inst:i})},[t,r,e]),one(function(){return ow(i)&&s({inst:i}),t(function(){ow(i)&&s({inst:i})})},[t]),lne(r),r}function ow(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!sne(t,r)}catch{return!0}}function cne(t,e){return e()}var dne=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cne:une;WR.useSyncExternalStore=ou.useSyncExternalStore!==void 0?ou.useSyncExternalStore:dne;GR.exports=WR;var fne=GR.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv=x,hne=fne;function gne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mne=typeof Object.is=="function"?Object.is:gne,pne=hne.useSyncExternalStore,vne=sv.useRef,yne=sv.useEffect,wne=sv.useMemo,xne=sv.useDebugValue;$R.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=vne(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=wne(function(){function A(g){if(!l){if(l=!0,u=g,g=n(g),i!==void 0&&a.hasValue){var m=a.value;if(i(m,g))return c=m}return c=g}if(m=c,mne(u,g))return m;var p=n(g);return i!==void 0&&i(m,p)?(u=g,m):(u=g,c=p)}var l=!1,u,c,f=r===void 0?null:r;return[function(){return A(e())},f===null?void 0:function(){return A(f())}]},[e,r,n,i]);var o=pne(t,s[0],s[1]);return yne(function(){a.hasValue=!0,a.value=o},[o]),xne(o),o};KR.exports=$R;var bne=KR.exports,ME=x.createContext(null),Bne=t=>t,Tt=()=>{var t=x.useContext(ME);return t?t.store.dispatch:Bne},Gg=()=>{},Cne=()=>Gg,Ene=(t,e)=>t===e;function ve(t){var e=x.useContext(ME);return bne.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Cne,e?e.store.getState:Gg,e?e.store.getState:Gg,e?t:Gg,Ene)}function _ne(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Ine(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Sne(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var QF=t=>Array.isArray(t)?t:[t];function Tne(t){const e=Array.isArray(t[0])?t[0]:t;return Sne(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Fne(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var Une=class{constructor(t){this.value=t}deref(){return this.value}},Pne=typeof WeakRef<"u"?WeakRef:Une,Nne=0,kF=1;function ng(){return{s:Nne,v:void 0,o:null,p:null}}function zR(t,e={}){let r=ng();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var c;let o=r;const{length:A}=arguments;for(let f=0,g=A;f<g;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let p=o.o;p===null&&(o.o=p=new WeakMap);const v=p.get(m);v===void 0?(o=ng(),p.set(m,o)):o=v}else{let p=o.p;p===null&&(o.p=p=new Map);const v=p.get(m);v===void 0?(o=ng(),p.set(m,o)):o=v}}const l=o;let u;if(o.s===kF)u=o.v;else if(u=t.apply(null,arguments),s++,n){const f=((c=i==null?void 0:i.deref)==null?void 0:c.call(i))??i;f!=null&&n(f,u)&&(u=f,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new Pne(u):u}return l.s=kF,l.v=u,u}return a.clearCache=()=>{r=ng(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function Qne(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,o,A={},l=i.pop();typeof l=="object"&&(A=l,l=i.pop()),_ne(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const u={...r,...A},{memoize:c,memoizeOptions:f=[],argsMemoize:g=zR,argsMemoizeOptions:m=[],devModeChecks:p={}}=u,v=QF(f),y=QF(m),w=Tne(i),B=c(function(){return s++,l.apply(null,arguments)},...v),I=g(function(){a++;const F=Fne(w,arguments);return o=B.apply(null,F),o},...y);return Object.assign(I,{resultFunc:l,memoizedResultFunc:B,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:c,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var V=Qne(zR),kne=Object.assign((t,e=V)=>{Ine(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,o,A)=>(a[r[A]]=o,a),{}))},{withTypes:()=>kne}),YR={},XR={},qR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=e(n),o=e(i);if(a===o&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=r})(qR);var JR={},LE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(LE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LE,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(JR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qR,r=JR,n=L0;function i(s,a,o,A){if(s==null)return[];o=A?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(g=>String(g));const l=(g,m)=>{let p=g;for(let v=0;v<m.length&&p!=null;++v)p=p[m[v]];return p},u=(g,m)=>m==null||g==null?m:typeof g=="object"&&"key"in g?Object.hasOwn(m,g.key)?m[g.key]:l(m,g.path):typeof g=="function"?g(m):Array.isArray(g)?l(m,g):typeof m=="object"?m[g]:m,c=a.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return s.map(g=>({original:g,criteria:c.map(m=>u(m,g))})).slice().sort((g,m)=>{for(let p=0;p<c.length;p++){const v=e.compareValues(g.criteria[p],m.criteria[p],o[p]);if(v!==0)return v}return 0}).map(g=>g.original)}t.orderBy=i})(XR);var ZR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],s=Math.floor(n),a=(o,A)=>{for(let l=0;l<o.length;l++){const u=o[l];Array.isArray(u)&&A<s?a(u,A+1):i.push(u)}};return a(r,0),i}t.flatten=e})(ZR);var HE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RE,r=tv,n=QE,i=rv;function s(a,o,A){return n.isObject(A)&&(typeof o=="number"&&r.isArrayLike(A)&&e.isIndex(o)&&o<A.length||typeof o=="string"&&o in A)?i.eq(A[o],a):!1}t.isIterateeCall=s})(HE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XR,r=ZR,n=HE;function i(s,...a){const o=a.length;return o>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,r.flatten(a),["asc"])}t.sortBy=i})(YR);var One=YR.sortBy;const av=Ki(One);var eM=t=>t.legend.settings,Dne=t=>t.legend.size,jne=t=>t.legend.payload,Rne=V([jne,eM],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?av(n,r):n});function Mne(){return ve(Rne)}var ig=1;function tM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>ig||Math.abs(a.left-e.left)>ig||Math.abs(a.top-e.top)>ig||Math.abs(a.width-e.width)>ig)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function fr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Lne=typeof Symbol=="function"&&Symbol.observable||"@@observable",OF=Lne,Aw=()=>Math.random().toString(36).substring(7).split("").join("."),Hne={INIT:`@@redux/INIT${Aw()}`,REPLACE:`@@redux/REPLACE${Aw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Aw()}`},ip=Hne;function VE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function rM(t,e,r){if(typeof t!="function")throw new Error(fr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(fr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(fr(1));return r(rM)(t,e)}let n=t,i=e,s=new Map,a=s,o=0,A=!1;function l(){a===s&&(a=new Map,s.forEach((v,y)=>{a.set(y,v)}))}function u(){if(A)throw new Error(fr(3));return i}function c(v){if(typeof v!="function")throw new Error(fr(4));if(A)throw new Error(fr(5));let y=!0;l();const w=o++;return a.set(w,v),function(){if(y){if(A)throw new Error(fr(6));y=!1,l(),a.delete(w),s=null}}}function f(v){if(!VE(v))throw new Error(fr(7));if(typeof v.type>"u")throw new Error(fr(8));if(typeof v.type!="string")throw new Error(fr(17));if(A)throw new Error(fr(9));try{A=!0,i=n(i,v)}finally{A=!1}return(s=a).forEach(w=>{w()}),v}function g(v){if(typeof v!="function")throw new Error(fr(10));n=v,f({type:ip.REPLACE})}function m(){const v=c;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(fr(11));function w(){const I=y;I.next&&I.next(u())}return w(),{unsubscribe:v(w)}},[OF](){return this}}}return f({type:ip.INIT}),{dispatch:f,subscribe:c,getState:u,replaceReducer:g,[OF]:m}}function Vne(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:ip.INIT})>"u")throw new Error(fr(12));if(typeof r(void 0,{type:ip.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fr(13))})}function nM(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{Vne(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let A=!1;const l={};for(let u=0;u<n.length;u++){const c=n[u],f=r[c],g=a[c],m=f(g,o);if(typeof m>"u")throw o&&o.type,new Error(fr(14));l[c]=m,A=A||m!==g}return A=A||n.length!==Object.keys(a).length,A?l:a}}function sp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function Kne(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(fr(15))};const a={getState:i.getState,dispatch:(A,...l)=>s(A,...l)},o=t.map(A=>A(a));return s=sp(...o)(i.dispatch),{...i,dispatch:s}}}function iM(t){return VE(t)&&"type"in t&&typeof t.type=="string"}var sM=Symbol.for("immer-nothing"),DF=Symbol.for("immer-draftable"),Sn=Symbol.for("immer-state");function pi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Au=Object.getPrototypeOf;function pA(t){return!!t&&!!t[Sn]}function Qs(t){var e;return t?aM(t)||Array.isArray(t)||!!t[DF]||!!((e=t.constructor)!=null&&e[DF])||Av(t)||lv(t):!1}var $ne=Object.prototype.constructor.toString();function aM(t){if(!t||typeof t!="object")return!1;const e=Au(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===$ne}function ap(t,e){ov(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function ov(t){const e=t[Sn];return e?e.type_:Array.isArray(t)?1:Av(t)?2:lv(t)?3:0}function Pb(t,e){return ov(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function oM(t,e,r){const n=ov(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function Gne(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Av(t){return t instanceof Map}function lv(t){return t instanceof Set}function Fo(t){return t.copy_||t.base_}function Nb(t,e){if(Av(t))return new Map(t);if(lv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=aM(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Sn];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(Au(t),n)}else{const n=Au(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function KE(t,e=!1){return uv(t)||pA(t)||!Qs(t)||(ov(t)>1&&(t.set=t.add=t.clear=t.delete=Wne),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>KE(n,!0))),t}function Wne(){pi(2)}function uv(t){return Object.isFrozen(t)}var zne={};function vA(t){const e=zne[t];return e||pi(0,t),e}var zd;function AM(){return zd}function Yne(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jF(t,e){e&&(vA("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Qb(t){kb(t),t.drafts_.forEach(Xne),t.drafts_=null}function kb(t){t===zd&&(zd=t.parent_)}function RF(t){return zd=Yne(zd,t)}function Xne(t){const e=t[Sn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function MF(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Sn].modified_&&(Qb(e),pi(4)),Qs(t)&&(t=op(e,t),e.parent_||Ap(e,t)),e.patches_&&vA("Patches").generateReplacementPatches_(r[Sn].base_,t,e.patches_,e.inversePatches_)):t=op(e,r,[]),Qb(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==sM?t:void 0}function op(t,e,r){if(uv(e))return e;const n=e[Sn];if(!n)return ap(e,(i,s)=>LF(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Ap(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),ap(s,(o,A)=>LF(t,n,i,o,A,r,a)),Ap(t,i,!1),r&&t.patches_&&vA("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function LF(t,e,r,n,i,s,a){if(pA(i)){const o=s&&e&&e.type_!==3&&!Pb(e.assigned_,n)?s.concat(n):void 0,A=op(t,i,o);if(oM(r,n,A),pA(A))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Qs(i)&&!uv(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;op(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Ap(t,i)}}function Ap(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&KE(e,r)}function qne(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:AM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=$E;r&&(i=[n],s=Yd);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var $E={get(t,e){if(e===Sn)return t;const r=Fo(t);if(!Pb(r,e))return Jne(t,r,e);const n=r[e];return t.finalized_||!Qs(n)?n:n===lw(t.base_,e)?(uw(t),t.copy_[e]=Db(n,t)):n},has(t,e){return e in Fo(t)},ownKeys(t){return Reflect.ownKeys(Fo(t))},set(t,e,r){const n=lM(Fo(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=lw(Fo(t),e),s=i==null?void 0:i[Sn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(Gne(r,i)&&(r!==void 0||Pb(t.base_,e)))return!0;uw(t),Ob(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return lw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,uw(t),Ob(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Fo(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){pi(11)},getPrototypeOf(t){return Au(t.base_)},setPrototypeOf(){pi(12)}},Yd={};ap($E,(t,e)=>{Yd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Yd.deleteProperty=function(t,e){return Yd.set.call(this,t,e,void 0)};Yd.set=function(t,e,r){return $E.set.call(this,t[0],e,r,t[0])};function lw(t,e){const r=t[Sn];return(r?Fo(r):t)[e]}function Jne(t,e,r){var i;const n=lM(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function lM(t,e){if(!(e in t))return;let r=Au(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Au(r)}}function Ob(t){t.modified_||(t.modified_=!0,t.parent_&&Ob(t.parent_))}function uw(t){t.copy_||(t.copy_=Nb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Zne=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(A=s,...l){return a.produce(A,u=>r.call(this,u,...l))}}typeof r!="function"&&pi(6),n!==void 0&&typeof n!="function"&&pi(7);let i;if(Qs(e)){const s=RF(this),a=Db(e,void 0);let o=!0;try{i=r(a),o=!1}finally{o?Qb(s):kb(s)}return jF(s,n),MF(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===sM&&(i=void 0),this.autoFreeze_&&KE(i,!0),n){const s=[],a=[];vA("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else pi(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,A=>e(A,...o));let n,i;return[this.produce(e,r,(a,o)=>{n=a,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Qs(t)||pi(8),pA(t)&&(t=bs(t));const e=RF(this),r=Db(t,void 0);return r[Sn].isManual_=!0,kb(e),r}finishDraft(t,e){const r=t&&t[Sn];(!r||!r.isManual_)&&pi(9);const{scope_:n}=r;return jF(n,e),MF(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=vA("Patches").applyPatches_;return pA(t)?n(t,e):this.produce(t,i=>n(i,e))}};function Db(t,e){const r=Av(t)?vA("MapSet").proxyMap_(t,e):lv(t)?vA("MapSet").proxySet_(t,e):qne(t,e);return(e?e.scope_:AM()).drafts_.push(r),r}function bs(t){return pA(t)||pi(10,t),uM(t)}function uM(t){if(!Qs(t)||uv(t))return t;const e=t[Sn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Nb(t,e.scope_.immer_.useStrictShallowCopy_)}else r=Nb(t,!0);return ap(r,(n,i)=>{oM(r,n,uM(i))}),e&&(e.finalized_=!1),r}var Tn=new Zne,cM=Tn.produce;Tn.produceWithPatches.bind(Tn);Tn.setAutoFreeze.bind(Tn);Tn.setUseStrictShallowCopy.bind(Tn);Tn.applyPatches.bind(Tn);Tn.createDraft.bind(Tn);Tn.finishDraft.bind(Tn);function dM(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var eie=dM(),tie=dM,rie=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?sp:sp.apply(null,arguments)};function ni(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Cn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>iM(n)&&n.type===t,r}var fM=class Rc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Rc.prototype)}static get[Symbol.species](){return Rc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Rc(...e[0].concat(this)):new Rc(...e.concat(this))}};function HF(t){return Qs(t)?cM(t,()=>{}):t}function sg(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function nie(t){return typeof t=="boolean"}var iie=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new fM;return r&&(nie(r)?a.push(eie):a.push(tie(r.extraArgument))),a},sie="RTK_autoBatch",VF=t=>e=>{setTimeout(e,t)},aie=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const o=new Set,A=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:VF(10):t.type==="callback"?t.queueNotification:VF(t.timeout),l=()=>{a=!1,s&&(s=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const c=()=>i&&u(),f=n.subscribe(c);return o.add(u),()=>{f(),o.delete(u)}},dispatch(u){var c;try{return i=!((c=u==null?void 0:u.meta)!=null&&c[sie]),s=!i,s&&(a||(a=!0,A(l))),n.dispatch(u)}finally{i=!0}}})},oie=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new fM(t);return n&&i.push(aie(typeof n=="object"?n:void 0)),i};function Aie(t){const e=iie(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:s=!0,preloadedState:a=void 0,enhancers:o=void 0}=t;let A;if(typeof r=="function")A=r;else if(VE(r))A=nM(r);else throw new Error(Cn(1));let l;typeof n=="function"?l=n(e):l=e();let u=sp;i&&(u=rie({trace:!1,...typeof i=="object"&&i}));const c=Kne(...l),f=oie(c);let g=typeof o=="function"?o(f):f();const m=u(...g);return rM(A,a,m)}function hM(t){const e={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Cn(28));if(o in e)throw new Error(Cn(29));return e[o]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function lie(t){return typeof t=="function"}function uie(t,e){let[r,n,i]=hM(e),s;if(lie(t))s=()=>HF(t());else{const o=HF(t);s=()=>o}function a(o=s(),A){let l=[r[A.type],...n.filter(({matcher:u})=>u(A)).map(({reducer:u})=>u)];return l.filter(u=>!!u).length===0&&(l=[i]),l.reduce((u,c)=>{if(c)if(pA(u)){const g=c(u,A);return g===void 0?u:g}else{if(Qs(u))return cM(u,f=>c(f,A));{const f=c(u,A);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},o)}return a.getInitialState=s,a}var cie="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",die=(t=21)=>{let e="",r=t;for(;r--;)e+=cie[Math.random()*64|0];return e},fie=Symbol.for("rtk-slice-createasyncthunk");function hie(t,e){return`${t}/${e}`}function gie({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[fie];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Cn(11));const o=(typeof i.reducers=="function"?i.reducers(pie()):i.reducers)||{},A=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(I,T){const F=typeof I=="string"?I:I.type;if(!F)throw new Error(Cn(12));if(F in l.sliceCaseReducersByType)throw new Error(Cn(13));return l.sliceCaseReducersByType[F]=T,u},addMatcher(I,T){return l.sliceMatchers.push({matcher:I,reducer:T}),u},exposeAction(I,T){return l.actionCreators[I]=T,u},exposeCaseReducer(I,T){return l.sliceCaseReducersByName[I]=T,u}};A.forEach(I=>{const T=o[I],F={reducerName:I,type:hie(s,I),createNotation:typeof i.reducers=="function"};yie(T)?xie(F,T,u,e):vie(F,T,u)});function c(){const[I={},T=[],F=void 0]=typeof i.extraReducers=="function"?hM(i.extraReducers):[i.extraReducers],C={...I,...l.sliceCaseReducersByType};return uie(i.initialState,_=>{for(let S in C)_.addCase(S,C[S]);for(let S of l.sliceMatchers)_.addMatcher(S.matcher,S.reducer);for(let S of T)_.addMatcher(S.matcher,S.reducer);F&&_.addDefaultCase(F)})}const f=I=>I,g=new Map,m=new WeakMap;let p;function v(I,T){return p||(p=c()),p(I,T)}function y(){return p||(p=c()),p.getInitialState()}function w(I,T=!1){function F(_){let S=_[I];return typeof S>"u"&&T&&(S=sg(m,F,y)),S}function C(_=f){const S=sg(g,T,()=>new WeakMap);return sg(S,_,()=>{const P={};for(const[Q,k]of Object.entries(i.selectors??{}))P[Q]=mie(k,_,()=>sg(m,_,y),T);return P})}return{reducerPath:I,getSelectors:C,get selectors(){return C(F)},selectSlice:F}}const B={name:s,reducer:v,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:y,...w(a),injectInto(I,{reducerPath:T,...F}={}){const C=T??a;return I.inject({reducerPath:C,reducer:v},F),{...B,...w(C,!0)}}};return B}}function mie(t,e,r,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=r()),t(o,...a)}return i.unwrapped=t,i}var Nn=gie();function pie(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function vie({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!wie(n))throw new Error(Cn(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?ni(t,a):ni(t))}function yie(t){return t._reducerDefinitionType==="asyncThunk"}function wie(t){return t._reducerDefinitionType==="reducerWithPrepare"}function xie({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Cn(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:A,settled:l,options:u}=r,c=i(t,s,u);n.exposeAction(e,c),a&&n.addCase(c.fulfilled,a),o&&n.addCase(c.pending,o),A&&n.addCase(c.rejected,A),l&&n.addMatcher(c.settled,l),n.exposeCaseReducer(e,{fulfilled:a||ag,pending:o||ag,rejected:A||ag,settled:l||ag})}function ag(){}var bie="task",gM="listener",mM="completed",GE="cancelled",Bie=`task-${GE}`,Cie=`task-${mM}`,jb=`${gM}-${GE}`,Eie=`${gM}-${mM}`,cv=class{constructor(t){Xu(this,"name","TaskAbortError");Xu(this,"message");this.code=t,this.message=`${bie} ${GE} (reason: ${t})`}},WE=(t,e)=>{if(typeof t!="function")throw new TypeError(Cn(32))},lp=()=>{},pM=(t,e=lp)=>(t.catch(e),t),vM=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),eA=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},tA=t=>{if(t.aborted){const{reason:e}=t;throw new cv(e)}};function yM(t,e){let r=lp;return new Promise((n,i)=>{const s=()=>i(new cv(t.reason));if(t.aborted){s();return}r=vM(t,s),e.finally(()=>r()).then(n,i)}).finally(()=>{r=lp})}var _ie=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof cv?"cancelled":"rejected",error:r}}finally{e==null||e()}},up=t=>e=>pM(yM(t,e).then(r=>(tA(t),r))),wM=t=>{const e=up(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Ol}=Object,KF={},dv="listenerMiddleware",Iie=(t,e)=>{const r=n=>vM(t,()=>eA(n,t.reason));return(n,i)=>{WE(n);const s=new AbortController;r(s);const a=_ie(async()=>{tA(t),tA(s.signal);const o=await n({pause:up(s.signal),delay:wM(s.signal),signal:s.signal});return tA(s.signal),o},()=>eA(s,Cie));return i!=null&&i.autoJoin&&e.push(a.catch(lp)),{result:up(t)(a),cancel(){eA(s,Bie)}}}},Sie=(t,e)=>{const r=async(n,i)=>{tA(e);let s=()=>{};const o=[new Promise((A,l)=>{let u=t({predicate:n,effect:(c,f)=>{f.unsubscribe(),A([c,f.getState(),f.getOriginalState()])}});s=()=>{u(),l()}})];i!=null&&o.push(new Promise(A=>setTimeout(A,i,null)));try{const A=await yM(e,Promise.race(o));return tA(e),A}finally{s()}};return(n,i)=>pM(r(n,i))},xM=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=ni(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Cn(21));return WE(s),{predicate:i,type:e,effect:s}},bM=Ol(t=>{const{type:e,predicate:r,effect:n}=xM(t);return{id:die(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Cn(22))}}},{withTypes:()=>bM}),$F=(t,e)=>{const{type:r,effect:n,predicate:i}=xM(e);return Array.from(t.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},Rb=t=>{t.pending.forEach(e=>{eA(e,jb)})},Tie=t=>()=>{t.forEach(Rb),t.clear()},GF=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},BM=Ol(ni(`${dv}/add`),{withTypes:()=>BM}),Fie=ni(`${dv}/removeAll`),CM=Ol(ni(`${dv}/remove`),{withTypes:()=>CM}),Uie=(...t)=>{console.error(`${dv}/error`,...t)},Sf=(t={})=>{const e=new Map,{extra:r,onError:n=Uie}=t;WE(n);const i=u=>(u.unsubscribe=()=>e.delete(u.id),e.set(u.id,u),c=>{u.unsubscribe(),c!=null&&c.cancelActive&&Rb(u)}),s=u=>{const c=$F(e,u)??bM(u);return i(c)};Ol(s,{withTypes:()=>s});const a=u=>{const c=$F(e,u);return c&&(c.unsubscribe(),u.cancelActive&&Rb(c)),!!c};Ol(a,{withTypes:()=>a});const o=async(u,c,f,g)=>{const m=new AbortController,p=Sie(s,m.signal),v=[];try{u.pending.add(m),await Promise.resolve(u.effect(c,Ol({},f,{getOriginalState:g,condition:(y,w)=>p(y,w).then(Boolean),take:p,delay:wM(m.signal),pause:up(m.signal),extra:r,signal:m.signal,fork:Iie(m.signal,v),unsubscribe:u.unsubscribe,subscribe:()=>{e.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((y,w,B)=>{y!==m&&(eA(y,jb),B.delete(y))})},cancel:()=>{eA(m,jb),u.pending.delete(m)},throwIfCancelled:()=>{tA(m.signal)}})))}catch(y){y instanceof cv||GF(n,y,{raisedBy:"effect"})}finally{await Promise.all(v),eA(m,Eie),u.pending.delete(m)}},A=Tie(e);return{middleware:u=>c=>f=>{if(!iM(f))return c(f);if(BM.match(f))return s(f.payload);if(Fie.match(f)){A();return}if(CM.match(f))return a(f.payload);let g=u.getState();const m=()=>{if(g===KF)throw new Error(Cn(23));return g};let p;try{if(p=c(f),e.size>0){const v=u.getState(),y=Array.from(e.values());for(const w of y){let B=!1;try{B=w.predicate(f,v,g)}catch(I){B=!1,GF(n,I,{raisedBy:"predicate"})}B&&o(w,f,u,m)}}}finally{g=KF}return p},startListening:s,stopListening:a,clearListeners:A}};function Cn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Pie={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},EM=Nn({name:"chartLayout",initialState:Pie,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:Nie,setLayout:Qie,setChartSize:kie,setScale:Oie}=EM.actions,Die=EM.reducer;function WF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WF(Object(r),!0).forEach(function(n){jie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jie(t,e,r){return(e=Rie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rie(t){var e=Mie(t,"string");return typeof e=="symbol"?e:e+""}function Mie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cp=Math.PI/180,Lie=t=>t*180/Math.PI,Kt=(t,e,r,n)=>({x:t+Math.cos(-cp*n)*r,y:e+Math.sin(-cp*n)*r}),_M=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Hie=(t,e)=>{var{x:r,y:n}=t,{x:i,y:s}=e;return Math.sqrt((r-i)**2+(n-s)**2)},Vie=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:s}=e,a=Hie({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(r-i)/a,A=Math.acos(o);return n>s&&(A=2*Math.PI-A),{radius:a,angle:Lie(A),angleInRadian:A}},Kie=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:e-s*360,endAngle:r-s*360}},$ie=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return t+a*360},Gie=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:s}=Vie({x:r,y:n},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:A,endAngle:l}=Kie(e),u=s,c;if(A<=l){for(;u>l;)u-=360;for(;u<A;)u+=360;c=u>=A&&u<=l}else{for(;u>A;)u-=360;for(;u<l;)u+=360;c=u>=l&&u<=A}return c?zF(zF({},e),{},{radius:i,angle:$ie(u,e)}):null};function IM(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function YF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YF(Object(r),!0).forEach(function(n){Wie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wie(t,e,r){return(e=zie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zie(t){var e=Yie(t,"string");return typeof e=="symbol"?e:e+""}function Yie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nt(t,e,r){return ft(t)||ft(e)?r:Hi(e)?qa(t,e,r):typeof e=="function"?e(t):r}var Xie=(t,e,r,n,i)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var A=0;A<o;A++){var l=A>0?r[A-1].coordinate:r[o-1].coordinate,u=r[A].coordinate,c=A>=o-1?r[0].coordinate:r[A+1].coordinate,f=void 0;if(or(u-l)!==or(c-u)){var g=[];if(or(c-u)===or(i[1]-i[0])){f=c;var m=u+i[1]-i[0];g[0]=Math.min(m,(m+l)/2),g[1]=Math.max(m,(m+l)/2)}else{f=l;var p=c+i[1]-i[0];g[0]=Math.min(u,(p+u)/2),g[1]=Math.max(u,(p+u)/2)}var v=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(t>v[0]&&t<=v[1]||t>=g[0]&&t<=g[1]){({index:a}=r[A]);break}}else{var y=Math.min(l,c),w=Math.max(l,c);if(t>(y+u)/2&&t<=(w+u)/2){({index:a}=r[A]);break}}}else if(e){for(var B=0;B<o;B++)if(B===0&&t<=(e[B].coordinate+e[B+1].coordinate)/2||B>0&&B<o-1&&t>(e[B].coordinate+e[B-1].coordinate)/2&&t<=(e[B].coordinate+e[B+1].coordinate)/2||B===o-1&&t>(e[B].coordinate+e[B-1].coordinate)/2){({index:a}=e[B]);break}}return a},qie=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&de(t[s]))return Vn(Vn({},t),{},{[s]:t[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&de(t[a]))return Vn(Vn({},t),{},{[a]:t[a]+(i||0)})}return t},uo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",SM=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var i,s,a=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===r&&(s=!0),o.coordinate));return i||a.push(e),s||a.push(r),a},TM=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:o,isCategorical:A,categoricalDomain:l,tickCount:u,ticks:c,niceTicks:f,axisType:g}=t;if(!a)return null;var m=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,p=i==="category"&&a.bandwidth?a.bandwidth()/m:0;if(p=g==="angleAxis"&&s&&s.length>=2?or(s[0]-s[1])*2*p:p,c||f){var v=(c||f||[]).map((y,w)=>{var B=n?n.indexOf(y):y;return{coordinate:a(B)+p,value:y,offset:p,index:w}});return v.filter(y=>!In(y.coordinate))}return A&&l?l.map((y,w)=>({coordinate:a(y)+p,value:y,index:w,offset:p})):a.ticks&&u!=null?a.ticks(u).map((y,w)=>({coordinate:a(y)+p,value:y,offset:p,index:w})):a.domain().map((y,w)=>({coordinate:a(y)+p,value:n?n[y]:y,index:w,offset:p}))},XF=1e-4,Jie=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-XF,s=Math.max(n[0],n[1])+XF,a=t(e[0]),o=t(e[r-1]);(a<i||a>s||o<i||o>s)&&t.domain([e[0],e[r-1]])}},Zie=(t,e)=>{if(!e||e.length!==2||!de(e[0])||!de(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!de(t[0])||t[0]<r)&&(i[0]=r),(!de(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},ese=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0,a=0;a<e;++a){var o=In(t[a][r][1])?t[a][r][0]:t[a][r][1];o>=0?(t[a][r][0]=i,t[a][r][1]=i+o,i=t[a][r][1]):(t[a][r][0]=s,t[a][r][1]=s+o,s=t[a][r][1])}},tse=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0;s<e;++s){var a=In(t[s][r][1])?t[s][r][0]:t[s][r][1];a>=0?(t[s][r][0]=i,t[s][r][1]=i+a,i=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},rse={sign:ese,expand:Mre,none:au,silhouette:Lre,wiggle:Hre,positive:tse},nse=(t,e,r)=>{var n=rse[r],i=Rre().keys(e).value((s,a)=>+nt(s,a,0)).order(Tb).offset(n);return i(t)};function ise(t){return t==null?void 0:String(t)}function qF(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ft(i[e.dataKey])){var o=aR(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var A=nt(i,ft(a)?e.dataKey:a);return ft(A)?null:e.scale(A)}var JF=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return r[a]?r[a].coordinate+n:null;var o=nt(s,e.dataKey,e.scale.domain()[a]);return ft(o)?null:e.scale(o)-i/2+n},sse=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},ase=t=>{var e=t.flat(2).filter(de);return[Math.min(...e),Math.max(...e)]},ose=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Ase=(t,e,r)=>{if(t!=null)return ose(Object.keys(t).reduce((n,i)=>{var s=t[i],{stackedData:a}=s,o=a.reduce((A,l)=>{var u=IM(l,e,r),c=ase(u);return[Math.min(A[0],c[0]),Math.max(A[1],c[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},ZF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xd=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=av(e,u=>u.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var A=i[a],l=i[a-1];s=Math.min((A.coordinate||0)-(l.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function tU(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:s}=t;return Vn(Vn({},e),{},{dataKey:r,payload:n,value:i,name:s})}function Su(t,e){if(t)return String(t);if(typeof e=="string")return e}function lse(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return n?Gie({x:t,y:e},n):null}var use=(t,e,r,n)=>{var i=e.find(l=>l&&l.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:a}=n;return Vn(Vn(Vn({},n),Kt(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:A}=n;return Vn(Vn(Vn({},n),Kt(n.cx,n.cy,o,A)),{},{angle:A,radius:o})}return{x:0,y:0}},cse=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Vs=t=>t.layout.width,Ks=t=>t.layout.height,dse=t=>t.layout.scale,FM=t=>t.layout.margin,zE=V(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),YE=V(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),UM="data-recharts-item-index",PM="data-recharts-item-data-key",fv=60;function rU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rU(Object(r),!0).forEach(function(n){fse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fse(t,e,r){return(e=hse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hse(t){var e=gse(t,"string");return typeof e=="symbol"?e:e+""}function gse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mse=t=>t.brush.height,Jt=V([Vs,Ks,FM,mse,zE,YE,eM,Dne],(t,e,r,n,i,s,a,o)=>{var A=s.reduce((m,p)=>{var{orientation:v}=p;if(!p.mirror&&!p.hide){var y=typeof p.width=="number"?p.width:fv;return na(na({},m),{},{[v]:m[v]+y})}return m},{left:r.left||0,right:r.right||0}),l=i.reduce((m,p)=>{var{orientation:v}=p;return!p.mirror&&!p.hide?na(na({},m),{},{[v]:qa(m,"".concat(v))+p.height}):m},{top:r.top||0,bottom:r.bottom||0}),u=na(na({},l),A),c=u.bottom;u.bottom+=n,u=qie(u,a,o);var f=t-u.left-u.right,g=e-u.top-u.bottom;return na(na({brushBottom:c},u),{},{width:Math.max(f,0),height:Math.max(g,0)})}),pse=V(Jt,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),NM=V(Vs,Ks,(t,e)=>({x:0,y:0,width:t,height:e})),vse=x.createContext(null),ln=()=>x.useContext(vse)!=null,hv=t=>t.brush,gv=V([hv,Jt,FM],(t,e,r)=>({height:t.height,x:de(t.x)?t.x:e.left,y:de(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:de(t.width)?t.width:e.width})),XE=()=>{var t,e=ln(),r=ve(pse),n=ve(gv),i=(t=ve(hv))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},yse={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},QM=()=>{var t;return(t=ve(Jt))!==null&&t!==void 0?t:yse},qE=()=>ve(Vs),JE=()=>ve(Ks),wse={top:0,right:0,bottom:0,left:0},xse=()=>{var t;return(t=ve(e=>e.layout.margin))!==null&&t!==void 0?t:wse},Le=t=>t.layout.layoutType,mv=()=>ve(Le),bse={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},kM=Nn({name:"legend",initialState:bse,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=bs(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:nU,setLegendSettings:Bse,addLegendPayload:OM,removeLegendPayload:DM}=kM.actions,Cse=kM.reducer,Ese=["contextPayload"];function Mb(){return Mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mb.apply(null,arguments)}function iU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iU(Object(r),!0).forEach(function(n){ZE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZE(t,e,r){return(e=_se(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _se(t){var e=Ise(t,"string");return typeof e=="symbol"?e:e+""}function Ise(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sse(t,e){if(t==null)return{};var r,n,i=Tse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Tse(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Fse(t){return t.value}function Use(t){var{contextPayload:e}=t,r=Sse(t,Ese),n=VR(e,t.payloadUniqBy,Fse),i=lu(lu({},r),{},{payload:n});return x.isValidElement(t.content)?x.cloneElement(t.content,i):typeof t.content=="function"?x.createElement(t.content,i):x.createElement(PE,i)}function Pse(t,e,r,n,i,s){var{layout:a,align:o,verticalAlign:A}=e,l,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&a==="vertical"?l={left:((n||0)-s.width)/2}:l=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(A==="middle"?u={top:((i||0)-s.height)/2}:u=A==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),lu(lu({},l),u)}function Nse(t){var e=Tt();return x.useEffect(()=>{e(Bse(t))},[e,t]),null}function Qse(t){var e=Tt();return x.useEffect(()=>(e(nU(t)),()=>{e(nU({width:0,height:0}))}),[e,t]),null}function kse(t){var e=Mne(),r=lre(),n=xse(),{width:i,height:s,wrapperStyle:a,portal:o}=t,[A,l]=tM([e]),u=qE(),c=JE(),f=u-(n.left||0)-(n.right||0),g=Ja.getWidthOrHeight(t.layout,s,i,f),m=o?a:lu(lu({position:"absolute",width:(g==null?void 0:g.width)||i||"auto",height:(g==null?void 0:g.height)||s||"auto"},Pse(a,t,n,u,c,A)),a),p=o??r;if(p==null)return null;var v=x.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:l},x.createElement(Nse,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),x.createElement(Qse,{width:A.width,height:A.height}),x.createElement(Use,Mb({},t,g,{margin:n,chartWidth:u,chartHeight:c,contextPayload:e})));return dC.createPortal(v,p)}class Ja extends x.PureComponent{static getWidthOrHeight(e,r,n,i){return e==="vertical"&&de(r)?{height:r}:e==="horizontal"?{width:n||i}:null}render(){return x.createElement(kse,this.props)}}ZE(Ja,"displayName","Legend");ZE(Ja,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Lb(){return Lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lb.apply(null,arguments)}function sU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sU(Object(r),!0).forEach(function(n){Ose(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ose(t,e,r){return(e=Dse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dse(t){var e=jse(t,"string");return typeof e=="symbol"?e:e+""}function jse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rse(t){return Array.isArray(t)&&Hi(t[0])&&Hi(t[1])?t.join(" ~ "):t}var Mse=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:A,labelClassName:l,label:u,labelFormatter:c,accessibilityLayer:f=!1}=t,g=()=>{if(s&&s.length){var T={padding:0,margin:0},F=(o?av(s,o):s).map((C,_)=>{if(C.type==="none")return null;var S=C.formatter||a||Rse,{value:P,name:Q}=C,k=P,N=Q;{var se=S(P,Q,C,_,s);if(Array.isArray(se))[k,N]=se;else if(se!=null)k=se;else return null}var be=cw({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:be},Hi(N)?x.createElement("span",{className:"recharts-tooltip-item-name"},N):null,Hi(N)?x.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,x.createElement("span",{className:"recharts-tooltip-item-value"},k),x.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:T},F)}return null},m=cw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),p=cw({margin:0},i),v=!ft(u),y=v?u:"",w=Ke("recharts-default-tooltip",A),B=Ke("recharts-tooltip-label",l);v&&c&&s!==void 0&&s!==null&&(y=c(u,s));var I=f?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Lb({className:w,style:m},I),x.createElement("p",{className:B,style:p},x.isValidElement(y)?y:"".concat(y)),g())},hc="recharts-tooltip-wrapper",Lse={visibility:"hidden"};function Hse(t){var{coordinate:e,translateX:r,translateY:n}=t;return Ke(hc,{["".concat(hc,"-right")]:de(r)&&e&&de(e.x)&&r>=e.x,["".concat(hc,"-left")]:de(r)&&e&&de(e.x)&&r<e.x,["".concat(hc,"-bottom")]:de(n)&&e&&de(e.y)&&n>=e.y,["".concat(hc,"-top")]:de(n)&&e&&de(e.y)&&n<e.y})}function aU(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:A,viewBoxDimension:l}=t;if(s&&de(s[n]))return s[n];var u=r[n]-o-(i>0?i:0),c=r[n]+i;if(e[n])return a[n]?u:c;var f=A[n];if(f==null)return 0;if(a[n]){var g=u,m=f;return g<m?Math.max(c,f):Math.max(u,f)}if(l==null)return 0;var p=c+o,v=f+l;return p>v?Math.max(u,f):Math.max(c,f)}function Vse(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Kse(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:A}=t,l,u,c;return a.height>0&&a.width>0&&r?(u=aU({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:A,viewBoxDimension:A.width}),c=aU({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:A,viewBoxDimension:A.height}),l=Vse({translateX:u,translateY:c,useTranslate3d:o})):l=Lse,{cssProperties:l,cssClasses:Hse({translateX:u,translateY:c,coordinate:r})}}function oU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function og(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oU(Object(r),!0).forEach(function(n){Hb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hb(t,e,r){return(e=$se(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $se(t){var e=Gse(t,"string");return typeof e=="symbol"?e:e+""}function Gse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Wse extends x.PureComponent{constructor(){super(...arguments),Hb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Hb(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:A,offset:l,position:u,reverseDirection:c,useTranslate3d:f,viewBox:g,wrapperStyle:m,lastBoundingBox:p,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:w,cssProperties:B}=Kse({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:l,position:u,reverseDirection:c,tooltipBox:{height:p.height,width:p.width},useTranslate3d:f,viewBox:g}),I=y?{}:og(og({transition:A&&e?"transform ".concat(n,"ms ").concat(i):void 0},B),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),T=og(og({},I),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},m);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:T,ref:v},s)}}var zse=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),TA={isSsr:zse()},jM=()=>ve(t=>t.rootProps.accessibilityLayer);function Fn(t){return Number.isFinite(t)}function uu(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vb.apply(null,arguments)}function AU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AU(Object(r),!0).forEach(function(n){Yse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yse(t,e,r){return(e=Xse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xse(t){var e=qse(t,"string");return typeof e=="symbol"?e:e+""}function qse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uU={curveBasisClosed:Sre,curveBasisOpen:Tre,curveBasis:Ire,curveBumpX:fre,curveBumpY:hre,curveLinearClosed:Fre,curveLinear:Z0,curveMonotoneX:Ure,curveMonotoneY:Pre,curveNatural:Nre,curveStep:Qre,curveStepAfter:Ore,curveStepBefore:kre},Ag=t=>Fn(t.x)&&Fn(t.y),gc=t=>t.x,mc=t=>t.y,Jse=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(Ef(t));return(r==="curveMonotone"||r==="curveBump")&&e?uU["".concat(r).concat(e==="vertical"?"Y":"X")]:uU[r]||Z0},Zse=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=t,a=Jse(e,i),o=s?r.filter(Ag):r,A;if(Array.isArray(n)){var l=s?n.filter(c=>Ag(c)):n,u=o.map((c,f)=>lU(lU({},c),{},{base:l[f]}));return i==="vertical"?A=rg().y(mc).x1(gc).x0(c=>c.base.x):A=rg().x(gc).y1(mc).y0(c=>c.base.y),A.defined(Ag).curve(a),A(u)}return i==="vertical"&&de(n)?A=rg().y(mc).x1(gc).x0(n):de(n)?A=rg().x(gc).y1(mc).y0(n):A=mR().x(gc).y(mc),A.defined(Ag).curve(a),A(o)},e1=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var s=r&&r.length?Zse(t):n;return x.createElement("path",Vb({},Hs(t),EE(t),{className:Ke("recharts-curve",e),d:s===null?void 0:s,ref:i}))},eae=["x","y","top","left","width","height","className"];function Kb(){return Kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kb.apply(null,arguments)}function cU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cU(Object(r),!0).forEach(function(n){rae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rae(t,e,r){return(e=nae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nae(t){var e=iae(t,"string");return typeof e=="symbol"?e:e+""}function iae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sae(t,e){if(t==null)return{};var r,n,i=aae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function aae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var oae=(t,e,r,n,i,s)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(r),Aae=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:o}=t,A=sae(t,eae),l=tae({x:e,y:r,top:n,left:i,width:s,height:a},A);return!de(e)||!de(r)||!de(s)||!de(a)||!de(n)||!de(i)?null:x.createElement("path",Kb({},yt(l,!0),{className:Ke("recharts-cross",o),d:oae(e,r,s,a,n,i)}))};function lae(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function dU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dU(Object(r),!0).forEach(function(n){cae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cae(t,e,r){return(e=dae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dae(t){var e=fae(t,"string");return typeof e=="symbol"?e:e+""}function fae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qn(t,e){var r=uae({},t),n=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&n[o]!==void 0&&(a[o]=n[o]),a),r);return s}var RM={},MM={},LM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}t.isPlainObject=e})(LM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LM,r=jE,n=nv,i=iv,s=rv;function a(l,u,c){return o(l,u,void 0,void 0,void 0,void 0,c)}function o(l,u,c,f,g,m,p){const v=p(l,u,c,f,g,m);if(v!==void 0)return v;if(typeof l==typeof u)switch(typeof l){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return l===u;case"number":return l===u||Object.is(l,u);case"function":return l===u;case"object":return A(l,u,m,p)}return A(l,u,m,p)}function A(l,u,c,f){if(Object.is(l,u))return!0;let g=n.getTag(l),m=n.getTag(u);if(g===i.argumentsTag&&(g=i.objectTag),m===i.argumentsTag&&(m=i.objectTag),g!==m)return!1;switch(g){case i.stringTag:return l.toString()===u.toString();case i.numberTag:{const y=l.valueOf(),w=u.valueOf();return s.eq(y,w)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(l.valueOf(),u.valueOf());case i.regexpTag:return l.source===u.source&&l.flags===u.flags;case i.functionTag:return l===u}c=c??new Map;const p=c.get(l),v=c.get(u);if(p!=null&&v!=null)return p===u;c.set(l,u),c.set(u,l);try{switch(g){case i.mapTag:{if(l.size!==u.size)return!1;for(const[y,w]of l.entries())if(!u.has(y)||!o(w,u.get(y),y,l,u,c,f))return!1;return!0}case i.setTag:{if(l.size!==u.size)return!1;const y=Array.from(l.values()),w=Array.from(u.values());for(let B=0;B<y.length;B++){const I=y[B],T=w.findIndex(F=>o(I,F,void 0,l,u,c,f));if(T===-1)return!1;w.splice(T,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(l)!==Buffer.isBuffer(u)||l.length!==u.length)return!1;for(let y=0;y<l.length;y++)if(!o(l[y],u[y],y,l,u,c,f))return!1;return!0}case i.arrayBufferTag:return l.byteLength!==u.byteLength?!1:A(new Uint8Array(l),new Uint8Array(u),c,f);case i.dataViewTag:return l.byteLength!==u.byteLength||l.byteOffset!==u.byteOffset?!1:A(new Uint8Array(l),new Uint8Array(u),c,f);case i.errorTag:return l.name===u.name&&l.message===u.message;case i.objectTag:{if(!(A(l.constructor,u.constructor,c,f)||e.isPlainObject(l)&&e.isPlainObject(u)))return!1;const w=[...Object.keys(l),...r.getSymbols(l)],B=[...Object.keys(u),...r.getSymbols(u)];if(w.length!==B.length)return!1;for(let I=0;I<w.length;I++){const T=w[I],F=l[T];if(!Object.hasOwn(u,T))return!1;const C=u[T];if(!o(F,C,T,l,u,c,f))return!1}return!0}default:return!1}}finally{c.delete(l),c.delete(u)}}t.isEqualWith=a})(MM);var HM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(HM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MM,r=HM;function n(i,s){return e.isEqualWith(i,s,r.noop)}t.isEqual=n})(RM);var hae=RM.isEqual;const gae=Ki(hae);var dp=1e-4,VM=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],KM=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),fU=(t,e)=>r=>{var n=VM(t,e);return KM(n,r)},mae=(t,e)=>r=>{var n=VM(t,e),i=[...n.map((s,a)=>s*a).slice(1),0];return KM(i,r)},hU=function(){for(var e,r,n,i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var A=a[0].split("(");A[0]==="cubic-bezier"&&A[1].split(")")[0].split(",").length===4&&([e,n,r,i]=A[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else a.length===4&&([e,n,r,i]=a);var l=fU(e,r),u=fU(n,i),c=mae(e,r),f=m=>m>1?1:m<0?0:m,g=m=>{for(var p=m>1?1:m,v=p,y=0;y<8;++y){var w=l(v)-p,B=c(v);if(Math.abs(w-p)<dp||B<dp)return u(v);v=f(v-w/B)}return u(v)};return g.isStepper=!1,g},pae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,s=(a,o,A)=>{var l=-(a-o)*r,u=A*n,c=A+(l-u)*i/1e3,f=A*i/1e3+a;return Math.abs(f-o)<dp&&Math.abs(c)<dp?[o,0]:[f,c]};return s.isStepper=!0,s.dt=i,s},$M=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hU(t);case"spring":return pae();default:if(t.split("(")[0]==="cubic-bezier")return hU(t)}return typeof t=="function"?t:null};function gU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gU(Object(r),!0).forEach(function(n){vae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vae(t,e,r){return(e=yae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yae(t){var e=wae(t,"string");return typeof e=="symbol"?e:e+""}function wae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xae=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),bae=(t,e,r)=>t.map(n=>"".concat(xae(n)," ").concat(e,"ms ").concat(r)).join(","),Bae=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),qd=(t,e)=>Object.keys(e).reduce((r,n)=>mU(mU({},r),{},{[n]:t(n,e[n])}),{});function pU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pU(Object(r),!0).forEach(function(n){Cae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cae(t,e,r){return(e=Eae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eae(t){var e=_ae(t,"string");return typeof e=="symbol"?e:e+""}function _ae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fp=(t,e,r)=>t+(e-t)*r,$b=t=>{var{from:e,to:r}=t;return e!==r},GM=(t,e,r)=>{var n=qd((i,s)=>{if($b(s)){var[a,o]=t(s.from,s.to,s.velocity);return yr(yr({},s),{},{from:a,velocity:o})}return s},e);return r<1?qd((i,s)=>$b(s)?yr(yr({},s),{},{velocity:fp(s.velocity,n[i].velocity,r),from:fp(s.from,n[i].from,r)}):s,e):GM(t,n,r-1)};function Iae(t,e,r,n,i,s){var a,o=n.reduce((f,g)=>yr(yr({},f),{},{[g]:{from:t[g],velocity:0,to:e[g]}}),{}),A=()=>qd((f,g)=>g.from,o),l=()=>!Object.values(o).filter($b).length,u=null,c=f=>{a||(a=f);var g=f-a,m=g/r.dt;o=GM(r,o,m),i(yr(yr(yr({},t),e),A())),a=f,l()||(u=s.setTimeout(c))};return()=>(u=s.setTimeout(c),()=>{u()})}function Sae(t,e,r,n,i,s,a){var o=null,A=i.reduce((c,f)=>yr(yr({},c),{},{[f]:[t[f],e[f]]}),{}),l,u=c=>{l||(l=c);var f=(c-l)/n,g=qd((p,v)=>fp(...v,r(f)),A);if(s(yr(yr(yr({},t),e),g)),f<1)o=a.setTimeout(u);else{var m=qd((p,v)=>fp(...v,r(1)),A);s(yr(yr(yr({},t),e),m))}};return()=>(o=a.setTimeout(u),()=>{o()})}const WM=(t,e,r,n,i,s)=>{var a=Bae(t,e);return r.isStepper===!0?Iae(t,e,r,a,i,s):Sae(t,e,r,n,a,i,s)};function Tae(t){var e,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[A,...l]=o;if(typeof A=="number"){i=t.setTimeout(s.bind(null,l),A);return}s(A),i=t.setTimeout(s.bind(null,l));return}typeof a=="string"&&(e=a,r(e)),typeof a=="object"&&(e=a,r(e)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>t}}class Fae{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function Uae(){return Tae(new Fae)}var Pae=x.createContext(Uae);function zM(t,e){var r=x.useContext(Pae);return x.useMemo(()=>e??r(t),[t,e,r])}var Nae=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gb.apply(null,arguments)}function Qae(t,e){if(t==null)return{};var r,n,i=kae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function kae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function vU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ia(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vU(Object(r),!0).forEach(function(n){Vo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vo(t,e,r){return(e=Oae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oae(t){var e=Dae(t,"string");return typeof e=="symbol"?e:e+""}function Dae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class t1 extends x.PureComponent{constructor(e,r){super(e,r),Vo(this,"mounted",!1),Vo(this,"manager",void 0),Vo(this,"stopJSAnimation",null),Vo(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:s,to:a,children:o,duration:A,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||A<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:a});return}if(s){if(typeof o=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:r}=this.props;this.mounted=!0,!(!e||!r)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:s,to:a,from:o}=this.props,{style:A}=this.state;if(n){if(!r){var l={style:i?{[i]:a}:a};this.state&&A&&(i&&A[i]!==a||!i&&A!==a)&&this.setState(l);return}if(!(gae(e.to,a)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=u||s?o:e.to;if(this.state&&A){var f={style:i?{[i]:c}:c};(i&&A[i]!==c||!i&&A!==c)&&this.setState(f)}this.runAnimation(ia(ia({},this.props),{},{from:c,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:r,to:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:A}=e,l=WM(r,n,$M(s),i,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=l()};this.manager.start([A,a,u,i,o])}runAnimation(e){var{begin:r,duration:n,attributeName:i,to:s,easing:a,onAnimationStart:o,onAnimationEnd:A,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof l=="function"||a==="spring"){this.runJSAnimation(e);return}var u=i?{[i]:s}:s,c=bae(Object.keys(u),n,a);this.manager.start([o,r,ia(ia({},u),{},{transition:c}),n,A])}render(){var e=this.props,{children:r,begin:n,duration:i,attributeName:s,easing:a,isActive:o,from:A,to:l,canBegin:u,onAnimationEnd:c,shouldReAnimate:f,onAnimationReStart:g,animationManager:m}=e,p=Qae(e,Nae),v=x.Children.count(r),y=this.state.style;if(typeof r=="function")return r(y);if(!o||v===0||i<=0)return r;var w=B=>{var{style:I={},className:T}=B.props,F=x.cloneElement(B,ia(ia({},p),{},{style:ia(ia({},I),y),className:T}));return F};return v===1?w(x.Children.only(r)):x.createElement("div",null,x.Children.map(r,B=>w(B)))}}Vo(t1,"displayName","Animate");Vo(t1,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function hp(t){var e,r=zM((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return x.createElement(t1,Gb({},t,{animationManager:r}))}function gp(){return gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gp.apply(null,arguments)}var yU=(t,e,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,o=r>=0?1:-1,A=n>=0&&r>=0||n<0&&r<0?1:0,l;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],c=0,f=4;c<f;c++)u[c]=i[c]>s?s:i[c];l="M".concat(t,",").concat(e+a*u[0]),u[0]>0&&(l+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(A,",").concat(t+o*u[0],",").concat(e)),l+="L ".concat(t+r-o*u[1],",").concat(e),u[1]>0&&(l+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(A,`,
        `).concat(t+r,",").concat(e+a*u[1])),l+="L ".concat(t+r,",").concat(e+n-a*u[2]),u[2]>0&&(l+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(A,`,
        `).concat(t+r-o*u[2],",").concat(e+n)),l+="L ".concat(t+o*u[3],",").concat(e+n),u[3]>0&&(l+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(A,`,
        `).concat(t,",").concat(e+n-a*u[3])),l+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);l="M ".concat(t,",").concat(e+a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+o*g,",").concat(e,`
            L `).concat(t+r-o*g,",").concat(e,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+r,",").concat(e+a*g,`
            L `).concat(t+r,",").concat(e+n-a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+r-o*g,",").concat(e+n,`
            L `).concat(t+o*g,",").concat(e+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t,",").concat(e+n-a*g," Z")}else l="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return l},jae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YM=t=>{var e=Qn(t,jae),r=x.useRef(null),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&i(y)}catch{}},[]);var{x:s,y:a,width:o,height:A,radius:l,className:u}=e,{animationEasing:c,animationDuration:f,animationBegin:g,isAnimationActive:m,isUpdateAnimationActive:p}=e;if(s!==+s||a!==+a||o!==+o||A!==+A||o===0||A===0)return null;var v=Ke("recharts-rectangle",u);return p?x.createElement(hp,{canBegin:n>0,from:{width:o,height:A,x:s,y:a},to:{width:o,height:A,x:s,y:a},duration:f,animationEasing:c,isActive:p},y=>{var{width:w,height:B,x:I,y:T}=y;return x.createElement(hp,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,isActive:m,easing:c},x.createElement("path",gp({},yt(e,!0),{className:v,d:yU(I,T,w,B,l),ref:r})))}):x.createElement("path",gp({},yt(e,!0),{className:v,d:yU(s,a,o,A,l)}))};function XM(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:s}=t,a=Kt(e,r,n,i),o=Kt(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function Wb(){return Wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wb.apply(null,arguments)}var Rae=(t,e)=>{var r=or(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},lg=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:A}=t,l=o*(a?1:-1)+n,u=Math.asin(o/l)/cp,c=A?i:i+s*u,f=Kt(e,r,l,c),g=Kt(e,r,n,c),m=A?i-s*u:i,p=Kt(e,r,l*Math.cos(u*cp),m);return{center:f,circleTangency:g,lineTangency:p,theta:u}},qM=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=t,o=Rae(s,a),A=s+o,l=Kt(e,r,i,s),u=Kt(e,r,i,A),c="M ".concat(l.x,",").concat(l.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>A),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var f=Kt(e,r,n,s),g=Kt(e,r,n,A);c+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=A),`,
            `).concat(f.x,",").concat(f.y," Z")}else c+="L ".concat(e,",").concat(r," Z");return c},Mae=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:A,endAngle:l}=t,u=or(l-A),{circleTangency:c,lineTangency:f,theta:g}=lg({cx:e,cy:r,radius:i,angle:A,sign:u,cornerRadius:s,cornerIsExternal:o}),{circleTangency:m,lineTangency:p,theta:v}=lg({cx:e,cy:r,radius:i,angle:l,sign:-u,cornerRadius:s,cornerIsExternal:o}),y=o?Math.abs(A-l):Math.abs(A-l)-g-v;if(y<0)return a?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):qM({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:A,endAngle:l});var w="M ".concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(c.x,",").concat(c.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
  `);if(n>0){var{circleTangency:B,lineTangency:I,theta:T}=lg({cx:e,cy:r,radius:n,angle:A,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:F,lineTangency:C,theta:_}=lg({cx:e,cy:r,radius:n,angle:l,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),S=o?Math.abs(A-l):Math.abs(A-l)-T-_;if(S<0&&s===0)return"".concat(w,"L").concat(e,",").concat(r,"Z");w+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(S>180),",").concat(+(u>0),",").concat(B.x,",").concat(B.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(I.x,",").concat(I.y,"Z")}else w+="L".concat(e,",").concat(r,"Z");return w},Lae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JM=t=>{var e=Qn(t,Lae),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:A,startAngle:l,endAngle:u,className:c}=e;if(s<i||l===u)return null;var f=Ke("recharts-sector",c),g=s-i,m=zr(a,g,0,!0),p;return m>0&&Math.abs(l-u)<360?p=Mae({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:o,cornerIsExternal:A,startAngle:l,endAngle:u}):p=qM({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:l,endAngle:u}),x.createElement("path",Wb({},yt(e,!0),{className:f,d:p}))};function Hae(t,e,r){var n,i,s,a;if(t==="horizontal")n=e.x,s=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:o,cy:A,innerRadius:l,outerRadius:u,angle:c}=e,f=Kt(o,A,l,c),g=Kt(o,A,u,c);n=f.x,i=f.y,s=g.x,a=g.y}else return XM(e);return[{x:n,y:i},{x:s,y:a}]}var ZM={},eL={},tL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LE;function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(tL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tL;function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(eL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HE,r=eL;function n(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),A=new Array(o);for(let l=0;l<o;l++)A[l]=i,i+=a;return A}t.range=n})(ZM);var Vae=ZM.range;const rL=Ki(Vae);function ja(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function r1(t){let e,r,n;t.length!==2?(e=ja,r=(o,A)=>ja(t(o),A),n=(o,A)=>t(o)-A):(e=t===ja||t===Kae?t:$ae,r=t,n=t);function i(o,A,l=0,u=o.length){if(l<u){if(e(A,A)!==0)return u;do{const c=l+u>>>1;r(o[c],A)<0?l=c+1:u=c}while(l<u)}return l}function s(o,A,l=0,u=o.length){if(l<u){if(e(A,A)!==0)return u;do{const c=l+u>>>1;r(o[c],A)<=0?l=c+1:u=c}while(l<u)}return l}function a(o,A,l=0,u=o.length){const c=i(o,A,l,u-1);return c>l&&n(o[c-1],A)>-n(o[c],A)?c-1:c}return{left:i,center:a,right:s}}function $ae(){return 0}function nL(t){return t===null?NaN:+t}function*Gae(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Wae=r1(ja),Tf=Wae.right;r1(nL).center;class wU extends Map{constructor(e,r=Xae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(xU(this,e))}has(e){return super.has(xU(this,e))}set(e,r){return super.set(zae(this,e),r)}delete(e){return super.delete(Yae(this,e))}}function xU({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function zae({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Yae({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Xae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function qae(t=ja){if(t===ja)return iL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function iL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Jae=Math.sqrt(50),Zae=Math.sqrt(10),eoe=Math.sqrt(2);function mp(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=Jae?10:s>=Zae?5:s>=eoe?2:1;let o,A,l;return i<0?(l=Math.pow(10,-i)/a,o=Math.round(t*l),A=Math.round(e*l),o/l<t&&++o,A/l>e&&--A,l=-l):(l=Math.pow(10,i)*a,o=Math.round(t/l),A=Math.round(e/l),o*l<t&&++o,A*l>e&&--A),A<o&&.5<=r&&r<2?mp(t,e,r*2):[o,A,l]}function zb(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?mp(e,t,r):mp(t,e,r);if(!(s>=i))return[];const o=s-i+1,A=new Array(o);if(n)if(a<0)for(let l=0;l<o;++l)A[l]=(s-l)/-a;else for(let l=0;l<o;++l)A[l]=(s-l)*a;else if(a<0)for(let l=0;l<o;++l)A[l]=(i+l)/-a;else for(let l=0;l<o;++l)A[l]=(i+l)*a;return A}function Yb(t,e,r){return e=+e,t=+t,r=+r,mp(t,e,r)[2]}function Xb(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Yb(e,t,r):Yb(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function bU(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function BU(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function sL(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?iL:qae(i);n>r;){if(n-r>600){const A=n-r+1,l=e-r+1,u=Math.log(A),c=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*c*(A-c)/A)*(l-A/2<0?-1:1),g=Math.max(r,Math.floor(e-l*c/A+f)),m=Math.min(n,Math.floor(e+(A-l)*c/A+f));sL(t,e,g,m,i)}const s=t[e];let a=r,o=n;for(pc(t,r,e),i(t[n],s)>0&&pc(t,r,n);a<o;){for(pc(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?pc(t,r,o):(++o,pc(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function pc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function toe(t,e,r){if(t=Float64Array.from(Gae(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return BU(t);if(e>=1)return bU(t);var n,i=(n-1)*e,s=Math.floor(i),a=bU(sL(t,s).subarray(0,s+1)),o=BU(t.subarray(s+1));return a+(o-a)*(i-s)}}function roe(t,e,r=nL){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function noe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function ai(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function $s(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const qb=Symbol("implicit");function n1(){var t=new wU,e=[],r=[],n=qb;function i(s){let a=t.get(s);if(a===void 0){if(n!==qb)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new wU;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return n1(e,r).unknown(n)},ai.apply(i,arguments),i}function i1(){var t=n1().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,A=0,l=0,u=.5;delete t.unknown;function c(){var f=e().length,g=i<n,m=g?i:n,p=g?n:i;s=(p-m)/Math.max(1,f-A+l*2),o&&(s=Math.floor(s)),m+=(p-m-s*(f-A))*u,a=s*(1-A),o&&(m=Math.round(m),a=Math.round(a));var v=noe(f).map(function(y){return m+s*y});return r(g?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),c()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,c()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,o=!0,c()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(o=!!f,c()):o},t.padding=function(f){return arguments.length?(A=Math.min(1,l=+f),c()):A},t.paddingInner=function(f){return arguments.length?(A=Math.min(1,f),c()):A},t.paddingOuter=function(f){return arguments.length?(l=+f,c()):l},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},t.copy=function(){return i1(e(),[n,i]).round(o).paddingInner(A).paddingOuter(l).align(u)},ai.apply(c(),arguments)}function aL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return aL(e())},t}function ioe(){return aL(i1.apply(null,arguments).paddingInner(1))}function s1(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function oL(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ff(){}var Jd=.7,pp=1/Jd,Dl="\\s*([+-]?\\d+)\\s*",Zd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",soe=/^#([0-9a-f]{3,8})$/,aoe=new RegExp(`^rgb\\(${Dl},${Dl},${Dl}\\)$`),ooe=new RegExp(`^rgb\\(${Mi},${Mi},${Mi}\\)$`),Aoe=new RegExp(`^rgba\\(${Dl},${Dl},${Dl},${Zd}\\)$`),loe=new RegExp(`^rgba\\(${Mi},${Mi},${Mi},${Zd}\\)$`),uoe=new RegExp(`^hsl\\(${Zd},${Mi},${Mi}\\)$`),coe=new RegExp(`^hsla\\(${Zd},${Mi},${Mi},${Zd}\\)$`),CU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};s1(Ff,ef,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:EU,formatHex:EU,formatHex8:doe,formatHsl:foe,formatRgb:_U,toString:_U});function EU(){return this.rgb().formatHex()}function doe(){return this.rgb().formatHex8()}function foe(){return AL(this).formatHsl()}function _U(){return this.rgb().formatRgb()}function ef(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=soe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?IU(e):r===3?new nn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ug(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ug(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=aoe.exec(t))?new nn(e[1],e[2],e[3],1):(e=ooe.exec(t))?new nn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Aoe.exec(t))?ug(e[1],e[2],e[3],e[4]):(e=loe.exec(t))?ug(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=uoe.exec(t))?FU(e[1],e[2]/100,e[3]/100,1):(e=coe.exec(t))?FU(e[1],e[2]/100,e[3]/100,e[4]):CU.hasOwnProperty(t)?IU(CU[t]):t==="transparent"?new nn(NaN,NaN,NaN,0):null}function IU(t){return new nn(t>>16&255,t>>8&255,t&255,1)}function ug(t,e,r,n){return n<=0&&(t=e=r=NaN),new nn(t,e,r,n)}function hoe(t){return t instanceof Ff||(t=ef(t)),t?(t=t.rgb(),new nn(t.r,t.g,t.b,t.opacity)):new nn}function Jb(t,e,r,n){return arguments.length===1?hoe(t):new nn(t,e,r,n??1)}function nn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}s1(nn,Jb,oL(Ff,{brighter(t){return t=t==null?pp:Math.pow(pp,t),new nn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jd:Math.pow(Jd,t),new nn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new nn(rA(this.r),rA(this.g),rA(this.b),vp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SU,formatHex:SU,formatHex8:goe,formatRgb:TU,toString:TU}));function SU(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}`}function goe(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}${Ko((isNaN(this.opacity)?1:this.opacity)*255)}`}function TU(){const t=vp(this.opacity);return`${t===1?"rgb(":"rgba("}${rA(this.r)}, ${rA(this.g)}, ${rA(this.b)}${t===1?")":`, ${t})`}`}function vp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rA(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ko(t){return t=rA(t),(t<16?"0":"")+t.toString(16)}function FU(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new vi(t,e,r,n)}function AL(t){if(t instanceof vi)return new vi(t.h,t.s,t.l,t.opacity);if(t instanceof Ff||(t=ef(t)),!t)return new vi;if(t instanceof vi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,A=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=A<.5?s+i:2-s-i,a*=60):o=A>0&&A<1?0:a,new vi(a,o,A,t.opacity)}function moe(t,e,r,n){return arguments.length===1?AL(t):new vi(t,e,r,n??1)}function vi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}s1(vi,moe,oL(Ff,{brighter(t){return t=t==null?pp:Math.pow(pp,t),new vi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jd:Math.pow(Jd,t),new vi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new nn(dw(t>=240?t-240:t+120,i,n),dw(t,i,n),dw(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new vi(UU(this.h),cg(this.s),cg(this.l),vp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=vp(this.opacity);return`${t===1?"hsl(":"hsla("}${UU(this.h)}, ${cg(this.s)*100}%, ${cg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function UU(t){return t=(t||0)%360,t<0?t+360:t}function cg(t){return Math.max(0,Math.min(1,t||0))}function dw(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const a1=t=>()=>t;function poe(t,e){return function(r){return t+r*e}}function voe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function yoe(t){return(t=+t)==1?lL:function(e,r){return r-e?voe(e,r,t):a1(isNaN(e)?r:e)}}function lL(t,e){var r=e-t;return r?poe(t,r):a1(isNaN(t)?e:t)}const PU=function t(e){var r=yoe(e);function n(i,s){var a=r((i=Jb(i)).r,(s=Jb(s)).r),o=r(i.g,s.g),A=r(i.b,s.b),l=lL(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=A(u),i.opacity=l(u),i+""}}return n.gamma=t,n}(1);function woe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function xoe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function boe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Tu(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function Boe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function yp(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Coe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Tu(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Zb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fw=new RegExp(Zb.source,"g");function Eoe(t){return function(){return t}}function _oe(t){return function(e){return t(e)+""}}function Ioe(t,e){var r=Zb.lastIndex=fw.lastIndex=0,n,i,s,a=-1,o=[],A=[];for(t=t+"",e=e+"";(n=Zb.exec(t))&&(i=fw.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,A.push({i:a,x:yp(n,i)})),r=fw.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?A[0]?_oe(A[0].x):Eoe(e):(e=A.length,function(l){for(var u=0,c;u<e;++u)o[(c=A[u]).i]=c.x(l);return o.join("")})}function Tu(t,e){var r=typeof e,n;return e==null||r==="boolean"?a1(e):(r==="number"?yp:r==="string"?(n=ef(e))?(e=n,PU):Ioe:e instanceof ef?PU:e instanceof Date?Boe:xoe(e)?woe:Array.isArray(e)?boe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Coe:yp)(t,e)}function o1(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Soe(t,e){e===void 0&&(e=t,t=Tu);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function Toe(t){return function(){return t}}function wp(t){return+t}var NU=[0,1];function Vr(t){return t}function eB(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Toe(isNaN(e)?NaN:.5)}function Foe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Uoe(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=eB(i,n),s=r(a,s)):(n=eB(n,i),s=r(s,a)),function(o){return s(n(o))}}function Poe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=eB(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var A=Tf(t,o,1,n)-1;return s[A](i[A](o))}}function Uf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pv(){var t=NU,e=NU,r=Tu,n,i,s,a=Vr,o,A,l;function u(){var f=Math.min(t.length,e.length);return a!==Vr&&(a=Foe(t[0],t[f-1])),o=f>2?Poe:Uoe,A=l=null,c}function c(f){return f==null||isNaN(f=+f)?s:(A||(A=o(t.map(n),e,r)))(n(a(f)))}return c.invert=function(f){return a(i((l||(l=o(e,t.map(n),yp)))(f)))},c.domain=function(f){return arguments.length?(t=Array.from(f,wp),u()):t.slice()},c.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},c.rangeRound=function(f){return e=Array.from(f),r=o1,u()},c.clamp=function(f){return arguments.length?(a=f?!0:Vr,u()):a!==Vr},c.interpolate=function(f){return arguments.length?(r=f,u()):r},c.unknown=function(f){return arguments.length?(s=f,c):s},function(f,g){return n=f,i=g,u()}}function A1(){return pv()(Vr,Vr)}function Noe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xp(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function cu(t){return t=xp(Math.abs(t)),t?t[1]:NaN}function Qoe(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],A=0;i>0&&o>0&&(A+o+1>n&&(o=Math.max(1,n-A)),s.push(r.substring(i-=o,i+o)),!((A+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function koe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Ooe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tf(t){if(!(e=Ooe.exec(t)))throw new Error("invalid format: "+t);var e;return new l1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}tf.prototype=l1.prototype;function l1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}l1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Doe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var uL;function joe(t,e){var r=xp(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(uL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+xp(t,Math.max(0,e+s-1))[0]}function QU(t,e){var r=xp(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const kU={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Noe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>QU(t*100,e),r:QU,s:joe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function OU(t){return t}var DU=Array.prototype.map,jU=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Roe(t){var e=t.grouping===void 0||t.thousands===void 0?OU:Qoe(DU.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?OU:koe(DU.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",A=t.nan===void 0?"NaN":t.nan+"";function l(c){c=tf(c);var f=c.fill,g=c.align,m=c.sign,p=c.symbol,v=c.zero,y=c.width,w=c.comma,B=c.precision,I=c.trim,T=c.type;T==="n"?(w=!0,T="g"):kU[T]||(B===void 0&&(B=12),I=!0,T="g"),(v||f==="0"&&g==="=")&&(v=!0,f="0",g="=");var F=p==="$"?r:p==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",C=p==="$"?n:/[%p]/.test(T)?a:"",_=kU[T],S=/[defgprs%]/.test(T);B=B===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function P(Q){var k=F,N=C,se,be,he;if(T==="c")N=_(Q)+N,Q="";else{Q=+Q;var ye=Q<0||1/Q<0;if(Q=isNaN(Q)?A:_(Math.abs(Q),B),I&&(Q=Doe(Q)),ye&&+Q==0&&m!=="+"&&(ye=!1),k=(ye?m==="("?m:o:m==="-"||m==="("?"":m)+k,N=(T==="s"?jU[8+uL/3]:"")+N+(ye&&m==="("?")":""),S){for(se=-1,be=Q.length;++se<be;)if(he=Q.charCodeAt(se),48>he||he>57){N=(he===46?i+Q.slice(se+1):Q.slice(se))+N,Q=Q.slice(0,se);break}}}w&&!v&&(Q=e(Q,1/0));var Y=k.length+Q.length+N.length,ne=Y<y?new Array(y-Y+1).join(f):"";switch(w&&v&&(Q=e(ne+Q,ne.length?y-N.length:1/0),ne=""),g){case"<":Q=k+Q+N+ne;break;case"=":Q=k+ne+Q+N;break;case"^":Q=ne.slice(0,Y=ne.length>>1)+k+Q+N+ne.slice(Y);break;default:Q=ne+k+Q+N;break}return s(Q)}return P.toString=function(){return c+""},P}function u(c,f){var g=l((c=tf(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(cu(f)/3)))*3,p=Math.pow(10,-m),v=jU[8+m/3];return function(y){return g(p*y)+v}}return{format:l,formatPrefix:u}}var dg,u1,cL;Moe({thousands:",",grouping:[3],currency:["$",""]});function Moe(t){return dg=Roe(t),u1=dg.format,cL=dg.formatPrefix,dg}function Loe(t){return Math.max(0,-cu(Math.abs(t)))}function Hoe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cu(e)/3)))*3-cu(Math.abs(t)))}function Voe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cu(e)-cu(t))+1}function dL(t,e,r,n){var i=Xb(t,e,r),s;switch(n=tf(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Hoe(i,a))&&(n.precision=s),cL(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Voe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Loe(i))&&(n.precision=s-(n.type==="%")*2);break}}return u1(n)}function co(t){var e=t.domain;return t.ticks=function(r){var n=e();return zb(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return dL(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],A,l,u=10;for(o<a&&(l=a,a=o,o=l,l=i,i=s,s=l);u-- >0;){if(l=Yb(a,o,r),l===A)return n[i]=a,n[s]=o,e(n);if(l>0)a=Math.floor(a/l)*l,o=Math.ceil(o/l)*l;else if(l<0)a=Math.ceil(a*l)/l,o=Math.floor(o*l)/l;else break;A=l}return t},t}function fL(){var t=A1();return t.copy=function(){return Uf(t,fL())},ai.apply(t,arguments),co(t)}function hL(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,wp),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return hL(t).unknown(e)},t=arguments.length?Array.from(t,wp):[0,1],co(r)}function gL(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function RU(t){return Math.log(t)}function MU(t){return Math.exp(t)}function Koe(t){return-Math.log(-t)}function $oe(t){return-Math.exp(-t)}function Goe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Woe(t){return t===10?Goe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function zoe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function LU(t){return(e,r)=>-t(-e,r)}function c1(t){const e=t(RU,MU),r=e.domain;let n=10,i,s;function a(){return i=zoe(n),s=Woe(n),r()[0]<0?(i=LU(i),s=LU(s),t(Koe,$oe)):t(RU,MU),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const A=r();let l=A[0],u=A[A.length-1];const c=u<l;c&&([l,u]=[u,l]);let f=i(l),g=i(u),m,p;const v=o==null?10:+o;let y=[];if(!(n%1)&&g-f<v){if(f=Math.floor(f),g=Math.ceil(g),l>0){for(;f<=g;++f)for(m=1;m<n;++m)if(p=f<0?m/s(-f):m*s(f),!(p<l)){if(p>u)break;y.push(p)}}else for(;f<=g;++f)for(m=n-1;m>=1;--m)if(p=f>0?m/s(-f):m*s(f),!(p<l)){if(p>u)break;y.push(p)}y.length*2<v&&(y=zb(l,u,v))}else y=zb(f,g,Math.min(g-f,v)).map(s);return c?y.reverse():y},e.tickFormat=(o,A)=>{if(o==null&&(o=10),A==null&&(A=n===10?"s":","),typeof A!="function"&&(!(n%1)&&(A=tf(A)).precision==null&&(A.trim=!0),A=u1(A)),o===1/0)return A;const l=Math.max(1,n*o/e.ticks().length);return u=>{let c=u/s(Math.round(i(u)));return c*n<n-.5&&(c*=n),c<=l?A(u):""}},e.nice=()=>r(gL(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function mL(){const t=c1(pv()).domain([1,10]);return t.copy=()=>Uf(t,mL()).base(t.base()),ai.apply(t,arguments),t}function HU(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function VU(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function d1(t){var e=1,r=t(HU(e),VU(e));return r.constant=function(n){return arguments.length?t(HU(e=+n),VU(e)):e},co(r)}function pL(){var t=d1(pv());return t.copy=function(){return Uf(t,pL()).constant(t.constant())},ai.apply(t,arguments)}function KU(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Yoe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Xoe(t){return t<0?-t*t:t*t}function f1(t){var e=t(Vr,Vr),r=1;function n(){return r===1?t(Vr,Vr):r===.5?t(Yoe,Xoe):t(KU(r),KU(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},co(e)}function h1(){var t=f1(pv());return t.copy=function(){return Uf(t,h1()).exponent(t.exponent())},ai.apply(t,arguments),t}function qoe(){return h1.apply(null,arguments).exponent(.5)}function $U(t){return Math.sign(t)*t*t}function Joe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function vL(){var t=A1(),e=[0,1],r=!1,n;function i(s){var a=Joe(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert($U(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,wp)).map($U)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return vL(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ai.apply(i,arguments),co(i)}function yL(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=roe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[Tf(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(ja),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return yL().domain(t).range(e).unknown(n)},ai.apply(s,arguments)}function wL(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(A){return A!=null&&A<=A?i[Tf(n,A,0,r)]:s}function o(){var A=-1;for(n=new Array(r);++A<r;)n[A]=((A+1)*e-(A-r)*t)/(r+1);return a}return a.domain=function(A){return arguments.length?([t,e]=A,t=+t,e=+e,o()):[t,e]},a.range=function(A){return arguments.length?(r=(i=Array.from(A)).length-1,o()):i.slice()},a.invertExtent=function(A){var l=i.indexOf(A);return l<0?[NaN,NaN]:l<1?[t,n[0]]:l>=r?[n[r-1],e]:[n[l-1],n[l]]},a.unknown=function(A){return arguments.length&&(s=A),a},a.thresholds=function(){return n.slice()},a.copy=function(){return wL().domain([t,e]).range(i).unknown(s)},ai.apply(co(a),arguments)}function xL(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[Tf(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return xL().domain(t).range(e).unknown(r)},ai.apply(i,arguments)}const hw=new Date,gw=new Date;function Zt(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const A=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return A;let l;do A.push(l=new Date(+s)),e(s,o),t(s);while(l<s&&s<a);return A},i.filter=s=>Zt(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(hw.setTime(+s),gw.setTime(+a),t(hw),t(gw),Math.floor(r(hw,gw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const bp=Zt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);bp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):bp);bp.range;const gs=1e3,qn=gs*60,ms=qn*60,ks=ms*24,g1=ks*7,GU=ks*30,mw=ks*365,$o=Zt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*gs)},(t,e)=>(e-t)/gs,t=>t.getUTCSeconds());$o.range;const m1=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gs)},(t,e)=>{t.setTime(+t+e*qn)},(t,e)=>(e-t)/qn,t=>t.getMinutes());m1.range;const p1=Zt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*qn)},(t,e)=>(e-t)/qn,t=>t.getUTCMinutes());p1.range;const v1=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gs-t.getMinutes()*qn)},(t,e)=>{t.setTime(+t+e*ms)},(t,e)=>(e-t)/ms,t=>t.getHours());v1.range;const y1=Zt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ms)},(t,e)=>(e-t)/ms,t=>t.getUTCHours());y1.range;const Pf=Zt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*qn)/ks,t=>t.getDate()-1);Pf.range;const vv=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ks,t=>t.getUTCDate()-1);vv.range;const bL=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ks,t=>Math.floor(t/ks));bL.range;function FA(t){return Zt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*qn)/g1)}const yv=FA(0),Bp=FA(1),Zoe=FA(2),eAe=FA(3),du=FA(4),tAe=FA(5),rAe=FA(6);yv.range;Bp.range;Zoe.range;eAe.range;du.range;tAe.range;rAe.range;function UA(t){return Zt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/g1)}const wv=UA(0),Cp=UA(1),nAe=UA(2),iAe=UA(3),fu=UA(4),sAe=UA(5),aAe=UA(6);wv.range;Cp.range;nAe.range;iAe.range;fu.range;sAe.range;aAe.range;const w1=Zt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());w1.range;const x1=Zt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());x1.range;const Os=Zt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Os.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Os.range;const Ds=Zt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ds.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ds.range;function BL(t,e,r,n,i,s){const a=[[$o,1,gs],[$o,5,5*gs],[$o,15,15*gs],[$o,30,30*gs],[s,1,qn],[s,5,5*qn],[s,15,15*qn],[s,30,30*qn],[i,1,ms],[i,3,3*ms],[i,6,6*ms],[i,12,12*ms],[n,1,ks],[n,2,2*ks],[r,1,g1],[e,1,GU],[e,3,3*GU],[t,1,mw]];function o(l,u,c){const f=u<l;f&&([l,u]=[u,l]);const g=c&&typeof c.range=="function"?c:A(l,u,c),m=g?g.range(l,+u+1):[];return f?m.reverse():m}function A(l,u,c){const f=Math.abs(u-l)/c,g=r1(([,,v])=>v).right(a,f);if(g===a.length)return t.every(Xb(l/mw,u/mw,c));if(g===0)return bp.every(Math.max(Xb(l,u,c),1));const[m,p]=a[f/a[g-1][2]<a[g][2]/f?g-1:g];return m.every(p)}return[o,A]}const[oAe,AAe]=BL(Ds,x1,wv,bL,y1,p1),[lAe,uAe]=BL(Os,w1,yv,Pf,v1,m1);function pw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function vw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function cAe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,A=t.shortMonths,l=yc(i),u=wc(i),c=yc(s),f=wc(s),g=yc(a),m=wc(a),p=yc(o),v=wc(o),y=yc(A),w=wc(A),B={a:ye,A:Y,b:ne,B:ce,c:null,d:JU,e:JU,f:QAe,g:KAe,G:GAe,H:UAe,I:PAe,j:NAe,L:CL,m:kAe,M:OAe,p:Ue,q:re,Q:tP,s:rP,S:DAe,u:jAe,U:RAe,V:MAe,w:LAe,W:HAe,x:null,X:null,y:VAe,Y:$Ae,Z:WAe,"%":eP},I={a:Pe,A:O,b:D,B:j,c:null,d:ZU,e:ZU,f:qAe,g:ole,G:lle,H:zAe,I:YAe,j:XAe,L:_L,m:JAe,M:ZAe,p:q,q:J,Q:tP,s:rP,S:ele,u:tle,U:rle,V:nle,w:ile,W:sle,x:null,X:null,y:ale,Y:Ale,Z:ule,"%":eP},T={a:P,A:Q,b:k,B:N,c:se,d:XU,e:XU,f:IAe,g:YU,G:zU,H:qU,I:qU,j:BAe,L:_Ae,m:bAe,M:CAe,p:S,q:xAe,Q:TAe,s:FAe,S:EAe,u:mAe,U:pAe,V:vAe,w:gAe,W:yAe,x:be,X:he,y:YU,Y:zU,Z:wAe,"%":SAe};B.x=F(r,B),B.X=F(n,B),B.c=F(e,B),I.x=F(r,I),I.X=F(n,I),I.c=F(e,I);function F(H,W){return function(Z){var K=[],Ie=-1,Ee=0,Ge=H.length,ht,oi,NA;for(Z instanceof Date||(Z=new Date(+Z));++Ie<Ge;)H.charCodeAt(Ie)===37&&(K.push(H.slice(Ee,Ie)),(oi=WU[ht=H.charAt(++Ie)])!=null?ht=H.charAt(++Ie):oi=ht==="e"?" ":"0",(NA=W[ht])&&(ht=NA(Z,oi)),K.push(ht),Ee=Ie+1);return K.push(H.slice(Ee,Ie)),K.join("")}}function C(H,W){return function(Z){var K=vc(1900,void 0,1),Ie=_(K,H,Z+="",0),Ee,Ge;if(Ie!=Z.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(W&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Ee=vw(vc(K.y,0,1)),Ge=Ee.getUTCDay(),Ee=Ge>4||Ge===0?Cp.ceil(Ee):Cp(Ee),Ee=vv.offset(Ee,(K.V-1)*7),K.y=Ee.getUTCFullYear(),K.m=Ee.getUTCMonth(),K.d=Ee.getUTCDate()+(K.w+6)%7):(Ee=pw(vc(K.y,0,1)),Ge=Ee.getDay(),Ee=Ge>4||Ge===0?Bp.ceil(Ee):Bp(Ee),Ee=Pf.offset(Ee,(K.V-1)*7),K.y=Ee.getFullYear(),K.m=Ee.getMonth(),K.d=Ee.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Ge="Z"in K?vw(vc(K.y,0,1)).getUTCDay():pw(vc(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Ge+5)%7:K.w+K.U*7-(Ge+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,vw(K)):pw(K)}}function _(H,W,Z,K){for(var Ie=0,Ee=W.length,Ge=Z.length,ht,oi;Ie<Ee;){if(K>=Ge)return-1;if(ht=W.charCodeAt(Ie++),ht===37){if(ht=W.charAt(Ie++),oi=T[ht in WU?W.charAt(Ie++):ht],!oi||(K=oi(H,Z,K))<0)return-1}else if(ht!=Z.charCodeAt(K++))return-1}return K}function S(H,W,Z){var K=l.exec(W.slice(Z));return K?(H.p=u.get(K[0].toLowerCase()),Z+K[0].length):-1}function P(H,W,Z){var K=g.exec(W.slice(Z));return K?(H.w=m.get(K[0].toLowerCase()),Z+K[0].length):-1}function Q(H,W,Z){var K=c.exec(W.slice(Z));return K?(H.w=f.get(K[0].toLowerCase()),Z+K[0].length):-1}function k(H,W,Z){var K=y.exec(W.slice(Z));return K?(H.m=w.get(K[0].toLowerCase()),Z+K[0].length):-1}function N(H,W,Z){var K=p.exec(W.slice(Z));return K?(H.m=v.get(K[0].toLowerCase()),Z+K[0].length):-1}function se(H,W,Z){return _(H,e,W,Z)}function be(H,W,Z){return _(H,r,W,Z)}function he(H,W,Z){return _(H,n,W,Z)}function ye(H){return a[H.getDay()]}function Y(H){return s[H.getDay()]}function ne(H){return A[H.getMonth()]}function ce(H){return o[H.getMonth()]}function Ue(H){return i[+(H.getHours()>=12)]}function re(H){return 1+~~(H.getMonth()/3)}function Pe(H){return a[H.getUTCDay()]}function O(H){return s[H.getUTCDay()]}function D(H){return A[H.getUTCMonth()]}function j(H){return o[H.getUTCMonth()]}function q(H){return i[+(H.getUTCHours()>=12)]}function J(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var W=F(H+="",B);return W.toString=function(){return H},W},parse:function(H){var W=C(H+="",!1);return W.toString=function(){return H},W},utcFormat:function(H){var W=F(H+="",I);return W.toString=function(){return H},W},utcParse:function(H){var W=C(H+="",!0);return W.toString=function(){return H},W}}}var WU={"-":"",_:" ",0:"0"},lr=/^\s*\d+/,dAe=/^%/,fAe=/[\\^$*+?|[\]().{}]/g;function $e(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function hAe(t){return t.replace(fAe,"\\$&")}function yc(t){return new RegExp("^(?:"+t.map(hAe).join("|")+")","i")}function wc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function gAe(t,e,r){var n=lr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function mAe(t,e,r){var n=lr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function pAe(t,e,r){var n=lr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function vAe(t,e,r){var n=lr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function yAe(t,e,r){var n=lr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function zU(t,e,r){var n=lr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function YU(t,e,r){var n=lr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function wAe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function xAe(t,e,r){var n=lr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function bAe(t,e,r){var n=lr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function XU(t,e,r){var n=lr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function BAe(t,e,r){var n=lr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function qU(t,e,r){var n=lr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function CAe(t,e,r){var n=lr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function EAe(t,e,r){var n=lr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function _Ae(t,e,r){var n=lr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function IAe(t,e,r){var n=lr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function SAe(t,e,r){var n=dAe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function TAe(t,e,r){var n=lr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function FAe(t,e,r){var n=lr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function JU(t,e){return $e(t.getDate(),e,2)}function UAe(t,e){return $e(t.getHours(),e,2)}function PAe(t,e){return $e(t.getHours()%12||12,e,2)}function NAe(t,e){return $e(1+Pf.count(Os(t),t),e,3)}function CL(t,e){return $e(t.getMilliseconds(),e,3)}function QAe(t,e){return CL(t,e)+"000"}function kAe(t,e){return $e(t.getMonth()+1,e,2)}function OAe(t,e){return $e(t.getMinutes(),e,2)}function DAe(t,e){return $e(t.getSeconds(),e,2)}function jAe(t){var e=t.getDay();return e===0?7:e}function RAe(t,e){return $e(yv.count(Os(t)-1,t),e,2)}function EL(t){var e=t.getDay();return e>=4||e===0?du(t):du.ceil(t)}function MAe(t,e){return t=EL(t),$e(du.count(Os(t),t)+(Os(t).getDay()===4),e,2)}function LAe(t){return t.getDay()}function HAe(t,e){return $e(Bp.count(Os(t)-1,t),e,2)}function VAe(t,e){return $e(t.getFullYear()%100,e,2)}function KAe(t,e){return t=EL(t),$e(t.getFullYear()%100,e,2)}function $Ae(t,e){return $e(t.getFullYear()%1e4,e,4)}function GAe(t,e){var r=t.getDay();return t=r>=4||r===0?du(t):du.ceil(t),$e(t.getFullYear()%1e4,e,4)}function WAe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+$e(e/60|0,"0",2)+$e(e%60,"0",2)}function ZU(t,e){return $e(t.getUTCDate(),e,2)}function zAe(t,e){return $e(t.getUTCHours(),e,2)}function YAe(t,e){return $e(t.getUTCHours()%12||12,e,2)}function XAe(t,e){return $e(1+vv.count(Ds(t),t),e,3)}function _L(t,e){return $e(t.getUTCMilliseconds(),e,3)}function qAe(t,e){return _L(t,e)+"000"}function JAe(t,e){return $e(t.getUTCMonth()+1,e,2)}function ZAe(t,e){return $e(t.getUTCMinutes(),e,2)}function ele(t,e){return $e(t.getUTCSeconds(),e,2)}function tle(t){var e=t.getUTCDay();return e===0?7:e}function rle(t,e){return $e(wv.count(Ds(t)-1,t),e,2)}function IL(t){var e=t.getUTCDay();return e>=4||e===0?fu(t):fu.ceil(t)}function nle(t,e){return t=IL(t),$e(fu.count(Ds(t),t)+(Ds(t).getUTCDay()===4),e,2)}function ile(t){return t.getUTCDay()}function sle(t,e){return $e(Cp.count(Ds(t)-1,t),e,2)}function ale(t,e){return $e(t.getUTCFullYear()%100,e,2)}function ole(t,e){return t=IL(t),$e(t.getUTCFullYear()%100,e,2)}function Ale(t,e){return $e(t.getUTCFullYear()%1e4,e,4)}function lle(t,e){var r=t.getUTCDay();return t=r>=4||r===0?fu(t):fu.ceil(t),$e(t.getUTCFullYear()%1e4,e,4)}function ule(){return"+0000"}function eP(){return"%"}function tP(t){return+t}function rP(t){return Math.floor(+t/1e3)}var ZA,SL,TL;cle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cle(t){return ZA=cAe(t),SL=ZA.format,ZA.parse,TL=ZA.utcFormat,ZA.utcParse,ZA}function dle(t){return new Date(t)}function fle(t){return t instanceof Date?+t:+new Date(+t)}function b1(t,e,r,n,i,s,a,o,A,l){var u=A1(),c=u.invert,f=u.domain,g=l(".%L"),m=l(":%S"),p=l("%I:%M"),v=l("%I %p"),y=l("%a %d"),w=l("%b %d"),B=l("%B"),I=l("%Y");function T(F){return(A(F)<F?g:o(F)<F?m:a(F)<F?p:s(F)<F?v:n(F)<F?i(F)<F?y:w:r(F)<F?B:I)(F)}return u.invert=function(F){return new Date(c(F))},u.domain=function(F){return arguments.length?f(Array.from(F,fle)):f().map(dle)},u.ticks=function(F){var C=f();return t(C[0],C[C.length-1],F??10)},u.tickFormat=function(F,C){return C==null?T:l(C)},u.nice=function(F){var C=f();return(!F||typeof F.range!="function")&&(F=e(C[0],C[C.length-1],F??10)),F?f(gL(C,F)):u},u.copy=function(){return Uf(u,b1(t,e,r,n,i,s,a,o,A,l))},u}function hle(){return ai.apply(b1(lAe,uAe,Os,w1,yv,Pf,v1,m1,$o,SL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gle(){return ai.apply(b1(oAe,AAe,Ds,x1,wv,vv,y1,p1,$o,TL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xv(){var t=0,e=1,r,n,i,s,a=Vr,o=!1,A;function l(c){return c==null||isNaN(c=+c)?A:a(i===0?.5:(c=(s(c)-r)*i,o?Math.max(0,Math.min(1,c)):c))}l.domain=function(c){return arguments.length?([t,e]=c,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),l):[t,e]},l.clamp=function(c){return arguments.length?(o=!!c,l):o},l.interpolator=function(c){return arguments.length?(a=c,l):a};function u(c){return function(f){var g,m;return arguments.length?([g,m]=f,a=c(g,m),l):[a(0),a(1)]}}return l.range=u(Tu),l.rangeRound=u(o1),l.unknown=function(c){return arguments.length?(A=c,l):A},function(c){return s=c,r=c(t),n=c(e),i=r===n?0:1/(n-r),l}}function fo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function FL(){var t=co(xv()(Vr));return t.copy=function(){return fo(t,FL())},$s.apply(t,arguments)}function UL(){var t=c1(xv()).domain([1,10]);return t.copy=function(){return fo(t,UL()).base(t.base())},$s.apply(t,arguments)}function PL(){var t=d1(xv());return t.copy=function(){return fo(t,PL()).constant(t.constant())},$s.apply(t,arguments)}function B1(){var t=f1(xv());return t.copy=function(){return fo(t,B1()).exponent(t.exponent())},$s.apply(t,arguments)}function mle(){return B1.apply(null,arguments).exponent(.5)}function NL(){var t=[],e=Vr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Tf(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ja),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>toe(t,s/n))},r.copy=function(){return NL(e).domain(t)},$s.apply(r,arguments)}function bv(){var t=0,e=.5,r=1,n=1,i,s,a,o,A,l=Vr,u,c=!1,f;function g(p){return isNaN(p=+p)?f:(p=.5+((p=+u(p))-s)*(n*p<n*s?o:A),l(c?Math.max(0,Math.min(1,p)):p))}g.domain=function(p){return arguments.length?([t,e,r]=p,i=u(t=+t),s=u(e=+e),a=u(r=+r),o=i===s?0:.5/(s-i),A=s===a?0:.5/(a-s),n=s<i?-1:1,g):[t,e,r]},g.clamp=function(p){return arguments.length?(c=!!p,g):c},g.interpolator=function(p){return arguments.length?(l=p,g):l};function m(p){return function(v){var y,w,B;return arguments.length?([y,w,B]=v,l=Soe(p,[y,w,B]),g):[l(0),l(.5),l(1)]}}return g.range=m(Tu),g.rangeRound=m(o1),g.unknown=function(p){return arguments.length?(f=p,g):f},function(p){return u=p,i=p(t),s=p(e),a=p(r),o=i===s?0:.5/(s-i),A=s===a?0:.5/(a-s),n=s<i?-1:1,g}}function QL(){var t=co(bv()(Vr));return t.copy=function(){return fo(t,QL())},$s.apply(t,arguments)}function kL(){var t=c1(bv()).domain([.1,1,10]);return t.copy=function(){return fo(t,kL()).base(t.base())},$s.apply(t,arguments)}function OL(){var t=d1(bv());return t.copy=function(){return fo(t,OL()).constant(t.constant())},$s.apply(t,arguments)}function C1(){var t=f1(bv());return t.copy=function(){return fo(t,C1()).exponent(t.exponent())},$s.apply(t,arguments)}function ple(){return C1.apply(null,arguments).exponent(.5)}const Mc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:i1,scaleDiverging:QL,scaleDivergingLog:kL,scaleDivergingPow:C1,scaleDivergingSqrt:ple,scaleDivergingSymlog:OL,scaleIdentity:hL,scaleImplicit:qb,scaleLinear:fL,scaleLog:mL,scaleOrdinal:n1,scalePoint:ioe,scalePow:h1,scaleQuantile:yL,scaleQuantize:wL,scaleRadial:vL,scaleSequential:FL,scaleSequentialLog:UL,scaleSequentialPow:B1,scaleSequentialQuantile:NL,scaleSequentialSqrt:mle,scaleSequentialSymlog:PL,scaleSqrt:qoe,scaleSymlog:pL,scaleThreshold:xL,scaleTime:hle,scaleUtc:gle,tickFormat:dL},Symbol.toStringTag,{value:"Module"}));var ho=t=>t.chartData,E1=V([ho],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Bv=(t,e,r,n)=>n?E1(t):ho(t);function hu(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(Fn(e)&&Fn(r))return!0}return!1}function nP(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function vle(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,s;if(Fn(r))i=r;else if(typeof r=="function")return;if(Fn(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(hu(a))return a}}function yle(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(hu(n))return nP(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(de(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&ZF.test(i)){var A=ZF.exec(i);if(A==null||e==null)a=void 0;else{var l=+A[1];a=e[0]-l}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(de(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&eU.test(s)){var u=eU.exec(s);if(u==null||e==null)o=void 0;else{var c=+u[1];o=e[1]+c}}else o=e==null?void 0:e[1];var f=[a,o];if(hu(f))return e==null?f:nP(f,e,r)}}}var Fu=1e9,wle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},I1,wt=!0,ii="[DecimalError] ",nA=ii+"Invalid argument: ",_1=ii+"Exponent out of range: ",Uu=Math.floor,Uo=Math.pow,xle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vn,sr=1e7,ct=7,DL=9007199254740991,Ep=Uu(DL/ct),me={};me.absoluteValue=me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};me.comparedTo=me.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};me.decimalPlaces=me.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ct;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};me.dividedBy=me.div=function(t){return Bs(this,new this.constructor(t))};me.dividedToIntegerBy=me.idiv=function(t){var e=this,r=e.constructor;return it(Bs(e,new r(t),0,1),r.precision)};me.equals=me.eq=function(t){return!this.cmp(t)};me.exponent=function(){return $t(this)};me.greaterThan=me.gt=function(t){return this.cmp(t)>0};me.greaterThanOrEqualTo=me.gte=function(t){return this.cmp(t)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(t){return this.cmp(t)<0};me.lessThanOrEqualTo=me.lte=function(t){return this.cmp(t)<1};me.logarithm=me.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(vn))throw Error(ii+"NaN");if(r.s<1)throw Error(ii+(r.s?"NaN":"-Infinity"));return r.eq(vn)?new n(0):(wt=!1,e=Bs(rf(r,s),rf(t,s),s),wt=!0,it(e,i))};me.minus=me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ML(e,t):jL(e,(t.s=-t.s,t))};me.modulo=me.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ii+"NaN");return r.s?(wt=!1,e=Bs(r,t,0,1).times(t),wt=!0,r.minus(e)):it(new n(r),i)};me.naturalExponential=me.exp=function(){return RL(this)};me.naturalLogarithm=me.ln=function(){return rf(this)};me.negated=me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};me.plus=me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?jL(e,t):ML(e,(t.s=-t.s,t))};me.precision=me.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(nA+t);if(e=$t(i)+1,n=i.d.length-1,r=n*ct+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};me.squareRoot=me.sqrt=function(){var t,e,r,n,i,s,a,o=this,A=o.constructor;if(o.s<1){if(!o.s)return new A(0);throw Error(ii+"NaN")}for(t=$t(o),wt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Qi(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Uu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new A(e)):n=new A(i.toString()),r=A.precision,i=a=r+3;;)if(s=n,n=s.plus(Bs(o,s,a+2)).times(.5),Qi(s.d).slice(0,a)===(e=Qi(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(it(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return wt=!0,it(n,r)};me.times=me.mul=function(t){var e,r,n,i,s,a,o,A,l,u=this,c=u.constructor,f=u.d,g=(t=new c(t)).d;if(!u.s||!t.s)return new c(0);for(t.s*=u.s,r=u.e+t.e,A=f.length,l=g.length,A<l&&(s=f,f=g,g=s,a=A,A=l,l=a),s=[],a=A+l,n=a;n--;)s.push(0);for(n=l;--n>=0;){for(e=0,i=A+n;i>n;)o=s[i]+g[n]*f[i-n-1]+e,s[i--]=o%sr|0,e=o/sr|0;s[i]=(s[i]+e)%sr|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,wt?it(t,c.precision):t};me.toDecimalPlaces=me.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Vi(t,0,Fu),e===void 0?e=n.rounding:Vi(e,0,8),it(r,t+$t(r)+1,e))};me.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=yA(n,!0):(Vi(t,0,Fu),e===void 0?e=i.rounding:Vi(e,0,8),n=it(new i(n),t+1,e),r=yA(n,!0,t+1)),r};me.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?yA(i):(Vi(t,0,Fu),e===void 0?e=s.rounding:Vi(e,0,8),n=it(new s(i),t+$t(i)+1,e),r=yA(n.abs(),!1,t+$t(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};me.toInteger=me.toint=function(){var t=this,e=t.constructor;return it(new e(t),$t(t)+1,e.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(t){var e,r,n,i,s,a,o=this,A=o.constructor,l=12,u=+(t=new A(t));if(!t.s)return new A(vn);if(o=new A(o),!o.s){if(t.s<1)throw Error(ii+"Infinity");return o}if(o.eq(vn))return o;if(n=A.precision,t.eq(vn))return it(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=u<0?-u:u)<=DL){for(i=new A(vn),e=Math.ceil(n/ct+4),wt=!1;r%2&&(i=i.times(o),sP(i.d,e)),r=Uu(r/2),r!==0;)o=o.times(o),sP(o.d,e);return wt=!0,t.s<0?new A(vn).div(i):it(i,n)}}else if(s<0)throw Error(ii+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,wt=!1,i=t.times(rf(o,n+l)),wt=!0,i=RL(i),i.s=s,i};me.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=$t(i),n=yA(i,r<=s.toExpNeg||r>=s.toExpPos)):(Vi(t,1,Fu),e===void 0?e=s.rounding:Vi(e,0,8),i=it(new s(i),t,e),r=$t(i),n=yA(i,t<=r||r<=s.toExpNeg,t)),n};me.toSignificantDigits=me.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Vi(t,1,Fu),e===void 0?e=n.rounding:Vi(e,0,8)),it(new n(r),t,e)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=$t(t),r=t.constructor;return yA(t,e<=r.toExpNeg||e>=r.toExpPos)};function jL(t,e){var r,n,i,s,a,o,A,l,u=t.constructor,c=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),wt?it(e,c):e;if(A=t.d,l=e.d,a=t.e,i=e.e,A=A.slice(),s=a-i,s){for(s<0?(n=A,s=-s,o=l.length):(n=l,i=a,o=A.length),a=Math.ceil(c/ct),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=A.length,s=l.length,o-s<0&&(s=o,n=l,l=A,A=n),r=0;s;)r=(A[--s]=A[s]+l[s]+r)/sr|0,A[s]%=sr;for(r&&(A.unshift(r),++i),o=A.length;A[--o]==0;)A.pop();return e.d=A,e.e=i,wt?it(e,c):e}function Vi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(nA+t)}function Qi(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=ct-n.length,r&&(s+=ua(r)),s+=n;a=t[e],n=a+"",r=ct-n.length,r&&(s+=ua(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Bs=function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%sr|0,a=s/sr|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,A;if(s!=a)A=s>a?1:-1;else for(o=A=0;o<s;o++)if(n[o]!=i[o]){A=n[o]>i[o]?1:-1;break}return A}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*sr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,A,l,u,c,f,g,m,p,v,y,w,B,I,T,F,C,_,S=n.constructor,P=n.s==i.s?1:-1,Q=n.d,k=i.d;if(!n.s)return new S(n);if(!i.s)throw Error(ii+"Division by zero");for(A=n.e-i.e,C=k.length,T=Q.length,g=new S(P),m=g.d=[],l=0;k[l]==(Q[l]||0);)++l;if(k[l]>(Q[l]||0)&&--A,s==null?w=s=S.precision:a?w=s+($t(n)-$t(i))+1:w=s,w<0)return new S(0);if(w=w/ct+2|0,l=0,C==1)for(u=0,k=k[0],w++;(l<T||u)&&w--;l++)B=u*sr+(Q[l]||0),m[l]=B/k|0,u=B%k|0;else{for(u=sr/(k[0]+1)|0,u>1&&(k=t(k,u),Q=t(Q,u),C=k.length,T=Q.length),I=C,p=Q.slice(0,C),v=p.length;v<C;)p[v++]=0;_=k.slice(),_.unshift(0),F=k[0],k[1]>=sr/2&&++F;do u=0,o=e(k,p,C,v),o<0?(y=p[0],C!=v&&(y=y*sr+(p[1]||0)),u=y/F|0,u>1?(u>=sr&&(u=sr-1),c=t(k,u),f=c.length,v=p.length,o=e(c,p,f,v),o==1&&(u--,r(c,C<f?_:k,f))):(u==0&&(o=u=1),c=k.slice()),f=c.length,f<v&&c.unshift(0),r(p,c,v),o==-1&&(v=p.length,o=e(k,p,C,v),o<1&&(u++,r(p,C<v?_:k,v))),v=p.length):o===0&&(u++,p=[0]),m[l++]=u,o&&p[0]?p[v++]=Q[I]||0:(p=[Q[I]],v=1);while((I++<T||p[0]!==void 0)&&w--)}return m[0]||m.shift(),g.e=A,it(g,a?s+$t(g)+1:s)}}();function RL(t,e){var r,n,i,s,a,o,A=0,l=0,u=t.constructor,c=u.precision;if($t(t)>16)throw Error(_1+$t(t));if(!t.s)return new u(vn);for(e==null?(wt=!1,o=c):o=e,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),l+=5;for(n=Math.log(Uo(2,l))/Math.LN10*2+5|0,o+=n,r=i=s=new u(vn),u.precision=o;;){if(i=it(i.times(t),o),r=r.times(++A),a=s.plus(Bs(i,r,o)),Qi(a.d).slice(0,o)===Qi(s.d).slice(0,o)){for(;l--;)s=it(s.times(s),o);return u.precision=c,e==null?(wt=!0,it(s,c)):s}s=a}}function $t(t){for(var e=t.e*ct,r=t.d[0];r>=10;r/=10)e++;return e}function yw(t,e,r){if(e>t.LN10.sd())throw wt=!0,r&&(t.precision=r),Error(ii+"LN10 precision limit exceeded");return it(new t(t.LN10),e)}function ua(t){for(var e="";t--;)e+="0";return e}function rf(t,e){var r,n,i,s,a,o,A,l,u,c=1,f=10,g=t,m=g.d,p=g.constructor,v=p.precision;if(g.s<1)throw Error(ii+(g.s?"NaN":"-Infinity"));if(g.eq(vn))return new p(0);if(e==null?(wt=!1,l=v):l=e,g.eq(10))return e==null&&(wt=!0),yw(p,l);if(l+=f,p.precision=l,r=Qi(m),n=r.charAt(0),s=$t(g),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=Qi(g.d),n=r.charAt(0),c++;s=$t(g),n>1?(g=new p("0."+r),s++):g=new p(n+"."+r.slice(1))}else return A=yw(p,l+2,v).times(s+""),g=rf(new p(n+"."+r.slice(1)),l-f).plus(A),p.precision=v,e==null?(wt=!0,it(g,v)):g;for(o=a=g=Bs(g.minus(vn),g.plus(vn),l),u=it(g.times(g),l),i=3;;){if(a=it(a.times(u),l),A=o.plus(Bs(a,new p(i),l)),Qi(A.d).slice(0,l)===Qi(o.d).slice(0,l))return o=o.times(2),s!==0&&(o=o.plus(yw(p,l+2,v).times(s+""))),o=Bs(o,new p(c),l),p.precision=v,e==null?(wt=!0,it(o,v)):o;o=A,i+=2}}function iP(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Uu(r/ct),t.d=[],n=(r+1)%ct,r<0&&(n+=ct),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ct;n<i;)t.d.push(+e.slice(n,n+=ct));e=e.slice(n),n=ct-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),wt&&(t.e>Ep||t.e<-Ep))throw Error(_1+r)}else t.s=0,t.e=0,t.d=[0];return t}function it(t,e,r){var n,i,s,a,o,A,l,u,c=t.d;for(a=1,s=c[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=ct,i=e,l=c[u=0];else{if(u=Math.ceil((n+1)/ct),s=c.length,u>=s)return t;for(l=s=c[u],a=1;s>=10;s/=10)a++;n%=ct,i=n-ct+a}if(r!==void 0&&(s=Uo(10,a-i-1),o=l/s%10|0,A=e<0||c[u+1]!==void 0||l%s,A=r<4?(o||A)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||A||r==6&&(n>0?i>0?l/Uo(10,a-i):0:c[u-1])%10&1||r==(t.s<0?8:7))),e<1||!c[0])return A?(s=$t(t),c.length=1,e=e-s-1,c[0]=Uo(10,(ct-e%ct)%ct),t.e=Uu(-e/ct)||0):(c.length=1,c[0]=t.e=t.s=0),t;if(n==0?(c.length=u,s=1,u--):(c.length=u+1,s=Uo(10,ct-n),c[u]=i>0?(l/Uo(10,a-i)%Uo(10,i)|0)*s:0),A)for(;;)if(u==0){(c[0]+=s)==sr&&(c[0]=1,++t.e);break}else{if(c[u]+=s,c[u]!=sr)break;c[u--]=0,s=1}for(n=c.length;c[--n]===0;)c.pop();if(wt&&(t.e>Ep||t.e<-Ep))throw Error(_1+$t(t));return t}function ML(t,e){var r,n,i,s,a,o,A,l,u,c,f=t.constructor,g=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),wt?it(e,g):e;if(A=t.d,c=e.d,n=e.e,l=t.e,A=A.slice(),a=l-n,a){for(u=a<0,u?(r=A,a=-a,o=c.length):(r=c,n=l,o=A.length),i=Math.max(Math.ceil(g/ct),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=A.length,o=c.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(A[i]!=c[i]){u=A[i]<c[i];break}a=0}for(u&&(r=A,A=c,c=r,e.s=-e.s),o=A.length,i=c.length-o;i>0;--i)A[o++]=0;for(i=c.length;i>a;){if(A[--i]<c[i]){for(s=i;s&&A[--s]===0;)A[s]=sr-1;--A[s],A[i]+=sr}A[i]-=c[i]}for(;A[--o]===0;)A.pop();for(;A[0]===0;A.shift())--n;return A[0]?(e.d=A,e.e=n,wt?it(e,g):e):new f(0)}function yA(t,e,r){var n,i=$t(t),s=Qi(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+ua(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ua(-i-1)+s,r&&(n=r-a)>0&&(s+=ua(n))):i>=a?(s+=ua(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+ua(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=ua(n))),t.s<0?"-"+s:s}function sP(t,e){if(t.length>e)return t.length=e,!0}function LL(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(nA+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return iP(a,s.toString())}else if(typeof s!="string")throw Error(nA+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,xle.test(s))iP(a,s);else throw Error(nA+s)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=LL,i.config=i.set=ble,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function ble(t){if(!t||typeof t!="object")throw Error(ii+"Object expected");var e,r,n,i=["precision",1,Fu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Uu(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(nA+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(nA+r+": "+n);return this}var I1=LL(wle);vn=new I1(1);const Ye=I1;var Ble=t=>t,HL={"@@functional/placeholder":!0},VL=t=>t===HL,aP=t=>function e(){return arguments.length===0||arguments.length===1&&VL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},KL=(t,e)=>t===1?e:aP(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==HL).length;return s>=t?e(...n):KL(t-s,aP(function(){for(var a=arguments.length,o=new Array(a),A=0;A<a;A++)o[A]=arguments[A];var l=n.map(u=>VL(u)?o.shift():u);return e(...l,...o)}))}),Cv=t=>KL(t.length,t),tB=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},Cle=Cv((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),Ele=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Ble;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,A)=>A(o),s(...arguments))}},rB=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),$L=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e&&i.every((a,o)=>{var A;return a===((A=e)===null||A===void 0?void 0:A[o])})||(e=i,r=t(...i)),r}};function GL(t){var e;return t===0?e=1:e=Math.floor(new Ye(t).abs().log(10).toNumber())+1,e}function WL(t,e,r){for(var n=new Ye(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}Cv((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});Cv((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});Cv((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var zL=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},YL=(t,e,r)=>{if(t.lte(0))return new Ye(0);var n=GL(t.toNumber()),i=new Ye(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new Ye(Math.ceil(s.div(a).toNumber())).add(r).mul(a),A=o.mul(i);return e?new Ye(A.toNumber()):new Ye(Math.ceil(A.toNumber()))},_le=(t,e,r)=>{var n=new Ye(1),i=new Ye(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Ye(10).pow(GL(t)-1),i=new Ye(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Ye(Math.floor(t)))}else t===0?i=new Ye(Math.floor((e-1)/2)):r||(i=new Ye(Math.floor(t)));var a=Math.floor((e-1)/2),o=Ele(Cle(A=>i.add(new Ye(A-a).mul(n)).toNumber()),tB);return o(0,e)},XL=function(e,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Ye(0),tickMin:new Ye(0),tickMax:new Ye(0)};var a=YL(new Ye(r).sub(e).div(n-1),i,s),o;e<=0&&r>=0?o=new Ye(0):(o=new Ye(e).add(r).div(2),o=o.sub(new Ye(o).mod(a)));var A=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new Ye(r).sub(o).div(a).toNumber()),u=A+l+1;return u>n?XL(e,r,n,i,s+1):(u<n&&(l=r>0?l+(n-u):l,A=r>0?A:A+(n-u)),{step:a,tickMin:o.sub(new Ye(A).mul(a)),tickMax:o.add(new Ye(l).mul(a))})};function Ile(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,o]=zL([e,r]);if(a===-1/0||o===1/0){var A=o===1/0?[a,...tB(0,n-1).map(()=>1/0)]:[...tB(0,n-1).map(()=>-1/0),o];return e>r?rB(A):A}if(a===o)return _le(a,n,i);var{step:l,tickMin:u,tickMax:c}=XL(a,o,s,i,0),f=WL(u,c.add(new Ye(.1).mul(l)),l);return e>r?rB(f):f}function Sle(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=zL([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var o=Math.max(e,2),A=YL(new Ye(a).sub(s).div(o-1),i,0),l=[...WL(new Ye(s),new Ye(a),A),a];return i===!1&&(l=l.map(u=>Math.round(u))),r>n?rB(l):l}var Tle=$L(Ile),Fle=$L(Sle),qL=t=>t.rootProps.maxBarSize,Ule=t=>t.rootProps.barGap,JL=t=>t.rootProps.barCategoryGap,Ple=t=>t.rootProps.barSize,Nf=t=>t.rootProps.stackOffset,S1=t=>t.options.chartName,T1=t=>t.rootProps.syncId,ZL=t=>t.rootProps.syncMethod,F1=t=>t.options.eventEmitter,as={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},mn={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Ev=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Nle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:as.angleAxisId,includeHidden:!1,name:void 0,reversed:as.reversed,scale:as.scale,tick:as.tick,tickCount:void 0,ticks:void 0,type:as.type,unit:void 0},Qle={allowDataOverflow:mn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:mn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mn.scale,tick:mn.tick,tickCount:mn.tickCount,ticks:void 0,type:mn.type,unit:void 0},kle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:as.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:as.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:as.scale,tick:as.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Ole={allowDataOverflow:mn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:mn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mn.scale,tick:mn.tick,tickCount:mn.tickCount,ticks:void 0,type:"category",unit:void 0},U1=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?kle:Nle,P1=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Ole:Qle,_v=t=>t.polarOptions,N1=V([Vs,Ks,Jt],_M),e5=V([_v,N1],(t,e)=>{if(t!=null)return zr(t.innerRadius,e,0)}),t5=V([_v,N1],(t,e)=>{if(t!=null)return zr(t.outerRadius,e,e*.8)}),Dle=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},r5=V([_v],Dle);V([U1,r5],Ev);var n5=V([N1,e5,t5],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});V([P1,n5],Ev);var i5=V([Le,_v,e5,t5,Vs,Ks],(t,e,r,n,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:a,cy:o,startAngle:A,endAngle:l}=e;return{cx:zr(a,i,i/2),cy:zr(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:A,endAngle:l,clockWise:!1}}}),Bt=(t,e)=>e,Qf=(t,e,r)=>r;function Q1(t){return t==null?void 0:t.id}var er=t=>{var e=Le(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Pu=t=>t.tooltip.settings.axisId,tr=t=>{var e=er(t),r=Pu(t);return kf(t,e,r)};function s5(t,e,r){var{chartData:n=[]}=e,i=r==null?void 0:r.dataKey,s=new Map;return t.forEach(a=>{var o,A=(o=a.data)!==null&&o!==void 0?o:n;if(!(A==null||A.length===0)){var l=Q1(a);A.forEach((u,c)=>{var f=i==null?c:String(nt(u,i,null)),g=nt(u,a.dataKey,0),m;s.has(f)?m=s.get(f):m={},Object.assign(m,{[l]:g}),s.set(f,m)})}}),Array.from(s.values())}function Iv(t){return t.stackId!=null&&t.dataKey!=null}function oP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _p(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(r),!0).forEach(function(n){jle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jle(t,e,r){return(e=Rle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rle(t){var e=Mle(t,"string");return typeof e=="symbol"?e:e+""}function Mle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nB=[0,"auto"],fn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Gs=(t,e)=>{var r=t.cartesianAxis.xAxis[e];return r??fn},hn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:nB,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:fv},go=(t,e)=>{var r=t.cartesianAxis.yAxis[e];return r??hn},Lle={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},k1=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??Lle},Mt=(t,e,r)=>{switch(e){case"xAxis":return Gs(t,r);case"yAxis":return go(t,r);case"zAxis":return k1(t,r);case"angleAxis":return U1(t,r);case"radiusAxis":return P1(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Hle=(t,e,r)=>{switch(e){case"xAxis":return Gs(t,r);case"yAxis":return go(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},kf=(t,e,r)=>{switch(e){case"xAxis":return Gs(t,r);case"yAxis":return go(t,r);case"angleAxis":return U1(t,r);case"radiusAxis":return P1(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},a5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function O1(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var Sv=t=>t.graphicalItems.cartesianItems,Vle=V([Bt,Qf],O1),D1=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),Of=V([Sv,Mt,Vle],D1),o5=V([Of],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Iv)),A5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),l5=V([Of],A5),j1=t=>t.map(e=>e.data).filter(Boolean).flat(1),Kle=V([Of],j1),R1=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},M1=V([Kle,Bv],R1),L1=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:nt(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:nt(i,n)}))):t.map(n=>({value:n})),Tv=V([M1,Mt,Of],L1);function u5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function PA(t){return t.filter(e=>Hi(e)||e instanceof Date).map(Number).filter(e=>In(e)===!1)}function $le(t,e,r){return!r||typeof e!="number"||In(e)?[]:r.length?PA(r.flatMap(n=>{var i=nt(t,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Fn(s)||!Fn(a)))return[e-s,e+a]})):[]}var Gle=V([o5,Bv,tr],s5),c5=(t,e,r)=>{var n={},i=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,o]=s,A=o.map(Q1);return[a,{stackedData:nse(t,A,r),graphicalItems:o}]}))},iB=V([Gle,o5,Nf],c5),d5=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var s=Ase(t,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Wle=V([iB,ho,Bt],d5),f5=(t,e,r,n,i)=>r.length>0?t.flatMap(s=>r.flatMap(a=>{var o,A,l=(o=n[a.id])===null||o===void 0?void 0:o.filter(c=>u5(i,c)),u=nt(s,(A=e.dataKey)!==null&&A!==void 0?A:a.dataKey);return{value:u,errorDomain:$le(s,u,l)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(s=>({value:nt(s,e.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]})),Fv=t=>t.errorBars,h5=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>u5(r,n));V([l5,Fv,Bt],h5);var zle=V([M1,Mt,l5,Fv,Bt],f5);function Yle(t){var{value:e}=t;if(Hi(e)||e instanceof Date)return e}var AP=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=PA(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Xle=(t,e,r)=>{var n=t.map(Yle).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&sR(n))?rL(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},H1=t=>{var e;if(t==null||!("domain"in t))return nB;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=PA(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:nB},Ip=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},g5=t=>t.referenceElements.dots,Nu=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),qle=V([g5,Bt,Qf],Nu),m5=t=>t.referenceElements.areas,Jle=V([m5,Bt,Qf],Nu),p5=t=>t.referenceElements.lines,Zle=V([p5,Bt,Qf],Nu),v5=(t,e)=>{var r=PA(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},eue=V(qle,Bt,v5),y5=(t,e)=>{var r=PA(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},tue=V([Jle,Bt],y5),w5=(t,e)=>{var r=PA(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},rue=V(Zle,Bt,w5),nue=V(eue,rue,tue,(t,e,r)=>Ip(t,r,e)),x5=V([Mt],H1),V1=(t,e,r,n,i,s,a)=>{var o=vle(e,t.allowDataOverflow);if(o!=null)return o;var A=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",l=A?Ip(r,i,AP(n)):Ip(i,AP(n));return yle(e,l,t.allowDataOverflow)},iue=V([Mt,x5,Wle,zle,nue,Le,Bt],V1),sue=[0,1],K1=(t,e,r,n,i,s,a)=>{if(!((t==null||r==null||r.length===0)&&a===void 0)){var{dataKey:o,type:A}=t,l=uo(e,s);return l&&o==null?rL(0,r.length):A==="category"?Xle(n,t,l):i==="expand"?sue:a}},$1=V([Mt,Le,M1,Tv,Nf,Bt,iue],K1),b5=(t,e,r,n,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Ef(s));return o in Mc?o:"point"}}},Qu=V([Mt,Le,a5,S1,Bt],b5);function aue(t){if(t!=null){if(t in Mc)return Mc[t]();var e="scale".concat(Ef(t));if(e in Mc)return Mc[e]()}}function G1(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=aue(e);if(i!=null){var s=i.domain(r).range(n);return Jie(s),s}}}var W1=(t,e,r)=>{var n=H1(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&hu(t))return Tle(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&hu(t))return Fle(t,e.tickCount,e.allowDecimals)}},z1=V([$1,kf,Qu],W1),Y1=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&hu(e)&&Array.isArray(r)&&r.length>0){var i=e[0],s=r[0],a=e[1],o=r[r.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},oue=V([Mt,$1,z1,Bt],Y1),Aue=V(Tv,Mt,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(PA(t.map(o=>o.value))).sort((o,A)=>o-A);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),B5=V(Aue,Le,JL,Jt,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!Fn(t))return 0;var s=e==="vertical"?n.height:n.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=zr(r,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),lue=(t,e)=>{var r=Gs(t,e);return r==null||typeof r.padding!="string"?0:B5(t,"xAxis",e,r.padding)},uue=(t,e)=>{var r=go(t,e);return r==null||typeof r.padding!="string"?0:B5(t,"yAxis",e,r.padding)},cue=V(Gs,lue,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),due=V(go,uue,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),fue=V([Jt,cue,gv,hv,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),hue=V([Jt,Le,due,gv,hv,(t,e,r)=>r],(t,e,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Df=(t,e,r,n)=>{var i;switch(e){case"xAxis":return fue(t,r,n);case"yAxis":return hue(t,r,n);case"zAxis":return(i=k1(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return r5(t);case"radiusAxis":return n5(t,r);default:return}},C5=V([Mt,Df],Ev),ku=V([Mt,Qu,oue,C5],G1);V([Of,Fv,Bt],h5);function E5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Uv=(t,e)=>e,Pv=(t,e,r)=>r,gue=V(zE,Uv,Pv,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(E5)),mue=V(YE,Uv,Pv,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(E5)),_5=(t,e)=>({width:t.width,height:e.height}),pue=(t,e)=>{var r=typeof e.width=="number"?e.width:fv;return{width:r,height:t.height}},I5=V(Jt,Gs,_5),vue=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},yue=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},wue=V(Ks,Jt,gue,Uv,Pv,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var A=_5(e,o);a==null&&(a=vue(e,n,t));var l=n==="top"&&!i||n==="bottom"&&i;s[o.id]=a-Number(l)*A.height,a+=(l?-1:1)*A.height}),s}),xue=V(Vs,Jt,mue,Uv,Pv,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var A=pue(e,o);a==null&&(a=yue(e,n,t));var l=n==="left"&&!i||n==="right"&&i;s[o.id]=a-Number(l)*A.width,a+=(l?-1:1)*A.width}),s}),bue=(t,e)=>{var r=Jt(t),n=Gs(t,e);if(n!=null){var i=wue(t,n.orientation,n.mirror),s=i[e];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},Bue=(t,e)=>{var r=Jt(t),n=go(t,e);if(n!=null){var i=xue(t,n.orientation,n.mirror),s=i[e];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},S5=V(Jt,go,(t,e)=>{var r=typeof e.width=="number"?e.width:fv;return{width:r,height:t.height}}),lP=(t,e,r)=>{switch(e){case"xAxis":return I5(t,r).width;case"yAxis":return S5(t,r).height;default:return}},T5=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,o=uo(t,n),A=e.map(l=>l.value);if(a&&o&&s==="category"&&i&&sR(A))return A}},X1=V([Le,Tv,Mt,Bt],T5),F5=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=uo(t,n);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},q1=V([Le,Tv,kf,Bt],F5),uP=V([Le,Hle,Qu,ku,X1,q1,Df,z1,Bt],(t,e,r,n,i,s,a,o,A)=>{if(e==null)return null;var l=uo(t,A);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:A,categoricalDomain:s,duplicateDomain:i,isCategorical:l,niceTicks:o,range:a,realScaleType:r,scale:n}}),Cue=(t,e,r,n,i,s,a,o,A)=>{if(!(e==null||n==null)){var l=uo(t,A),{type:u,ticks:c,tickCount:f}=e,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/g:0;m=A==="angleAxis"&&s!=null&&s.length>=2?or(s[0]-s[1])*2*m:m;var p=c||i;if(p){var v=p.map((y,w)=>{var B=a?a.indexOf(y):y;return{index:w,coordinate:n(B)+m,value:y,offset:m}});return v.filter(y=>!In(y.coordinate))}return l&&o?o.map((y,w)=>({coordinate:n(y)+m,value:y,index:w,offset:m})):n.ticks?n.ticks(f).map(y=>({coordinate:n(y)+m,value:y,offset:m})):n.domain().map((y,w)=>({coordinate:n(y)+m,value:a?a[y]:y,index:w,offset:m}))}},U5=V([Le,kf,Qu,ku,z1,Df,X1,q1,Bt],Cue),Eue=(t,e,r,n,i,s,a)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=uo(t,a),{tickCount:A}=e,l=0;return l=a==="angleAxis"&&(n==null?void 0:n.length)>=2?or(n[0]-n[1])*2*l:l,o&&s?s.map((u,c)=>({coordinate:r(u)+l,value:u,index:c,offset:l})):r.ticks?r.ticks(A).map(u=>({coordinate:r(u)+l,value:u,offset:l})):r.domain().map((u,c)=>({coordinate:r(u)+l,value:i?i[u]:u,index:c,offset:l}))}},Za=V([Le,kf,ku,Df,X1,q1,Bt],Eue),eo=V(Mt,ku,(t,e)=>{if(!(t==null||e==null))return _p(_p({},t),{},{scale:e})}),_ue=V([Mt,Qu,$1,C5],G1);V((t,e,r)=>k1(t,r),_ue,(t,e)=>{if(!(t==null||e==null))return _p(_p({},t),{},{scale:e})});var Iue=V([Le,zE,YE],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),P5=t=>t.options.defaultTooltipEventType,N5=t=>t.options.validateTooltipEventTypes;function Q5(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function J1(t,e){var r=P5(t),n=N5(t);return Q5(e,r,n)}function Sue(t){return ve(e=>J1(e,t))}var k5=(t,e)=>{var r,n=Number(e);if(!(In(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},Tue=t=>t.tooltip.settings,ha={active:!1,index:null,dataKey:void 0,coordinate:void 0},Fue={itemInteraction:{click:ha,hover:ha},axisInteraction:{click:ha,hover:ha},keyboardInteraction:ha,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},O5=Nn({name:"tooltip",initialState:Fue,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=bs(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Uue,removeTooltipEntrySettings:Pue,setTooltipSettingsState:Nue,setActiveMouseOverItemIndex:D5,mouseLeaveItem:Que,mouseLeaveChart:j5,setActiveClickItemIndex:kue,setMouseOverAxisIndex:R5,setMouseClickAxisIndex:Oue,setSyncInteraction:sB,setKeyboardInteraction:aB}=O5.actions,Due=O5.reducer;function cP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(r),!0).forEach(function(n){jue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jue(t,e,r){return(e=Rue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rue(t){var e=Mue(t,"string");return typeof e=="symbol"?e:e+""}function Mue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lue(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Hue(t){return t.index!=null}var M5=(t,e,r,n)=>{if(e==null)return ha;var i=Lue(t,e,r);if(i==null)return ha;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Hue(i)){if(s)return fg(fg({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return fg(fg({},ha),{},{coordinate:i.coordinate})},Z1=(t,e)=>{var r=t==null?void 0:t.index;if(r==null)return null;var n=Number(r);if(!Fn(n))return r;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(n,s)))},L5=(t,e,r,n,i,s,a,o)=>{if(!(s==null||o==null)){var A=a[0],l=A==null?void 0:o(A.positions,s);if(l!=null)return l;var u=i==null?void 0:i[Number(s)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:u.coordinate}}}},H5=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},jf=t=>t.options.tooltipPayloadSearcher,Ou=t=>t.tooltip;function dP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(r),!0).forEach(function(n){Vue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vue(t,e,r){return(e=Kue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kue(t){var e=$ue(t,"string");return typeof e=="symbol"?e:e+""}function $ue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gue(t,e){return t??e}var V5=(t,e,r,n,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:A,dataStartIndex:l,dataEndIndex:u}=r,c=[];return t.reduce((f,g)=>{var m,{dataDefinedOnItem:p,settings:v}=g,y=Gue(p,o),w=Array.isArray(y)?IM(y,l,u):y,B=(m=v==null?void 0:v.dataKey)!==null&&m!==void 0?m:n==null?void 0:n.dataKey,I=v==null?void 0:v.nameKey,T;if(n!=null&&n.dataKey&&Array.isArray(w)&&!Array.isArray(w[0])&&a==="axis"?T=aR(w,n.dataKey,i):T=s(w,e,A,I),Array.isArray(T))T.forEach(C=>{var _=fP(fP({},v),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});f.push(tU({tooltipEntrySettings:_,dataKey:C.dataKey,payload:C.payload,value:nt(C.payload,C.dataKey),name:C.name}))});else{var F;f.push(tU({tooltipEntrySettings:v,dataKey:B,payload:T,value:nt(T,B),name:(F=nt(T,I))!==null&&F!==void 0?F:v==null?void 0:v.name}))}return f},c)}},e_=V([tr,Le,a5,S1,er],b5),Wue=V([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),zue=V([er,Pu],O1),Rf=V([Wue,tr,zue],D1),Yue=V([Rf],t=>t.filter(Iv)),Xue=V([Rf],j1),Du=V([Xue,ho],R1),que=V([Yue,ho,tr],s5),t_=V([Du,tr,Rf],L1),Jue=V([tr],H1),Zue=V([Rf],t=>t.filter(Iv)),ece=V([que,Zue,Nf],c5),tce=V([ece,ho,er],d5),rce=V([Rf],A5),nce=V([Du,tr,rce,Fv,er],f5),ice=V([g5,er,Pu],Nu),sce=V([ice,er],v5),ace=V([m5,er,Pu],Nu),oce=V([ace,er],y5),Ace=V([p5,er,Pu],Nu),lce=V([Ace,er],w5),uce=V([sce,lce,oce],Ip),cce=V([tr,Jue,tce,nce,uce,Le,er],V1),K5=V([tr,Le,Du,t_,Nf,er,cce],K1),dce=V([K5,tr,e_],W1),fce=V([tr,K5,dce,er],Y1),$5=t=>{var e=er(t),r=Pu(t),n=!1;return Df(t,e,r,n)},G5=V([tr,$5],Ev),W5=V([tr,e_,fce,G5],G1),hce=V([Le,t_,tr,er],T5),gce=V([Le,t_,tr,er],F5),mce=(t,e,r,n,i,s,a,o)=>{if(e){var{type:A}=e,l=uo(t,o);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,c=A==="category"&&n.bandwidth?n.bandwidth()/u:0;return c=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?or(i[0]-i[1])*2*c:c,l&&a?a.map((f,g)=>({coordinate:n(f)+c,value:f,index:g,offset:c})):n.domain().map((f,g)=>({coordinate:n(f)+c,value:s?s[f]:f,index:g,offset:c}))}}},Ws=V([Le,tr,e_,W5,$5,hce,gce,er],mce),r_=V([P5,N5,Tue],(t,e,r)=>Q5(r.shared,t,e)),z5=t=>t.tooltip.settings.trigger,n_=t=>t.tooltip.settings.defaultIndex,Nv=V([Ou,r_,z5,n_],M5),to=V([Nv,Du],Z1),Y5=V([Ws,to],k5),X5=V([Nv],t=>{if(t)return t.dataKey}),q5=V([Ou,r_,z5,n_],H5),pce=V([Vs,Ks,Le,Jt,Ws,n_,q5,jf],L5),vce=V([Nv,pce],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),yce=V([Nv],t=>t.active),wce=V([q5,to,ho,tr,Y5,jf,r_],V5),xce=V([wce],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function hP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(r),!0).forEach(function(n){bce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bce(t,e,r){return(e=Bce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bce(t){var e=Cce(t,"string");return typeof e=="symbol"?e:e+""}function Cce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ece=()=>ve(tr),_ce=()=>{var t=Ece(),e=ve(Ws),r=ve(W5);return Xd(gP(gP({},t),{},{scale:r}),e)},Ice=()=>ve(S1),i_=(t,e)=>e,J5=(t,e,r)=>r,s_=(t,e,r,n)=>n,Sce=V(Ws,t=>av(t,e=>e.coordinate)),a_=V([Ou,i_,J5,s_],M5),Z5=V([a_,Du],Z1),Tce=(t,e,r)=>{if(e!=null){var n=Ou(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},e3=V([Ou,i_,J5,s_],H5),Sp=V([Vs,Ks,Le,Jt,Ws,s_,e3,jf],L5),Fce=V([a_,Sp],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),t3=V(Ws,Z5,k5),Uce=V([e3,Z5,ho,tr,t3,jf,i_],V5),Pce=V([a_],t=>({isActive:t.active,activeIndex:t.index})),Nce=(t,e,r,n,i,s,a,o)=>{if(!(!t||!e||!n||!i||!s)){var A=lse(t.chartX,t.chartY,e,r,o);if(A){var l=cse(A,e),u=Xie(l,a,s,n,i),c=use(e,s,u,A);return{activeIndex:String(u),activeCoordinate:c}}}};function oB(){return oB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oB.apply(null,arguments)}function mP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(r),!0).forEach(function(n){Qce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qce(t,e,r){return(e=kce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kce(t){var e=Oce(t,"string");return typeof e=="symbol"?e:e+""}function Oce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dce(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:o,tooltipEventType:A,chartName:l}=t,u=e,c=r,f=n;if(!o||!u||l!=="ScatterChart"&&A!=="axis")return null;var g,m;if(l==="ScatterChart")g=u,m=Aae;else if(l==="BarChart")g=lae(a,u,i,s),m=YM;else if(a==="radial"){var{cx:p,cy:v,radius:y,startAngle:w,endAngle:B}=XM(u);g={cx:p,cy:v,startAngle:w,endAngle:B,innerRadius:y,outerRadius:y},m=JM}else g={points:Hae(a,u,i)},m=e1;var I=typeof o=="object"&&"className"in o?o.className:void 0,T=hg(hg(hg(hg({stroke:"#ccc",pointerEvents:"none"},i),g),yt(o,!1)),{},{payload:c,payloadIndex:f,className:Ke("recharts-tooltip-cursor",I)});return x.isValidElement(o)?x.cloneElement(o,T):x.createElement(m,T)}function jce(t){var e=_ce(),r=QM(),n=mv(),i=Ice();return x.createElement(Dce,oB({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var r3=x.createContext(null),Rce=()=>x.useContext(r3),n3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(A,l,u){this.fn=A,this.context=l,this.once=u||!1}function s(A,l,u,c,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new i(u,c||A,f),m=r?r+l:l;return A._events[m]?A._events[m].fn?A._events[m]=[A._events[m],g]:A._events[m].push(g):(A._events[m]=g,A._eventsCount++),A}function a(A,l){--A._eventsCount===0?A._events=new n:delete A._events[l]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],u,c;if(this._eventsCount===0)return l;for(c in u=this._events)e.call(u,c)&&l.push(r?c.slice(1):c);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},o.prototype.listeners=function(l){var u=r?r+l:l,c=this._events[u];if(!c)return[];if(c.fn)return[c.fn];for(var f=0,g=c.length,m=new Array(g);f<g;f++)m[f]=c[f].fn;return m},o.prototype.listenerCount=function(l){var u=r?r+l:l,c=this._events[u];return c?c.fn?1:c.length:0},o.prototype.emit=function(l,u,c,f,g,m){var p=r?r+l:l;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,w,B;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,c),!0;case 4:return v.fn.call(v.context,u,c,f),!0;case 5:return v.fn.call(v.context,u,c,f,g),!0;case 6:return v.fn.call(v.context,u,c,f,g,m),!0}for(B=1,w=new Array(y-1);B<y;B++)w[B-1]=arguments[B];v.fn.apply(v.context,w)}else{var I=v.length,T;for(B=0;B<I;B++)switch(v[B].once&&this.removeListener(l,v[B].fn,void 0,!0),y){case 1:v[B].fn.call(v[B].context);break;case 2:v[B].fn.call(v[B].context,u);break;case 3:v[B].fn.call(v[B].context,u,c);break;case 4:v[B].fn.call(v[B].context,u,c,f);break;default:if(!w)for(T=1,w=new Array(y-1);T<y;T++)w[T-1]=arguments[T];v[B].fn.apply(v[B].context,w)}}return!0},o.prototype.on=function(l,u,c){return s(this,l,u,c,!1)},o.prototype.once=function(l,u,c){return s(this,l,u,c,!0)},o.prototype.removeListener=function(l,u,c,f){var g=r?r+l:l;if(!this._events[g])return this;if(!u)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===u&&(!f||m.once)&&(!c||m.context===c)&&a(this,g);else{for(var p=0,v=[],y=m.length;p<y;p++)(m[p].fn!==u||f&&!m[p].once||c&&m[p].context!==c)&&v.push(m[p]);v.length?this._events[g]=v.length===1?v[0]:v:a(this,g)}return this},o.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(n3);var Mce=n3.exports;const Lce=Ki(Mce);var nf=new Lce,AB="recharts.syncEvent.tooltip",pP="recharts.syncEvent.brush";function o_(t,e){if(e){var r=Number.parseInt(e,10);if(!In(r))return t==null?void 0:t[r]}}var Hce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},i3=Nn({name:"options",initialState:Hce,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Vce=i3.reducer,{createEventEmitter:Kce}=i3.actions;function $ce(t){return t.tooltip.syncInteraction}var Gce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},s3=Nn({name:"chartData",initialState:Gce,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:vP,setDataStartEndIndexes:Wce,setComputedData:ove}=s3.actions,zce=s3.reducer,a3=()=>{};function Yce(){var t=ve(T1),e=ve(F1),r=Tt(),n=ve(ZL),i=ve(Ws),s=mv(),a=XE(),o=ve(A=>A.rootProps.className);x.useEffect(()=>{if(t==null)return a3;var A=(l,u,c)=>{if(e!==c&&t===l){if(n==="index"){r(u);return}if(i!=null){var f;if(typeof n=="function"){var g={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},m=n(i,g);f=i[m]}else n==="value"&&(f=i.find(F=>String(F.value)===u.payload.label));var{coordinate:p}=u.payload;if(f==null||u.payload.active===!1||p==null||a==null){r(sB({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:v,y}=p,w=Math.min(v,a.x+a.width),B=Math.min(y,a.y+a.height),I={x:s==="horizontal"?f.coordinate:w,y:s==="horizontal"?B:f.coordinate},T=sB({active:u.payload.active,coordinate:I,dataKey:u.payload.dataKey,index:String(f.index),label:u.payload.label});r(T)}}};return nf.on(AB,A),()=>{nf.off(AB,A)}},[o,r,e,t,n,i,s,a])}function Xce(){var t=ve(T1),e=ve(F1),r=Tt();x.useEffect(()=>{if(t==null)return a3;var n=(i,s,a)=>{e!==a&&t===i&&r(Wce(s))};return nf.on(pP,n),()=>{nf.off(pP,n)}},[r,e,t])}function qce(){var t=Tt();x.useEffect(()=>{t(Kce())},[t]),Yce(),Xce()}function Jce(t,e,r,n,i,s){var a=ve(f=>Tce(f,t,e)),o=ve(F1),A=ve(T1),l=ve(ZL),u=ve($ce),c=u==null?void 0:u.active;x.useEffect(()=>{if(!c&&A!=null&&o!=null){var f=sB({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});nf.emit(AB,A,f,o)}},[c,r,a,i,n,o,A,l,s])}function yP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(r),!0).forEach(function(n){Zce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zce(t,e,r){return(e=ede(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ede(t){var e=tde(t,"string");return typeof e=="symbol"?e:e+""}function tde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rde(t){return t.dataKey}function nde(t,e){return x.isValidElement(t)?x.cloneElement(t,e):typeof t=="function"?x.createElement(t,e):x.createElement(Mse,e)}var xP=[],ide={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!TA.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ps(t){var e=Qn(t,ide),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:o,isAnimationActive:A,offset:l,payloadUniqBy:u,position:c,reverseDirection:f,useTranslate3d:g,wrapperStyle:m,cursor:p,shared:v,trigger:y,defaultIndex:w,portal:B,axisId:I}=e,T=Tt(),F=typeof w=="number"?String(w):w;x.useEffect(()=>{T(Nue({shared:v,trigger:y,axisId:I,active:r,defaultIndex:F}))},[T,v,y,I,r,F]);var C=XE(),_=jM(),S=Sue(v),{activeIndex:P,isActive:Q}=ve(D=>Pce(D,S,y,F)),k=ve(D=>Uce(D,S,y,F)),N=ve(D=>t3(D,S,y,F)),se=ve(D=>Fce(D,S,y,F)),be=k,he=Rce(),ye=r??Q,[Y,ne]=tM([be,ye]),ce=S==="axis"?N:void 0;Jce(S,y,se,ce,P,ye);var Ue=B??he;if(Ue==null)return null;var re=be??xP;ye||(re=xP),o&&re.length&&(re=VR(be.filter(D=>D.value!=null&&(D.hide!==!0||e.includeHidden)),u,rde));var Pe=re.length>0,O=x.createElement(Wse,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:A,active:ye,coordinate:se,hasPayload:Pe,offset:l,position:c,reverseDirection:f,useTranslate3d:g,viewBox:C,wrapperStyle:m,lastBoundingBox:Y,innerRef:ne,hasPortalFromProps:!!B},nde(a,wP(wP({},e),{},{payload:re,label:ce,active:ye,coordinate:se,accessibilityLayer:_})));return x.createElement(x.Fragment,null,dC.createPortal(O,Ue),ye&&x.createElement(jce,{cursor:p,tooltipEventType:S,coordinate:se,payload:be,index:P}))}var o3={},A3={},l3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:s}={}){let a,o=null;const A=s!=null&&s.includes("leading"),l=s==null||s.includes("trailing"),u=()=>{o!==null&&(r.apply(a,o),a=void 0,o=null)},c=()=>{l&&u(),p()};let f=null;const g=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,c()},n)},m=()=>{f!==null&&(clearTimeout(f),f=null)},p=()=>{m(),a=void 0,o=null},v=()=>{u()},y=function(...w){if(i!=null&&i.aborted)return;a=this,o=w;const B=f==null;g(),A&&B&&u()};return y.schedule=g,y.cancel=p,y.flush=v,i==null||i.addEventListener("abort",p,{once:!0}),y}t.debounce=e})(l3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l3;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:A}=s,l=Array(2);a&&(l[0]="leading"),o&&(l[1]="trailing");let u,c=null;const f=e.debounce(function(...p){u=n.apply(this,p),c=null},i,{edges:l}),g=function(...p){return A!=null&&(c===null&&(c=Date.now()),Date.now()-c>=A)?(u=n.apply(this,p),c=Date.now(),f.cancel(),f.schedule(),u):(f.apply(this,p),u)},m=()=>(f.flush(),u);return g.cancel=f.cancel,g.flush=m,g}t.debounce=r})(A3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A3;function r(n,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(n,i,{leading:a,maxWait:i,trailing:o})}t.throttle=r})(o3);var sde=o3.throttle;const ade=Ki(sde);var ud=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function bP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ww(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(r),!0).forEach(function(n){ode(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ode(t,e,r){return(e=Ade(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ade(t){var e=lde(t,"string");return typeof e=="symbol"?e:e+""}function lde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vs=x.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:o,maxHeight:A,children:l,debounce:u=0,id:c,className:f,onResize:g,style:m={}}=t,p=x.useRef(null),v=x.useRef();v.current=g,x.useImperativeHandle(e,()=>p.current);var[y,w]=x.useState({containerWidth:n.width,containerHeight:n.height}),B=x.useCallback((T,F)=>{w(C=>{var _=Math.round(T),S=Math.round(F);return C.containerWidth===_&&C.containerHeight===S?C:{containerWidth:_,containerHeight:S}})},[]);x.useEffect(()=>{var T=S=>{var P,{width:Q,height:k}=S[0].contentRect;B(Q,k),(P=v.current)===null||P===void 0||P.call(v,Q,k)};u>0&&(T=ade(T,u,{trailing:!0,leading:!1}));var F=new ResizeObserver(T),{width:C,height:_}=p.current.getBoundingClientRect();return B(C,_),F.observe(p.current),()=>{F.disconnect()}},[B,u]);var I=x.useMemo(()=>{var{containerWidth:T,containerHeight:F}=y;if(T<0||F<0)return null;ud(Ho(i)||Ho(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),ud(!r||r>0,"The aspect(%s) must be greater than zero.",r);var C=Ho(i)?T:i,_=Ho(s)?F:s;return r&&r>0&&(C?_=C/r:_&&(C=_*r),A&&_>A&&(_=A)),ud(C>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,_,i,s,a,o,r),x.Children.map(l,S=>x.cloneElement(S,{width:C,height:_,style:ww({width:C,height:_},S.props.style)}))},[r,l,s,A,o,a,y,i]);return x.createElement("div",{id:c?"".concat(c):void 0,className:Ke("recharts-responsive-container",f),style:ww(ww({},m),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:A}),ref:p},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},I))}),ju=t=>null;ju.displayName="Cell";function ude(t,e,r){return(e=cde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cde(t){var e=dde(t,"string");return typeof e=="symbol"?e:e+""}function dde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class fde{constructor(e){ude(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function BP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(r),!0).forEach(function(n){gde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gde(t,e,r){return(e=mde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mde(t){var e=pde(t,"string");return typeof e=="symbol"?e:e+""}function pde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vde={cacheSize:2e3,enableCache:!0},u3=hde({},vde),CP=new fde(u3.cacheSize),yde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},EP="recharts_measurement_span";function wde(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var _P=(t,e)=>{try{var r=document.getElementById(EP);r||(r=document.createElement("span"),r.setAttribute("id",EP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,yde,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},cd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||TA.isSsr)return{width:0,height:0};if(!u3.enableCache)return _P(e,r);var n=wde(e,r),i=CP.get(n);if(i)return i;var s=_P(e,r);return CP.set(n,s),s},IP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,c3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Bde=Object.keys(c3),Bl="NaN";function Cde(t,e){return t*c3[e]}class qr{static parse(e){var r,[,n,i]=(r=bde.exec(e))!==null&&r!==void 0?r:[];return new qr(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,In(e)&&(this.unit=""),r!==""&&!xde.test(r)&&(this.num=NaN,this.unit=""),Bde.includes(r)&&(this.num=Cde(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new qr(NaN,""):new qr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new qr(NaN,""):new qr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new qr(NaN,""):new qr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new qr(NaN,""):new qr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return In(this.num)}}function d3(t){if(t.includes(Bl))return Bl;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,s]=(r=IP.exec(e))!==null&&r!==void 0?r:[],a=qr.parse(n??""),o=qr.parse(s??""),A=i==="*"?a.multiply(o):a.divide(o);if(A.isNaN())return Bl;e=e.replace(IP,A.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var l,[,u,c,f]=(l=SP.exec(e))!==null&&l!==void 0?l:[],g=qr.parse(u??""),m=qr.parse(f??""),p=c==="+"?g.add(m):g.subtract(m);if(p.isNaN())return Bl;e=e.replace(SP,p.toString())}return e}var TP=/\(([^()]*)\)/;function Ede(t){for(var e=t,r;(r=TP.exec(e))!=null;){var[,n]=r;e=e.replace(TP,d3(n))}return e}function _de(t){var e=t.replace(/\s+/g,"");return e=Ede(e),e=d3(e),e}function Ide(t){try{return _de(t)}catch{return Bl}}function xw(t){var e=Ide(t.slice(5,-1));return e===Bl?"":e}var Sde=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Tde=["dx","dy","angle","className","breakAll"];function lB(){return lB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lB.apply(null,arguments)}function FP(t,e){if(t==null)return{};var r,n,i=Fde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Fde(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var f3=/[ \f\n\r\t\v\u2028\u2029]+/,h3=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];ft(e)||(r?i=e.toString().split(""):i=e.toString().split(f3));var s=i.map(o=>({word:o,width:cd(o,n).width})),a=r?0:cd(" ",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Ude=(t,e,r,n,i)=>{var{maxLines:s,children:a,style:o,breakAll:A}=t,l=de(s),u=a,c=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce((k,N)=>{var{word:se,width:be}=N,he=k[k.length-1];if(he&&(n==null||i||he.width+be+r<Number(n)))he.words.push(se),he.width+=be+r;else{var ye={words:[se],width:be};k.push(ye)}return k},[])},f=c(e),g=P=>P.reduce((Q,k)=>Q.width>k.width?Q:k);if(!l||i)return f;var m=f.length>s||g(f).width>Number(n);if(!m)return f;for(var p="…",v=P=>{var Q=u.slice(0,P),k=h3({breakAll:A,style:o,children:Q+p}).wordsWithComputedWidth,N=c(k),se=N.length>s||g(N).width>Number(n);return[se,N]},y=0,w=u.length-1,B=0,I;y<=w&&B<=u.length-1;){var T=Math.floor((y+w)/2),F=T-1,[C,_]=v(F),[S]=v(T);if(!C&&!S&&(y=T+1),C&&S&&(w=T-1),!C&&S){I=_;break}B++}return I||f},UP=t=>{var e=ft(t)?[]:t.toString().split(f3);return[{words:e}]},Pde=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=t;if((e||r)&&!TA.isSsr){var o,A,l=h3({breakAll:s,children:n,style:i});if(l){var{wordsWithComputedWidth:u,spaceWidth:c}=l;o=u,A=c}else return UP(n);return Ude({breakAll:s,children:n,maxLines:a,style:i},o,A,e,r)}return UP(n)},PP="#808080",Qv=x.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:A="end",fill:l=PP}=t,u=FP(t,Sde),c=x.useMemo(()=>Pde({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:a,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,a,u.style,u.width]),{dx:f,dy:g,angle:m,className:p,breakAll:v}=u,y=FP(u,Tde);if(!Hi(r)||!Hi(n))return null;var w=r+(de(f)?f:0),B=n+(de(g)?g:0),I;switch(A){case"start":I=xw("calc(".concat(s,")"));break;case"middle":I=xw("calc(".concat((c.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:I=xw("calc(".concat(c.length-1," * -").concat(i,")"));break}var T=[];if(a){var F=c[0].width,{width:C}=u;T.push("scale(".concat(de(C)?C/F:1,")"))}return m&&T.push("rotate(".concat(m,", ").concat(w,", ").concat(B,")")),T.length&&(y.transform=T.join(" ")),x.createElement("text",lB({},yt(y,!0),{ref:e,x:w,y:B,className:Ke("recharts-text",p),textAnchor:o,fill:l.includes("url")?PP:l}),c.map((_,S)=>{var P=_.words.join(v?"":" ");return x.createElement("tspan",{x:w,dy:S===0?I:i,key:"".concat(P,"-").concat(S)},P)}))});Qv.displayName="Text";var Nde=["offset"],Qde=["labelRef"];function NP(t,e){if(t==null)return{};var r,n,i=kde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function kde(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function QP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ut(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(r),!0).forEach(function(n){Ode(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ode(t,e,r){return(e=Dde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dde(t){var e=jde(t,"string");return typeof e=="symbol"?e:e+""}function jde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function os(){return os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},os.apply(null,arguments)}var Rde=t=>{var{value:e,formatter:r}=t,n=ft(t.children)?e:t.children;return typeof r=="function"?r(n):n},A_=t=>t!=null&&typeof t=="function",Mde=(t,e)=>{var r=or(e-t),n=Math.min(Math.abs(e-t),360);return r*n},Lde=(t,e,r,n)=>{var{position:i,offset:s,className:a}=t,{cx:o,cy:A,innerRadius:l,outerRadius:u,startAngle:c,endAngle:f,clockWise:g}=n,m=(l+u)/2,p=Mde(c,f),v=p>=0?1:-1,y,w;i==="insideStart"?(y=c+v*s,w=g):i==="insideEnd"?(y=f-v*s,w=!g):i==="end"&&(y=f+v*s,w=g),w=p<=0?w:!w;var B=Kt(o,A,m,y),I=Kt(o,A,m,y+(w?1:-1)*359),T="M".concat(B.x,",").concat(B.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(w?0:1,`,
    `).concat(I.x,",").concat(I.y),F=ft(t.id)?Wd("recharts-radial-line-"):t.id;return x.createElement("text",os({},r,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",a)}),x.createElement("defs",null,x.createElement("path",{id:F,d:T})),x.createElement("textPath",{xlinkHref:"#".concat(F)},e))},Hde=(t,e,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:A}=t,l=(o+A)/2;if(r==="outside"){var{x:u,y:c}=Kt(n,i,a+e,l);return{x:u,y:c,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(s+a)/2,{x:g,y:m}=Kt(n,i,f,l);return{x:g,y:m,textAnchor:"middle",verticalAnchor:"middle"}},Vde=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,{x:s,y:a,width:o,height:A}=e,l=A>=0?1:-1,u=l*n,c=l>0?"end":"start",f=l>0?"start":"end",g=o>=0?1:-1,m=g*n,p=g>0?"end":"start",v=g>0?"start":"end";if(i==="top"){var y={x:s+o/2,y:a-l*n,textAnchor:"middle",verticalAnchor:c};return Ut(Ut({},y),r?{height:Math.max(a-r.y,0),width:o}:{})}if(i==="bottom"){var w={x:s+o/2,y:a+A+u,textAnchor:"middle",verticalAnchor:f};return Ut(Ut({},w),r?{height:Math.max(r.y+r.height-(a+A),0),width:o}:{})}if(i==="left"){var B={x:s-m,y:a+A/2,textAnchor:p,verticalAnchor:"middle"};return Ut(Ut({},B),r?{width:Math.max(B.x-r.x,0),height:A}:{})}if(i==="right"){var I={x:s+o+m,y:a+A/2,textAnchor:v,verticalAnchor:"middle"};return Ut(Ut({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:A}:{})}var T=r?{width:o,height:A}:{};return i==="insideLeft"?Ut({x:s+m,y:a+A/2,textAnchor:v,verticalAnchor:"middle"},T):i==="insideRight"?Ut({x:s+o-m,y:a+A/2,textAnchor:p,verticalAnchor:"middle"},T):i==="insideTop"?Ut({x:s+o/2,y:a+u,textAnchor:"middle",verticalAnchor:f},T):i==="insideBottom"?Ut({x:s+o/2,y:a+A-u,textAnchor:"middle",verticalAnchor:c},T):i==="insideTopLeft"?Ut({x:s+m,y:a+u,textAnchor:v,verticalAnchor:f},T):i==="insideTopRight"?Ut({x:s+o-m,y:a+u,textAnchor:p,verticalAnchor:f},T):i==="insideBottomLeft"?Ut({x:s+m,y:a+A-u,textAnchor:v,verticalAnchor:c},T):i==="insideBottomRight"?Ut({x:s+o-m,y:a+A-u,textAnchor:p,verticalAnchor:c},T):i&&typeof i=="object"&&(de(i.x)||Ho(i.x))&&(de(i.y)||Ho(i.y))?Ut({x:s+zr(i.x,o),y:a+zr(i.y,A),textAnchor:"end",verticalAnchor:"end"},T):Ut({x:s+o/2,y:a+A/2,textAnchor:"middle",verticalAnchor:"middle"},T)},Kde=t=>"cx"in t&&de(t.cx);function pn(t){var{offset:e=5}=t,r=NP(t,Nde),n=Ut({offset:e},r),{viewBox:i,position:s,value:a,children:o,content:A,className:l="",textBreakAll:u,labelRef:c}=n,f=ve(i5),g=XE(),m=s==="center"?g:f??g,p=i||m;if(!p||ft(a)&&ft(o)&&!x.isValidElement(A)&&typeof A!="function")return null;var v=Ut(Ut({},n),{},{viewBox:p});if(x.isValidElement(A)){var y=NP(v,Qde);return x.cloneElement(A,y)}var w;if(typeof A=="function"){if(w=x.createElement(A,v),x.isValidElement(w))return w}else w=Rde(n);var B=Kde(p),I=yt(n,!0);if(B&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Lde(n,w,I,p);var T=B?Hde(p,n.offset,n.position):Vde(n,p);return x.createElement(Qv,os({ref:c,className:Ke("recharts-label",l)},I,T,{breakAll:u}),w)}pn.displayName="Label";var g3=t=>{var{cx:e,cy:r,angle:n,startAngle:i,endAngle:s,r:a,radius:o,innerRadius:A,outerRadius:l,x:u,y:c,top:f,left:g,width:m,height:p,clockWise:v,labelViewBox:y}=t;if(y)return y;if(de(m)&&de(p)){if(de(u)&&de(c))return{x:u,y:c,width:m,height:p};if(de(f)&&de(g))return{x:f,y:g,width:m,height:p}}if(de(u)&&de(c))return{x:u,y:c,width:0,height:0};if(de(e)&&de(r))return{cx:e,cy:r,startAngle:i||n||0,endAngle:s||n||0,innerRadius:A||0,outerRadius:l||o||a||0,clockWise:v};if(t.viewBox)return t.viewBox},$de=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?x.createElement(pn,os({key:"label-implicit"},n)):Hi(t)?x.createElement(pn,os({key:"label-implicit",value:t},n)):x.isValidElement(t)?t.type===pn?x.cloneElement(t,Ut({key:"label-implicit"},n)):x.createElement(pn,os({key:"label-implicit",content:t},n)):A_(t)?x.createElement(pn,os({key:"label-implicit",content:t},n)):t&&typeof t=="object"?x.createElement(pn,os({},t,{key:"label-implicit"},n)):null},Gde=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:i,labelRef:s}=e,a=g3(e),o=If(i,pn).map((l,u)=>x.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)}));if(!n)return o;var A=$de(e.label,r||a,s);return[A,...o]};pn.parseViewBox=g3;pn.renderCallByParent=Gde;var m3={},p3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(p3);var v3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(v3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p3,r=v3,n=tv;function i(s){if(n.isArrayLike(s))return e.last(r.toArray(s))}t.last=i})(m3);var Wde=m3.last;const zde=Ki(Wde);var Yde=["valueAccessor"],Xde=["data","dataKey","clockWise","id","textBreakAll"];function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tp.apply(null,arguments)}function kP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(r),!0).forEach(function(n){qde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qde(t,e,r){return(e=Jde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jde(t){var e=Zde(t,"string");return typeof e=="symbol"?e:e+""}function Zde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DP(t,e){if(t==null)return{};var r,n,i=efe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function efe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var tfe=t=>Array.isArray(t.value)?zde(t.value):t.value;function Ra(t){var{valueAccessor:e=tfe}=t,r=DP(t,Yde),{data:n,dataKey:i,clockWise:s,id:a,textBreakAll:o}=r,A=DP(r,Xde);return!n||!n.length?null:x.createElement(jr,{className:"recharts-label-list"},n.map((l,u)=>{var c=ft(i)?e(l,u):nt(l&&l.payload,i),f=ft(a)?{}:{id:"".concat(a,"-").concat(u)};return x.createElement(pn,Tp({},yt(l,!0),A,f,{parentViewBox:l.parentViewBox,value:c,textBreakAll:o,viewBox:pn.parseViewBox(ft(s)?l:OP(OP({},l),{},{clockWise:s})),key:"label-".concat(u),index:u}))}))}Ra.displayName="LabelList";function rfe(t,e){return t?t===!0?x.createElement(Ra,{key:"labelList-implicit",data:e}):x.isValidElement(t)||A_(t)?x.createElement(Ra,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?x.createElement(Ra,Tp({data:e},t,{key:"labelList-implicit"})):null:null}function nfe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:n}=t,i=If(n,Ra).map((a,o)=>x.cloneElement(a,{data:e,key:"labelList-".concat(o)}));if(!r)return i;var s=rfe(t.label,e);return[s,...i]}Ra.renderCallByParent=nfe;function uB(){return uB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uB.apply(null,arguments)}var y3=t=>{var{cx:e,cy:r,r:n,className:i}=t,s=Ke("recharts-dot",i);return e===+e&&r===+r&&n===+n?x.createElement("circle",uB({},Hs(t),EE(t),{className:s,cx:e,cy:r,r:n})):null},w3=t=>t.graphicalItems.polarItems,ife=V([Bt,Qf],O1),l_=V([w3,Mt,ife],D1),sfe=V([l_],j1),u_=V([sfe,E1],R1),afe=V([u_,Mt,l_],L1),ofe=V([u_,Mt,l_],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var s,a=nt(n,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:nt(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),jP=()=>{},Afe=V([Mt,x5,jP,ofe,jP,Le,Bt],V1),x3=V([Mt,Le,u_,afe,Nf,Bt,Afe],K1),lfe=V([x3,Mt,Qu],W1);V([Mt,x3,lfe,Bt],Y1);var ufe={radiusAxis:{},angleAxis:{}},cfe=Nn({name:"polarAxis",initialState:ufe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),dfe=cfe.reducer;function RP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(r),!0).forEach(function(n){ffe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ffe(t,e,r){return(e=hfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hfe(t){var e=gfe(t,"string");return typeof e=="symbol"?e:e+""}function gfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mfe=(t,e)=>e,c_=V([w3,mfe],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),pfe=[],d_=(t,e,r)=>(r==null?void 0:r.length)===0?pfe:r,b3=V([E1,c_,d_],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>MP(MP({},e.presentationProps),s.props))),i!=null)return i}}),vfe=V([b3,c_,d_],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var s,a=nt(n,e.nameKey,e.name),o;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=e.fill,{value:Su(a,e.dataKey),color:o,payload:n,type:e.legendType}})}),yfe=V([b3,c_,d_,Jt],(t,e,r,n)=>{if(!(e==null||t==null))return uhe({offset:n,pieSettings:e,displayedData:t,cells:r})}),B3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(B3);var wfe=B3.isPlainObject;const xfe=Ki(wfe);function Fp(){return Fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fp.apply(null,arguments)}var LP=(t,e,r,n,i)=>{var s=r-n,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+r,",").concat(e),a+="L ".concat(t+r-s/2,",").concat(e+i),a+="L ".concat(t+r-s/2-n,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},bfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bfe=t=>{var e=Qn(t,bfe),r=x.useRef(),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&i(v)}catch{}},[]);var{x:s,y:a,upperWidth:o,lowerWidth:A,height:l,className:u}=e,{animationEasing:c,animationDuration:f,animationBegin:g,isUpdateAnimationActive:m}=e;if(s!==+s||a!==+a||o!==+o||A!==+A||l!==+l||o===0&&A===0||l===0)return null;var p=Ke("recharts-trapezoid",u);return m?x.createElement(hp,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:l,x:s,y:a},to:{upperWidth:o,lowerWidth:A,height:l,x:s,y:a},duration:f,animationEasing:c,isActive:m},v=>{var{upperWidth:y,lowerWidth:w,height:B,x:I,y:T}=v;return x.createElement(hp,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,easing:c},x.createElement("path",Fp({},yt(e,!0),{className:p,d:LP(I,T,y,w,B),ref:r})))}):x.createElement("g",null,x.createElement("path",Fp({},yt(e,!0),{className:p,d:LP(s,a,o,A,l)})))},Cfe=["option","shapeType","propTransformer","activeClassName","isActive"];function Efe(t,e){if(t==null)return{};var r,n,i=_fe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function _fe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function HP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Up(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(r),!0).forEach(function(n){Ife(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ife(t,e,r){return(e=Sfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sfe(t){var e=Tfe(t,"string");return typeof e=="symbol"?e:e+""}function Tfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ffe(t,e){return Up(Up({},e),t)}function Ufe(t,e){return t==="symbols"}function VP(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return x.createElement(YM,r);case"trapezoid":return x.createElement(Bfe,r);case"sector":return x.createElement(JM,r);case"symbols":if(Ufe(e))return x.createElement(FE,r);break;default:return null}}function Pfe(t){return x.isValidElement(t)?t.props:t}function C3(t){var{option:e,shapeType:r,propTransformer:n=Ffe,activeClassName:i="recharts-active-shape",isActive:s}=t,a=Efe(t,Cfe),o;if(x.isValidElement(e))o=x.cloneElement(e,Up(Up({},a),Pfe(e)));else if(typeof e=="function")o=e(a);else if(xfe(e)&&typeof e!="boolean"){var A=n(e,a);o=x.createElement(VP,{shapeType:r,elementProps:A})}else{var l=a;o=x.createElement(VP,{shapeType:r,elementProps:l})}return s?x.createElement(jr,{className:i},o):o}var f_=(t,e)=>{var r=Tt();return(n,i)=>s=>{t==null||t(n,i,s),r(D5({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},h_=t=>{var e=Tt();return(r,n)=>i=>{t==null||t(r,n,i),e(Que())}},g_=(t,e)=>{var r=Tt();return(n,i)=>s=>{t==null||t(n,i,s),r(kue({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function m_(t){var{fn:e,args:r}=t,n=Tt(),i=ln();return x.useEffect(()=>{if(!i){var s=e(r);return n(Uue(s)),()=>{n(Pue(s))}}},[e,r,n,i]),null}var E3=()=>{};function _3(t){var{legendPayload:e}=t,r=Tt(),n=ln();return x.useEffect(()=>n?E3:(r(OM(e)),()=>{r(DM(e))}),[r,n,e]),null}function Nfe(t){var{legendPayload:e}=t,r=Tt(),n=ve(Le);return x.useEffect(()=>n!=="centric"&&n!=="radial"?E3:(r(OM(e)),()=>{r(DM(e))}),[r,n,e]),null}function p_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(Wd(e)),n=x.useRef(t);return n.current!==t&&(r.current=Wd(e),n.current=t),r.current}var bw,Qfe=()=>{var[t]=x.useState(()=>Wd("uid-"));return t},kfe=(bw=xN.useId)!==null&&bw!==void 0?bw:Qfe;function Ofe(t,e){var r=kfe();return e||(t?"".concat(t,"-").concat(r):r)}var Dfe=x.createContext(void 0),v_=t=>{var{id:e,type:r,children:n}=t,i=Ofe("recharts-".concat(r),e);return x.createElement(Dfe.Provider,{value:i},n(i))},jfe={cartesianItems:[],polarItems:[]},I3=Nn({name:"graphicalItems",initialState:jfe,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=bs(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=bs(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=bs(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Rfe,replaceCartesianGraphicalItem:Mfe,removeCartesianGraphicalItem:Lfe,addPolarGraphicalItem:Hfe,removePolarGraphicalItem:Vfe}=I3.actions,Kfe=I3.reducer;function S3(t){var e=Tt(),r=x.useRef(null);return x.useEffect(()=>{r.current===null?e(Rfe(t)):r.current!==t&&e(Mfe({prev:r.current,next:t})),r.current=t},[e,t]),x.useEffect(()=>()=>{r.current&&(e(Lfe(r.current)),r.current=null)},[e]),null}function $fe(t){var e=Tt();return x.useEffect(()=>(e(Hfe(t)),()=>{e(Vfe(t))}),[e,t]),null}function Gfe(){}var Wfe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},KP={t:0},Bw={t:1};function y_(t){var e=Qn(t,Wfe),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:A,children:l}=e,u=zM("JavascriptAnimate",e.animationManager),[c,f]=x.useState(r?KP:Bw),g=x.useRef(null);return x.useEffect(()=>{r||f(Bw)},[r]),x.useEffect(()=>{if(!r||!n)return Gfe;var m=WM(KP,Bw,$M(s),i,f,u.getTimeoutController()),p=()=>{g.current=m()};return u.start([A,a,p,i,o]),()=>{u.stop(),g.current&&g.current(),o()}},[r,n,i,s,a,A,o,u]),l(c.t)}var zfe=["onMouseEnter","onClick","onMouseLeave"],Yfe=["id"],Xfe=["id"];function w_(t,e){if(t==null)return{};var r,n,i=qfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function qfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function $P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(r),!0).forEach(function(n){Jfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jfe(t,e,r){return(e=Zfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zfe(t){var e=ehe(t,"string");return typeof e=="symbol"?e:e+""}function ehe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},js.apply(null,arguments)}function the(t){var e=x.useMemo(()=>If(t.children,ju),[t.children]),r=ve(n=>vfe(n,t.id,e));return r==null?null:x.createElement(Nfe,{legendPayload:r})}function rhe(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:o,hide:A,tooltipType:l}=t;return{dataDefinedOnItem:n==null?void 0:n.map(u=>u.tooltipPayload),positions:n==null?void 0:n.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:r,name:Su(o,e),hide:A,type:l,color:a,unit:""}}}var nhe=(t,e)=>t>e?"start":t<e?"end":"middle",ihe=(t,e,r)=>typeof e=="function"?e(t):zr(e,r,r*.8),she=(t,e,r)=>{var{top:n,left:i,width:s,height:a}=e,o=_M(s,a),A=i+zr(t.cx,s,s/2),l=n+zr(t.cy,a,a/2),u=zr(t.innerRadius,o,0),c=ihe(r,t.outerRadius,o),f=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:A,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}},ahe=(t,e)=>{var r=or(e-t),n=Math.min(Math.abs(e-t),360);return r*n},ohe=(t,e)=>{if(x.isValidElement(t))return x.cloneElement(t,e);if(typeof t=="function")return t(e);var r=Ke("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return x.createElement(e1,js({},e,{type:"linear",className:r}))},Ahe=(t,e,r)=>{if(x.isValidElement(t))return x.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),x.isValidElement(n)))return n;var i=Ke("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return x.createElement(Qv,js({},e,{alignmentBaseline:"middle",className:i}),n)};function lhe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!e)return null;var o=Hs(r),A=yt(i,!1),l=yt(s,!1),u=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,c=e.map((f,g)=>{var m=(f.startAngle+f.endAngle)/2,p=Kt(f.cx,f.cy,f.outerRadius+u,m),v=Nt(Nt(Nt(Nt({},o),f),{},{stroke:"none"},A),{},{index:g,textAnchor:nhe(p.x,f.cx)},p),y=Nt(Nt(Nt(Nt({},o),f),{},{fill:"none",stroke:f.fill},l),{},{index:g,points:[Kt(f.cx,f.cy,f.outerRadius,m),p],key:"line"});return x.createElement(jr,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(g)},s&&ohe(s,y),Ahe(i,v,nt(f,a)))});return x.createElement(jr,{className:"recharts-pie-labels"},c)}function T3(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:s}=t,a=ve(to),{onMouseEnter:o,onClick:A,onMouseLeave:l}=i,u=w_(i,zfe),c=f_(o,i.dataKey),f=h_(l),g=g_(A,i.dataKey);return e==null?null:x.createElement(x.Fragment,null,e.map((m,p)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&e.length!==1)return null;var v=r&&String(p)===a,y=a?n:null,w=v?r:y,B=Nt(Nt({},m),{},{stroke:m.stroke,tabIndex:-1,[UM]:p,[PM]:i.dataKey});return x.createElement(jr,js({tabIndex:-1,className:"recharts-pie-sector"},_f(u,m,p),{onMouseEnter:c(m,p),onMouseLeave:f(m,p),onClick:g(m,p),key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(p)}),x.createElement(C3,js({option:w,isActive:v,shapeType:"sector"},B)))}),x.createElement(lhe,{sectors:e,props:i,showLabels:s}))}function uhe(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:s}=t,{cornerRadius:a,startAngle:o,endAngle:A,dataKey:l,nameKey:u,tooltipType:c}=r,f=Math.abs(r.minAngle),g=ahe(o,A),m=Math.abs(g),p=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,v=n.filter(F=>nt(F,l,0)!==0).length,y=(m>=360?v:v-1)*p,w=m-v*f-y,B=n.reduce((F,C)=>{var _=nt(C,l,0);return F+(de(_)?_:0)},0),I;if(B>0){var T;I=n.map((F,C)=>{var _=nt(F,l,0),S=nt(F,u,C),P=she(r,s,F),Q=(de(_)?_:0)/B,k,N=Nt(Nt({},F),i&&i[C]&&i[C].props);C?k=T.endAngle+or(g)*p*(_!==0?1:0):k=o;var se=k+or(g)*((_!==0?f:0)+Q*w),be=(k+se)/2,he=(P.innerRadius+P.outerRadius)/2,ye=[{name:S,value:_,payload:N,dataKey:l,type:c}],Y=Kt(P.cx,P.cy,he,be);return T=Nt(Nt(Nt(Nt({},r.presentationProps),{},{percent:Q,cornerRadius:a,name:S,tooltipPayload:ye,midAngle:be,middleRadius:he,tooltipPosition:Y},N),P),{},{value:nt(F,l),startAngle:k,endAngle:se,payload:N,paddingAngle:or(g)*p}),T})}return I}function che(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:o,activeShape:A,inactiveShape:l,onAnimationStart:u,onAnimationEnd:c}=e,f=p_(e,"recharts-pie-"),g=r.current,[m,p]=x.useState(!0),v=x.useCallback(()=>{typeof c=="function"&&c(),p(!1)},[c]),y=x.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return x.createElement(y_,{begin:s,duration:a,isActive:i,easing:o,onAnimationStart:y,onAnimationEnd:v,key:f},w=>{var B=[],I=n&&n[0],T=I.startAngle;return n.forEach((F,C)=>{var _=g&&g[C],S=C>0?qa(F,"paddingAngle",0):0;if(_){var P=wF(_.endAngle-_.startAngle,F.endAngle-F.startAngle),Q=Nt(Nt({},F),{},{startAngle:T+S,endAngle:T+P(w)+S});B.push(Q),T=Q.endAngle}else{var{endAngle:k,startAngle:N}=F,se=wF(0,k-N),be=se(w),he=Nt(Nt({},F),{},{startAngle:T+S,endAngle:T+be+S});B.push(he),T=he.endAngle}}),r.current=B,x.createElement(jr,null,x.createElement(T3,{sectors:B,activeShape:A,inactiveShape:l,allOtherPieProps:e,showLabels:!m}))})}function dhe(t){var{sectors:e,isAnimationActive:r,activeShape:n,inactiveShape:i}=t,s=x.useRef(null),a=s.current;return r&&e&&e.length&&(!a||a!==e)?x.createElement(che,{props:t,previousSectorsRef:s}):x.createElement(T3,{sectors:e,activeShape:n,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function fhe(t){var{hide:e,className:r,rootTabIndex:n}=t,i=Ke("recharts-pie",r);return e?null:x.createElement(jr,{tabIndex:n,className:i},x.createElement(dhe,t))}var hhe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!TA.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function ghe(t){var{id:e}=t,r=w_(t,Yfe),n=x.useMemo(()=>If(t.children,ju),[t.children]),i=ve(s=>yfe(s,e,n));return x.createElement(x.Fragment,null,x.createElement(m_,{fn:rhe,args:Nt(Nt({},t),{},{sectors:i})}),x.createElement(fhe,js({},r,{sectors:i})))}function x_(t){var e=Qn(t,hhe),{id:r}=e,n=w_(e,Xfe),i=Hs(n);return x.createElement(v_,{id:r,type:"pie"},s=>x.createElement(x.Fragment,null,x.createElement($fe,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),x.createElement(the,js({},n,{id:s})),x.createElement(ghe,js({},n,{id:s})),n.children))}x_.displayName="Pie";var mhe=V([Jt],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),phe=V([mhe,Vs,Ks],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),b_=()=>ve(phe),vhe=()=>ve(xce);function GP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(r),!0).forEach(function(n){yhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yhe(t,e,r){return(e=whe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function whe(t){var e=xhe(t,"string");return typeof e=="symbol"?e:e+""}function xhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bhe=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var a=WP(WP({index:r,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},yt(i,!1)),EE(i)),o;return x.isValidElement(i)?o=x.cloneElement(i,a):typeof i=="function"?o=i(a):o=x.createElement(y3,a),x.createElement(jr,{className:"recharts-active-dot"},o)};function Bhe(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,s=ve(to),a=vhe();if(e==null||a==null)return null;var o=e.find(A=>a.includes(A.payload));return ft(o)?null:bhe({point:o,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n})}var Che="Invariant failed";function Ehe(t,e){throw new Error(Che)}var _he=["x","y"];function cB(){return cB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cB.apply(null,arguments)}function zP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(r),!0).forEach(function(n){Ihe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ihe(t,e,r){return(e=She(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function She(t){var e=The(t,"string");return typeof e=="symbol"?e:e+""}function The(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fhe(t,e){if(t==null)return{};var r,n,i=Uhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Uhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Phe(t,e){var{x:r,y:n}=t,i=Fhe(t,_he),s="".concat(r),a=parseInt(s,10),o="".concat(n),A=parseInt(o,10),l="".concat(e.height||i.height),u=parseInt(l,10),c="".concat(e.width||i.width),f=parseInt(c,10);return xc(xc(xc(xc(xc({},e),i),a?{x:a}:{}),A?{y:A}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function F3(t){return x.createElement(C3,cB({shapeType:"rectangle",propTransformer:Phe,activeClassName:"recharts-active-bar"},t))}var Nhe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(de(e))return e;var s=de(n)||ft(n);return s?e(n,i):(s||Ehe(),r)}},Qhe={},khe=Nn({name:"errorBars",initialState:Qhe,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),Ohe=khe.reducer,Dhe=["children"];function jhe(t,e){if(t==null)return{};var r,n,i=Rhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Rhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Mhe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Lhe=x.createContext(Mhe);function U3(t){var{children:e}=t,r=jhe(t,Dhe);return x.createElement(Lhe.Provider,{value:r},e)}function B_(t,e){var r,n,i=ve(l=>Gs(l,t)),s=ve(l=>go(l,e)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:fn.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:hn.allowDataOverflow,A=a||o;return{needClip:A,needClipX:a,needClipY:o}}function P3(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=b_(),{needClipX:s,needClipY:a,needClip:o}=B_(e,r);if(!o)return null;var{x:A,y:l,width:u,height:c}=i;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:s?A:A-u/2,y:a?l:l-c/2,width:s?u:u*2,height:a?c:c*2}))}var Hhe=["onMouseEnter","onMouseLeave","onClick"],Vhe=["value","background","tooltipPosition"],Khe=["id"],$he=["onMouseEnter","onClick","onMouseLeave"];function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gu.apply(null,arguments)}function YP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(r),!0).forEach(function(n){Ghe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ghe(t,e,r){return(e=Whe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Whe(t){var e=zhe(t,"string");return typeof e=="symbol"?e:e+""}function zhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pp(t,e){if(t==null)return{};var r,n,i=Yhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Yhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Xhe=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Su(r,e),payload:t}]};function qhe(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:o}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:Su(s,e),hide:a,type:t.tooltipType,color:t.fill,unit:o}}}function Jhe(t){var e=ve(to),{data:r,dataKey:n,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:o,onClick:A}=s,l=Pp(s,Hhe),u=f_(a,n),c=h_(o),f=g_(A,n);if(!i||r==null)return null;var g=yt(i,!1);return x.createElement(x.Fragment,null,r.map((m,p)=>{var{value:v,background:y,tooltipPosition:w}=m,B=Pp(m,Vhe);if(!y)return null;var I=u(m,p),T=c(m,p),F=f(m,p),C=kr(kr(kr(kr(kr({option:i,isActive:String(p)===e},B),{},{fill:"#eee"},y),g),_f(l,m,p)),{},{onMouseEnter:I,onMouseLeave:T,onClick:F,dataKey:n,index:p,className:"recharts-bar-background-rectangle"});return x.createElement(F3,gu({key:"background-bar-".concat(p)},C))}))}function N3(t){var{data:e,props:r,showLabels:n}=t,i=Hs(r),s=Pp(i,Khe),{shape:a,dataKey:o,activeBar:A}=r,l=ve(to),u=ve(X5),{onMouseEnter:c,onClick:f,onMouseLeave:g}=r,m=Pp(r,$he),p=f_(c,o),v=h_(g),y=g_(f,o);return e?x.createElement(x.Fragment,null,e.map((w,B)=>{var I=A&&String(B)===l&&(u==null||o===u),T=I?A:a,F=kr(kr(kr({},s),w),{},{isActive:I,option:T,index:B,dataKey:o});return x.createElement(jr,gu({className:"recharts-bar-rectangle"},_f(m,w,B),{onMouseEnter:p(w,B),onMouseLeave:v(w,B),onClick:y(w,B),key:"rectangle-".concat(w==null?void 0:w.x,"-").concat(w==null?void 0:w.y,"-").concat(w==null?void 0:w.value,"-").concat(B)}),x.createElement(F3,F))}),n&&Ra.renderCallByParent(r,e)):null}function Zhe(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:A,onAnimationEnd:l,onAnimationStart:u}=e,c=r.current,f=p_(e,"recharts-bar-"),[g,m]=x.useState(!1),p=x.useCallback(()=>{typeof l=="function"&&l(),m(!1)},[l]),v=x.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return x.createElement(y_,{begin:a,duration:o,isActive:s,easing:A,onAnimationEnd:p,onAnimationStart:v,key:f},y=>{var w=y===1?n:n==null?void 0:n.map((B,I)=>{var T=c&&c[I];if(T)return kr(kr({},B),{},{x:gi(T.x,B.x,y),y:gi(T.y,B.y,y),width:gi(T.width,B.width,y),height:gi(T.height,B.height,y)});if(i==="horizontal"){var F=gi(0,B.height,y);return kr(kr({},B),{},{y:B.y+B.height-F,height:F})}var C=gi(0,B.width,y);return kr(kr({},B),{},{width:C})});return y>0&&(r.current=w??null),w==null?null:x.createElement(jr,null,x.createElement(N3,{props:e,data:w,showLabels:!g}))})}function ege(t){var{data:e,isAnimationActive:r}=t,n=x.useRef(null);return r&&e&&e.length&&(n.current==null||n.current!==e)?x.createElement(Zhe,{previousRectanglesRef:n,props:t}):x.createElement(N3,{props:t,data:e,showLabels:!0})}var Q3=0,tge=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:nt(t,e)}};class rge extends x.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:o,background:A,id:l}=this.props;if(e)return null;var u=Ke("recharts-bar",i),c=l;return x.createElement(jr,{className:u,id:l},o&&x.createElement("defs",null,x.createElement(P3,{clipPathId:c,xAxisId:s,yAxisId:a})),x.createElement(jr,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(c,")"):void 0},x.createElement(Jhe,{data:r,dataKey:n,background:A,allOtherBarProps:this.props}),x.createElement(ege,this.props)),this.props.children)}}var nge={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!TA.isSsr,legendType:"rect",minPointSize:Q3,xAxisId:0,yAxisId:0};function ige(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:A,animationEasing:l,isAnimationActive:u}=t,{needClip:c}=B_(e,r),f=mv(),g=ln(),m=If(t.children,ju),p=ve(w=>Uge(w,e,r,g,t.id,m));if(f!=="vertical"&&f!=="horizontal")return null;var v,y=p==null?void 0:p[0];return y==null||y.height==null||y.width==null?v=0:v=f==="vertical"?y.height/2:y.width/2,x.createElement(U3,{xAxisId:e,yAxisId:r,data:p,dataPointFormatter:tge,errorBarOffset:v},x.createElement(rge,gu({},t,{layout:f,needClip:c,data:p,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:A,animationEasing:l,isAnimationActive:u})))}function sge(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:A,yAxisTicks:l,stackedData:u,displayedData:c,offset:f,cells:g}=t,m=e==="horizontal"?o:a,p=u?m.scale.domain():null,v=sse({numericAxis:m});return c.map((y,w)=>{var B,I,T,F,C,_;u?B=Zie(u[w],p):(B=nt(y,r),Array.isArray(B)||(B=[v,B]));var S=Nhe(n,Q3)(B[1],w);if(e==="horizontal"){var P,[Q,k]=[o.scale(B[0]),o.scale(B[1])];I=JF({axis:a,ticks:A,bandSize:s,offset:i.offset,entry:y,index:w}),T=(P=k??Q)!==null&&P!==void 0?P:void 0,F=i.size;var N=Q-k;if(C=In(N)?0:N,_={x:I,y:f.top,width:F,height:f.height},Math.abs(S)>0&&Math.abs(C)<Math.abs(S)){var se=or(C||S)*(Math.abs(S)-Math.abs(C));T-=se,C+=se}}else{var[be,he]=[a.scale(B[0]),a.scale(B[1])];if(I=be,T=JF({axis:o,ticks:l,bandSize:s,offset:i.offset,entry:y,index:w}),F=he-be,C=i.size,_={x:f.left,y:T,width:f.width,height:C},Math.abs(S)>0&&Math.abs(F)<Math.abs(S)){var ye=or(F||S)*(Math.abs(S)-Math.abs(F));F+=ye}}if(I==null||T==null||F==null||C==null)return null;var Y=kr(kr({},y),{},{x:I,y:T,width:F,height:C,value:u?B:B[1],payload:y,background:_,tooltipPosition:{x:I+F/2,y:T+C/2}},g&&g[w]&&g[w].props);return Y}).filter(Boolean)}function yn(t){var e=Qn(t,nge),r=ln();return x.createElement(v_,{id:e.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(_3,{legendPayload:Xhe(e)}),x.createElement(m_,{fn:qhe,args:e}),x.createElement(S3,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:ise(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),x.createElement(ige,gu({},e,{id:n}))))}yn.displayName="Bar";function XP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(r),!0).forEach(function(n){age(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function age(t,e,r){return(e=oge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oge(t){var e=Age(t,"string");return typeof e=="symbol"?e:e+""}function Age(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lge=(t,e)=>e,uge=(t,e,r)=>r,cge=(t,e,r,n)=>n,dge=(t,e,r,n,i)=>i,Mf=V([Sv,dge],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),fge=V([Mf],t=>t==null?void 0:t.maxBarSize),hge=(t,e,r,n,i,s)=>s,qP=(t,e,r)=>{var n=r??t;if(!ft(n))return zr(n,e,0)},gge=V([Le,Sv,lge,uge,cge],(t,e,r,n,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),mge=(t,e,r,n)=>{var i=Le(t);return i==="horizontal"?iB(t,"yAxis",r,n):iB(t,"xAxis",e,n)},pge=(t,e,r)=>{var n=Le(t);return n==="horizontal"?lP(t,"xAxis",e):lP(t,"yAxis",r)},vge=(t,e,r)=>{var n={},i=t.filter(Iv),s=t.filter(l=>l.stackId==null),a=i.reduce((l,u)=>(l[u.stackId]||(l[u.stackId]=[]),l[u.stackId].push(u),l),n),o=Object.entries(a).map(l=>{var[u,c]=l,f=c.map(m=>m.dataKey),g=qP(e,r,c[0].barSize);return{stackId:u,dataKeys:f,barSize:g}}),A=s.map(l=>{var u=[l.dataKey].filter(f=>f!=null),c=qP(e,r,l.barSize);return{stackId:void 0,dataKeys:u,barSize:c}});return[...o,...A]},yge=V([gge,Ple,pge],vge),wge=(t,e,r,n,i)=>{var s,a,o=Mf(t,e,r,n,i);if(o!=null){var A=Le(t),l=qL(t),{maxBarSize:u}=o,c=ft(u)?l:u,f,g;return A==="horizontal"?(f=eo(t,"xAxis",e,n),g=Za(t,"xAxis",e,n)):(f=eo(t,"yAxis",r,n),g=Za(t,"yAxis",r,n)),(s=(a=Xd(f,g,!0))!==null&&a!==void 0?a:c)!==null&&s!==void 0?s:0}},k3=(t,e,r,n)=>{var i=Le(t),s,a;return i==="horizontal"?(s=eo(t,"xAxis",e,n),a=Za(t,"xAxis",e,n)):(s=eo(t,"yAxis",r,n),a=Za(t,"yAxis",r,n)),Xd(s,a)};function xge(t,e,r,n,i){var s=n.length;if(!(s<1)){var a=zr(t,r,0,!0),o,A=[];if(Fn(n[0].barSize)){var l=!1,u=r/s,c=n.reduce((y,w)=>y+(w.barSize||0),0);c+=(s-1)*a,c>=r&&(c-=(s-1)*a,a=0),c>=r&&u>0&&(l=!0,u*=.9,c=s*u);var f=(r-c)/2>>0,g={offset:f-a,size:0};o=n.reduce((y,w)=>{var B,I={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:g.offset+g.size+a,size:l?u:(B=w.barSize)!==null&&B!==void 0?B:0}},T=[...y,I];return g=T[T.length-1].position,T},A)}else{var m=zr(e,r,0,!0);r-2*m-(s-1)*a<=0&&(a=0);var p=(r-2*m-(s-1)*a)/s;p>1&&(p>>=0);var v=Fn(i)?Math.min(p,i):p;o=n.reduce((y,w,B)=>[...y,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m+(p+a)*B+(p-v)/2,size:v}}],A)}return o}}var bge=(t,e,r,n,i,s,a)=>{var o=ft(a)?e:a,A=xge(r,n,i!==s?i:s,t,o);return i!==s&&A!=null&&(A=A.map(l=>gg(gg({},l),{},{position:gg(gg({},l.position),{},{offset:l.position.offset-i/2})}))),A},Bge=V([yge,qL,Ule,JL,wge,k3,fge],bge),Cge=(t,e,r,n)=>eo(t,"xAxis",e,n),Ege=(t,e,r,n)=>eo(t,"yAxis",r,n),_ge=(t,e,r,n)=>Za(t,"xAxis",e,n),Ige=(t,e,r,n)=>Za(t,"yAxis",r,n),Sge=V([Bge,Mf],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),Tge=(t,e)=>{var r=Q1(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},Fge=V([mge,Mf],Tge),Uge=V([Jt,Cge,Ege,_ge,Ige,Sge,Le,Bv,k3,Fge,Mf,hge],(t,e,r,n,i,s,a,o,A,l,u,c)=>{var{chartData:f,dataStartIndex:g,dataEndIndex:m}=o;if(!(u==null||s==null||a!=="horizontal"&&a!=="vertical"||e==null||r==null||n==null||i==null||A==null)){var{data:p}=u,v;if(p!=null&&p.length>0?v=p:v=f==null?void 0:f.slice(g,m+1),v!=null)return sge({layout:a,barSettings:u,pos:s,bandSize:A,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:l,displayedData:v,offset:t,cells:c})}}),O3=t=>{var{chartData:e}=t,r=Tt(),n=ln();return x.useEffect(()=>n?()=>{}:(r(vP(e)),()=>{r(vP(void 0))}),[e,r,n]),null},JP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Pge=Nn({name:"brush",initialState:JP,reducers:{setBrushSettings(t,e){return e.payload==null?JP:e.payload}}}),Nge=Pge.reducer;function Qge(t,e,r){return(e=kge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kge(t){var e=Oge(t,"string");return typeof e=="symbol"?e:e+""}function Oge(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class C_{static create(e){return new C_(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}Qge(C_,"EPS",1e-4);function Dge(t){return(t%180+180)%180}var jge=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Dge(i),a=s*Math.PI/180,o=Math.atan(n/r),A=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(A)},Rge={dots:[],areas:[],lines:[]},Mge=Nn({name:"referenceElements",initialState:Rge,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=bs(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=bs(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=bs(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),Lge=Mge.reducer,Hge=x.createContext(void 0),Vge=t=>{var{children:e}=t,[r]=x.useState("".concat(Wd("recharts"),"-clip")),n=b_();if(n==null)return null;var{x:i,y:s,width:a,height:o}=n;return x.createElement(Hge.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function Cw(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function D3(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Kge(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return jge(n,r)}function $ge(t,e,r){var n=r==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function Np(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function Gge(t,e){return D3(t,e+1)}function Wge(t,e,r,n,i){for(var s=(n||[]).slice(),{start:a,end:o}=e,A=0,l=1,u=a,c=function(){var m=n==null?void 0:n[A];if(m===void 0)return{v:D3(n,l)};var p=A,v,y=()=>(v===void 0&&(v=r(m,p)),v),w=m.coordinate,B=A===0||Np(t,w,y,u,o);B||(A=0,u=a,l+=1),B&&(u=w+t*(y()/2+i),A+=l)},f;l<=s.length;)if(f=c(),f)return f.v;return[]}function ZP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(r),!0).forEach(function(n){zge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zge(t,e,r){return(e=Yge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yge(t){var e=Xge(t,"string");return typeof e=="symbol"?e:e+""}function Xge(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qge(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:o}=e,{end:A}=e,l=function(f){var g=s[f],m,p=()=>(m===void 0&&(m=r(g,f)),m);if(f===a-1){var v=t*(g.coordinate+t*p()/2-A);s[f]=g=Pr(Pr({},g),{},{tickCoord:v>0?g.coordinate-v*t:g.coordinate})}else s[f]=g=Pr(Pr({},g),{},{tickCoord:g.coordinate});var y=Np(t,g.tickCoord,p,o,A);y&&(A=g.tickCoord-t*(p()/2+i),s[f]=Pr(Pr({},g),{},{isShow:!0}))},u=a-1;u>=0;u--)l(u);return s}function Jge(t,e,r,n,i,s){var a=(n||[]).slice(),o=a.length,{start:A,end:l}=e;if(s){var u=n[o-1],c=r(u,o-1),f=t*(u.coordinate+t*c/2-l);a[o-1]=u=Pr(Pr({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var g=Np(t,u.tickCoord,()=>c,A,l);g&&(l=u.tickCoord-t*(c/2+i),a[o-1]=Pr(Pr({},u),{},{isShow:!0}))}for(var m=s?o-1:o,p=function(w){var B=a[w],I,T=()=>(I===void 0&&(I=r(B,w)),I);if(w===0){var F=t*(B.coordinate-t*T()/2-A);a[w]=B=Pr(Pr({},B),{},{tickCoord:F<0?B.coordinate-F*t:B.coordinate})}else a[w]=B=Pr(Pr({},B),{},{tickCoord:B.coordinate});var C=Np(t,B.tickCoord,T,A,l);C&&(A=B.tickCoord+t*(T()/2+i),a[w]=Pr(Pr({},B),{},{isShow:!0}))},v=0;v<m;v++)p(v);return a}function E_(t,e,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:A,tickFormatter:l,unit:u,angle:c}=t;if(!i||!i.length||!n)return[];if(de(A)||TA.isSsr){var f;return(f=Gge(i,de(A)?A:0))!==null&&f!==void 0?f:[]}var g=[],m=o==="top"||o==="bottom"?"width":"height",p=u&&m==="width"?cd(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=(B,I)=>{var T=typeof l=="function"?l(B.value,I):B.value;return m==="width"?Kge(cd(T,{fontSize:e,letterSpacing:r}),p,c):cd(T,{fontSize:e,letterSpacing:r})[m]},y=i.length>=2?or(i[1].coordinate-i[0].coordinate):1,w=$ge(s,y,m);return A==="equidistantPreserveStart"?Wge(y,w,v,i,a):(A==="preserveStart"||A==="preserveStartEnd"?g=Jge(y,w,v,i,a,A==="preserveStartEnd"):g=qge(y,w,v,i,a),g.filter(B=>B.isShow))}var Zge=["viewBox"],eme=["viewBox"];function Cl(){return Cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cl.apply(null,arguments)}function eN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(r),!0).forEach(function(n){__(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tN(t,e){if(t==null)return{};var r,n,i=tme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function tme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function __(t,e,r){return(e=rme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rme(t){var e=nme(t,"string");return typeof e=="symbol"?e:e+""}function nme(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mo extends x.Component{constructor(e){super(e),this.tickRefs=x.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,r){var{viewBox:n}=e,i=tN(e,Zge),s=this.props,{viewBox:a}=s,o=tN(s,eme);return!Cw(n,a)||!Cw(i,o)||!Cw(r,this.state)}getTickLineCoord(e){var{x:r,y:n,width:i,height:s,orientation:a,tickSize:o,mirror:A,tickMargin:l}=this.props,u,c,f,g,m,p,v=A?-1:1,y=e.tickSize||o,w=de(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,g=n+ +!A*s,f=g-v*y,p=f-v*l,m=w;break;case"left":f=g=e.coordinate,c=r+ +!A*i,u=c-v*y,m=u-v*l,p=w;break;case"right":f=g=e.coordinate,c=r+ +A*i,u=c+v*y,m=u+v*l,p=w;break;default:u=c=e.coordinate,g=n+ +A*s,f=g+v*y,p=f+v*l,m=w;break}return{line:{x1:u,y1:f,x2:c,y2:g},tick:{x:m,y:p}}}getTickTextAnchor(){var{orientation:e,mirror:r}=this.props,n;switch(e){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:e,mirror:r}=this.props;switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:e,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:o}=this.props,A=Gt(Gt(Gt({},yt(this.props,!1)),yt(o,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var l=+(s==="top"&&!a||s==="bottom"&&a);A=Gt(Gt({},A),{},{x1:e,y1:r+l*i,x2:e+n,y2:r+l*i})}else{var u=+(s==="left"&&!a||s==="right"&&a);A=Gt(Gt({},A),{},{x1:e+u*n,y1:r,x2:e+u*n,y2:r+i})}return x.createElement("line",Cl({},A,{className:Ke("recharts-cartesian-axis-line",qa(o,"className"))}))}static renderTickItem(e,r,n){var i,s=Ke(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(e))i=x.cloneElement(e,Gt(Gt({},r),{},{className:s}));else if(typeof e=="function")i=e(Gt(Gt({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Ke(a,e.className)),i=x.createElement(Qv,Cl({},r,{className:a}),n)}return i}renderTicks(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:o,unit:A,padding:l}=this.props,u=E_(Gt(Gt({},this.props),{},{ticks:n}),e,r),c=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),g=Hs(this.props),m=yt(a,!1),p=Gt(Gt({},g),{},{fill:"none"},yt(i,!1)),v=u.map((y,w)=>{var{line:B,tick:I}=this.getTickLineCoord(y),T=Gt(Gt(Gt(Gt({textAnchor:c,verticalAnchor:f},g),{},{stroke:"none",fill:s},m),I),{},{index:w,payload:y,visibleTicksCount:u.length,tickFormatter:o,padding:l});return x.createElement(jr,Cl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},_f(this.props,y,w)),i&&x.createElement("line",Cl({},p,B,{className:Ke("recharts-cartesian-axis-tick-line",qa(i,"className"))})),a&&mo.renderTickItem(a,T,"".concat(typeof o=="function"?o(y.value,w):y.value).concat(A||"")))});return v.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},v):null}render(){var{axisLine:e,width:r,height:n,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:x.createElement(jr,{className:Ke("recharts-cartesian-axis",i),ref:o=>{if(o){var A=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(A);var l=A[0];if(l){var u=window.getComputedStyle(l).fontSize,c=window.getComputedStyle(l).letterSpacing;(u!==this.state.fontSize||c!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(l).fontSize,letterSpacing:window.getComputedStyle(l).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),pn.renderCallByParent(this.props))}}__(mo,"displayName","CartesianAxis");__(mo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ime=["x1","y1","x2","y2","key"],sme=["offset"],ame=["xAxisId","yAxisId"],ome=["xAxisId","yAxisId"];function rN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(r),!0).forEach(function(n){Ame(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ame(t,e,r){return(e=lme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lme(t){var e=ume(t,"string");return typeof e=="symbol"?e:e+""}function ume(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Go(){return Go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Go.apply(null,arguments)}function Qp(t,e){if(t==null)return{};var r,n,i=cme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function cme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var dme=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:o}=t;return x.createElement("rect",{x:n,y:i,ry:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function j3(t,e){var r;if(x.isValidElement(t))r=x.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:s,y2:a,key:o}=e,A=Qp(e,ime),l=Hs(A),u=Qp(l,sme);r=x.createElement("line",Go({},u,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:o}))}return r}function fme(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var s=Qp(t,ame),a=i.map((o,A)=>{var l=Or(Or({},s),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(A),index:A});return j3(n,l)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function hme(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var s=Qp(t,ome),a=i.map((o,A)=>{var l=Or(Or({},s),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(A),index:A});return j3(n,l)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function gme(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:o,horizontal:A=!0}=t;if(!A||!e||!e.length)return null;var l=o.map(c=>Math.round(c+i-i)).sort((c,f)=>c-f);i!==l[0]&&l.unshift(0);var u=l.map((c,f)=>{var g=!l[f+1],m=g?i+a-c:l[f+1]-c;if(m<=0)return null;var p=f%e.length;return x.createElement("rect",{key:"react-".concat(f),y:c,x:n,height:m,width:s,stroke:"none",fill:e[p],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function mme(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:o,verticalPoints:A}=t;if(!e||!r||!r.length)return null;var l=A.map(c=>Math.round(c+i-i)).sort((c,f)=>c-f);i!==l[0]&&l.unshift(0);var u=l.map((c,f)=>{var g=!l[f+1],m=g?i+a-c:l[f+1]-c;if(m<=0)return null;var p=f%r.length;return x.createElement("rect",{key:"react-".concat(f),x:c,y:s,width:m,height:o,stroke:"none",fill:r[p],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var pme=(t,e)=>{var{xAxis:r,width:n,height:i,offset:s}=t;return SM(E_(Or(Or(Or({},mo.defaultProps),r),{},{ticks:TM(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,e)},vme=(t,e)=>{var{yAxis:r,width:n,height:i,offset:s}=t;return SM(E_(Or(Or(Or({},mo.defaultProps),r),{},{ticks:TM(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,e)},yme={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Ma(t){var e=qE(),r=JE(),n=QM(),i=Or(Or({},Qn(t,yme)),{},{x:de(t.x)?t.x:n.left,y:de(t.y)?t.y:n.top,width:de(t.width)?t.width:n.width,height:de(t.height)?t.height:n.height}),{xAxisId:s,yAxisId:a,x:o,y:A,width:l,height:u,syncWithTicks:c,horizontalValues:f,verticalValues:g}=i,m=ln(),p=ve(S=>uP(S,"xAxis",s,m)),v=ve(S=>uP(S,"yAxis",a,m));if(!de(l)||l<=0||!de(u)||u<=0||!de(o)||o!==+o||!de(A)||A!==+A)return null;var y=i.verticalCoordinatesGenerator||pme,w=i.horizontalCoordinatesGenerator||vme,{horizontalPoints:B,verticalPoints:I}=i;if((!B||!B.length)&&typeof w=="function"){var T=f&&f.length,F=w({yAxis:v?Or(Or({},v),{},{ticks:T?f:v.ticks}):void 0,width:e,height:r,offset:n},T?!0:c);ud(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(B=F)}if((!I||!I.length)&&typeof y=="function"){var C=g&&g.length,_=y({xAxis:p?Or(Or({},p),{},{ticks:C?g:p.ticks}):void 0,width:e,height:r,offset:n},C?!0:c);ud(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(I=_)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(dme,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(gme,Go({},i,{horizontalPoints:B})),x.createElement(mme,Go({},i,{verticalPoints:I})),x.createElement(fme,Go({},i,{offset:n,horizontalPoints:B,xAxis:p,yAxis:v})),x.createElement(hme,Go({},i,{offset:n,verticalPoints:I,xAxis:p,yAxis:v})))}Ma.displayName="CartesianGrid";var R3=(t,e,r,n)=>eo(t,"xAxis",e,n),M3=(t,e,r,n)=>Za(t,"xAxis",e,n),L3=(t,e,r,n)=>eo(t,"yAxis",r,n),H3=(t,e,r,n)=>Za(t,"yAxis",r,n),wme=V([Le,R3,L3,M3,H3],(t,e,r,n,i)=>uo(t,"xAxis")?Xd(e,n,!1):Xd(r,i,!1)),xme=(t,e,r,n,i)=>i;function bme(t){return t.type==="line"}var Bme=V([Sv,xme],(t,e)=>t.filter(bme).find(r=>r.id===e)),Cme=V([Le,R3,L3,M3,H3,Bme,wme,Bv],(t,e,r,n,i,s,a,o)=>{var{chartData:A,dataStartIndex:l,dataEndIndex:u}=o;if(!(s==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||a==null)){var{dataKey:c,data:f}=s,g;if(f!=null&&f.length>0?g=f:g=A==null?void 0:A.slice(l,u+1),g!=null)return $me({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:c,bandSize:a,displayedData:g})}}),Eme=["id"],_me=["type","layout","connectNulls","needClip"],Ime=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function nN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(r),!0).forEach(function(n){Sme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sme(t,e,r){return(e=Tme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tme(t){var e=Fme(t,"string");return typeof e=="symbol"?e:e+""}function Fme(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I_(t,e){if(t==null)return{};var r,n,i=Ume(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ume(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function wA(){return wA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wA.apply(null,arguments)}var Pme=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Su(r,e),payload:t}]};function Nme(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:s,name:a,hide:o,unit:A}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Su(a,e),hide:o,type:t.tooltipType,color:t.stroke,unit:A}}}var V3=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Qme(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var kme=(t,e,r)=>{var n=r.reduce((c,f)=>c+f);if(!n)return V3(e,t);for(var i=Math.floor(t/n),s=t%n,a=e-t,o=[],A=0,l=0;A<r.length;l+=r[A],++A)if(l+r[A]>s){o=[...r.slice(0,A),s-l];break}var u=o.length%2===0?[0,a]:[a];return[...Qme(r,i),...o,...u].map(c=>"".concat(c,"px")).join(", ")};function Ome(t,e){var r;if(x.isValidElement(t))r=x.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=Ke("recharts-line-dot",typeof t!="boolean"?t.className:"");r=x.createElement(y3,wA({},e,{className:n}))}return r}function Dme(t,e){return t==null?!1:e?!0:t.length===1}function jme(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:s,needClip:a}=n;if(!Dme(r,i))return null;var o=I_(n,Eme),A=lR(i),l=Hs(o),u=yt(i,!0),c=r.map((g,m)=>{var p=mi(mi(mi({key:"dot-".concat(m),r:3},l),u),{},{index:m,cx:g.x,cy:g.y,dataKey:s,value:g.value,payload:g.payload,points:r});return Ome(i,p)}),f={clipPath:a?"url(#clipPath-".concat(A?"":"dots-").concat(e,")"):void 0};return x.createElement(jr,wA({className:"recharts-line-dots",key:"dots"},f),c)}function dB(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:s,showLabels:a}=t,{type:o,layout:A,connectNulls:l,needClip:u}=s,c=I_(s,_me),f=mi(mi({},yt(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):void 0,points:n,type:o,layout:A,connectNulls:l,strokeDasharray:i??s.strokeDasharray});return x.createElement(x.Fragment,null,(n==null?void 0:n.length)>1&&x.createElement(e1,wA({},f,{pathRef:r})),x.createElement(jme,{points:n,clipPathId:e,props:s}),a&&Ra.renderCallByParent(s,n))}function Rme(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Mme(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:o,isAnimationActive:A,animationBegin:l,animationDuration:u,animationEasing:c,animateNewValues:f,width:g,height:m,onAnimationEnd:p,onAnimationStart:v}=r,y=i.current,w=p_(r,"recharts-line-"),[B,I]=x.useState(!1),T=x.useCallback(()=>{typeof p=="function"&&p(),I(!1)},[p]),F=x.useCallback(()=>{typeof v=="function"&&v(),I(!0)},[v]),C=Rme(n.current),_=s.current;return x.createElement(y_,{begin:l,duration:u,isActive:A,easing:c,onAnimationEnd:T,onAnimationStart:F,key:w},S=>{var P=gi(_,C+_,S),Q=Math.min(P,C),k;if(o){var N="".concat(o).split(/[,\s]+/gim).map(he=>parseFloat(he));k=kme(Q,C,N)}else k=V3(C,Q);if(y){var se=y.length/a.length,be=S===1?a:a.map((he,ye)=>{var Y=Math.floor(ye*se);if(y[Y]){var ne=y[Y];return mi(mi({},he),{},{x:gi(ne.x,he.x,S),y:gi(ne.y,he.y,S)})}return f?mi(mi({},he),{},{x:gi(g*2,he.x,S),y:gi(m/2,he.y,S)}):mi(mi({},he),{},{x:he.x,y:he.y})});return i.current=be,x.createElement(dB,{props:r,points:be,clipPathId:e,pathRef:n,showLabels:!B,strokeDasharray:k})}return S>0&&C>0&&(i.current=a,s.current=Q),x.createElement(dB,{props:r,points:a,clipPathId:e,pathRef:n,showLabels:!B,strokeDasharray:k})})}function Lme(t){var{clipPathId:e,props:r}=t,{points:n,isAnimationActive:i}=r,s=x.useRef(null),a=x.useRef(0),o=x.useRef(null),A=s.current;return i&&n&&n.length&&A!==n?x.createElement(Mme,{props:r,clipPathId:e,previousPointsRef:s,longestAnimatedLengthRef:a,pathRef:o}):x.createElement(dB,{props:r,points:n,clipPathId:e,pathRef:o,showLabels:!0})}var Hme=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:nt(t.payload,e)});class Vme extends x.Component{render(){var e,{hide:r,dot:n,points:i,className:s,xAxisId:a,yAxisId:o,top:A,left:l,width:u,height:c,id:f,needClip:g}=this.props;if(r)return null;var m=Ke("recharts-line",s),p=f,{r:v=3,strokeWidth:y=2}=(e=yt(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},w=lR(n),B=v*2+y;return x.createElement(x.Fragment,null,x.createElement(jr,{className:m},g&&x.createElement("defs",null,x.createElement(P3,{clipPathId:p,xAxisId:a,yAxisId:o}),!w&&x.createElement("clipPath",{id:"clipPath-dots-".concat(p)},x.createElement("rect",{x:l-B/2,y:A-B/2,width:u+B,height:c+B}))),x.createElement(Lme,{props:this.props,clipPathId:p}),x.createElement(U3,{xAxisId:a,yAxisId:o,data:i,dataPointFormatter:Hme,errorBarOffset:0},this.props.children)),x.createElement(Bhe,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var K3={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!TA.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Kme(t){var e=Qn(t,K3),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:A,hide:l,isAnimationActive:u,label:c,legendType:f,xAxisId:g,yAxisId:m,id:p}=e,v=I_(e,Ime),{needClip:y}=B_(g,m),w=b_(),B=mv(),I=ln(),T=ve(P=>Cme(P,g,m,I,p));if(B!=="horizontal"&&B!=="vertical"||T==null||w==null)return null;var{height:F,width:C,x:_,y:S}=w;return x.createElement(Vme,wA({},v,{id:p,connectNulls:o,dot:A,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:u,hide:l,label:c,legendType:f,xAxisId:g,yAxisId:m,points:T,layout:B,height:F,width:C,left:_,top:S,needClip:y}))}function $me(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:o,displayedData:A}=t;return A.map((l,u)=>{var c=nt(l,a);if(e==="horizontal"){var f=qF({axis:r,ticks:i,bandSize:o,entry:l,index:u}),g=ft(c)?null:n.scale(c);return{x:f,y:g,value:c,payload:l}}var m=ft(c)?null:r.scale(c),p=qF({axis:n,ticks:s,bandSize:o,entry:l,index:u});return m==null||p==null?null:{x:m,y:p,value:c,payload:l}}).filter(Boolean)}function Kn(t){var e=Qn(t,K3),r=ln();return x.createElement(v_,{id:e.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(_3,{legendPayload:Pme(e)}),x.createElement(m_,{fn:Nme,args:e}),x.createElement(S3,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),x.createElement(Kme,wA({},e,{id:n}))))}Kn.displayName="Line";function iN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(r),!0).forEach(function(n){Gme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gme(t,e,r){return(e=Wme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wme(t){var e=zme(t,"string");return typeof e=="symbol"?e:e+""}function zme(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yme={xAxis:{},yAxis:{},zAxis:{}},$3=Nn({name:"cartesianAxis",initialState:Yme,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=sN(sN({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:Xme,removeXAxis:qme,addYAxis:Jme,removeYAxis:Zme,addZAxis:Ave,removeZAxis:lve,updateYAxisWidth:epe}=$3.actions,tpe=$3.reducer,rpe=["children"],npe=["dangerouslySetInnerHTML","ticks"];function G3(t,e,r){return(e=ipe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ipe(t){var e=spe(t,"string");return typeof e=="symbol"?e:e+""}function spe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fB(){return fB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fB.apply(null,arguments)}function W3(t,e){if(t==null)return{};var r,n,i=ape(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ape(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ope(t){var e=Tt(),r=x.useMemo(()=>{var s=W3(t,rpe);return s},[t]),n=ve(s=>Gs(s,r.id)),i=r===n;return x.useEffect(()=>(e(Xme(r)),()=>{e(qme(r))}),[r,e]),i?t.children:null}var Ape=t=>{var{xAxisId:e,className:r}=t,n=ve(NM),i=ln(),s="xAxis",a=ve(c=>ku(c,s,e,i)),o=ve(c=>U5(c,s,e,i)),A=ve(c=>I5(c,e)),l=ve(c=>bue(c,e));if(A==null||l==null)return null;var u=W3(t,npe);return x.createElement(mo,fB({},u,{scale:a,x:l.x,y:l.y,width:A.width,height:A.height,className:Ke("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o}))},lpe=t=>{var e,r,n,i,s;return x.createElement(ope,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},x.createElement(Ape,t))};class Cs extends x.Component{render(){return x.createElement(lpe,this.props)}}G3(Cs,"displayName","XAxis");G3(Cs,"defaultProps",{allowDataOverflow:fn.allowDataOverflow,allowDecimals:fn.allowDecimals,allowDuplicatedCategory:fn.allowDuplicatedCategory,height:fn.height,hide:!1,mirror:fn.mirror,orientation:fn.orientation,padding:fn.padding,reversed:fn.reversed,scale:fn.scale,tickCount:fn.tickCount,type:fn.type,xAxisId:0});var upe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){e.forEach(u=>{if(u){var c=u.getBoundingClientRect();c.width>a&&(a=c.width)}});var o=r?r.getBoundingClientRect().width:0,A=i+s,l=a+A+o+(r?n:0);return Math.round(l)}return 0},cpe=["dangerouslySetInnerHTML","ticks"];function z3(t,e,r){return(e=dpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dpe(t){var e=fpe(t,"string");return typeof e=="symbol"?e:e+""}function fpe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hB(){return hB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hB.apply(null,arguments)}function hpe(t,e){if(t==null)return{};var r,n,i=gpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function gpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function mpe(t){var e=Tt();return x.useEffect(()=>(e(Jme(t)),()=>{e(Zme(t))}),[t,e]),null}var ppe=t=>{var e,{yAxisId:r,className:n,width:i,label:s}=t,a=x.useRef(null),o=x.useRef(null),A=ve(NM),l=ln(),u=Tt(),c="yAxis",f=ve(y=>ku(y,c,r,l)),g=ve(y=>S5(y,r)),m=ve(y=>Bue(y,r)),p=ve(y=>U5(y,c,r,l));if(x.useLayoutEffect(()=>{var y;if(!(i!=="auto"||!g||A_(s)||x.isValidElement(s))){var w=a.current,B=w==null||(y=w.tickRefs)===null||y===void 0?void 0:y.current,{tickSize:I,tickMargin:T}=w.props,F=upe({ticks:B,label:o.current,labelGapWithTick:5,tickSize:I,tickMargin:T});Math.round(g.width)!==Math.round(F)&&u(epe({id:r,width:F}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,g==null?void 0:g.width,g,u,s,r,i]),g==null||m==null)return null;var v=hpe(t,cpe);return x.createElement(mo,hB({},v,{ref:a,labelRef:o,scale:f,x:m.x,y:m.y,width:g.width,height:g.height,className:Ke("recharts-".concat(c," ").concat(c),n),viewBox:A,ticks:p}))},vpe=t=>{var e,r,n,i,s;return x.createElement(x.Fragment,null,x.createElement(mpe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),x.createElement(ppe,t))},ype={allowDataOverflow:hn.allowDataOverflow,allowDecimals:hn.allowDecimals,allowDuplicatedCategory:hn.allowDuplicatedCategory,hide:!1,mirror:hn.mirror,orientation:hn.orientation,padding:hn.padding,reversed:hn.reversed,scale:hn.scale,tickCount:hn.tickCount,type:hn.type,width:hn.width,yAxisId:0};class Es extends x.Component{render(){return x.createElement(vpe,this.props)}}z3(Es,"displayName","YAxis");z3(Es,"defaultProps",ype);var wpe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf=x;function xpe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bpe=typeof Object.is=="function"?Object.is:xpe,Bpe=Lf.useSyncExternalStore,Cpe=Lf.useRef,Epe=Lf.useEffect,_pe=Lf.useMemo,Ipe=Lf.useDebugValue;wpe.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=Cpe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=_pe(function(){function A(g){if(!l){if(l=!0,u=g,g=n(g),i!==void 0&&a.hasValue){var m=a.value;if(i(m,g))return c=m}return c=g}if(m=c,bpe(u,g))return m;var p=n(g);return i!==void 0&&i(m,p)?(u=g,m):(u=g,c=p)}var l=!1,u,c,f=r===void 0?null:r;return[function(){return A(e())},f===null?void 0:function(){return A(f())}]},[e,r,n,i]);var o=Bpe(t,s[0],s[1]);return Epe(function(){a.hasValue=!0,a.value=o},[o]),Ipe(o),o};function Spe(t){t()}function Tpe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Spe(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var aN={notify(){},get:()=>[]};function Fpe(t,e){let r,n=aN,i=0,s=!1;function a(p){u();const v=n.subscribe(p);let y=!1;return()=>{y||(y=!0,v(),c())}}function o(){n.notify()}function A(){m.onStateChange&&m.onStateChange()}function l(){return s}function u(){i++,r||(r=t.subscribe(A),n=Tpe())}function c(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=aN)}function f(){s||(s=!0,u())}function g(){s&&(s=!1,c())}const m={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:A,isSubscribed:l,trySubscribe:f,tryUnsubscribe:g,getListeners:()=>n};return m}var Upe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ppe=Upe(),Npe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Qpe=Npe(),kpe=()=>Ppe||Qpe?x.useLayoutEffect:x.useEffect,Ope=kpe(),Ew=Symbol.for("react-redux-context"),_w=typeof globalThis<"u"?globalThis:{};function Dpe(){if(!x.createContext)return{};const t=_w[Ew]??(_w[Ew]=new Map);let e=t.get(x.createContext);return e||(e=x.createContext(null),t.set(x.createContext,e)),e}var jpe=Dpe();function Rpe(t){const{children:e,context:r,serverState:n,store:i}=t,s=x.useMemo(()=>{const A=Fpe(i);return{store:i,subscription:A,getServerState:n?()=>n:void 0}},[i,n]),a=x.useMemo(()=>i.getState(),[i]);Ope(()=>{const{subscription:A}=s;return A.onStateChange=A.notifyNestedSubs,A.trySubscribe(),a!==i.getState()&&A.notifyNestedSubs(),()=>{A.tryUnsubscribe(),A.onStateChange=void 0}},[s,a]);const o=r||jpe;return x.createElement(o.Provider,{value:s},e)}var Mpe=Rpe,Lpe=(t,e)=>e,S_=V([Lpe,Le,i5,er,G5,Ws,Sce,Jt],Nce),T_=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},Y3=ni("mouseClick"),X3=Sf();X3.startListening({actionCreator:Y3,effect:(t,e)=>{var r=t.payload,n=S_(e.getState(),T_(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(Oue({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var gB=ni("mouseMove"),q3=Sf();q3.startListening({actionCreator:gB,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=J1(n,n.tooltip.settings.shared),s=S_(n,T_(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(R5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(j5()))}});function Hpe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var oN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},J3=Nn({name:"rootProps",initialState:oN,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:oN.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Vpe=J3.reducer,{updateOptions:Kpe}=J3.actions,Z3=Nn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:$pe}=Z3.actions,Gpe=Z3.reducer,eH=ni("keyDown"),tH=ni("focus"),F_=Sf();F_.startListening({actionCreator:eH,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(Z1(i,Du(r))),o=Ws(r);if(s==="Enter"){var A=Sp(r,"axis","hover",String(i.index));e.dispatch(aB({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:A}));return}var l=Iue(r),u=l==="left-to-right"?1:-1,c=s==="ArrowRight"?1:-1,f=a+c*u;if(!(o==null||f>=o.length||f<0)){var g=Sp(r,"axis","hover",String(f));e.dispatch(aB({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});F_.startListening({actionCreator:tH,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=Sp(r,"axis","hover",String(s));e.dispatch(aB({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var jn=ni("externalEvent"),rH=Sf();rH.startListening({actionCreator:jn,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:vce(r),activeDataKey:X5(r),activeIndex:to(r),activeLabel:Y5(r),activeTooltipIndex:to(r),isTooltipActive:yce(r)};t.payload.handler(n,t.payload.reactEvent)}}});var Wpe=V([Ou],t=>t.tooltipItemPayloads),zpe=V([Wpe,jf,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,r);return a}}}),nH=ni("touchMove"),iH=Sf();iH.startListening({actionCreator:nH,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=J1(n,n.tooltip.settings.shared);if(i==="axis"){var s=S_(n,T_({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(R5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=r.touches[0],A=document.elementFromPoint(o.clientX,o.clientY);if(!A||!A.getAttribute)return;var l=A.getAttribute(UM),u=(a=A.getAttribute(PM))!==null&&a!==void 0?a:void 0,c=zpe(e.getState(),l,u);e.dispatch(D5({activeDataKey:u,activeIndex:l,activeCoordinate:c}))}}});var Ype=nM({brush:Nge,cartesianAxis:tpe,chartData:zce,errorBars:Ohe,graphicalItems:Kfe,layout:Die,legend:Cse,options:Vce,polarAxis:dfe,polarOptions:Gpe,referenceElements:Lge,rootProps:Vpe,tooltip:Due}),Xpe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Aie({reducer:Ype,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([X3.middleware,q3.middleware,F_.middleware,rH.middleware,iH.middleware]),devTools:{serialize:{replacer:Hpe},name:"recharts-".concat(r)}})};function sH(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=ln(),s=x.useRef(null);if(i)return r;s.current==null&&(s.current=Xpe(e,n));var a=ME;return x.createElement(Mpe,{context:a,store:s.current},r)}function aH(t){var{layout:e,width:r,height:n,margin:i}=t,s=Tt(),a=ln();return x.useEffect(()=>{a||(s(Qie(e)),s(kie({width:r,height:n})),s(Nie(i)))},[s,a,e,r,n,i]),null}function oH(t){var e=Tt();return x.useEffect(()=>{e(Kpe(t))},[e,t]),null}var qpe=["children"];function Jpe(t,e){if(t==null)return{};var r,n,i=Zpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Zpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function kp(){return kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kp.apply(null,arguments)}var e0e={width:"100%",height:"100%"},t0e=x.forwardRef((t,e)=>{var r=qE(),n=JE(),i=jM();if(!uu(r)||!uu(n))return null;var{children:s,otherAttributes:a,title:o,desc:A}=t,l,u;return typeof a.tabIndex=="number"?l=a.tabIndex:l=i?0:void 0,typeof a.role=="string"?u=a.role:u=i?"application":void 0,x.createElement(_E,kp({},a,{title:o,desc:A,role:u,tabIndex:l,width:r,height:n,style:e0e,ref:e}),s)}),r0e=t=>{var{children:e}=t,r=ve(gv);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return x.createElement(_E,{width:n,height:i,x:a,y:s},e)},AN=x.forwardRef((t,e)=>{var{children:r}=t,n=Jpe(t,qpe),i=ln();return i?x.createElement(r0e,null,r):x.createElement(t0e,kp({ref:e},n),r)});function n0e(){var t=Tt(),[e,r]=x.useState(null),n=ve(dse);return x.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Fn(s)&&s!==n&&t(Oie(s))}},[e,t,n]),r}function lN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i0e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(r),!0).forEach(function(n){s0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s0e(t,e,r){return(e=a0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a0e(t){var e=o0e(t,"string");return typeof e=="symbol"?e:e+""}function o0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A0e=x.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:A,onMouseEnter:l,onMouseLeave:u,onMouseMove:c,onMouseUp:f,onTouchEnd:g,onTouchMove:m,onTouchStart:p,style:v,width:y}=t,w=Tt(),[B,I]=x.useState(null),[T,F]=x.useState(null);qce();var C=n0e(),_=x.useCallback(re=>{C(re),typeof e=="function"&&e(re),I(re),F(re)},[C,e,I,F]),S=x.useCallback(re=>{w(Y3(re)),w(jn({handler:s,reactEvent:re}))},[w,s]),P=x.useCallback(re=>{w(gB(re)),w(jn({handler:l,reactEvent:re}))},[w,l]),Q=x.useCallback(re=>{w(j5()),w(jn({handler:u,reactEvent:re}))},[w,u]),k=x.useCallback(re=>{w(gB(re)),w(jn({handler:c,reactEvent:re}))},[w,c]),N=x.useCallback(()=>{w(tH())},[w]),se=x.useCallback(re=>{w(eH(re.key))},[w]),be=x.useCallback(re=>{w(jn({handler:a,reactEvent:re}))},[w,a]),he=x.useCallback(re=>{w(jn({handler:o,reactEvent:re}))},[w,o]),ye=x.useCallback(re=>{w(jn({handler:A,reactEvent:re}))},[w,A]),Y=x.useCallback(re=>{w(jn({handler:f,reactEvent:re}))},[w,f]),ne=x.useCallback(re=>{w(jn({handler:p,reactEvent:re}))},[w,p]),ce=x.useCallback(re=>{w(nH(re)),w(jn({handler:m,reactEvent:re}))},[w,m]),Ue=x.useCallback(re=>{w(jn({handler:g,reactEvent:re}))},[w,g]);return x.createElement(r3.Provider,{value:B},x.createElement(uR.Provider,{value:T},x.createElement("div",{className:Ke("recharts-wrapper",n),style:i0e({position:"relative",cursor:"default",width:y,height:i},v),onClick:S,onContextMenu:be,onDoubleClick:he,onFocus:N,onKeyDown:se,onMouseDown:ye,onMouseEnter:P,onMouseLeave:Q,onMouseMove:k,onMouseUp:Y,onTouchEnd:Ue,onTouchMove:ce,onTouchStart:ne,ref:_},r)))}),l0e=["children","className","width","height","style","compact","title","desc"];function u0e(t,e){if(t==null)return{};var r,n,i=c0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function c0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var AH=x.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:s,style:a,compact:o,title:A,desc:l}=t,u=u0e(t,l0e),c=Hs(u);return o?x.createElement(AN,{otherAttributes:c,title:A,desc:l},r):x.createElement(A0e,{className:n,style:a,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},x.createElement(AN,{otherAttributes:c,title:A,desc:l,ref:e},x.createElement(Vge,null,r)))}),d0e=["width","height"];function mB(){return mB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mB.apply(null,arguments)}function f0e(t,e){if(t==null)return{};var r,n,i=h0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function h0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var g0e={top:5,right:5,bottom:5,left:5},m0e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:g0e,reverseStackOrder:!1,syncMethod:"index"},lH=x.forwardRef(function(e,r){var n,i=Qn(e.categoricalChartProps,m0e),{width:s,height:a}=i,o=f0e(i,d0e);if(!uu(s)||!uu(a))return null;var{chartName:A,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,categoricalChartProps:f}=e,g={chartName:A,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return x.createElement(sH,{preloadedState:{options:g},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:A},x.createElement(O3,{chartData:f.data}),x.createElement(aH,{width:s,height:a,layout:i.layout,margin:i.margin}),x.createElement(oH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(AH,mB({},o,{width:s,height:a,ref:r})))}),p0e=["axis"],U_=x.forwardRef((t,e)=>x.createElement(lH,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:p0e,tooltipPayloadSearcher:o_,categoricalChartProps:t,ref:e})),v0e=["axis","item"],Op=x.forwardRef((t,e)=>x.createElement(lH,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:v0e,tooltipPayloadSearcher:o_,categoricalChartProps:t,ref:e}));function y0e(t){var e=Tt();return x.useEffect(()=>{e($pe(t))},[e,t]),null}var w0e=["width","height","layout"];function pB(){return pB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pB.apply(null,arguments)}function x0e(t,e){if(t==null)return{};var r,n,i=b0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function b0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var B0e={top:5,right:5,bottom:5,left:5},C0e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:B0e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},E0e=x.forwardRef(function(e,r){var n,i=Qn(e.categoricalChartProps,C0e),{width:s,height:a,layout:o}=i,A=x0e(i,w0e);if(!uu(s)||!uu(a))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:f}=e,g={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(sH,{preloadedState:{options:g},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:l},x.createElement(O3,{chartData:i.data}),x.createElement(aH,{width:s,height:a,layout:o,margin:i.margin}),x.createElement(oH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(y0e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(AH,pB({width:s,height:a},A,{ref:r})))}),_0e=["item"],I0e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},uH=x.forwardRef((t,e)=>{var r=Qn(t,I0e);return x.createElement(E0e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:_0e,tooltipPayloadSearcher:o_,categoricalChartProps:r,ref:e})});const Ti=["7-11 新街門市","A21 環北站","7-11 高萱門市","A18 桃園高鐵站","A16 橫山站","大園農會","不搭車"],uN={"A21 環北站":{name:"A21 環北站",originalPrice:65,monthlyPass:{30:1260,90:3564,120:3888}},"A19 體育園區站":{name:"A19 體育園區站",originalPrice:40,monthlyPass:{30:735,90:2079,120:2268}},"7-11 高萱門市":{name:"A19 體育園區站",originalPrice:40,monthlyPass:{30:735,90:2079,120:2268}},"A18 桃園高鐵站":{name:"A18 桃園高鐵站",originalPrice:35,monthlyPass:{30:630,90:1782,120:1944}}},S0e={name:"TPass 799",price:799,days:30,description:"A7-A22 無限搭乘 30天"},Iw={K:"早",L:"中",Y:"晚",月休:"休",SS:"特",R:"休",KK:"早",YY:"晚",早班:"早",中班:"中",晚班:"晚"};function T0e(){const[t,e]=x.useState("display"),[r,n]=x.useState({}),[i,s]=x.useState({}),[a,o]=x.useState("current"),[A,l]=x.useState({}),[u,c]=x.useState({}),[f,g]=x.useState({}),[m,p]=x.useState("date"),[v,y]=x.useState("all"),[w,B]=x.useState(null),[I,T]=x.useState("week1"),[F,C]=x.useState(null),[_,S]=x.useState(null),[P,Q]=x.useState([]),[k,N]=x.useState({start:1,end:31}),[se,be]=x.useState([]),[he,ye]=x.useState("charts"),[Y,ne]=x.useState("chart"),[ce,Ue]=x.useState(null),[re,Pe]=x.useState(""),[O,D]=x.useState(null),[j,q]=x.useState(""),[J,H]=x.useState("current"),[W,Z]=x.useState({id:"",name:"",pickupLocation:Ti[0]});x.useEffect(()=>{K(),Ie()},[]),x.useEffect(()=>{he==="charts"?S(null):he==="overlap"&&C(null)},[he]),x.useEffect(()=>{const R=Ld(Fi(gr,"schedule","currentMonth"),X=>{if(X.exists()){const Ae=X.data();n(Ae),l(ae=>({...ae,current:Ae._lastUpdated}))}}),$=Ld(Fi(gr,"schedule","nextMonth"),X=>{if(X.exists()){const Ae=X.data();s(Ae),l(ae=>({...ae,next:Ae._lastUpdated}))}});return()=>{R(),$()}},[]);const K=async()=>{try{const R=await nd(td(gr,"schedule")),$={};R.forEach(X=>{(X.id==="currentMonth"||X.id==="nextMonth")&&($[X.id]=X.data())}),$.currentMonth&&(n($.currentMonth),l(X=>({...X,current:$.currentMonth._lastUpdated}))),$.nextMonth&&(s($.nextMonth),l(X=>({...X,next:$.nextMonth._lastUpdated})))}catch(R){console.error("載入班表資料失敗:",R)}},Ie=async()=>{try{const R=await nd(td(gr,"names")),$={};R.forEach(ae=>{$[ae.id]=ae.data().name}),c($);const X=await nd(td(gr,"pickupLocations")),Ae={};X.forEach(ae=>{Ae[ae.id]=ae.data().location}),g(Ae)}catch(R){console.error("載入同事資料失敗:",R)}},Ee=async()=>{try{for(const[R,$]of Object.entries(u))await Mo(Fi(gr,"names",R),{name:$});for(const[R,$]of Object.entries(f))await Mo(Fi(gr,"pickupLocations",R),{location:$});alert("同事資料已儲存")}catch(R){console.error("儲存同事資料失敗:",R),alert("儲存失敗")}},Ge=()=>{confirm("確定要清空所有同事資料嗎？")&&(c({}),g({}))},ht=()=>{const{id:R,name:$,pickupLocation:X}=W;if(!R||!$){alert("請填寫職員編號和姓名");return}if(u[R]){alert("職員編號已存在");return}c(Ae=>({...Ae,[R]:$})),g(Ae=>({...Ae,[R]:X})),Z({id:"",name:"",pickupLocation:Ti[0]})},oi=R=>{confirm(`確定要刪除 ${u[R]} 嗎？`)&&(c($=>{const X={...$};return delete X[R],X}),g($=>{const X={...$};return delete X[R],X}))},NA=(R,$)=>{c(X=>({...X,[R]:$}))},Hf=(R,$)=>{g(X=>({...X,[R]:$}))},Ru=()=>{if(!re.trim()){q("請輸入資料");return}try{const R=re.trim().split(`
`),$={};let X=null,Ae=0;for(const ae of R){if(Ae++,!ae.trim())continue;console.log(`處理第 ${Ae} 行:`,ae);const we=ae.split("	");if(console.log("分割後的欄位:",we),Ae<=2){console.log("跳過標題行或日期行");continue}const Se=we[0].trim(),We=we[1].trim();if(Se&&We&&Se.match(/^A\d+$/)&&(console.log("發現同事資料行:",Se,We),we[2]&&we[2].trim()==="班別排班")){X={id:Se,name:We,schedule:[]};const Te=we.slice(3);console.log("班表資料:",Te);const Qe=Te.map(cr=>{const Ct=cr.trim();return Ct?Iw[Ct]?Iw[Ct]:Ct:""});console.log("處理後的班表:",Qe);const Je=We.replace(/\d+/g,"").trim();$[Se]={name:Je,schedule:Qe}}}D($),q("")}catch{q("解析資料時發生錯誤")}},Vf=async()=>{if(!O){alert("請先解析資料");return}try{const R=J==="current"?"currentMonth":"nextMonth",$={};for(const[X,Ae]of Object.entries(O)){if(!X||X.trim()===""){console.warn("跳過空的職員編號");continue}$[X]={},Ae.schedule.forEach((ae,we)=>{const Se=`${we+1}`;ae&&ae.trim()&&($[X][Se]=ae)}),console.log(`同事 ${X}: ${Object.keys($[X]).length} 個班次`)}$._lastUpdated=new Date().toISOString(),console.log("準備上傳資料:",$),console.log("資料結構檢查:");for(const[X,Ae]of Object.entries($))X!=="_lastUpdated"&&console.log(`- ${X}: ${Object.keys(Ae).length} 個班次`);await Mo(Fi(gr,"schedule",R),$),console.log("班表上傳成功");for(const[X,Ae]of Object.entries(O))if(!u[X])try{await Mo(Fi(gr,"names",X),{name:Ae.name}),console.log(`同事 ${X} 姓名已更新`)}catch(ae){console.warn(`更新同事 ${X} 姓名失敗:`,ae)}alert("班表已上傳成功！"),Pe(""),D(null)}catch(R){console.error("上傳班表失敗:",R);let $="上傳失敗";R.code==="permission-denied"?$="權限不足，請檢查 Firebase 安全規則":R.code==="unavailable"?$="網路連線問題，請檢查網路連線":R.message&&($=`上傳失敗: ${R.message}`),alert($)}},Mu=()=>{const $=Object.keys(a==="current"?r:i).filter(ae=>ae!=="_lastUpdated"),X=(ae,we)=>{var Te,Qe;const Se=parseInt(((Te=ae.match(/\d+/))==null?void 0:Te[0])||"0"),We=parseInt(((Qe=we.match(/\d+/))==null?void 0:Qe[0])||"0");return Se-We};let Ae=$;return w?Ae=[w]:se.length>0&&(Ae=se),Ae.sort(X)},Lu=()=>new Date().getDate(),QA=R=>{const $=new Date,X=[];for(let Ae=0;Ae<R;Ae++){const ae=new Date($);ae.setDate($.getDate()+Ae),X.push(ae.getDate())}return X},po=()=>{switch(v){case"today":return[Lu()];case"3days":return QA(3);case"7days":return QA(7);case"custom":return Array.from({length:k.end-k.start+1},(R,$)=>k.start+$);default:return Array.from({length:31},(R,$)=>$+1)}},rr=R=>{const $=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),X=1,Ae=$;if(!R||!f[R])return null;const ae=f[R];if(ae==="不搭車"||!uN[ae])return null;const Se=(a==="current"?r:i)[R];if(!Se)return null;let We=0,Te=0;for(let kt=X;kt<=Ae;kt++){const un=Se[kt];un&&un!=="休"&&un!=="特"&&(Te++,un==="早"?We+=1:(un==="中"||un==="晚")&&(We+=2))}if(We===0)return null;const Qe=uN[ae],Je=We*Qe.originalPrice,cr=Math.ceil(Je*.7),Ct=[];Object.entries(Qe.monthlyPass).forEach(([kt,un])=>{const zs=parseInt(kt),Ys=un,Ov=un/(zs/30);Ct.push({days:zs,price:un,totalCost:Ys,averagePricePerMonth:Ov,savings:Je-Ys})});const Rr=S0e.price,yo=Rr/30,Cr=Math.ceil((Rr-Je)/Qe.originalPrice),Gf=()=>Je>=Rr?{type:"recommended",text:"TPass比原價划算，強烈推薦！"}:Cr<=5?{type:"consider",text:`只需額外搭乘${Cr}次即可回本，建議考慮`}:Cr<=10?{type:"maybe",text:`需要額外搭乘${Cr}次才回本，可考慮其他方案`}:{type:"not-recommended",text:`需要額外搭乘${Cr}次才回本，不建議`};return{employeeId:R,employeeName:u[R]||R,location:ae,workDays:Te,totalTrips:We,originalTotal:Je,citizenCardTotal:cr,monthlyPassOptions:Ct,tpassTotal:Rr,tpassDailyCost:yo,breakEvenTrips:Cr,tpassRecommendation:Gf(),recommendations:[]}},ur=()=>{const R=vo();R&&(document.body.appendChild(R),setTimeout(()=>{tR(R,{backgroundColor:"#ffffff",scale:2,useCORS:!0,allowTaint:!0}).then($=>{const X=document.createElement("a");X.download=`乘車表_${a==="current"?"當月":"下個月"}_${new Date().toISOString().split("T")[0]}.png`,X.href=$.toDataURL(),X.click(),document.body.removeChild(R)}).catch($=>{console.error("匯出失敗:",$),document.body.removeChild(R)})},500))},kA=()=>{const R=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),$=[];for(let X=1;X<=Math.ceil(R/7);X++){const Ae=(X-1)*7+1,ae=Math.min(X*7,R);$.push(d.jsxs("option",{value:`week${X}`,children:[new Date().getMonth()+1,"月",Ae,"日 - ",new Date().getMonth()+1,"月",ae,"日"]},`week${X}`))}return $},Kf=()=>{const R=a==="current"?r:i,$=parseInt(I.replace("week","")),X=($-1)*7+1,Ae=Math.min($*7,new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate());let ae="";for(let we=X;we<=Ae;we++){const Se={};Object.keys(R).forEach(We=>{var Je;if(We==="_lastUpdated")return;const Te=f[We];if(!Te||Te==="不搭車")return;((Je=R[We])==null?void 0:Je[we])==="早"&&(Se[Te]=(Se[Te]||0)+1)}),ae+=`${new Date().getMonth()+1}/${we}
`,Object.keys(Se).length>0&&["A21 環北站","7-11 高萱門市","7-11 新街門市","A18 桃園高鐵站"].forEach(Te=>{Se[Te]&&(ae+=`${Te}${Se[Te]}人
`)}),ae+=`
`}navigator.clipboard.writeText(ae.trim()).then(()=>{alert("Line 群文字已複製到剪貼簿！")}).catch(()=>{prompt("請複製以下文字：",ae.trim())})},$f=()=>{const R=a==="current"?r:i,$={};Object.keys(R).forEach(Ae=>{Ae!=="_lastUpdated"&&($[Ae]={})});const X=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let Ae=1;Ae<=X;Ae++){const ae={};Object.keys(R).forEach(we=>{var We;if(we==="_lastUpdated")return;const Se=(We=R[we])==null?void 0:We[Ae];Se&&Se!=="休"&&(ae[Se]||(ae[Se]=[]),ae[Se].push(we))}),Object.keys(ae).forEach(we=>{const Se=ae[we];for(let We=0;We<Se.length;We++)for(let Te=We+1;Te<Se.length;Te++){const Qe=Se[We],Je=Se[Te];$[Qe][Je]||($[Qe][Je]=0),$[Je][Qe]||($[Je][Qe]=0),$[Qe][Je]++,$[Je][Qe]++}}),ae.早&&ae.中&&ae.早.forEach(we=>{ae.中.forEach(Se=>{$[we][Se]||($[we][Se]=0),$[Se][we]||($[Se][we]=0),$[we][Se]++,$[Se][we]++})}),ae.中&&ae.晚&&ae.中.forEach(we=>{ae.晚.forEach(Se=>{$[we][Se]||($[we][Se]=0),$[Se][we]||($[Se][we]=0),$[we][Se]++,$[Se][we]++})})}return $},kv=R=>{const X=$f()[R]||{};return Object.entries(X).map(([Ae,ae])=>({employeeId:Ae,name:u[Ae]||Ae,count:ae})).sort((Ae,ae)=>ae.count-Ae.count).filter(Ae=>Ae.count>0)},vo=()=>{const R=a==="current"?r:i,$=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),X={};for(let Te=1;Te<=$;Te++)X[Te]={},Ti.forEach(Qe=>{X[Te][Qe]=0});Object.keys(R).forEach(Te=>{var Je;if(Te==="_lastUpdated")return;const Qe=f[Te];if(!(!Qe||Qe==="不搭車"))for(let cr=1;cr<=$;cr++)((Je=R[Te])==null?void 0:Je[cr])==="早"&&X[cr][Qe]++});const Ae=document.createElement("div");Ae.style.cssText=`
      position: fixed;
      top: -9999px;
      left: -9999px;
      width: 1200px;
      background: white;
      padding: 40px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      color: #333;
    `;const ae=document.createElement("h1");ae.textContent=`${new Date().getFullYear()}年${new Date().getMonth()+1}月 乘車統計表`,ae.style.cssText=`
      text-align: center;
      font-size: 32px;
      font-weight: bold;
      margin-bottom: 30px;
      color: #2c3e50;
    `,Ae.appendChild(ae);const we=document.createElement("div");we.style.cssText=`
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
      margin-top: 20px;
    `,["日","一","二","三","四","五","六"].forEach(Te=>{const Qe=document.createElement("div");Qe.textContent=Te,Qe.style.cssText=`
        text-align: center;
        font-weight: bold;
        font-size: 18px;
        padding: 15px 10px;
        background: #f8f9fa;
        border-radius: 8px;
        color: #495057;
      `,we.appendChild(Qe)});const We=new Date(new Date().getFullYear(),new Date().getMonth(),1).getDay();for(let Te=0;Te<We;Te++){const Qe=document.createElement("div");Qe.style.cssText=`
        height: 120px;
        background: #f8f9fa;
        border-radius: 8px;
      `,we.appendChild(Qe)}for(let Te=1;Te<=$;Te++){const Qe=document.createElement("div");Qe.style.cssText=`
        height: 120px;
        border: 2px solid #e9ecef;
        border-radius: 8px;
        padding: 8px;
        background: white;
        position: relative;
      `;const Je=document.createElement("div");if(Je.textContent=Te,Je.style.cssText=`
        font-size: 16px;
        font-weight: bold;
        color: #495057;
        margin-bottom: 8px;
        text-align: center;
      `,Qe.appendChild(Je),Ti.some(Ct=>{var Rr;return Ct!=="不搭車"&&((Rr=X[Te])==null?void 0:Rr[Ct])>0}))Ti.filter(Ct=>Ct!=="不搭車").forEach(Ct=>{var yo;const Rr=((yo=X[Te])==null?void 0:yo[Ct])||0;if(Rr>0){const Cr=document.createElement("div");Cr.style.cssText=`
               font-size: 12px;
               margin: 2px 0;
               color: #333;
               text-align: center;
             `,Cr.textContent=`${Ct}: ${Rr}人`,Qe.appendChild(Cr)}});else{const Ct=document.createElement("div");Ct.textContent="無乘車",Ct.style.cssText=`
           font-size: 12px;
           color: #6c757d;
           text-align: center;
           margin-top: 20px;
         `,Qe.appendChild(Ct)}we.appendChild(Qe)}return Ae.appendChild(we),Ae};return d.jsxs("div",{className:"container-custom py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"班表管理工具"}),d.jsx("p",{className:"text-center text-text-secondary",children:"早班好"})]}),d.jsx("div",{className:"flex justify-center mb-6",children:d.jsx("div",{className:"bg-surface/40 rounded-xl p-1 border border-white/10 w-full max-w-4xl",children:d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-1",children:[d.jsxs("button",{onClick:()=>e("display"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="display"?"bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-blue-400 border border-blue-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[d.jsx(dE,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),d.jsx("span",{className:"hidden sm:inline",children:"顯示班表"}),d.jsx("span",{className:"sm:hidden",children:"班表"})]}),d.jsxs("button",{onClick:()=>e("transport"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="transport"?"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 text-yellow-400 border border-yellow-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[d.jsx(iX,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),d.jsx("span",{className:"hidden sm:inline",children:"交通及車費試算"}),d.jsx("span",{className:"sm:hidden",children:"交通"})]}),d.jsxs("button",{onClick:()=>e("statistics"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="statistics"?"bg-gradient-to-r from-purple-500/20 to-pink-500/20 text-purple-400 border border-purple-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[d.jsx(YD,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),d.jsx("span",{className:"hidden sm:inline",children:"統計功能"}),d.jsx("span",{className:"sm:hidden",children:"統計"})]}),d.jsxs("button",{onClick:()=>e("import"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="import"?"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-400 border border-green-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[d.jsx(Ny,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),d.jsx("span",{className:"hidden sm:inline",children:"匯入與轉換班表"}),d.jsx("span",{className:"sm:hidden",children:"匯入"})]})]})})}),t==="display"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 md:p-6 lg:p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"月份"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:a,onChange:R=>o(R.target.value),className:"w-full px-3 py-2 md:px-4 md:py-3 bg-white/10 border border-white/20 rounded-xl focus:border-blue-400/50 focus:bg-white/20 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200 appearance-none cursor-pointer text-sm md:text-base",children:[d.jsx("option",{value:"current",children:"當月"}),d.jsx("option",{value:"next",children:"下個月"})]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx("svg",{className:"w-4 h-4 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"顯示模式"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:m,onChange:R=>p(R.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[d.jsx("option",{value:"date",children:"日期視圖"}),d.jsx("option",{value:"employee",children:"同事視圖"}),d.jsx("option",{value:"partner",children:"搭班視圖"})]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-green-300 group-hover:text-green-200 transition-colors",children:"篩選"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:v,onChange:R=>y(R.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-green-400/50 focus:bg-white/20 focus:ring-2 focus:ring-green-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[d.jsx("option",{value:"all",children:"全部"}),d.jsx("option",{value:"today",children:"今天"}),d.jsx("option",{value:"3days",children:"接下來 3 天"}),d.jsx("option",{value:"7days",children:"接下來 7 天"}),d.jsx("option",{value:"custom",children:"自定義範圍"})]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx("svg",{className:"w-4 h-4 text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300 group-hover:text-orange-200 transition-colors",children:"選擇同事"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:w||"",onChange:R=>B(R.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-orange-400/50 focus:bg-white/20 focus:ring-2 focus:ring-orange-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[d.jsx("option",{value:"",children:"顯示所有同事"}),Object.keys(a==="current"?r:i).filter(R=>R!=="_lastUpdated").sort((R,$)=>{var ae,we;const X=parseInt(((ae=R.match(/\d+/))==null?void 0:ae[0])||"0"),Ae=parseInt(((we=$.match(/\d+/))==null?void 0:we[0])||"0");return X-Ae}).map(R=>d.jsx("option",{value:R,children:u[R]||R},R))]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx("svg",{className:"w-4 h-4 text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),A[a]&&d.jsx("div",{className:"mt-6 flex items-center justify-center",children:d.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-surface/30 rounded-full border border-white/10",children:[d.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsxs("span",{className:"text-sm text-gray-300",children:["最後更新：",new Date(A[a]).toLocaleString()]})]})})]}),(v==="custom"||P.length>0||se.length>0)&&d.jsxs("div",{className:"bg-gradient-to-br from-surface/50 to-surface/30 rounded-2xl p-4 md:p-6 border border-white/15 shadow-lg backdrop-blur-sm",children:[d.jsx("h4",{className:"text-lg font-semibold mb-4 text-cyan-300",children:"進階篩選"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v==="custom"&&d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-cyan-300",children:"日期範圍"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"number",min:"1",max:"31",value:k.start,onChange:R=>N($=>({...$,start:parseInt(R.target.value)})),className:"w-1/2 px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:border-cyan-400/50 focus:bg-white/20 text-sm",placeholder:"開始日期"}),d.jsx("span",{className:"text-gray-400 self-center",children:"至"}),d.jsx("input",{type:"number",min:"1",max:"31",value:k.end,onChange:R=>N($=>({...$,end:parseInt(R.target.value)})),className:"w-1/2 px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:border-cyan-400/50 focus:bg-white/20 text-sm",placeholder:"結束日期"})]})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-pink-300",children:"班次篩選"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:["早","中","晚","休","特"].map(R=>d.jsx("button",{onClick:()=>{P.includes(R)?Q($=>$.filter(X=>X!==R)):Q($=>[...$,R])},className:`px-3 py-1 rounded-lg text-xs font-medium transition-all ${P.includes(R)?"bg-pink-500 text-white border border-pink-400":"bg-white/10 text-gray-300 border border-white/20 hover:bg-white/20"}`,children:R},R))})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300",children:"多同事選擇"}),d.jsx("div",{className:"max-h-32 overflow-y-auto",children:Object.keys(a==="current"?r:i).filter(R=>R!=="_lastUpdated").sort((R,$)=>{var ae,we;const X=parseInt(((ae=R.match(/\d+/))==null?void 0:ae[0])||"0"),Ae=parseInt(((we=$.match(/\d+/))==null?void 0:we[0])||"0");return X-Ae}).map(R=>d.jsxs("label",{className:"flex items-center gap-2 mb-1 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:se.includes(R),onChange:$=>{$.target.checked?be(X=>[...X,R]):be(X=>X.filter(Ae=>Ae!==R))},className:"w-4 h-4 text-orange-500 bg-white/10 border-white/20 rounded focus:ring-orange-400/50"}),d.jsx("span",{className:"text-sm text-gray-300",children:u[R]||R})]},R))})]})]}),d.jsx("div",{className:"mt-4 flex justify-end",children:d.jsx("button",{onClick:()=>{Q([]),be([]),N({start:1,end:31}),y("all")},className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-300 rounded-lg transition-all text-sm",children:"清除所有篩選"})})]}),d.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:m==="date"?d.jsx(F0e,{schedule:a==="current"?r:i,names:u,displayDates:po(),filteredEmployees:Mu(),selectedShifts:P}):m==="employee"?d.jsx(U0e,{schedule:a==="current"?r:i,names:u,displayDates:po(),filteredEmployees:Mu(),selectedShifts:P}):m==="partner"?d.jsx($0e,{schedule:a==="current"?r:i,names:u,displayDates:po(),selectedEmployee:w}):d.jsx(j0e,{schedule:a==="current"?r:i,names:u,displayDates:po(),filteredEmployees:Mu(),selectedShifts:P})})]}),t==="transport"&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-surface/60 rounded-2xl p-2 border border-white/20",children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>ne("chart"),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${Y==="chart"?"bg-blue-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"乘車表"}),d.jsx("button",{onClick:()=>ne("fare"),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${Y==="fare"?"bg-purple-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"車費試算"})]})}),Y==="chart"&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-yellow-300 group-hover:text-yellow-200 transition-colors",children:"月份"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:a,onChange:R=>o(R.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-yellow-400/50 focus:bg-white/20 focus:ring-2 focus:ring-yellow-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[d.jsx("option",{value:"current",children:"當月"}),d.jsx("option",{value:"next",children:"下個月"})]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx("svg",{className:"w-4 h-4 text-yellow-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300 group-hover:text-orange-200 transition-colors",children:"匯出"}),d.jsxs("button",{onClick:()=>ur(),className:"w-full px-4 py-3 bg-gradient-to-r from-blue-500/20 to-purple-500/20 hover:from-blue-500/30 hover:to-purple-500/30 border border-blue-400/30 text-blue-300 rounded-xl transition-all duration-200 font-medium",children:[d.jsx(Ny,{className:"w-4 h-4 inline mr-2"}),"匯出乘車表"]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-green-300 group-hover:text-green-200 transition-colors",children:"乘車文字生成 (一週)"}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("select",{value:I,onChange:R=>T(R.target.value),className:"flex-1 px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-green-400/50 focus:bg-white/20 focus:ring-2 focus:ring-green-400/20 transition-all duration-200 appearance-none cursor-pointer",children:kA()}),d.jsxs("button",{onClick:()=>Kf(),className:"px-6 py-3 bg-gradient-to-r from-green-500/20 to-teal-500/20 hover:from-green-500/30 hover:to-teal-500/30 border border-green-400/30 text-green-300 rounded-xl transition-all duration-200 font-medium whitespace-nowrap",children:[d.jsx(XD,{className:"w-4 h-4 inline mr-2"}),"生成"]})]})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-gray-300 group-hover:text-gray-200 transition-colors",children:"更新時間"}),d.jsx("div",{className:"px-4 py-3 bg-surface/30 rounded-xl border border-white/10",children:d.jsx("span",{className:"text-sm text-gray-300",children:A[a]?new Date(A[a]).toLocaleString():"無資料"})})]})]})]})}),d.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:d.jsx(P0e,{schedule:a==="current"?r:i,names:u,pickupLocations:f})})]}),Y==="fare"&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"月份"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:a,onChange:R=>o(R.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[d.jsx("option",{value:"current",children:"當月"}),d.jsx("option",{value:"next",children:"下個月"})]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"選擇同事"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:ce||"",onChange:R=>Ue(R.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-blue-400/50 focus:bg-white/20 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[d.jsx("option",{value:"",children:"請選擇同事"}),Object.keys(a==="current"?r:i).filter(R=>R!=="_lastUpdated").sort((R,$)=>{var ae,we;const X=parseInt(((ae=R.match(/\d+/))==null?void 0:ae[0])||"0"),Ae=parseInt(((we=$.match(/\d+/))==null?void 0:we[0])||"0");return X-Ae}).map(R=>d.jsx("option",{value:R,children:u[R]||R},R))]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx("svg",{className:"w-4 h-4 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]})}),d.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:d.jsx(K0e,{schedule:a==="current"?r:i,names:u,pickupLocations:f,selectedEmployee:ce,calculateFare:rr})})]})]}),t==="statistics"&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"月份"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:a,onChange:R=>o(R.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[d.jsx("option",{value:"current",children:"當月"}),d.jsx("option",{value:"next",children:"下個月"})]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"統計類型"}),d.jsx("div",{className:"bg-surface/40 rounded-xl p-1 border border-white/10",children:d.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[d.jsx("button",{onClick:()=>ye("charts"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${he==="charts"?"bg-green-500/20 text-green-300 border border-green-400/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"圖表分析"}),d.jsx("button",{onClick:()=>ye("overlap"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${he==="overlap"?"bg-blue-500/20 text-blue-300 border border-blue-400/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"搭班統計表"})]})})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-gray-300 group-hover:text-gray-200 transition-colors",children:"更新時間"}),d.jsx("div",{className:"px-4 py-3 bg-surface/30 rounded-xl border border-white/10",children:d.jsx("span",{className:"text-sm text-gray-300",children:A[a]?new Date(A[a]).toLocaleString():"無資料"})})]})]})}),he==="overlap"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 md:p-6 lg:p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center justify-center mb-6 md:mb-8",children:[d.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 lg:w-12 lg:h-12 rounded-full bg-blue-500/20 border border-blue-400/30 flex items-center justify-center mr-2 md:mr-3",children:d.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),d.jsx("h3",{className:"text-lg md:text-xl lg:text-2xl font-bold text-blue-300",children:"搭班統計表"})]}),d.jsx(N0e,{schedule:a==="current"?r:i,names:u,onEmployeeClick:S})]}),_&&d.jsx(Q0e,{employeeId:_,employeeName:u[_]||_,ranking:kv(_),onClose:()=>S(null)})]}),he==="charts"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center justify-center mb-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-pink-500/20 border border-pink-400/30 flex items-center justify-center mr-3",children:d.jsx("svg",{className:"w-5 h-5 text-pink-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),d.jsx("h3",{className:"text-lg font-bold text-pink-300",children:"早班統計"})]}),d.jsx(O0e,{schedule:a==="current"?r:i,names:u})]}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center justify-center mb-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 border border-blue-400/30 flex items-center justify-center mr-3",children:d.jsx("svg",{className:"w-5 h-5 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),d.jsx("h3",{className:"text-lg font-bold text-blue-300",children:"晚班統計"})]}),d.jsx(D0e,{schedule:a==="current"?r:i,names:u})]}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center justify-center mb-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-500/20 border border-orange-400/30 flex items-center justify-center mr-3",children:d.jsx("svg",{className:"w-5 h-5 text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),d.jsx("h3",{className:"text-lg font-bold text-orange-300",children:"連續上班統計"})]}),d.jsx(k0e,{schedule:a==="current"?r:i,names:u})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[d.jsx(L0e,{schedule:a==="current"?r:i}),d.jsx(H0e,{schedule:a==="current"?r:i,names:u}),d.jsx(G0e,{allSchedules:{currentMonth:r,nextMonth:i},names:u})]}),d.jsx(R0e,{schedule:a==="current"?r:i,names:u}),d.jsx(M0e,{schedule:a==="current"?r:i,names:u}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-300 text-center",children:"個人統計儀表板"}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300",children:"選擇同事"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:F||"",onChange:R=>C(R.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[d.jsx("option",{value:"",children:"請選擇一個同事查看個人統計"}),Object.keys(a==="current"?r:i).filter(R=>R!=="_lastUpdated").sort((R,$)=>{var ae,we;const X=parseInt(((ae=R.match(/\d+/))==null?void 0:ae[0])||"0"),Ae=parseInt(((we=$.match(/\d+/))==null?void 0:we[0])||"0");return X-Ae}).map(R=>d.jsx("option",{value:R,children:u[R]||R},R))]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),d.jsx(V0e,{schedule:a==="current"?r:i,names:u,selectedEmployee:F})]})]})]}),t==="import"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-green-300",children:"匯入班表"}),d.jsxs("div",{className:"mb-6 p-4 bg-surface/40 rounded-lg border border-white/10",children:[d.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-300",children:"班別代碼說明"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:Object.entries(Iw).map(([R,$])=>d.jsxs("div",{className:"flex items-center gap-2 p-2 bg-surface/20 rounded border border-white/10",children:[d.jsx("span",{className:"font-mono bg-white/10 px-2 py-1 rounded text-green-300 font-medium",children:R}),d.jsxs("span",{className:"text-gray-300 font-medium",children:["= ",$]})]},R))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"目標月份"}),d.jsxs("select",{value:J,onChange:R=>H(R.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-green-400/50 focus:bg-white/10",children:[d.jsx("option",{value:"current",children:"當月"}),d.jsx("option",{value:"next",children:"下個月"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Excel 資料"}),d.jsx("textarea",{value:re,onChange:R=>Pe(R.target.value),placeholder:"從 Excel 複製資料並貼上這裡...",className:"w-full h-32 px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-green-400/50 focus:bg-white/10 resize-none"})]})]}),j&&d.jsx("div",{className:"mt-6 p-4 bg-red-600/20 border border-red-500/30 rounded-xl text-red-300 font-medium",children:j}),d.jsxs("div",{className:"mt-4 flex gap-3",children:[d.jsx("button",{onClick:Ru,className:"px-6 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-300 rounded-lg transition-all font-medium",children:"解析資料"}),O&&d.jsx("button",{onClick:Vf,className:"px-6 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-300 rounded-lg transition-all font-medium",children:"上傳班表"})]})]}),O&&d.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-300",children:"預覽表格"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0,border:"none"},children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[d.jsx("th",{className:"text-left p-3 text-blue-300 font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"職員編號"}),d.jsx("th",{className:"text-left p-3 text-purple-300 font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"姓名"}),Array.from({length:31},(R,$)=>d.jsx("th",{className:"text-center p-3 text-green-300 font-medium",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:$+1},$))]})}),d.jsx("tbody",{children:Object.entries(O).map(([R,$])=>d.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[d.jsx("td",{className:"p-3 text-gray-400 font-medium",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:R}),d.jsx("td",{className:"p-3 text-white font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:$.name}),$.schedule.map((X,Ae)=>d.jsx("td",{className:"p-2 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:X?d.jsx("div",{className:`
                                px-3 py-2 rounded-lg text-center text-xs font-bold
                                ${X==="早"?"bg-pink-500 text-white":X==="中"?"bg-cyan-500 text-white":X==="晚"?"bg-blue-500 text-white":X==="休"?"bg-gray-500 text-white":X==="特"?"bg-orange-500 text-white":X==="排"?"bg-yellow-500 text-white":"bg-gray-700 text-gray-300"}
                              `,children:X}):d.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})},Ae))]},R))})]})})]}),d.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-400",children:"同事基本資料管理"}),d.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[d.jsxs("button",{onClick:Ie,className:"px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-400 rounded-lg transition-all flex items-center gap-2",children:[d.jsx(RY,{className:"w-4 h-4"}),"從 Firebase 讀取資料"]}),d.jsxs("button",{onClick:Ee,className:"px-4 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-400 rounded-lg transition-all flex items-center gap-2",children:[d.jsx(Ny,{className:"w-4 h-4"}),"儲存姓名與上車地點"]}),d.jsxs("button",{onClick:Ge,className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-400 rounded-lg transition-all flex items-center gap-2",children:[d.jsx(es,{className:"w-4 h-4"}),"清空所有資料"]})]}),d.jsxs("div",{className:"bg-surface/20 rounded-lg p-4 mb-6 border border-white/5",children:[d.jsx("h4",{className:"text-lg font-semibold mb-4 text-orange-400",children:"新增同事"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"職員編號"}),d.jsx("input",{type:"text",value:W.id,onChange:R=>Z($=>({...$,id:R.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",placeholder:"例如：A45"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"姓名"}),d.jsx("input",{type:"text",value:W.name,onChange:R=>Z($=>({...$,name:R.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",placeholder:"輸入姓名"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"上車地點"}),d.jsx("select",{value:W.pickupLocation,onChange:R=>Z($=>({...$,pickupLocation:R.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",children:Ti.map(R=>d.jsx("option",{value:R,children:R},R))})]})]}),d.jsxs("button",{onClick:ht,className:"mt-4 px-6 py-2 bg-orange-500/20 hover:bg-orange-500/30 border border-orange-400/30 text-orange-400 rounded-lg transition-all flex items-center gap-2",children:[d.jsx(Zi,{className:"w-4 h-4"}),"新增同事"]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-white/10",children:[d.jsx("th",{className:"text-left p-2 text-blue-400",children:"職員編號"}),d.jsx("th",{className:"text-left p-2 text-purple-400",children:"姓名"}),d.jsx("th",{className:"text-left p-2 text-green-400",children:"上車地點"}),d.jsx("th",{className:"text-center p-2 text-red-400",children:"操作"})]})}),d.jsx("tbody",{children:Object.keys(u).sort((R,$)=>{const X=parseInt(R.replace(/\D/g,""))||0,Ae=parseInt($.replace(/\D/g,""))||0;return X-Ae}).map(R=>d.jsxs("tr",{className:"border-b border-white/5",children:[d.jsx("td",{className:"p-2 text-text-secondary",children:R}),d.jsx("td",{className:"p-2",children:d.jsx("input",{type:"text",value:u[R]||"",onChange:$=>NA(R,$.target.value),className:"w-full px-2 py-1 bg-white/5 border border-white/10 rounded focus:border-purple-400/50 focus:bg-white/10"})}),d.jsx("td",{className:"p-2",children:d.jsx("select",{value:f[R]||Ti[0],onChange:$=>Hf(R,$.target.value),className:"w-full px-2 py-1 bg-white/5 border border-white/10 rounded focus:border-green-400/50 focus:bg-white/10",children:Ti.map($=>d.jsx("option",{value:$,children:$},$))})}),d.jsx("td",{className:"p-2 text-center",children:d.jsx("button",{onClick:()=>oi(R),className:"px-3 py-1 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-400 rounded transition-all",children:d.jsx(es,{className:"w-4 h-4"})})})]},R))})]})})]})]})]})}function F0e({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i}){return d.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:d.jsx("div",{className:"bg-surface/60 rounded-xl shadow-xl border border-white/20 backdrop-blur-sm min-w-full",children:d.jsx("div",{className:"w-full",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-xs md:text-sm",style:{borderCollapse:"collapse",borderSpacing:0,border:"none"},children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[d.jsx("th",{className:"text-center p-2 md:p-3 text-purple-300 font-semibold sticky left-0 z-10 bg-surface/95",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"姓名"}),r.map(s=>{const a=s===new Date().getDate();return d.jsxs("th",{className:`text-center p-1 md:p-3 font-medium relative ${a?"text-primary":"text-green-300"}`,style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},title:a?"今天":void 0,"data-today":a?"true":void 0,children:[d.jsx("div",{className:`relative text-xs font-semibold inline-flex items-center justify-center w-7 h-7 rounded ${a?"bg-primary/20 ring-2 ring-primary":""}`,children:s}),d.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),s).getDay()]})]},s)})]})}),d.jsx("tbody",{children:n.map((s,a)=>d.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200 group","data-employee-id":s,"data-row-index":a,children:[d.jsx("td",{className:"p-2 md:p-3 text-white font-semibold text-xs md:text-sm sticky left-0 z-10 bg-surface/95 group-hover:bg-surface/100 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:d.jsx("span",{className:"group-hover:text-primary transition-colors",children:e[s]||s})}),r.map(o=>{var u;const A=(u=t[s])==null?void 0:u[o],l=o===new Date().getDate();return i&&i.length>0&&(!A||!i.includes(A))?d.jsx("td",{className:"p-1 md:p-2 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:d.jsx("div",{className:`w-full h-6 md:h-8 rounded-lg border ${l?"bg-primary/5 border-primary/30":"bg-surface/10 border-white/5"} opacity-50`})},o):d.jsx("td",{className:`p-1 md:p-2 text-center ${l?"bg-primary/5":""}`,style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:A?d.jsx("div",{className:`
                                px-2 py-1 md:px-3 md:py-2 rounded-lg text-center text-xs font-bold
                                ${l?"ring-2 ring-primary/50 ":""}${A==="早"?"bg-pink-500 text-white":A==="中"?"bg-cyan-500 text-white":A==="晚"?"bg-blue-500 text-white":A==="休"?"bg-gray-500 text-white":A==="特"?"bg-orange-500 text-white":"bg-gray-700 text-gray-300"}
                              `,children:A}):d.jsx("div",{className:`w-full h-6 md:h-8 rounded-lg border ${l?"bg-primary/5 border-primary/30":"bg-surface/20 border-white/10"}`})},o)})]},s))})]})})})})})}function U0e({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i}){const s=a=>{switch(a){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}};return d.jsx("div",{className:"space-y-6",children:n.map(a=>d.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm hover:shadow-2xl transition-all duration-300",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h4",{className:"text-lg font-semibold text-white mb-1",children:e[a]||a}),d.jsxs("p",{className:"text-sm text-gray-400",children:["職員編號：",a]})]}),d.jsx("div",{className:"grid grid-cols-7 gap-3",children:r.map(o=>{var l;const A=(l=t[a])==null?void 0:l[o];return i&&i.length>0&&(!A||!i.includes(A))?d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-gray-400 mb-2 font-medium",children:o}),d.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/10 border border-white/5 opacity-50"})]},o):d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-gray-400 mb-2 font-medium",children:o}),A?d.jsx("div",{className:`
                      px-3 py-2 rounded-lg text-center text-xs font-bold
                      transition-all duration-200 hover:shadow-lg hover:scale-105
                      ${s(A)}
                    `,children:A}):d.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})]},o)})})]},a))})}function P0e({schedule:t,names:e,pickupLocations:r}){const n=()=>{const o=new Date,A=o.getFullYear(),l=o.getMonth()+1;return new Date(A,l,0).getDate()},s=(()=>{const o=n(),A={};for(let l=1;l<=o;l++)A[l]={},Ti.forEach(u=>{A[l][u]=0});return Object.keys(t).forEach(l=>{var c;if(l==="_lastUpdated")return;const u=r[l];if(!(!u||u==="不搭車"))for(let f=1;f<=o;f++)((c=t[l])==null?void 0:c[f])==="早"&&A[f][u]++}),A})(),a=n();return d.jsxs("div",{id:"transport-chart",className:"bg-surface/60 rounded-xl p-6 border border-white/20",children:[d.jsx("h3",{className:"text-xl font-bold mb-6 text-yellow-300 text-center",children:"當月乘車統計表"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0},children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[d.jsx("th",{className:"text-left p-3 text-yellow-300 font-semibold",style:{border:"none !important"},children:"上車地點"}),Array.from({length:a},(o,A)=>A+1).map(o=>d.jsxs("th",{className:"text-center p-2 text-green-300 font-medium",style:{border:"none !important"},children:[d.jsx("div",{className:"text-xs font-semibold",children:o}),d.jsx("div",{className:"text-xs text-gray-400",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),o).getDay()]})]},o))]})}),d.jsx("tbody",{children:Ti.filter(o=>o!=="不搭車").map(o=>d.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[d.jsx("td",{className:"p-3 text-white font-semibold",style:{border:"none !important"},children:o}),Array.from({length:a},(A,l)=>l+1).map(A=>{var u;const l=((u=s[A])==null?void 0:u[o])||0;return d.jsx("td",{className:"p-2 text-center",style:{border:"none !important"},children:l>0?d.jsx("div",{className:"px-3 py-2 rounded-lg text-center text-xs font-bold bg-yellow-500/20 border border-yellow-400/30 text-yellow-300",children:l}):d.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})},A)})]},o))})]})})]})}function N0e({schedule:t,names:e,onEmployeeClick:r}){const n=()=>{const u={},c={};Object.keys(t).forEach(g=>{g!=="_lastUpdated"&&(u[g]={},c[g]={})});const f=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let g=1;g<=f;g++){const m={};Object.keys(t).forEach(p=>{var y;if(p==="_lastUpdated")return;const v=(y=t[p])==null?void 0:y[g];v&&v!=="休"&&(m[v]||(m[v]=[]),m[v].push(p))}),Object.keys(m).forEach(p=>{const v=m[p];for(let y=0;y<v.length;y++)for(let w=y+1;w<v.length;w++){const B=v[y],I=v[w];u[B][I]||(u[B][I]=0),u[I][B]||(u[I][B]=0),c[B][I]||(c[B][I]=[]),c[I][B]||(c[I][B]=[]),u[B][I]++,u[I][B]++,c[B][I].push({day:g,shift:p}),c[I][B].push({day:g,shift:p})}}),m.早&&m.中&&m.早.forEach(p=>{m.中.forEach(v=>{u[p][v]||(u[p][v]=0),u[v][p]||(u[v][p]=0),c[p][v]||(c[p][v]=[]),c[v][p]||(c[v][p]=[]),u[p][v]++,u[v][p]++,c[p][v].push({day:g,shift:"早-中"}),c[v][p].push({day:g,shift:"中-早"})})}),m.中&&m.晚&&m.中.forEach(p=>{m.晚.forEach(v=>{u[p][v]||(u[p][v]=0),u[v][p]||(u[v][p]=0),c[p][v]||(c[p][v]=[]),c[v][p]||(c[v][p]=[]),u[p][v]++,u[v][p]++,c[p][v].push({day:g,shift:"中-晚"}),c[v][p].push({day:g,shift:"晚-中"})})})}return{overlapStats:u,overlapDetails:c}},{overlapStats:i,overlapDetails:s}=n(),a=Object.keys(t).filter(u=>u!=="_lastUpdated").sort((u,c)=>{var m,p;const f=parseInt(((m=u.match(/\d+/))==null?void 0:m[0])||"0"),g=parseInt(((p=c.match(/\d+/))==null?void 0:p[0])||"0");return f-g}),A=(()=>{let u=0,c=0,f=0;return a.forEach(g=>{a.forEach(m=>{var p;if(g!==m){const v=((p=i[g])==null?void 0:p[m])||0;v>0&&(u+=v,c=Math.max(c,v),f++)}})}),{totalOverlaps:u,maxOverlap:c,averageOverlap:f>0?(u/f).toFixed(1):0,totalPairs:f}})(),l=(u,c)=>{if(u===0)return"bg-surface/20 border-white/10 text-gray-400";const f=Math.min(u/c,1);return f>.7?"bg-purple-500/40 border-purple-400/50 text-purple-200":f>.4?"bg-purple-500/30 border-purple-400/40 text-purple-300":"bg-purple-500/20 border-purple-400/30 text-purple-300"};return d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold mb-6 text-purple-300 text-center",children:"搭班統計表"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0},children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[d.jsx("th",{className:"text-left p-3 text-purple-300 font-semibold",style:{border:"none !important"},children:"同事"}),a.map(u=>d.jsx("th",{className:"text-center p-3 text-purple-300 font-medium",style:{border:"none !important"},children:e[u]||u},u))]})}),d.jsx("tbody",{children:a.map(u=>d.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[d.jsx("td",{className:"p-3 text-white font-semibold cursor-pointer hover:text-purple-300 transition-colors",style:{border:"none !important"},onClick:()=>r(u),children:e[u]||u}),a.map(c=>{var g;const f=((g=i[u])==null?void 0:g[c])||0;return d.jsx("td",{className:"p-3 text-center",style:{border:"none !important"},children:u===c?d.jsx("div",{className:"w-8 h-8 rounded-lg bg-surface/20 border border-white/10 flex items-center justify-center text-gray-400",children:"-"}):f>0?d.jsx("div",{className:`px-3 py-2 rounded-lg text-center text-xs font-bold border cursor-pointer hover:scale-105 transition-all ${l(f,A.maxOverlap)}`,title:`${e[u]||u} 與 ${e[c]||c} 搭班 ${f} 次`,children:f}):d.jsx("div",{className:"w-8 h-8 rounded-lg bg-surface/10 border border-white/5 flex items-center justify-center text-gray-500 opacity-50",children:"-"})},c)})]},u))})]})})]})}function Q0e({employeeId:t,employeeName:e,ranking:r,onClose:n}){const[i,s]=x.useState(null),o=(()=>{const A=r.reduce((c,f)=>c+f.count,0),l=r.length>0?(A/r.length).toFixed(1):0,u=r.length>0?r[0].count:0;return{totalOverlaps:A,avgOverlaps:l,maxOverlaps:u}})();return d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-surface/95 rounded-2xl p-8 border border-white/20 shadow-2xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h3",{className:"text-xl font-bold text-purple-300",children:[e," 的搭班詳情"]}),d.jsx("button",{onClick:n,className:"p-2 hover:bg-surface/30 rounded-lg text-gray-300 hover:text-white transition-all duration-200",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-300",children:o.totalOverlaps}),d.jsx("div",{className:"text-sm text-gray-400",children:"總搭班次數"})]}),d.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-300",children:o.avgOverlaps}),d.jsx("div",{className:"text-sm text-gray-400",children:"平均搭班次數"})]}),d.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[d.jsx("div",{className:"text-2xl font-bold text-green-300",children:o.maxOverlaps}),d.jsx("div",{className:"text-sm text-gray-400",children:"最高搭班次數"})]})]}),r.length>0?d.jsxs("div",{className:"space-y-3",children:[d.jsx("h4",{className:"text-lg font-semibold text-purple-300 mb-4",children:"搭班排行"}),r.map((A,l)=>d.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border cursor-pointer transition-all hover:scale-105 ${i===A.employeeId?"bg-purple-500/30 border-purple-400/50":"bg-surface/20 border-white/10 hover:bg-surface/30"}`,onClick:()=>s(i===A.employeeId?null:A.employeeId),children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:`w-8 h-8 rounded-full border flex items-center justify-center font-bold text-sm ${l===0?"bg-yellow-500/20 border-yellow-400/30 text-yellow-300":l===1?"bg-gray-500/20 border-gray-400/30 text-gray-300":l===2?"bg-orange-500/20 border-orange-400/30 text-orange-300":"bg-purple-500/20 border-purple-400/30 text-purple-300"}`,children:l+1}),d.jsx("div",{children:d.jsx("span",{className:"text-white font-medium",children:A.name})})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-purple-300 font-bold",children:[A.count," 次"]}),d.jsxs("div",{className:"text-xs text-gray-400",children:[(A.count/o.totalOverlaps*100).toFixed(1),"%"]})]})]},A.employeeId))]}):d.jsx("div",{className:"text-center py-8 text-gray-400",children:"本月無搭班記錄"})]})})}function k0e({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(a=>{var u;if(a==="_lastUpdated")return;let o=0,A=0,l=0;for(let c=1;c<=s;c++){const f=(u=t[a])==null?void 0:u[c];f&&f!=="休"?(l++,A=Math.max(A,l)):l=0}o=A,o>0&&(i[a]={name:e[a]||a,maxConsecutive:o})}),Object.values(i).sort((a,o)=>o.maxConsecutive-a.maxConsecutive)})();return d.jsx("div",{className:"space-y-3",children:n.slice(0,5).map((i,s)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-500/20 border border-orange-400/30 flex items-center justify-center text-orange-300 font-bold text-xs",children:s+1}),d.jsx("span",{className:"text-white font-medium",children:i.name})]}),d.jsxs("div",{className:"text-orange-300 font-bold",children:[i.maxConsecutive," 天"]})]},i.name))})}function O0e({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(a=>{var A;if(a==="_lastUpdated")return;let o=0;for(let l=1;l<=s;l++)((A=t[a])==null?void 0:A[l])==="早"&&o++;o>0&&(i[a]={name:e[a]||a,earlyCount:o})}),Object.values(i).sort((a,o)=>o.earlyCount-a.earlyCount)})();return d.jsx("div",{className:"space-y-3",children:n.slice(0,5).map((i,s)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500/20 border border-pink-400/30 flex items-center justify-center text-pink-300 font-bold text-xs",children:s+1}),d.jsx("span",{className:"text-white font-medium",children:i.name})]}),d.jsxs("div",{className:"text-pink-300 font-bold",children:[i.earlyCount," 次"]})]},i.name))})}function D0e({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(a=>{var A;if(a==="_lastUpdated")return;let o=0;for(let l=1;l<=s;l++)((A=t[a])==null?void 0:A[l])==="晚"&&o++;o>0&&(i[a]={name:e[a]||a,nightCount:o})}),Object.values(i).sort((a,o)=>o.nightCount-a.nightCount)})();return d.jsx("div",{className:"space-y-3",children:n.slice(0,5).map((i,s)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500/20 border border-blue-400/30 flex items-center justify-center text-blue-300 font-bold text-xs",children:s+1}),d.jsx("span",{className:"text-white font-medium",children:i.name})]}),d.jsxs("div",{className:"text-blue-300 font-bold",children:[i.nightCount," 次"]})]},i.name))})}function j0e({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i}){const s=a=>{switch(a){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}};return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"3D 班表視圖"}),d.jsx("p",{className:"text-gray-400",children:"立體展示班次安排"})]}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:n.map(a=>d.jsx("div",{className:"group perspective-1000",children:d.jsx("div",{className:"relative transform-style-preserve-3d transition-all duration-500 group-hover:rotate-y-12",children:d.jsxs("div",{className:"bg-gradient-to-br from-surface/80 to-surface/60 rounded-2xl p-6 border border-white/20 shadow-2xl backdrop-blur-sm transform-style-preserve-3d",children:[d.jsxs("div",{className:"transform-style-preserve-3d",children:[d.jsxs("div",{className:"mb-6 text-center",children:[d.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:e[a]||a}),d.jsxs("p",{className:"text-sm text-gray-400",children:["職員編號：",a]})]}),d.jsx("div",{className:"grid grid-cols-7 gap-2",children:r.map((o,A)=>{var u;const l=(u=t[a])==null?void 0:u[o];return i&&i.length>0&&(!l||!i.includes(l))?d.jsxs("div",{className:"relative group/item",children:[d.jsx("div",{className:"w-full h-16 rounded-lg bg-surface/10 border border-white/5 opacity-50 transform transition-all duration-300 group-hover/item:scale-110 group-hover/item:rotate-y-6"}),d.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-xs text-gray-500",children:d.jsx("span",{children:o})})]},o):d.jsx("div",{className:"relative group/item",children:d.jsx("div",{className:`
                            w-full h-16 rounded-lg text-center text-xs font-bold
                            transform transition-all duration-300 
                            group-hover/item:scale-110 group-hover/item:rotate-y-6 group-hover/item:shadow-xl
                            ${l?s(l):"bg-surface/20 border border-white/10"}
                          `,children:d.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[d.jsx("span",{className:"text-xs opacity-75",children:o}),d.jsx("span",{className:"font-bold",children:l||""})]})})},o)})})]}),d.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]})})},a))})]})}function R0e({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(a=>{var A;if(a==="_lastUpdated")return;const o=e[a]||a;i[o]={name:o,early:0,middle:0,night:0,rest:0,special:0,total:0};for(let l=1;l<=s;l++){const u=(A=t[a])==null?void 0:A[l];if(u)switch(i[o].total++,u){case"早":i[o].early++;break;case"中":i[o].middle++;break;case"晚":i[o].night++;break;case"休":i[o].rest++;break;case"特":i[o].special++;break}}}),Object.values(i).filter(a=>a.total>0)})();return d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-6 text-purple-300 text-center",children:"各同事班次分布"}),d.jsx(vs,{width:"100%",height:400,children:d.jsxs(Op,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[d.jsx(Ma,{strokeDasharray:"3 3",stroke:"#ffffff20"}),d.jsx(Cs,{dataKey:"name",stroke:"#ffffff80"}),d.jsx(Es,{stroke:"#ffffff80"}),d.jsx(ps,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}}),d.jsx(Ja,{}),d.jsx(yn,{dataKey:"early",stackId:"a",fill:"#ec4899",name:"早班"}),d.jsx(yn,{dataKey:"middle",stackId:"a",fill:"#06b6d4",name:"中班"}),d.jsx(yn,{dataKey:"night",stackId:"a",fill:"#3b82f6",name:"晚班"}),d.jsx(yn,{dataKey:"rest",stackId:"a",fill:"#6b7280",name:"休假"}),d.jsx(yn,{dataKey:"special",stackId:"a",fill:"#f97316",name:"特休"})]})})]})}function M0e({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();let a={early:0,middle:0,night:0,rest:0,special:0};Object.keys(t).forEach(l=>{var u;if(l!=="_lastUpdated")for(let c=1;c<=s;c++){const f=(u=t[l])==null?void 0:u[c];if(f)switch(f){case"早":a.early++;break;case"中":a.middle++;break;case"晚":a.night++;break;case"休":a.rest++;break;case"特":a.special++;break}}});const o=Object.keys(t).filter(l=>l!=="_lastUpdated").length,A={early:a.early/o,middle:a.middle/o,night:a.night/o,rest:a.rest/o,special:a.special/o};return Object.keys(t).forEach(l=>{var g;if(l==="_lastUpdated")return;const u=e[l]||l,c={early:0,middle:0,night:0,rest:0,special:0};for(let m=1;m<=s;m++){const p=(g=t[l])==null?void 0:g[m];if(p)switch(p){case"早":c.early++;break;case"中":c.middle++;break;case"晚":c.night++;break;case"休":c.rest++;break;case"特":c.special++;break}}const f={name:u,earlyBias:((c.early-A.early)/A.early*100).toFixed(1),middleBias:((c.middle-A.middle)/A.middle*100).toFixed(1),nightBias:((c.night-A.night)/A.night*100).toFixed(1),restBias:((c.rest-A.rest)/A.rest*100).toFixed(1),specialBias:((c.special-A.special)/A.special*100).toFixed(1)};i[u]=f}),Object.values(i)})();return d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-6 text-orange-300 text-center",children:"班次分配偏差度分析"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-white/20",children:[d.jsx("th",{className:"text-left p-3 text-white font-semibold",children:"同事"}),d.jsx("th",{className:"text-center p-3 text-pink-300 font-semibold",children:"早班偏差"}),d.jsx("th",{className:"text-center p-3 text-cyan-300 font-semibold",children:"中班偏差"}),d.jsx("th",{className:"text-center p-3 text-blue-300 font-semibold",children:"晚班偏差"}),d.jsx("th",{className:"text-center p-3 text-gray-300 font-semibold",children:"休假偏差"}),d.jsx("th",{className:"text-center p-3 text-orange-300 font-semibold",children:"特休偏差"})]})}),d.jsx("tbody",{children:n.map((i,s)=>d.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5",children:[d.jsx("td",{className:"p-3 text-white font-medium",children:i.name}),d.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.earlyBias)>0?"text-green-400":"text-red-400"}`,children:[i.earlyBias,"%"]}),d.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.middleBias)>0?"text-green-400":"text-red-400"}`,children:[i.middleBias,"%"]}),d.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.nightBias)>0?"text-green-400":"text-red-400"}`,children:[i.nightBias,"%"]}),d.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.restBias)>0?"text-green-400":"text-red-400"}`,children:[i.restBias,"%"]}),d.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.specialBias)>0?"text-green-400":"text-red-400"}`,children:[i.specialBias,"%"]})]},s))})]})})]})}function L0e({schedule:t}){const r=(()=>{const n={early:0,middle:0,night:0,rest:0,special:0},i=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(s=>{var a;if(s!=="_lastUpdated")for(let o=1;o<=i;o++){const A=(a=t[s])==null?void 0:a[o];if(A)switch(A){case"早":n.early++;break;case"中":n.middle++;break;case"晚":n.night++;break;case"休":n.rest++;break;case"特":n.special++;break}}}),[{name:"早班",value:n.early,color:"#ec4899"},{name:"中班",value:n.middle,color:"#06b6d4"},{name:"晚班",value:n.night,color:"#3b82f6"},{name:"休假",value:n.rest,color:"#6b7280"},{name:"特休",value:n.special,color:"#f97316"}].filter(s=>s.value>0)})();return d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-6 text-green-300 text-center",children:"班次類型分布"}),d.jsx(vs,{width:"100%",height:300,children:d.jsxs(uH,{children:[d.jsx(x_,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:n,percent:i})=>`${n} ${(i*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((n,i)=>d.jsx(ju,{fill:n.color},`cell-${i}`))}),d.jsx(ps,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}})]})})]})}function H0e({schedule:t,names:e}){const n=(()=>{const i=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),s=[];for(let a=1;a<=i;a++){let o=0,A=0,l=0,u=0,c=0;Object.keys(t).forEach(f=>{var m;if(f==="_lastUpdated")return;switch((m=t[f])==null?void 0:m[a]){case"早":o++;break;case"中":A++;break;case"晚":l++;break;case"休":u++;break;case"特":c++;break}}),s.push({date:`${a}日`,early:o,middle:A,night:l,rest:u,special:c})}return s})();return d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-6 text-blue-300 text-center",children:"班次趨勢變化"}),d.jsx(vs,{width:"100%",height:400,children:d.jsxs(U_,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[d.jsx(Ma,{strokeDasharray:"3 3",stroke:"#ffffff20"}),d.jsx(Cs,{dataKey:"date",stroke:"#ffffff80"}),d.jsx(Es,{stroke:"#ffffff80"}),d.jsx(ps,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}}),d.jsx(Ja,{}),d.jsx(Kn,{type:"monotone",dataKey:"early",stroke:"#ec4899",strokeWidth:2,name:"早班"}),d.jsx(Kn,{type:"monotone",dataKey:"middle",stroke:"#06b6d4",strokeWidth:2,name:"中班"}),d.jsx(Kn,{type:"monotone",dataKey:"night",stroke:"#3b82f6",strokeWidth:2,name:"晚班"}),d.jsx(Kn,{type:"monotone",dataKey:"rest",stroke:"#6b7280",strokeWidth:2,name:"休假"}),d.jsx(Kn,{type:"monotone",dataKey:"special",stroke:"#f97316",strokeWidth:2,name:"特休"})]})})]})}function V0e({schedule:t,names:e,selectedEmployee:r}){if(!r)return d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-300 text-center",children:"個人統計儀表板"}),d.jsx("p",{className:"text-center text-gray-400",children:"請選擇一個同事查看個人統計"})]});const i=(()=>{var g;const c={name:e[r]||r,early:0,middle:0,night:0,rest:0,special:0,total:0},f=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let m=1;m<=f;m++){const p=(g=t[r])==null?void 0:g[m];if(p)switch(p){case"早":c.early++,c.total++;break;case"中":c.middle++,c.total++;break;case"晚":c.night++,c.total++;break;case"休":c.rest++;break;case"特":c.special++,c.total++;break}}return c})(),s=[{name:"早班",value:i.early,color:"#ec4899"},{name:"中班",value:i.middle,color:"#06b6d4"},{name:"晚班",value:i.night,color:"#3b82f6"},{name:"休假",value:i.rest,color:"#6b7280"},{name:"特休",value:i.special,color:"#f97316"}].filter(c=>c.value>0),a=()=>{var p;const c=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),f=[];let g=0,m=0;for(let v=1;v<=c;v++){const y=(p=t[r])==null?void 0:p[v];y&&y!=="休"?g++:(g>0&&(m++,f.push({period:`期間${m}`,consecutiveDays:g,trend:g>=6?"高":g>=4?"中":"低"})),g=0)}return g>0&&(m++,f.push({period:`期間${m}`,consecutiveDays:g,trend:g>=6?"高":g>=4?"中":"低"})),f},o=()=>{var g;const c=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),f=[];for(let m=1;m<=c;m++){let p=0,v=0;for(let y=1;y<=m;y++){const w=(g=t[r])==null?void 0:g[y];w&&w!=="休"?p++:(p>0&&(p>=7?v=3:p>=5?v=2:v=1),p=0)}p>0&&(p>=7?v=3:p>=5?v=2:v=1),f.push({date:`${m}日`,consecutiveDays:p,riskLevel:v})}return f},A=()=>{var g,m;const c=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),f={};for(let p=1;p<c;p++){const v=(g=t[r])==null?void 0:g[p],y=(m=t[r])==null?void 0:m[p+1];if(v&&y){const w=`${v}→${y}`;f[w]=(f[w]||0)+1}}return Object.entries(f).sort(([,p],[,v])=>v-p).slice(0,10).map(([p,v])=>({transition:p,value:v}))},l=()=>{var g,m;const c=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),f={};for(let p=1;p<c;p++){const v=(g=t[r])==null?void 0:g[p],y=(m=t[r])==null?void 0:m[p+1];if(v&&y){const w=`${v}→${y}`;if(!f[w]){const[B,I]=w.split("→");f[w]={from:B,to:I,count:0}}f[w].count++}}return Object.values(f).sort((p,v)=>v.count-p.count)},u=c=>{switch(c){case"早":return"#ec4899";case"中":return"#06b6d4";case"晚":return"#3b82f6";case"休":return"#6b7280";case"特":return"#f97316";default:return"#9ca3af"}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[d.jsxs("div",{className:"text-center p-4 bg-pink-500/20 rounded-lg border border-pink-400/30",children:[d.jsx("div",{className:"text-2xl font-bold text-pink-300",children:i.early}),d.jsx("div",{className:"text-sm text-pink-200",children:"早班"})]}),d.jsxs("div",{className:"text-center p-4 bg-cyan-500/20 rounded-lg border border-cyan-400/30",children:[d.jsx("div",{className:"text-2xl font-bold text-cyan-300",children:i.middle}),d.jsx("div",{className:"text-sm text-cyan-200",children:"中班"})]}),d.jsxs("div",{className:"text-center p-4 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-300",children:i.night}),d.jsx("div",{className:"text-sm text-blue-200",children:"晚班"})]}),d.jsxs("div",{className:"text-center p-4 bg-gray-500/20 rounded-lg border border-gray-400/30",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-300",children:i.rest}),d.jsx("div",{className:"text-sm text-gray-200",children:"休假"})]}),d.jsxs("div",{className:"text-center p-4 bg-orange-500/20 rounded-lg border border-orange-400/30",children:[d.jsx("div",{className:"text-2xl font-bold text-orange-300",children:i.special}),d.jsx("div",{className:"text-sm text-orange-200",children:"特休"})]})]}),d.jsxs("div",{className:"text-center p-4 bg-surface/40 rounded-lg border border-white/10",children:[d.jsxs("div",{className:"text-lg font-semibold text-white",children:["總工作天數：",i.total," 天"]}),d.jsxs("div",{className:"text-sm text-gray-400",children:["工作率：",(i.total/31*100).toFixed(1),"%"]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h4",{className:"text-lg font-bold mb-4 text-purple-300 text-center",children:"班次佔比"}),d.jsx(vs,{width:"100%",height:300,children:d.jsxs(uH,{children:[d.jsx(x_,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:({name:c,percent:f})=>`${c} ${(f*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:s.map((c,f)=>d.jsx(ju,{fill:c.color},`cell-${f}`))}),d.jsx(ps,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}})]})})]}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h4",{className:"text-lg font-bold mb-4 text-blue-300 text-center",children:"每日班次分布"}),d.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["日","一","二","三","四","五","六"].map(c=>d.jsx("div",{className:"text-center text-sm font-semibold text-gray-400 py-2",children:c},c))}),d.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:new Date(new Date().getFullYear(),new Date().getMonth(),1).getDay()},(c,f)=>d.jsx("div",{className:"h-8 bg-surface/20 rounded border border-white/5"},`empty-${f}`)),Array.from({length:new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate()},(c,f)=>{var y;const g=f+1,m=(y=t[r])==null?void 0:y[g],p=w=>{switch(w){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-surface/20 text-gray-400 border border-white/10"}},v=w=>{switch(w){case"早":return"早班";case"中":return"中班";case"晚":return"晚班";case"休":return"休假";case"特":return"特休";default:return"無班次"}};return d.jsx("div",{className:`h-8 rounded border flex items-center justify-center text-xs font-bold transition-all hover:scale-110 cursor-pointer ${p(m)}`,title:`${g}日 - ${v(m)}`,children:g},g)})]}),d.jsxs("div",{className:"mt-4 flex flex-wrap justify-center gap-3 text-xs",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded"}),d.jsx("span",{className:"text-gray-300",children:"早班"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 bg-cyan-500 rounded"}),d.jsx("span",{className:"text-gray-300",children:"中班"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),d.jsx("span",{className:"text-gray-300",children:"晚班"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded"}),d.jsx("span",{className:"text-gray-300",children:"休假"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded"}),d.jsx("span",{className:"text-gray-300",children:"特休"})]})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h4",{className:"text-lg font-bold mb-4 text-orange-300 text-center",children:"連續上班天數分析"}),d.jsx(vs,{width:"100%",height:300,children:d.jsxs(Op,{data:a(),margin:{top:20,right:30,left:20,bottom:5},children:[d.jsx(Ma,{strokeDasharray:"3 3",stroke:"#ffffff20"}),d.jsx(Cs,{dataKey:"period",stroke:"#ffffff80"}),d.jsx(Es,{stroke:"#ffffff80"}),d.jsx(ps,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"},formatter:(c,f)=>[c,{highRisk:"高 (≥6天)",mediumRisk:"中 (4-5天)",lowRisk:"低 (1-3天)"}[f]||f]}),d.jsx(Ja,{}),d.jsx(yn,{dataKey:"consecutiveDays",fill:"#f97316",name:"連續天數"})]})}),d.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm",children:[d.jsxs("div",{className:"flex items-center justify-center p-2 bg-red-500/20 rounded-lg border border-red-400/30",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),d.jsx("span",{className:"text-red-300",children:"高 (≥6天)"})]}),d.jsxs("div",{className:"flex items-center justify-center p-2 bg-orange-500/20 rounded-lg border border-orange-400/30",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500 mr-2"}),d.jsx("span",{className:"text-orange-300",children:"中 (4-5天)"})]}),d.jsxs("div",{className:"flex items-center justify-center p-2 bg-green-500/20 rounded-lg border border-green-400/30",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),d.jsx("span",{className:"text-green-300",children:"低 (1-3天)"})]})]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h4",{className:"text-lg font-bold mb-4 text-blue-300 text-center",children:"連續上班頻率趨勢"}),d.jsx(vs,{width:"100%",height:300,children:d.jsxs(U_,{data:o(),margin:{top:20,right:30,left:20,bottom:5},children:[d.jsx(Ma,{strokeDasharray:"3 3",stroke:"#ffffff20"}),d.jsx(Cs,{dataKey:"date",stroke:"#ffffff80"}),d.jsx(Es,{stroke:"#ffffff80",domain:[0,6]}),d.jsx(ps,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}}),d.jsx(Ja,{}),d.jsx(Kn,{type:"monotone",dataKey:"consecutiveDays",stroke:"#8b5cf6",strokeWidth:3,name:"連續天數"}),d.jsx(Kn,{type:"monotone",dataKey:"riskLevel",stroke:"#ef4444",strokeWidth:2,name:"等級"})]})})]})]}),d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h4",{className:"text-lg font-bold mb-4 text-purple-300 text-center",children:"班次轉換關係圖"}),d.jsx(vs,{width:"100%",height:300,children:d.jsxs(Op,{data:A(),margin:{top:20,right:30,left:20,bottom:5},children:[d.jsx(Ma,{strokeDasharray:"3 3",stroke:"#ffffff20"}),d.jsx(Cs,{dataKey:"transition",stroke:"#ffffff80"}),d.jsx(Es,{stroke:"#ffffff80"}),d.jsx(ps,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"},formatter:(c,f,g)=>[`${g.payload.transition}: ${c}次`,"轉換次數"]}),d.jsx(yn,{dataKey:"value",fill:"#8b5cf6"})]})}),d.jsx("div",{className:"mt-4 grid grid-cols-2 lg:grid-cols-4 gap-4",children:l().slice(0,8).map((c,f)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:u(c.from)},children:c.from}),d.jsx("span",{className:"text-gray-400",children:"→"}),d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:u(c.to)},children:c.to})]}),d.jsx("div",{className:"text-purple-300 font-bold",children:c.count})]},f))})]})})]})}function K0e({schedule:t,names:e,pickupLocations:r,selectedEmployee:n,calculateFare:i}){const[s,a]=x.useState(!1),[o,A]=x.useState(null);if(x.useEffect(()=>{n?(a(!0),setTimeout(()=>{const g=i(n);A(g),a(!1)},500)):A(null)},[n,i]),!n)return d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"請選擇一位同事來計算車費"}),d.jsx("div",{className:"text-gray-500 text-sm",children:"選擇同事後，將顯示該同事的車費分析"})]});if(s)return d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),d.jsx("div",{className:"text-gray-400 text-lg",children:"正在計算車費..."})]});if(!o)return d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"無法計算車費"}),d.jsx("div",{className:"text-gray-500 text-sm",children:"該同事可能不搭車或沒有班表資料"})]});const l=[{name:"原價",cost:o.originalTotal,type:"original"},{name:"桃園市民卡 7折",cost:o.citizenCardTotal,type:"citizen"},...o.monthlyPassOptions.map(g=>({name:`${g.days}天定期票`,cost:g.averagePricePerMonth,type:"monthly",days:g.days,savings:g.savings,averagePricePerMonth:g.averagePricePerMonth,price:g.price,originalPrice:g.totalCost})),{name:"TPass 799",cost:o.tpassTotal,type:"tpass"}],c=((g,m)=>{const p={bestValue:null,mostFlexible:null,bestForFrequent:null,bestForOccasional:null};return p.bestValue=m.reduce((v,y)=>y.cost<v.cost?y:v),p.mostFlexible=m.find(v=>v.type==="original"||v.type==="citizen")||p.bestValue,g.totalTrips>20?p.bestForFrequent=m.find(v=>v.type==="tpass")||p.bestValue:g.totalTrips<10?p.bestForOccasional=m.find(v=>v.type==="original"||v.type==="citizen")||p.bestValue:(p.bestForFrequent=p.bestValue,p.bestForOccasional=p.bestValue),p})(o,l),f=c.bestValue;return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-xl p-6 border border-blue-400/30",children:[d.jsx("h3",{className:"text-xl font-bold text-blue-300 mb-4",children:"車費試算結果"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-white",children:o.employeeName}),d.jsx("div",{className:"text-sm text-gray-400",children:"同事"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-300",children:o.location}),d.jsx("div",{className:"text-sm text-gray-400",children:"上車地點"})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-purple-300",children:[o.totalTrips," 次"]}),d.jsx("div",{className:"text-sm text-gray-400",children:"總搭乘次數"})]})]})]}),d.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/20",children:[d.jsx("h4",{className:"text-lg font-semibold text-purple-300 mb-4",children:"車費方案比較"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4",children:l.map((g,m)=>{var p,v,y;return d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border transition-all duration-300 relative transform hover:scale-105 hover:shadow-lg animate-fade-in-up ${g.cost===f.cost?"bg-green-500/20 border-green-400/50 text-green-300 ring-2 ring-green-400/30":"bg-surface/20 border-white/20 text-white hover:bg-surface/30"}`,style:{animationDelay:`${m*100}ms`,animationFillMode:"both"},children:[d.jsxs("div",{className:"absolute -top-2 -right-2 flex flex-col gap-1",children:[g.cost===f.cost&&d.jsx("div",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg animate-pulse",children:"🏆 最划算"}),g.cost===((p=c.mostFlexible)==null?void 0:p.cost)&&g.type!=="original"&&d.jsx("div",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"🎯 最靈活"}),g.cost===((v=c.bestForFrequent)==null?void 0:v.cost)&&o.totalTrips>20&&d.jsx("div",{className:"bg-purple-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"⚡ 常搭推薦"}),g.cost===((y=c.bestForOccasional)==null?void 0:y.cost)&&o.totalTrips<10&&d.jsx("div",{className:"bg-orange-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"💡 偶爾搭"})]}),d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g.type==="original"&&d.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),g.type==="citizen"&&d.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V4a2 2 0 114 0v2m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})}),g.type==="monthly"&&d.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),g.type==="tpass"&&d.jsx("svg",{className:"w-5 h-5 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),d.jsx("span",{className:"font-semibold text-sm",children:g.name})]}),d.jsxs("div",{className:"text-xl sm:text-2xl font-bold mb-2 transition-all duration-300 animate-price-change",children:["$",g.cost]}),g.type==="monthly"&&d.jsx("div",{className:"text-xs text-gray-400 mb-1",children:d.jsxs("span",{className:"text-xs text-gray-500",children:["票券原價 $",g.originalPrice]})}),g.type==="tpass"&&d.jsx("div",{className:"text-xs text-gray-400",children:"A22-A7 坐到哭"})]},m)})})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gradient-to-r from-indigo-500/20 to-purple-500/20 rounded-xl p-6 border border-indigo-400/30",children:[d.jsx("h4",{className:"text-xl font-bold text-indigo-300 mb-6",children:"車費分析儀表板"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",Math.min(...l.map(g=>g.cost))]}),d.jsx("div",{className:"text-sm text-gray-400",children:"最低費用"})]}),d.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-red-400",children:["$",Math.max(...l.map(g=>g.cost))]}),d.jsx("div",{className:"text-sm text-gray-400",children:"最高費用"})]}),d.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-orange-400",children:["$",o.originalTotal-Math.min(...l.map(g=>g.cost))]}),d.jsx("div",{className:"text-sm text-gray-400",children:"最大節省"})]}),d.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-400",children:l.length}),d.jsx("div",{className:"text-sm text-gray-400",children:"方案數量"})]})]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 via-teal-500/5 to-cyan-500/10 rounded-xl p-6 border border-emerald-400/20 shadow-lg",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[d.jsx("h5",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-emerald-300 to-teal-300 bg-clip-text text-transparent",children:"搭乘次數 vs 費用效益分析"}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[d.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-emerald-400"}),d.jsx("span",{className:"hidden sm:inline",children:"即時分析"})]})]}),d.jsx(vs,{width:"100%",height:200,className:"sm:h-[250px]",children:d.jsxs(U_,{data:Array.from({length:40},(g,m)=>{const p=m+1,v=p*o.originalTotal/o.totalTrips,y=Math.ceil(v*.7),w=799,B=o.monthlyPassOptions.find(T=>T.days===120),I=B?B.averagePricePerMonth:486;return{trips:p,原價:Math.round(v),市民卡:y,TPass:w,"120天票":Math.round(I)}}),children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"originalGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.8}),d.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:.1})]}),d.jsxs("linearGradient",{id:"citizenGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),d.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),d.jsxs("linearGradient",{id:"tpassGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.8}),d.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:.1})]}),d.jsxs("linearGradient",{id:"monthlyGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),d.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})]}),d.jsx(Ma,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),d.jsx(Cs,{dataKey:"trips",stroke:"#9ca3af",fontSize:10,className:"sm:text-xs",tickLine:!1,axisLine:{stroke:"#4b5563",strokeWidth:1},interval:"preserveStartEnd",label:{value:"搭乘次數",position:"insideBottom",offset:-5,style:{textAnchor:"middle",fill:"#9ca3af",fontSize:"11px",fontWeight:"500"}}}),d.jsx(Es,{stroke:"#9ca3af",fontSize:10,className:"sm:text-xs",tickLine:!1,axisLine:{stroke:"#4b5563",strokeWidth:1},tickFormatter:g=>`$${g}`,width:50,label:{value:"費用",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9ca3af",fontSize:"11px",fontWeight:"500"}}}),d.jsx(ps,{formatter:(g,m)=>[`$${g}`,m],labelFormatter:g=>`搭乘 ${g} 次`,contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"12px",color:"#fff",boxShadow:"0 10px 25px rgba(0,0,0,0.3)",padding:"12px"},cursor:{stroke:"#6b7280",strokeWidth:1,strokeDasharray:"3 3"}}),d.jsx(Kn,{type:"monotone",dataKey:"原價",stroke:"#ef4444",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#ef4444",strokeWidth:1,fill:"#fff"}}),d.jsx(Kn,{type:"monotone",dataKey:"市民卡",stroke:"#3b82f6",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#3b82f6",strokeWidth:1,fill:"#fff"}}),d.jsx(Kn,{type:"monotone",dataKey:"TPass",stroke:"#f59e0b",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#f59e0b",strokeWidth:1,fill:"#fff"}}),d.jsx(Kn,{type:"monotone",dataKey:"120天票",stroke:"#10b981",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#10b981",strokeWidth:1,fill:"#fff"}})]})}),d.jsx("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 bg-surface/20 rounded-lg border border-emerald-400/10",children:d.jsxs("div",{className:"text-xs sm:text-sm text-gray-300 leading-relaxed",children:["此圖顯示不同搭乘次數下各方案的費用變化，幫助您了解在什麼情況下哪種方案最划算。",d.jsx("span",{className:"text-emerald-300 font-medium",children:"交叉點"}),"表示方案間的轉換時機。"]})})]})]})]})}function $0e({schedule:t,names:e,displayDates:r,selectedEmployee:n}){if(!n)return d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"請選擇一位同事來查看搭班情況"}),d.jsx("div",{className:"text-gray-500 text-sm",children:"在左側選擇同事後，將顯示該同事每天的搭班同事"})]});const i=o=>{var u;const A=(u=t[n])==null?void 0:u[o];if(!A||A==="休")return[];const l=[];return Object.keys(t).forEach(c=>{var g;if(c==="_lastUpdated"||c===n)return;const f=(g=t[c])==null?void 0:g[o];!f||f==="休"||(f===A?l.push({id:c,name:e[c]||c,shift:f,type:"同班"}):(A==="早"&&f==="中"||A==="中"&&f==="晚"||A==="中"&&f==="早"||A==="晚"&&f==="中")&&l.push({id:c,name:e[c]||c,shift:f,type:"跨班"}))}),l},s=o=>{switch(o){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}},a=o=>{switch(o){case"同班":return"bg-green-500/20 border-green-400/30 text-green-300";case"跨班":return"bg-purple-500/20 border-purple-400/30 text-purple-300";default:return"bg-gray-500/20 border-gray-400/30 text-gray-300"}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-xl p-4 sm:p-6 border border-purple-400/30",children:[d.jsx("h3",{className:"text-lg sm:text-xl font-bold text-purple-300 mb-2",children:"每日搭班視圖"}),d.jsx("div",{className:"flex items-center gap-2 sm:gap-4",children:d.jsxs("div",{className:"text-white font-semibold text-sm sm:text-base",children:["同事：",d.jsx("span",{className:"text-purple-300",children:e[n]||n})]})})]}),d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 gap-2 sm:gap-3 md:gap-4",children:r.map(o=>{var c;const A=o===new Date().getDate(),l=(c=t[n])==null?void 0:c[o],u=i(o);return d.jsxs("div",{className:`bg-surface/60 rounded-xl p-2 sm:p-3 md:p-4 border transition-all duration-200 ${A?"border-primary/50 bg-primary/10 ring-2 ring-primary/30":"border-white/20 hover:border-white/30"}`,children:[d.jsxs("div",{className:"text-center mb-2 sm:mb-3",children:[d.jsx("div",{className:`text-sm sm:text-base md:text-lg font-bold ${A?"text-primary":"text-white"}`,children:o}),d.jsx("div",{className:"text-xs text-gray-400 hidden sm:block",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),o).getDay()]})]}),d.jsxs("div",{className:"mb-2 sm:mb-3",children:[d.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"我的班次"}),l?d.jsx("div",{className:`px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-center text-xs sm:text-sm font-bold ${s(l)}`,children:l}):d.jsx("div",{className:"px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-center text-xs sm:text-sm text-gray-400 bg-surface/20 border border-white/10",children:"無班次"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-xs text-gray-400 mb-1 sm:mb-2",children:["搭班同事 (",u.length,")"]}),u.length>0?d.jsx("div",{className:"space-y-1 sm:space-y-2",children:u.map(f=>d.jsxs("div",{className:`p-1 sm:p-2 rounded-lg border text-xs ${a(f.type)}`,children:[d.jsx("div",{className:"font-medium mb-0.5 sm:mb-1 text-xs sm:text-xs truncate",children:f.name}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-xs opacity-80 hidden sm:inline",children:f.type}),d.jsx("div",{className:`px-1 sm:px-2 py-0.5 sm:py-1 rounded text-xs font-bold ${s(f.shift)}`,children:f.shift})]})]},f.id))}):d.jsx("div",{className:"text-xs text-gray-500 text-center py-1 sm:py-2",children:l&&l!=="休"?"無搭班同事":"休息日"})]})]},o)})})]})}function G0e({allSchedules:t,names:e}){const[r,n]=x.useState([]),s=(()=>{const u=[];return Object.keys(t).filter(f=>f!=="_lastUpdated").forEach(f=>{const g=t[f];if(!g)return;const m={month:f,early:0,middle:0,night:0,rest:0,special:0,totalEmployees:0,totalDays:0},[p,v]=f.split("-"),y=new Date(parseInt(p),parseInt(v),0).getDate();m.totalDays=y,Object.keys(g).forEach(w=>{var I;if(w==="_lastUpdated")return;let B={early:0,middle:0,night:0,rest:0,special:0};for(let T=1;T<=y;T++){const F=(I=g[w])==null?void 0:I[T];if(F)switch(F){case"早":B.early++;break;case"中":B.middle++;break;case"晚":B.night++;break;case"休":B.rest++;break;case"特":B.special++;break}}m.early+=B.early,m.middle+=B.middle,m.night+=B.night,m.rest+=B.rest,m.special+=B.special,m.totalEmployees++}),m.totalEmployees>0&&(m.early=Math.round(m.early/m.totalEmployees/m.totalDays*100)/100,m.middle=Math.round(m.middle/m.totalEmployees/m.totalDays*100)/100,m.night=Math.round(m.night/m.totalEmployees/m.totalDays*100)/100,m.rest=Math.round(m.rest/m.totalEmployees/m.totalDays*100)/100,m.special=Math.round(m.special/m.totalEmployees/m.totalDays*100)/100),u.push(m)}),u.sort((f,g)=>f.month.localeCompare(g.month))})();x.useEffect(()=>{if(s.length>0&&r.length===0){const u=s.slice(-3).map(c=>c.month);n(u)}},[s]);const a=u=>{switch(u){case"early":return"#ec4899";case"middle":return"#06b6d4";case"night":return"#3b82f6";case"rest":return"#6b7280";case"special":return"#f97316";default:return"#9ca3af"}},o=u=>{switch(u){case"early":return"早班";case"middle":return"中班";case"night":return"晚班";case"rest":return"休假";case"special":return"特休";default:return u}},A=u=>{const[c,f]=u.split("-");return`${c}年${f}月`},l=s.filter(u=>r.includes(u.month));return d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-6 text-indigo-300 text-center",children:"跨月份班次平均比較"}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-indigo-300",children:"選擇月份"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(u=>d.jsx("button",{onClick:()=>{r.includes(u.month)?n(c=>c.filter(f=>f!==u.month)):n(c=>[...c,u.month])},className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${r.includes(u.month)?"bg-indigo-500 text-white border border-indigo-400":"bg-white/10 text-gray-300 border border-white/20 hover:bg-white/20"}`,children:A(u.month)},u.month))})]}),l.length>0?d.jsxs(d.Fragment,{children:[d.jsx(vs,{width:"100%",height:400,children:d.jsxs(Op,{data:l,margin:{top:20,right:30,left:20,bottom:5},children:[d.jsx(Ma,{strokeDasharray:"3 3",stroke:"#ffffff20"}),d.jsx(Cs,{dataKey:"month",stroke:"#ffffff80",tickFormatter:A,tick:{fontSize:12}}),d.jsx(Es,{stroke:"#ffffff80",tick:{fontSize:12},label:{value:"平均天數/人/月",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#ffffff80"}}}),d.jsx(ps,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"},formatter:(u,c)=>[`${u}天`,o(c)],labelFormatter:u=>A(u)}),d.jsx(Ja,{formatter:u=>o(u)}),d.jsx(yn,{dataKey:"early",fill:"#ec4899",name:"early"}),d.jsx(yn,{dataKey:"middle",fill:"#06b6d4",name:"middle"}),d.jsx(yn,{dataKey:"night",fill:"#3b82f6",name:"night"}),d.jsx(yn,{dataKey:"rest",fill:"#6b7280",name:"rest"}),d.jsx(yn,{dataKey:"special",fill:"#f97316",name:"special"})]})}),d.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-5 gap-4",children:["early","middle","night","rest","special"].map(u=>{const c=l.reduce((f,g)=>f+g[u],0)/l.length;return d.jsxs("div",{className:"text-center p-3 bg-surface/20 rounded-lg border border-white/10",children:[d.jsx("div",{className:"text-sm text-gray-400 mb-1",children:o(u)}),d.jsx("div",{className:"text-lg font-bold",style:{color:a(u)},children:Math.round(c*100)/100}),d.jsx("div",{className:"text-xs text-gray-500",children:"平均天數"})]},u)})})]}):d.jsx("div",{className:"text-center py-8 text-gray-400",children:"請選擇至少一個月份進行比較"})]})}function W0e(){const[t,e]=x.useState(""),[r,n]=x.useState(""),i=()=>{if(!t.trim()){n("請輸入測試資料");return}const s=t.trim().split(`
`);let a=`資料格式分析結果：

`;a+=`總行數: ${s.length}

`,s.forEach((o,A)=>{if(!o.trim()){a+=`第 ${A+1} 行: 空白行
`;return}a+=`第 ${A+1} 行: "${o}"
`;const l=o.split("	"),u=o.split(/\s+/);a+=`  Tab 分隔: ${l.length} 個欄位
`,a+=`  空格分隔: ${u.length} 個欄位
`,l.length>=2?(a+=`  職員編號: "${l[0].trim()}"
`,a+=`  姓名: "${l[1].trim()}"
`,a+=`  班表欄位數: ${l.length-2}
`):u.length>=2?(a+=`  職員編號: "${u[0].trim()}"
`,a+=`  姓名: "${u[1].trim()}"
`,a+=`  班表欄位數: ${u.length-2}
`):a+=`  ❌ 格式錯誤：欄位數不足
`,a+=`
`}),n(a)};return d.jsxs("div",{className:"container-custom py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"資料格式測試工具"}),d.jsx("p",{className:"text-center text-text-secondary",children:"檢查 Excel 資料格式是否正確"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-400",children:"輸入測試資料"}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"從 Excel 複製的資料"}),d.jsx("textarea",{value:t,onChange:s=>e(s.target.value),placeholder:"請從 Excel 複製資料並貼上這裡...",className:"w-full h-64 px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-blue-400/50 focus:bg-white/10 resize-none"})]}),d.jsx("button",{onClick:i,className:"px-6 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-400 rounded-lg transition-all",children:"分析資料格式"})]}),d.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-green-400",children:"分析結果"}),d.jsx("div",{className:"bg-surface/20 rounded-lg p-4 border border-white/5",children:d.jsx("pre",{className:"text-sm text-text-secondary whitespace-pre-wrap font-mono",children:r||"請輸入資料並點擊「分析資料格式」"})})]})]}),d.jsxs("div",{className:"mt-8 bg-surface/40 rounded-xl p-6 border border-white/10",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-400",children:"正確的資料格式"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-semibold mb-2 text-orange-400",children:"Excel 格式要求"}),d.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary",children:[d.jsx("li",{children:"第一欄：職員編號（如 A45、A51）"}),d.jsx("li",{children:"第二欄：姓名（如 林小余、黃紅葉）"}),d.jsx("li",{children:"第三欄開始：每日班表（如 K、Y、L、月休）"}),d.jsx("li",{children:"欄位之間用 Tab 鍵分隔"}),d.jsx("li",{children:"每行代表一位同仁的完整班表"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-semibold mb-2 text-green-400",children:"範例資料"}),d.jsx("div",{className:"bg-surface/20 rounded-lg p-4 border border-white/5",children:d.jsx("pre",{className:"text-sm text-text-secondary font-mono",children:`A45	林小余	K	K	Y	L	月休	Y
A51	黃紅葉	K	K	Y	L	K	Y
A60	李Ashley	Y	L	K	Y	L	K`})})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-semibold mb-2 text-red-400",children:"常見問題"}),d.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary",children:[d.jsx("li",{children:"複製時沒有包含 Tab 分隔符"}),d.jsx("li",{children:"職員編號或姓名為空"}),d.jsx("li",{children:"資料行數不足"}),d.jsx("li",{children:"包含多餘的空格或特殊字符"})]})]})]})]})]})}const z0e=x.lazy(()=>Yo(()=>import("./CashierManagement-CBLi-USI.js"),[])),Y0e=x.lazy(()=>Yo(()=>import("./AdminPanel-CTypjMFg.js"),[]));function X0e(){const[t,e]=x.useState({checked:!1,connected:!1,error:null});return x.useEffect(()=>{(async()=>{try{const n=await cY();e({checked:!0,connected:n,error:n?null:"無法連接到 Firebase"})}catch(n){console.error("檢查 Firebase 連接時出錯:",n),e({checked:!0,connected:!1,error:n.message||"無法連接到 Firebase"})}})()},[]),d.jsx(cX,{children:d.jsx(s$,{children:d.jsxs(AX,{children:[t.checked&&!t.connected&&d.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 m-4",children:[d.jsx("h3",{className:"text-amber-500 font-bold mb-2",children:"Firebase 連接警告"}),d.jsxs("p",{className:"text-sm text-text-secondary",children:["應用程序無法連接到 Firebase 服務。部分功能可能無法正常工作。",t.error&&d.jsxs("span",{className:"block mt-1",children:["錯誤: ",t.error]})]}),d.jsx("p",{className:"text-xs text-text-secondary mt-2",children:"您仍然可以使用應用程序，但數據將不會同步到雲端。"})]}),d.jsx(x.Suspense,{fallback:d.jsx(lX,{}),children:d.jsxs(q6,{children:[d.jsx(Dn,{path:"/",element:d.jsx(Y6,{to:"/sandwich",replace:!0})}),d.jsx(Dn,{path:"/sandwich",element:d.jsx(pX,{})}),d.jsx(Dn,{path:"/cashier",element:d.jsx(z0e,{})}),d.jsx(Dn,{path:"/alcohol",element:d.jsx(gX,{})}),d.jsx(Dn,{path:"/coffee-beans",element:d.jsx(vX,{})}),d.jsx(Dn,{path:"/daily-reports",element:d.jsx(xX,{})}),d.jsx(Dn,{path:"/schedule",element:d.jsx(T0e,{})}),d.jsx(Dn,{path:"/data-tester",element:d.jsx(W0e,{})}),d.jsx(Dn,{path:"/poursteady",element:d.jsx(fX,{})}),d.jsx(Dn,{path:"/admin",element:d.jsx(Y0e,{})}),d.jsx(Dn,{path:"*",element:d.jsx(uX,{})})]})})]})})})}Sw.createRoot(document.getElementById("root")).render(d.jsx(jp.StrictMode,{children:d.jsx(X0e,{})}));export{Vd as F,Yo as _,az as a,gr as b,zD as c,Fi as d,nd as e,iu as f,PY as g,td as h,sve as i,d as j,ive as k,ave as l,KD as m,dY as n,Ld as o,FY as p,oz as q,x as r,Mo as s,RY as t,Fk as u,nve as v,qD as w,lY as x};
