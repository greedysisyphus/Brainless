import{r as s,j as e,F as T}from"./index-PP-cQXdF.js";function L({title:i,titleId:o,...r},c){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":o},r),i?s.createElement("title",{id:o},i):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const M=s.forwardRef(L),R=[{value:1e3,label:"$1000"},{value:500,label:"$500"},{value:100,label:"$100"},{value:50,label:"$50"},{value:10,label:"$10"},{value:5,label:"$5"},{value:1,label:"$1"}];function A({title:i,onTotalChange:o,savedKey:r}){const[c,m]=s.useState(()=>{const t=localStorage.getItem(r);return t?JSON.parse(t):{}}),[x,b]=s.useState(0);s.useEffect(()=>{const t=Object.entries(c).reduce((a,[d,j])=>a+parseInt(d)*(parseInt(j)||0),0);b(t),o(t)},[c,o]),s.useEffect(()=>{localStorage.setItem(r,JSON.stringify(c))},[c,r]);const f=(t,a)=>{a<0&&(a=0),m(d=>({...d,[t]:a}))},u=()=>{m({}),localStorage.removeItem(r)};return e.jsxs("div",{className:"bg-surface rounded-xl p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold mb-6 bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:i}),e.jsx("div",{className:"space-y-4",children:R.map(({value:t,label:a})=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"w-20 text-text-secondary",children:a}),e.jsx("input",{type:"number",min:"0",value:c[t]||"",onChange:d=>f(t,parseInt(d.target.value)),className:"input-field flex-1",placeholder:"0",inputMode:"decimal"}),e.jsxs("span",{className:"w-28 text-right text-text-secondary",children:["$",((c[t]||0)*t).toLocaleString()]})]},t))}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"bg-primary/10 rounded-lg p-4 text-center",children:[e.jsx("span",{className:"text-text-secondary",children:"總計："}),e.jsxs("span",{className:"text-xl font-bold ml-2",children:["$",x.toLocaleString()]})]}),e.jsx("button",{onClick:u,className:`w-full px-4 py-2 bg-white/5 hover:bg-white/10 
                     text-text-secondary rounded-lg transition-colors`,children:"清除"})]})]})}function W({title:i,titleId:o,...r},c){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":o},r),i?s.createElement("title",{id:o},i):null,s.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const O=s.forwardRef(W);function J({title:i,titleId:o,...r},c){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":o},r),i?s.createElement("title",{id:o},i):null,s.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const y=s.forwardRef(J),V=[{code:"USD",name:"美元"},{code:"EUR",name:"歐元"},{code:"JPY",name:"日圓"},{code:"CNY",name:"人民幣"},{code:"HKD",name:"港幣"}];function Z({onTotalChange:i,savedKey:o}){const[r,c]=s.useState(()=>{const t=localStorage.getItem(o);return t?JSON.parse(t):[]}),[m,x]=s.useState({currency:"USD",amount:"",rate:""});s.useEffect(()=>{localStorage.setItem(o,JSON.stringify(r))},[r,o]),s.useEffect(()=>{const t=r.reduce((a,d)=>a+d.localValue,0);i(t)},[r,i]);const b=t=>{if(t.preventDefault(),!m.amount||!m.rate)return;const a=Math.floor(m.amount*m.rate),d={...m,localValue:a,id:Date.now()};c(j=>[...j,d]),x(j=>({...j,amount:"",rate:""}))},f=t=>{c(a=>a.filter(d=>d.id!==t))},u=()=>{c([]),localStorage.removeItem(o)};return e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"card-header",children:"外幣計算"}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsx("select",{value:m.currency,onChange:t=>x(a=>({...a,currency:t.target.value})),className:"input-field w-full",children:V.map(t=>e.jsxs("option",{value:t.code,children:[t.code," (",t.name,")"]},t.code))}),e.jsx("input",{type:"number",value:m.amount,onChange:t=>x(a=>({...a,amount:parseFloat(t.target.value)})),className:"input-field w-full",placeholder:"金額",step:"0.01",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*"}),e.jsx("input",{type:"number",value:m.rate,onChange:t=>x(a=>({...a,rate:parseFloat(t.target.value)})),className:"input-field w-full",placeholder:"匯率",step:"0.01",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*"}),e.jsx("button",{type:"submit",className:"btn-primary w-full",children:"新增"})]}),e.jsx("div",{className:"mt-6 space-y-2 max-h-48 overflow-y-auto",children:r.map(t=>e.jsxs("div",{className:"bg-white/5 rounded-lg p-3 flex justify-between items-center group",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{children:[t.currency," ",t.amount.toFixed(2)," @ ",t.rate]}),e.jsx("button",{onClick:()=>f(t.id),className:"text-text-secondary hover:text-red-400 transition-colors opacity-0 group-hover:opacity-100",children:e.jsx(y,{className:"w-5 h-5"})})]}),e.jsxs("span",{className:"text-text-secondary",children:["$",t.localValue.toLocaleString()]})]},t.id))}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"bg-primary/10 rounded-lg p-4 text-center",children:[e.jsx("span",{className:"text-text-secondary",children:"總計："}),e.jsxs("span",{className:"text-xl font-bold ml-2",children:["$",r.reduce((t,a)=>t+a.localValue,0).toLocaleString()]})]}),e.jsx("button",{onClick:u,className:`w-full px-4 py-2 bg-white/5 hover:bg-white/10 
                    text-text-secondary rounded-lg transition-colors`,children:"清除全部"})]})]})}function U({cashierTotal:i,drawerTotal:o,foreignTotal:r,posAmount:c,onPosAmountChange:m,foreignTransactions:x}){const[b,f]=s.useState(!1),[u,t]=s.useState(!1),a=i+o+r-2e4,d=a-c,j=i+o-2e4-r,w=()=>d===0?{containerClass:"bg-gradient-to-r from-green-500/10 to-emerald-500/10 border-green-500/20",textClass:"text-green-400",icon:e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"w-6 h-6 text-green-400 animate-pulse"}),e.jsx("div",{className:"absolute inset-0 bg-green-400/20 rounded-full blur-lg animate-pulse"})]}),message:"金額正確"}:d>0?{containerClass:"bg-yellow-500/10 border border-yellow-500/20",textClass:"text-yellow-400",icon:e.jsx(y,{className:"w-6 h-6 text-yellow-400"}),message:"金額過多"}:{containerClass:"bg-red-500/10 border border-red-500/20",textClass:"text-red-400",icon:e.jsx(y,{className:"w-6 h-6 text-red-400"}),message:"金額不足"},l=()=>{f(!0)},p=w();return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"card-header mb-0",children:"日結匯總"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-text-secondary",children:"晚班模式"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:u,onChange:g=>t(g.target.checked)}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-background/50 rounded-lg p-4 backdrop-blur-sm",children:[e.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"POS機金額"}),e.jsx("input",{type:"number",value:c||"",onChange:g=>{m(parseFloat(g.target.value)||0),f(!1)},className:"input-field w-full mb-3",placeholder:"請輸入POS機金額",inputMode:"decimal"}),e.jsx("button",{onClick:l,className:"btn-primary w-full",children:"計算"})]}),e.jsxs("div",{className:"bg-background/50 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"summary-row",children:[e.jsx("span",{className:"summary-label",children:"收銀機現金"}),e.jsxs("span",{className:"summary-value",children:["$",i.toLocaleString()]})]}),e.jsxs("div",{className:"summary-row",children:[e.jsx("span",{className:"summary-label",children:"抽屜現金"}),e.jsxs("span",{className:"summary-value",children:["$",o.toLocaleString()]})]}),e.jsxs("div",{className:"summary-row",children:[e.jsx("span",{className:"summary-label",children:"外幣總額"}),e.jsxs("span",{className:"summary-value",children:["$",r.toLocaleString()]})]}),e.jsxs("div",{className:"summary-row",children:[e.jsx("span",{className:"summary-label text-red-400",children:"基本金額"}),e.jsx("span",{className:"summary-value text-red-400",children:"-$20,000"})]}),e.jsx("div",{className:"bg-surface/50 p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold",children:"實際現金收入"}),e.jsxs("span",{className:"text-xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:["$",a.toLocaleString()]})]})})]}),b&&e.jsx("div",{className:`rounded-lg p-4 backdrop-blur-sm ${p.containerClass}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"差額"}),p.icon,e.jsx("span",{className:`text-sm ${p.textClass}`,children:p.message})]}),e.jsxs("span",{className:`text-xl font-bold ${p.textClass}`,children:["$",d.toLocaleString()]})]})}),u&&e.jsxs("div",{className:"bg-background/50 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-surface/50 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg font-semibold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"需上繳金額"}),e.jsx("div",{className:"h-4 w-4 rounded-full bg-gradient-to-r from-primary to-secondary animate-pulse opacity-75"})]}),e.jsx("div",{className:"text-xs px-2 py-1 rounded-full bg-primary/10 text-primary",children:"晚班結算"})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"relative bg-surface/30 rounded-xl p-4 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 to-secondary/5"}),e.jsxs("div",{className:"relative flex justify-between items-center",children:[e.jsx("span",{className:"text-text-secondary font-medium",children:"台幣"}),e.jsxs("span",{className:"text-xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:["$",j.toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-surface/30 rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("span",{className:"text-text-secondary font-medium",children:"外幣"}),!(x!=null&&x.length)&&e.jsx("span",{className:"text-sm text-text-secondary",children:"無外幣紀錄"})]}),(x==null?void 0:x.length)>0&&e.jsx("div",{className:"bg-background/30 rounded-lg p-2 space-y-2",children:x.map((g,v)=>e.jsxs("div",{className:"flex justify-between items-center px-3 py-2 rounded-lg hover:bg-surface/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-primary/50"}),e.jsx("span",{className:"font-medium text-text-secondary",children:g.currency})]}),e.jsxs("span",{className:"text-lg font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:["$",g.amount.toLocaleString()]})]},v))})]})]})]})]})]})}function H(){const[i,o]=s.useState(()=>{const n=localStorage.getItem("cashierTotal");return n?parseFloat(n):0}),[r,c]=s.useState(()=>{const n=localStorage.getItem("drawerTotal");return n?parseFloat(n):0}),[m,x]=s.useState(()=>{const n=localStorage.getItem("foreignTotal");return n?parseFloat(n):0}),[b,f]=s.useState(()=>{const n=localStorage.getItem("posAmount");return n?parseFloat(n):0}),[u,t]=s.useState(!1),[a,d]=s.useState({rate:"",foreignAmount:"",productPrice:""});s.useEffect(()=>{localStorage.setItem("cashierTotal",i),localStorage.setItem("drawerTotal",r),localStorage.setItem("foreignTotal",m),localStorage.setItem("posAmount",b)},[i,r,m,b]);const j=()=>{o(0),c(0),x(0),f(0),localStorage.removeItem("cashierTotal"),localStorage.removeItem("drawerTotal"),localStorage.removeItem("foreignTotal"),localStorage.removeItem("posAmount"),localStorage.removeItem("cashierDenominations"),localStorage.removeItem("drawerDenominations"),localStorage.removeItem("foreignTransactions"),window.location.reload()},l=(()=>{const{rate:n,foreignAmount:h,productPrice:C}=a;if(!n||!h||!C)return null;const N=parseFloat(n),I=parseFloat(h),k=parseFloat(C),F=k/N,$=Math.ceil(F),D=Math.ceil($*N),P=Math.floor(I*N),E=P-D;return{changeInForeign:E/N,changeInTWD:E,foreignAmount:I,rate:N,productPrice:k,productPriceInForeign:F,roundedProductPriceInForeign:$,roundedProductPriceInTWD:D,foreignAmountInTWD:P}})(),p=l&&l.foreignAmount===l.roundedProductPriceInForeign,g=l&&l.changeInTWD<0&&!p,v=l&&l.changeInTWD>0,S=l&&l.rate>0&&l.foreignAmount>0&&l.productPrice>0;return s.useEffect(()=>{const n=h=>{h.key==="Escape"&&u&&t(!1),h.key};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[u,S]),e.jsxs("div",{className:"container-custom py-8",children:[e.jsx("div",{className:"flex justify-end mb-4",children:e.jsx("button",{onClick:j,className:"btn-primary bg-red-500 hover:bg-red-600",children:"重置所有數據"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(A,{title:"收銀機現金",onTotalChange:o,savedKey:"cashierDenominations"}),e.jsx(A,{title:"抽屜現金",onTotalChange:c,savedKey:"drawerDenominations"}),e.jsx(Z,{onTotalChange:x,savedKey:"foreignTransactions"}),e.jsx(U,{cashierTotal:i,drawerTotal:r,foreignTotal:m,posAmount:b,onPosAmountChange:f,foreignTransactions:JSON.parse(localStorage.getItem("foreignTransactions")||"[]")})]}),e.jsx("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 p-4 bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-400/30 text-green-400 hover:from-green-500/30 hover:to-emerald-500/30 hover:border-green-500/50 transition-all duration-200 rounded-full shadow-lg hover:shadow-xl z-50 hover:scale-110 transform touch-manipulation active:scale-95",style:{minWidth:"64px",minHeight:"64px"},"aria-label":"開啟外幣找零計算器",children:e.jsx(M,{className:"w-7 h-7"})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-start justify-center p-4 touch-manipulation overflow-y-auto",onClick:()=>t(!1),children:e.jsxs("div",{className:"bg-surface/95 backdrop-blur-md border border-white/20 rounded-2xl w-full max-w-md shadow-2xl touch-manipulation my-8",onClick:n=>n.stopPropagation(),children:[e.jsx("div",{className:"sticky top-0 bg-surface/95 backdrop-blur-md border-b border-white/10 rounded-t-2xl p-6 pb-4 z-10",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-green-400 mb-1",children:"外幣找零計算器"}),e.jsx("p",{className:"text-sm text-text-secondary",children:"計算外幣找零金額 • 按 ESC 關閉"})]}),e.jsx("button",{onClick:()=>t(!1),className:"p-4 rounded-xl hover:bg-red-500/20 text-red-400 transition-all duration-200 touch-manipulation active:scale-95",style:{minWidth:"56px",minHeight:"56px"},"aria-label":"關閉外幣找零計算器",children:e.jsx(T,{className:"w-7 h-7"})})]})}),e.jsxs("div",{className:"p-6 pt-4 space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-xl p-4 border border-white/10",children:[e.jsxs("label",{className:"block text-sm font-semibold mb-3 text-blue-400 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"匯率 (1 外幣 = ? TWD)"]}),e.jsx("input",{type:"number",value:a.rate,onChange:n=>d(h=>({...h,rate:n.target.value})),className:"input-field w-full text-sm py-4 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all touch-manipulation",placeholder:"輸入匯率",step:"0.01",inputMode:"decimal"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-xl p-4 border border-white/10",children:[e.jsxs("label",{className:"block text-sm font-semibold mb-3 text-purple-400 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-400"}),"客人付的外幣金額"]}),e.jsx("input",{type:"number",value:a.foreignAmount,onChange:n=>d(h=>({...h,foreignAmount:n.target.value})),className:"input-field w-full text-sm py-4 px-4 rounded-lg bg-white/5 border-white/10 focus:border-purple-400/50 focus:bg-white/10 hover:border-purple-400/30 transition-all touch-manipulation",placeholder:"輸入外幣金額",step:"0.01",inputMode:"decimal"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-xl p-4 border border-white/10",children:[e.jsxs("label",{className:"block text-sm font-semibold mb-3 text-orange-400 flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-400"}),"商品價格 (TWD)"]}),e.jsx("input",{type:"number",value:a.productPrice,onChange:n=>d(h=>({...h,productPrice:n.target.value})),className:"input-field w-full text-sm py-4 px-4 rounded-lg bg-white/5 border-white/10 focus:border-orange-400/50 focus:bg-white/10 hover:border-orange-400/30 transition-all touch-manipulation",placeholder:"輸入商品價格",step:"0.01",inputMode:"decimal"})]}),l&&e.jsxs("div",{className:`rounded-xl p-4 border ${p?"bg-gradient-to-br from-green-500/20 to-emerald-500/20 border-green-400/40":g?"bg-gradient-to-br from-red-500/20 to-pink-500/20 border-red-400/40":v?"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 border-blue-400/40":"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border-green-400/20"}`,children:[p&&e.jsxs("div",{className:"flex items-center gap-2 mb-4 p-3 bg-green-500/20 rounded-lg border border-green-400/30",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),e.jsx("span",{className:"text-sm font-semibold text-green-400",children:"金額剛好，無需找零"})]}),g&&e.jsxs("div",{className:"flex items-center gap-2 mb-4 p-3 bg-red-500/20 rounded-lg border border-red-400/30",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-400"}),e.jsx("span",{className:"text-sm font-semibold text-red-400",children:"金額不足，需補差額"})]}),v&&e.jsxs("div",{className:"flex items-center gap-2 mb-4 p-3 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),e.jsx("span",{className:"text-sm font-semibold text-blue-400",children:"需要找零"})]}),!p&&e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"text-xs text-text-secondary mb-1",children:"最終找零金額"}),e.jsxs("div",{className:`text-3xl font-bold ${g?"text-red-400":"text-blue-400"}`,children:["$",l.changeInTWD.toFixed(0)]}),e.jsxs("div",{className:"text-sm text-text-secondary mt-1",children:["外幣等值：",l.changeInForeign.toFixed(2)]})]}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"text-sm font-semibold text-text-secondary cursor-pointer hover:text-white transition-colors",children:"查看詳細計算步驟"}),e.jsxs("div",{className:"mt-3 space-y-2 text-xs",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-text-secondary",children:"原始商品價格："}),e.jsxs("span",{className:"font-semibold text-orange-400",children:["$",l.productPrice.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-text-secondary",children:"商品價格（外幣等值）："}),e.jsx("span",{className:"font-semibold text-yellow-400",children:l.productPriceInForeign.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-text-secondary",children:"進位後商品價格（外幣）："}),e.jsx("span",{className:"font-semibold text-cyan-400",children:l.roundedProductPriceInForeign.toFixed(0)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-text-secondary",children:"進位後商品價格（台幣）："}),e.jsxs("span",{className:"font-semibold text-cyan-400",children:["$",l.roundedProductPriceInTWD.toFixed(0)]})]}),e.jsxs("div",{className:"border-t border-white/10 pt-2 mt-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-text-secondary",children:"客人付的外幣："}),e.jsx("span",{className:"font-semibold text-purple-400",children:l.foreignAmount.toFixed(0)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-text-secondary",children:"客人付的台幣等值："}),e.jsxs("span",{className:"font-semibold text-purple-400",children:["$",l.foreignAmountInTWD.toFixed(0)]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-text-secondary",children:"減去商品價格（台幣）："}),e.jsxs("span",{className:"font-semibold text-red-400",children:["-$",l.roundedProductPriceInTWD.toFixed(0)]})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:()=>d({rate:"",foreignAmount:"",productPrice:""}),className:`px-4 py-3 bg-white/5 hover:bg-white/10 
                            text-text-secondary rounded-lg transition-all duration-200 touch-manipulation active:scale-95`,children:"清除輸入"}),l&&e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`找零金額：$${l.changeInTWD.toFixed(0)}`)},className:`px-4 py-3 bg-blue-500/20 hover:bg-blue-500/30 
                              text-blue-400 rounded-lg transition-all duration-200 touch-manipulation active:scale-95 border border-blue-400/30`,children:"複製結果"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-xl p-4 border border-blue-400/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-400 mb-2",children:"計算公式"}),e.jsxs("div",{className:"text-xs text-text-secondary space-y-1",children:[e.jsx("div",{children:"1. 商品價格 ÷ 匯率 = 外幣等值（進位）"}),e.jsx("div",{children:"2. 外幣等值 × 匯率 = 台幣價格（進位）"}),e.jsx("div",{children:"3. 客人外幣 × 匯率 = 台幣等值（捨去）"}),e.jsx("div",{children:"4. 台幣等值 - 台幣價格 = 找零金額"})]})]})]})]})})]})}export{H as default};
