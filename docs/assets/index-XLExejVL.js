var kH=Object.defineProperty;var OH=(t,e,r)=>e in t?kH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var sc=(t,e,r)=>OH(t,typeof e!="symbol"?e+"":e,r);function DH(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function Vi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mN={exports:{}},Ym={},vN={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf=Symbol.for("react.element"),jH=Symbol.for("react.portal"),RH=Symbol.for("react.fragment"),MH=Symbol.for("react.strict_mode"),LH=Symbol.for("react.profiler"),HH=Symbol.for("react.provider"),VH=Symbol.for("react.context"),KH=Symbol.for("react.forward_ref"),$H=Symbol.for("react.suspense"),GH=Symbol.for("react.memo"),zH=Symbol.for("react.lazy"),bI=Symbol.iterator;function WH(t){return t===null||typeof t!="object"?null:(t=bI&&t[bI]||t["@@iterator"],typeof t=="function"?t:null)}var yN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wN=Object.assign,xN={};function mu(t,e,r){this.props=t,this.context=e,this.refs=xN,this.updater=r||yN}mu.prototype.isReactComponent={};mu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bN(){}bN.prototype=mu.prototype;function IB(t,e,r){this.props=t,this.context=e,this.refs=xN,this.updater=r||yN}var SB=IB.prototype=new bN;SB.constructor=IB;wN(SB,mu.prototype);SB.isPureReactComponent=!0;var BI=Array.isArray,BN=Object.prototype.hasOwnProperty,TB={current:null},CN={key:!0,ref:!0,__self:!0,__source:!0};function EN(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)BN.call(e,n)&&!CN.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var A=Array(o),l=0;l<o;l++)A[l]=arguments[l+2];i.children=A}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:gf,type:t,key:s,ref:a,props:i,_owner:TB.current}}function YH(t,e){return{$$typeof:gf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function FB(t){return typeof t=="object"&&t!==null&&t.$$typeof===gf}function XH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var CI=/\/+/g;function iy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XH(""+t.key):e.toString(36)}function Sg(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case gf:case jH:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+iy(a,0):n,BI(i)?(r="",t!=null&&(r=t.replace(CI,"$&/")+"/"),Sg(i,e,r,"",function(l){return l})):i!=null&&(FB(i)&&(i=YH(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(CI,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",BI(t))for(var o=0;o<t.length;o++){s=t[o];var A=n+iy(s,o);a+=Sg(s,e,r,A,i)}else if(A=WH(t),typeof A=="function")for(t=A.call(t),o=0;!(s=t.next()).done;)s=s.value,A=n+iy(s,o++),a+=Sg(s,e,r,A,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function mh(t,e,r){if(t==null)return t;var n=[],i=0;return Sg(t,n,"","",function(s){return e.call(r,s,i++)}),n}function qH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yr={current:null},Tg={transition:null},JH={ReactCurrentDispatcher:Yr,ReactCurrentBatchConfig:Tg,ReactCurrentOwner:TB};function _N(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:mh,forEach:function(t,e,r){mh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return mh(t,function(){e++}),e},toArray:function(t){return mh(t,function(e){return e})||[]},only:function(t){if(!FB(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=mu;De.Fragment=RH;De.Profiler=LH;De.PureComponent=IB;De.StrictMode=MH;De.Suspense=$H;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JH;De.act=_N;De.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=wN({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=TB.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(A in e)BN.call(e,A)&&!CN.hasOwnProperty(A)&&(n[A]=e[A]===void 0&&o!==void 0?o[A]:e[A])}var A=arguments.length-2;if(A===1)n.children=r;else if(1<A){o=Array(A);for(var l=0;l<A;l++)o[l]=arguments[l+2];n.children=o}return{$$typeof:gf,type:t.type,key:i,ref:s,props:n,_owner:a}};De.createContext=function(t){return t={$$typeof:VH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HH,_context:t},t.Consumer=t};De.createElement=EN;De.createFactory=function(t){var e=EN.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:KH,render:t}};De.isValidElement=FB;De.lazy=function(t){return{$$typeof:zH,_payload:{_status:-1,_result:t},_init:qH}};De.memo=function(t,e){return{$$typeof:GH,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=Tg.transition;Tg.transition={};try{t()}finally{Tg.transition=e}};De.unstable_act=_N;De.useCallback=function(t,e){return Yr.current.useCallback(t,e)};De.useContext=function(t){return Yr.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return Yr.current.useDeferredValue(t)};De.useEffect=function(t,e){return Yr.current.useEffect(t,e)};De.useId=function(){return Yr.current.useId()};De.useImperativeHandle=function(t,e,r){return Yr.current.useImperativeHandle(t,e,r)};De.useInsertionEffect=function(t,e){return Yr.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return Yr.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return Yr.current.useMemo(t,e)};De.useReducer=function(t,e,r){return Yr.current.useReducer(t,e,r)};De.useRef=function(t){return Yr.current.useRef(t)};De.useState=function(t){return Yr.current.useState(t)};De.useSyncExternalStore=function(t,e,r){return Yr.current.useSyncExternalStore(t,e,r)};De.useTransition=function(){return Yr.current.useTransition()};De.version="18.3.1";vN.exports=De;var x=vN.exports;const Xm=Vi(x),IN=DH({__proto__:null,default:Xm},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZH=x,eV=Symbol.for("react.element"),tV=Symbol.for("react.fragment"),rV=Object.prototype.hasOwnProperty,nV=ZH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iV={key:!0,ref:!0,__self:!0,__source:!0};function SN(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)rV.call(e,n)&&!iV.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:eV,type:t,key:s,ref:a,props:i,_owner:nV.current}}Ym.Fragment=tV;Ym.jsx=SN;Ym.jsxs=SN;mN.exports=Ym;var c=mN.exports,Ow={},TN={exports:{}},Fn={},FN={exports:{}},UN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,se){var ue=q.length;q.push(se);e:for(;0<ue;){var Se=ue-1>>>1,ie=q[Se];if(0<i(ie,se))q[Se]=se,q[ue]=ie,ue=Se;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var se=q[0],ue=q.pop();if(ue!==se){q[0]=ue;e:for(var Se=0,ie=q.length,Ue=ie>>>1;Se<Ue;){var Ye=2*(Se+1)-1,D=q[Ye],V=Ye+1,j=q[V];if(0>i(D,ue))V<ie&&0>i(j,D)?(q[Se]=j,q[V]=ue,Se=V):(q[Se]=D,q[Ye]=ue,Se=Ye);else if(V<ie&&0>i(j,ue))q[Se]=j,q[V]=ue,Se=V;else break e}}return se}function i(q,se){var ue=q.sortIndex-se.sortIndex;return ue!==0?ue:q.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var A=[],l=[],u=1,d=null,f=3,g=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(q){for(var se=r(l);se!==null;){if(se.callback===null)n(l);else if(se.startTime<=q)n(l),se.sortIndex=se.expirationTime,e(A,se);else break;se=r(l)}}function I(q){if(m=!1,B(q),!p)if(r(A)!==null)p=!0,pe(T);else{var se=r(l);se!==null&&me(I,se.startTime-q)}}function T(q,se){p=!1,m&&(m=!1,y(_),_=-1),g=!0;var ue=f;try{for(B(se),d=r(A);d!==null&&(!(d.expirationTime>se)||q&&!Q());){var Se=d.callback;if(typeof Se=="function"){d.callback=null,f=d.priorityLevel;var ie=Se(d.expirationTime<=se);se=t.unstable_now(),typeof ie=="function"?d.callback=ie:d===r(A)&&n(A),B(se)}else n(A);d=r(A)}if(d!==null)var Ue=!0;else{var Ye=r(l);Ye!==null&&me(I,Ye.startTime-se),Ue=!1}return Ue}finally{d=null,f=ue,g=!1}}var F=!1,C=null,_=-1,S=5,P=-1;function Q(){return!(t.unstable_now()-P<S)}function k(){if(C!==null){var q=t.unstable_now();P=q;var se=!0;try{se=C(!0,q)}finally{se?N():(F=!1,C=null)}}else F=!1}var N;if(typeof w=="function")N=function(){w(k)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,xe=oe.port2;oe.port1.onmessage=k,N=function(){xe.postMessage(null)}}else N=function(){v(k,0)};function pe(q){C=q,F||(F=!0,N())}function me(q,se){_=v(function(){q(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,pe(T))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(A)},t.unstable_next=function(q){switch(f){case 1:case 2:case 3:var se=3;break;default:se=f}var ue=f;f=se;try{return q()}finally{f=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,se){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ue=f;f=q;try{return se()}finally{f=ue}},t.unstable_scheduleCallback=function(q,se,ue){var Se=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Se+ue:Se):ue=Se,q){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=ue+ie,q={id:u++,callback:se,priorityLevel:q,startTime:ue,expirationTime:ie,sortIndex:-1},ue>Se?(q.sortIndex=ue,e(l,q),r(A)===null&&q===r(l)&&(m?(y(_),_=-1):m=!0,me(I,ue-Se))):(q.sortIndex=ie,e(A,q),p||g||(p=!0,pe(T))),q},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(q){var se=f;return function(){var ue=f;f=se;try{return q.apply(this,arguments)}finally{f=ue}}}})(UN);FN.exports=UN;var sV=FN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aV=x,Cn=sV;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PN=new Set,bd={};function BA(t,e){Rl(t,e),Rl(t+"Capture",e)}function Rl(t,e){for(bd[t]=e,t=0;t<e.length;t++)PN.add(e[t])}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dw=Object.prototype.hasOwnProperty,oV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,EI={},_I={};function AV(t){return Dw.call(_I,t)?!0:Dw.call(EI,t)?!1:oV.test(t)?_I[t]=!0:(EI[t]=!0,!1)}function lV(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uV(t,e,r,n){if(e===null||typeof e>"u"||lV(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Cr[t]=new Xr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Cr[e]=new Xr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Cr[t]=new Xr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Cr[t]=new Xr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Cr[t]=new Xr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Cr[t]=new Xr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Cr[t]=new Xr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Cr[t]=new Xr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Cr[t]=new Xr(t,5,!1,t.toLowerCase(),null,!1,!1)});var UB=/[\-:]([a-z])/g;function PB(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(UB,PB);Cr[e]=new Xr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(UB,PB);Cr[e]=new Xr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(UB,PB);Cr[e]=new Xr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Cr[t]=new Xr(t,1,!1,t.toLowerCase(),null,!1,!1)});Cr.xlinkHref=new Xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Cr[t]=new Xr(t,1,!1,t.toLowerCase(),null,!0,!0)});function NB(t,e,r,n){var i=Cr.hasOwnProperty(e)?Cr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uV(e,r,i,n)&&(r=null),n||i===null?AV(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var js=aV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vh=Symbol.for("react.element"),Al=Symbol.for("react.portal"),ll=Symbol.for("react.fragment"),QB=Symbol.for("react.strict_mode"),jw=Symbol.for("react.profiler"),NN=Symbol.for("react.provider"),QN=Symbol.for("react.context"),kB=Symbol.for("react.forward_ref"),Rw=Symbol.for("react.suspense"),Mw=Symbol.for("react.suspense_list"),OB=Symbol.for("react.memo"),sa=Symbol.for("react.lazy"),kN=Symbol.for("react.offscreen"),II=Symbol.iterator;function ac(t){return t===null||typeof t!="object"?null:(t=II&&t[II]||t["@@iterator"],typeof t=="function"?t:null)}var St=Object.assign,sy;function Uc(t){if(sy===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);sy=e&&e[1]||""}return`
`+sy+t}var ay=!1;function oy(t,e){if(!t||ay)return"";ay=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var A=`
`+i[a].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=a&&0<=o);break}}}finally{ay=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Uc(t):""}function cV(t){switch(t.tag){case 5:return Uc(t.type);case 16:return Uc("Lazy");case 13:return Uc("Suspense");case 19:return Uc("SuspenseList");case 0:case 2:case 15:return t=oy(t.type,!1),t;case 11:return t=oy(t.type.render,!1),t;case 1:return t=oy(t.type,!0),t;default:return""}}function Lw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ll:return"Fragment";case Al:return"Portal";case jw:return"Profiler";case QB:return"StrictMode";case Rw:return"Suspense";case Mw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case QN:return(t.displayName||"Context")+".Consumer";case NN:return(t._context.displayName||"Context")+".Provider";case kB:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case OB:return e=t.displayName||null,e!==null?e:Lw(t.type)||"Memo";case sa:e=t._payload,t=t._init;try{return Lw(t(e))}catch{}}return null}function dV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lw(e);case 8:return e===QB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $a(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ON(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fV(t){var e=ON(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yh(t){t._valueTracker||(t._valueTracker=fV(t))}function DN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=ON(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ap(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hw(t,e){var r=e.checked;return St({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function SI(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=$a(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jN(t,e){e=e.checked,e!=null&&NB(t,"checked",e,!1)}function Vw(t,e){jN(t,e);var r=$a(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Kw(t,e.type,r):e.hasOwnProperty("defaultValue")&&Kw(t,e.type,$a(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function TI(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Kw(t,e,r){(e!=="number"||ap(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Pc=Array.isArray;function _l(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+$a(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function $w(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return St({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function FI(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(re(92));if(Pc(r)){if(1<r.length)throw Error(re(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:$a(r)}}function RN(t,e){var r=$a(e.value),n=$a(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function UI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function MN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?MN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wh,LN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wh=wh||document.createElement("div"),wh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Xc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hV=["Webkit","ms","Moz","O"];Object.keys(Xc).forEach(function(t){hV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xc[e]=Xc[t]})});function HN(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Xc.hasOwnProperty(t)&&Xc[t]?(""+e).trim():e+"px"}function VN(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=HN(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var gV=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zw(t,e){if(e){if(gV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function Ww(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yw=null;function DB(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xw=null,Il=null,Sl=null;function PI(t){if(t=vf(t)){if(typeof Xw!="function")throw Error(re(280));var e=t.stateNode;e&&(e=t0(e),Xw(t.stateNode,t.type,e))}}function KN(t){Il?Sl?Sl.push(t):Sl=[t]:Il=t}function $N(){if(Il){var t=Il,e=Sl;if(Sl=Il=null,PI(t),e)for(t=0;t<e.length;t++)PI(e[t])}}function GN(t,e){return t(e)}function zN(){}var Ay=!1;function WN(t,e,r){if(Ay)return t(e,r);Ay=!0;try{return GN(t,e,r)}finally{Ay=!1,(Il!==null||Sl!==null)&&(zN(),$N())}}function Cd(t,e){var r=t.stateNode;if(r===null)return null;var n=t0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(re(231,e,typeof r));return r}var qw=!1;if(Es)try{var oc={};Object.defineProperty(oc,"passive",{get:function(){qw=!0}}),window.addEventListener("test",oc,oc),window.removeEventListener("test",oc,oc)}catch{qw=!1}function pV(t,e,r,n,i,s,a,o,A){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var qc=!1,op=null,Ap=!1,Jw=null,mV={onError:function(t){qc=!0,op=t}};function vV(t,e,r,n,i,s,a,o,A){qc=!1,op=null,pV.apply(mV,arguments)}function yV(t,e,r,n,i,s,a,o,A){if(vV.apply(this,arguments),qc){if(qc){var l=op;qc=!1,op=null}else throw Error(re(198));Ap||(Ap=!0,Jw=l)}}function CA(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function YN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function NI(t){if(CA(t)!==t)throw Error(re(188))}function wV(t){var e=t.alternate;if(!e){if(e=CA(t),e===null)throw Error(re(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return NI(i),t;if(s===n)return NI(i),e;s=s.sibling}throw Error(re(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?t:e}function XN(t){return t=wV(t),t!==null?qN(t):null}function qN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qN(t);if(e!==null)return e;t=t.sibling}return null}var JN=Cn.unstable_scheduleCallback,QI=Cn.unstable_cancelCallback,xV=Cn.unstable_shouldYield,bV=Cn.unstable_requestPaint,jt=Cn.unstable_now,BV=Cn.unstable_getCurrentPriorityLevel,jB=Cn.unstable_ImmediatePriority,ZN=Cn.unstable_UserBlockingPriority,lp=Cn.unstable_NormalPriority,CV=Cn.unstable_LowPriority,eQ=Cn.unstable_IdlePriority,qm=null,Qi=null;function EV(t){if(Qi&&typeof Qi.onCommitFiberRoot=="function")try{Qi.onCommitFiberRoot(qm,t,void 0,(t.current.flags&128)===128)}catch{}}var mi=Math.clz32?Math.clz32:SV,_V=Math.log,IV=Math.LN2;function SV(t){return t>>>=0,t===0?32:31-(_V(t)/IV|0)|0}var xh=64,bh=4194304;function Nc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function up(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Nc(o):(s&=a,s!==0&&(n=Nc(s)))}else a=r&~i,a!==0?n=Nc(a):s!==0&&(n=Nc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-mi(e),i=1<<r,n|=t[r],e&=~i;return n}function TV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FV(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-mi(s),o=1<<a,A=i[a];A===-1?(!(o&r)||o&n)&&(i[a]=TV(o,e)):A<=e&&(t.expiredLanes|=o),s&=~o}}function Zw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tQ(){var t=xh;return xh<<=1,!(xh&4194240)&&(xh=64),t}function ly(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function pf(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mi(e),t[e]=r}function UV(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-mi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function RB(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-mi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Je=0;function rQ(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nQ,MB,iQ,sQ,aQ,ex=!1,Bh=[],Ea=null,_a=null,Ia=null,Ed=new Map,_d=new Map,la=[],PV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kI(t,e){switch(t){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":Ed.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_d.delete(e.pointerId)}}function Ac(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=vf(e),e!==null&&MB(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function NV(t,e,r,n,i){switch(e){case"focusin":return Ea=Ac(Ea,t,e,r,n,i),!0;case"dragenter":return _a=Ac(_a,t,e,r,n,i),!0;case"mouseover":return Ia=Ac(Ia,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Ed.set(s,Ac(Ed.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,_d.set(s,Ac(_d.get(s)||null,t,e,r,n,i)),!0}return!1}function oQ(t){var e=jo(t.target);if(e!==null){var r=CA(e);if(r!==null){if(e=r.tag,e===13){if(e=YN(r),e!==null){t.blockedOn=e,aQ(t.priority,function(){iQ(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=tx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Yw=n,r.target.dispatchEvent(n),Yw=null}else return e=vf(r),e!==null&&MB(e),t.blockedOn=r,!1;e.shift()}return!0}function OI(t,e,r){Fg(t)&&r.delete(e)}function QV(){ex=!1,Ea!==null&&Fg(Ea)&&(Ea=null),_a!==null&&Fg(_a)&&(_a=null),Ia!==null&&Fg(Ia)&&(Ia=null),Ed.forEach(OI),_d.forEach(OI)}function lc(t,e){t.blockedOn===e&&(t.blockedOn=null,ex||(ex=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,QV)))}function Id(t){function e(i){return lc(i,t)}if(0<Bh.length){lc(Bh[0],t);for(var r=1;r<Bh.length;r++){var n=Bh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ea!==null&&lc(Ea,t),_a!==null&&lc(_a,t),Ia!==null&&lc(Ia,t),Ed.forEach(e),_d.forEach(e),r=0;r<la.length;r++)n=la[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<la.length&&(r=la[0],r.blockedOn===null);)oQ(r),r.blockedOn===null&&la.shift()}var Tl=js.ReactCurrentBatchConfig,cp=!0;function kV(t,e,r,n){var i=Je,s=Tl.transition;Tl.transition=null;try{Je=1,LB(t,e,r,n)}finally{Je=i,Tl.transition=s}}function OV(t,e,r,n){var i=Je,s=Tl.transition;Tl.transition=null;try{Je=4,LB(t,e,r,n)}finally{Je=i,Tl.transition=s}}function LB(t,e,r,n){if(cp){var i=tx(t,e,r,n);if(i===null)yy(t,e,n,dp,r),kI(t,n);else if(NV(i,t,e,r,n))n.stopPropagation();else if(kI(t,n),e&4&&-1<PV.indexOf(t)){for(;i!==null;){var s=vf(i);if(s!==null&&nQ(s),s=tx(t,e,r,n),s===null&&yy(t,e,n,dp,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else yy(t,e,n,null,r)}}var dp=null;function tx(t,e,r,n){if(dp=null,t=DB(n),t=jo(t),t!==null)if(e=CA(t),e===null)t=null;else if(r=e.tag,r===13){if(t=YN(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return dp=t,null}function AQ(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BV()){case jB:return 1;case ZN:return 4;case lp:case CV:return 16;case eQ:return 536870912;default:return 16}default:return 16}}var ha=null,HB=null,Ug=null;function lQ(){if(Ug)return Ug;var t,e=HB,r=e.length,n,i="value"in ha?ha.value:ha.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Ug=i.slice(t,1<n?1-n:void 0)}function Pg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ch(){return!0}function DI(){return!1}function Un(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ch:DI,this.isPropagationStopped=DI,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ch)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ch)},persist:function(){},isPersistent:Ch}),e}var vu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},VB=Un(vu),mf=St({},vu,{view:0,detail:0}),DV=Un(mf),uy,cy,uc,Jm=St({},mf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:KB,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uc&&(uc&&t.type==="mousemove"?(uy=t.screenX-uc.screenX,cy=t.screenY-uc.screenY):cy=uy=0,uc=t),uy)},movementY:function(t){return"movementY"in t?t.movementY:cy}}),jI=Un(Jm),jV=St({},Jm,{dataTransfer:0}),RV=Un(jV),MV=St({},mf,{relatedTarget:0}),dy=Un(MV),LV=St({},vu,{animationName:0,elapsedTime:0,pseudoElement:0}),HV=Un(LV),VV=St({},vu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KV=Un(VV),$V=St({},vu,{data:0}),RI=Un($V),GV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WV[t])?!!e[t]:!1}function KB(){return YV}var XV=St({},mf,{key:function(t){if(t.key){var e=GV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:KB,charCode:function(t){return t.type==="keypress"?Pg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qV=Un(XV),JV=St({},Jm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MI=Un(JV),ZV=St({},mf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:KB}),eK=Un(ZV),tK=St({},vu,{propertyName:0,elapsedTime:0,pseudoElement:0}),rK=Un(tK),nK=St({},Jm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iK=Un(nK),sK=[9,13,27,32],$B=Es&&"CompositionEvent"in window,Jc=null;Es&&"documentMode"in document&&(Jc=document.documentMode);var aK=Es&&"TextEvent"in window&&!Jc,uQ=Es&&(!$B||Jc&&8<Jc&&11>=Jc),LI=" ",HI=!1;function cQ(t,e){switch(t){case"keyup":return sK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dQ(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ul=!1;function oK(t,e){switch(t){case"compositionend":return dQ(e);case"keypress":return e.which!==32?null:(HI=!0,LI);case"textInput":return t=e.data,t===LI&&HI?null:t;default:return null}}function AK(t,e){if(ul)return t==="compositionend"||!$B&&cQ(t,e)?(t=lQ(),Ug=HB=ha=null,ul=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uQ&&e.locale!=="ko"?null:e.data;default:return null}}var lK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lK[t.type]:e==="textarea"}function fQ(t,e,r,n){KN(n),e=fp(e,"onChange"),0<e.length&&(r=new VB("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Zc=null,Sd=null;function uK(t){CQ(t,0)}function Zm(t){var e=fl(t);if(DN(e))return t}function cK(t,e){if(t==="change")return e}var hQ=!1;if(Es){var fy;if(Es){var hy="oninput"in document;if(!hy){var KI=document.createElement("div");KI.setAttribute("oninput","return;"),hy=typeof KI.oninput=="function"}fy=hy}else fy=!1;hQ=fy&&(!document.documentMode||9<document.documentMode)}function $I(){Zc&&(Zc.detachEvent("onpropertychange",gQ),Sd=Zc=null)}function gQ(t){if(t.propertyName==="value"&&Zm(Sd)){var e=[];fQ(e,Sd,t,DB(t)),WN(uK,e)}}function dK(t,e,r){t==="focusin"?($I(),Zc=e,Sd=r,Zc.attachEvent("onpropertychange",gQ)):t==="focusout"&&$I()}function fK(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zm(Sd)}function hK(t,e){if(t==="click")return Zm(e)}function gK(t,e){if(t==="input"||t==="change")return Zm(e)}function pK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yi=typeof Object.is=="function"?Object.is:pK;function Td(t,e){if(yi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Dw.call(e,i)||!yi(t[i],e[i]))return!1}return!0}function GI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zI(t,e){var r=GI(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=GI(r)}}function pQ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pQ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mQ(){for(var t=window,e=ap();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ap(t.document)}return e}function GB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mK(t){var e=mQ(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&pQ(r.ownerDocument.documentElement,r)){if(n!==null&&GB(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=zI(r,s);var a=zI(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vK=Es&&"documentMode"in document&&11>=document.documentMode,cl=null,rx=null,ed=null,nx=!1;function WI(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nx||cl==null||cl!==ap(n)||(n=cl,"selectionStart"in n&&GB(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ed&&Td(ed,n)||(ed=n,n=fp(rx,"onSelect"),0<n.length&&(e=new VB("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=cl)))}function Eh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var dl={animationend:Eh("Animation","AnimationEnd"),animationiteration:Eh("Animation","AnimationIteration"),animationstart:Eh("Animation","AnimationStart"),transitionend:Eh("Transition","TransitionEnd")},gy={},vQ={};Es&&(vQ=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function e0(t){if(gy[t])return gy[t];if(!dl[t])return t;var e=dl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in vQ)return gy[t]=e[r];return t}var yQ=e0("animationend"),wQ=e0("animationiteration"),xQ=e0("animationstart"),bQ=e0("transitionend"),BQ=new Map,YI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function so(t,e){BQ.set(t,e),BA(e,[t])}for(var py=0;py<YI.length;py++){var my=YI[py],yK=my.toLowerCase(),wK=my[0].toUpperCase()+my.slice(1);so(yK,"on"+wK)}so(yQ,"onAnimationEnd");so(wQ,"onAnimationIteration");so(xQ,"onAnimationStart");so("dblclick","onDoubleClick");so("focusin","onFocus");so("focusout","onBlur");so(bQ,"onTransitionEnd");Rl("onMouseEnter",["mouseout","mouseover"]);Rl("onMouseLeave",["mouseout","mouseover"]);Rl("onPointerEnter",["pointerout","pointerover"]);Rl("onPointerLeave",["pointerout","pointerover"]);BA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));BA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));BA("onBeforeInput",["compositionend","keypress","textInput","paste"]);BA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));BA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));BA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xK=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qc));function XI(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,yV(n,e,void 0,t),t.currentTarget=null}function CQ(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],A=o.instance,l=o.currentTarget;if(o=o.listener,A!==s&&i.isPropagationStopped())break e;XI(i,o,l),s=A}else for(a=0;a<n.length;a++){if(o=n[a],A=o.instance,l=o.currentTarget,o=o.listener,A!==s&&i.isPropagationStopped())break e;XI(i,o,l),s=A}}}if(Ap)throw t=Jw,Ap=!1,Jw=null,t}function ct(t,e){var r=e[Ax];r===void 0&&(r=e[Ax]=new Set);var n=t+"__bubble";r.has(n)||(EQ(e,t,2,!1),r.add(n))}function vy(t,e,r){var n=0;e&&(n|=4),EQ(r,t,n,e)}var _h="_reactListening"+Math.random().toString(36).slice(2);function Fd(t){if(!t[_h]){t[_h]=!0,PN.forEach(function(r){r!=="selectionchange"&&(xK.has(r)||vy(r,!1,t),vy(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_h]||(e[_h]=!0,vy("selectionchange",!1,e))}}function EQ(t,e,r,n){switch(AQ(e)){case 1:var i=kV;break;case 4:i=OV;break;default:i=LB}r=i.bind(null,e,r,t),i=void 0,!qw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function yy(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var A=a.tag;if((A===3||A===4)&&(A=a.stateNode.containerInfo,A===i||A.nodeType===8&&A.parentNode===i))return;a=a.return}for(;o!==null;){if(a=jo(o),a===null)return;if(A=a.tag,A===5||A===6){n=s=a;continue e}o=o.parentNode}}n=n.return}WN(function(){var l=s,u=DB(r),d=[];e:{var f=BQ.get(t);if(f!==void 0){var g=VB,p=t;switch(t){case"keypress":if(Pg(r)===0)break e;case"keydown":case"keyup":g=qV;break;case"focusin":p="focus",g=dy;break;case"focusout":p="blur",g=dy;break;case"beforeblur":case"afterblur":g=dy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=jI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=RV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=eK;break;case yQ:case wQ:case xQ:g=HV;break;case bQ:g=rK;break;case"scroll":g=DV;break;case"wheel":g=iK;break;case"copy":case"cut":case"paste":g=KV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=MI}var m=(e&4)!==0,v=!m&&t==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var w=l,B;w!==null;){B=w;var I=B.stateNode;if(B.tag===5&&I!==null&&(B=I,y!==null&&(I=Cd(w,y),I!=null&&m.push(Ud(w,I,B)))),v)break;w=w.return}0<m.length&&(f=new g(f,p,null,r,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==Yw&&(p=r.relatedTarget||r.fromElement)&&(jo(p)||p[_s]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(p=r.relatedTarget||r.toElement,g=l,p=p?jo(p):null,p!==null&&(v=CA(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=l),g!==p)){if(m=jI,I="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(m=MI,I="onPointerLeave",y="onPointerEnter",w="pointer"),v=g==null?f:fl(g),B=p==null?f:fl(p),f=new m(I,w+"leave",g,r,u),f.target=v,f.relatedTarget=B,I=null,jo(u)===l&&(m=new m(y,w+"enter",p,r,u),m.target=B,m.relatedTarget=v,I=m),v=I,g&&p)t:{for(m=g,y=p,w=0,B=m;B;B=LA(B))w++;for(B=0,I=y;I;I=LA(I))B++;for(;0<w-B;)m=LA(m),w--;for(;0<B-w;)y=LA(y),B--;for(;w--;){if(m===y||y!==null&&m===y.alternate)break t;m=LA(m),y=LA(y)}m=null}else m=null;g!==null&&qI(d,f,g,m,!1),p!==null&&v!==null&&qI(d,v,p,m,!0)}}e:{if(f=l?fl(l):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var T=cK;else if(VI(f))if(hQ)T=gK;else{T=fK;var F=dK}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=hK);if(T&&(T=T(t,l))){fQ(d,T,r,u);break e}F&&F(t,f,l),t==="focusout"&&(F=f._wrapperState)&&F.controlled&&f.type==="number"&&Kw(f,"number",f.value)}switch(F=l?fl(l):window,t){case"focusin":(VI(F)||F.contentEditable==="true")&&(cl=F,rx=l,ed=null);break;case"focusout":ed=rx=cl=null;break;case"mousedown":nx=!0;break;case"contextmenu":case"mouseup":case"dragend":nx=!1,WI(d,r,u);break;case"selectionchange":if(vK)break;case"keydown":case"keyup":WI(d,r,u)}var C;if($B)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ul?cQ(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(uQ&&r.locale!=="ko"&&(ul||_!=="onCompositionStart"?_==="onCompositionEnd"&&ul&&(C=lQ()):(ha=u,HB="value"in ha?ha.value:ha.textContent,ul=!0)),F=fp(l,_),0<F.length&&(_=new RI(_,t,null,r,u),d.push({event:_,listeners:F}),C?_.data=C:(C=dQ(r),C!==null&&(_.data=C)))),(C=aK?oK(t,r):AK(t,r))&&(l=fp(l,"onBeforeInput"),0<l.length&&(u=new RI("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:l}),u.data=C))}CQ(d,e)})}function Ud(t,e,r){return{instance:t,listener:e,currentTarget:r}}function fp(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Cd(t,r),s!=null&&n.unshift(Ud(t,s,i)),s=Cd(t,e),s!=null&&n.push(Ud(t,s,i))),t=t.return}return n}function LA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qI(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,A=o.alternate,l=o.stateNode;if(A!==null&&A===n)break;o.tag===5&&l!==null&&(o=l,i?(A=Cd(r,s),A!=null&&a.unshift(Ud(r,A,o))):i||(A=Cd(r,s),A!=null&&a.push(Ud(r,A,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var bK=/\r\n?/g,BK=/\u0000|\uFFFD/g;function JI(t){return(typeof t=="string"?t:""+t).replace(bK,`
`).replace(BK,"")}function Ih(t,e,r){if(e=JI(e),JI(t)!==e&&r)throw Error(re(425))}function hp(){}var ix=null,sx=null;function ax(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ox=typeof setTimeout=="function"?setTimeout:void 0,CK=typeof clearTimeout=="function"?clearTimeout:void 0,ZI=typeof Promise=="function"?Promise:void 0,EK=typeof queueMicrotask=="function"?queueMicrotask:typeof ZI<"u"?function(t){return ZI.resolve(null).then(t).catch(_K)}:ox;function _K(t){setTimeout(function(){throw t})}function wy(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Id(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Id(e)}function Sa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function eS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var yu=Math.random().toString(36).slice(2),Fi="__reactFiber$"+yu,Pd="__reactProps$"+yu,_s="__reactContainer$"+yu,Ax="__reactEvents$"+yu,IK="__reactListeners$"+yu,SK="__reactHandles$"+yu;function jo(t){var e=t[Fi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[_s]||r[Fi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=eS(t);t!==null;){if(r=t[Fi])return r;t=eS(t)}return e}t=r,r=t.parentNode}return null}function vf(t){return t=t[Fi]||t[_s],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function t0(t){return t[Pd]||null}var lx=[],hl=-1;function ao(t){return{current:t}}function ft(t){0>hl||(t.current=lx[hl],lx[hl]=null,hl--)}function lt(t,e){hl++,lx[hl]=t.current,t.current=e}var Ga={},jr=ao(Ga),sn=ao(!1),sA=Ga;function Ml(t,e){var r=t.type.contextTypes;if(!r)return Ga;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function an(t){return t=t.childContextTypes,t!=null}function gp(){ft(sn),ft(jr)}function tS(t,e,r){if(jr.current!==Ga)throw Error(re(168));lt(jr,e),lt(sn,r)}function _Q(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(re(108,dV(t)||"Unknown",i));return St({},r,n)}function pp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ga,sA=jr.current,lt(jr,t),lt(sn,sn.current),!0}function rS(t,e,r){var n=t.stateNode;if(!n)throw Error(re(169));r?(t=_Q(t,e,sA),n.__reactInternalMemoizedMergedChildContext=t,ft(sn),ft(jr),lt(jr,t)):ft(sn),lt(sn,r)}var is=null,r0=!1,xy=!1;function IQ(t){is===null?is=[t]:is.push(t)}function TK(t){r0=!0,IQ(t)}function oo(){if(!xy&&is!==null){xy=!0;var t=0,e=Je;try{var r=is;for(Je=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}is=null,r0=!1}catch(i){throw is!==null&&(is=is.slice(t+1)),JN(jB,oo),i}finally{Je=e,xy=!1}}return null}var gl=[],pl=0,mp=null,vp=0,Mn=[],Ln=0,aA=null,cs=1,ds="";function _o(t,e){gl[pl++]=vp,gl[pl++]=mp,mp=t,vp=e}function SQ(t,e,r){Mn[Ln++]=cs,Mn[Ln++]=ds,Mn[Ln++]=aA,aA=t;var n=cs;t=ds;var i=32-mi(n)-1;n&=~(1<<i),r+=1;var s=32-mi(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,cs=1<<32-mi(e)+i|r<<i|n,ds=s+t}else cs=1<<s|r<<i|n,ds=t}function zB(t){t.return!==null&&(_o(t,1),SQ(t,1,0))}function WB(t){for(;t===mp;)mp=gl[--pl],gl[pl]=null,vp=gl[--pl],gl[pl]=null;for(;t===aA;)aA=Mn[--Ln],Mn[Ln]=null,ds=Mn[--Ln],Mn[Ln]=null,cs=Mn[--Ln],Mn[Ln]=null}var bn=null,yn=null,mt=!1,di=null;function TQ(t,e){var r=Kn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function nS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,yn=Sa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=aA!==null?{id:cs,overflow:ds}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Kn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,bn=t,yn=null,!0):!1;default:return!1}}function ux(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cx(t){if(mt){var e=yn;if(e){var r=e;if(!nS(t,e)){if(ux(t))throw Error(re(418));e=Sa(r.nextSibling);var n=bn;e&&nS(t,e)?TQ(n,r):(t.flags=t.flags&-4097|2,mt=!1,bn=t)}}else{if(ux(t))throw Error(re(418));t.flags=t.flags&-4097|2,mt=!1,bn=t}}}function iS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function Sh(t){if(t!==bn)return!1;if(!mt)return iS(t),mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ax(t.type,t.memoizedProps)),e&&(e=yn)){if(ux(t))throw FQ(),Error(re(418));for(;e;)TQ(t,e),e=Sa(e.nextSibling)}if(iS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){yn=Sa(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}yn=null}}else yn=bn?Sa(t.stateNode.nextSibling):null;return!0}function FQ(){for(var t=yn;t;)t=Sa(t.nextSibling)}function Ll(){yn=bn=null,mt=!1}function YB(t){di===null?di=[t]:di.push(t)}var FK=js.ReactCurrentBatchConfig;function cc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,t))}return t}function Th(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sS(t){var e=t._init;return e(t._payload)}function UQ(t){function e(y,w){if(t){var B=y.deletions;B===null?(y.deletions=[w],y.flags|=16):B.push(w)}}function r(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=Pa(y,w),y.index=0,y.sibling=null,y}function s(y,w,B){return y.index=B,t?(B=y.alternate,B!==null?(B=B.index,B<w?(y.flags|=2,w):B):(y.flags|=2,w)):(y.flags|=1048576,w)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,w,B,I){return w===null||w.tag!==6?(w=Sy(B,y.mode,I),w.return=y,w):(w=i(w,B),w.return=y,w)}function A(y,w,B,I){var T=B.type;return T===ll?u(y,w,B.props.children,I,B.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===sa&&sS(T)===w.type)?(I=i(w,B.props),I.ref=cc(y,w,B),I.return=y,I):(I=Rg(B.type,B.key,B.props,null,y.mode,I),I.ref=cc(y,w,B),I.return=y,I)}function l(y,w,B,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==B.containerInfo||w.stateNode.implementation!==B.implementation?(w=Ty(B,y.mode,I),w.return=y,w):(w=i(w,B.children||[]),w.return=y,w)}function u(y,w,B,I,T){return w===null||w.tag!==7?(w=Yo(B,y.mode,I,T),w.return=y,w):(w=i(w,B),w.return=y,w)}function d(y,w,B){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Sy(""+w,y.mode,B),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vh:return B=Rg(w.type,w.key,w.props,null,y.mode,B),B.ref=cc(y,null,w),B.return=y,B;case Al:return w=Ty(w,y.mode,B),w.return=y,w;case sa:var I=w._init;return d(y,I(w._payload),B)}if(Pc(w)||ac(w))return w=Yo(w,y.mode,B,null),w.return=y,w;Th(y,w)}return null}function f(y,w,B,I){var T=w!==null?w.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return T!==null?null:o(y,w,""+B,I);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case vh:return B.key===T?A(y,w,B,I):null;case Al:return B.key===T?l(y,w,B,I):null;case sa:return T=B._init,f(y,w,T(B._payload),I)}if(Pc(B)||ac(B))return T!==null?null:u(y,w,B,I,null);Th(y,B)}return null}function g(y,w,B,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return y=y.get(B)||null,o(w,y,""+I,T);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case vh:return y=y.get(I.key===null?B:I.key)||null,A(w,y,I,T);case Al:return y=y.get(I.key===null?B:I.key)||null,l(w,y,I,T);case sa:var F=I._init;return g(y,w,B,F(I._payload),T)}if(Pc(I)||ac(I))return y=y.get(B)||null,u(w,y,I,T,null);Th(w,I)}return null}function p(y,w,B,I){for(var T=null,F=null,C=w,_=w=0,S=null;C!==null&&_<B.length;_++){C.index>_?(S=C,C=null):S=C.sibling;var P=f(y,C,B[_],I);if(P===null){C===null&&(C=S);break}t&&C&&P.alternate===null&&e(y,C),w=s(P,w,_),F===null?T=P:F.sibling=P,F=P,C=S}if(_===B.length)return r(y,C),mt&&_o(y,_),T;if(C===null){for(;_<B.length;_++)C=d(y,B[_],I),C!==null&&(w=s(C,w,_),F===null?T=C:F.sibling=C,F=C);return mt&&_o(y,_),T}for(C=n(y,C);_<B.length;_++)S=g(C,y,_,B[_],I),S!==null&&(t&&S.alternate!==null&&C.delete(S.key===null?_:S.key),w=s(S,w,_),F===null?T=S:F.sibling=S,F=S);return t&&C.forEach(function(Q){return e(y,Q)}),mt&&_o(y,_),T}function m(y,w,B,I){var T=ac(B);if(typeof T!="function")throw Error(re(150));if(B=T.call(B),B==null)throw Error(re(151));for(var F=T=null,C=w,_=w=0,S=null,P=B.next();C!==null&&!P.done;_++,P=B.next()){C.index>_?(S=C,C=null):S=C.sibling;var Q=f(y,C,P.value,I);if(Q===null){C===null&&(C=S);break}t&&C&&Q.alternate===null&&e(y,C),w=s(Q,w,_),F===null?T=Q:F.sibling=Q,F=Q,C=S}if(P.done)return r(y,C),mt&&_o(y,_),T;if(C===null){for(;!P.done;_++,P=B.next())P=d(y,P.value,I),P!==null&&(w=s(P,w,_),F===null?T=P:F.sibling=P,F=P);return mt&&_o(y,_),T}for(C=n(y,C);!P.done;_++,P=B.next())P=g(C,y,_,P.value,I),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?_:P.key),w=s(P,w,_),F===null?T=P:F.sibling=P,F=P);return t&&C.forEach(function(k){return e(y,k)}),mt&&_o(y,_),T}function v(y,w,B,I){if(typeof B=="object"&&B!==null&&B.type===ll&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case vh:e:{for(var T=B.key,F=w;F!==null;){if(F.key===T){if(T=B.type,T===ll){if(F.tag===7){r(y,F.sibling),w=i(F,B.props.children),w.return=y,y=w;break e}}else if(F.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===sa&&sS(T)===F.type){r(y,F.sibling),w=i(F,B.props),w.ref=cc(y,F,B),w.return=y,y=w;break e}r(y,F);break}else e(y,F);F=F.sibling}B.type===ll?(w=Yo(B.props.children,y.mode,I,B.key),w.return=y,y=w):(I=Rg(B.type,B.key,B.props,null,y.mode,I),I.ref=cc(y,w,B),I.return=y,y=I)}return a(y);case Al:e:{for(F=B.key;w!==null;){if(w.key===F)if(w.tag===4&&w.stateNode.containerInfo===B.containerInfo&&w.stateNode.implementation===B.implementation){r(y,w.sibling),w=i(w,B.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else e(y,w);w=w.sibling}w=Ty(B,y.mode,I),w.return=y,y=w}return a(y);case sa:return F=B._init,v(y,w,F(B._payload),I)}if(Pc(B))return p(y,w,B,I);if(ac(B))return m(y,w,B,I);Th(y,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,w!==null&&w.tag===6?(r(y,w.sibling),w=i(w,B),w.return=y,y=w):(r(y,w),w=Sy(B,y.mode,I),w.return=y,y=w),a(y)):r(y,w)}return v}var Hl=UQ(!0),PQ=UQ(!1),yp=ao(null),wp=null,ml=null,XB=null;function qB(){XB=ml=wp=null}function JB(t){var e=yp.current;ft(yp),t._currentValue=e}function dx(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Fl(t,e){wp=t,XB=ml=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function ei(t){var e=t._currentValue;if(XB!==t)if(t={context:t,memoizedValue:e,next:null},ml===null){if(wp===null)throw Error(re(308));ml=t,wp.dependencies={lanes:0,firstContext:t}}else ml=ml.next=t;return e}var Ro=null;function ZB(t){Ro===null?Ro=[t]:Ro.push(t)}function NQ(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,ZB(e)):(r.next=i.next,i.next=r),e.interleaved=r,Is(t,n)}function Is(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var aa=!1;function eC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QQ(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ta(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ke&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Is(t,r)}return i=n.interleaved,i===null?(e.next=e,ZB(n)):(e.next=i.next,i.next=e),n.interleaved=e,Is(t,r)}function Ng(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,RB(t,r)}}function aS(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function xp(t,e,r,n){var i=t.updateQueue;aa=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var A=o,l=A.next;A.next=null,a===null?s=l:a.next=l,a=A;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=A))}if(s!==null){var d=i.baseState;a=0,u=l=A=null,o=s;do{var f=o.lane,g=o.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,m=o;switch(f=e,g=r,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(g,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(g,d,f):p,f==null)break e;d=St({},d,f);break e;case 2:aa=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else g={eventTime:g,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(l=u=g,A=d):u=u.next=g,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(A=d),i.baseState=A,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);AA|=a,t.lanes=a,t.memoizedState=d}}function oS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(re(191,i));i.call(n)}}}var yf={},ki=ao(yf),Nd=ao(yf),Qd=ao(yf);function Mo(t){if(t===yf)throw Error(re(174));return t}function tC(t,e){switch(lt(Qd,e),lt(Nd,t),lt(ki,yf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gw(e,t)}ft(ki),lt(ki,e)}function Vl(){ft(ki),ft(Nd),ft(Qd)}function kQ(t){Mo(Qd.current);var e=Mo(ki.current),r=Gw(e,t.type);e!==r&&(lt(Nd,t),lt(ki,r))}function rC(t){Nd.current===t&&(ft(ki),ft(Nd))}var Et=ao(0);function bp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var by=[];function nC(){for(var t=0;t<by.length;t++)by[t]._workInProgressVersionPrimary=null;by.length=0}var Qg=js.ReactCurrentDispatcher,By=js.ReactCurrentBatchConfig,oA=0,_t=null,Wt=null,lr=null,Bp=!1,td=!1,kd=0,UK=0;function Sr(){throw Error(re(321))}function iC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!yi(t[r],e[r]))return!1;return!0}function sC(t,e,r,n,i,s){if(oA=s,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qg.current=t===null||t.memoizedState===null?kK:OK,t=r(n,i),td){s=0;do{if(td=!1,kd=0,25<=s)throw Error(re(301));s+=1,lr=Wt=null,e.updateQueue=null,Qg.current=DK,t=r(n,i)}while(td)}if(Qg.current=Cp,e=Wt!==null&&Wt.next!==null,oA=0,lr=Wt=_t=null,Bp=!1,e)throw Error(re(300));return t}function aC(){var t=kd!==0;return kd=0,t}function Ii(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?_t.memoizedState=lr=t:lr=lr.next=t,lr}function ti(){if(Wt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var e=lr===null?_t.memoizedState:lr.next;if(e!==null)lr=e,Wt=t;else{if(t===null)throw Error(re(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},lr===null?_t.memoizedState=lr=t:lr=lr.next=t}return lr}function Od(t,e){return typeof e=="function"?e(t):e}function Cy(t){var e=ti(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=Wt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,A=null,l=s;do{var u=l.lane;if((oA&u)===u)A!==null&&(A=A.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};A===null?(o=A=d,a=n):A=A.next=d,_t.lanes|=u,AA|=u}l=l.next}while(l!==null&&l!==s);A===null?a=n:A.next=o,yi(n,e.memoizedState)||(rn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=A,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,_t.lanes|=s,AA|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ey(t){var e=ti(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);yi(s,e.memoizedState)||(rn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function OQ(){}function DQ(t,e){var r=_t,n=ti(),i=e(),s=!yi(n.memoizedState,i);if(s&&(n.memoizedState=i,rn=!0),n=n.queue,oC(MQ.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||lr!==null&&lr.memoizedState.tag&1){if(r.flags|=2048,Dd(9,RQ.bind(null,r,n,i,e),void 0,null),cr===null)throw Error(re(349));oA&30||jQ(r,e,i)}return i}function jQ(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function RQ(t,e,r,n){e.value=r,e.getSnapshot=n,LQ(e)&&HQ(t)}function MQ(t,e,r){return r(function(){LQ(e)&&HQ(t)})}function LQ(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!yi(t,r)}catch{return!0}}function HQ(t){var e=Is(t,1);e!==null&&vi(e,t,1,-1)}function AS(t){var e=Ii();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Od,lastRenderedState:t},e.queue=t,t=t.dispatch=QK.bind(null,_t,t),[e.memoizedState,t]}function Dd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function VQ(){return ti().memoizedState}function kg(t,e,r,n){var i=Ii();_t.flags|=t,i.memoizedState=Dd(1|e,r,void 0,n===void 0?null:n)}function n0(t,e,r,n){var i=ti();n=n===void 0?null:n;var s=void 0;if(Wt!==null){var a=Wt.memoizedState;if(s=a.destroy,n!==null&&iC(n,a.deps)){i.memoizedState=Dd(e,r,s,n);return}}_t.flags|=t,i.memoizedState=Dd(1|e,r,s,n)}function lS(t,e){return kg(8390656,8,t,e)}function oC(t,e){return n0(2048,8,t,e)}function KQ(t,e){return n0(4,2,t,e)}function $Q(t,e){return n0(4,4,t,e)}function GQ(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zQ(t,e,r){return r=r!=null?r.concat([t]):null,n0(4,4,GQ.bind(null,e,t),r)}function AC(){}function WQ(t,e){var r=ti();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&iC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function YQ(t,e){var r=ti();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&iC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function XQ(t,e,r){return oA&21?(yi(r,e)||(r=tQ(),_t.lanes|=r,AA|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=r)}function PK(t,e){var r=Je;Je=r!==0&&4>r?r:4,t(!0);var n=By.transition;By.transition={};try{t(!1),e()}finally{Je=r,By.transition=n}}function qQ(){return ti().memoizedState}function NK(t,e,r){var n=Ua(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},JQ(t))ZQ(e,r);else if(r=NQ(t,e,r,n),r!==null){var i=Kr();vi(r,t,n,i),ek(r,e,n)}}function QK(t,e,r){var n=Ua(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(JQ(t))ZQ(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,yi(o,a)){var A=e.interleaved;A===null?(i.next=i,ZB(e)):(i.next=A.next,A.next=i),e.interleaved=i;return}}catch{}finally{}r=NQ(t,e,i,n),r!==null&&(i=Kr(),vi(r,t,n,i),ek(r,e,n))}}function JQ(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function ZQ(t,e){td=Bp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function ek(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,RB(t,r)}}var Cp={readContext:ei,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},kK={readContext:ei,useCallback:function(t,e){return Ii().memoizedState=[t,e===void 0?null:e],t},useContext:ei,useEffect:lS,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,kg(4194308,4,GQ.bind(null,e,t),r)},useLayoutEffect:function(t,e){return kg(4194308,4,t,e)},useInsertionEffect:function(t,e){return kg(4,2,t,e)},useMemo:function(t,e){var r=Ii();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ii();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=NK.bind(null,_t,t),[n.memoizedState,t]},useRef:function(t){var e=Ii();return t={current:t},e.memoizedState=t},useState:AS,useDebugValue:AC,useDeferredValue:function(t){return Ii().memoizedState=t},useTransition:function(){var t=AS(!1),e=t[0];return t=PK.bind(null,t[1]),Ii().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=_t,i=Ii();if(mt){if(r===void 0)throw Error(re(407));r=r()}else{if(r=e(),cr===null)throw Error(re(349));oA&30||jQ(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,lS(MQ.bind(null,n,s,t),[t]),n.flags|=2048,Dd(9,RQ.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Ii(),e=cr.identifierPrefix;if(mt){var r=ds,n=cs;r=(n&~(1<<32-mi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=kd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=UK++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},OK={readContext:ei,useCallback:WQ,useContext:ei,useEffect:oC,useImperativeHandle:zQ,useInsertionEffect:KQ,useLayoutEffect:$Q,useMemo:YQ,useReducer:Cy,useRef:VQ,useState:function(){return Cy(Od)},useDebugValue:AC,useDeferredValue:function(t){var e=ti();return XQ(e,Wt.memoizedState,t)},useTransition:function(){var t=Cy(Od)[0],e=ti().memoizedState;return[t,e]},useMutableSource:OQ,useSyncExternalStore:DQ,useId:qQ,unstable_isNewReconciler:!1},DK={readContext:ei,useCallback:WQ,useContext:ei,useEffect:oC,useImperativeHandle:zQ,useInsertionEffect:KQ,useLayoutEffect:$Q,useMemo:YQ,useReducer:Ey,useRef:VQ,useState:function(){return Ey(Od)},useDebugValue:AC,useDeferredValue:function(t){var e=ti();return Wt===null?e.memoizedState=t:XQ(e,Wt.memoizedState,t)},useTransition:function(){var t=Ey(Od)[0],e=ti().memoizedState;return[t,e]},useMutableSource:OQ,useSyncExternalStore:DQ,useId:qQ,unstable_isNewReconciler:!1};function ui(t,e){if(t&&t.defaultProps){e=St({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function fx(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:St({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var i0={isMounted:function(t){return(t=t._reactInternals)?CA(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Kr(),i=Ua(t),s=ws(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ta(t,s,i),e!==null&&(vi(e,t,i,n),Ng(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Kr(),i=Ua(t),s=ws(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ta(t,s,i),e!==null&&(vi(e,t,i,n),Ng(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Kr(),n=Ua(t),i=ws(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ta(t,i,n),e!==null&&(vi(e,t,n,r),Ng(e,t,n))}};function uS(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Td(r,n)||!Td(i,s):!0}function tk(t,e,r){var n=!1,i=Ga,s=e.contextType;return typeof s=="object"&&s!==null?s=ei(s):(i=an(e)?sA:jr.current,n=e.contextTypes,s=(n=n!=null)?Ml(t,i):Ga),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=i0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function cS(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&i0.enqueueReplaceState(e,e.state,null)}function hx(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},eC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ei(s):(s=an(e)?sA:jr.current,i.context=Ml(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fx(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&i0.enqueueReplaceState(i,i.state,null),xp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Kl(t,e){try{var r="",n=e;do r+=cV(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function _y(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function gx(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var jK=typeof WeakMap=="function"?WeakMap:Map;function rk(t,e,r){r=ws(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){_p||(_p=!0,Ex=n),gx(t,e)},r}function nk(t,e,r){r=ws(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){gx(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){gx(t,e),typeof n!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function dS(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new jK;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=JK.bind(null,t,e,r),e.then(t,t))}function fS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hS(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ws(-1,1),e.tag=2,Ta(r,e,1))),r.lanes|=1),t)}var RK=js.ReactCurrentOwner,rn=!1;function Lr(t,e,r,n){e.child=t===null?PQ(e,null,r,n):Hl(e,t.child,r,n)}function gS(t,e,r,n,i){r=r.render;var s=e.ref;return Fl(e,i),n=sC(t,e,r,n,s,i),r=aC(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ss(t,e,i)):(mt&&r&&zB(e),e.flags|=1,Lr(t,e,n,i),e.child)}function pS(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!pC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,ik(t,e,s,n,i)):(t=Rg(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Td,r(a,n)&&t.ref===e.ref)return Ss(t,e,i)}return e.flags|=1,t=Pa(s,n),t.ref=e.ref,t.return=e,e.child=t}function ik(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Td(s,n)&&t.ref===e.ref)if(rn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,Ss(t,e,i)}return px(t,e,r,n,i)}function sk(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(yl,gn),gn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(yl,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,lt(yl,gn),gn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,lt(yl,gn),gn|=n;return Lr(t,e,i,r),e.child}function ak(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function px(t,e,r,n,i){var s=an(r)?sA:jr.current;return s=Ml(e,s),Fl(e,i),r=sC(t,e,r,n,s,i),n=aC(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ss(t,e,i)):(mt&&n&&zB(e),e.flags|=1,Lr(t,e,r,i),e.child)}function mS(t,e,r,n,i){if(an(r)){var s=!0;pp(e)}else s=!1;if(Fl(e,i),e.stateNode===null)Og(t,e),tk(e,r,n),hx(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var A=a.context,l=r.contextType;typeof l=="object"&&l!==null?l=ei(l):(l=an(r)?sA:jr.current,l=Ml(e,l));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||A!==l)&&cS(e,a,n,l),aa=!1;var f=e.memoizedState;a.state=f,xp(e,n,a,i),A=e.memoizedState,o!==n||f!==A||sn.current||aa?(typeof u=="function"&&(fx(e,r,u,n),A=e.memoizedState),(o=aa||uS(e,r,o,n,f,A,l))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=A),a.props=n,a.state=A,a.context=l,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,QQ(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:ui(e.type,o),a.props=l,d=e.pendingProps,f=a.context,A=r.contextType,typeof A=="object"&&A!==null?A=ei(A):(A=an(r)?sA:jr.current,A=Ml(e,A));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==A)&&cS(e,a,n,A),aa=!1,f=e.memoizedState,a.state=f,xp(e,n,a,i);var p=e.memoizedState;o!==d||f!==p||sn.current||aa?(typeof g=="function"&&(fx(e,r,g,n),p=e.memoizedState),(l=aa||uS(e,r,l,n,f,p,A)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,A),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,A)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),a.props=n,a.state=p,a.context=A,n=l):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return mx(t,e,r,n,s,i)}function mx(t,e,r,n,i,s){ak(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&rS(e,r,!1),Ss(t,e,s);n=e.stateNode,RK.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Hl(e,t.child,null,s),e.child=Hl(e,null,o,s)):Lr(t,e,o,s),e.memoizedState=n.state,i&&rS(e,r,!0),e.child}function ok(t){var e=t.stateNode;e.pendingContext?tS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tS(t,e.context,!1),tC(t,e.containerInfo)}function vS(t,e,r,n,i){return Ll(),YB(i),e.flags|=256,Lr(t,e,r,n),e.child}var vx={dehydrated:null,treeContext:null,retryLane:0};function yx(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ak(t,e,r){var n=e.pendingProps,i=Et.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),lt(Et,i&1),t===null)return cx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=o0(a,n,0,null),t=Yo(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yx(r),e.memoizedState=vx,t):lC(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return MK(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var A={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=A,e.deletions=null):(n=Pa(i,A),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Pa(o,s):(s=Yo(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?yx(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=vx,n}return s=t.child,t=s.sibling,n=Pa(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function lC(t,e){return e=o0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fh(t,e,r,n){return n!==null&&YB(n),Hl(e,t.child,null,r),t=lC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MK(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=_y(Error(re(422))),Fh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=o0({mode:"visible",children:n.children},i,0,null),s=Yo(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Hl(e,t.child,null,a),e.child.memoizedState=yx(a),e.memoizedState=vx,s);if(!(e.mode&1))return Fh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(re(419)),n=_y(s,n,void 0),Fh(t,e,a,n)}if(o=(a&t.childLanes)!==0,rn||o){if(n=cr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Is(t,i),vi(n,t,i,-1))}return gC(),n=_y(Error(re(421))),Fh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ZK.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,yn=Sa(i.nextSibling),bn=e,mt=!0,di=null,t!==null&&(Mn[Ln++]=cs,Mn[Ln++]=ds,Mn[Ln++]=aA,cs=t.id,ds=t.overflow,aA=e),e=lC(e,n.children),e.flags|=4096,e)}function yS(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),dx(t.return,e,r)}function Iy(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function lk(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Lr(t,e,n.children,r),n=Et.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yS(t,r,e);else if(t.tag===19)yS(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(lt(Et,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&bp(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Iy(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bp(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Iy(e,!0,r,null,s);break;case"together":Iy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Og(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ss(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),AA|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,r=Pa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Pa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function LK(t,e,r){switch(e.tag){case 3:ok(e),Ll();break;case 5:kQ(e);break;case 1:an(e.type)&&pp(e);break;case 4:tC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;lt(yp,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(lt(Et,Et.current&1),e.flags|=128,null):r&e.child.childLanes?Ak(t,e,r):(lt(Et,Et.current&1),t=Ss(t,e,r),t!==null?t.sibling:null);lt(Et,Et.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return lk(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(Et,Et.current),n)break;return null;case 22:case 23:return e.lanes=0,sk(t,e,r)}return Ss(t,e,r)}var uk,wx,ck,dk;uk=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wx=function(){};ck=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Mo(ki.current);var s=null;switch(r){case"input":i=Hw(t,i),n=Hw(t,n),s=[];break;case"select":i=St({},i,{value:void 0}),n=St({},n,{value:void 0}),s=[];break;case"textarea":i=$w(t,i),n=$w(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=hp)}zw(r,n);var a;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var o=i[l];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(bd.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var A=n[l];if(o=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&A!==o&&(A!=null||o!=null))if(l==="style")if(o){for(a in o)!o.hasOwnProperty(a)||A&&A.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in A)A.hasOwnProperty(a)&&o[a]!==A[a]&&(r||(r={}),r[a]=A[a])}else r||(s||(s=[]),s.push(l,r)),r=A;else l==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,o=o?o.__html:void 0,A!=null&&o!==A&&(s=s||[]).push(l,A)):l==="children"?typeof A!="string"&&typeof A!="number"||(s=s||[]).push(l,""+A):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(bd.hasOwnProperty(l)?(A!=null&&l==="onScroll"&&ct("scroll",t),s||o===A||(s=[])):(s=s||[]).push(l,A))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};dk=function(t,e,r,n){r!==n&&(e.flags|=4)};function dc(t,e){if(!mt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Tr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function HK(t,e,r){var n=e.pendingProps;switch(WB(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(e),null;case 1:return an(e.type)&&gp(),Tr(e),null;case 3:return n=e.stateNode,Vl(),ft(sn),ft(jr),nC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Sh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,di!==null&&(Sx(di),di=null))),wx(t,e),Tr(e),null;case 5:rC(e);var i=Mo(Qd.current);if(r=e.type,t!==null&&e.stateNode!=null)ck(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(re(166));return Tr(e),null}if(t=Mo(ki.current),Sh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Fi]=e,n[Pd]=s,t=(e.mode&1)!==0,r){case"dialog":ct("cancel",n),ct("close",n);break;case"iframe":case"object":case"embed":ct("load",n);break;case"video":case"audio":for(i=0;i<Qc.length;i++)ct(Qc[i],n);break;case"source":ct("error",n);break;case"img":case"image":case"link":ct("error",n),ct("load",n);break;case"details":ct("toggle",n);break;case"input":SI(n,s),ct("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ct("invalid",n);break;case"textarea":FI(n,s),ct("invalid",n)}zw(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Ih(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Ih(n.textContent,o,t),i=["children",""+o]):bd.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ct("scroll",n)}switch(r){case"input":yh(n),TI(n,s,!0);break;case"textarea":yh(n),UI(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=hp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=MN(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Fi]=e,t[Pd]=n,uk(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ww(r,n),r){case"dialog":ct("cancel",t),ct("close",t),i=n;break;case"iframe":case"object":case"embed":ct("load",t),i=n;break;case"video":case"audio":for(i=0;i<Qc.length;i++)ct(Qc[i],t);i=n;break;case"source":ct("error",t),i=n;break;case"img":case"image":case"link":ct("error",t),ct("load",t),i=n;break;case"details":ct("toggle",t),i=n;break;case"input":SI(t,n),i=Hw(t,n),ct("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=St({},n,{value:void 0}),ct("invalid",t);break;case"textarea":FI(t,n),i=$w(t,n),ct("invalid",t);break;default:i=n}zw(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var A=o[s];s==="style"?VN(t,A):s==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&LN(t,A)):s==="children"?typeof A=="string"?(r!=="textarea"||A!=="")&&Bd(t,A):typeof A=="number"&&Bd(t,""+A):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bd.hasOwnProperty(s)?A!=null&&s==="onScroll"&&ct("scroll",t):A!=null&&NB(t,s,A,a))}switch(r){case"input":yh(t),TI(t,n,!1);break;case"textarea":yh(t),UI(t);break;case"option":n.value!=null&&t.setAttribute("value",""+$a(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?_l(t,!!n.multiple,s,!1):n.defaultValue!=null&&_l(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tr(e),null;case 6:if(t&&e.stateNode!=null)dk(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(re(166));if(r=Mo(Qd.current),Mo(ki.current),Sh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Fi]=e,(s=n.nodeValue!==r)&&(t=bn,t!==null))switch(t.tag){case 3:Ih(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ih(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Fi]=e,e.stateNode=n}return Tr(e),null;case 13:if(ft(Et),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mt&&yn!==null&&e.mode&1&&!(e.flags&128))FQ(),Ll(),e.flags|=98560,s=!1;else if(s=Sh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[Fi]=e}else Ll(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tr(e),s=!1}else di!==null&&(Sx(di),di=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?Xt===0&&(Xt=3):gC())),e.updateQueue!==null&&(e.flags|=4),Tr(e),null);case 4:return Vl(),wx(t,e),t===null&&Fd(e.stateNode.containerInfo),Tr(e),null;case 10:return JB(e.type._context),Tr(e),null;case 17:return an(e.type)&&gp(),Tr(e),null;case 19:if(ft(Et),s=e.memoizedState,s===null)return Tr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)dc(s,!1);else{if(Xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=bp(t),a!==null){for(e.flags|=128,dc(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return lt(Et,Et.current&1|2),e.child}t=t.sibling}s.tail!==null&&jt()>$l&&(e.flags|=128,n=!0,dc(s,!1),e.lanes=4194304)}else{if(!n)if(t=bp(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),dc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!mt)return Tr(e),null}else 2*jt()-s.renderingStartTime>$l&&r!==1073741824&&(e.flags|=128,n=!0,dc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=jt(),e.sibling=null,r=Et.current,lt(Et,n?r&1|2:r&1),e):(Tr(e),null);case 22:case 23:return hC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?gn&1073741824&&(Tr(e),e.subtreeFlags&6&&(e.flags|=8192)):Tr(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function VK(t,e){switch(WB(e),e.tag){case 1:return an(e.type)&&gp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vl(),ft(sn),ft(jr),nC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rC(e),null;case 13:if(ft(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Ll()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(Et),null;case 4:return Vl(),null;case 10:return JB(e.type._context),null;case 22:case 23:return hC(),null;case 24:return null;default:return null}}var Uh=!1,kr=!1,KK=typeof WeakSet=="function"?WeakSet:Set,he=null;function vl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Nt(t,e,n)}else r.current=null}function xx(t,e,r){try{r()}catch(n){Nt(t,e,n)}}var wS=!1;function $K(t,e){if(ix=cp,t=mQ(),GB(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,A=-1,l=0,u=0,d=t,f=null;t:for(;;){for(var g;d!==r||i!==0&&d.nodeType!==3||(o=a+i),d!==s||n!==0&&d.nodeType!==3||(A=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===r&&++l===i&&(o=a),f===s&&++u===n&&(A=a),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}r=o===-1||A===-1?null:{start:o,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(sx={focusedElem:t,selectionRange:r},cp=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:ui(e.type,m),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var B=e.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(I){Nt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return p=wS,wS=!1,p}function rd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&xx(e,r,s)}i=i.next}while(i!==n)}}function s0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function bx(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function fk(t){var e=t.alternate;e!==null&&(t.alternate=null,fk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fi],delete e[Pd],delete e[Ax],delete e[IK],delete e[SK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hk(t){return t.tag===5||t.tag===3||t.tag===4}function xS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=hp));else if(n!==4&&(t=t.child,t!==null))for(Bx(t,e,r),t=t.sibling;t!==null;)Bx(t,e,r),t=t.sibling}function Cx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Cx(t,e,r),t=t.sibling;t!==null;)Cx(t,e,r),t=t.sibling}var pr=null,ci=!1;function qs(t,e,r){for(r=r.child;r!==null;)gk(t,e,r),r=r.sibling}function gk(t,e,r){if(Qi&&typeof Qi.onCommitFiberUnmount=="function")try{Qi.onCommitFiberUnmount(qm,r)}catch{}switch(r.tag){case 5:kr||vl(r,e);case 6:var n=pr,i=ci;pr=null,qs(t,e,r),pr=n,ci=i,pr!==null&&(ci?(t=pr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):pr.removeChild(r.stateNode));break;case 18:pr!==null&&(ci?(t=pr,r=r.stateNode,t.nodeType===8?wy(t.parentNode,r):t.nodeType===1&&wy(t,r),Id(t)):wy(pr,r.stateNode));break;case 4:n=pr,i=ci,pr=r.stateNode.containerInfo,ci=!0,qs(t,e,r),pr=n,ci=i;break;case 0:case 11:case 14:case 15:if(!kr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&xx(r,e,a),i=i.next}while(i!==n)}qs(t,e,r);break;case 1:if(!kr&&(vl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Nt(r,e,o)}qs(t,e,r);break;case 21:qs(t,e,r);break;case 22:r.mode&1?(kr=(n=kr)||r.memoizedState!==null,qs(t,e,r),kr=n):qs(t,e,r);break;default:qs(t,e,r)}}function bS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new KK),e.forEach(function(n){var i=e6.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function oi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:pr=o.stateNode,ci=!1;break e;case 3:pr=o.stateNode.containerInfo,ci=!0;break e;case 4:pr=o.stateNode.containerInfo,ci=!0;break e}o=o.return}if(pr===null)throw Error(re(160));gk(s,a,i),pr=null,ci=!1;var A=i.alternate;A!==null&&(A.return=null),i.return=null}catch(l){Nt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pk(e,t),e=e.sibling}function pk(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(oi(e,t),Ci(t),n&4){try{rd(3,t,t.return),s0(3,t)}catch(m){Nt(t,t.return,m)}try{rd(5,t,t.return)}catch(m){Nt(t,t.return,m)}}break;case 1:oi(e,t),Ci(t),n&512&&r!==null&&vl(r,r.return);break;case 5:if(oi(e,t),Ci(t),n&512&&r!==null&&vl(r,r.return),t.flags&32){var i=t.stateNode;try{Bd(i,"")}catch(m){Nt(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&jN(i,s),Ww(o,a);var l=Ww(o,s);for(a=0;a<A.length;a+=2){var u=A[a],d=A[a+1];u==="style"?VN(i,d):u==="dangerouslySetInnerHTML"?LN(i,d):u==="children"?Bd(i,d):NB(i,u,d,l)}switch(o){case"input":Vw(i,s);break;case"textarea":RN(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?_l(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?_l(i,!!s.multiple,s.defaultValue,!0):_l(i,!!s.multiple,s.multiple?[]:"",!1))}i[Pd]=s}catch(m){Nt(t,t.return,m)}}break;case 6:if(oi(e,t),Ci(t),n&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Nt(t,t.return,m)}}break;case 3:if(oi(e,t),Ci(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Id(e.containerInfo)}catch(m){Nt(t,t.return,m)}break;case 4:oi(e,t),Ci(t);break;case 13:oi(e,t),Ci(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(dC=jt())),n&4&&bS(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(kr=(l=kr)||u,oi(e,t),kr=l):oi(e,t),Ci(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(he=t,u=t.child;u!==null;){for(d=he=u;he!==null;){switch(f=he,g=f.child,f.tag){case 0:case 11:case 14:case 15:rd(4,f,f.return);break;case 1:vl(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Nt(n,r,m)}}break;case 5:vl(f,f.return);break;case 22:if(f.memoizedState!==null){CS(d);continue}}g!==null?(g.return=f,he=g):CS(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,A=d.memoizedProps.style,a=A!=null&&A.hasOwnProperty("display")?A.display:null,o.style.display=HN("display",a))}catch(m){Nt(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Nt(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:oi(e,t),Ci(t),n&4&&bS(t);break;case 21:break;default:oi(e,t),Ci(t)}}function Ci(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(hk(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Bd(i,""),n.flags&=-33);var s=xS(t);Cx(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=xS(t);Bx(t,o,a);break;default:throw Error(re(161))}}catch(A){Nt(t,t.return,A)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GK(t,e,r){he=t,mk(t)}function mk(t,e,r){for(var n=(t.mode&1)!==0;he!==null;){var i=he,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Uh;if(!a){var o=i.alternate,A=o!==null&&o.memoizedState!==null||kr;o=Uh;var l=kr;if(Uh=a,(kr=A)&&!l)for(he=i;he!==null;)a=he,A=a.child,a.tag===22&&a.memoizedState!==null?ES(i):A!==null?(A.return=a,he=A):ES(i);for(;s!==null;)he=s,mk(s),s=s.sibling;he=i,Uh=o,kr=l}BS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,he=s):BS(t)}}function BS(t){for(;he!==null;){var e=he;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kr||s0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!kr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ui(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&oS(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}oS(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var A=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&r.focus();break;case"img":A.src&&(r.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Id(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}kr||e.flags&512&&bx(e)}catch(f){Nt(e,e.return,f)}}if(e===t){he=null;break}if(r=e.sibling,r!==null){r.return=e.return,he=r;break}he=e.return}}function CS(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var r=e.sibling;if(r!==null){r.return=e.return,he=r;break}he=e.return}}function ES(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{s0(4,e)}catch(A){Nt(e,r,A)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(A){Nt(e,i,A)}}var s=e.return;try{bx(e)}catch(A){Nt(e,s,A)}break;case 5:var a=e.return;try{bx(e)}catch(A){Nt(e,a,A)}}}catch(A){Nt(e,e.return,A)}if(e===t){he=null;break}var o=e.sibling;if(o!==null){o.return=e.return,he=o;break}he=e.return}}var zK=Math.ceil,Ep=js.ReactCurrentDispatcher,uC=js.ReactCurrentOwner,qn=js.ReactCurrentBatchConfig,Ke=0,cr=null,Vt=null,Br=0,gn=0,yl=ao(0),Xt=0,jd=null,AA=0,a0=0,cC=0,nd=null,en=null,dC=0,$l=1/0,ts=null,_p=!1,Ex=null,Fa=null,Ph=!1,ga=null,Ip=0,id=0,_x=null,Dg=-1,jg=0;function Kr(){return Ke&6?jt():Dg!==-1?Dg:Dg=jt()}function Ua(t){return t.mode&1?Ke&2&&Br!==0?Br&-Br:FK.transition!==null?(jg===0&&(jg=tQ()),jg):(t=Je,t!==0||(t=window.event,t=t===void 0?16:AQ(t.type)),t):1}function vi(t,e,r,n){if(50<id)throw id=0,_x=null,Error(re(185));pf(t,r,n),(!(Ke&2)||t!==cr)&&(t===cr&&(!(Ke&2)&&(a0|=r),Xt===4&&ua(t,Br)),on(t,n),r===1&&Ke===0&&!(e.mode&1)&&($l=jt()+500,r0&&oo()))}function on(t,e){var r=t.callbackNode;FV(t,e);var n=up(t,t===cr?Br:0);if(n===0)r!==null&&QI(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&QI(r),e===1)t.tag===0?TK(_S.bind(null,t)):IQ(_S.bind(null,t)),EK(function(){!(Ke&6)&&oo()}),r=null;else{switch(rQ(n)){case 1:r=jB;break;case 4:r=ZN;break;case 16:r=lp;break;case 536870912:r=eQ;break;default:r=lp}r=Ek(r,vk.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function vk(t,e){if(Dg=-1,jg=0,Ke&6)throw Error(re(327));var r=t.callbackNode;if(Ul()&&t.callbackNode!==r)return null;var n=up(t,t===cr?Br:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Sp(t,n);else{e=n;var i=Ke;Ke|=2;var s=wk();(cr!==t||Br!==e)&&(ts=null,$l=jt()+500,Wo(t,e));do try{XK();break}catch(o){yk(t,o)}while(!0);qB(),Ep.current=s,Ke=i,Vt!==null?e=0:(cr=null,Br=0,e=Xt)}if(e!==0){if(e===2&&(i=Zw(t),i!==0&&(n=i,e=Ix(t,i))),e===1)throw r=jd,Wo(t,0),ua(t,n),on(t,jt()),r;if(e===6)ua(t,n);else{if(i=t.current.alternate,!(n&30)&&!WK(i)&&(e=Sp(t,n),e===2&&(s=Zw(t),s!==0&&(n=s,e=Ix(t,s))),e===1))throw r=jd,Wo(t,0),ua(t,n),on(t,jt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(re(345));case 2:Io(t,en,ts);break;case 3:if(ua(t,n),(n&130023424)===n&&(e=dC+500-jt(),10<e)){if(up(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Kr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ox(Io.bind(null,t,en,ts),e);break}Io(t,en,ts);break;case 4:if(ua(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-mi(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=jt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zK(n/1960))-n,10<n){t.timeoutHandle=ox(Io.bind(null,t,en,ts),n);break}Io(t,en,ts);break;case 5:Io(t,en,ts);break;default:throw Error(re(329))}}}return on(t,jt()),t.callbackNode===r?vk.bind(null,t):null}function Ix(t,e){var r=nd;return t.current.memoizedState.isDehydrated&&(Wo(t,e).flags|=256),t=Sp(t,e),t!==2&&(e=en,en=r,e!==null&&Sx(e)),t}function Sx(t){en===null?en=t:en.push.apply(en,t)}function WK(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!yi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ua(t,e){for(e&=~cC,e&=~a0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-mi(e),n=1<<r;t[r]=-1,e&=~n}}function _S(t){if(Ke&6)throw Error(re(327));Ul();var e=up(t,0);if(!(e&1))return on(t,jt()),null;var r=Sp(t,e);if(t.tag!==0&&r===2){var n=Zw(t);n!==0&&(e=n,r=Ix(t,n))}if(r===1)throw r=jd,Wo(t,0),ua(t,e),on(t,jt()),r;if(r===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Io(t,en,ts),on(t,jt()),null}function fC(t,e){var r=Ke;Ke|=1;try{return t(e)}finally{Ke=r,Ke===0&&($l=jt()+500,r0&&oo())}}function lA(t){ga!==null&&ga.tag===0&&!(Ke&6)&&Ul();var e=Ke;Ke|=1;var r=qn.transition,n=Je;try{if(qn.transition=null,Je=1,t)return t()}finally{Je=n,qn.transition=r,Ke=e,!(Ke&6)&&oo()}}function hC(){gn=yl.current,ft(yl)}function Wo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,CK(r)),Vt!==null)for(r=Vt.return;r!==null;){var n=r;switch(WB(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gp();break;case 3:Vl(),ft(sn),ft(jr),nC();break;case 5:rC(n);break;case 4:Vl();break;case 13:ft(Et);break;case 19:ft(Et);break;case 10:JB(n.type._context);break;case 22:case 23:hC()}r=r.return}if(cr=t,Vt=t=Pa(t.current,null),Br=gn=e,Xt=0,jd=null,cC=a0=AA=0,en=nd=null,Ro!==null){for(e=0;e<Ro.length;e++)if(r=Ro[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Ro=null}return t}function yk(t,e){do{var r=Vt;try{if(qB(),Qg.current=Cp,Bp){for(var n=_t.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Bp=!1}if(oA=0,lr=Wt=_t=null,td=!1,kd=0,uC.current=null,r===null||r.return===null){Xt=1,jd=e,Vt=null;break}e:{var s=t,a=r.return,o=r,A=e;if(e=Br,o.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var l=A,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=fS(a);if(g!==null){g.flags&=-257,hS(g,a,o,s,e),g.mode&1&&dS(s,l,e),e=g,A=l;var p=e.updateQueue;if(p===null){var m=new Set;m.add(A),e.updateQueue=m}else p.add(A);break e}else{if(!(e&1)){dS(s,l,e),gC();break e}A=Error(re(426))}}else if(mt&&o.mode&1){var v=fS(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),hS(v,a,o,s,e),YB(Kl(A,o));break e}}s=A=Kl(A,o),Xt!==4&&(Xt=2),nd===null?nd=[s]:nd.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=rk(s,A,e);aS(s,y);break e;case 1:o=A;var w=s.type,B=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Fa===null||!Fa.has(B)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=nk(s,o,e);aS(s,I);break e}}s=s.return}while(s!==null)}bk(r)}catch(T){e=T,Vt===r&&r!==null&&(Vt=r=r.return);continue}break}while(!0)}function wk(){var t=Ep.current;return Ep.current=Cp,t===null?Cp:t}function gC(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),cr===null||!(AA&268435455)&&!(a0&268435455)||ua(cr,Br)}function Sp(t,e){var r=Ke;Ke|=2;var n=wk();(cr!==t||Br!==e)&&(ts=null,Wo(t,e));do try{YK();break}catch(i){yk(t,i)}while(!0);if(qB(),Ke=r,Ep.current=n,Vt!==null)throw Error(re(261));return cr=null,Br=0,Xt}function YK(){for(;Vt!==null;)xk(Vt)}function XK(){for(;Vt!==null&&!xV();)xk(Vt)}function xk(t){var e=Ck(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?bk(t):Vt=e,uC.current=null}function bk(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=VK(r,e),r!==null){r.flags&=32767,Vt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xt=6,Vt=null;return}}else if(r=HK(r,e,gn),r!==null){Vt=r;return}if(e=e.sibling,e!==null){Vt=e;return}Vt=e=t}while(e!==null);Xt===0&&(Xt=5)}function Io(t,e,r){var n=Je,i=qn.transition;try{qn.transition=null,Je=1,qK(t,e,r,n)}finally{qn.transition=i,Je=n}return null}function qK(t,e,r,n){do Ul();while(ga!==null);if(Ke&6)throw Error(re(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(UV(t,s),t===cr&&(Vt=cr=null,Br=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ph||(Ph=!0,Ek(lp,function(){return Ul(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=qn.transition,qn.transition=null;var a=Je;Je=1;var o=Ke;Ke|=4,uC.current=null,$K(t,r),pk(r,t),mK(sx),cp=!!ix,sx=ix=null,t.current=r,GK(r),bV(),Ke=o,Je=a,qn.transition=s}else t.current=r;if(Ph&&(Ph=!1,ga=t,Ip=i),s=t.pendingLanes,s===0&&(Fa=null),EV(r.stateNode),on(t,jt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(_p)throw _p=!1,t=Ex,Ex=null,t;return Ip&1&&t.tag!==0&&Ul(),s=t.pendingLanes,s&1?t===_x?id++:(id=0,_x=t):id=0,oo(),null}function Ul(){if(ga!==null){var t=rQ(Ip),e=qn.transition,r=Je;try{if(qn.transition=null,Je=16>t?16:t,ga===null)var n=!1;else{if(t=ga,ga=null,Ip=0,Ke&6)throw Error(re(331));var i=Ke;for(Ke|=4,he=t.current;he!==null;){var s=he,a=s.child;if(he.flags&16){var o=s.deletions;if(o!==null){for(var A=0;A<o.length;A++){var l=o[A];for(he=l;he!==null;){var u=he;switch(u.tag){case 0:case 11:case 15:rd(8,u,s)}var d=u.child;if(d!==null)d.return=u,he=d;else for(;he!==null;){u=he;var f=u.sibling,g=u.return;if(fk(u),u===l){he=null;break}if(f!==null){f.return=g,he=f;break}he=g}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}he=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,he=a;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:rd(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,he=y;break e}he=s.return}}var w=t.current;for(he=w;he!==null;){a=he;var B=a.child;if(a.subtreeFlags&2064&&B!==null)B.return=a,he=B;else e:for(a=w;he!==null;){if(o=he,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:s0(9,o)}}catch(T){Nt(o,o.return,T)}if(o===a){he=null;break e}var I=o.sibling;if(I!==null){I.return=o.return,he=I;break e}he=o.return}}if(Ke=i,oo(),Qi&&typeof Qi.onPostCommitFiberRoot=="function")try{Qi.onPostCommitFiberRoot(qm,t)}catch{}n=!0}return n}finally{Je=r,qn.transition=e}}return!1}function IS(t,e,r){e=Kl(r,e),e=rk(t,e,1),t=Ta(t,e,1),e=Kr(),t!==null&&(pf(t,1,e),on(t,e))}function Nt(t,e,r){if(t.tag===3)IS(t,t,r);else for(;e!==null;){if(e.tag===3){IS(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Fa===null||!Fa.has(n))){t=Kl(r,t),t=nk(e,t,1),e=Ta(e,t,1),t=Kr(),e!==null&&(pf(e,1,t),on(e,t));break}}e=e.return}}function JK(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Kr(),t.pingedLanes|=t.suspendedLanes&r,cr===t&&(Br&r)===r&&(Xt===4||Xt===3&&(Br&130023424)===Br&&500>jt()-dC?Wo(t,0):cC|=r),on(t,e)}function Bk(t,e){e===0&&(t.mode&1?(e=bh,bh<<=1,!(bh&130023424)&&(bh=4194304)):e=1);var r=Kr();t=Is(t,e),t!==null&&(pf(t,e,r),on(t,r))}function ZK(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Bk(t,r)}function e6(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(e),Bk(t,r)}var Ck;Ck=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return rn=!1,LK(t,e,r);rn=!!(t.flags&131072)}else rn=!1,mt&&e.flags&1048576&&SQ(e,vp,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Og(t,e),t=e.pendingProps;var i=Ml(e,jr.current);Fl(e,r),i=sC(null,e,n,t,i,r);var s=aC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(n)?(s=!0,pp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,eC(e),i.updater=i0,e.stateNode=i,i._reactInternals=e,hx(e,n,t,r),e=mx(null,e,n,!0,s,r)):(e.tag=0,mt&&s&&zB(e),Lr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Og(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=r6(n),t=ui(n,t),i){case 0:e=px(null,e,n,t,r);break e;case 1:e=mS(null,e,n,t,r);break e;case 11:e=gS(null,e,n,t,r);break e;case 14:e=pS(null,e,n,ui(n.type,t),r);break e}throw Error(re(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ui(n,i),px(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ui(n,i),mS(t,e,n,i,r);case 3:e:{if(ok(e),t===null)throw Error(re(387));n=e.pendingProps,s=e.memoizedState,i=s.element,QQ(t,e),xp(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Kl(Error(re(423)),e),e=vS(t,e,n,r,i);break e}else if(n!==i){i=Kl(Error(re(424)),e),e=vS(t,e,n,r,i);break e}else for(yn=Sa(e.stateNode.containerInfo.firstChild),bn=e,mt=!0,di=null,r=PQ(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ll(),n===i){e=Ss(t,e,r);break e}Lr(t,e,n,r)}e=e.child}return e;case 5:return kQ(e),t===null&&cx(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,ax(n,i)?a=null:s!==null&&ax(n,s)&&(e.flags|=32),ak(t,e),Lr(t,e,a,r),e.child;case 6:return t===null&&cx(e),null;case 13:return Ak(t,e,r);case 4:return tC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Hl(e,null,n,r):Lr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ui(n,i),gS(t,e,n,i,r);case 7:return Lr(t,e,e.pendingProps,r),e.child;case 8:return Lr(t,e,e.pendingProps.children,r),e.child;case 12:return Lr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,lt(yp,n._currentValue),n._currentValue=a,s!==null)if(yi(s.value,a)){if(s.children===i.children&&!sn.current){e=Ss(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var A=o.firstContext;A!==null;){if(A.context===n){if(s.tag===1){A=ws(-1,r&-r),A.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?A.next=A:(A.next=u.next,u.next=A),l.pending=A}}s.lanes|=r,A=s.alternate,A!==null&&(A.lanes|=r),dx(s.return,r,e),o.lanes|=r;break}A=A.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(re(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),dx(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Lr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Fl(e,r),i=ei(i),n=n(i),e.flags|=1,Lr(t,e,n,r),e.child;case 14:return n=e.type,i=ui(n,e.pendingProps),i=ui(n.type,i),pS(t,e,n,i,r);case 15:return ik(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ui(n,i),Og(t,e),e.tag=1,an(n)?(t=!0,pp(e)):t=!1,Fl(e,r),tk(e,n,i),hx(e,n,i,r),mx(null,e,n,!0,t,r);case 19:return lk(t,e,r);case 22:return sk(t,e,r)}throw Error(re(156,e.tag))};function Ek(t,e){return JN(t,e)}function t6(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,r,n){return new t6(t,e,r,n)}function pC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function r6(t){if(typeof t=="function")return pC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kB)return 11;if(t===OB)return 14}return 2}function Pa(t,e){var r=t.alternate;return r===null?(r=Kn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Rg(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")pC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ll:return Yo(r.children,i,s,e);case QB:a=8,i|=8;break;case jw:return t=Kn(12,r,e,i|2),t.elementType=jw,t.lanes=s,t;case Rw:return t=Kn(13,r,e,i),t.elementType=Rw,t.lanes=s,t;case Mw:return t=Kn(19,r,e,i),t.elementType=Mw,t.lanes=s,t;case kN:return o0(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case NN:a=10;break e;case QN:a=9;break e;case kB:a=11;break e;case OB:a=14;break e;case sa:a=16,n=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Kn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Yo(t,e,r,n){return t=Kn(7,t,n,e),t.lanes=r,t}function o0(t,e,r,n){return t=Kn(22,t,n,e),t.elementType=kN,t.lanes=r,t.stateNode={isHidden:!1},t}function Sy(t,e,r){return t=Kn(6,t,null,e),t.lanes=r,t}function Ty(t,e,r){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function n6(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ly(0),this.expirationTimes=ly(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ly(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mC(t,e,r,n,i,s,a,o,A){return t=new n6(t,e,r,o,A),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Kn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},eC(s),t}function i6(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Al,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function _k(t){if(!t)return Ga;t=t._reactInternals;e:{if(CA(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var r=t.type;if(an(r))return _Q(t,r,e)}return e}function Ik(t,e,r,n,i,s,a,o,A){return t=mC(r,n,!0,t,i,s,a,o,A),t.context=_k(null),r=t.current,n=Kr(),i=Ua(r),s=ws(n,i),s.callback=e??null,Ta(r,s,i),t.current.lanes=i,pf(t,i,n),on(t,n),t}function A0(t,e,r,n){var i=e.current,s=Kr(),a=Ua(i);return r=_k(r),e.context===null?e.context=r:e.pendingContext=r,e=ws(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ta(i,e,a),t!==null&&(vi(t,i,a,s),Ng(t,i,a)),a}function Tp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function SS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function vC(t,e){SS(t,e),(t=t.alternate)&&SS(t,e)}var Sk=typeof reportError=="function"?reportError:function(t){console.error(t)};function yC(t){this._internalRoot=t}l0.prototype.render=yC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));A0(t,e,null,null)};l0.prototype.unmount=yC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;lA(function(){A0(null,t,null,null)}),e[_s]=null}};function l0(t){this._internalRoot=t}l0.prototype.unstable_scheduleHydration=function(t){if(t){var e=sQ();t={blockedOn:null,target:t,priority:e};for(var r=0;r<la.length&&e!==0&&e<la[r].priority;r++);la.splice(r,0,t),r===0&&oQ(t)}};function wC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function TS(){}function s6(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=Tp(a);s.call(l)}}var a=Ik(e,n,t,0,null,!1,!1,"",TS);return t._reactRootContainer=a,t[_s]=a.current,Fd(t.nodeType===8?t.parentNode:t),lA(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var l=Tp(A);o.call(l)}}var A=mC(t,0,!1,null,null,!1,!1,"",TS);return t._reactRootContainer=A,t[_s]=A.current,Fd(t.nodeType===8?t.parentNode:t),lA(function(){A0(e,A,r,n)}),A}function c0(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var A=Tp(a);o.call(A)}}A0(e,a,t,i)}else a=s6(r,e,t,i,n);return Tp(a)}nQ=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Nc(e.pendingLanes);r!==0&&(RB(e,r|1),on(e,jt()),!(Ke&6)&&($l=jt()+500,oo()))}break;case 13:lA(function(){var n=Is(t,1);if(n!==null){var i=Kr();vi(n,t,1,i)}}),vC(t,1)}};MB=function(t){if(t.tag===13){var e=Is(t,134217728);if(e!==null){var r=Kr();vi(e,t,134217728,r)}vC(t,134217728)}};iQ=function(t){if(t.tag===13){var e=Ua(t),r=Is(t,e);if(r!==null){var n=Kr();vi(r,t,e,n)}vC(t,e)}};sQ=function(){return Je};aQ=function(t,e){var r=Je;try{return Je=t,e()}finally{Je=r}};Xw=function(t,e,r){switch(e){case"input":if(Vw(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=t0(n);if(!i)throw Error(re(90));DN(n),Vw(n,i)}}}break;case"textarea":RN(t,r);break;case"select":e=r.value,e!=null&&_l(t,!!r.multiple,e,!1)}};GN=fC;zN=lA;var a6={usingClientEntryPoint:!1,Events:[vf,fl,t0,KN,$N,fC]},fc={findFiberByHostInstance:jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o6={bundleType:fc.bundleType,version:fc.version,rendererPackageName:fc.rendererPackageName,rendererConfig:fc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:js.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=XN(t),t===null?null:t.stateNode},findFiberByHostInstance:fc.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{qm=Nh.inject(o6),Qi=Nh}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a6;Fn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wC(e))throw Error(re(200));return i6(t,e,null,r)};Fn.createRoot=function(t,e){if(!wC(t))throw Error(re(299));var r=!1,n="",i=Sk;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mC(t,1,!1,null,null,r,!1,n,i),t[_s]=e.current,Fd(t.nodeType===8?t.parentNode:t),new yC(e)};Fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=XN(e),t=t===null?null:t.stateNode,t};Fn.flushSync=function(t){return lA(t)};Fn.hydrate=function(t,e,r){if(!u0(e))throw Error(re(200));return c0(null,t,e,!0,r)};Fn.hydrateRoot=function(t,e,r){if(!wC(t))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Sk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Ik(e,null,t,1,r??null,i,!1,s,a),t[_s]=e.current,Fd(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new l0(e)};Fn.render=function(t,e,r){if(!u0(e))throw Error(re(200));return c0(null,t,e,!1,r)};Fn.unmountComponentAtNode=function(t){if(!u0(t))throw Error(re(40));return t._reactRootContainer?(lA(function(){c0(null,null,t,!1,function(){t._reactRootContainer=null,t[_s]=null})}),!0):!1};Fn.unstable_batchedUpdates=fC;Fn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!u0(r))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return c0(t,e,r,!1,n)};Fn.version="18.3.1-next-f1338f8080-20240426";function Tk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tk)}catch(t){console.error(t)}}Tk(),TN.exports=Fn;var xC=TN.exports,FS=xC;Ow.createRoot=FS.createRoot,Ow.hydrateRoot=FS.hydrateRoot;const A6="modulepreload",l6=function(t){return"/Brainless/"+t},US={},pa=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(A=>{if(A=l6(A),A in US)return;US[A]=!0;const l=A.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":A6,l||(d.as="script"),d.crossOrigin="",d.href=A,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((f,g)=>{d.addEventListener("load",f),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${A}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rd(){return Rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rd.apply(this,arguments)}var ma;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ma||(ma={}));const PS="popstate";function u6(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:o="",hash:A=""}=EA(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Tx("",{pathname:a,search:o,hash:A},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let A=i.location.href,l=A.indexOf("#");o=l===-1?A:A.slice(0,l)}return o+"#"+(typeof s=="string"?s:Fp(s))}function n(i,s){bC(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return d6(e,r,n,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c6(){return Math.random().toString(36).substr(2,8)}function NS(t,e){return{usr:t.state,key:t.key,idx:e}}function Tx(t,e,r,n){return r===void 0&&(r=null),Rd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?EA(e):e,{state:r,key:e&&e.key||n||c6()})}function Fp(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function EA(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function d6(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=ma.Pop,A=null,l=u();l==null&&(l=0,a.replaceState(Rd({},a.state,{idx:l}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=ma.Pop;let v=u(),y=v==null?null:v-l;l=v,A&&A({action:o,location:m.location,delta:y})}function f(v,y){o=ma.Push;let w=Tx(m.location,v,y);r(w,v),l=u()+1;let B=NS(w,l),I=m.createHref(w);try{a.pushState(B,"",I)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(I)}s&&A&&A({action:o,location:m.location,delta:1})}function g(v,y){o=ma.Replace;let w=Tx(m.location,v,y);r(w,v),l=u();let B=NS(w,l),I=m.createHref(w);a.replaceState(B,"",I),s&&A&&A({action:o,location:m.location,delta:0})}function p(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:Fp(v);return w=w.replace(/ $/,"%20"),It(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let m={get action(){return o},get location(){return t(i,a)},listen(v){if(A)throw new Error("A history only accepts one active listener");return i.addEventListener(PS,d),A=v,()=>{i.removeEventListener(PS,d),A=null}},createHref(v){return e(i,v)},createURL:p,encodeLocation(v){let y=p(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(v){return a.go(v)}};return m}var QS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(QS||(QS={}));function f6(t,e,r){return r===void 0&&(r="/"),h6(t,e,r)}function h6(t,e,r,n){let i=typeof e=="string"?EA(e):e,s=Gl(i.pathname||"/",r);if(s==null)return null;let a=Fk(t);g6(a);let o=null;for(let A=0;o==null&&A<a.length;++A){let l=_6(s);o=C6(a[A],l)}return o}function Fk(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let A={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};A.relativePath.startsWith("/")&&(It(A.relativePath.startsWith(n),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(n.length));let l=Na([n,A.relativePath]),u=r.concat(A);s.children&&s.children.length>0&&(It(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Fk(s.children,e,u,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:b6(l,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let A of Uk(s.path))i(s,a,A)}),e}function Uk(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=Uk(n.join("/")),o=[];return o.push(...a.map(A=>A===""?s:[s,A].join("/"))),i&&o.push(...a),o.map(A=>t.startsWith("/")&&A===""?"/":A)}function g6(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:B6(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const p6=/^:[\w-]+$/,m6=3,v6=2,y6=1,w6=10,x6=-2,kS=t=>t==="*";function b6(t,e){let r=t.split("/"),n=r.length;return r.some(kS)&&(n+=x6),e&&(n+=v6),r.filter(i=>!kS(i)).reduce((i,s)=>i+(p6.test(s)?m6:s===""?y6:w6),n)}function B6(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function C6(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let A=n[o],l=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=Fx({path:A.relativePath,caseSensitive:A.caseSensitive,end:l},u),f=A.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:Na([s,d.pathname]),pathnameBase:F6(Na([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Na([s,d.pathnameBase]))}return a}function Fx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=E6(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((l,u,d)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let m=o[d]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=o[d];return g&&!p?l[f]=void 0:l[f]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:a,pattern:t}}function E6(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),bC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,A)=>(n.push({paramName:o,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function _6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function I6(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?EA(t):t;return{pathname:r?r.startsWith("/")?r:S6(r,e):e,search:U6(n),hash:P6(i)}}function S6(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Fy(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function T6(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function BC(t,e){let r=T6(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function CC(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=EA(t):(i=Rd({},t),It(!i.pathname||!i.pathname.includes("?"),Fy("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),Fy("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),Fy("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}o=d>=0?e[d]:"/"}let A=I6(i,o),l=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&r.endsWith("/");return!A.pathname.endsWith("/")&&(l||u)&&(A.pathname+="/"),A}const Na=t=>t.join("/").replace(/\/\/+/g,"/"),F6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),U6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,P6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function N6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Pk=["post","put","patch","delete"];new Set(Pk);const Q6=["get",...Pk];new Set(Q6);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Md.apply(this,arguments)}const d0=x.createContext(null),Nk=x.createContext(null),Rs=x.createContext(null),f0=x.createContext(null),Ao=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Qk=x.createContext(null);function k6(t,e){let{relative:r}=e===void 0?{}:e;wu()||It(!1);let{basename:n,navigator:i}=x.useContext(Rs),{hash:s,pathname:a,search:o}=h0(t,{relative:r}),A=a;return n!=="/"&&(A=a==="/"?n:Na([n,a])),i.createHref({pathname:A,search:o,hash:s})}function wu(){return x.useContext(f0)!=null}function xu(){return wu()||It(!1),x.useContext(f0).location}function kk(t){x.useContext(Rs).static||x.useLayoutEffect(t)}function Ok(){let{isDataRoute:t}=x.useContext(Ao);return t?W6():O6()}function O6(){wu()||It(!1);let t=x.useContext(d0),{basename:e,future:r,navigator:n}=x.useContext(Rs),{matches:i}=x.useContext(Ao),{pathname:s}=xu(),a=JSON.stringify(BC(i,r.v7_relativeSplatPath)),o=x.useRef(!1);return kk(()=>{o.current=!0}),x.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=CC(l,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Na([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,s,t])}function h0(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=x.useContext(Rs),{matches:i}=x.useContext(Ao),{pathname:s}=xu(),a=JSON.stringify(BC(i,n.v7_relativeSplatPath));return x.useMemo(()=>CC(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function D6(t,e){return j6(t,e)}function j6(t,e,r,n){wu()||It(!1);let{navigator:i}=x.useContext(Rs),{matches:s}=x.useContext(Ao),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let A=a?a.pathnameBase:"/";a&&a.route;let l=xu(),u;if(e){var d;let v=typeof e=="string"?EA(e):e;A==="/"||(d=v.pathname)!=null&&d.startsWith(A)||It(!1),u=v}else u=l;let f=u.pathname||"/",g=f;if(A!=="/"){let v=A.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=f6(t,{pathname:g}),m=V6(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Na([A,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?A:Na([A,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return e&&m?x.createElement(f0.Provider,{value:{location:Md({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ma.Pop}},m):m}function R6(){let t=z6(),e=N6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),r?x.createElement("pre",{style:i},r):null,null)}const M6=x.createElement(R6,null);class L6 extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?x.createElement(Ao.Provider,{value:this.props.routeContext},x.createElement(Qk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function H6(t){let{routeContext:e,match:r,children:n}=t,i=x.useContext(d0);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Ao.Provider,{value:e},n)}function V6(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||It(!1),a=a.slice(0,Math.min(a.length,u+1))}let A=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:f,errors:g}=r,p=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||p){A=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let g,p=!1,m=null,v=null;r&&(g=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||M6,A&&(l<0&&f===0?(p=!0,v=null):l===f&&(p=!0,v=d.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,f+1)),w=()=>{let B;return g?B=m:p?B=v:d.route.Component?B=x.createElement(d.route.Component,null):d.route.element?B=d.route.element:B=u,x.createElement(H6,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:B})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?x.createElement(L6,{location:r.location,revalidation:r.revalidation,component:m,error:g,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var Dk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Dk||{}),Up=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Up||{});function K6(t){let e=x.useContext(d0);return e||It(!1),e}function $6(t){let e=x.useContext(Nk);return e||It(!1),e}function G6(t){let e=x.useContext(Ao);return e||It(!1),e}function jk(t){let e=G6(),r=e.matches[e.matches.length-1];return r.route.id||It(!1),r.route.id}function z6(){var t;let e=x.useContext(Qk),r=$6(Up.UseRouteError),n=jk(Up.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function W6(){let{router:t}=K6(Dk.UseNavigateStable),e=jk(Up.UseNavigateStable),r=x.useRef(!1);return kk(()=>{r.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Md({fromRouteId:e},s)))},[t,e])}const OS={};function Y6(t,e){OS[e]||(OS[e]=!0,console.warn(e))}const DS=(t,e,r)=>Y6(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function X6(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&DS("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&DS("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function q6(t){let{to:e,replace:r,state:n,relative:i}=t;wu()||It(!1);let{future:s,static:a}=x.useContext(Rs),{matches:o}=x.useContext(Ao),{pathname:A}=xu(),l=Ok(),u=CC(e,BC(o,s.v7_relativeSplatPath),A,i==="path"),d=JSON.stringify(u);return x.useEffect(()=>l(JSON.parse(d),{replace:r,state:n,relative:i}),[l,d,i,r,n]),null}function Dn(t){It(!1)}function J6(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ma.Pop,navigator:s,static:a=!1,future:o}=t;wu()&&It(!1);let A=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:A,navigator:s,static:a,future:Md({v7_relativeSplatPath:!1},o)}),[A,o,s,a]);typeof n=="string"&&(n=EA(n));let{pathname:u="/",search:d="",hash:f="",state:g=null,key:p="default"}=n,m=x.useMemo(()=>{let v=Gl(u,A);return v==null?null:{location:{pathname:v,search:d,hash:f,state:g,key:p},navigationType:i}},[A,u,d,f,g,p,i]);return m==null?null:x.createElement(Rs.Provider,{value:l},x.createElement(f0.Provider,{children:r,value:m}))}function Z6(t){let{children:e,location:r}=t;return D6(Ux(e),r)}new Promise(()=>{});function Ux(t,e){e===void 0&&(e=[]);let r=[];return x.Children.forEach(t,(n,i)=>{if(!x.isValidElement(n))return;let s=[...e,i];if(n.type===x.Fragment){r.push.apply(r,Ux(n.props.children,s));return}n.type!==Dn&&It(!1),!n.props.index||!n.props.children||It(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Ux(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pp.apply(this,arguments)}function Rk(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function e$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function t$(t,e){return t.button===0&&(!e||e==="_self")&&!e$(t)}const r$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],n$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],i$="6";try{window.__reactRouterVersion=i$}catch{}const s$=x.createContext({isTransitioning:!1}),a$="startTransition",jS=IN[a$];function o$(t){let{basename:e,children:r,future:n,window:i}=t,s=x.useRef();s.current==null&&(s.current=u6({window:i,v5Compat:!0}));let a=s.current,[o,A]=x.useState({action:a.action,location:a.location}),{v7_startTransition:l}=n||{},u=x.useCallback(d=>{l&&jS?jS(()=>A(d)):A(d)},[A,l]);return x.useLayoutEffect(()=>a.listen(u),[a,u]),x.useEffect(()=>X6(n),[n]),x.createElement(J6,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const A$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",l$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u$=x.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:A,to:l,preventScrollReset:u,viewTransition:d}=e,f=Rk(e,r$),{basename:g}=x.useContext(Rs),p,m=!1;if(typeof l=="string"&&l$.test(l)&&(p=l,A$))try{let B=new URL(window.location.href),I=l.startsWith("//")?new URL(B.protocol+l):new URL(l),T=Gl(I.pathname,g);I.origin===B.origin&&T!=null?l=T+I.search+I.hash:m=!0}catch{}let v=k6(l,{relative:i}),y=f$(l,{replace:a,state:o,target:A,preventScrollReset:u,relative:i,viewTransition:d});function w(B){n&&n(B),B.defaultPrevented||y(B)}return x.createElement("a",Pp({},f,{href:p||v,onClick:m||s?n:w,ref:r,target:A}))}),c$=x.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:A,viewTransition:l,children:u}=e,d=Rk(e,n$),f=h0(A,{relative:d.relative}),g=xu(),p=x.useContext(Nk),{navigator:m,basename:v}=x.useContext(Rs),y=p!=null&&h$(f)&&l===!0,w=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,B=g.pathname,I=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(B=B.toLowerCase(),I=I?I.toLowerCase():null,w=w.toLowerCase()),I&&v&&(I=Gl(I,v)||I);const T=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let F=B===w||!a&&B.startsWith(w)&&B.charAt(T)==="/",C=I!=null&&(I===w||!a&&I.startsWith(w)&&I.charAt(w.length)==="/"),_={isActive:F,isPending:C,isTransitioning:y},S=F?n:void 0,P;typeof s=="function"?P=s(_):P=[s,F?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let Q=typeof o=="function"?o(_):o;return x.createElement(u$,Pp({},d,{"aria-current":S,className:P,ref:r,style:Q,to:A,viewTransition:l}),typeof u=="function"?u(_):u)});var Px;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Px||(Px={}));var RS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(RS||(RS={}));function d$(t){let e=x.useContext(d0);return e||It(!1),e}function f$(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,A=Ok(),l=xu(),u=h0(t,{relative:a});return x.useCallback(d=>{if(t$(d,r)){d.preventDefault();let f=n!==void 0?n:Fp(l)===Fp(u);A(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[l,A,u,n,i,r,t,s,a,o])}function h$(t,e){e===void 0&&(e={});let r=x.useContext(s$);r==null&&It(!1);let{basename:n}=d$(Px.useViewTransitionState),i=h0(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Gl(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Gl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Fx(i.pathname,a)!=null||Fx(i.pathname,s)!=null}function g$(){const[t,e]=x.useState(null),[r,n]=x.useState(null),[i,s]=x.useState(null);x.useEffect(()=>{const A=setInterval(()=>{const l=new Date,u=l.getHours(),d=l.getMinutes(),f=u*60+d,g=4*60+30,p=13*60,m=21*60+30;let v=null;f>=g&&f<p?(v=p-f,n("workEnd"),s("morning")):f>=p&&f<m?(v=m-f,n("workEnd"),s("afternoon")):(f<g?v=g-f:v=1440-f+g,n("workStart"),s("morning")),e(v)},1e3);return()=>clearInterval(A)},[]);const a=A=>A===null?"text-text-secondary":A<=30?"text-red-400 bg-red-400/10 ring-1 ring-red-400":A<=120?"text-orange-400 bg-orange-400/10 ring-1 ring-orange-400":"text-primary bg-primary/10 ring-1 ring-primary",o=A=>{if(A===null)return"";const l=Math.floor(A/60),u=A%60;return`${l}小時 ${u}分鐘`};return c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx("span",{className:"text-text-secondary",children:r==="workEnd"?`${i==="morning"?"早班":"晚班"}離下班還有 `:"早班離上班還有 "}),c.jsx("span",{className:`
        font-medium px-3 py-1 rounded-full
        ${a(t)}
        transition-all duration-300
      `,children:o(t)})]})}var MS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},p$=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],A=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(A>>10)),e[n++]=String.fromCharCode(56320+(A&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Lk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,A=i+2<t.length,l=A?t[i+2]:0,u=s>>2,d=(s&3)<<4|o>>4;let f=(o&15)<<2|l>>6,g=l&63;A||(g=64,a||(f=64)),n.push(r[u],r[d],r[f],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Mk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):p$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const l=i<t.length?r[t.charAt(i)]:64;++i;const d=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||l==null||d==null)throw new m$;const f=s<<2|o>>4;if(n.push(f),l!==64){const g=o<<4&240|l>>2;if(n.push(g),d!==64){const p=l<<6&192|d;n.push(p)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class m$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v$=function(t){const e=Mk(t);return Lk.encodeByteArray(e,!0)},Np=function(t){return v$(t).replace(/\./g,"")},Hk=function(t){try{return Lk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$=()=>y$().__FIREBASE_DEFAULTS__,x$=()=>{if(typeof process>"u"||typeof MS>"u")return;const t=MS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hk(t[1]);return e&&JSON.parse(e)},g0=()=>{try{return w$()||x$()||b$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Vk=t=>{var e,r;return(r=(e=g0())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},B$=t=>{const e=Vk(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Kk=()=>{var t;return(t=g0())===null||t===void 0?void 0:t.config},$k=t=>{var e;return(e=g0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Np(JSON.stringify(r)),Np(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function I$(){var t;const e=(t=g0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function F$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U$(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Gk(){return!I$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zk(){try{return typeof indexedDB=="object"}catch{return!1}}function P$(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$="FirebaseError";class Ms extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=N$,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wf.prototype.create)}}class wf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Q$(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ms(i,o,n)}}function Q$(t,e){return t.replace(k$,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const k$=/\{\$([^}]+)}/g;function O$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(LS(s)&&LS(a)){if(!Qp(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function LS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function kc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Oc(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function D$(t,e){const r=new j$(t,e);return r.subscribe.bind(r)}class j${constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");R$(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Uy),i.error===void 0&&(i.error=Uy),i.complete===void 0&&(i.complete=Uy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R$(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Uy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t){return t&&t._delegate?t._delegate:t}class uA{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M$=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new C$;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(H$(e))try{this.getOrInitializeService({instanceIdentifier:So})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=So){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=So){return this.instances.has(e)}getOptions(e=So){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:L$(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=So){return this.component?this.component.multipleInstances?e:So:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function L$(t){return t===So?void 0:t}function H$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new M$(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const K$={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},$$=Re.INFO,G$={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},z$=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=G$[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let EC=class{constructor(e){this.name=e,this._logLevel=$$,this._logHandler=z$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?K$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}};const W$=(t,e)=>e.some(r=>t instanceof r);let HS,VS;function Y$(){return HS||(HS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X$(){return VS||(VS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wk=new WeakMap,Nx=new WeakMap,Yk=new WeakMap,Py=new WeakMap,_C=new WeakMap;function q$(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(Qa(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&Wk.set(r,t)}).catch(()=>{}),_C.set(e,t),e}function J$(t){if(Nx.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Nx.set(t,e)}let Qx={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Nx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Yk.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Qa(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Z$(t){Qx=t(Qx)}function e8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Ny(this),e,...r);return Yk.set(n,e.sort?e.sort():[e]),Qa(n)}:X$().includes(t)?function(...e){return t.apply(Ny(this),e),Qa(Wk.get(this))}:function(...e){return Qa(t.apply(Ny(this),e))}}function t8(t){return typeof t=="function"?e8(t):(t instanceof IDBTransaction&&J$(t),W$(t,Y$())?new Proxy(t,Qx):t)}function Qa(t){if(t instanceof IDBRequest)return q$(t);if(Py.has(t))return Py.get(t);const e=t8(t);return e!==t&&(Py.set(t,e),_C.set(e,t)),e}const Ny=t=>_C.get(t);function r8(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Qa(a);return n&&a.addEventListener("upgradeneeded",A=>{n(Qa(a.result),A.oldVersion,A.newVersion,Qa(a.transaction),A)}),r&&a.addEventListener("blocked",A=>r(A.oldVersion,A.newVersion,A)),o.then(A=>{s&&A.addEventListener("close",()=>s()),i&&A.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}const n8=["get","getKey","getAll","getAllKeys","count"],i8=["put","add","delete","clear"],Qy=new Map;function KS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qy.get(e))return Qy.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=i8.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||n8.includes(r)))return;const s=async function(a,...o){const A=this.transaction(a,i?"readwrite":"readonly");let l=A.store;return n&&(l=l.index(o.shift())),(await Promise.all([l[r](...o),i&&A.done]))[0]};return Qy.set(e,s),s}Z$(t=>({...t,get:(e,r,n)=>KS(e,r)||t.get(e,r,n),has:(e,r)=>!!KS(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(a8(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function a8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kx="@firebase/app",$S="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new EC("@firebase/app"),o8="@firebase/app-compat",A8="@firebase/analytics-compat",l8="@firebase/analytics",u8="@firebase/app-check-compat",c8="@firebase/app-check",d8="@firebase/auth",f8="@firebase/auth-compat",h8="@firebase/database",g8="@firebase/data-connect",p8="@firebase/database-compat",m8="@firebase/functions",v8="@firebase/functions-compat",y8="@firebase/installations",w8="@firebase/installations-compat",x8="@firebase/messaging",b8="@firebase/messaging-compat",B8="@firebase/performance",C8="@firebase/performance-compat",E8="@firebase/remote-config",_8="@firebase/remote-config-compat",I8="@firebase/storage",S8="@firebase/storage-compat",T8="@firebase/firestore",F8="@firebase/vertexai-preview",U8="@firebase/firestore-compat",P8="firebase",N8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="[DEFAULT]",Q8={[kx]:"fire-core",[o8]:"fire-core-compat",[l8]:"fire-analytics",[A8]:"fire-analytics-compat",[c8]:"fire-app-check",[u8]:"fire-app-check-compat",[d8]:"fire-auth",[f8]:"fire-auth-compat",[h8]:"fire-rtdb",[g8]:"fire-data-connect",[p8]:"fire-rtdb-compat",[m8]:"fire-fn",[v8]:"fire-fn-compat",[y8]:"fire-iid",[w8]:"fire-iid-compat",[x8]:"fire-fcm",[b8]:"fire-fcm-compat",[B8]:"fire-perf",[C8]:"fire-perf-compat",[E8]:"fire-rc",[_8]:"fire-rc-compat",[I8]:"fire-gcs",[S8]:"fire-gcs-compat",[T8]:"fire-fst",[U8]:"fire-fst-compat",[F8]:"fire-vertex","fire-js":"fire-js",[P8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=new Map,k8=new Map,Dx=new Map;function GS(t,e){try{t.container.addComponent(e)}catch(r){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function zl(t){const e=t.name;if(Dx.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;Dx.set(e,t);for(const r of Ld.values())GS(r,t);for(const r of k8.values())GS(r,t);return!0}function IC(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function fs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ka=new wf("app","Firebase",O8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ka.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=N8;function Xk(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Ox,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw ka.create("bad-app-name",{appName:String(i)});if(r||(r=Kk()),!r)throw ka.create("no-options");const s=Ld.get(i);if(s){if(Qp(r,s.options)&&Qp(n,s.config))return s;throw ka.create("duplicate-app",{appName:i})}const a=new V$(i);for(const A of Dx.values())a.addComponent(A);const o=new D8(r,n,a);return Ld.set(i,o),o}function qk(t=Ox){const e=Ld.get(t);if(!e&&t===Ox&&Kk())return Xk();if(!e)throw ka.create("no-app",{appName:t});return e}function zS(){return Array.from(Ld.values())}function Oa(t,e,r){var n;let i=(n=Q8[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(o.join(" "));return}zl(new uA(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8="firebase-heartbeat-database",R8=1,Hd="firebase-heartbeat-store";let ky=null;function Jk(){return ky||(ky=r8(j8,R8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hd)}catch(r){console.warn(r)}}}}).catch(t=>{throw ka.create("idb-open",{originalErrorMessage:t.message})})),ky}async function M8(t){try{const r=(await Jk()).transaction(Hd),n=await r.objectStore(Hd).get(Zk(t));return await r.done,n}catch(e){if(e instanceof Ms)Ts.warn(e.message);else{const r=ka.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ts.warn(r.message)}}}async function WS(t,e){try{const n=(await Jk()).transaction(Hd,"readwrite");await n.objectStore(Hd).put(e,Zk(t)),await n.done}catch(r){if(r instanceof Ms)Ts.warn(r.message);else{const n=ka.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ts.warn(n.message)}}}function Zk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=1024,H8=30*24*60*60*1e3;class V8{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new $8(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=YS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=H8}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ts.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=YS(),{heartbeatsToSend:n,unsentEntries:i}=K8(this._heartbeatsCache.heartbeats),s=Np(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Ts.warn(r),""}}}function YS(){return new Date().toISOString().substring(0,10)}function K8(t,e=L8){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),XS(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),XS(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class $8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zk()?P$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await M8(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return WS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return WS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function XS(t){return Np(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(t){zl(new uA("platform-logger",e=>new s8(e),"PRIVATE")),zl(new uA("heartbeat",e=>new V8(e),"PRIVATE")),Oa(kx,$S,t),Oa(kx,$S,"esm2017"),Oa("fire-js","")}G8("");var qS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xo,eO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function S(){}S.prototype=_.prototype,C.D=_.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(P,Q,k){for(var N=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)N[oe-2]=arguments[oe];return _.prototype[Q].apply(P,N)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,_,S){S||(S=0);var P=Array(16);if(typeof _=="string")for(var Q=0;16>Q;++Q)P[Q]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(Q=0;16>Q;++Q)P[Q]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=C.g[0],S=C.g[1],Q=C.g[2];var k=C.g[3],N=_+(k^S&(Q^k))+P[0]+3614090360&4294967295;_=S+(N<<7&4294967295|N>>>25),N=k+(Q^_&(S^Q))+P[1]+3905402710&4294967295,k=_+(N<<12&4294967295|N>>>20),N=Q+(S^k&(_^S))+P[2]+606105819&4294967295,Q=k+(N<<17&4294967295|N>>>15),N=S+(_^Q&(k^_))+P[3]+3250441966&4294967295,S=Q+(N<<22&4294967295|N>>>10),N=_+(k^S&(Q^k))+P[4]+4118548399&4294967295,_=S+(N<<7&4294967295|N>>>25),N=k+(Q^_&(S^Q))+P[5]+1200080426&4294967295,k=_+(N<<12&4294967295|N>>>20),N=Q+(S^k&(_^S))+P[6]+2821735955&4294967295,Q=k+(N<<17&4294967295|N>>>15),N=S+(_^Q&(k^_))+P[7]+4249261313&4294967295,S=Q+(N<<22&4294967295|N>>>10),N=_+(k^S&(Q^k))+P[8]+1770035416&4294967295,_=S+(N<<7&4294967295|N>>>25),N=k+(Q^_&(S^Q))+P[9]+2336552879&4294967295,k=_+(N<<12&4294967295|N>>>20),N=Q+(S^k&(_^S))+P[10]+4294925233&4294967295,Q=k+(N<<17&4294967295|N>>>15),N=S+(_^Q&(k^_))+P[11]+2304563134&4294967295,S=Q+(N<<22&4294967295|N>>>10),N=_+(k^S&(Q^k))+P[12]+1804603682&4294967295,_=S+(N<<7&4294967295|N>>>25),N=k+(Q^_&(S^Q))+P[13]+4254626195&4294967295,k=_+(N<<12&4294967295|N>>>20),N=Q+(S^k&(_^S))+P[14]+2792965006&4294967295,Q=k+(N<<17&4294967295|N>>>15),N=S+(_^Q&(k^_))+P[15]+1236535329&4294967295,S=Q+(N<<22&4294967295|N>>>10),N=_+(Q^k&(S^Q))+P[1]+4129170786&4294967295,_=S+(N<<5&4294967295|N>>>27),N=k+(S^Q&(_^S))+P[6]+3225465664&4294967295,k=_+(N<<9&4294967295|N>>>23),N=Q+(_^S&(k^_))+P[11]+643717713&4294967295,Q=k+(N<<14&4294967295|N>>>18),N=S+(k^_&(Q^k))+P[0]+3921069994&4294967295,S=Q+(N<<20&4294967295|N>>>12),N=_+(Q^k&(S^Q))+P[5]+3593408605&4294967295,_=S+(N<<5&4294967295|N>>>27),N=k+(S^Q&(_^S))+P[10]+38016083&4294967295,k=_+(N<<9&4294967295|N>>>23),N=Q+(_^S&(k^_))+P[15]+3634488961&4294967295,Q=k+(N<<14&4294967295|N>>>18),N=S+(k^_&(Q^k))+P[4]+3889429448&4294967295,S=Q+(N<<20&4294967295|N>>>12),N=_+(Q^k&(S^Q))+P[9]+568446438&4294967295,_=S+(N<<5&4294967295|N>>>27),N=k+(S^Q&(_^S))+P[14]+3275163606&4294967295,k=_+(N<<9&4294967295|N>>>23),N=Q+(_^S&(k^_))+P[3]+4107603335&4294967295,Q=k+(N<<14&4294967295|N>>>18),N=S+(k^_&(Q^k))+P[8]+1163531501&4294967295,S=Q+(N<<20&4294967295|N>>>12),N=_+(Q^k&(S^Q))+P[13]+2850285829&4294967295,_=S+(N<<5&4294967295|N>>>27),N=k+(S^Q&(_^S))+P[2]+4243563512&4294967295,k=_+(N<<9&4294967295|N>>>23),N=Q+(_^S&(k^_))+P[7]+1735328473&4294967295,Q=k+(N<<14&4294967295|N>>>18),N=S+(k^_&(Q^k))+P[12]+2368359562&4294967295,S=Q+(N<<20&4294967295|N>>>12),N=_+(S^Q^k)+P[5]+4294588738&4294967295,_=S+(N<<4&4294967295|N>>>28),N=k+(_^S^Q)+P[8]+2272392833&4294967295,k=_+(N<<11&4294967295|N>>>21),N=Q+(k^_^S)+P[11]+1839030562&4294967295,Q=k+(N<<16&4294967295|N>>>16),N=S+(Q^k^_)+P[14]+4259657740&4294967295,S=Q+(N<<23&4294967295|N>>>9),N=_+(S^Q^k)+P[1]+2763975236&4294967295,_=S+(N<<4&4294967295|N>>>28),N=k+(_^S^Q)+P[4]+1272893353&4294967295,k=_+(N<<11&4294967295|N>>>21),N=Q+(k^_^S)+P[7]+4139469664&4294967295,Q=k+(N<<16&4294967295|N>>>16),N=S+(Q^k^_)+P[10]+3200236656&4294967295,S=Q+(N<<23&4294967295|N>>>9),N=_+(S^Q^k)+P[13]+681279174&4294967295,_=S+(N<<4&4294967295|N>>>28),N=k+(_^S^Q)+P[0]+3936430074&4294967295,k=_+(N<<11&4294967295|N>>>21),N=Q+(k^_^S)+P[3]+3572445317&4294967295,Q=k+(N<<16&4294967295|N>>>16),N=S+(Q^k^_)+P[6]+76029189&4294967295,S=Q+(N<<23&4294967295|N>>>9),N=_+(S^Q^k)+P[9]+3654602809&4294967295,_=S+(N<<4&4294967295|N>>>28),N=k+(_^S^Q)+P[12]+3873151461&4294967295,k=_+(N<<11&4294967295|N>>>21),N=Q+(k^_^S)+P[15]+530742520&4294967295,Q=k+(N<<16&4294967295|N>>>16),N=S+(Q^k^_)+P[2]+3299628645&4294967295,S=Q+(N<<23&4294967295|N>>>9),N=_+(Q^(S|~k))+P[0]+4096336452&4294967295,_=S+(N<<6&4294967295|N>>>26),N=k+(S^(_|~Q))+P[7]+1126891415&4294967295,k=_+(N<<10&4294967295|N>>>22),N=Q+(_^(k|~S))+P[14]+2878612391&4294967295,Q=k+(N<<15&4294967295|N>>>17),N=S+(k^(Q|~_))+P[5]+4237533241&4294967295,S=Q+(N<<21&4294967295|N>>>11),N=_+(Q^(S|~k))+P[12]+1700485571&4294967295,_=S+(N<<6&4294967295|N>>>26),N=k+(S^(_|~Q))+P[3]+2399980690&4294967295,k=_+(N<<10&4294967295|N>>>22),N=Q+(_^(k|~S))+P[10]+4293915773&4294967295,Q=k+(N<<15&4294967295|N>>>17),N=S+(k^(Q|~_))+P[1]+2240044497&4294967295,S=Q+(N<<21&4294967295|N>>>11),N=_+(Q^(S|~k))+P[8]+1873313359&4294967295,_=S+(N<<6&4294967295|N>>>26),N=k+(S^(_|~Q))+P[15]+4264355552&4294967295,k=_+(N<<10&4294967295|N>>>22),N=Q+(_^(k|~S))+P[6]+2734768916&4294967295,Q=k+(N<<15&4294967295|N>>>17),N=S+(k^(Q|~_))+P[13]+1309151649&4294967295,S=Q+(N<<21&4294967295|N>>>11),N=_+(Q^(S|~k))+P[4]+4149444226&4294967295,_=S+(N<<6&4294967295|N>>>26),N=k+(S^(_|~Q))+P[11]+3174756917&4294967295,k=_+(N<<10&4294967295|N>>>22),N=Q+(_^(k|~S))+P[2]+718787259&4294967295,Q=k+(N<<15&4294967295|N>>>17),N=S+(k^(Q|~_))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(Q+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+Q&4294967295,C.g[3]=C.g[3]+k&4294967295}n.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var S=_-this.blockSize,P=this.B,Q=this.h,k=0;k<_;){if(Q==0)for(;k<=S;)i(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<_;)if(P[Q++]=C.charCodeAt(k++),Q==this.blockSize){i(this,P),Q=0;break}}else for(;k<_;)if(P[Q++]=C[k++],Q==this.blockSize){i(this,P),Q=0;break}}this.h=Q,this.o+=_},n.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var S=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=S&255,S/=256;for(this.u(C),C=Array(16),_=S=0;4>_;++_)for(var P=0;32>P;P+=8)C[S++]=this.g[_]>>>P&255;return C};function s(C,_){var S=o;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=_(C)}function a(C,_){this.h=_;for(var S=[],P=!0,Q=C.length-1;0<=Q;Q--){var k=C[Q]|0;P&&k==_||(S[Q]=k,P=!1)}this.g=S}var o={};function A(C){return-128<=C&&128>C?s(C,function(_){return new a([_|0],0>_?-1:0)}):new a([C|0],0>C?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return v(l(-C));for(var _=[],S=1,P=0;C>=S;P++)_[P]=C/S|0,S*=4294967296;return new a(_,0)}function u(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return v(u(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=l(Math.pow(_,8)),P=d,Q=0;Q<C.length;Q+=8){var k=Math.min(8,C.length-Q),N=parseInt(C.substring(Q,Q+k),_);8>k?(k=l(Math.pow(_,k)),P=P.j(k).add(l(N))):(P=P.j(S),P=P.add(l(N)))}return P}var d=A(0),f=A(1),g=A(16777216);t=a.prototype,t.m=function(){if(m(this))return-v(this).m();for(var C=0,_=1,S=0;S<this.g.length;S++){var P=this.i(S);C+=(0<=P?P:4294967296+P)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(p(this))return"0";if(m(this))return"-"+v(this).toString(C);for(var _=l(Math.pow(C,6)),S=this,P="";;){var Q=I(S,_).g;S=y(S,Q.j(_));var k=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=Q,p(S))return k+P;for(;6>k.length;)k="0"+k;P=k+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function p(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function m(C){return C.h==-1}t.l=function(C){return C=y(this,C),m(C)?-1:p(C)?0:1};function v(C){for(var _=C.g.length,S=[],P=0;P<_;P++)S[P]=~C.g[P];return new a(S,~C.h).add(f)}t.abs=function(){return m(this)?v(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0,Q=0;Q<=_;Q++){var k=P+(this.i(Q)&65535)+(C.i(Q)&65535),N=(k>>>16)+(this.i(Q)>>>16)+(C.i(Q)>>>16);P=N>>>16,k&=65535,N&=65535,S[Q]=N<<16|k}return new a(S,S[S.length-1]&-2147483648?-1:0)};function y(C,_){return C.add(v(_))}t.j=function(C){if(p(this)||p(C))return d;if(m(this))return m(C)?v(this).j(v(C)):v(v(this).j(C));if(m(C))return v(this.j(v(C)));if(0>this.l(g)&&0>C.l(g))return l(this.m()*C.m());for(var _=this.g.length+C.g.length,S=[],P=0;P<2*_;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var Q=0;Q<C.g.length;Q++){var k=this.i(P)>>>16,N=this.i(P)&65535,oe=C.i(Q)>>>16,xe=C.i(Q)&65535;S[2*P+2*Q]+=N*xe,w(S,2*P+2*Q),S[2*P+2*Q+1]+=k*xe,w(S,2*P+2*Q+1),S[2*P+2*Q+1]+=N*oe,w(S,2*P+2*Q+1),S[2*P+2*Q+2]+=k*oe,w(S,2*P+2*Q+2)}for(P=0;P<_;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=_;P<2*_;P++)S[P]=0;return new a(S,0)};function w(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function B(C,_){this.g=C,this.h=_}function I(C,_){if(p(_))throw Error("division by zero");if(p(C))return new B(d,d);if(m(C))return _=I(v(C),_),new B(v(_.g),v(_.h));if(m(_))return _=I(C,v(_)),new B(v(_.g),_.h);if(30<C.g.length){if(m(C)||m(_))throw Error("slowDivide_ only works with positive integers.");for(var S=f,P=_;0>=P.l(C);)S=T(S),P=T(P);var Q=F(S,1),k=F(P,1);for(P=F(P,2),S=F(S,2);!p(P);){var N=k.add(P);0>=N.l(C)&&(Q=Q.add(S),k=N),P=F(P,1),S=F(S,1)}return _=y(C,Q.j(_)),new B(Q,_)}for(Q=d;0<=C.l(_);){for(S=Math.max(1,Math.floor(C.m()/_.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),k=l(S),N=k.j(_);m(N)||0<N.l(C);)S-=P,k=l(S),N=k.j(_);p(k)&&(k=f),Q=Q.add(k),C=y(C,N)}return new B(Q,C)}t.A=function(C){return I(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0;P<_;P++)S[P]=this.i(P)&C.i(P);return new a(S,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0;P<_;P++)S[P]=this.i(P)|C.i(P);return new a(S,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0;P<_;P++)S[P]=this.i(P)^C.i(P);return new a(S,this.h^C.h)};function T(C){for(var _=C.g.length+1,S=[],P=0;P<_;P++)S[P]=C.i(P)<<1|C.i(P-1)>>>31;return new a(S,C.h)}function F(C,_){var S=_>>5;_%=32;for(var P=C.g.length-S,Q=[],k=0;k<P;k++)Q[k]=0<_?C.i(k+S)>>>_|C.i(k+S+1)<<32-_:C.i(k+S);return new a(Q,C.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,eO=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=u,Xo=a}).apply(typeof qS<"u"?qS:typeof self<"u"?self:typeof window<"u"?window:{});var Qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tO,Dc,rO,Mg,jx,nO,iO,sO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,b,E){return h==Array.prototype||h==Object.prototype||(h[b]=E.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qh=="object"&&Qh];for(var b=0;b<h.length;++b){var E=h[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=r(this);function i(h,b){if(b)e:{var E=n;h=h.split(".");for(var U=0;U<h.length-1;U++){var H=h[U];if(!(H in E))break e;E=E[H]}h=h[h.length-1],U=E[h],b=b(U),b!=U&&b!=null&&e(E,h,{configurable:!0,writable:!0,value:b})}}function s(h,b){h instanceof String&&(h+="");var E=0,U=!1,H={next:function(){if(!U&&E<h.length){var z=E++;return{value:b(z,h[z]),done:!1}}return U=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(h){return h||function(){return s(this,function(b,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function A(h){var b=typeof h;return b=b!="object"?b:h?Array.isArray(h)?"array":b:"null",b=="array"||b=="object"&&typeof h.length=="number"}function l(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function u(h,b,E){return h.call.apply(h.bind,arguments)}function d(h,b,E){if(!h)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,U),h.apply(b,H)}}return function(){return h.apply(b,arguments)}}function f(h,b,E){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,f.apply(null,arguments)}function g(h,b){var E=Array.prototype.slice.call(arguments,1);return function(){var U=E.slice();return U.push.apply(U,arguments),h.apply(this,U)}}function p(h,b){function E(){}E.prototype=b.prototype,h.aa=b.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(U,H,z){for(var ae=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)ae[rt-2]=arguments[rt];return b.prototype[H].apply(U,ae)}}function m(h){const b=h.length;if(0<b){const E=Array(b);for(let U=0;U<b;U++)E[U]=h[U];return E}return[]}function v(h,b){for(let E=1;E<arguments.length;E++){const U=arguments[E];if(A(U)){const H=h.length||0,z=U.length||0;h.length=H+z;for(let ae=0;ae<z;ae++)h[H+ae]=U[ae]}else h.push(U)}}class y{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function w(h){return/^[\s\xa0]*$/.test(h)}function B(){var h=o.navigator;return h&&(h=h.userAgent)?h:""}function I(h){return I[" "](h),h}I[" "]=function(){};var T=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function F(h,b,E){for(const U in h)b.call(E,h[U],U,h)}function C(h,b){for(const E in h)b.call(void 0,h[E],E,h)}function _(h){const b={};for(const E in h)b[E]=h[E];return b}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,b){let E,U;for(let H=1;H<arguments.length;H++){U=arguments[H];for(E in U)h[E]=U[E];for(let z=0;z<S.length;z++)E=S[z],Object.prototype.hasOwnProperty.call(U,E)&&(h[E]=U[E])}}function Q(h){var b=1;h=h.split(":");const E=[];for(;0<b&&h.length;)E.push(h.shift()),b--;return h.length&&E.push(h.join(":")),E}function k(h){o.setTimeout(()=>{throw h},0)}function N(){var h=se;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class oe{constructor(){this.h=this.g=null}add(b,E){const U=xe.get();U.set(b,E),this.h?this.h.next=U:this.g=U,this.h=U}}var xe=new y(()=>new pe,h=>h.reset());class pe{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let me,q=!1,se=new oe,ue=()=>{const h=o.Promise.resolve(void 0);me=()=>{h.then(Se)}};var Se=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(E){k(E)}var b=xe;b.j(h),100>b.h&&(b.h++,h.next=b.g,b.g=h)}q=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ue(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}Ue.prototype.h=function(){this.defaultPrevented=!0};var Ye=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};o.addEventListener("test",E,b),o.removeEventListener("test",E,b)}catch{}return h}();function D(h,b){if(Ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,U=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget){if(T){e:{try{I(b.nodeName);var H=!0;break e}catch{}H=!1}H||(b=null)}}else E=="mouseover"?b=h.fromElement:E=="mouseout"&&(b=h.toElement);this.relatedTarget=b,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:V[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&D.aa.h.call(this)}}p(D,Ue);var V={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),Y=0;function M(h,b,E,U,H){this.listener=h,this.proxy=null,this.src=b,this.type=E,this.capture=!!U,this.ha=H,this.key=++Y,this.da=this.fa=!1}function $(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function W(h){this.src=h,this.g={},this.h=0}W.prototype.add=function(h,b,E,U,H){var z=h.toString();h=this.g[z],h||(h=this.g[z]=[],this.h++);var ae=be(h,b,U,H);return-1<ae?(b=h[ae],E||(b.fa=!1)):(b=new M(b,this.src,z,!!U,H),b.fa=E,h.push(b)),b};function L(h,b){var E=b.type;if(E in h.g){var U=h.g[E],H=Array.prototype.indexOf.call(U,b,void 0),z;(z=0<=H)&&Array.prototype.splice.call(U,H,1),z&&($(b),h.g[E].length==0&&(delete h.g[E],h.h--))}}function be(h,b,E,U){for(var H=0;H<h.length;++H){var z=h[H];if(!z.da&&z.listener==b&&z.capture==!!E&&z.ha==U)return H}return-1}var Be="closure_lm_"+(1e6*Math.random()|0),Ne={};function Ve(h,b,E,U,H){if(Array.isArray(b)){for(var z=0;z<b.length;z++)Ve(h,b[z],E,U,H);return null}return E=Jf(E),h&&h[j]?h.K(b,E,l(U)?!!U.capture:!1,H):nr(h,b,E,!1,U,H)}function nr(h,b,E,U,H,z){if(!b)throw Error("Invalid event type");var ae=l(H)?!!H.capture:!!H,rt=kA(h);if(rt||(h[Be]=rt=new W(h)),E=rt.add(b,E,U,ae,z),E.proxy)return E;if(U=Gi(),E.proxy=U,U.src=h,U.listener=E,h.addEventListener)Ye||(H=ae),H===void 0&&(H=!1),h.addEventListener(b.toString(),U,H);else if(h.attachEvent)h.attachEvent(wo(b.toString()),U);else if(h.addListener&&h.removeListener)h.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Gi(){function h(E){return b.call(h.src,h.listener,E)}const b=Lu;return h}function Mu(h,b,E,U,H){if(Array.isArray(b))for(var z=0;z<b.length;z++)Mu(h,b[z],E,U,H);else U=l(U)?!!U.capture:!!U,E=Jf(E),h&&h[j]?(h=h.i,b=String(b).toString(),b in h.g&&(z=h.g[b],E=be(z,E,U,H),-1<E&&($(z[E]),Array.prototype.splice.call(z,E,1),z.length==0&&(delete h.g[b],h.h--)))):h&&(h=kA(h))&&(b=h.g[b.toString()],h=-1,b&&(h=be(b,E,U,H)),(E=-1<h?b[h]:null)&&zs(E))}function zs(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[j])L(b.i,h);else{var E=h.type,U=h.proxy;b.removeEventListener?b.removeEventListener(E,U,h.capture):b.detachEvent?b.detachEvent(wo(E),U):b.addListener&&b.removeListener&&b.removeListener(U),(E=kA(b))?(L(E,h),E.h==0&&(E.src=null,b[Be]=null)):$(h)}}}function wo(h){return h in Ne?Ne[h]:Ne[h]="on"+h}function Lu(h,b){if(h.da)h=!0;else{b=new D(b,this);var E=h.listener,U=h.ha||h.src;h.fa&&zs(h),h=E.call(U,b)}return h}function kA(h){return h=h[Be],h instanceof W?h:null}var Hu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jf(h){return typeof h=="function"?h:(h[Hu]||(h[Hu]=function(b){return h.handleEvent(b)}),h[Hu])}function ir(){ie.call(this),this.i=new W(this),this.M=this,this.F=null}p(ir,ie),ir.prototype[j]=!0,ir.prototype.removeEventListener=function(h,b,E,U){Mu(this,h,b,E,U)};function fr(h,b){var E,U=h.F;if(U)for(E=[];U;U=U.F)E.push(U);if(h=h.M,U=b.type||b,typeof b=="string")b=new Ue(b,h);else if(b instanceof Ue)b.target=b.target||h;else{var H=b;b=new Ue(U,h),P(b,H)}if(H=!0,E)for(var z=E.length-1;0<=z;z--){var ae=b.g=E[z];H=OA(ae,U,!0,b)&&H}if(ae=b.g=h,H=OA(ae,U,!0,b)&&H,H=OA(ae,U,!1,b)&&H,E)for(z=0;z<E.length;z++)ae=b.g=E[z],H=OA(ae,U,!1,b)&&H}ir.prototype.N=function(){if(ir.aa.N.call(this),this.i){var h=this.i,b;for(b in h.g){for(var E=h.g[b],U=0;U<E.length;U++)$(E[U]);delete h.g[b],h.h--}}this.F=null},ir.prototype.K=function(h,b,E,U){return this.i.add(String(h),b,!1,E,U)},ir.prototype.L=function(h,b,E,U){return this.i.add(String(h),b,!0,E,U)};function OA(h,b,E,U){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();for(var H=!0,z=0;z<b.length;++z){var ae=b[z];if(ae&&!ae.da&&ae.capture==E){var rt=ae.listener,hr=ae.ha||ae.src;ae.fa&&L(h.i,ae),H=rt.call(hr,U)!==!1&&H}}return H&&!U.defaultPrevented}function Zf(h,b,E){if(typeof h=="function")E&&(h=f(h,E));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:o.setTimeout(h,b||0)}function eh(h){h.g=Zf(()=>{h.g=null,h.i&&(h.i=!1,eh(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class zv extends ie{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:eh(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zi(h){ie.call(this),this.h=h,this.g={}}p(zi,ie);var at=[];function th(h){F(h.g,function(b,E){this.g.hasOwnProperty(E)&&zs(b)},h),h.g={}}zi.prototype.N=function(){zi.aa.N.call(this),th(this)},zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vu=o.JSON.stringify,rh=o.JSON.parse,DA=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function Ku(){}Ku.prototype.h=null;function nh(h){return h.h||(h.h=h.i())}function ih(){}var Ws={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $u(){Ue.call(this,"d")}p($u,Ue);function Gu(){Ue.call(this,"c")}p(Gu,Ue);var Wi={},O=null;function R(){return O=O||new ir}Wi.La="serverreachability";function J(h){Ue.call(this,Wi.La,h)}p(J,Ue);function ee(h){const b=R();fr(b,new J(b))}Wi.STAT_EVENT="statevent";function Z(h,b){Ue.call(this,Wi.STAT_EVENT,h),this.stat=b}p(Z,Ue);function ne(h){const b=R();fr(b,new Z(b,h))}Wi.Ma="timingevent";function Ie(h,b){Ue.call(this,Wi.Ma,h),this.size=b}p(Ie,Ue);function Oe(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},b)}function Qe(){this.g=!0}Qe.prototype.xa=function(){this.g=!1};function Pe(h,b,E,U,H,z){h.info(function(){if(h.g)if(z)for(var ae="",rt=z.split("&"),hr=0;hr<rt.length;hr++){var $e=rt[hr].split("=");if(1<$e.length){var _r=$e[0];$e=$e[1];var Ir=_r.split("_");ae=2<=Ir.length&&Ir[1]=="type"?ae+(_r+"="+$e+"&"):ae+(_r+"=redacted&")}}else ae=null;else ae=z;return"XMLHTTP REQ ("+U+") [attempt "+H+"]: "+b+`
`+E+`
`+ae})}function Ct(h,b,E,U,H,z,ae){h.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+H+"]: "+b+`
`+E+`
`+z+" "+ae})}function Er(h,b,E,U){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+Qn(h,E)+(U?" "+U:"")})}function Ft(h,b){h.info(function(){return"TIMEOUT: "+b})}Qe.prototype.info=function(){};function Qn(h,b){if(!h.g)return b;if(!b)return null;try{var E=JSON.parse(b);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var U=E[h];if(!(2>U.length)){var H=U[1];if(Array.isArray(H)&&!(1>H.length)){var z=H[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ae=1;ae<H.length;ae++)H[ae]=""}}}}return Vu(E)}catch{return b}}var Yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},un={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zu;function Bi(){}p(Bi,Ku),Bi.prototype.g=function(){return new XMLHttpRequest},Bi.prototype.i=function(){return{}},zu=new Bi;function Gt(h,b,E,U){this.j=h,this.i=b,this.l=E,this.R=U||1,this.U=new zi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wu}function Wu(){this.i=null,this.g="",this.h=!1}var Yu={},Xu={};function Wv(h,b,E){h.L=1,h.v=Ah(Xi(b)),h.m=E,h.P=!0,M_(h,null)}function M_(h,b){h.F=Date.now(),sh(h),h.A=Xi(h.v);var E=h.A,U=h.R;Array.isArray(U)||(U=[String(U)]),eI(E.i,"t",U),h.C=0,E=h.j.J,h.h=new Wu,h.g=vI(h.j,E?b:null,!h.m),0<h.O&&(h.M=new zv(f(h.Y,h,h.g),h.O)),b=h.U,E=h.g,U=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(at[0]=H.toString()),H=at);for(var z=0;z<H.length;z++){var ae=Ve(E,H[z],U||b.handleEvent,!1,b.h||b);if(!ae)break;b.g[ae.key]=ae}b=h.H?_(h.H):{},h.m?(h.u||(h.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,b)):(h.u="GET",h.g.ea(h.A,h.u,null,b)),ee(),Pe(h.i,h.u,h.A,h.l,h.R,h.m)}Gt.prototype.ca=function(h){h=h.target;const b=this.M;b&&qi(h)==3?b.j():this.Y(h)},Gt.prototype.Y=function(h){try{if(h==this.g)e:{const Ir=qi(this.g);var b=this.g.Ba();const MA=this.g.Z();if(!(3>Ir)&&(Ir!=3||this.g&&(this.h.h||this.g.oa()||oI(this.g)))){this.J||Ir!=4||b==7||(b==8||0>=MA?ee(3):ee(2)),Yv(this);var E=this.g.Z();this.X=E;t:if(L_(this)){var U=oI(this.g);h="";var H=U.length,z=qi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xo(this),qu(this);var ae="";break t}this.h.i=new o.TextDecoder}for(b=0;b<H;b++)this.h.h=!0,h+=this.h.i.decode(U[b],{stream:!(z&&b==H-1)});U.length=0,this.h.g+=h,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=E==200,Ct(this.i,this.u,this.A,this.l,this.R,Ir,E),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,hr=this.g;if((rt=hr.g?hr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(rt)){var $e=rt;break t}}$e=null}if(E=$e)Er(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xv(this,E);else{this.o=!1,this.s=3,ne(12),xo(this),qu(this);break e}}if(this.P){E=!0;let ai;for(;!this.J&&this.C<ae.length;)if(ai=pH(this,ae),ai==Xu){Ir==4&&(this.s=4,ne(14),E=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(ai==Yu){this.s=4,ne(15),Er(this.i,this.l,ae,"[Invalid Chunk]"),E=!1;break}else Er(this.i,this.l,ai,null),Xv(this,ai);if(L_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ir!=4||ae.length!=0||this.h.h||(this.s=1,ne(16),E=!1),this.o=this.o&&E,!E)Er(this.i,this.l,ae,"[Invalid Chunked Response]"),xo(this),qu(this);else if(0<ae.length&&!this.W){this.W=!0;var _r=this.j;_r.g==this&&_r.ba&&!_r.M&&(_r.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),ry(_r),_r.M=!0,ne(11))}}else Er(this.i,this.l,ae,null),Xv(this,ae);Ir==4&&xo(this),this.o&&!this.J&&(Ir==4?hI(this.j,this):(this.o=!1,sh(this)))}else NH(this.g),E==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),xo(this),qu(this)}}}catch{}finally{}};function L_(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function pH(h,b){var E=h.C,U=b.indexOf(`
`,E);return U==-1?Xu:(E=Number(b.substring(E,U)),isNaN(E)?Yu:(U+=1,U+E>b.length?Xu:(b=b.slice(U,U+E),h.C=U+E,b)))}Gt.prototype.cancel=function(){this.J=!0,xo(this)};function sh(h){h.S=Date.now()+h.I,H_(h,h.I)}function H_(h,b){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Oe(f(h.ba,h),b)}function Yv(h){h.B&&(o.clearTimeout(h.B),h.B=null)}Gt.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ft(this.i,this.A),this.L!=2&&(ee(),ne(17)),xo(this),this.s=2,qu(this)):H_(this,this.S-h)};function qu(h){h.j.G==0||h.J||hI(h.j,h)}function xo(h){Yv(h);var b=h.M;b&&typeof b.ma=="function"&&b.ma(),h.M=null,th(h.U),h.g&&(b=h.g,h.g=null,b.abort(),b.ma())}function Xv(h,b){try{var E=h.j;if(E.G!=0&&(E.g==h||qv(E.h,h))){if(!h.K&&qv(E.h,h)&&E.G==3){try{var U=E.Da.g.parse(b)}catch{U=null}if(Array.isArray(U)&&U.length==3){var H=U;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)hh(E),dh(E);else break e;ty(E),ne(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=Oe(f(E.Za,E),6e3));if(1>=$_(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Bo(E,11)}else if((h.K||E.g==h)&&hh(E),!w(b))for(H=E.Da.g.parse(b),b=0;b<H.length;b++){let $e=H[b];if(E.T=$e[0],$e=$e[1],E.G==2)if($e[0]=="c"){E.K=$e[1],E.ia=$e[2];const _r=$e[3];_r!=null&&(E.la=_r,E.j.info("VER="+E.la));const Ir=$e[4];Ir!=null&&(E.Aa=Ir,E.j.info("SVER="+E.Aa));const MA=$e[5];MA!=null&&typeof MA=="number"&&0<MA&&(U=1.5*MA,E.L=U,E.j.info("backChannelRequestTimeoutMs_="+U)),U=E;const ai=h.g;if(ai){const ph=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ph){var z=U.h;z.g||ph.indexOf("spdy")==-1&&ph.indexOf("quic")==-1&&ph.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Jv(z,z.h),z.h=null))}if(U.D){const ny=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;ny&&(U.ya=ny,ut(U.I,U.D,ny))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),U=E;var ae=h;if(U.qa=mI(U,U.J?U.ia:null,U.W),ae.K){G_(U.h,ae);var rt=ae,hr=U.L;hr&&(rt.I=hr),rt.B&&(Yv(rt),sh(rt)),U.g=ae}else dI(U);0<E.i.length&&fh(E)}else $e[0]!="stop"&&$e[0]!="close"||Bo(E,7);else E.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Bo(E,7):ey(E):$e[0]!="noop"&&E.l&&E.l.ta($e),E.v=0)}}ee(4)}catch{}}var mH=class{constructor(h,b){this.g=h,this.map=b}};function V_(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function K_(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $_(h){return h.h?1:h.g?h.g.size:0}function qv(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function Jv(h,b){h.g?h.g.add(b):h.h=b}function G_(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}V_.prototype.cancel=function(){if(this.i=z_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function z_(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const E of h.g.values())b=b.concat(E.D);return b}return m(h.i)}function vH(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(A(h)){for(var b=[],E=h.length,U=0;U<E;U++)b.push(h[U]);return b}b=[],E=0;for(U in h)b[E++]=h[U];return b}function yH(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(A(h)||typeof h=="string"){var b=[];h=h.length;for(var E=0;E<h;E++)b.push(E);return b}b=[],E=0;for(const U in h)b[E++]=U;return b}}}function W_(h,b){if(h.forEach&&typeof h.forEach=="function")h.forEach(b,void 0);else if(A(h)||typeof h=="string")Array.prototype.forEach.call(h,b,void 0);else for(var E=yH(h),U=vH(h),H=U.length,z=0;z<H;z++)b.call(void 0,U[z],E&&E[z],h)}var Y_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wH(h,b){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var U=h[E].indexOf("="),H=null;if(0<=U){var z=h[E].substring(0,U);H=h[E].substring(U+1)}else z=h[E];b(z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function bo(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof bo){this.h=h.h,ah(this,h.j),this.o=h.o,this.g=h.g,oh(this,h.s),this.l=h.l;var b=h.i,E=new ec;E.i=b.i,b.g&&(E.g=new Map(b.g),E.h=b.h),X_(this,E),this.m=h.m}else h&&(b=String(h).match(Y_))?(this.h=!1,ah(this,b[1]||"",!0),this.o=Ju(b[2]||""),this.g=Ju(b[3]||"",!0),oh(this,b[4]),this.l=Ju(b[5]||"",!0),X_(this,b[6]||"",!0),this.m=Ju(b[7]||"")):(this.h=!1,this.i=new ec(null,this.h))}bo.prototype.toString=function(){var h=[],b=this.j;b&&h.push(Zu(b,q_,!0),":");var E=this.g;return(E||b=="file")&&(h.push("//"),(b=this.o)&&h.push(Zu(b,q_,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Zu(E,E.charAt(0)=="/"?BH:bH,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Zu(E,EH)),h.join("")};function Xi(h){return new bo(h)}function ah(h,b,E){h.j=E?Ju(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function oh(h,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);h.s=b}else h.s=null}function X_(h,b,E){b instanceof ec?(h.i=b,_H(h.i,h.h)):(E||(b=Zu(b,CH)),h.i=new ec(b,h.h))}function ut(h,b,E){h.i.set(b,E)}function Ah(h){return ut(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ju(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Zu(h,b,E){return typeof h=="string"?(h=encodeURI(h).replace(b,xH),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function xH(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var q_=/[#\/\?@]/g,bH=/[#\?:]/g,BH=/[#\?]/g,CH=/[#\?@]/g,EH=/#/g;function ec(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function Ys(h){h.g||(h.g=new Map,h.h=0,h.i&&wH(h.i,function(b,E){h.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}t=ec.prototype,t.add=function(h,b){Ys(this),this.i=null,h=jA(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(b),this.h+=1,this};function J_(h,b){Ys(h),b=jA(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function Z_(h,b){return Ys(h),b=jA(h,b),h.g.has(b)}t.forEach=function(h,b){Ys(this),this.g.forEach(function(E,U){E.forEach(function(H){h.call(b,H,U,this)},this)},this)},t.na=function(){Ys(this);const h=Array.from(this.g.values()),b=Array.from(this.g.keys()),E=[];for(let U=0;U<b.length;U++){const H=h[U];for(let z=0;z<H.length;z++)E.push(b[U])}return E},t.V=function(h){Ys(this);let b=[];if(typeof h=="string")Z_(this,h)&&(b=b.concat(this.g.get(jA(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)b=b.concat(h[E])}return b},t.set=function(h,b){return Ys(this),this.i=null,h=jA(this,h),Z_(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=this.V(h),0<h.length?String(h[0]):b):b};function eI(h,b,E){J_(h,b),0<E.length&&(h.i=null,h.g.set(jA(h,b),m(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(var E=0;E<b.length;E++){var U=b[E];const z=encodeURIComponent(String(U)),ae=this.V(U);for(U=0;U<ae.length;U++){var H=z;ae[U]!==""&&(H+="="+encodeURIComponent(String(ae[U]))),h.push(H)}}return this.i=h.join("&")};function jA(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function _H(h,b){b&&!h.j&&(Ys(h),h.i=null,h.g.forEach(function(E,U){var H=U.toLowerCase();U!=H&&(J_(this,U),eI(this,H,E))},h)),h.j=b}function IH(h,b){const E=new Qe;if(o.Image){const U=new Image;U.onload=g(Xs,E,"TestLoadImage: loaded",!0,b,U),U.onerror=g(Xs,E,"TestLoadImage: error",!1,b,U),U.onabort=g(Xs,E,"TestLoadImage: abort",!1,b,U),U.ontimeout=g(Xs,E,"TestLoadImage: timeout",!1,b,U),o.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=h}else b(!1)}function SH(h,b){const E=new Qe,U=new AbortController,H=setTimeout(()=>{U.abort(),Xs(E,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:U.signal}).then(z=>{clearTimeout(H),z.ok?Xs(E,"TestPingServer: ok",!0,b):Xs(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(H),Xs(E,"TestPingServer: error",!1,b)})}function Xs(h,b,E,U,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),U(E)}catch{}}function TH(){this.g=new DA}function FH(h,b,E){const U=E||"";try{W_(h,function(H,z){let ae=H;l(H)&&(ae=Vu(H)),b.push(U+z+"="+encodeURIComponent(ae))})}catch(H){throw b.push(U+"type="+encodeURIComponent("_badmap")),H}}function lh(h){this.l=h.Ub||null,this.j=h.eb||!1}p(lh,Ku),lh.prototype.g=function(){return new uh(this.l,this.j)},lh.prototype.i=function(h){return function(){return h}}({});function uh(h,b){ir.call(this),this.D=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(uh,ir),t=uh.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=b,this.readyState=1,rc(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(b.body=h),(this.D||o).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tc(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,rc(this)),this.g&&(this.readyState=3,rc(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tI(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function tI(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?tc(this):rc(this),this.readyState==3&&tI(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,tc(this))},t.Qa=function(h){this.g&&(this.response=h,tc(this))},t.ga=function(){this.g&&tc(this)};function tc(h){h.readyState=4,h.l=null,h.j=null,h.v=null,rc(h)}t.setRequestHeader=function(h,b){this.u.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=b.next();return h.join(`\r
`)};function rc(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(uh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function rI(h){let b="";return F(h,function(E,U){b+=U,b+=":",b+=E,b+=`\r
`}),b}function Zv(h,b,E){e:{for(U in E){var U=!1;break e}U=!0}U||(E=rI(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):ut(h,b,E))}function Ut(h){ir.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(Ut,ir);var UH=/^https?$/i,PH=["POST","PUT"];t=Ut.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,b,E,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zu.g(),this.v=this.o?nh(this.o):nh(zu),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(z){nI(this,z);return}if(h=E||"",E=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var H in U)E.set(H,U[H]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const z of U.keys())E.set(z,U.get(z));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(E.keys()).find(z=>z.toLowerCase()=="content-type"),H=o.FormData&&h instanceof o.FormData,!(0<=Array.prototype.indexOf.call(PH,b,void 0))||U||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ae]of E)this.g.setRequestHeader(z,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aI(this),this.u=!0,this.g.send(h),this.u=!1}catch(z){nI(this,z)}};function nI(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.m=5,iI(h),ch(h)}function iI(h){h.A||(h.A=!0,fr(h,"complete"),fr(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,fr(this,"complete"),fr(this,"abort"),ch(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ch(this,!0)),Ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sI(this):this.bb())},t.bb=function(){sI(this)};function sI(h){if(h.h&&typeof a<"u"&&(!h.v[1]||qi(h)!=4||h.Z()!=2)){if(h.u&&qi(h)==4)Zf(h.Ea,0,h);else if(fr(h,"readystatechange"),qi(h)==4){h.h=!1;try{const ae=h.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var U;if(U=ae===0){var H=String(h.D).match(Y_)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),U=!UH.test(H?H.toLowerCase():"")}E=U}if(E)fr(h,"complete"),fr(h,"success");else{h.m=6;try{var z=2<qi(h)?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.Z()+"]",iI(h)}}finally{ch(h)}}}}function ch(h,b){if(h.g){aI(h);const E=h.g,U=h.v[0]?()=>{}:null;h.g=null,h.v=null,b||fr(h,"ready");try{E.onreadystatechange=U}catch{}}}function aI(h){h.I&&(o.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function qi(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<qi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),rh(b)}};function oI(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function NH(h){const b={};h=(h.g&&2<=qi(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<h.length;U++){if(w(h[U]))continue;var E=Q(h[U]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const z=b[H]||[];b[H]=z,z.push(E)}C(b,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function nc(h,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||b}function AI(h){this.Aa=0,this.i=[],this.j=new Qe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=nc("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=nc("baseRetryDelayMs",5e3,h),this.cb=nc("retryDelaySeedMs",1e4,h),this.Wa=nc("forwardChannelMaxRetries",2,h),this.wa=nc("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new V_(h&&h.concurrentRequestLimit),this.Da=new TH,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=AI.prototype,t.la=8,t.G=1,t.connect=function(h,b,E,U){ne(0),this.W=h,this.H=b||{},E&&U!==void 0&&(this.H.OSID=E,this.H.OAID=U),this.F=this.X,this.I=mI(this,null,this.W),fh(this)};function ey(h){if(lI(h),h.G==3){var b=h.U++,E=Xi(h.I);if(ut(E,"SID",h.K),ut(E,"RID",b),ut(E,"TYPE","terminate"),ic(h,E),b=new Gt(h,h.j,b),b.L=2,b.v=Ah(Xi(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(b.v.toString(),"")}catch{}!E&&o.Image&&(new Image().src=b.v,E=!0),E||(b.g=vI(b.j,null),b.g.ea(b.v)),b.F=Date.now(),sh(b)}pI(h)}function dh(h){h.g&&(ry(h),h.g.cancel(),h.g=null)}function lI(h){dh(h),h.u&&(o.clearTimeout(h.u),h.u=null),hh(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&o.clearTimeout(h.s),h.s=null)}function fh(h){if(!K_(h.h)&&!h.s){h.s=!0;var b=h.Ga;me||ue(),q||(me(),q=!0),se.add(b,h),h.B=0}}function QH(h,b){return $_(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=b.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Oe(f(h.Ga,h,b),gI(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new Gt(this,this.j,h);let z=this.o;if(this.S&&(z?(z=_(z),P(z,this.S)):z=this.S),this.m!==null||this.O||(H.H=z,z=null),this.P)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var U=this.i[E];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(b+=U,4096<b){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=cI(this,H,b),E=Xi(this.I),ut(E,"RID",h),ut(E,"CVER",22),this.D&&ut(E,"X-HTTP-Session-Id",this.D),ic(this,E),z&&(this.O?b="headers="+encodeURIComponent(String(rI(z)))+"&"+b:this.m&&Zv(E,this.m,z)),Jv(this.h,H),this.Ua&&ut(E,"TYPE","init"),this.P?(ut(E,"$req",b),ut(E,"SID","null"),H.T=!0,Wv(H,E,null)):Wv(H,E,b),this.G=2}}else this.G==3&&(h?uI(this,h):this.i.length==0||K_(this.h)||uI(this))};function uI(h,b){var E;b?E=b.l:E=h.U++;const U=Xi(h.I);ut(U,"SID",h.K),ut(U,"RID",E),ut(U,"AID",h.T),ic(h,U),h.m&&h.o&&Zv(U,h.m,h.o),E=new Gt(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),b&&(h.i=b.D.concat(h.i)),b=cI(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Jv(h.h,E),Wv(E,U,b)}function ic(h,b){h.H&&F(h.H,function(E,U){ut(b,U,E)}),h.l&&W_({},function(E,U){ut(b,U,E)})}function cI(h,b,E){E=Math.min(h.i.length,E);var U=h.l?f(h.l.Na,h.l,h):null;e:{var H=h.i;let z=-1;for(;;){const ae=["count="+E];z==-1?0<E?(z=H[0].g,ae.push("ofs="+z)):z=0:ae.push("ofs="+z);let rt=!0;for(let hr=0;hr<E;hr++){let $e=H[hr].g;const _r=H[hr].map;if($e-=z,0>$e)z=Math.max(0,H[hr].g-100),rt=!1;else try{FH(_r,ae,"req"+$e+"_")}catch{U&&U(_r)}}if(rt){U=ae.join("&");break e}}}return h=h.i.splice(0,E),b.D=h,U}function dI(h){if(!h.g&&!h.u){h.Y=1;var b=h.Fa;me||ue(),q||(me(),q=!0),se.add(b,h),h.v=0}}function ty(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Oe(f(h.Fa,h),gI(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,fI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Oe(f(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),dh(this),fI(this))};function ry(h){h.A!=null&&(o.clearTimeout(h.A),h.A=null)}function fI(h){h.g=new Gt(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var b=Xi(h.qa);ut(b,"RID","rpc"),ut(b,"SID",h.K),ut(b,"AID",h.T),ut(b,"CI",h.F?"0":"1"),!h.F&&h.ja&&ut(b,"TO",h.ja),ut(b,"TYPE","xmlhttp"),ic(h,b),h.m&&h.o&&Zv(b,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Ah(Xi(b)),E.m=null,E.P=!0,M_(E,h)}t.Za=function(){this.C!=null&&(this.C=null,dh(this),ty(this),ne(19))};function hh(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function hI(h,b){var E=null;if(h.g==b){hh(h),ry(h),h.g=null;var U=2}else if(qv(h.h,b))E=b.D,G_(h.h,b),U=1;else return;if(h.G!=0){if(b.o)if(U==1){E=b.m?b.m.length:0,b=Date.now()-b.F;var H=h.B;U=R(),fr(U,new Ie(U,E)),fh(h)}else dI(h);else if(H=b.s,H==3||H==0&&0<b.X||!(U==1&&QH(h,b)||U==2&&ty(h)))switch(E&&0<E.length&&(b=h.h,b.i=b.i.concat(E)),H){case 1:Bo(h,5);break;case 4:Bo(h,10);break;case 3:Bo(h,6);break;default:Bo(h,2)}}}function gI(h,b){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*b}function Bo(h,b){if(h.j.info("Error code "+b),b==2){var E=f(h.fb,h),U=h.Xa;const H=!U;U=new bo(U||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ah(U,"https"),Ah(U),H?IH(U.toString(),E):SH(U.toString(),E)}else ne(2);h.G=0,h.l&&h.l.sa(b),pI(h),lI(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function pI(h){if(h.G=0,h.ka=[],h.l){const b=z_(h.h);(b.length!=0||h.i.length!=0)&&(v(h.ka,b),v(h.ka,h.i),h.h.i.length=0,m(h.i),h.i.length=0),h.l.ra()}}function mI(h,b,E){var U=E instanceof bo?Xi(E):new bo(E);if(U.g!="")b&&(U.g=b+"."+U.g),oh(U,U.s);else{var H=o.location;U=H.protocol,b=b?b+"."+H.hostname:H.hostname,H=+H.port;var z=new bo(null);U&&ah(z,U),b&&(z.g=b),H&&oh(z,H),E&&(z.l=E),U=z}return E=h.D,b=h.ya,E&&b&&ut(U,E,b),ut(U,"VER",h.la),ic(h,U),U}function vI(h,b,E){if(b&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Ca&&!h.pa?new Ut(new lh({eb:E})):new Ut(h.pa),b.Ha(h.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yI(){}t=yI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gh(){}gh.prototype.g=function(h,b){return new cn(h,b)};function cn(h,b){ir.call(this),this.g=new AI(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(h?h["X-WebChannel-Client-Profile"]=b.va:h={"X-WebChannel-Client-Profile":b.va}),this.g.S=h,(h=b&&b.Sb)&&!w(h)&&(this.g.m=h),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!w(b)&&(this.g.D=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new RA(this)}p(cn,ir),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){ey(this.g)},cn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Vu(h),h=E);b.i.push(new mH(b.Ya++,h)),b.G==3&&fh(b)},cn.prototype.N=function(){this.g.l=null,delete this.j,ey(this.g),delete this.g,cn.aa.N.call(this)};function wI(h){$u.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const E in b){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}p(wI,$u);function xI(){Gu.call(this),this.status=1}p(xI,Gu);function RA(h){this.g=h}p(RA,yI),RA.prototype.ua=function(){fr(this.g,"a")},RA.prototype.ta=function(h){fr(this.g,new wI(h))},RA.prototype.sa=function(h){fr(this.g,new xI)},RA.prototype.ra=function(){fr(this.g,"b")},gh.prototype.createWebChannel=gh.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,sO=function(){return new gh},iO=function(){return R()},nO=Wi,jx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,Mg=Yi,un.COMPLETE="complete",rO=un,ih.EventType=Ws,Ws.OPEN="a",Ws.CLOSE="b",Ws.ERROR="c",Ws.MESSAGE="d",ir.prototype.listen=ir.prototype.K,Dc=ih,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,tO=Ut}).apply(typeof Qh<"u"?Qh:typeof self<"u"?self:typeof window<"u"?window:{});const JS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=new EC("@firebase/firestore");function tl(){return cA.logLevel}function te(t,...e){if(cA.logLevel<=Re.DEBUG){const r=e.map(SC);cA.debug(`Firestore (${Bu}): ${t}`,...r)}}function Hr(t,...e){if(cA.logLevel<=Re.ERROR){const r=e.map(SC);cA.error(`Firestore (${Bu}): ${t}`,...r)}}function za(t,...e){if(cA.logLevel<=Re.WARN){const r=e.map(SC);cA.warn(`Firestore (${Bu}): ${t}`,...r)}}function SC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${Bu}) INTERNAL ASSERTION FAILED: `+t;throw Hr(e),new Error(e)}function we(t,e){t||ve()}function Te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ms{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(vr.UNAUTHENTICATED))}shutdown(){}}class z8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class W8{constructor(e){this.t=e,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){we(this.o===void 0);let n=this.i;const i=A=>this.i!==n?(n=this.i,r(A)):Promise.resolve();let s=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Oi,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const A=s;e.enqueueRetryable(async()=>{await A.promise,await i(this.currentUser)})},o=A=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(A=>o(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?o(A):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Oi)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(we(typeof n.accessToken=="string"),new aO(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new vr(e)}}class Y8{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=vr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class X8{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new Y8(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){we(this.o===void 0);const n=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(we(typeof r.token=="string"),this.R=r.token,new q8(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=Z8(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function Fe(t,e){return t<e?-1:t>e?1:0}function Wl(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}function AO(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new fe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new fe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new fe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new xt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new xt(0,0))}static max(){return new Ce(new xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,r,n){r===void 0?r=0:r>e.length&&ve(),n===void 0?n=e.length-r:n>e.length-r&&ve(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Vd.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Vd?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class qe extends Vd{construct(e,r,n){return new qe(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new fe(X.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new qe(r)}static emptyPath(){return new qe([])}}const e9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Vd{construct(e,r,n){return new vt(e,r,n)}static isValidIdentifier(e){return e9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new fe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new fe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const A=e[i+1];if(A!=="\\"&&A!=="."&&A!=="`")throw new fe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=A,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new fe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(r)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(qe.fromString(e))}static fromName(e){return new Ae(qe.fromString(e).popFirst(5))}static empty(){return new Ae(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return qe.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,r,n,i){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=i}}function Rx(t){return t.fields.find(e=>e.kind===2)}function To(t){return t.fields.filter(e=>e.kind!==2)}kp.UNKNOWN_ID=-1;class Lg{constructor(e,r){this.fieldPath=e,this.kind=r}}class Kd{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Kd(0,En.min())}}function t9(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(n===1e9?new xt(r+1,0):new xt(r,n));return new En(i,Ae.empty(),e)}function lO(t){return new En(t.readTime,t.key,-1)}class En{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new En(Ce.min(),Ae.empty(),-1)}static max(){return new En(Ce.max(),Ae.empty(),-1)}}function FC(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ae.comparator(t.documentKey,e.documentKey),r!==0?r:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _A(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==uO)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new K((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof K?r:K.resolve(r)}catch(r){return K.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):K.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):K.reject(r)}static resolve(e){return new K((r,n)=>{r(e)})}static reject(e){return new K((r,n)=>{n(e)})}static waitFor(e){return new K((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},A=>n(A))}),a=!0,s===i&&r()})}static or(e){let r=K.resolve(!1);for(const n of e)r=r.next(i=>i?K.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new K((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let A=0;A<s;A++){const l=A;r(e[l]).next(u=>{a[l]=u,++o,o===s&&n(a)},u=>i(u))}})}static doWhile(e,r){return new K((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Oi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new sd(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{const i=UC(n.target.error);this.V.reject(new sd(e,i))}}static open(e,r,n,i){try{return new p0(r,e.transaction(i,n))}catch(s){throw new sd(r,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(te("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new n9(r)}}class Da{constructor(e,r,n){this.name=e,this.version=r,this.p=n,Da.S(qt())===12.2&&Hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return te("SimpleDb","Removing database:",e),No(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!zk())return!1;if(Da.v())return!0;const e=qt(),r=Da.S(e),n=0<r&&r<10,i=dO(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(te("SimpleDb","Opening database:",this.name),this.db=await new Promise((r,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;r(a)},i.onblocked=()=>{n(new sd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?n(new fe(X.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?n(new fe(X.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):n(new sd(e,a))},i.onupgradeneeded=s=>{te("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.O(a,i.transaction,s.oldVersion,this.version).next(()=>{te("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=r=>this.N(r)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,i){const s=r==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const o=p0.open(this.db,e,s?"readonly":"readwrite",n),A=i(o).next(l=>(o.g(),l)).catch(l=>(o.abort(l),K.reject(l))).toPromise();return A.catch(()=>{}),await o.m,A}catch(o){const A=o,l=A.name!=="FirebaseError"&&a<3;if(te("SimpleDb","Transaction failed with error:",A.message,"Retrying:",l),this.close(),!l)return Promise.reject(A)}}}close(){this.db&&this.db.close(),this.db=void 0}}function dO(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class r9{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return No(this.B.delete())}}class sd extends fe{constructor(e,r){super(X.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function lo(t){return t.name==="IndexedDbTransactionError"}class n9{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(te("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(te("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),No(n)}add(e){return te("SimpleDb","ADD",this.store.name,e,e),No(this.store.add(e))}get(e){return No(this.store.get(e)).next(r=>(r===void 0&&(r=null),te("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return te("SimpleDb","DELETE",this.store.name,e),No(this.store.delete(e))}count(){return te("SimpleDb","COUNT",this.store.name),No(this.store.count())}U(e,r){const n=this.options(e,r),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(n.range);return new K((a,o)=>{s.onerror=A=>{o(A.target.error)},s.onsuccess=A=>{a(A.target.result)}})}{const s=this.cursor(n),a=[];return this.W(s,(o,A)=>{a.push(A)}).next(()=>a)}}G(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new K((i,s)=>{n.onerror=a=>{s(a.target.error)},n.onsuccess=a=>{i(a.target.result)}})}j(e,r){te("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.H=!1;const i=this.cursor(n);return this.W(i,(s,a,o)=>o.delete())}J(e,r){let n;r?n=e:(n={},r=e);const i=this.cursor(n);return this.W(i,r)}Y(e){const r=this.cursor({});return new K((n,i)=>{r.onerror=s=>{const a=UC(s.target.error);i(a)},r.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(o=>{o?a.continue():n()}):n()}})}W(e,r){const n=[];return new K((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const A=new r9(o),l=r(o.primaryKey,o.value,A);if(l instanceof K){const u=l.catch(d=>(A.done(),K.reject(d)));n.push(u)}A.isDone?i():A.K===null?o.continue():o.continue(A.K)}}).next(()=>K.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function No(t){return new K((e,r)=>{t.onsuccess=n=>{const i=n.target.result;e(i)},t.onerror=n=>{const i=UC(n.target.error);r(i)}})}let ZS=!1;function UC(t){const e=Da.S(qt());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ZS||(ZS=!0,setTimeout(()=>{throw n},0)),n}}return t}class i9{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){te("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{te("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(r){lo(r)?te("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):await _A(r)}await this.X(6e4)})}}class s9{constructor(e,r){this.localStore=e,this.persistence=r}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.te(r,e))}te(e,r){const n=new Set;let i=r,s=!0;return K.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!n.has(a))return te("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next(o=>{i-=o,n.add(a)});s=!1})).next(()=>r-i)}ne(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(i=>this.localStore.localDocuments.getNextDocuments(e,r,i,n).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.re(i,s)).next(o=>(te("IndexBackfiller",`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,r,o))).next(()=>a.size)}))}re(e,r){let n=e;return r.changes.forEach((i,s)=>{const a=lO(s);FC(a,n)>0&&(n=a)}),new En(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}$n.oe=-1;function m0(t){return t==null}function $d(t){return t===0&&1/t==-1/0}function a9(t){return typeof t=="number"&&Number.isInteger(t)&&!$d(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=eT(e)),e=o9(t.get(r),e);return eT(e)}function o9(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case"":r+="";break;default:r+=s}}return r}function eT(t){return t+""}function Ui(t){const e=t.length;if(we(e>=2),e===2)return we(t.charAt(0)===""&&t.charAt(1)===""),qe.emptyPath();const r=e-2,n=[];let i="";for(let s=0;s<e;){const a=t.indexOf("",s);switch((a<0||a>r)&&ve(),t.charAt(a+1)){case"":const o=t.substring(s,a);let A;i.length===0?A=o:(i+=o,A=i,i=""),n.push(A);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:ve()}s=a+2}return new qe(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t,e){return[t,$r(e)]}function fO(t,e,r){return[t,$r(e),r]}const A9={},l9=["prefixPath","collectionGroup","readTime","documentId"],u9=["prefixPath","collectionGroup","documentId"],c9=["collectionGroup","readTime","prefixPath","documentId"],d9=["canonicalId","targetId"],f9=["targetId","path"],h9=["path","targetId"],g9=["collectionId","parent"],p9=["indexId","uid"],m9=["uid","sequenceNumber"],v9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],y9=["indexId","uid","orderedDocumentKey"],w9=["userId","collectionPath","documentId"],x9=["userId","collectionPath","largestBatchId"],b9=["userId","collectionGroup","largestBatchId"],hO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],B9=[...hO,"documentOverlays"],gO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pO=gO,PC=[...pO,"indexConfiguration","indexState","indexEntries"],C9=PC,E9=[...PC,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx extends cO{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Jt(t,e){const r=Te(t);return Da.F(r._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Cu(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function mO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,r){this.comparator=e,this.root=r||yr.EMPTY}insert(e,r){return new bt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}}class kh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yr{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??yr.RED,this.left=i??yr.EMPTY,this.right=s??yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new yr(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return yr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1;yr.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,r,n,i,s){return this}insert(e,r,n){return new yr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new nT(this.data.getIterator())}getIteratorFrom(e){return new nT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof tt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new tt(this.comparator);return r.data=e,r}}class nT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function HA(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new Gn([])}unionWith(e){let r=new tt(vt.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Gn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Wl(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new vO("Invalid base64 string: "+s):s}}(e);return new Rt(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Rt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const _9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(t){if(we(!!t),typeof t=="string"){let e=0;const r=_9.exec(t);if(we(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wa(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function QC(t){const e=t.mapValue.fields.__previous_value__;return NC(e)?QC(e):e}function Gd(t){const e=Fs(t.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,r,n,i,s,a,o,A,l){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=A,this.useFetchStreams=l}}class Ya{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Ya("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ya&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Vg={nullValue:"NULL_VALUE"};function dA(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?NC(t)?4:yO(t)?9007199254740991:v0(t)?10:11:ve()}function Mi(t,e){if(t===e)return!0;const r=dA(t);if(r!==dA(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gd(t).isEqual(Gd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Fs(i.timestampValue),o=Fs(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Wa(i.bytesValue).isEqual(Wa(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return pt(i.geoPointValue.latitude)===pt(s.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return pt(i.integerValue)===pt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=pt(i.doubleValue),o=pt(s.doubleValue);return a===o?$d(a)===$d(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Wl(t.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(rT(a)!==rT(o))return!1;for(const A in a)if(a.hasOwnProperty(A)&&(o[A]===void 0||!Mi(a[A],o[A])))return!1;return!0}(t,e);default:return ve()}}function zd(t,e){return(t.values||[]).find(r=>Mi(r,e))!==void 0}function Xa(t,e){if(t===e)return 0;const r=dA(t),n=dA(e);if(r!==n)return Fe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=pt(s.integerValue||s.doubleValue),A=pt(a.integerValue||a.doubleValue);return o<A?-1:o>A?1:o===A?0:isNaN(o)?isNaN(A)?0:-1:1}(t,e);case 3:return iT(t.timestampValue,e.timestampValue);case 4:return iT(Gd(t),Gd(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Wa(s),A=Wa(a);return o.compareTo(A)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),A=a.split("/");for(let l=0;l<o.length&&l<A.length;l++){const u=Fe(o[l],A[l]);if(u!==0)return u}return Fe(o.length,A.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Fe(pt(s.latitude),pt(a.latitude));return o!==0?o:Fe(pt(s.longitude),pt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return sT(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,A,l,u;const d=s.fields||{},f=a.fields||{},g=(o=d.value)===null||o===void 0?void 0:o.arrayValue,p=(A=f.value)===null||A===void 0?void 0:A.arrayValue,m=Fe(((l=g==null?void 0:g.values)===null||l===void 0?void 0:l.length)||0,((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:sT(g,p)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===va.mapValue&&a===va.mapValue)return 0;if(s===va.mapValue)return 1;if(a===va.mapValue)return-1;const o=s.fields||{},A=Object.keys(o),l=a.fields||{},u=Object.keys(l);A.sort(),u.sort();for(let d=0;d<A.length&&d<u.length;++d){const f=Fe(A[d],u[d]);if(f!==0)return f;const g=Xa(o[A[d]],l[u[d]]);if(g!==0)return g}return Fe(A.length,u.length)}(t.mapValue,e.mapValue);default:throw ve()}}function iT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const r=Fs(t),n=Fs(e),i=Fe(r.seconds,n.seconds);return i!==0?i:Fe(r.nanos,n.nanos)}function sT(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Xa(r[i],n[i]);if(s)return s}return Fe(r.length,n.length)}function Yl(t){return Lx(t)}function Lx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Fs(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Wa(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ae.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=Lx(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${Lx(r.fields[a])}`;return i+"}"}(t.mapValue):ve()}function kC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hx(t){return!!t&&"integerValue"in t}function Wd(t){return!!t&&"arrayValue"in t}function aT(t){return!!t&&"nullValue"in t}function oT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kg(t){return!!t&&"mapValue"in t}function v0(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function ad(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Cu(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=ad(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ad(t.arrayValue.values[r]);return e}return Object.assign({},t)}function yO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const wO={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function S9(t){return"nullValue"in t?Vg:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?kC(Ya.empty(),Ae.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?v0(t)?wO:{mapValue:{}}:ve()}function T9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?kC(Ya.empty(),Ae.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?wO:"mapValue"in t?v0(t)?{mapValue:{}}:va:ve()}function AT(t,e){const r=Xa(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function lT(t,e){const r=Xa(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Kg(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ad(r)}setAll(e){let r=vt.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const A=this.getFieldsMap(r);this.applyChanges(A,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=ad(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());Kg(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Kg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Cu(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new tn(ad(this.value))}}function xO(t){const e=[];return Cu(t.fields,(r,n)=>{const i=new vt([r]);if(Kg(n)){const s=xO(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new kt(e,0,Ce.min(),Ce.min(),Ce.min(),tn.empty(),0)}static newFoundDocument(e,r,n,i){return new kt(e,1,r,Ce.min(),n,i,0)}static newNoDocument(e,r){return new kt(e,2,r,Ce.min(),Ce.min(),tn.empty(),0)}static newUnknownDocument(e,r){return new kt(e,3,r,Ce.min(),Ce.min(),tn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,r){this.position=e,this.inclusive=r}}function uT(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=Ae.comparator(Ae.fromName(a.referenceValue),r.key):n=Xa(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function cT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Mi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,r="asc"){this.field=e,this.dir=r}}function F9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{}class Me extends bO{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new U9(e,r,n):r==="array-contains"?new Q9(e,n):r==="in"?new SO(e,n):r==="not-in"?new k9(e,n):r==="array-contains-any"?new O9(e,n):new Me(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new P9(e,n):new N9(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Xa(r,this.value)):r!==null&&dA(this.value)===dA(r)&&this.matchesComparison(Xa(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class et extends bO{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new et(e,r)}matches(e){return ql(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ql(t){return t.op==="and"}function Vx(t){return t.op==="or"}function OC(t){return BO(t)&&ql(t)}function BO(t){for(const e of t.filters)if(e instanceof et)return!1;return!0}function Kx(t){if(t instanceof Me)return t.field.canonicalString()+t.op.toString()+Yl(t.value);if(OC(t))return t.filters.map(e=>Kx(e)).join(",");{const e=t.filters.map(r=>Kx(r)).join(",");return`${t.op}(${e})`}}function CO(t,e){return t instanceof Me?function(n,i){return i instanceof Me&&n.op===i.op&&n.field.isEqual(i.field)&&Mi(n.value,i.value)}(t,e):t instanceof et?function(n,i){return i instanceof et&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&CO(a,i.filters[o]),!0):!1}(t,e):void ve()}function EO(t,e){const r=t.filters.concat(e);return et.create(r,t.op)}function _O(t){return t instanceof Me?function(r){return`${r.field.canonicalString()} ${r.op} ${Yl(r.value)}`}(t):t instanceof et?function(r){return r.op.toString()+" {"+r.getFilters().map(_O).join(" ,")+"}"}(t):"Filter"}class U9 extends Me{constructor(e,r,n){super(e,r,n),this.key=Ae.fromName(n.referenceValue)}matches(e){const r=Ae.comparator(e.key,this.key);return this.matchesComparison(r)}}class P9 extends Me{constructor(e,r){super(e,"in",r),this.keys=IO("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class N9 extends Me{constructor(e,r){super(e,"not-in",r),this.keys=IO("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function IO(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ae.fromName(n.referenceValue))}class Q9 extends Me{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Wd(r)&&zd(r.arrayValue,this.value)}}class SO extends Me{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&zd(this.value.arrayValue,r)}}class k9 extends Me{constructor(e,r){super(e,"not-in",r)}matches(e){if(zd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!zd(this.value.arrayValue,r)}}class O9 extends Me{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Wd(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>zd(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function $x(t,e=null,r=[],n=[],i=null,s=null,a=null){return new D9(t,e,r,n,i,s,a)}function fA(t){const e=Te(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Kx(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),m0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Yl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Yl(n)).join(",")),e.ue=r}return e.ue}function bf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!F9(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!CO(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cT(t.startAt,e.startAt)&&cT(t.endAt,e.endAt)}function Dp(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function jp(t,e){return t.filters.filter(r=>r instanceof Me&&r.field.isEqual(e))}function dT(t,e,r){let n=Vg,i=!0;for(const s of jp(t,e)){let a=Vg,o=!0;switch(s.op){case"<":case"<=":a=S9(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=Vg}AT({value:n,inclusive:i},{value:a,inclusive:o})<0&&(n=a,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=r.position[s];AT({value:n,inclusive:i},{value:a,inclusive:r.inclusive})<0&&(n=a,i=r.inclusive);break}}return{value:n,inclusive:i}}function fT(t,e,r){let n=va,i=!0;for(const s of jp(t,e)){let a=va,o=!0;switch(s.op){case">=":case">":a=T9(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=va}lT({value:n,inclusive:i},{value:a,inclusive:o})>0&&(n=a,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=r.position[s];lT({value:n,inclusive:i},{value:a,inclusive:r.inclusive})>0&&(n=a,i=r.inclusive);break}}return{value:n,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,A=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=A,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function j9(t,e,r,n,i,s,a,o){return new y0(t,e,r,n,i,s,a,o)}function Bf(t){return new y0(t)}function hT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function R9(t){return t.collectionGroup!==null}function od(t){const e=Te(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new tt(vt.comparator);return a.filters.forEach(A=>{A.getFlattenedFilters().forEach(l=>{l.isInequality()&&(o=o.add(l.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Op(s,n))}),r.has(vt.keyField().canonicalString())||e.ce.push(new Op(vt.keyField(),n))}return e.ce}function Jn(t){const e=Te(t);return e.le||(e.le=M9(e,od(t))),e.le}function M9(t,e){if(t.limitType==="F")return $x(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Op(i.field,s)});const r=t.endAt?new Xl(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Xl(t.startAt.position,t.startAt.inclusive):null;return $x(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Rp(t,e,r){return new y0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function w0(t,e){return bf(Jn(t),Jn(e))&&t.limitType===e.limitType}function TO(t){return`${fA(Jn(t))}|lt:${t.limitType}`}function rl(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>_O(i)).join(", ")}]`),m0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Yl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Yl(i)).join(",")),`Target(${n})`}(Jn(t))}; limitType=${t.limitType})`}function Cf(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Ae.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of od(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,A){const l=uT(a,o,A);return a.inclusive?l<=0:l<0}(n.startAt,od(n),i)||n.endAt&&!function(a,o,A){const l=uT(a,o,A);return a.inclusive?l>=0:l>0}(n.endAt,od(n),i))}(t,e)}function L9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FO(t){return(e,r)=>{let n=!1;for(const i of od(t)){const s=H9(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function H9(t,e,r){const n=t.field.isKeyField()?Ae.comparator(e.key,r.key):function(s,a,o){const A=a.data.field(s),l=o.data.field(s);return A!==null&&l!==null?Xa(A,l):ve()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cu(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return mO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=new bt(Ae.comparator);function wn(){return V9}const UO=new bt(Ae.comparator);function jc(...t){let e=UO;for(const r of t)e=e.insert(r.key,r);return e}function PO(t){let e=UO;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Pi(){return Ad()}function NO(){return Ad()}function Ad(){return new uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const K9=new bt(Ae.comparator),$9=new tt(Ae.comparator);function ke(...t){let e=$9;for(const r of t)e=e.add(r);return e}const G9=new tt(Fe);function z9(){return G9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$d(e)?"-0":e}}function QO(t){return{integerValue:""+t}}function W9(t,e){return a9(e)?QO(e):DC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this._=void 0}}function Y9(t,e,r){return t instanceof Jl?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&NC(s)&&(s=QC(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(r,e):t instanceof Zl?OO(t,e):t instanceof eu?DO(t,e):function(i,s){const a=kO(i,s),o=gT(a)+gT(i.Pe);return Hx(a)&&Hx(i.Pe)?QO(o):DC(i.serializer,o)}(t,e)}function X9(t,e,r){return t instanceof Zl?OO(t,e):t instanceof eu?DO(t,e):r}function kO(t,e){return t instanceof Yd?function(n){return Hx(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class Jl extends x0{}class Zl extends x0{constructor(e){super(),this.elements=e}}function OO(t,e){const r=jO(e);for(const n of t.elements)r.some(i=>Mi(i,n))||r.push(n);return{arrayValue:{values:r}}}class eu extends x0{constructor(e){super(),this.elements=e}}function DO(t,e){let r=jO(e);for(const n of t.elements)r=r.filter(i=>!Mi(i,n));return{arrayValue:{values:r}}}class Yd extends x0{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function gT(t){return pt(t.integerValue||t.doubleValue)}function jO(t){return Wd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,r){this.field=e,this.transform=r}}function q9(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Zl&&i instanceof Zl||n instanceof eu&&i instanceof eu?Wl(n.elements,i.elements,Mi):n instanceof Yd&&i instanceof Yd?Mi(n.Pe,i.Pe):n instanceof Jl&&i instanceof Jl}(t.transform,e.transform)}class J9{constructor(e,r){this.version=e,this.transformResults=r}}class xn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $g(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class b0{}function MO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jC(t.key,xn.none()):new Eu(t.key,t.data,xn.none());{const r=t.data,n=tn.empty();let i=new tt(vt.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new co(t.key,n,new Gn(i.toArray()),xn.none())}}function Z9(t,e,r){t instanceof Eu?function(i,s,a){const o=i.value.clone(),A=mT(i.fieldTransforms,s,a.transformResults);o.setAll(A),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof co?function(i,s,a){if(!$g(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=mT(i.fieldTransforms,s,a.transformResults),A=s.data;A.setAll(LO(i)),A.setAll(o),s.convertToFoundDocument(a.version,A).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function ld(t,e,r,n){return t instanceof Eu?function(s,a,o,A){if(!$g(s.precondition,a))return o;const l=s.value.clone(),u=vT(s.fieldTransforms,A,a);return l.setAll(u),a.convertToFoundDocument(a.version,l).setHasLocalMutations(),null}(t,e,r,n):t instanceof co?function(s,a,o,A){if(!$g(s.precondition,a))return o;const l=vT(s.fieldTransforms,A,a),u=a.data;return u.setAll(LO(s)),u.setAll(l),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(s,a,o){return $g(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function eG(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=kO(n.transform,i||null);s!=null&&(r===null&&(r=tn.empty()),r.set(n.field,s))}return r||null}function pT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Wl(n,i,(s,a)=>q9(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eu extends b0{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class co extends b0{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function LO(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function mT(t,e,r){const n=new Map;we(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,X9(a,o,r[i]))}return n}function vT(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,Y9(s,a,e))}return n}class jC extends b0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HO extends b0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Z9(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=ld(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=ld(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=NO();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const A=MO(a,o);A!==null&&n.set(i.key,A),a.isValidDocument()||a.convertToNoDocument(Ce.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ke())}isEqual(e){return this.batchId===e.batchId&&Wl(this.mutations,e.mutations,(r,n)=>pT(r,n))&&Wl(this.baseMutations,e.baseMutations,(r,n)=>pT(r,n))}}class MC{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){we(e.mutations.length===n.length);let i=function(){return K9}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new MC(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Le;function rG(t){switch(t){default:return ve();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function VO(t){if(t===void 0)return Hr("GRPC error has no .code"),X.UNKNOWN;switch(t){case Lt.OK:return X.OK;case Lt.CANCELLED:return X.CANCELLED;case Lt.UNKNOWN:return X.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return X.INTERNAL;case Lt.UNAVAILABLE:return X.UNAVAILABLE;case Lt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Lt.NOT_FOUND:return X.NOT_FOUND;case Lt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Lt.ABORTED:return X.ABORTED;case Lt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Lt.DATA_LOSS:return X.DATA_LOSS;default:return ve()}}(Le=Lt||(Lt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG=new Xo([4294967295,4294967295],0);function yT(t){const e=nG().encode(t),r=new eO;return r.update(e),new Uint8Array(r.digest())}function wT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xo([r,n],0),new Xo([i,s],0)]}class HC{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Rc(`Invalid padding: ${r}`);if(n<0)throw new Rc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Rc(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Rc(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Xo.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Xo.fromNumber(n)));return i.compare(iG)===1&&(i=new Xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=yT(e),[n,i]=wT(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new HC(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const r=yT(e),[n,i]=wT(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Ef.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new B0(Ce.min(),i,new bt(Fe),wn(),ke())}}class Ef{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Ef(n,r,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class KO{constructor(e,r){this.targetId=e,this.me=r}}class $O{constructor(e,r,n=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class xT{constructor(){this.fe=0,this.ge=BT(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),r=ke(),n=ke();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ve()}}),new Ef(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=BT()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,we(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class sG{constructor(e){this.Le=e,this.Be=new Map,this.ke=wn(),this.qe=bT(),this.Qe=new bt(Fe)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(Dp(s))if(n===0){const a=new Ae(s.path);this.Ue(r,a,kt.newNoDocument(a,Ce.min()))}else we(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),A=o?this.Xe(o,e,a):1;if(A!==0){this.je(r);const l=A===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,l)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=Wa(n).toUint8Array()}catch(A){if(A instanceof vO)return za("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw A}try{o=new HC(a,i,s)}catch(A){return za(A instanceof Rc?"BloomFilter error: ":"Applying bloom filter failed: ",A),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&Dp(o.target)){const A=new Ae(o.target.path);this.ke.get(A)!==null||this.it(a,A)||this.Ue(a,A,kt.newNoDocument(A,e))}s.be&&(r.set(a,s.ve()),s.Ce())}});let n=ke();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(A=>{const l=this.Je(A);return!l||l.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new B0(e,r,this.Qe,this.ke,n);return this.ke=wn(),this.qe=bT(),this.Qe=new bt(Fe),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new xT,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new tt(Fe),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||te("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new xT),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function bT(){return new bt(Ae.comparator)}function BT(){return new bt(Ae.comparator)}const aG={asc:"ASCENDING",desc:"DESCENDING"},oG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AG={and:"AND",or:"OR"};class lG{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Gx(t,e){return t.useProto3Json||m0(e)?e:{value:e}}function tu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uG(t,e){return tu(t,e.toTimestamp())}function Gr(t){return we(!!t),Ce.fromTimestamp(function(r){const n=Fs(r);return new xt(n.seconds,n.nanos)}(t))}function VC(t,e){return zx(t,e).canonicalString()}function zx(t,e){const r=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function zO(t){const e=qe.fromString(t);return we(r4(e)),e}function Mp(t,e){return VC(t.databaseId,e.path)}function qo(t,e){const r=zO(e);if(r.get(1)!==t.databaseId.projectId)throw new fe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new fe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ae(XO(r))}function WO(t,e){return VC(t.databaseId,e)}function YO(t){const e=zO(t);return e.length===4?qe.emptyPath():XO(e)}function Wx(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XO(t){return we(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function CT(t,e,r){return{name:Mp(t,e),fields:r.value.mapValue.fields}}function cG(t,e,r){const n=qo(t,e.name),i=Gr(e.updateTime),s=e.createTime?Gr(e.createTime):Ce.min(),a=new tn({mapValue:{fields:e.fields}}),o=kt.newFoundDocument(n,i,s,a);return r&&o.setHasCommittedMutations(),r?o.setHasCommittedMutations():o}function dG(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(we(u===void 0||typeof u=="string"),Rt.fromBase64String(u||"")):(we(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Rt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(l){const u=l.code===void 0?X.UNKNOWN:VO(l.code);return new fe(u,l.message||"")}(a);r=new $O(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=qo(t,n.document.name),s=Gr(n.document.updateTime),a=n.document.createTime?Gr(n.document.createTime):Ce.min(),o=new tn({mapValue:{fields:n.document.fields}}),A=kt.newFoundDocument(i,s,a,o),l=n.targetIds||[],u=n.removedTargetIds||[];r=new Gg(l,u,A.key,A)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=qo(t,n.document),s=n.readTime?Gr(n.readTime):Ce.min(),a=kt.newNoDocument(i,s),o=n.removedTargetIds||[];r=new Gg([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=qo(t,n.document),s=n.removedTargetIds||[];r=new Gg([],s,i,null)}else{if(!("filter"in e))return ve();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new tG(i,s),o=n.targetId;r=new KO(o,a)}}return r}function Lp(t,e){let r;if(e instanceof Eu)r={update:CT(t,e.key,e.value)};else if(e instanceof jC)r={delete:Mp(t,e.key)};else if(e instanceof co)r={update:CT(t,e.key,e.data),updateMask:vG(e.fieldMask)};else{if(!(e instanceof HO))return ve();r={verify:Mp(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof Jl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Zl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof eu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Yd)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw ve()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:uG(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ve()}(t,e.precondition)),r}function Yx(t,e){const r=e.currentDocument?function(s){return s.updateTime!==void 0?xn.updateTime(Gr(s.updateTime)):s.exists!==void 0?xn.exists(s.exists):xn.none()}(e.currentDocument):xn.none(),n=e.updateTransforms?e.updateTransforms.map(i=>function(a,o){let A=null;if("setToServerValue"in o)we(o.setToServerValue==="REQUEST_TIME"),A=new Jl;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];A=new Zl(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];A=new eu(u)}else"increment"in o?A=new Yd(a,o.increment):ve();const l=vt.fromServerFormat(o.fieldPath);return new RO(l,A)}(t,i)):[];if(e.update){e.update.name;const i=qo(t,e.update.name),s=new tn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(A){const l=A.fieldPaths||[];return new Gn(l.map(u=>vt.fromServerFormat(u)))}(e.updateMask);return new co(i,s,a,r,n)}return new Eu(i,s,r,n)}if(e.delete){const i=qo(t,e.delete);return new jC(i,r)}if(e.verify){const i=qo(t,e.verify);return new HO(i,r)}return ve()}function fG(t,e){return t&&t.length>0?(we(e!==void 0),t.map(r=>function(i,s){let a=i.updateTime?Gr(i.updateTime):Gr(s);return a.isEqual(Ce.min())&&(a=Gr(s)),new J9(a,i.transformResults||[])}(r,e))):[]}function qO(t,e){return{documents:[WO(t,e.path)]}}function JO(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=WO(t,i);const s=function(l){if(l.length!==0)return t4(et.create(l,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:nl(f.field),direction:gG(f.dir)}}(u))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=Gx(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:r,parent:i}}function ZO(t){let e=YO(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){we(n===1);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];r.where&&(s=function(d){const f=e4(d);return f instanceof et&&OC(f)?f.getFilters():[f]}(r.where));let a=[];r.orderBy&&(a=function(d){return d.map(f=>function(p){return new Op(il(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(r.orderBy));let o=null;r.limit&&(o=function(d){let f;return f=typeof d=="object"?d.value:d,m0(f)?null:f}(r.limit));let A=null;r.startAt&&(A=function(d){const f=!!d.before,g=d.values||[];return new Xl(g,f)}(r.startAt));let l=null;return r.endAt&&(l=function(d){const f=!d.before,g=d.values||[];return new Xl(g,f)}(r.endAt)),j9(e,i,a,s,o,"F",A,l)}function hG(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function e4(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=il(r.unaryFilter.field);return Me.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=il(r.unaryFilter.field);return Me.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=il(r.unaryFilter.field);return Me.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=il(r.unaryFilter.field);return Me.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(r){return Me.create(il(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return et.create(r.compositeFilter.filters.map(n=>e4(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ve()}}(r.compositeFilter.op))}(t):ve()}function gG(t){return aG[t]}function pG(t){return oG[t]}function mG(t){return AG[t]}function nl(t){return{fieldPath:t.canonicalString()}}function il(t){return vt.fromServerFormat(t.fieldPath)}function t4(t){return t instanceof Me?function(r){if(r.op==="=="){if(oT(r.value))return{unaryFilter:{field:nl(r.field),op:"IS_NAN"}};if(aT(r.value))return{unaryFilter:{field:nl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(oT(r.value))return{unaryFilter:{field:nl(r.field),op:"IS_NOT_NAN"}};if(aT(r.value))return{unaryFilter:{field:nl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(r.field),op:pG(r.op),value:r.value}}}(t):t instanceof et?function(r){const n=r.getFilters().map(i=>t4(i));return n.length===1?n[0]:{compositeFilter:{op:mG(r.op),filters:n}}}(t):ve()}function vG(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function r4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,r,n,i,s=Ce.min(),a=Ce.min(),o=Rt.EMPTY_BYTE_STRING,A=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=A}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.ct=e}}function yG(t,e){let r;if(e.document)r=cG(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=Ae.fromSegments(e.noDocument.path),i=gA(e.noDocument.readTime);r=kt.newNoDocument(n,i),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return ve();{const n=Ae.fromSegments(e.unknownDocument.path),i=gA(e.unknownDocument.version);r=kt.newUnknownDocument(n,i)}}return e.readTime&&r.setReadTime(function(i){const s=new xt(i[0],i[1]);return Ce.fromTimestamp(s)}(e.readTime)),r}function ET(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Hp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(s,a){return{name:Mp(s,a.key),fields:a.data.value.mapValue.fields,updateTime:tu(s,a.version.toTimestamp()),createTime:tu(s,a.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:hA(e.version)};else{if(!e.isUnknownDocument())return ve();n.unknownDocument={path:r.path.toArray(),version:hA(e.version)}}return n}function Hp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function hA(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function gA(t){const e=new xt(t.seconds,t.nanoseconds);return Ce.fromTimestamp(e)}function Qo(t,e){const r=(e.baseMutations||[]).map(s=>Yx(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const n=e.mutations.map(s=>Yx(t.ct,s)),i=xt.fromMillis(e.localWriteTimeMs);return new RC(e.batchId,i,r,n)}function Mc(t){const e=gA(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?gA(t.lastLimboFreeSnapshotVersion):Ce.min();let n;return n=function(s){return s.documents!==void 0}(t.query)?function(s){return we(s.documents.length===1),Jn(Bf(YO(s.documents[0])))}(t.query):function(s){return Jn(ZO(s))}(t.query),new hs(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,Rt.fromBase64String(t.resumeToken))}function i4(t,e){const r=hA(e.snapshotVersion),n=hA(e.lastLimboFreeSnapshotVersion);let i;i=Dp(e.target)?qO(t.ct,e.target):JO(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fA(e.target),readTime:r,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function s4(t){const e=ZO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rp(e,e.limit,"L"):e}function Oy(t,e){return new LC(e.largestBatchId,Yx(t.ct,e.overlayMutation))}function _T(t,e){const r=e.path.lastSegment();return[t,$r(e.path.popLast()),r]}function IT(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:hA(n.readTime),documentKey:$r(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{getBundleMetadata(e,r){return ST(e).get(r).next(n=>{if(n)return function(s){return{id:s.bundleId,createTime:gA(s.createTime),version:s.version}}(n)})}saveBundleMetadata(e,r){return ST(e).put(function(i){return{bundleId:i.id,createTime:hA(Gr(i.createTime)),version:i.version}}(r))}getNamedQuery(e,r){return TT(e).get(r).next(n=>{if(n)return function(s){return{name:s.name,query:s4(s.bundledQuery),readTime:gA(s.readTime)}}(n)})}saveNamedQuery(e,r){return TT(e).put(function(i){return{name:i.name,readTime:hA(Gr(i.readTime)),bundledQuery:i.bundledQuery}}(r))}}function ST(t){return Jt(t,"bundles")}function TT(t){return Jt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){const n=r.uid||"";return new C0(e,n)}getOverlay(e,r){return hc(e).get(_T(this.userId,r)).next(n=>n?Oy(this.serializer,n):null)}getOverlays(e,r){const n=Pi();return K.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){const i=[];return n.forEach((s,a)=>{const o=new LC(r,a);i.push(this.ht(e,o))}),K.waitFor(i)}removeOverlaysForBatchId(e,r,n){const i=new Set;r.forEach(a=>i.add($r(a.getCollectionPath())));const s=[];return i.forEach(a=>{const o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,n+1],!1,!0);s.push(hc(e).j("collectionPathOverlayIndex",o))}),K.waitFor(s)}getOverlaysForCollection(e,r,n){const i=Pi(),s=$r(r),a=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return hc(e).U("collectionPathOverlayIndex",a).next(o=>{for(const A of o){const l=Oy(this.serializer,A);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,r,n,i){const s=Pi();let a;const o=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return hc(e).J({index:"collectionGroupOverlayIndex",range:o},(A,l,u)=>{const d=Oy(this.serializer,l);s.size()<i||d.largestBatchId===a?(s.set(d.getKey(),d),a=d.largestBatchId):u.done()}).next(()=>s)}ht(e,r){return hc(e).put(function(i,s,a){const[o,A,l]=_T(s,a.mutation.key);return{userId:s,collectionPath:A,documentId:l,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Lp(i.ct,a.mutation)}}(this.serializer,this.userId,r))}}function hc(t){return Jt(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{Pt(e){return Jt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const n=r==null?void 0:r.value;return n?Rt.fromUint8Array(n):Rt.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(pt(e.integerValue));else if("doubleValue"in e){const n=pt(e.doubleValue);isNaN(n)?this.dt(r,13):(this.dt(r,15),$d(n)?r.At(0):r.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(r,20),typeof n=="string"&&(n=Fs(n)),r.Rt(`${n.seconds||""}`),r.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Wa(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(r,45),r.At(n.latitude||0),r.At(n.longitude||0)}else"mapValue"in e?yO(e)?this.dt(r,Number.MAX_SAFE_INTEGER):v0(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):ve()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const n=e.fields||{};this.dt(r,55);for(const i of Object.keys(n))this.Vt(i,r),this.Tt(n[i],r)}wt(e,r){var n,i;const s=e.fields||{};this.dt(r,53);const a="value",o=((i=(n=s[a].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.length)||0;this.dt(r,15),r.At(pt(o)),this.Vt(a,r),this.Tt(s[a],r)}bt(e,r){const n=e.values||[];this.dt(r,50);for(const i of n)this.Tt(i,r)}yt(e,r){this.dt(r,37),Ae.fromName(e).path.forEach(n=>{this.dt(r,60),this.Dt(n,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}ko.vt=new ko;function bG(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function FT(t){const e=64-function(n){let i=0;for(let s=0;s<8;++s){const a=bG(255&n[s]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class BG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ft(n.value),n=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ot(n.value),n=r.next();this.Nt()}Lt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const i=r.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const i=r.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const r=this.qt(e),n=FT(r);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=255&r[i]}Kt(e){const r=this.qt(e),n=FT(r);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=~(255&r[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)}(e),n=(128&r[0])!=0;r[0]^=n?255:128;for(let i=1;i<r.length;++i)r[i]^=n?255:0;return r}Ft(e){const r=255&e;r===0?(this.Ut(0),this.Ut(255)):r===255?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;r===0?(this.Gt(0),this.Gt(255)):r===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class CG{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class EG{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class gc{constructor(){this.jt=new BG,this.Ht=new CG(this.jt),this.Jt=new EG(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,r,n,i){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=i}Zt(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Oo(this.indexId,this.documentKey,this.arrayValue,n)}}function Js(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=UT(t.arrayValue,e.arrayValue),r!==0?r:(r=UT(t.directionalValue,e.directionalValue),r!==0?r:Ae.comparator(t.documentKey,e.documentKey)))}function UT(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.Xt=new tt((r,n)=>vt.comparator(r.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const n=r;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(we(e.collectionGroup===this.collectionId),this.nn)return!1;const r=Rx(e);if(r!==void 0&&!this.sn(r))return!1;const n=To(e);let i=new Set,s=0,a=0;for(;s<n.length&&this.sn(n[s]);++s)i=i.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.Xt.size>0){const o=this.Xt.getIterator().getNext();if(!i.has(o.field.canonicalString())){const A=n[s];if(!this.on(o,A)||!this._n(this.en[a++],A))return!1}++s}for(;s<n.length;++s){const o=n[s];if(a>=this.en.length||!this._n(this.en[a++],o))return!1}return!0}an(){if(this.nn)return null;let e=new tt(vt.comparator);const r=[];for(const n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new Lg(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new Lg(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new Lg(n.field,n.dir==="asc"?0:1)));return new kp(kp.UNKNOWN_ID,this.collectionId,r,Kd.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t){var e,r;if(we(t instanceof Me||t instanceof et),t instanceof Me){if(t instanceof SO){const i=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(s=>Me.create(t.field,"==",s)))||[];return et.create(i,"or")}return t}const n=t.filters.map(i=>a4(i));return et.create(n,t.op)}function _G(t){if(t.getFilters().length===0)return[];const e=Jx(a4(t));return we(o4(e)),Xx(e)||qx(e)?[e]:e.getFilters()}function Xx(t){return t instanceof Me}function qx(t){return t instanceof et&&OC(t)}function o4(t){return Xx(t)||qx(t)||function(r){if(r instanceof et&&Vx(r)){for(const n of r.getFilters())if(!Xx(n)&&!qx(n))return!1;return!0}return!1}(t)}function Jx(t){if(we(t instanceof Me||t instanceof et),t instanceof Me)return t;if(t.filters.length===1)return Jx(t.filters[0]);const e=t.filters.map(n=>Jx(n));let r=et.create(e,t.op);return r=Vp(r),o4(r)?r:(we(r instanceof et),we(ql(r)),we(r.filters.length>1),r.filters.reduce((n,i)=>KC(n,i)))}function KC(t,e){let r;return we(t instanceof Me||t instanceof et),we(e instanceof Me||e instanceof et),r=t instanceof Me?e instanceof Me?function(i,s){return et.create([i,s],"and")}(t,e):NT(t,e):e instanceof Me?NT(e,t):function(i,s){if(we(i.filters.length>0&&s.filters.length>0),ql(i)&&ql(s))return EO(i,s.getFilters());const a=Vx(i)?i:s,o=Vx(i)?s:i,A=a.filters.map(l=>KC(l,o));return et.create(A,"or")}(t,e),Vp(r)}function NT(t,e){if(ql(e))return EO(e,t.getFilters());{const r=e.filters.map(n=>KC(t,n));return et.create(r,"or")}}function Vp(t){if(we(t instanceof Me||t instanceof et),t instanceof Me)return t;const e=t.getFilters();if(e.length===1)return Vp(e[0]);if(BO(t))return t;const r=e.map(i=>Vp(i)),n=[];return r.forEach(i=>{i instanceof Me?n.push(i):i instanceof et&&(i.op===t.op?n.push(...i.filters):n.push(i))}),n.length===1?n[0]:et.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(){this.un=new $C}addToCollectionParentIndex(e,r){return this.un.add(r),K.resolve()}getCollectionParents(e,r){return K.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return K.resolve()}deleteFieldIndex(e,r){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,r){return K.resolve()}getDocumentsMatchingTarget(e,r){return K.resolve(null)}getIndexType(e,r){return K.resolve(0)}getFieldIndexes(e,r){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,r){return K.resolve(En.min())}getMinOffsetFromCollectionGroup(e,r){return K.resolve(En.min())}updateCollectionGroup(e,r,n){return K.resolve()}updateIndexEntries(e,r){return K.resolve()}}class $C{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new tt(qe.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new tt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Uint8Array(0);class SG{constructor(e,r){this.databaseId=r,this.cn=new $C,this.ln=new uo(n=>fA(n),(n,i)=>bf(n,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const n=r.lastSegment(),i=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const s={collectionId:n,parent:$r(i)};return QT(e).put(s)}return K.resolve()}getCollectionParents(e,r){const n=[],i=IDBKeyRange.bound([r,""],[AO(r),""],!1,!0);return QT(e).U(i).next(s=>{for(const a of s){if(a.collectionId!==r)break;n.push(Ui(a.parent))}return n})}addFieldIndex(e,r){const n=pc(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])}}(r);delete i.indexId;const s=n.add(i);if(r.indexState){const a=KA(e);return s.next(o=>{a.put(IT(o,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return s.next()}deleteFieldIndex(e,r){const n=pc(e),i=KA(e),s=VA(e);return n.delete(r.indexId).next(()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=pc(e),n=VA(e),i=KA(e);return r.j().next(()=>n.j()).next(()=>i.j())}createTargetIndexes(e,r){return K.forEach(this.hn(r),n=>this.getIndexType(e,n).next(i=>{if(i===0||i===1){const s=new PT(n).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,r){const n=VA(e);let i=!0;const s=new Map;return K.forEach(this.hn(r),a=>this.Pn(e,a).next(o=>{i&&(i=!!o),s.set(a,o)})).next(()=>{if(i){let a=ke();const o=[];return K.forEach(s,(A,l)=>{te("IndexedDbIndexManager",`Using index ${function(B){return`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map(I=>`${I.fieldPath}:${I.kind}`).join(",")}`}(A)} to execute ${fA(r)}`);const u=function(B,I){const T=Rx(I);if(T===void 0)return null;for(const F of jp(B,T.fieldPath))switch(F.op){case"array-contains-any":return F.value.arrayValue.values||[];case"array-contains":return[F.value]}return null}(l,A),d=function(B,I){const T=new Map;for(const F of To(I))for(const C of jp(B,F.fieldPath))switch(C.op){case"==":case"in":T.set(F.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return T.set(F.fieldPath.canonicalString(),C.value),Array.from(T.values())}return null}(l,A),f=function(B,I){const T=[];let F=!0;for(const C of To(I)){const _=C.kind===0?dT(B,C.fieldPath,B.startAt):fT(B,C.fieldPath,B.startAt);T.push(_.value),F&&(F=_.inclusive)}return new Xl(T,F)}(l,A),g=function(B,I){const T=[];let F=!0;for(const C of To(I)){const _=C.kind===0?fT(B,C.fieldPath,B.endAt):dT(B,C.fieldPath,B.endAt);T.push(_.value),F&&(F=_.inclusive)}return new Xl(T,F)}(l,A),p=this.In(A,l,f),m=this.In(A,l,g),v=this.Tn(A,l,d),y=this.En(A.indexId,u,p,f.inclusive,m,g.inclusive,v);return K.forEach(y,w=>n.G(w,r.limit).next(B=>{B.forEach(I=>{const T=Ae.fromSegments(I.documentKey);a.has(T)||(a=a.add(T),o.push(T))})}))}).next(()=>o)}return K.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(e.filters.length===0?r=[e]:r=_G(et.create(e.filters,"and")).map(n=>$x(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,n,i,s,a,o){const A=(r!=null?r.length:1)*Math.max(n.length,s.length),l=A/(r!=null?r.length:1),u=[];for(let d=0;d<A;++d){const f=r?this.dn(r[d/l]):Oh,g=this.An(e,f,n[d%l],i),p=this.Rn(e,f,s[d%l],a),m=o.map(v=>this.An(e,f,v,!0));u.push(...this.createRange(g,p,m))}return u}An(e,r,n,i){const s=new Oo(e,Ae.empty(),r,n);return i?s:s.Zt()}Rn(e,r,n,i){const s=new Oo(e,Ae.empty(),r,n);return i?s.Zt():s}Pn(e,r){const n=new PT(r),i=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let a=null;for(const o of s)n.rn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a})}getIndexType(e,r){let n=2;const i=this.hn(r);return K.forEach(i,s=>this.Pn(e,s).next(a=>{a?n!==0&&a.fields.length<function(A){let l=new tt(vt.comparator),u=!1;for(const d of A.filters)for(const f of d.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:l=l.add(f.field));for(const d of A.orderBy)d.field.isKeyField()||(l=l.add(d.field));return l.size+(u?1:0)}(s)&&(n=1):n=0})).next(()=>function(a){return a.limit!==null}(r)&&i.length>1&&n===2?1:n)}Vn(e,r){const n=new gc;for(const i of To(e)){const s=r.data.field(i.fieldPath);if(s==null)return null;const a=n.Yt(i.kind);ko.vt.It(s,a)}return n.zt()}dn(e){const r=new gc;return ko.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const n=new gc;return ko.vt.It(kC(this.databaseId,r),n.Yt(function(s){const a=To(s);return a.length===0?0:a[a.length-1].kind}(e))),n.zt()}Tn(e,r,n){if(n===null)return[];let i=[];i.push(new gc);let s=0;for(const a of To(e)){const o=n[s++];for(const A of i)if(this.fn(r,a.fieldPath)&&Wd(o))i=this.gn(i,a,o);else{const l=A.Yt(a.kind);ko.vt.It(o,l)}}return this.pn(i)}In(e,r,n){return this.Tn(e,r,n.position)}pn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].zt();return r}gn(e,r,n){const i=[...e],s=[];for(const a of n.arrayValue.values||[])for(const o of i){const A=new gc;A.seed(o.zt()),ko.vt.It(a,A.Yt(r.kind)),s.push(A)}return s}fn(e,r){return!!e.filters.find(n=>n instanceof Me&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,r){const n=pc(e),i=KA(e);return(r?n.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.U()).next(s=>{const a=[];return K.forEach(s,o=>i.get([o.indexId,this.uid]).next(A=>{a.push(function(u,d){const f=d?new Kd(d.sequenceNumber,new En(gA(d.readTime),new Ae(Ui(d.documentKey)),d.largestBatchId)):Kd.empty(),g=u.fields.map(([p,m])=>new Lg(vt.fromServerFormat(p),m));return new kp(u.indexId,u.collectionGroup,g,f)}(o,A))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((n,i)=>{const s=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Fe(n.collectionGroup,i.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const i=pc(e),s=KA(e);return this.yn(e).next(a=>i.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(o=>K.forEach(o,A=>s.put(IT(A.indexId,this.uid,a,n)))))}updateIndexEntries(e,r){const n=new Map;return K.forEach(r,(i,s)=>{const a=n.get(i.collectionGroup);return(a?K.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(o=>(n.set(i.collectionGroup,o),K.forEach(o,A=>this.wn(e,i,A).next(l=>{const u=this.Sn(s,A);return l.isEqual(u)?K.resolve():this.bn(e,s,A,l,u)}))))})}Dn(e,r,n,i){return VA(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(n,r.key),documentKey:r.key.path.toArray()})}vn(e,r,n,i){return VA(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(n,r.key),r.key.path.toArray()])}wn(e,r,n){const i=VA(e);let s=new tt(Js);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,r)])},(a,o)=>{s=s.add(new Oo(n.indexId,r,o.arrayValue,o.directionalValue))}).next(()=>s)}Sn(e,r){let n=new tt(Js);const i=this.Vn(r,e);if(i==null)return n;const s=Rx(r);if(s!=null){const a=e.data.field(s.fieldPath);if(Wd(a))for(const o of a.arrayValue.values||[])n=n.add(new Oo(r.indexId,e.key,this.dn(o),i))}else n=n.add(new Oo(r.indexId,e.key,Oh,i));return n}bn(e,r,n,i,s){te("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const a=[];return function(A,l,u,d,f){const g=A.getIterator(),p=l.getIterator();let m=HA(g),v=HA(p);for(;m||v;){let y=!1,w=!1;if(m&&v){const B=u(m,v);B<0?w=!0:B>0&&(y=!0)}else m!=null?w=!0:y=!0;y?(d(v),v=HA(p)):w?(f(m),m=HA(g)):(m=HA(g),v=HA(p))}}(i,s,Js,o=>{a.push(this.Dn(e,r,n,o))},o=>{a.push(this.vn(e,r,n,o))}),K.waitFor(a)}yn(e){let r=1;return KA(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,i,s)=>{s.done(),r=i.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((a,o)=>Js(a,o)).filter((a,o,A)=>!o||Js(a,A[o-1])!==0);const i=[];i.push(e);for(const a of n){const o=Js(a,e),A=Js(a,r);if(o===0)i[0]=e.Zt();else if(o>0&&A<0)i.push(a),i.push(a.Zt());else if(A>0)break}i.push(r);const s=[];for(let a=0;a<i.length;a+=2){if(this.Cn(i[a],i[a+1]))return[];const o=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,Oh,[]],A=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,Oh,[]];s.push(IDBKeyRange.bound(o,A))}return s}Cn(e,r){return Js(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(kT)}getMinOffset(e,r){return K.mapArray(this.hn(r),n=>this.Pn(e,n).next(i=>i||ve())).next(kT)}}function QT(t){return Jt(t,"collectionParents")}function VA(t){return Jt(t,"indexEntries")}function pc(t){return Jt(t,"indexConfiguration")}function KA(t){return Jt(t,"indexState")}function kT(t){we(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const i=t[n].indexState.offset;FC(i,e)<0&&(e=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new En(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Jr{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Jr(e,Jr.DEFAULT_COLLECTION_PERCENTILE,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(t,e,r){const n=t.store("mutations"),i=t.store("documentMutations"),s=[],a=IDBKeyRange.only(r.batchId);let o=0;const A=n.J({range:a},(u,d,f)=>(o++,f.delete()));s.push(A.next(()=>{we(o===1)}));const l=[];for(const u of r.mutations){const d=fO(e,u.key.path,r.batchId);s.push(i.delete(d)),l.push(u.key)}return K.waitFor(s).next(()=>l)}function Kp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ve();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr.DEFAULT_COLLECTION_PERCENTILE=10,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jr.DEFAULT=new Jr(41943040,Jr.DEFAULT_COLLECTION_PERCENTILE,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jr.DISABLED=new Jr(-1,0,0);class E0{constructor(e,r,n,i){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=i,this.Fn={}}static lt(e,r,n,i){we(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new E0(s,r,n,i)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zs(e).J({index:"userMutationsIndex",range:n},(i,s,a)=>{r=!1,a.done()}).next(()=>r)}addMutationBatch(e,r,n,i){const s=sl(e),a=Zs(e);return a.add({}).next(o=>{we(typeof o=="number");const A=new RC(o,r,n,i),l=function(g,p,m){const v=m.baseMutations.map(w=>Lp(g.ct,w)),y=m.mutations.map(w=>Lp(g.ct,w));return{userId:p,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:v,mutations:y}}(this.serializer,this.userId,A),u=[];let d=new tt((f,g)=>Fe(f.canonicalString(),g.canonicalString()));for(const f of i){const g=fO(this.userId,f.key.path,o);d=d.add(f.key.path.popLast()),u.push(a.put(l)),u.push(s.put(g,A9))}return d.forEach(f=>{u.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[o]=A.keys()}),K.waitFor(u).next(()=>A)})}lookupMutationBatch(e,r){return Zs(e).get(r).next(n=>n?(we(n.userId===this.userId),Qo(this.serializer,n)):null)}Mn(e,r){return this.Fn[r]?K.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const i=n.keys();return this.Fn[r]=i,i}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return Zs(e).J({index:"userMutationsIndex",range:i},(a,o,A)=>{o.userId===this.userId&&(we(o.batchId>=n),s=Qo(this.serializer,o)),A.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Zs(e).J({index:"userMutationsIndex",range:r,reverse:!0},(i,s,a)=>{n=s.batchId,a.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zs(e).U("userMutationsIndex",r).next(n=>n.map(i=>Qo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=Hg(this.userId,r.path),i=IDBKeyRange.lowerBound(n),s=[];return sl(e).J({range:i},(a,o,A)=>{const[l,u,d]=a,f=Ui(u);if(l===this.userId&&r.path.isEqual(f))return Zs(e).get(d).next(g=>{if(!g)throw ve();we(g.userId===this.userId),s.push(Qo(this.serializer,g))});A.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new tt(Fe);const i=[];return r.forEach(s=>{const a=Hg(this.userId,s.path),o=IDBKeyRange.lowerBound(a),A=sl(e).J({range:o},(l,u,d)=>{const[f,g,p]=l,m=Ui(g);f===this.userId&&s.path.isEqual(m)?n=n.add(p):d.done()});i.push(A)}),K.waitFor(i).next(()=>this.xn(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1,s=Hg(this.userId,n),a=IDBKeyRange.lowerBound(s);let o=new tt(Fe);return sl(e).J({range:a},(A,l,u)=>{const[d,f,g]=A,p=Ui(f);d===this.userId&&n.isPrefixOf(p)?p.length===i&&(o=o.add(g)):u.done()}).next(()=>this.xn(e,o))}xn(e,r){const n=[],i=[];return r.forEach(s=>{i.push(Zs(e).get(s).next(a=>{if(a===null)throw ve();we(a.userId===this.userId),n.push(Qo(this.serializer,a))}))}),K.waitFor(i).next(()=>n)}removeMutationBatch(e,r){return A4(e._e,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),K.forEach(n,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return K.resolve();const n=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return sl(e).J({range:n},(s,a,o)=>{if(s[0]===this.userId){const A=Ui(s[1]);i.push(A)}else o.done()}).next(()=>{we(i.length===0)})})}containsKey(e,r){return l4(e,this.userId,r)}Nn(e){return u4(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function l4(t,e,r){const n=Hg(e,r.path),i=n[1],s=IDBKeyRange.lowerBound(n);let a=!1;return sl(t).J({range:s,H:!0},(o,A,l)=>{const[u,d,f]=o;u===e&&d===i&&(a=!0),l.done()}).next(()=>a)}function Zs(t){return Jt(t,"mutations")}function sl(t){return Jt(t,"documentMutations")}function u4(t){return Jt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new pA(0)}static kn(){return new pA(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const n=new pA(r.highestTargetId);return r.highestTargetId=n.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>Ce.fromTimestamp(new xt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.qn(e).next(i=>(i.highestListenSequenceNumber=r,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),r>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r),this.Qn(e,i)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(n=>(n.targetCount+=1,this.$n(r,n),this.Qn(e,n))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>$A(e).delete(r.targetId)).next(()=>this.qn(e)).next(n=>(we(n.targetCount>0),n.targetCount-=1,this.Qn(e,n)))}removeTargets(e,r,n){let i=0;const s=[];return $A(e).J((a,o)=>{const A=Mc(o);A.sequenceNumber<=r&&n.get(A.targetId)===null&&(i++,s.push(this.removeTargetData(e,A)))}).next(()=>K.waitFor(s)).next(()=>i)}forEachTarget(e,r){return $A(e).J((n,i)=>{const s=Mc(i);r(s)})}qn(e){return DT(e).get("targetGlobalKey").next(r=>(we(r!==null),r))}Qn(e,r){return DT(e).put("targetGlobalKey",r)}Kn(e,r){return $A(e).put(i4(this.serializer,r))}$n(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const n=fA(r),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return $A(e).J({range:i,index:"queryTargetsIndex"},(a,o,A)=>{const l=Mc(o);bf(r,l.target)&&(s=l,A.done())}).next(()=>s)}addMatchingKeys(e,r,n){const i=[],s=ca(e);return r.forEach(a=>{const o=$r(a.path);i.push(s.put({targetId:n,path:o})),i.push(this.referenceDelegate.addReference(e,n,a))}),K.waitFor(i)}removeMatchingKeys(e,r,n){const i=ca(e);return K.forEach(r,s=>{const a=$r(s.path);return K.waitFor([i.delete([n,a]),this.referenceDelegate.removeReference(e,n,s)])})}removeMatchingKeysForTargetId(e,r){const n=ca(e),i=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),i=ca(e);let s=ke();return i.J({range:n,H:!0},(a,o,A)=>{const l=Ui(a[1]),u=new Ae(l);s=s.add(u)}).next(()=>s)}containsKey(e,r){const n=$r(r.path),i=IDBKeyRange.bound([n],[AO(n)],!1,!0);let s=0;return ca(e).J({index:"documentTargetsIndex",H:!0,range:i},([a,o],A,l)=>{a!==0&&(s++,l.done())}).next(()=>s>0)}ot(e,r){return $A(e).get(r).next(n=>n?Mc(n):null)}}function $A(t){return Jt(t,"targets")}function DT(t){return Jt(t,"targetGlobal")}function ca(t){return Jt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT([t,e],[r,n]){const i=Fe(t,r);return i===0?Fe(e,n):i}class FG{constructor(e){this.Un=e,this.buffer=new tt(jT),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();jT(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class UG{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){lo(r)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await _A(r)}await this.Hn(3e5)})}}class PG{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return K.resolve($n.oe);const n=new FG(r);return this.Jn.forEachTarget(e,i=>n.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>n.zn(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(OT)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OT):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let n,i,s,a,o,A,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,a=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(n=d,o=Date.now(),this.removeTargets(e,n,r))).next(d=>(s=d,A=Date.now(),this.removeOrphanedDocuments(e,n))).next(d=>(l=Date.now(),tl()<=Re.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(A-o)+`ms
	Removed ${d} documents in `+(l-A)+`ms
Total Duration: ${l-u}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function NG(t,e){return new PG(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(e,r){this.db=e,this.garbageCollector=NG(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}er(e){let r=0;return this.Zn(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(n,i)=>r(i))}addReference(e,r,n){return Dh(e,n)}removeReference(e,r,n){return Dh(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return Dh(e,r)}nr(e,r){return function(i,s){let a=!1;return u4(i).Y(o=>l4(i,o,s).next(A=>(A&&(a=!0),K.resolve(!A)))).next(()=>a)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(a,o)=>{if(o<=r){const A=this.nr(e,a).next(l=>{if(!l)return s++,n.getEntry(e,a).next(()=>(n.removeEntry(a,Ce.min()),ca(e).delete(function(d){return[0,$r(d.path)]}(a))))});i.push(A)}}).next(()=>K.waitFor(i)).next(()=>n.apply(e)).next(()=>s)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return Dh(e,r)}tr(e,r){const n=ca(e);let i,s=$n.oe;return n.J({index:"documentTargetsIndex"},([a,o],{path:A,sequenceNumber:l})=>{a===0?(s!==$n.oe&&r(new Ae(Ui(i)),s),s=l,i=A):s=$n.oe}).next(()=>{s!==$n.oe&&r(new Ae(Ui(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Dh(t,e){return ca(t).put(function(n,i){return{targetId:0,path:$r(n.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.changes=new uo(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?K.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return Co(e).put(n)}removeEntry(e,r,n){return Co(e).delete(function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Hp(a),o[o.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.rr(e,n)))}getEntry(e,r){let n=kt.newInvalidDocument(r);return Co(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(mc(r))},(i,s)=>{n=this.ir(r,s)}).next(()=>n)}sr(e,r){let n={size:0,document:kt.newInvalidDocument(r)};return Co(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(mc(r))},(i,s)=>{n={document:this.ir(r,s),size:Kp(s)}}).next(()=>n)}getEntries(e,r){let n=wn();return this._r(e,r,(i,s)=>{const a=this.ir(i,s);n=n.insert(i,a)}).next(()=>n)}ar(e,r){let n=wn(),i=new bt(Ae.comparator);return this._r(e,r,(s,a)=>{const o=this.ir(s,a);n=n.insert(s,o),i=i.insert(s,Kp(a))}).next(()=>({documents:n,ur:i}))}_r(e,r,n){if(r.isEmpty())return K.resolve();let i=new tt(LT);r.forEach(A=>i=i.add(A));const s=IDBKeyRange.bound(mc(i.first()),mc(i.last())),a=i.getIterator();let o=a.getNext();return Co(e).J({index:"documentKeyIndex",range:s},(A,l,u)=>{const d=Ae.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;o&&LT(o,d)<0;)n(o,null),o=a.getNext();o&&o.isEqual(d)&&(n(o,l),o=a.hasNext()?a.getNext():null),o?u.$(mc(o)):u.done()}).next(()=>{for(;o;)n(o,null),o=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,r,n,i,s){const a=r.path,o=[a.popLast().toArray(),a.lastSegment(),Hp(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],A=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Co(e).U(IDBKeyRange.bound(o,A,!0)).next(l=>{s==null||s.incrementDocumentReadCount(l.length);let u=wn();for(const d of l){const f=this.ir(Ae.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);f.isFoundDocument()&&(Cf(r,f)||i.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(e,r,n,i){let s=wn();const a=MT(r,n),o=MT(r,En.max());return Co(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,o,!0)},(A,l,u)=>{const d=this.ir(Ae.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new OG(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return RT(e).get("remoteDocumentGlobalKey").next(r=>(we(!!r),r))}rr(e,r){return RT(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const n=yG(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(Ce.min())))return n}return kt.newInvalidDocument(e)}}function d4(t){return new kG(t)}class OG extends c4{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new uo(n=>n.toString(),(n,i)=>n.isEqual(i))}applyChanges(e){const r=[];let n=0,i=new tt((s,a)=>Fe(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const o=this.lr.get(s);if(r.push(this.cr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const A=ET(this.cr.serializer,a);i=i.add(s.path.popLast());const l=Kp(A);n+=l-o.size,r.push(this.cr.addEntry(e,s,A))}else if(n-=o.size,this.trackRemovals){const A=ET(this.cr.serializer,a.convertToNoDocument(Ce.min()));r.push(this.cr.addEntry(e,s,A))}}),i.forEach(s=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),r.push(this.cr.updateMetadata(e,n)),K.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(n=>(this.lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:n,ur:i})=>(i.forEach((s,a)=>{this.lr.set(s,{size:a,readTime:n.get(s).readTime})}),n))}}function RT(t){return Jt(t,"remoteDocumentGlobal")}function Co(t){return Jt(t,"remoteDocumentsV14")}function mc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function MT(t,e){const r=e.documentKey.path.toArray();return[t,Hp(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function LT(t,e){const r=t.path.toArray(),n=e.path.toArray();let i=0;for(let s=0;s<r.length-2&&s<n.length-2;++s)if(i=Fe(r[s],n[s]),i)return i;return i=Fe(r.length,n.length),i||(i=Fe(r[r.length-2],n[n.length-2]),i||Fe(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&ld(n.mutation,i,Gn.empty(),xt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,ke()).next(()=>n))}getLocalViewOfDocuments(e,r,n=ke()){const i=Pi();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=jc();return s.forEach((o,A)=>{a=a.insert(o,A.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=Pi();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,ke()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=wn();const a=Ad(),o=function(){return Ad()}();return r.forEach((A,l)=>{const u=n.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof co)?s=s.insert(l.key,l):u!==void 0?(a.set(l.key,u.mutation.getFieldMask()),ld(u.mutation,l,u.mutation.getFieldMask(),xt.now())):a.set(l.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(A=>(A.forEach((l,u)=>a.set(l,u)),r.forEach((l,u)=>{var d;return o.set(l,new DG(u,(d=a.get(l))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(e,r){const n=Ad();let i=new bt((a,o)=>a-o),s=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(A=>{const l=r.get(A);if(l===null)return;let u=n.get(A)||Gn.empty();u=o.applyToLocalView(l,u),n.set(A,u);const d=(i.get(o.batchId)||ke()).add(A);i=i.insert(o.batchId,d)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const A=o.getNext(),l=A.key,u=A.value,d=NO();u.forEach(f=>{if(!s.has(f)){const g=MO(r.get(f),n.get(f));g!==null&&d.set(f,g),s=s.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,l,d))}return K.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return Ae.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):R9(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):K.resolve(Pi());let o=-1,A=s;return a.next(l=>K.forEach(l,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),s.get(u)?K.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{A=A.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,A,l,ke())).next(u=>({batchId:o,changes:PO(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ae(r)).next(n=>{let i=jc();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=jc();return this.indexManager.getCollectionParents(e,s).next(o=>K.forEach(o,A=>{const l=function(d,f){return new y0(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,A.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,n,i).next(u=>{u.forEach((d,f)=>{a=a.insert(d,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((A,l)=>{const u=l.getKey();a.get(u)===null&&(a=a.insert(u,kt.newInvalidDocument(u)))});let o=jc();return a.forEach((A,l)=>{const u=s.get(A);u!==void 0&&ld(u.mutation,l,Gn.empty(),xt.now()),Cf(r,l)&&(o=o.insert(A,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return K.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Gr(i.createTime)}}(r)),K.resolve()}getNamedQuery(e,r){return K.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:s4(i.bundledQuery),readTime:Gr(i.readTime)}}(r)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(){this.overlays=new bt(Ae.comparator),this.Ir=new Map}getOverlay(e,r){return K.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Pi();return K.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),K.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),K.resolve()}getOverlaysForCollection(e,r,n){const i=Pi(),s=r.length+1,a=new Ae(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const A=o.getNext().value,l=A.getKey();if(!r.isPrefixOf(l.path))break;l.path.length===s&&A.largestBatchId>n&&i.set(A.getKey(),A)}return K.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new bt((l,u)=>l-u);const a=this.overlays.getIterator();for(;a.hasNext();){const l=a.getNext().value;if(l.getKey().getCollectionGroup()===r&&l.largestBatchId>n){let u=s.get(l.largestBatchId);u===null&&(u=Pi(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const o=Pi(),A=s.getIterator();for(;A.hasNext()&&(A.getNext().value.forEach((l,u)=>o.set(l,u)),!(o.size()>=i)););return K.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new LC(r,n));let s=this.Ir.get(r);s===void 0&&(s=ke(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.Tr=new tt(ar.Er),this.dr=new tt(ar.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new ar(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new ar(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Ae(new qe([])),n=new ar(r,e),i=new ar(r,e+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Ae(new qe([])),n=new ar(r,e),i=new ar(r,e+1);let s=ke();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new ar(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class ar{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Ae.comparator(e.key,r.key)||Fe(e.wr,r.wr)}static Ar(e,r){return Fe(e.wr,r.wr)||Ae.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new tt(ar.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new RC(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new ar(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,r){return K.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new ar(r,0),i=new ar(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const o=this.Dr(a.wr);s.push(o)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new tt(Fe);return r.forEach(i=>{const s=new ar(i,0),a=new ar(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{n=n.add(o.wr)})}),K.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Ae.isDocumentKey(s)||(s=s.child(""));const a=new ar(new Ae(s),0);let o=new tt(Fe);return this.br.forEachWhile(A=>{const l=A.key.path;return!!n.isPrefixOf(l)&&(l.length===i&&(o=o.add(A.wr)),!0)},a),K.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){we(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return K.forEach(r.mutations,i=>{const s=new ar(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new ar(r,0),i=this.br.firstAfterOrEqual(n);return K.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(e){this.Mr=e,this.docs=function(){return new bt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return K.resolve(n?n.document.mutableCopy():kt.newInvalidDocument(r))}getEntries(e,r){let n=wn();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():kt.newInvalidDocument(i))}),K.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=wn();const a=r.path,o=new Ae(a.child("")),A=this.docs.getIteratorFrom(o);for(;A.hasNext();){const{key:l,value:{document:u}}=A.getNext();if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||FC(lO(u),n)<=0||(i.has(u.key)||Cf(r,u))&&(s=s.insert(u.key,u.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,r,n,i){ve()}Or(e,r){return K.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new VG(this)}getSize(e){return K.resolve(this.size)}}class VG extends c4{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),K.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(e){this.persistence=e,this.Nr=new uo(r=>fA(r),bf),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new GC,this.targetCount=0,this.kr=pA.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),K.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new pA(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,K.resolve()}updateTargetData(e,r){return this.Kn(r),K.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return K.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),K.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),K.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return K.resolve(n)}containsKey(e,r){return K.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,r){this.qr={},this.overlays={},this.Qr=new $n(0),this.Kr=!1,this.Kr=!0,this.$r=new MG,this.referenceDelegate=e(this),this.Ur=new KG(this),this.indexManager=new IG,this.remoteDocumentCache=function(i){return new HG(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new n4(r),this.Gr=new jG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new RG,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new LG(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){te("MemoryPersistence","Starting transaction:",e);const i=new $G(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return K.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class $G extends cO{constructor(e){super(),this.currentSequenceNumber=e}}class _0{constructor(e){this.persistence=e,this.Jr=new GC,this.Yr=null}static Zr(e){return new _0(e)}get Xr(){if(this.Yr)return this.Yr;throw ve()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),K.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),K.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),K.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,n=>{const i=Ae.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,Ce.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return K.or([()=>K.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e){this.serializer=e}O(e,r,n,i){const s=new p0("createOrUpgrade",r);n<1&&i>=1&&(function(A){A.createObjectStore("owner")}(e),function(A){A.createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tT,{unique:!0}),A.createObjectStore("documentMutations")}(e),HT(e),function(A){A.createObjectStore("remoteDocuments")}(e));let a=K.resolve();return n<3&&i>=3&&(n!==0&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),HT(e)),a=a.next(()=>function(A){const l=A.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ce.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),n<4&&i>=4&&(n!==0&&(a=a.next(()=>function(A,l){return l.store("mutations").U().next(u=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tT,{unique:!0});const d=l.store("mutations"),f=u.map(g=>d.put(g));return K.waitFor(f)})}(e,s))),a=a.next(()=>{(function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),n<5&&i>=5&&(a=a.next(()=>this.ni(s))),n<6&&i>=6&&(a=a.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),n<7&&i>=7&&(a=a.next(()=>this.ii(s))),n<8&&i>=8&&(a=a.next(()=>this.si(e,s))),n<9&&i>=9&&(a=a.next(()=>{(function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&i>=10&&(a=a.next(()=>this.oi(s))),n<11&&i>=11&&(a=a.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&i>=12&&(a=a.next(()=>{(function(A){const l=A.createObjectStore("documentOverlays",{keyPath:w9});l.createIndex("collectionPathOverlayIndex",x9,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",b9,{unique:!1})})(e)})),n<13&&i>=13&&(a=a.next(()=>function(A){const l=A.createObjectStore("remoteDocumentsV14",{keyPath:l9});l.createIndex("documentKeyIndex",u9),l.createIndex("collectionGroupIndex",c9)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&i>=14&&(a=a.next(()=>this.ai(e,s))),n<15&&i>=15&&(a=a.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:p9}).createIndex("sequenceNumberIndex",m9,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:v9}).createIndex("documentKeyIndex",y9,{unique:!1})}(e))),n<16&&i>=16&&(a=a.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),n<17&&i>=17&&(a=a.next(()=>{(function(A){A.createObjectStore("globals",{keyPath:"name"})})(e)})),a}ri(e){let r=0;return e.store("remoteDocuments").J((n,i)=>{r+=Kp(i)}).next(()=>{const n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}ni(e){const r=e.store("mutationQueues"),n=e.store("mutations");return r.U().next(i=>K.forEach(i,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",a).next(o=>K.forEach(o,A=>{we(A.userId===s.userId);const l=Qo(this.serializer,A);return A4(e,s.userId,l).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return n.J((a,o)=>{const A=new qe(a),l=function(d){return[0,$r(d)]}(A);s.push(r.get(l).next(u=>u?K.resolve():(d=>r.put({targetId:0,path:$r(d),sequenceNumber:i.highestListenSequenceNumber}))(A)))}).next(()=>K.waitFor(s))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:g9});const n=r.store("collectionParents"),i=new $C,s=a=>{if(i.add(a)){const o=a.lastSegment(),A=a.popLast();return n.put({collectionId:o,parent:$r(A)})}};return r.store("remoteDocuments").J({H:!0},(a,o)=>{const A=new qe(a);return s(A.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([a,o,A],l)=>{const u=Ui(o);return s(u.popLast())}))}oi(e){const r=e.store("targets");return r.J((n,i)=>{const s=Mc(i),a=i4(this.serializer,s);return r.put(a)})}_i(e,r){const n=r.store("remoteDocuments"),i=[];return n.J((s,a)=>{const o=r.store("remoteDocumentsV14"),A=function(d){return d.document?new Ae(qe.fromString(d.document.name).popFirst(5)):d.noDocument?Ae.fromSegments(d.noDocument.path):d.unknownDocument?Ae.fromSegments(d.unknownDocument.path):ve()}(a).path.toArray(),l={prefixPath:A.slice(0,A.length-2),collectionGroup:A[A.length-2],documentId:A[A.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(l))}).next(()=>K.waitFor(i))}ai(e,r){const n=r.store("mutations"),i=d4(this.serializer),s=new h4(_0.Zr,this.serializer.ct);return n.U().next(a=>{const o=new Map;return a.forEach(A=>{var l;let u=(l=o.get(A.userId))!==null&&l!==void 0?l:ke();Qo(this.serializer,A).keys().forEach(d=>u=u.add(d)),o.set(A.userId,u)}),K.forEach(o,(A,l)=>{const u=new vr(l),d=C0.lt(this.serializer,u),f=s.getIndexManager(u),g=E0.lt(u,this.serializer,f,s.referenceDelegate);return new f4(i,g,d,f).recalculateAndSaveOverlaysForDocumentKeys(new Mx(r,$n.oe),A).next()})})}}function HT(t){t.createObjectStore("targetDocuments",{keyPath:f9}).createIndex("documentTargetsIndex",h9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",d9,{unique:!0}),t.createObjectStore("targetGlobal")}const Dy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zC{constructor(e,r,n,i,s,a,o,A,l,u,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ui=s,this.window=a,this.document=o,this.ci=l,this.li=u,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!zC.D())throw new fe(X.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QG(this,i),this.Ai=r+"main",this.serializer=new n4(A),this.Ri=new Da(this.Ai,this.hi,new GG(this.serializer)),this.$r=new xG,this.Ur=new TG(this.referenceDelegate,this.serializer),this.remoteDocumentCache=d4(this.serializer),this.Gr=new wG,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,u===!1&&Hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(X.FAILED_PRECONDITION,Dy);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new $n(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(lo(e))return te("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return vc(e).get("owner").next(r=>K.resolve(this.vi(r)))}Ci(e){return jh(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const n=Jt(r,"clientMetadata");return n.U().next(i=>{const s=this.xi(i,18e5),a=i.filter(o=>s.indexOf(o)===-1);return K.forEach(a,o=>n.delete(o.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Vi)for(const r of e)this.Vi.removeItem(this.Oi(r.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?K.resolve(!0):vc(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new fe(X.FAILED_PRECONDITION,Dy);return!1}}return!(!this.networkEnabled||!this.inForeground)||jh(e).U().next(n=>this.xi(n,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&te("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new Mx(e,$n.oe);return this.bi(r).next(()=>this.Ci(r))}),this.Ri.close(),this.qi()}xi(e,r){return e.filter(n=>this.Mi(n.updateTimeMs,r)&&!this.Ni(n.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>jh(e).U().next(r=>this.xi(r,18e5).map(n=>n.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return E0.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new SG(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return C0.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,n){te("IndexedDbPersistence","Starting transaction:",e);const i=r==="readonly"?"readonly":"readwrite",s=function(A){return A===17?E9:A===16?C9:A===15?PC:A===14?pO:A===13?gO:A===12?B9:A===11?hO:void ve()}(this.hi);let a;return this.Ri.runTransaction(e,i,s,o=>(a=new Mx(o,this.Qr?this.Qr.next():$n.oe),r==="readwrite-primary"?this.wi(a).next(A=>!!A||this.Si(a)).next(A=>{if(!A)throw Hr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new fe(X.FAILED_PRECONDITION,uO);return n(a)}).next(A=>this.Di(a).next(()=>A)):this.Ki(a).next(()=>n(a)))).then(o=>(a.raiseOnCommittedEvent(),o))}Ki(e){return vc(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new fe(X.FAILED_PRECONDITION,Dy)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vc(e).put("owner",r)}static D(){return Da.D()}bi(e){const r=vc(e);return r.get("owner").next(n=>this.vi(n)?(te("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):K.resolve())}Mi(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(Hr(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;Gk()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const n=((r=this.Vi)===null||r===void 0?void 0:r.getItem(this.Oi(e)))!==null;return te("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Hr("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Hr("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vc(t){return Jt(t,"owner")}function jh(t){return Jt(t,"clientMetadata")}function zG(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=ke(),i=ke();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new WC(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Gk()?8:dO(qt())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new WG;return this.Xi(e,r,a).next(o=>{if(s.result=o,this.zi)return this.es(e,r,a,o.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(tl()<=Re.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",rl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(tl()<=Re.DEBUG&&te("QueryEngine","Query:",rl(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(tl()<=Re.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",rl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(r))):K.resolve())}Yi(e,r){if(hT(r))return K.resolve(null);let n=Jn(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Rp(r,null,"F"),n=Jn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=ke(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(A=>{const l=this.ts(r,o);return this.ns(r,l,a,A.readTime)?this.Yi(e,Rp(r,null,"F")):this.rs(e,l,r,A)}))})))}Zi(e,r,n,i){return hT(r)||i.isEqual(Ce.min())?K.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const a=this.ts(r,s);return this.ns(r,a,n,i)?K.resolve(null):(tl()<=Re.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rl(r)),this.rs(e,a,r,t9(i,-1)).next(o=>o))})}ts(e,r){let n=new tt(FO(e));return r.forEach((i,s)=>{Cf(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return tl()<=Re.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",rl(r)),this.Ji.getDocumentsMatchingQuery(e,r,En.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new bt(Fe),this._s=new uo(s=>fA(s),bf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function p4(t,e,r,n){return new YG(t,e,r,n)}async function m4(t,e){const r=Te(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let A=ke();for(const l of i){a.push(l.batchId);for(const u of l.mutations)A=A.add(u.key)}for(const l of s){o.push(l.batchId);for(const u of l.mutations)A=A.add(u.key)}return r.localDocuments.getDocuments(n,A).next(l=>({hs:l,removedBatchIds:a,addedBatchIds:o}))})})}function XG(t,e){const r=Te(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,A,l,u){const d=l.batch,f=d.keys();let g=K.resolve();return f.forEach(p=>{g=g.next(()=>u.getEntry(A,p)).next(m=>{const v=l.docVersions.get(p);we(v!==null),m.version.compareTo(v)<0&&(d.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),u.addEntry(m)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(A,d))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let A=ke();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(A=A.add(o.batch.mutations[l].key));return A}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function v4(t){const e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function qG(t,e){const r=Te(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;o.push(r.Ur.removeMatchingKeys(s,u.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(s,u.addedDocuments,d)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Rt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,n)),i=i.insert(d,g),function(m,v,y){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,g,u)&&o.push(r.Ur.updateTargetData(s,g))});let A=wn(),l=ke();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(JG(s,a,e.documentUpdates).next(u=>{A=u.Ps,l=u.Is})),!n.isEqual(Ce.min())){const u=r.Ur.getLastRemoteSnapshotVersion(s).next(d=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(u)}return K.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,A,l)).next(()=>A)}).then(s=>(r.os=i,s))}function JG(t,e,r){let n=ke(),i=ke();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=wn();return r.forEach((o,A)=>{const l=s.get(o);A.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(o)),A.isNoDocument()&&A.version.isEqual(Ce.min())?(e.removeEntry(o,A.readTime),a=a.insert(o,A)):!l.isValidDocument()||A.version.compareTo(l.version)>0||A.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(A),a=a.insert(o,A)):te("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",A.version)}),{Ps:a,Is:i}})}function ZG(t,e){const r=Te(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function ez(t,e){const r=Te(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,K.resolve(i)):r.Ur.allocateTargetId(n).next(a=>(i=new hs(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Zx(t,e,r){const n=Te(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!lo(a))throw a;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function VT(t,e,r){const n=Te(t);let i=Ce.min(),s=ke();return n.persistence.runTransaction("Execute query","readwrite",a=>function(A,l,u){const d=Te(A),f=d._s.get(u);return f!==void 0?K.resolve(d.os.get(f)):d.Ur.getTargetData(l,u)}(n,a,Jn(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(A=>{s=A})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:Ce.min(),r?s:ke())).next(o=>(tz(n,L9(e),o),{documents:o,Ts:s})))}function tz(t,e,r){let n=t.us.get(e)||Ce.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class KT{constructor(){this.activeTargetIds=z9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y4{constructor(){this.so=new KT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new KT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh=null;function jy(){return Rh===null?Rh=function(){return 268435456+Math.round(2147483648*Math.random())}():Rh++,"0x"+Rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="WebChannelConnection";class sz extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,a){const o=jy(),A=this.xo(r,n.toUriEncodedString());te("RestConnection",`Sending RPC '${r}' ${o}:`,A,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,a),this.No(r,A,l,i).then(u=>(te("RestConnection",`Received RPC '${r}' ${o}: `,u),u),u=>{throw za("RestConnection",`RPC '${r}' ${o} failed with error: `,u,"url: ",A,"request:",i),u})}Lo(r,n,i,s,a,o){return this.Mo(r,n,i,s,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bu}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>r[a]=s),i&&i.headers.forEach((s,a)=>r[a]=s)}xo(r,n){const i=nz[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=jy();return new Promise((a,o)=>{const A=new tO;A.setWithCredentials(!0),A.listenOnce(rO.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case Mg.NO_ERROR:const u=A.getResponseJson();te(Fr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),a(u);break;case Mg.TIMEOUT:te(Fr,`RPC '${e}' ${s} timed out`),o(new fe(X.DEADLINE_EXCEEDED,"Request time out"));break;case Mg.HTTP_ERROR:const d=A.getStatus();if(te(Fr,`RPC '${e}' ${s} failed with status:`,d,"response text:",A.getResponseText()),d>0){let f=A.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const p=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(y)>=0?y:X.UNKNOWN}(g.status);o(new fe(p,g.message))}else o(new fe(X.UNKNOWN,"Server responded with status "+A.getStatus()))}else o(new fe(X.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{te(Fr,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);te(Fr,`RPC '${e}' ${s} sending request:`,i),A.send(r,"POST",l,n,15)})}Bo(e,r,n){const i=jy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=sO(),o=iO(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(A.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(A.useFetchStreams=!0),this.Oo(A.initMessageHeaders,r,n),A.encodeInitMessageHeaders=!0;const u=s.join("");te(Fr,`Creating RPC '${e}' stream ${i}: ${u}`,A);const d=a.createWebChannel(u,A);let f=!1,g=!1;const p=new iz({Io:v=>{g?te(Fr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(te(Fr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),te(Fr,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),m=(v,y,w)=>{v.listen(y,B=>{try{w(B)}catch(I){setTimeout(()=>{throw I},0)}})};return m(d,Dc.EventType.OPEN,()=>{g||(te(Fr,`RPC '${e}' stream ${i} transport opened.`),p.yo())}),m(d,Dc.EventType.CLOSE,()=>{g||(g=!0,te(Fr,`RPC '${e}' stream ${i} transport closed`),p.So())}),m(d,Dc.EventType.ERROR,v=>{g||(g=!0,za(Fr,`RPC '${e}' stream ${i} transport errored:`,v),p.So(new fe(X.UNAVAILABLE,"The operation could not be completed")))}),m(d,Dc.EventType.MESSAGE,v=>{var y;if(!g){const w=v.data[0];we(!!w);const B=w,I=B.error||((y=B[0])===null||y===void 0?void 0:y.error);if(I){te(Fr,`RPC '${e}' stream ${i} received error:`,I);const T=I.status;let F=function(S){const P=Lt[S];if(P!==void 0)return VO(P)}(T),C=I.message;F===void 0&&(F=X.INTERNAL,C="Unknown error status: "+T+" with message "+I.message),g=!0,p.So(new fe(F,C)),d.close()}else te(Fr,`RPC '${e}' stream ${i} received:`,w),p.bo(w)}}),m(o,nO.STAT_EVENT,v=>{v.stat===jx.PROXY?te(Fr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===jx.NOPROXY&&te(Fr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.wo()},0),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(){return typeof window<"u"?window:null}function zg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t){return new lG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,r,n,i,s,a,o,A){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=A,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new w4(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===X.RESOURCE_EXHAUSTED?(Hr(r.toString()),Hr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new fe(X.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oz extends x4{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=dG(this.serializer,e),n=function(s){if(!("targetChange"in s))return Ce.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ce.min():a.readTime?Gr(a.readTime):Ce.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Wx(this.serializer),r.addTarget=function(s,a){let o;const A=a.target;if(o=Dp(A)?{documents:qO(s,A)}:{query:JO(s,A)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=GO(s,a.resumeToken);const l=Gx(s,a.expectedCount);l!==null&&(o.expectedCount=l)}else if(a.snapshotVersion.compareTo(Ce.min())>0){o.readTime=tu(s,a.snapshotVersion.toTimestamp());const l=Gx(s,a.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const n=hG(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Wx(this.serializer),r.removeTarget=e,this.a_(r)}}class Az extends x4{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return we(!!e.streamToken),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=fG(e.writeResults,e.commitTime),n=Gr(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Wx(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Lp(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new fe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,zx(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(X.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,zx(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(X.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class uz{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Hr(r),this.D_=!1):te("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{IA(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(A){const l=Te(A);l.L_.add(4),await _f(l),l.q_.set("Unknown"),l.L_.delete(4),await S0(l)}(this))})}),this.q_=new uz(n,i)}}async function S0(t){if(IA(t))for(const e of t.B_)await e(!0)}async function _f(t){for(const e of t.B_)await e(!1)}function b4(t,e){const r=Te(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),JC(r)?qC(r):_u(r).r_()&&XC(r,e))}function YC(t,e){const r=Te(t),n=_u(r);r.N_.delete(e),n.r_()&&B4(r,e),r.N_.size===0&&(n.r_()?n.o_():IA(r)&&r.q_.set("Unknown"))}function XC(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}_u(t).A_(e)}function B4(t,e){t.Q_.xe(e),_u(t).R_(e)}function qC(t){t.Q_=new sG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),_u(t).start(),t.q_.v_()}function JC(t){return IA(t)&&!_u(t).n_()&&t.N_.size>0}function IA(t){return Te(t).L_.size===0}function C4(t){t.Q_=void 0}async function dz(t){t.q_.set("Online")}async function fz(t){t.N_.forEach((e,r)=>{XC(t,e)})}async function hz(t,e){C4(t),JC(t)?(t.q_.M_(e),qC(t)):t.q_.set("Unknown")}async function gz(t,e,r){if(t.q_.set("Online"),e instanceof $O&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await $p(t,n)}else if(e instanceof Gg?t.Q_.Ke(e):e instanceof KO?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ce.min()))try{const n=await v4(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((A,l)=>{if(A.resumeToken.approximateByteSize()>0){const u=s.N_.get(l);u&&s.N_.set(l,u.withResumeToken(A.resumeToken,a))}}),o.targetMismatches.forEach((A,l)=>{const u=s.N_.get(A);if(!u)return;s.N_.set(A,u.withResumeToken(Rt.EMPTY_BYTE_STRING,u.snapshotVersion)),B4(s,A);const d=new hs(u.target,A,l,u.sequenceNumber);XC(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){te("RemoteStore","Failed to raise snapshot:",n),await $p(t,n)}}async function $p(t,e,r){if(!lo(e))throw e;t.L_.add(1),await _f(t),t.q_.set("Offline"),r||(r=()=>v4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await S0(t)})}function E4(t,e){return e().catch(r=>$p(t,r,e))}async function If(t){const e=Te(t),r=qa(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;pz(e);)try{const i=await ZG(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,mz(e,i)}catch(i){await $p(e,i)}_4(e)&&I4(e)}function pz(t){return IA(t)&&t.O_.length<10}function mz(t,e){t.O_.push(e);const r=qa(t);r.r_()&&r.V_&&r.m_(e.mutations)}function _4(t){return IA(t)&&!qa(t).n_()&&t.O_.length>0}function I4(t){qa(t).start()}async function vz(t){qa(t).p_()}async function yz(t){const e=qa(t);for(const r of t.O_)e.m_(r.mutations)}async function wz(t,e,r){const n=t.O_.shift(),i=MC.from(n,e,r);await E4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await If(t)}async function xz(t,e){e&&qa(t).V_&&await async function(n,i){if(function(a){return rG(a)&&a!==X.ABORTED}(i.code)){const s=n.O_.shift();qa(n).s_(),await E4(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await If(n)}}(t,e),_4(t)&&I4(t)}async function GT(t,e){const r=Te(t);r.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const n=IA(r);r.L_.add(3),await _f(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await S0(r)}async function bz(t,e){const r=Te(t);e?(r.L_.delete(2),await S0(r)):e||(r.L_.add(2),await _f(r),r.q_.set("Unknown"))}function _u(t){return t.K_||(t.K_=function(r,n,i){const s=Te(r);return s.w_(),new oz(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:dz.bind(null,t),Ro:fz.bind(null,t),mo:hz.bind(null,t),d_:gz.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),JC(t)?qC(t):t.q_.set("Unknown")):(await t.K_.stop(),C4(t))})),t.K_}function qa(t){return t.U_||(t.U_=function(r,n,i){const s=Te(r);return s.w_(),new Az(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:vz.bind(null,t),mo:xz.bind(null,t),f_:yz.bind(null,t),g_:wz.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await If(t)):(await t.U_.stop(),t.O_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new ZC(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eE(t,e){if(Hr("AsyncQueue",`${e}: ${t}`),lo(t))return new fe(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ae.comparator(r.key,n.key):(r,n)=>Ae.comparator(r.key,n.key),this.keyedMap=jc(),this.sortedSet=new bt(this.comparator)}static emptySet(e){return new Pl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Pl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.W_=new bt(Ae.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):ve():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class ru{constructor(e,r,n,i,s,a,o,A,l){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=A,this.hasCachedResults=l}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new ru(e,r,Pl.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&w0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Cz{constructor(){this.queries=WT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Te(r),s=i.queries;i.queries=WT(),s.forEach((a,o)=>{for(const A of o.j_)A.onError(n)})})(this,new fe(X.ABORTED,"Firestore shutting down"))}}function WT(){return new uo(t=>TO(t),w0)}async function tE(t,e){const r=Te(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new Bz,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=eE(a,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&nE(r)}async function rE(t,e){const r=Te(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Ez(t,e){const r=Te(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&nE(r)}function _z(t,e,r){const n=Te(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function nE(t){t.Y_.forEach(e=>{e.next()})}var eb,YT;(YT=eb||(eb={})).ea="default",YT.Cache="cache";class iE{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ru(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=ru.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==eb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.key=e}}class T4{constructor(e){this.key=e}}class Iz{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ke(),this.mutatedKeys=ke(),this.Aa=FO(e),this.Ra=new Pl(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new zT,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const A=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),g=Cf(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),m=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let v=!1;f&&g?f.data.isEqual(g.data)?p!==m&&(n.track({type:3,doc:g}),v=!0):this.ga(f,g)||(n.track({type:2,doc:g}),v=!0,(A&&this.Aa(g,A)>0||l&&this.Aa(g,l)<0)&&(o=!0)):!f&&g?(n.track({type:0,doc:g}),v=!0):f&&!g&&(n.track({type:1,doc:f}),v=!0,(A||l)&&(o=!0)),v&&(g?(a=a.add(g),s=m?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),n.track({type:1,doc:u})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((u,d)=>function(g,p){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return m(g)-m(p)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],A=this.da.size===0&&this.current&&!i?1:0,l=A!==this.Ea;return this.Ea=A,a.length!==0||l?{snapshot:new ru(this.query,e.Ra,s,a,e.mutatedKeys,A===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ke(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new T4(n))}),this.da.forEach(n=>{e.has(n)||r.push(new S4(n))}),r}ba(e){this.Ta=e.Ts,this.da=ke();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return ru.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Sz{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Tz{constructor(e){this.key=e,this.va=!1}}class Fz{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new uo(o=>TO(o),w0),this.Ma=new Map,this.xa=new Set,this.Oa=new bt(Ae.comparator),this.Na=new Map,this.La=new GC,this.Ba={},this.ka=new Map,this.qa=pA.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Uz(t,e,r=!0){const n=k4(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await F4(n,e,r,!0),i}async function Pz(t,e){const r=k4(t);await F4(r,e,!0,!1)}async function F4(t,e,r,n){const i=await ez(t.localStore,Jn(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await Nz(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&b4(t.remoteStore,i),o}async function Nz(t,e,r,n,i){t.Ka=(d,f,g)=>async function(m,v,y,w){let B=v.view.ma(y);B.ns&&(B=await VT(m.localStore,v.query,!1).then(({documents:C})=>v.view.ma(C,B)));const I=w&&w.targetChanges.get(v.targetId),T=w&&w.targetMismatches.get(v.targetId)!=null,F=v.view.applyChanges(B,m.isPrimaryClient,I,T);return qT(m,v.targetId,F.wa),F.snapshot}(t,d,f,g);const s=await VT(t.localStore,e,!0),a=new Iz(e,s.Ts),o=a.ma(s.documents),A=Ef.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),l=a.applyChanges(o,t.isPrimaryClient,A);qT(t,r,l.wa);const u=new Sz(e,r,a);return t.Fa.set(e,u),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),l.snapshot}async function Qz(t,e,r){const n=Te(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!w0(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Zx(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&YC(n.remoteStore,i.targetId),tb(n,i.targetId)}).catch(_A)):(tb(n,i.targetId),await Zx(n.localStore,i.targetId,!0))}async function kz(t,e){const r=Te(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),YC(r.remoteStore,n.targetId))}async function Oz(t,e,r){const n=O4(t);try{const i=await function(a,o){const A=Te(a),l=xt.now(),u=o.reduce((g,p)=>g.add(p.key),ke());let d,f;return A.persistence.runTransaction("Locally write mutations","readwrite",g=>{let p=wn(),m=ke();return A.cs.getEntries(g,u).next(v=>{p=v,p.forEach((y,w)=>{w.isValidDocument()||(m=m.add(y))})}).next(()=>A.localDocuments.getOverlayedDocuments(g,p)).next(v=>{d=v;const y=[];for(const w of o){const B=eG(w,d.get(w.key).overlayedDocument);B!=null&&y.push(new co(w.key,B,xO(B.value.mapValue),xn.exists(!0)))}return A.mutationQueue.addMutationBatch(g,l,y,o)}).next(v=>{f=v;const y=v.applyToLocalDocumentSet(d,m);return A.documentOverlayCache.saveOverlays(g,v.batchId,y)})}).then(()=>({batchId:f.batchId,changes:PO(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,A){let l=a.Ba[a.currentUser.toKey()];l||(l=new bt(Fe)),l=l.insert(o,A),a.Ba[a.currentUser.toKey()]=l}(n,i.batchId,r),await Sf(n,i.changes),await If(n.remoteStore)}catch(i){const s=eE(i,"Failed to persist write");r.reject(s)}}async function U4(t,e){const r=Te(t);try{const n=await qG(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Na.get(s);a&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?we(a.va):i.removedDocuments.size>0&&(we(a.va),a.va=!1))}),await Sf(r,n,e)}catch(n){await _A(n)}}function XT(t,e,r){const n=Te(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const A=Te(a);A.onlineState=o;let l=!1;A.queries.forEach((u,d)=>{for(const f of d.j_)f.Z_(o)&&(l=!0)}),l&&nE(A)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Dz(t,e,r){const n=Te(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new bt(Ae.comparator);a=a.insert(s,kt.newNoDocument(s,Ce.min()));const o=ke().add(s),A=new B0(Ce.min(),new Map,new bt(Fe),a,o);await U4(n,A),n.Oa=n.Oa.remove(s),n.Na.delete(e),sE(n)}else await Zx(n.localStore,e,!1).then(()=>tb(n,e,r)).catch(_A)}async function jz(t,e){const r=Te(t),n=e.batch.batchId;try{const i=await XG(r.localStore,e);N4(r,n,null),P4(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Sf(r,i)}catch(i){await _A(i)}}async function Rz(t,e,r){const n=Te(t);try{const i=await function(a,o){const A=Te(a);return A.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return A.mutationQueue.lookupMutationBatch(l,o).next(d=>(we(d!==null),u=d.keys(),A.mutationQueue.removeMutationBatch(l,d))).next(()=>A.mutationQueue.performConsistencyCheck(l)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>A.localDocuments.getDocuments(l,u))})}(n.localStore,e);N4(n,e,r),P4(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Sf(n,i)}catch(i){await _A(i)}}function P4(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function N4(t,e,r){const n=Te(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function tb(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||Q4(t,n)})}function Q4(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(YC(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),sE(t))}function qT(t,e,r){for(const n of r)n instanceof S4?(t.La.addReference(n.key,e),Mz(t,n)):n instanceof T4?(te("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||Q4(t,n.key)):ve()}function Mz(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(te("SyncEngine","New document in limbo: "+r),t.xa.add(n),sE(t))}function sE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Ae(qe.fromString(e)),n=t.qa.next();t.Na.set(n,new Tz(r)),t.Oa=t.Oa.insert(r,n),b4(t.remoteStore,new hs(Jn(Bf(r.path)),n,"TargetPurposeLimboResolution",$n.oe))}}async function Sf(t,e,r){const n=Te(t),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,A)=>{a.push(n.Ka(A,e,r).then(l=>{var u;if((l||r)&&n.isPrimaryClient){const d=l?!l.fromCache:(u=r==null?void 0:r.targetChanges.get(A.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(A.targetId,d?"current":"not-current")}if(l){i.push(l);const d=WC.Wi(A.targetId,l);s.push(d)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(A,l){const u=Te(A);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>K.forEach(l,f=>K.forEach(f.$i,g=>u.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>K.forEach(f.Ui,g=>u.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!lo(d))throw d;te("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const f=d.targetId;if(!d.fromCache){const g=u.os.get(f),p=g.snapshotVersion,m=g.withLastLimboFreeSnapshotVersion(p);u.os=u.os.insert(f,m)}}}(n.localStore,s))}async function Lz(t,e){const r=Te(t);if(!r.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const n=await m4(r.localStore,e);r.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(A=>{A.reject(new fe(X.CANCELLED,a))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Sf(r,n.hs)}}function Hz(t,e){const r=Te(t),n=r.Na.get(e);if(n&&n.va)return ke().add(n.key);{let i=ke();const s=r.Ma.get(e);if(!s)return i;for(const a of s){const o=r.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function k4(t){const e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=U4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dz.bind(null,e),e.Ca.d_=Ez.bind(null,e.eventManager),e.Ca.$a=_z.bind(null,e.eventManager),e}function O4(t){const e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rz.bind(null,e),e}class Xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=I0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return p4(this.persistence,new g4,e.initialUser,this.serializer)}Ga(e){return new h4(_0.Zr,this.serializer)}Wa(e){return new y4}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xd.provider={build:()=>new Xd};class Vz extends Xd{constructor(e,r,n){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await O4(this.Ja.syncEngine),await If(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return p4(this.persistence,new g4,e.initialUser,this.serializer)}ja(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new UG(n,e.asyncQueue,r)}Ha(e,r){const n=new s9(r,this.persistence);return new i9(e.asyncQueue,n)}Ga(e){const r=zG(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?Jr.withCacheSize(this.cacheSizeBytes):Jr.DEFAULT;return new zC(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,az(),zg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new y4}}class Gp{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>XT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lz.bind(null,this.syncEngine),await bz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Cz}()}createDatastore(e){const r=I0(e.databaseInfo.databaseId),n=function(s){return new sz(s)}(e.databaseInfo);return function(s,a,o,A){return new lz(s,a,o,A)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new cz(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>XT(this.syncEngine,r,0),function(){return $T.D()?new $T:new rz}())}createSyncEngine(e,r){return function(i,s,a,o,A,l,u){const d=new Fz(i,s,a,o,A,l);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=Te(i);te("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await _f(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Gp.provider={build:()=>new Gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Hr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=vr.UNAUTHENTICATED,this.clientId=TC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{te("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(te("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=eE(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Ry(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await m4(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function JT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await $z(t);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>GT(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>GT(e.remoteStore,i)),t._onlineComponents=e}async function $z(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ry(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;za("Error using user provided cache. Falling back to memory cache: "+r),await Ry(t,new Xd)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await Ry(t,new Xd);return t._offlineComponents}async function D4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await JT(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await JT(t,new Gp))),t._onlineComponents}function Gz(t){return D4(t).then(e=>e.syncEngine)}async function zp(t){const e=await D4(t),r=e.eventManager;return r.onListen=Uz.bind(null,e.syncEngine),r.onUnlisten=Qz.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Pz.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=kz.bind(null,e.syncEngine),r}function zz(t,e,r={}){const n=new Oi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,A,l){const u=new aE({next:f=>{u.Za(),a.enqueueAndForget(()=>rE(s,d));const g=f.docs.has(o);!g&&f.fromCache?l.reject(new fe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&A&&A.source==="server"?l.reject(new fe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new iE(Bf(o.path),u,{includeMetadataChanges:!0,_a:!0});return tE(s,d)}(await zp(t),t.asyncQueue,e,r,n)),n.promise}function Wz(t,e,r={}){const n=new Oi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,A,l){const u=new aE({next:f=>{u.Za(),a.enqueueAndForget(()=>rE(s,d)),f.fromCache&&A.source==="server"?l.reject(new fe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new iE(o,u,{includeMetadataChanges:!0,_a:!0});return tE(s,d)}(await zp(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t,e,r){if(!r)throw new fe(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function M4(t,e,r,n){if(e===!0&&n===!0)throw new fe(X.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function e2(t){if(!Ae.isDocumentKey(t))throw new fe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function t2(t){if(Ae.isDocumentKey(t))throw new fe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function Zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=oE(t);throw new fe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j4((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class T0{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r2(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new oO;switch(n.type){case"firstParty":return new X8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new fe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=ZT.get(r);n&&(te("ComponentProvider","Removing Datastore"),ZT.delete(r),n.terminate())}(this),Promise.resolve()}}function L4(t,e,r,n={}){var i;const s=(t=Zn(t,T0))._getSettings(),a=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,A;if(typeof n.mockUserToken=="string")o=n.mockUserToken,A=vr.MOCK_USER;else{o=E$(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new fe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new vr(l)}t._authCredentials=new z8(new aO(o,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new SA(this.firestore,e,this._query)}}class zr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zr(this.firestore,e,this._key)}}class xs extends SA{constructor(e,r,n){super(e,r,Bf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zr(this.firestore,null,new Ae(e))}withConverter(e){return new xs(this.firestore,e,this._path)}}function ud(t,e,...r){if(t=An(t),R4("collection","path",e),t instanceof T0){const n=qe.fromString(e,...r);return t2(n),new xs(t,null,n)}{if(!(t instanceof zr||t instanceof xs))throw new fe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(qe.fromString(e,...r));return t2(n),new xs(t.firestore,null,n)}}function Ti(t,e,...r){if(t=An(t),arguments.length===1&&(e=TC.newId()),R4("doc","path",e),t instanceof T0){const n=qe.fromString(e,...r);return e2(n),new zr(t,null,new Ae(n))}{if(!(t instanceof zr||t instanceof xs))throw new fe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(qe.fromString(e,...r));return e2(n),new zr(t.firestore,t instanceof xs?t.converter:null,new Ae(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new w4(this,"async_queue_retry"),this.Vu=()=>{const n=zg();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=zg();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=zg();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Oi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!lo(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw Hr("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=ZC.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function i2(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=-1;class Ja extends T0{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new n2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new n2(e),this._firestoreClient=void 0,await e}}}function V4(t,e){const r=typeof t=="object"?t:qk(),n=typeof t=="string"?t:"(default)",i=IC(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=B$("firestore");s&&L4(i,...s)}return i}function Tf(t){if(t._terminated)throw new fe(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||K4(t),t._firestoreClient}function K4(t){var e,r,n;const i=t._freezeSettings(),s=function(o,A,l,u){return new I9(o,A,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,j4(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Kz(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const A=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(A),_online:A}}(t._componentsProvider))}function $4(t,e){za("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return Yz(t,Gp.provider,{build:n=>new Vz(n,r.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function Yz(t,e,r){if((t=Zn(t,Ja))._firestoreClient||t._terminated)throw new fe(X.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new fe(X.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},K4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mA(Rt.fromBase64String(e))}catch(r){throw new fe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new mA(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new fe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new fe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new fe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=/^__.*__$/;class qz{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,r,this.fieldTransforms):new Eu(e,this.data,r,this.fieldTransforms)}}function G4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class AE{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new AE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(G4(this.Cu)&&Xz.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Jz{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||I0(e)}Qu(e,r,n,i=!1){return new AE({Cu:e,methodName:r,qu:n,path:vt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zz(t){const e=t._freezeSettings(),r=I0(t._databaseId);return new Jz(t._databaseId,!!e.ignoreUndefinedProperties,r)}function eW(t,e,r,n,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);X4("Data must be an object, but it was:",a,n);const o=W4(n,a);let A,l;if(s.merge)A=new Gn(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=tW(e,d,r);if(!a.contains(f))throw new fe(X.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);nW(u,f)||u.push(f)}A=new Gn(u),l=a.fieldTransforms.filter(d=>A.covers(d.field))}else A=null,l=a.fieldTransforms;return new qz(new tn(o),A,l)}class lE extends U0{_toFieldTransform(e){return new RO(e.path,new Jl)}isEqual(e){return e instanceof lE}}function z4(t,e){if(Y4(t=An(t)))return X4("Unsupported field value:",e,t),W4(t,e);if(t instanceof U0)return function(n,i){if(!G4(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let A=z4(o,i.Lu(a));A==null&&(A={nullValue:"NULL_VALUE"}),s.push(A),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=An(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return W9(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=xt.fromDate(n);return{timestampValue:tu(i.serializer,s)}}if(n instanceof xt){const s=new xt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:tu(i.serializer,s)}}if(n instanceof P0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof mA)return{bytesValue:GO(i.serializer,n._byteString)};if(n instanceof zr){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:VC(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof N0)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(A=>{if(typeof A!="number")throw o.Bu("VectorValues must only contain numeric values.");return DC(o.serializer,A)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${oE(n)}`)}(t,e)}function W4(t,e){const r={};return mO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cu(t,(n,i)=>{const s=z4(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function Y4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof P0||t instanceof mA||t instanceof zr||t instanceof U0||t instanceof N0)}function X4(t,e,r){if(!Y4(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=oE(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function tW(t,e,r){if((e=An(e))instanceof F0)return e._internalPath;if(typeof e=="string")return q4(t,e);throw Wp("Field path arguments must be of type string or ",t,!1,void 0,r)}const rW=new RegExp("[~\\*/\\[\\]]");function q4(t,e,r){if(e.search(rW)>=0)throw Wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new F0(...e.split("."))._internalPath}catch{throw Wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Wp(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let A="";return(s||a)&&(A+=" (found",s&&(A+=` in field ${n}`),a&&(A+=` in document ${i}`),A+=")"),new fe(X.INVALID_ARGUMENT,o+t+A)}function nW(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Z4("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class iW extends J4{data(){return super.data()}}function Z4(t,e){return typeof e=="string"?q4(t,e):e instanceof F0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sW{}class tD extends sW{}class Q0 extends tD{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new Q0(e,r,n)}_apply(e){return new SA(e.firestore,e.converter,Rp(e._query,this._limit,this._limitType))}}function rD(t){return Q0._create("limit",t,"F")}class nD{convertValue(e,r="none"){switch(dA(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Cu(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>pt(a.doubleValue));return new N0(s)}convertGeoPoint(e){return new P0(pt(e.latitude),pt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=QC(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Gd(e));default:return null}}convertTimestamp(e){const r=Fs(e);return new xt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=qe.fromString(e);we(r4(n));const i=new Ya(n.get(1),n.get(3)),s=new Ae(n.popFirst(5));return i.isEqual(r)||Hr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aW(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uE extends J4{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Z4("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class cd extends uE{data(e={}){return super.data(e)}}class cE{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new wl(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new cd(this._firestore,this._userDataWriter,n.key,n,new wl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new fe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const A=new cd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new wl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:A,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const A=new cd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new wl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return o.type!==0&&(l=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:oW(o.type),doc:A,oldIndex:l,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function oW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(t){t=Zn(t,zr);const e=Zn(t.firestore,Ja);return zz(Tf(e),t._key).then(r=>sD(e,t,r))}class dE extends nD{constructor(e){super(),this.firestore=e}convertBytes(e){return new mA(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new zr(this.firestore,null,r)}}function dd(t){t=Zn(t,SA);const e=Zn(t.firestore,Ja),r=Tf(e),n=new dE(e);return eD(t._query),Wz(r,t._query).then(i=>new cE(e,n,t,i))}function Lo(t,e,r){t=Zn(t,zr);const n=Zn(t.firestore,Ja),i=aW(t.converter,e);return iD(n,[eW(Zz(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,xn.none())])}function qd(t,...e){var r,n,i;t=An(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||i2(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(i2(e[a])){const d=e[a];e[a]=(r=d.next)===null||r===void 0?void 0:r.bind(d),e[a+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),e[a+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let A,l,u;if(t instanceof zr)l=Zn(t.firestore,Ja),u=Bf(t._key.path),A={next:d=>{e[a]&&e[a](sD(l,t,d))},error:e[a+1],complete:e[a+2]};else{const d=Zn(t,SA);l=Zn(d.firestore,Ja),u=d._query;const f=new dE(l);A={next:g=>{e[a]&&e[a](new cE(l,f,d,g))},error:e[a+1],complete:e[a+2]},eD(t._query)}return function(f,g,p,m){const v=new aE(m),y=new iE(g,v,p);return f.asyncQueue.enqueueAndForget(async()=>tE(await zp(f),y)),()=>{v.Za(),f.asyncQueue.enqueueAndForget(async()=>rE(await zp(f),y))}}(Tf(l),u,o,A)}function iD(t,e){return function(n,i){const s=new Oi;return n.asyncQueue.enqueueAndForget(async()=>Oz(await Gz(n),i,s)),s.promise}(Tf(t),e)}function sD(t,e,r){const n=r.docs.get(e._key),i=new dE(t);return new uE(t,i,e._key,n,new wl(r.hasPendingWrites,r.fromCache),e.converter)}function lW(){return new lE("serverTimestamp")}(function(e,r=!0){(function(i){Bu=i})(bu),zl(new uA("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new Ja(new W8(n.getProvider("auth-internal")),new J8(n.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new fe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ya(l.options.projectId,u)}(a,i),a);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Oa(JS,"4.7.3",e),Oa(JS,"4.7.3","esm2017")})();const Wg=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:nD,Bytes:mA,CACHE_SIZE_UNLIMITED:H4,CollectionReference:xs,DocumentReference:zr,DocumentSnapshot:uE,FieldPath:F0,FieldValue:U0,Firestore:Ja,FirestoreError:fe,GeoPoint:P0,Query:SA,QueryConstraint:tD,QueryDocumentSnapshot:cd,QueryLimitConstraint:Q0,QuerySnapshot:cE,SnapshotMetadata:wl,Timestamp:xt,VectorValue:N0,_AutoId:TC,_ByteString:Rt,_DatabaseId:Ya,_DocumentKey:Ae,_EmptyAuthCredentialsProvider:oO,_FieldPath:vt,_cast:Zn,_logWarn:za,_validateIsNotUsedTogether:M4,collection:ud,connectFirestoreEmulator:L4,doc:Ti,enableIndexedDbPersistence:$4,ensureFirestoreConfigured:Tf,executeWrite:iD,getDoc:AW,getDocs:dd,getFirestore:V4,limit:rD,onSnapshot:qd,serverTimestamp:lW,setDoc:Lo},Symbol.toStringTag,{value:"Module"}));var uW="firebase",cW="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oa(uW,cW,"app");function fE(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function aD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oD=aD,AD=new wf("auth","Firebase",aD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=new EC("@firebase/auth");function dW(t,...e){Yp.logLevel<=Re.WARN&&Yp.warn(`Auth (${bu}): ${t}`,...e)}function Yg(t,...e){Yp.logLevel<=Re.ERROR&&Yp.error(`Auth (${bu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t,...e){throw hE(t,...e)}function Di(t,...e){return hE(t,...e)}function lD(t,e,r){const n=Object.assign(Object.assign({},oD()),{[e]:r});return new wf("auth","Firebase",n).create(e,{appName:t.name})}function ja(t){return lD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hE(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return AD.create(t,...e)}function _e(t,e,...r){if(!t)throw hE(e,...r)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yg(e),new Error(e)}function Us(t,e){t||gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fW(){return s2()==="http:"||s2()==="https:"}function s2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fW()||T$()||"connection"in navigator)?navigator.onLine:!0}function gW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,r){this.shortDelay=e,this.longDelay=r,Us(r>e,"Short delay should be less than long delay!"),this.isMobile=_$()||F$()}get(){return hW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t,e){Us(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW=new Ff(3e4,6e4);function TA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fo(t,e,r,n,i={}){return cD(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=xf(Object.assign({key:t.config.apiKey},a)).slice(1),A=await t._getAdditionalHeaders();A["Content-Type"]="application/json",t.languageCode&&(A["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:A},s);return S$()||(l.referrerPolicy="no-referrer"),uD.fetch()(dD(t,t.config.apiHost,r,o),l)})}async function cD(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},pW),e);try{const i=new yW(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Mh(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[A,l]=o.split(" : ");if(A==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mh(t,"credential-already-in-use",a);if(A==="EMAIL_EXISTS")throw Mh(t,"email-already-in-use",a);if(A==="USER_DISABLED")throw Mh(t,"user-disabled",a);const u=n[A]||A.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw lD(t,u,l);wi(t,u)}}catch(i){if(i instanceof Ms)throw i;wi(t,"network-request-failed",{message:String(i)})}}async function k0(t,e,r,n,i={}){const s=await fo(t,e,r,n,i);return"mfaPendingCredential"in s&&wi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function dD(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?gE(t.config,i):`${t.config.apiScheme}://${i}`}function vW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yW{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Di(this.auth,"network-request-failed")),mW.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Di(t,e,n);return i.customData._tokenResponse=r,i}function a2(t){return t!==void 0&&t.enterprise!==void 0}class wW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return vW(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function xW(t,e){return fo(t,"GET","/v2/recaptchaConfig",TA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bW(t,e){return fo(t,"POST","/v1/accounts:delete",e)}async function fD(t,e){return fo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hD(t,e=!1){const r=An(t),n=await r.getIdToken(e),i=pE(n);_e(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:fd(My(i.auth_time)),issuedAtTime:fd(My(i.iat)),expirationTime:fd(My(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function My(t){return Number(t)*1e3}function pE(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Yg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Hk(r);return i?JSON.parse(i):(Yg("Failed to decode base64 JWT payload"),null)}catch(i){return Yg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function o2(t){const e=pE(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jd(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ms&&BW(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function BW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=fd(this.lastLoginAt),this.creationTime=fd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xp(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Jd(t,fD(r,{idToken:n}));_e(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?pD(s.providerUserInfo):[],o=EW(t.providerData,a),A=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=A?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new nb(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function gD(t){const e=An(t);await Xp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EW(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function pD(t){return t.map(e=>{var{providerId:r}=e,n=fE(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _W(t,e){const r=await cD(t,{},async()=>{const n=xf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=dD(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",uD.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function IW(t,e){return fo(t,"POST","/v2/accounts:revokeToken",TA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const r=o2(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await _W(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new Nl;return n&&(_e(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(_e(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(_e(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nl,this.toJSON())}_performRefresh(){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ps{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=fE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nb(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await Jd(this,this.stsTokenManager.getToken(this.auth,e));return _e(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return hD(this,e)}reload(){return gD(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Xp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fs(this.auth.app))return Promise.reject(ja(this.auth));const e=await this.getIdToken();return await Jd(this,bW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,a,o,A,l,u;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,f=(i=r.email)!==null&&i!==void 0?i:void 0,g=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,p=(a=r.photoURL)!==null&&a!==void 0?a:void 0,m=(o=r.tenantId)!==null&&o!==void 0?o:void 0,v=(A=r._redirectEventId)!==null&&A!==void 0?A:void 0,y=(l=r.createdAt)!==null&&l!==void 0?l:void 0,w=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:B,emailVerified:I,isAnonymous:T,providerData:F,stsTokenManager:C}=r;_e(B&&C,e,"internal-error");const _=Nl.fromJSON(this.name,C);_e(typeof B=="string",e,"internal-error"),ea(d,e.name),ea(f,e.name),_e(typeof I=="boolean",e,"internal-error"),_e(typeof T=="boolean",e,"internal-error"),ea(g,e.name),ea(p,e.name),ea(m,e.name),ea(v,e.name),ea(y,e.name),ea(w,e.name);const S=new ps({uid:B,auth:e,email:f,emailVerified:I,displayName:d,isAnonymous:T,photoURL:p,phoneNumber:g,tenantId:m,stsTokenManager:_,createdAt:y,lastLoginAt:w});return F&&Array.isArray(F)&&(S.providerData=F.map(P=>Object.assign({},P))),v&&(S._redirectEventId=v),S}static async _fromIdTokenResponse(e,r,n=!1){const i=new Nl;i.updateFromServerResponse(r);const s=new ps({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Xp(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];_e(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?pD(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Nl;o.updateFromIdToken(n);const A=new ps({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new nb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(A,l),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new Map;function ms(t){Us(t instanceof Function,"Expected a class definition");let e=A2.get(t);return e?(Us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,A2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}mD.type="NONE";const ib=mD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t,e,r){return`firebase:${t}:${e}:${r}`}class Ql{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Xg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xg("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ps._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Ql(ms(ib),e,n);const i=(await Promise.all(r.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||ms(ib);const a=Xg(n,e.config.apiKey,e.name);let o=null;for(const l of r)try{const u=await l._get(a);if(u){const d=ps._fromJSON(e,u);l!==s&&(o=d),s=l;break}}catch{}const A=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!A.length?new Ql(s,e,n):(s=A[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async l=>{if(l!==s)try{await l._remove(a)}catch{}})),new Ql(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BD(e))return"Blackberry";if(CD(e))return"Webos";if(yD(e))return"Safari";if((e.includes("chrome/")||wD(e))&&!e.includes("edge/"))return"Chrome";if(bD(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function vD(t=qt()){return/firefox\//i.test(t)}function yD(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wD(t=qt()){return/crios\//i.test(t)}function xD(t=qt()){return/iemobile/i.test(t)}function bD(t=qt()){return/android/i.test(t)}function BD(t=qt()){return/blackberry/i.test(t)}function CD(t=qt()){return/webos/i.test(t)}function mE(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SW(t=qt()){var e;return mE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TW(){return U$()&&document.documentMode===10}function ED(t=qt()){return mE(t)||bD(t)||CD(t)||BD(t)||/windows phone/i.test(t)||xD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t,e=[]){let r;switch(t){case"Browser":r=l2(qt());break;case"Worker":r=`${l2(qt())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${bu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const A=e(s);a(A)}catch(A){o(A)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UW(t,e={}){return fo(t,"GET","/v2/passwordPolicy",TA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW=6;class NW{constructor(e){var r,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:PW,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,a,o;const A={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,A),this.validatePasswordCharacterOptions(e,A),A.isValid&&(A.isValid=(r=A.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),A.isValid&&(A.isValid=(n=A.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),A.isValid&&(A.isValid=(i=A.containsLowercaseLetter)!==null&&i!==void 0?i:!0),A.isValid&&(A.isValid=(s=A.containsUppercaseLetter)!==null&&s!==void 0?s:!0),A.isValid&&(A.isValid=(a=A.containsNumericCharacter)!==null&&a!==void 0?a:!0),A.isValid&&(A.isValid=(o=A.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),A}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u2(this),this.idTokenSubscription=new u2(this),this.beforeStateQueue=new FW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ms(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Ql.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await fD(this,{idToken:e}),n=await ps._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(fs(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,A=await this.tryRedirectSignIn(e);(!a||a===o)&&(A!=null&&A.user)&&(i=A.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Xp(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fs(this.app))return Promise.reject(ja(this));const r=e?An(e):null;return r&&_e(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fs(this.app)?Promise.reject(ja(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fs(this.app)?Promise.reject(ja(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UW(this),r=new NW(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await IW(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ms(e)||this._popupRedirectResolver;_e(r,this,"argument-error"),this.redirectPersistenceManager=await Ql.create(this,[ms(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const A=e.addObserver(r,n,i);return()=>{a=!0,A()}}else{const A=e.addObserver(r);return()=>{a=!0,A()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_D(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&dW(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Iu(t){return An(t)}class u2{constructor(e){this.auth=e,this.observer=null,this.addObserver=D$(r=>this.observer=r)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kW(t){O0=t}function ID(t){return O0.loadJS(t)}function OW(){return O0.recaptchaEnterpriseScript}function DW(){return O0.gapiScript}function jW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const RW="recaptcha-enterprise",MW="NO_RECAPTCHA";class LW{constructor(e){this.type=RW,this.auth=Iu(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{xW(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(A=>{if(A.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const l=new wW(A);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,a(l.siteKey)}}).catch(A=>{o(A)})})}function i(s,a,o){const A=window.grecaptcha;a2(A)?A.enterprise.ready(()=>{A.enterprise.execute(s,{action:e}).then(l=>{a(l)}).catch(()=>{a(MW)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&a2(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let A=OW();A.length!==0&&(A+=o),ID(A).then(()=>{i(o,s,a)}).catch(l=>{a(l)})}}).catch(o=>{a(o)})})}}async function c2(t,e,r,n=!1){const i=new LW(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function d2(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await c2(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await c2(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t,e){const r=IC(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Qp(s,e??{}))return i;wi(i,"already-initialized")}return r.initialize({options:e})}function HW(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ms);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function TD(t,e,r){const n=Iu(t);_e(n._canInitEmulator,n,"emulator-config-failed"),_e(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=FD(e),{host:a,port:o}=VW(e),A=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${A}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),KW()}function FD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VW(t){const e=FD(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:f2(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:f2(a)}}}function f2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function KW(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,r){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function $W(t,e){return fo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GW(t,e){return k0(t,"POST","/v1/accounts:signInWithPassword",TA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zW(t,e){return k0(t,"POST","/v1/accounts:signInWithEmailLink",TA(t,e))}async function WW(t,e){return k0(t,"POST","/v1/accounts:signInWithEmailLink",TA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends D0{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new nu(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new nu(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d2(e,r,"signInWithPassword",GW);case"emailLink":return zW(e,{email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d2(e,n,"signUpPassword",$W);case"emailLink":return WW(e,{idToken:r,email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(t,e){return k0(t,"POST","/v1/accounts:signInWithIdp",TA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW="http://localhost";class Za extends D0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):wi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=fE(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new Za(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return kl(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,kl(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,kl(e,r)}buildRequest(){const e={requestUri:YW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=xf(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qW(t){const e=kc(Oc(t)).link,r=e?kc(Oc(e)).deep_link_id:null,n=kc(Oc(t)).deep_link_id;return(n?kc(Oc(n)).link:null)||n||r||e||t}class j0{constructor(e){var r,n,i,s,a,o;const A=kc(Oc(e)),l=(r=A.apiKey)!==null&&r!==void 0?r:null,u=(n=A.oobCode)!==null&&n!==void 0?n:null,d=XW((i=A.mode)!==null&&i!==void 0?i:null);_e(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(s=A.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=A.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=A.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=qW(e);try{return new j0(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.providerId=FA.PROVIDER_ID}static credential(e,r){return nu._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=j0.parseLink(r);return _e(n,"argument-error"),nu._fromEmailAndCode(e,n.code,n.tenantId)}}FA.PROVIDER_ID="password";FA.EMAIL_PASSWORD_SIGN_IN_METHOD="password";FA.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf extends UD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Uf{constructor(){super("facebook.com")}static credential(e){return Za._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Uf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Za._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return as.credential(r,n)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Uf{constructor(){super("github.com")}static credential(e){return Za._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Uf{constructor(){super("twitter.com")}static credential(e,r){return Za._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return As.credential(r,n)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await ps._fromIdTokenResponse(e,n,i),a=h2(n);return new iu({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=h2(n);return new iu({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function h2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends Ms{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,qp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new qp(e,r,n,i)}}function PD(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qp._fromErrorAndOperation(t,s,e,n):s})}async function JW(t,e,r=!1){const n=await Jd(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return iu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZW(t,e,r=!1){const{auth:n}=t;if(fs(n.app))return Promise.reject(ja(n));const i="reauthenticate";try{const s=await Jd(t,PD(n,i,e,t),r);_e(s.idToken,n,"internal-error");const a=pE(s.idToken);_e(a,n,"internal-error");const{sub:o}=a;return _e(t.uid===o,n,"user-mismatch"),iu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&wi(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e,r=!1){if(fs(t.app))return Promise.reject(ja(t));const n="signIn",i=await PD(t,n,e),s=await iu._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function QD(t,e){return ND(Iu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e7(t){const e=Iu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function t7(t,e,r){return fs(t.app)?Promise.reject(ja(t)):QD(An(t),FA.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&e7(t),n})}function kD(t,e,r,n){return An(t).onIdTokenChanged(e,r,n)}function OD(t,e,r){return An(t).beforeAuthStateChanged(e,r)}function r7(t){return An(t).signOut()}const Jp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Jp,"1"),this.storage.removeItem(Jp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=1e3,i7=10;class jD extends DD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ED(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,A)=>{this.notifyListeners(a,A)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);TW()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,i7):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},n7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}jD.type="LOCAL";const RD=jD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD extends DD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}MD.type="SESSION";const vE=MD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new R0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async l=>l(r.origin,s)),A=await s7(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:A})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}R0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,A)=>{const l=yE("",20);i.port1.start();const u=setTimeout(()=>{A(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{A(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(f.data.response);break;default:clearTimeout(u),clearTimeout(s),A(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return window}function o7(t){ji().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function A7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function l7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function u7(){return LD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="firebaseLocalStorageDb",c7=1,Zp="firebaseLocalStorage",VD="fbase_key";class Pf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function M0(t,e){return t.transaction([Zp],e?"readwrite":"readonly").objectStore(Zp)}function d7(){const t=indexedDB.deleteDatabase(HD);return new Pf(t).toPromise()}function sb(){const t=indexedDB.open(HD,c7);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Zp,{keyPath:VD})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Zp)?e(n):(n.close(),await d7(),e(await sb()))})})}async function g2(t,e,r){const n=M0(t,!0).put({[VD]:e,value:r});return new Pf(n).toPromise()}async function f7(t,e){const r=M0(t,!1).get(e),n=await new Pf(r).toPromise();return n===void 0?null:n.value}function p2(t,e){const r=M0(t,!0).delete(e);return new Pf(r).toPromise()}const h7=800,g7=3;class KD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sb(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>g7)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=R0._getInstance(u7()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await A7(),!this.activeServiceWorker)return;this.sender=new a7(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||l7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sb();return await g2(e,Jp,"1"),await p2(e,Jp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>g2(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>f7(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>p2(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=M0(i,!1).getAll();return new Pf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),h7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KD.type="LOCAL";const $D=KD;new Ff(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t,e){return e?ms(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE extends D0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return kl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function m7(t){return ND(t.auth,new wE(t),t.bypassAuthState)}function v7(t){const{auth:e,user:r}=t;return _e(r,e,"internal-error"),ZW(r,new wE(t),t.bypassAuthState)}async function y7(t){const{auth:e,user:r}=t;return _e(r,e,"internal-error"),JW(r,new wE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const A={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(A))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m7;case"linkViaPopup":case"linkViaRedirect":return y7;case"reauthViaPopup":case"reauthViaRedirect":return v7;default:wi(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=new Ff(2e3,1e4);class xl extends GD{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,xl.currentPopupAction&&xl.currentPopupAction.cancel(),xl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=yE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,w7.get())};e()}}xl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7="pendingRedirect",qg=new Map;class b7 extends GD{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=qg.get(this.auth._key());if(!e){try{const n=await B7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}qg.set(this.auth._key(),e)}return this.bypassAuthState||qg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B7(t,e){const r=_7(e),n=E7(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function C7(t,e){qg.set(t._key(),e)}function E7(t){return ms(t._redirectPersistence)}function _7(t){return Xg(x7,t.config.apiKey,t.name)}async function I7(t,e,r=!1){if(fs(t.app))return Promise.reject(ja(t));const n=Iu(t),i=p7(n,e),a=await new b7(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7=10*60*1e3;class T7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F7(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!zD(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Di(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S7&&this.cachedEventUids.clear(),this.cachedEventUids.has(m2(e))}saveEventToCache(e){this.cachedEventUids.add(m2(e)),this.lastProcessedEventTime=Date.now()}}function m2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function F7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U7(t,e={}){return fo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,N7=/^https?/;async function Q7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await U7(t);for(const r of e)try{if(k7(r))return}catch{}wi(t,"unauthorized-domain")}function k7(t){const e=rb(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!N7.test(r))return!1;if(P7.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7=new Ff(3e4,6e4);function v2(){const t=ji().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function D7(t){return new Promise((e,r)=>{var n,i,s;function a(){v2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v2(),r(Di(t,"network-request-failed"))},timeout:O7.get()})}if(!((i=(n=ji().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ji().gapi)===null||s===void 0)&&s.load)a();else{const o=jW("iframefcb");return ji()[o]=()=>{gapi.load?a():r(Di(t,"network-request-failed"))},ID(`${DW()}?onload=${o}`).catch(A=>r(A))}}).catch(e=>{throw Jg=null,e})}let Jg=null;function j7(t){return Jg=Jg||D7(t),Jg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7=new Ff(5e3,15e3),M7="__/auth/iframe",L7="emulator/auth/iframe",H7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K7(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?gE(e,L7):`https://${t.config.authDomain}/${M7}`,n={apiKey:e.apiKey,appName:t.name,v:bu},i=V7.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${xf(n).slice(1)}`}async function $7(t){const e=await j7(t),r=ji().gapi;return _e(r,t,"internal-error"),e.open({where:document.body,url:K7(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:H7,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=Di(t,"network-request-failed"),o=ji().setTimeout(()=>{s(a)},R7.get());function A(){ji().clearTimeout(o),i(n)}n.ping(A).then(A,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z7=500,W7=600,Y7="_blank",X7="http://localhost";class y2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q7(t,e,r,n=z7,i=W7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const A=Object.assign(Object.assign({},G7),{width:n.toString(),height:i.toString(),top:s,left:a}),l=qt().toLowerCase();r&&(o=wD(l)?Y7:r),vD(l)&&(e=e||X7,A.scrollbars="yes");const u=Object.entries(A).reduce((f,[g,p])=>`${f}${g}=${p},`,"");if(SW(l)&&o!=="_self")return J7(e||"",o),new y2(null);const d=window.open(e||"",o,u);_e(d,t,"popup-blocked");try{d.focus()}catch{}return new y2(d)}function J7(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7="__/auth/handler",eY="emulator/auth/handler",tY=encodeURIComponent("fac");async function w2(t,e,r,n,i,s){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:bu,eventId:i};if(e instanceof UD){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",O$(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))a[u]=d}if(e instanceof Uf){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const A=await t._getAppCheckToken(),l=A?`#${tY}=${encodeURIComponent(A)}`:"";return`${rY(t)}?${xf(o).slice(1)}${l}`}function rY({config:t}){return t.emulator?gE(t,eY):`https://${t.authDomain}/${Z7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="webStorageSupport";class nY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vE,this._completeRedirectFn=I7,this._overrideRedirectResult=C7}async _openPopup(e,r,n,i){var s;Us((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await w2(e,r,n,rb(),i);return q7(e,a,yE())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await w2(e,r,n,rb(),i);return o7(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Us(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await $7(e),n=new T7(e);return r.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Ly,{type:Ly},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ly];a!==void 0&&r(!!a),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Q7(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return ED()||yD()||mE()}}const WD=nY;var x2="@firebase/auth",b2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aY(t){zl(new uA("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;_e(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const A={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_D(t)},l=new QW(n,i,s,A);return HW(l,r),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),zl(new uA("auth-internal",e=>{const r=Iu(e.getProvider("auth").getImmediate());return(n=>new iY(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oa(x2,b2,sY(t)),Oa(x2,b2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY=5*60,AY=$k("authIdTokenMaxAge")||oY;let B2=null;const lY=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>AY)return;const i=r==null?void 0:r.token;B2!==i&&(B2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function YD(t=qk()){const e=IC(t,"auth");if(e.isInitialized())return e.getImmediate();const r=SD(t,{popupRedirectResolver:WD,persistence:[$D,RD,vE]}),n=$k("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=lY(s.toString());OD(r,a,()=>a(r.currentUser)),kD(r,o=>a(o))}}const i=Vk("auth");return i&&TD(r,`http://${i}`),r}function uY(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}kW({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=Di("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",uY().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aY("Browser");const cY=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:j0,AuthCredential:D0,EmailAuthCredential:nu,EmailAuthProvider:FA,FacebookAuthProvider:ss,GithubAuthProvider:os,GoogleAuthProvider:as,OAuthCredential:Za,TwitterAuthProvider:As,beforeAuthStateChanged:OD,browserLocalPersistence:RD,browserPopupRedirectResolver:WD,browserSessionPersistence:vE,connectAuthEmulator:TD,getAuth:YD,getIdTokenResult:hD,inMemoryPersistence:ib,indexedDBLocalPersistence:$D,initializeAuth:SD,onIdTokenChanged:kD,prodErrorMap:oD,reload:gD,signInWithCredential:QD,signInWithEmailAndPassword:t7,signOut:r7},Symbol.toStringTag,{value:"Module"})),dY={apiKey:"AIzaSyBHzCLGD1E8mrp-iVaJ1P1t9cHe5QT8LN8",authDomain:"brainless-schedule.firebaseapp.com",projectId:"brainless-schedule",storageBucket:"brainless-schedule.appspot.com",messagingSenderId:"902167883215",appId:"1:902167883215:web:8dfc400a1035929c5bf6ba"};let em;zS().length?em=zS()[0]:em=Xk(dY);const or=V4(em),XD=YD(em);try{$4(or,{cacheSizeBytes:H4}).catch(t=>{t.code==="failed-precondition"?console.warn("離線持久性在多個標籤中失敗"):t.code==="unimplemented"&&console.warn("當前瀏覽器不支持離線持久性")})}catch(t){console.error("啟用離線功能時出錯:",t)}async function fY(){try{const t=await dd(ud(or,"forecasts"),rD(1));return console.log("Firebase 連接成功"),!0}catch(t){return console.error("Firebase 連接失敗:",t),!1}}const hY=async t=>{try{const{doc:e,getDoc:r}=await pa(async()=>{const{doc:i,getDoc:s}=await Promise.resolve().then(()=>Wg);return{doc:i,getDoc:s}},void 0);return(await r(e(or,"admins",t))).exists()}catch(e){return console.error("檢查管理員狀態失敗:",e),!1}},zn={MAX_CONSECUTIVE_DAYS_CHECK:30,MIN_CONSECUTIVE_DAYS:4,MAX_CONSECUTIVE_DAYS:6,REST_SHIFTS:["休假","特休","月休","休","特"],TIME_SLOTS:{MORNING:{start:5,end:12},AFTERNOON:{start:12,end:18},EVENING:{start:18,end:22}},SHIFT_KEYWORDS:{MORNING:["早班","早","Morning","K","KK"],AFTERNOON:["中班","中","Mid","L"],EVENING:["晚班","晚","Evening","Y"]}};let Zg={};const gY=t=>{Zg=t},xr={consecutiveDays:new Map,todayWorkers:new Map,todayString:null,todayDate:null,lastCacheTime:0},L0=(t=!1)=>{const e=Date.now(),r=new Date().toDateString();(t||xr.lastCacheTime===0||new Date(xr.lastCacheTime).toDateString()!==r)&&(xr.consecutiveDays.clear(),xr.todayWorkers.clear(),xr.todayString=null,xr.todayDate=null,xr.lastCacheTime=e)},pY=()=>{L0(!0)},qD=()=>(L0(),xr.todayString||(xr.todayString=new Date().toISOString().split("T")[0]),xr.todayString),JD=()=>{if(L0(),!xr.todayDate){const t=new Date;xr.todayDate={year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate(),day:t.getDay()}}return xr.todayDate},mY=t=>!t||typeof t!="string"?!1:zn.REST_SHIFTS.includes(t.trim()),bl=t=>{if(!t||typeof t!="string")return!1;const e=t.trim();return e!==""&&!mY(e)},vY=(t,e,r)=>`${t}-${String(e).padStart(2,"0")}-${String(r).padStart(2,"0")}`,yY=t=>t.timeRestriction?ep(t.startTime,t.endTime):!0,wY=(t,e)=>(t=t.replace(/\{早班同事\}/g,e.morning.length>0?e.morning.join("、"):""),t=t.replace(/\{中班同事\}/g,e.afternoon.length>0?e.afternoon.join("、"):""),t=t.replace(/\{晚班同事\}/g,e.evening.length>0?e.evening.join("、"):""),t=t.replace(/\{所有同事\}/g,e.all.length>0?e.all.join("、"):""),t),xY=(t,e)=>(t=t.replace(/\{早班人數\}/g,e.morning.length.toString()),t=t.replace(/\{中班人數\}/g,e.afternoon.length.toString()),t=t.replace(/\{晚班人數\}/g,e.evening.length.toString()),t=t.replace(/\{總人數\}/g,e.all.length.toString()),t),bY=(t,e,r)=>(t=t.replace(/\{([^}]+)\}連續上班\{(\d+)\}/g,(n,i,s)=>{const a=Object.keys(r).find(o=>r[o]===i);if(a){const o=tm(e,a,r);return`${i}連續上班${o}天`}return n}),t=t.replace(/\{([^}]+)\}連續上班天數/g,(n,i)=>{const s=Object.keys(r).find(a=>r[a]===i);if(s){const a=tm(e,s,r);return`${i}連續上班${a}天`}return n}),t),BY=(t,e,r)=>(t=t.replace(/\{連續上班同事\}/g,()=>{const n=su(e,r,zn.MIN_CONSECUTIVE_DAYS,zn.MAX_CONSECUTIVE_DAYS);if(n.length>0){const i={};return n.forEach(a=>{i[a.consecutiveDays]||(i[a.consecutiveDays]=[]),i[a.consecutiveDays].push(a.name)}),Object.entries(i).map(([a,o])=>o.length===1?`${o[0]}連續上班${a}天`:`${o.join("、")}連續上班${a}天`).join("、")}return""}),t=t.replace(/\{連續上班同事數量\}/g,()=>su(e,r,zn.MIN_CONSECUTIVE_DAYS,zn.MAX_CONSECUTIVE_DAYS).length.toString()),t),CY=(t,e,r)=>(t=t.replace(/\{連續上班(\d+)天同事\}/g,(n,i)=>{const s=parseInt(i),a=su(e,r,s,s);if(a.length>0){const o=a.map(A=>A.name);return o.length===1?o[0]:o.join("、")}return""}),t=t.replace(/\{連續上班(\d+)天同事數量\}/g,(n,i)=>{const s=parseInt(i);return su(e,r,s,s).length.toString()}),t),EY=t=>(t=t.replace(/\s*[，、]\s*$/g,""),t=t.replace(/^\s*[，、]\s*/g,""),t=t.replace(/\s+/g," "),t),_Y=(t,e,r)=>{if((t.message.includes("{連續上班同事}")||t.message.includes("{連續上班同事數量}"))&&su(e,r,zn.MIN_CONSECUTIVE_DAYS,zn.MAX_CONSECUTIVE_DAYS).length===0)return!1;const n=t.message.match(/\{連續上班(\d+)天同事\}/g);if(n)for(const i of n){const s=i.match(/\{連續上班(\d+)天同事\}/);if(s){const a=parseInt(s[1]);if(su(e,r,a,a).length===0)return!1}}return!0},IY=(t,e,r)=>{if(!t||!Array.isArray(t)||t.length===0)return[];const n=ZD(e);return n.length>0&&ej(n,r),t.filter(i=>i.enabled).map(i=>{const s=PY(i,e,r);return s&&typeof s=="string"&&s.trim()!==""?{id:`schedule-${i.id||i.name}`,type:"schedule",priority:2,message:s,source:`班表模板: ${i.name}`}:null}).filter(Boolean)},ep=(t,e)=>{const r=new Date,n=r.getHours(),i=r.getMinutes(),s=n*60+i,[a,o]=t.split(":").map(Number),[A,l]=e.split(":").map(Number),u=a*60+o,d=A*60+l;return d<u?s>=u||s<=d:s>=u&&s<=d},SY=()=>["日","一","二","三","四","五","六"][new Date().getDay()],TY=(t,e)=>{const r=new Date;return r.getMonth()+1===t&&r.getDate()===e},FY=t=>new Date().getDate()===t,UY=t=>{if(!t||typeof t!="object")return[];const e=[],r=JD();for(const[n,i]of Object.entries(t))if(n!=="_lastUpdated"&&i&&typeof i=="object"){for(const[s,a]of Object.entries(i))if(bl(a)){const o=parseInt(s);if(o===r.date){const A={id:`${n}_${o}`,date:vY(r.year,r.month,o),shift:a,employee:n};e.push(A)}}}return e},ZD=t=>{if(!t)return[];if(Array.isArray(t)){const e=qD();return t.filter(n=>{const a=new Date(n.date).toISOString().split("T")[0]===e,o=bl(n.shift);return a&&o})}else return UY(t)},tm=(t,e,r={})=>{var i,s,a;if(!t||!e)return 0;L0();const n=`${e}_${JSON.stringify(t)}`;if(xr.consecutiveDays.has(n))return xr.consecutiveDays.get(n);if(r[e],Array.isArray(t)){const o=qD();if(!t.find(d=>d.employee===e&&new Date(d.date).toISOString().split("T")[0]===o))return 0;let l=0,u=new Date;for(;;){const d=u.toISOString().split("T")[0],f=t.find(g=>g.employee===e&&new Date(g.date).toISOString().split("T")[0]===d);if(f&&bl(f.shift))l++,u.setDate(u.getDate()-1);else break}return xr.consecutiveDays.set(n,l),l}else{const o=JD(),A=(i=t[e])==null?void 0:i[o.date];if(!bl(A))return 0;let l=0,u=o.date;for(;u>=1;){const d=(s=t[e])==null?void 0:s[u];if(bl(d))l++,u--;else break}if(u<1){const d=new Date,f=d.getFullYear(),g=d.getMonth()+1;let p,m;g===1?(p=f-1,m=12):(p=f,m=g-1);const v=`${p}-${m.toString().padStart(2,"0")}`;if(Zg&&Zg[v]){const y=Zg[v],w=new Date(p,m,0).getDate(),B=7;for(let I=w;I>=Math.max(1,w-B+1);I--){const T=(a=y[e])==null?void 0:a[I];if(bl(T))l++;else break}}}return xr.consecutiveDays.set(n,l),l}},su=(t,e={},r=zn.MIN_CONSECUTIVE_DAYS,n=zn.MAX_CONSECUTIVE_DAYS)=>{if(!t)return[];const i=[];return Array.isArray(t)?[...new Set(t.map(a=>a.employee))].forEach(a=>{const o=tm(t,a,e);if(o>=r&&o<=n){const A=e[a]||a;i.push({id:a,name:A,consecutiveDays:o})}}):Object.keys(t).filter(a=>a!=="_lastUpdated").forEach(a=>{const o=tm(t,a,e);if(o>=r&&o<=n){const A=e[a]||a;i.push({id:a,name:A,consecutiveDays:o})}}),i},ej=(t,e={})=>{const r={morning:[],afternoon:[],evening:[],all:[]};return t.forEach(n=>{const i=n.shift||"",s=n.employee||"未知",a=e[s]||s;r.all.push(a),zn.SHIFT_KEYWORDS.MORNING.some(o=>i.includes(o))?r.morning.push(a):zn.SHIFT_KEYWORDS.AFTERNOON.some(o=>i.includes(o))?r.afternoon.push(a):zn.SHIFT_KEYWORDS.EVENING.some(o=>i.includes(o))?r.evening.push(a):r.all.push(a)}),r},PY=(t,e,r={})=>{if(!t||!e||!yY(t))return null;const n=ZD(e);if(n.length===0)return null;const i=ej(n,r);let s=t.message;return s=wY(s,i),s=xY(s,i),s=bY(s,e,r),s=BY(s,e,r),s=CY(s,e,r),s=EY(s),_Y(t,e,r)?s:null},NY=t=>{if(!Array.isArray(t)||t.length===0)return"";const e=t.filter(r=>r&&typeof r=="string"&&r.trim()!=="");return e.length===0?"":e[Math.floor(Math.random()*e.length)]},QY=(t=null,e=[],r=[],n={})=>{const i=SY(),s=[];if(e&&Array.isArray(e)){const a=[];for(const o of e){if(!o.enabled)continue;let A=!1;o.type==="timeRange"?A=o.allDay||ep(o.startTime,o.endTime):o.type==="dayOfWeek"?A=o.day===i&&(o.allDay||ep(o.startTime,o.endTime)):o.type==="specificDate"?A=TY(o.month,o.date):o.type==="monthlyDate"&&(A=FY(o.date)&&(o.allDay||ep(o.startTime,o.endTime))),A&&o.messages&&Array.isArray(o.messages)&&o.messages.length>0&&o.messages.some(l=>l&&typeof l=="string"&&l.trim()!=="")&&a.push(o)}if(a.length>0){const o=a[Math.floor(Math.random()*a.length)],A=NY(o.messages);A&&A.trim()!==""&&s.push({id:`custom-${o.id||o.name}`,type:"custom",priority:1,message:A,source:`自定義規則: ${o.name}`})}}if(t&&r&&Array.isArray(r)){const a=IY(r,t,n);s.push(...a)}return s},GA=t=>/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(t),ive=t=>{if(!t.type||!t.messages||!Array.isArray(t.messages)||t.messages.length===0)return!1;switch(t.type){case"timeRange":return t.allDay||GA(t.startTime)&&GA(t.endTime);case"dayOfWeek":return["日","一","二","三","四","五","六"].includes(t.day)&&(t.allDay||GA(t.startTime)&&GA(t.endTime));case"specificDate":return t.month>=1&&t.month<=12&&t.date>=1&&t.date<=31;case"monthlyDate":return t.date>=1&&t.date<=31&&(t.allDay||GA(t.startTime)&&GA(t.endTime));default:return!1}},sve=t=>t.message&&t.message.trim()!=="",ave=()=>[{id:"1",name:"早上問候",type:"timeRange",startTime:"08:00",endTime:"10:00",allDay:!1,messages:["早安！新的一天開始了～","早上好！今天也要加油喔！","喵～早安！準備好迎接新的一天了嗎？"],enabled:!1},{id:"2",name:"午休提醒",type:"timeRange",startTime:"12:00",endTime:"13:00",allDay:!1,messages:["午休時間到了，記得休息一下喔～","喵～該吃午餐了！","午休愉快！"],enabled:!1},{id:"3",name:"週三進貨提醒",type:"dayOfWeek",day:"三",startTime:"14:00",endTime:"16:00",allDay:!1,messages:["週三下午進貨時間到了，加油！","喵～進貨時間！","週三進貨，辛苦了！"],enabled:!1},{id:"4",name:"週末問候",type:"dayOfWeek",day:"六",startTime:"09:00",endTime:"11:00",allDay:!1,messages:["週末愉快！好好休息喔～","喵～週末快樂！","週末愉快！享受美好時光～"],enabled:!1},{id:"5",name:"每月1號提醒",type:"monthlyDate",date:1,startTime:"08:00",endTime:"10:00",allDay:!1,messages:["新的月份開始了！大家加油！","喵～新的月份，新的開始！","每月1號，重新出發！"],enabled:!1},{id:"6",name:"週末全天問候",type:"dayOfWeek",day:"六",startTime:"08:00",endTime:"10:00",allDay:!0,messages:["週末愉快！好好享受假期～","喵～週末快樂！全天陪伴你！","週末愉快！放鬆心情～"],enabled:!1}],ove=()=>[{id:"1",name:"早班問候",message:"{早班同事}，早安！今天也要加油喔！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"2",name:"晚班問候",message:"{晚班同事}，晚安！今天辛苦了！",enabled:!1,timeRestriction:!1,startTime:"18:00",endTime:"20:00"},{id:"3",name:"全體問候",message:"{所有同事}，工作辛苦了！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"4",name:"人數統計",message:"今天有{總人數}位同事上班，加油！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"5",name:"連續上班關心",message:"{連續上班同事}，辛苦了！記得適時休息喔～",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"6",name:"連續上班鼓勵",message:"{連續上班同事}，真是勤奮！繼續保持！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"7",name:"連續上班提醒",message:"提醒：{連續上班同事}，請注意工作時數安排",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"8",name:"連續上班統計",message:"今天有{連續上班同事數量}位同事連續上班4天以上，大家辛苦了！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"9",name:"連續上班6天提醒",message:"{連續上班6天同事}，已經連續上班6天，請務必安排休息！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"10",name:"連續上班5天關心",message:"{連續上班5天同事}，連續上班5天辛苦了，記得適時休息喔～",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"11",name:"連續上班4天鼓勵",message:"{連續上班4天同事}，連續上班4天，工作態度值得肯定！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"12",name:"連續上班6天簡潔提醒",message:"{連續上班6天同事}，請務必安排休息！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"13",name:"連續上班5天簡潔關心",message:"{連續上班5天同事}，辛苦了，記得適時休息喔～",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"}],kY=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState([]),[i,s]=x.useState(0),[a,o]=x.useState(!1),[A,l]=x.useState(4),[u,d]=x.useState(""),[f,g]=x.useState(!0),[p,m]=x.useState(!1),[v,y]=x.useState(""),[w,B]=x.useState(""),[I,T]=x.useState(""),[F,C]=x.useState(!1),[_,S]=x.useState(!1),[P,Q]=x.useState(null),[k,N]=x.useState([]),[oe,xe]=x.useState([]),[pe,me]=x.useState([]),[q,se]=x.useState({}),[ue,Se]=x.useState(Date.now()),[ie,Ue]=x.useState([]);x.useEffect(()=>qd(Ti(or,"catSpeech","global"),j=>{if(j.exists()){const Y=j.data();e(Y.enabled||!1),n(Y.texts||[]),l(Y.intervalSeconds||4),S(Y.smartMode||!1),N(Y.customRules||[]),xe(Y.scheduleTemplates||[]),d("")}else e(!1),n([]),l(4),S(!1),N([]),xe([]);g(!1)},j=>{console.error("監聽設定失敗:",j),d("載入對話設定失敗"),g(!1)}),[]),x.useEffect(()=>{(async()=>{try{const{doc:j,getDoc:Y}=await pa(async()=>{const{doc:$,getDoc:W}=await Promise.resolve().then(()=>Wg);return{doc:$,getDoc:W}},void 0),M=await Y(j(or,"catSpeech","dialogueOrder"));if(M.exists()){const $=M.data();$.dialogues&&Array.isArray($.dialogues)&&(Ue($.dialogues),console.log("載入排序後的對話列表:",$.dialogues.length,"個對話"))}}catch(j){console.error("載入排序對話列表失敗:",j)}})()},[]),x.useEffect(()=>{if(!_)return;(async()=>{try{const{collection:j,getDocs:Y}=await pa(async()=>{const{collection:W,getDocs:L}=await Promise.resolve().then(()=>Wg);return{collection:W,getDocs:L}},void 0),M=await Y(j(or,"names")),$={};M.forEach(W=>{const L=W.data();$[W.id]=L.name}),se($)}catch(j){console.error("載入姓名資料失敗:",j)}})()},[_]),x.useEffect(()=>{if(!_)return;(async()=>{try{console.log("開始載入班表資料...");const{collection:j,getDocs:Y}=await pa(async()=>{const{collection:L,getDocs:be}=await Promise.resolve().then(()=>Wg);return{collection:L,getDocs:be}},void 0),M=await Y(j(or,"schedule")),$={};let W=null;M.forEach(L=>{const be=L.data();$[L.id]=be,(L.id==="currentMonth"&&!W||L.id==="nextMonth"&&!W)&&(W=be)}),console.log("載入的班表資料:",Object.keys($)),gY($),Q(W)}catch(j){console.error("載入班表資料失敗:",j)}})()},[_]),x.useEffect(()=>{if(console.log("=== 智能對話生成檢查 ==="),console.log("智能模式:",_),console.log("顯示氣泡:",t),console.log("班表資料:",P?"已載入":"未載入"),console.log("班表模板:",oe.length,"個"),console.log("自定義規則:",k.length,"個"),console.log("姓名資料:",Object.keys(q).length,"個"),!_||!t){console.log("智能模式或顯示氣泡未開啟，跳過智能對話生成");return}const V=()=>{console.log("=== 開始生成智能對話 ==="),pY();const Y=QY(P,k,oe,q);if(console.log("生成的智能對話數量:",Y.length),console.log("智能對話詳情:",Y.map(M=>{var $;return{id:M.id,type:M.type,message:($=M.message)==null?void 0:$.substring(0,30),source:M.source}})),Y.length>0){console.log("=== 簡化邏輯：直接使用智能對話 ===");const M=Y.map(L=>L.message).filter(L=>L&&L.trim()!=="");console.log("智能對話訊息:",M);const $=r.filter(L=>L&&typeof L=="string"&&L.trim()!==""&&!M.includes(L)),W=[...M,...$];if(console.log("原始普通對話:",$),console.log("合併後的對話:",W),W.length>0)console.log("設置合併後的對話:",W.length,"個"),console.log("最終對話內容:",W),me(Y),n(W);else{const L=r.filter(be=>be&&typeof be=="string"&&be.trim()!=="");console.log("沒有有效對話，使用原始對話:",L),n(L)}}else{const M=r.filter($=>$&&typeof $=="string"&&$.trim()!=="");console.log("沒有智能對話，使用原始對話:",M),n(M)}};V();const j=setInterval(V,30*1e3);return()=>clearInterval(j)},[_,t,P,k,oe,q,ue,ie]),x.useEffect(()=>{if(r.length>0){if(i>=r.length)s(0);else if(!r[i]||typeof r[i]!="string"||r[i].trim()===""){const V=r.findIndex(j=>j&&typeof j=="string"&&j.trim()!=="");s(V!==-1?V:0)}}},[r,i]),x.useEffect(()=>{if(!t||r.length===0)return;const V=setInterval(()=>{o(!0),setTimeout(()=>{s(j=>j>=r.length||j===r.length-1?0:j+1),o(!1)},300)},A*1e3);return()=>clearInterval(V)},[t,r.length,A]);const Ye=()=>{Se(Date.now())};x.useEffect(()=>{const V=j=>{j.ctrlKey&&j.altKey&&j.key==="A"&&m(!0),j.ctrlKey&&j.key==="R"&&_&&(j.preventDefault(),Ye())};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[_]);const D=async()=>{if(!v.trim()||!w.trim()){T("請輸入信箱和密碼");return}try{C(!0),T("");const{signInWithEmailAndPassword:V}=await pa(async()=>{const{signInWithEmailAndPassword:j}=await Promise.resolve().then(()=>cY);return{signInWithEmailAndPassword:j}},void 0);await V(XD,v,w),m(!1),y(""),B("")}catch(V){console.error("登入失敗:",V);let j="登入失敗";switch(V.code){case"auth/user-not-found":j="找不到此帳號";break;case"auth/wrong-password":j="密碼錯誤";break;case"auth/invalid-email":j="信箱格式錯誤";break;case"auth/too-many-requests":j="登入次數過多，請稍後再試";break;default:j="登入失敗："+V.message}T(j)}finally{C(!1)}};return f?c.jsx("button",{onClick:()=>m(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:c.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}):u?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>m(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:c.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),c.jsx("div",{className:"mt-2 mb-0 animate-fadeIn",children:c.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-2",children:c.jsx("div",{className:"text-red-400 text-center text-sm",children:u})})})]}):!t||r.length===0?c.jsx("button",{onClick:()=>m(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:c.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>m(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:c.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),c.jsx("div",{className:"mt-2 mb-0 animate-fadeIn",children:c.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-2xl p-2 border border-primary/20 backdrop-blur-sm shadow-lg relative",children:[_&&c.jsx("button",{onClick:Ye,className:"absolute top-1 right-1 w-6 h-6 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100 z-10",title:"刷新智能對話 (Ctrl+R)",children:c.jsx("svg",{className:"w-3 h-3 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),c.jsx("div",{className:"relative",children:c.jsx("div",{className:`text-white text-center text-lg leading-relaxed min-h-[1.2rem] flex items-center justify-center transition-all duration-300 ${a?"opacity-0 transform translate-y-2":"opacity-100 transform translate-y-0"}`,children:(()=>{const V=r[i];if(V&&typeof V=="string"&&V.trim()!=="")return V;if(r.length===0)return"喵～";{const j=r.findIndex((Y,M)=>M>i&&Y&&typeof Y=="string"&&Y.trim()!=="");if(j!==-1)return r[j];{const Y=r.findIndex(M=>M&&typeof M=="string"&&M.trim()!=="");return Y!==-1?r[Y]:"喵～"}}})()})})]})}),p&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-surface rounded-xl p-6 w-96 border border-primary/20",children:[c.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"管理員登入"}),c.jsx("input",{type:"email",placeholder:"管理員信箱",value:v,onChange:V=>y(V.target.value),disabled:F,className:"w-full mb-3 p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:opacity-50",onKeyPress:V=>V.key==="Enter"&&!F&&D()}),c.jsx("input",{type:"password",placeholder:"密碼",value:w,onChange:V=>B(V.target.value),disabled:F,className:"w-full mb-4 p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:opacity-50",onKeyPress:V=>V.key==="Enter"&&!F&&D()}),I&&c.jsx("div",{className:"text-red-400 text-sm mb-3 bg-red-500/10 border border-red-500/20 rounded-lg p-2",children:I}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:D,disabled:F,className:"flex-1 bg-primary text-white p-3 rounded-lg hover:bg-primary/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:F?"登入中...":"登入"}),c.jsx("button",{onClick:()=>m(!1),disabled:F,className:"flex-1 bg-white/10 text-white p-3 rounded-lg hover:bg-white/20 transition-colors disabled:opacity-50",children:"取消"})]})]})})]})},OY="/Brainless/assets/logo-cat-CbWHoD5g.png";function DY(){return c.jsx("header",{className:"bg-surface text-white",children:c.jsx("div",{className:"container-custom py-4 md:py-6",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("div",{className:"flex items-center gap-4 relative",children:[c.jsx("img",{src:OY,alt:"Cat Logo",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full border-2 border-primary p-1 logo logo-glow logo-float"}),c.jsxs("div",{className:"flex flex-col items-start gap-1",children:[c.jsx("h1",{className:"text-2xl sm:text-4xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Brainless"}),c.jsx(g$,{})]})]}),c.jsx(kY,{})]})})})}function jY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const RY=x.forwardRef(jY);function MY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const C2=x.forwardRef(MY);function LY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const HY=x.forwardRef(LY);function VY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const KY=x.forwardRef(VY);function $Y({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))}const Zd=x.forwardRef($Y);function GY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const hd=x.forwardRef(GY);function zY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const tj=x.forwardRef(zY);function WY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const YY=x.forwardRef(WY);function XY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const ab=x.forwardRef(XY);function qY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ob=x.forwardRef(qY);function JY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Lh=x.forwardRef(JY);function ZY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Ab=x.forwardRef(ZY);function eX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const tX=x.forwardRef(eX);function rX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const rs=x.forwardRef(rX);function nX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const ns=x.forwardRef(nX);function iX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const sX=x.forwardRef(iX);function aX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const rj=x.forwardRef(aX);function oX(t){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 20v-7m0 0l6-6.5H6L12 13zm-4-9h8m-8 0l-2-2m10 2l2-2"})})}const E2=[{path:"/sandwich",label:"三明治計算器",icon:c.jsx(Zd,{className:"w-5 h-5"})},{path:"/cashier",label:"收銀管理",icon:c.jsx(HY,{className:"w-5 h-5"})},{path:"/coffee-beans",label:"咖啡豆管理",icon:c.jsx(ab,{className:"w-5 h-5"})},{path:"/schedule",label:"班表管理",icon:c.jsx(hd,{className:"w-5 h-5"})},{path:"/daily-reports",label:"報表生成器",icon:c.jsx(Ab,{className:"w-5 h-5"})},{path:"/poursteady",label:"手沖機調整",icon:c.jsx(KY,{className:"w-5 h-5"})},{path:"/alcohol",label:"酒精計算",icon:c.jsx(oX,{className:"w-5 h-5"})}];function AX(){const[t,e]=x.useState(!1),[r,n]=x.useState(!0),[i,s]=x.useState("");if(x.useEffect(()=>{let o=!0;const A=XD.onAuthStateChanged(async l=>{if(o){if(l)try{const u=await hY(l.uid);o&&(e(u),s(""))}catch(u){console.error("檢查管理員狀態失敗:",u),o&&(e(!1),s("權限檢查失敗"))}else o&&(e(!1),s(""));o&&n(!1)}});return()=>{o=!1,A()}},[]),r)return c.jsx("nav",{className:"bg-surface sticky top-0 z-50 shadow-lg",children:c.jsx("div",{className:"container-custom py-2 sm:py-4",children:c.jsxs("div",{className:"flex justify-center gap-2 sm:gap-4",children:[E2.map(({path:o,label:A,icon:l})=>c.jsxs("div",{className:"flex flex-col items-center w-[5.5rem] sm:w-28 min-h-[4.5rem] sm:min-h-20 p-2 sm:p-3 rounded-lg animate-pulse",children:[c.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-white/10 rounded mb-1.5 sm:mb-2"}),c.jsx("div",{className:"w-12 h-3 bg-white/10 rounded text-xs sm:text-sm"})]},o)),c.jsxs("div",{className:"flex flex-col items-center w-[5.5rem] sm:w-28 min-h-[4.5rem] sm:min-h-20 p-2 sm:p-3 rounded-lg animate-pulse",children:[c.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-white/10 rounded mb-1.5 sm:mb-2"}),c.jsx("div",{className:"w-12 h-3 bg-white/10 rounded text-xs sm:text-sm"})]})]})})});const a=[...E2,...t?[{path:"/admin",label:"管理設定",icon:c.jsx(ob,{className:"w-5 h-5"})}]:[]];return c.jsx("nav",{className:"bg-surface sticky top-0 z-50 shadow-lg",children:c.jsxs("div",{className:"container-custom py-2 sm:py-4",children:[i&&c.jsx("div",{className:"mb-4 bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"text-amber-500",children:"⚠️"}),c.jsx("p",{className:"text-amber-400 text-sm",children:i})]})}),c.jsx("div",{className:"flex justify-center gap-2 sm:gap-4",children:a.map(({path:o,label:A,icon:l})=>c.jsxs(c$,{to:o,className:({isActive:u})=>`
                flex flex-col items-center
                w-[5.5rem] sm:w-28
                min-h-[4.5rem] sm:min-h-20
                p-2 sm:p-3
                rounded-lg
                transition-all duration-200
                ${u?"text-primary bg-primary/10":"text-text-secondary hover:text-text-primary hover:bg-white/5"}
              `,children:[c.jsx("div",{className:"mb-1.5 sm:mb-2",children:Xm.cloneElement(l,{className:"w-6 h-6 sm:w-7 sm:h-7"})}),c.jsx("div",{className:"text-xs sm:text-sm text-center leading-tight",children:A})]},o))})]})})}function lX({children:t}){return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(DY,{}),c.jsx(AX,{}),c.jsx("main",{className:"py-6",children:c.jsx("div",{className:"container-custom",children:t})})]})}function uX(){return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary border-t-transparent"}),c.jsx("p",{className:"text-text-secondary animate-pulse",children:"載入中..."})]})})}function cX(){return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h1",{className:"text-4xl font-bold text-red-500",children:"出錯了！"}),c.jsx("p",{className:"text-text-secondary",children:"抱歉，頁面載入時發生錯誤。"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"重新載入"})]})})}class dX extends Xm.Component{constructor(r){super(r);sc(this,"handleReload",()=>{window.location.reload()});sc(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){console.error("錯誤邊界捕獲到錯誤:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:c.jsxs("div",{className:"text-center max-w-md mx-auto",children:[c.jsx("div",{className:"text-red-400 text-6xl mb-6",children:"😵"}),c.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"哎呀！發生了一些問題"}),c.jsx("p",{className:"text-text-secondary mb-6",children:"應用程序遇到了一個意外錯誤。請嘗試重新載入頁面或返回首頁。"}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:this.handleReload,className:"w-full bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/80 transition-colors",children:"重新載入頁面"}),c.jsx("button",{onClick:this.handleGoHome,className:"w-full bg-white/10 text-white px-6 py-3 rounded-lg hover:bg-white/20 transition-colors",children:"返回首頁"})]}),!1]})}):this.props.children}}function fX(t){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 21.5c4.5 0 7.5-3 7.5-7.5C19.5 8.5 12 2.5 12 2.5S4.5 8.5 4.5 14c0 4.5 3 7.5 7.5 7.5z"})})}const Ei={hot:[40,78,120,162,200,230],cold:{"150ml":[40,58,80,102,120,150],"140ml":[40,58,80,102,120,140],"130ml":[40,58,80,102,120,130]}},Hh={hot:[40,38,42,42,38,30],cold:{"150ml":[40,18,22,22,18,30],"140ml":[40,18,22,22,18,20],"130ml":[40,18,22,22,18,10]}};function hX(){const[t,e]=x.useState("hot"),[r,n]=x.useState("150ml"),[i,s]=x.useState({hot:Array(6).fill(""),cold:Array(6).fill("")}),a=(u,d)=>{const f=[...i[t]];f[u]=d,f.map((g,p)=>g===""?Ei[t][p]:Number(g)),s({...i,[t]:f})},o=()=>{s({...i,[t]:Array(6).fill("")})},A=u=>{n(u),s({...i,cold:Array(6).fill("")})},l=u=>{const d=i[t][u];return t==="hot"?d===""?Ei.hot[u]:Number(d):d===""?Ei.cold[r][u]:Number(d)};return c.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6 sm:space-y-8",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:c.jsx(fX,{className:"w-6 h-6 text-primary"})}),c.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Poursteady 注水量調整"})]}),c.jsx("button",{onClick:o,className:`
            w-full sm:w-auto px-4 py-2 rounded-lg font-medium
            transition-all duration-200
            border border-white/10
            hover:bg-white/5
          `,children:"重設"})]}),c.jsxs("div",{className:"flex gap-2 bg-surface/30 p-1.5 rounded-xl w-full sm:w-fit",children:[c.jsx("button",{onClick:()=>e("hot"),className:`
            flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
            transition-all duration-200
            ${t==="hot"?"bg-gradient-to-br from-rose-500 to-amber-500 text-white shadow-lg shadow-rose-500/20":"text-text-secondary hover:bg-white/5"}
          `,children:"熱手沖"}),c.jsx("button",{onClick:()=>e("cold"),className:`
            flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
            transition-all duration-200
            ${t==="cold"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
          `,children:"冰手沖"})]}),t==="cold"&&c.jsxs("div",{className:"flex gap-2 bg-surface/30 p-1.5 rounded-xl w-full sm:w-fit",children:[c.jsx("button",{onClick:()=>A("150ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="150ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"150ml"}),c.jsx("button",{onClick:()=>A("140ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="140ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"140ml"}),c.jsx("button",{onClick:()=>A("130ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="130ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"130ml"})]}),c.jsx("div",{className:"grid gap-4",children:(t==="hot"?Ei.hot:Ei.cold[r]).map((u,d)=>{const f=l(d),g=d>0?l(d-1):0,p=d===0?f:f-g,m=t==="hot"?Hh.hot[d]:Hh.cold[r][d],v=Math.round(p-m);return c.jsx("div",{className:`
                bg-gradient-to-br from-surface/30 to-surface/20
                rounded-xl p-5 space-y-4 border border-white/5
                transition-all duration-300 hover:shadow-lg
                ${t==="hot"?"hover:border-rose-500/20":"hover:border-blue-500/20"}
              `,children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`
                    w-8 h-8 rounded-full flex items-center justify-center font-bold
                    ${t==="hot"?"bg-gradient-to-br from-rose-400/20 to-amber-400/20 text-rose-400":"bg-gradient-to-br from-blue-400/20 to-cyan-400/20 text-blue-400"}
                  `,children:d+1}),c.jsxs("div",{children:[c.jsxs("div",{className:"font-medium",children:["第 ",d+1," 段注水"]}),c.jsxs("div",{className:"text-sm text-text-secondary",children:["累計標準: ",u," ml",c.jsxs("span",{className:"block sm:inline sm:ml-2",children:["單段標準: ",m," ml"]})]})]})]}),c.jsx("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-end",children:c.jsxs("div",{className:"w-full sm:w-32 text-center",children:[c.jsx("input",{type:"number",value:i[t][d],onChange:y=>a(d,y.target.value),placeholder:Ei[t][d],step:"0.1",className:`
                        w-full sm:w-24 text-center rounded-lg px-2 py-1.5 text-lg font-bold
                        bg-white/5 border border-white/10 focus:outline-none
                        focus:ring-1 ${t==="hot"?"focus:ring-rose-500":"focus:ring-blue-500"}
                      `}),v!==0&&c.jsxs("div",{className:`text-xs mt-1 ${v>0?"text-green-400":"text-red-400"}`,children:[v>0?`+${v}`:v," ml"]})]})})]})},d)})}),c.jsx("div",{className:`
        bg-gradient-to-br from-surface/30 to-surface/20
        rounded-xl p-5 border border-white/5
        ${t==="hot"?"hover:border-rose-500/20":"hover:border-blue-500/20"}
      `,children:c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-text-secondary",children:"總注水量"}),c.jsxs("div",{className:"text-2xl sm:text-3xl font-bold mt-1",children:[l(5)," ml"]}),(()=>{const u=l(5),d=t==="hot"?Ei.hot[5]:Ei.cold[r][5],f=Math.round(u-d);return f!==0?c.jsxs("div",{className:`text-sm mt-1 ${f>0?"text-green-400":"text-red-400"}`,children:[f>0?`+${f}`:f," ml"]}):null})()]}),c.jsxs("div",{className:"text-right w-full sm:w-auto",children:[c.jsx("div",{className:"text-sm text-text-secondary",children:"標準總量"}),c.jsxs("div",{className:"text-xl mt-1",children:[t==="hot"?Ei.hot[5]:Ei.cold[r][5]," ml"]}),c.jsx("div",{className:`
              text-xs mt-2 px-2 py-1 rounded-full w-fit ml-auto
              ${t==="hot"?"bg-rose-500/10 text-rose-400":"bg-blue-500/10 text-blue-400"}
            `,children:t==="hot"?"熱手沖":"冰手沖"})]})]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`
            w-1 h-5 rounded-full
            ${t==="hot"?"bg-rose-400":"bg-blue-400"}
          `}),c.jsx("h2",{className:"font-medium",children:"需調整水量"})]}),c.jsx("div",{className:"grid gap-2",children:(t==="hot"?Hh.hot:Hh.cold[r]).map((u,d)=>{const f=l(d),g=d>0?l(d-1):0,p=d===0?f:f-g,m=Math.round(u-p);return m===0?null:c.jsxs("div",{className:`
                  flex items-center justify-between
                  px-4 py-2 rounded-lg
                  ${t==="hot"?"bg-rose-500/5":"bg-blue-500/5"}
                `,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`
                    w-6 h-6 rounded-full 
                    flex items-center justify-center 
                    text-sm font-medium
                    ${t==="hot"?"bg-rose-400/10 text-rose-400":"bg-blue-400/10 text-blue-400"}
                  `,children:d+1}),c.jsxs("span",{children:["第 ",d+1," 段注水"]})]}),c.jsxs("span",{className:`
                  text-sm px-3 py-1 rounded-full font-medium
                  ${m>0?"bg-green-400/10 text-green-400":"bg-red-400/10 text-red-400"}
                `,children:[m>0?`+${m}`:m," ml"]})]},d)})})]})]})}function gX(t){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 20v-7m0 0l6-6.5H6L12 13zm-4-9h8m-8 0l-2-2m10 2l2-2"})})}function pX(){const[t,e]=x.useState([{volume:"",concentration:"",unit:"ml",id:Date.now()}]),[r,n]=x.useState({method:"volume",volume:"",cubes:"",cubeWeight:""}),[i,s]=x.useState(null),[a,o]=x.useState("ml"),A=(m,v,y)=>{if(!m)return"";const w=parseFloat(m);return v===y?w:v==="shot"?w*30:w/30},l=()=>{e([...t,{volume:"",concentration:"",unit:"ml",id:Date.now()}])},u=m=>{t.length>1&&e(t.filter(v=>v.id!==m))},d=(m,v,y)=>{e(t.map(w=>w.id===m?{...w,[v]:y}:w))},f=m=>{e(t.map(v=>{if(v.id!==m)return v;const y=v.unit==="shot"?"ml":"shot";return{...v,unit:y,volume:A(v.volume,v.unit,y).toString()}}))},g=()=>{const m=t.reduce((I,{volume:T,concentration:F,unit:C})=>{const _=parseFloat(T)||0,S=C==="shot"?_*30:_,P=parseFloat(F)||0;return I+S*(P/100)},0),v=t.reduce((I,{volume:T,unit:F})=>{const C=parseFloat(T)||0;return I+(F==="shot"?C*30:C)},0);let y=0;if(r.method==="volume")y=parseFloat(r.volume)||0;else{const I=parseFloat(r.cubes)||0,T=parseFloat(r.cubeWeight)||0;y=I*T}const w=v+y,B=m/w*100;s({originalConcentration:m/v*100,finalConcentration:B,totalVolume:w,pureAlcohol:m,meltedIceVolume:y})},p=()=>{e([{volume:"",concentration:"",unit:"ml",id:Date.now()}]),n({method:"volume",volume:"",cubes:"",cubeWeight:""}),s(null)};return c.jsx("div",{className:"container-custom py-8",children:c.jsx("div",{className:"max-w-2xl mx-auto px-4",children:c.jsxs("div",{className:"bg-surface rounded-2xl p-6 shadow-xl",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsxs("div",{className:"inline-flex items-center justify-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-blue-500/20 to-cyan-500/20",children:c.jsx(gX,{className:"w-8 h-8 text-blue-400"})}),c.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"酒精濃度計算器"})]})}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white/5 rounded-xl p-6 space-y-4",children:[c.jsxs("h2",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-5 bg-blue-400 rounded-full"}),"酒類清單"]}),c.jsx("div",{className:"space-y-4",children:t.map((m,v)=>c.jsxs("div",{className:"bg-white/5 rounded-lg p-4 transition-all duration-200 hover:bg-white/10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"text-sm font-medium text-blue-400",children:["酒類 ",v+1]}),t.length>1&&c.jsx("button",{onClick:()=>u(m.id),className:"p-1 rounded-lg hover:bg-red-500/10 text-red-400 transition-colors",children:c.jsx(rj,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("label",{className:"text-sm text-text-secondary",children:"容量"}),c.jsx("button",{onClick:()=>f(m.id),className:`text-xs px-2 py-0.5 rounded-full bg-blue-500/10 
                                     hover:bg-blue-500/20 transition-colors text-blue-400`,children:m.unit==="shot"?"ml":"shot"})]}),c.jsx("input",{type:"number",value:m.volume,onChange:y=>d(m.id,"volume",y.target.value),className:"input-field w-full",placeholder:m.unit==="shot"?"1 shot = 30ml":"輸入毫升",min:"0",step:m.unit==="shot"?"0.5":"1"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"濃度 (%)"}),c.jsx("input",{type:"number",value:m.concentration,onChange:y=>d(m.id,"concentration",y.target.value),className:"input-field w-full",placeholder:"輸入濃度",min:"0",max:"100"})]})]})]},m.id))}),c.jsx("button",{onClick:l,className:`w-full py-3 rounded-lg border-2 border-dashed border-blue-500/30
                         hover:bg-blue-500/5 text-blue-400
                         transition-all duration-200 group`,children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx(rs,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),c.jsx("span",{className:"text-sm font-medium",children:"添加酒類"})]})})]}),c.jsxs("div",{className:"bg-white/5 rounded-xl p-6",children:[c.jsxs("h2",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-5 bg-blue-400 rounded-full"}),"融冰計算"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>n(m=>({...m,method:"volume"})),className:`p-3 rounded-lg transition-all duration-200 ${r.method==="volume"?"bg-blue-500 text-white shadow-lg shadow-blue-500/25":"bg-white/5 hover:bg-white/10 text-text-secondary"}`,children:[c.jsx("div",{className:"text-sm font-medium",children:"直接輸入體積"}),c.jsx("div",{className:"text-xs mt-1 opacity-60",children:"手動輸入融冰量"})]}),c.jsxs("button",{onClick:()=>n(m=>({...m,method:"cubes"})),className:`p-3 rounded-lg transition-all duration-200 ${r.method==="cubes"?"bg-blue-500 text-white shadow-lg shadow-blue-500/25":"bg-white/5 hover:bg-white/10 text-text-secondary"}`,children:[c.jsx("div",{className:"text-sm font-medium",children:"計算冰塊體積"}),c.jsx("div",{className:"text-xs mt-1 opacity-60",children:"根據冰塊計算"})]})]}),c.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:r.method==="volume"?c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"融冰體積 (ml)"}),c.jsx("input",{type:"number",value:r.volume,onChange:m=>n(v=>({...v,volume:m.target.value})),className:"input-field w-full",placeholder:"輸入預計融化的體積",min:"0"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"冰塊數量"}),c.jsx("input",{type:"number",value:r.cubes,onChange:m=>n(v=>({...v,cubes:m.target.value})),className:"input-field w-full",placeholder:"輸入數量",min:"0"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"每個冰塊重量 (g)"}),c.jsx("input",{type:"number",value:r.cubeWeight,onChange:m=>n(v=>({...v,cubeWeight:m.target.value})),className:"input-field w-full",placeholder:"輸入冰塊重量",min:"0"})]})]}),r.cubes&&r.cubeWeight&&c.jsxs("div",{className:"text-sm bg-blue-500/10 text-blue-400 rounded-lg p-3",children:["預計融化體積：",(parseFloat(r.cubes)*parseFloat(r.cubeWeight)).toFixed(0)," ml"]})]})})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:g,className:`flex-1 py-3 rounded-lg bg-gradient-to-r from-blue-500 to-cyan-500
                         text-white font-medium shadow-lg shadow-blue-500/25
                         hover:shadow-xl hover:shadow-blue-500/40 
                         transition-all duration-200`,children:"計算結果"}),c.jsx("button",{onClick:p,className:`flex-1 py-3 rounded-lg bg-white/5 hover:bg-white/10 
                         text-text-secondary transition-all duration-200`,children:"重設"})]}),i&&c.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fade-in",children:[c.jsxs("div",{className:"col-span-2 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg p-4",children:[c.jsx("div",{className:"text-sm text-gray-300",children:i.meltedIceVolume>0?"加入融冰後濃度":"酒精濃度"}),c.jsxs("div",{className:"text-3xl font-bold text-blue-400 mt-1",children:[i.finalConcentration.toFixed(2),"%"]}),i.meltedIceVolume>0&&c.jsxs("div",{className:"text-sm text-gray-300 mt-2",children:["調酒前濃度：",i.originalConcentration.toFixed(2),"%"]})]}),c.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[c.jsx("div",{className:"text-sm text-text-secondary",children:"總容量"}),c.jsx("div",{className:"text-xl font-bold mt-1",children:a==="shot"?`${(i.totalVolume/30).toFixed(1)} shot`:`${i.totalVolume.toFixed(0)} ml`}),c.jsx("div",{className:"text-sm text-text-secondary mt-1",children:a==="shot"?`${i.totalVolume.toFixed(0)} ml`:`${(i.totalVolume/30).toFixed(1)} shot`}),i.meltedIceVolume>0&&c.jsxs("div",{className:"text-sm text-text-secondary mt-1",children:["含融冰：",i.meltedIceVolume.toFixed(0)," ml"]})]}),c.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[c.jsx("div",{className:"text-sm text-text-secondary",children:"純酒精含量"}),c.jsx("div",{className:"text-xl font-bold mt-1",children:a==="shot"?`${(i.pureAlcohol/30).toFixed(1)} shot`:`${i.pureAlcohol.toFixed(0)} ml`}),c.jsx("div",{className:"text-sm text-text-secondary mt-1",children:a==="shot"?`${i.pureAlcohol.toFixed(0)} ml`:`${(i.pureAlcohol/30).toFixed(1)} shot`})]})]})]})]})})})}function mX(t,e){const[r,n]=x.useState(()=>{try{const i=window.localStorage.getItem(t);return i?JSON.parse(i):e}catch(i){return console.error(i),e}});return x.useEffect(()=>{try{window.localStorage.setItem(t,JSON.stringify(r))}catch(i){console.error(i)}},[t,r]),[r,n]}const Ee={common:{loading:"載入中...",error:"出錯了！",retry:"重試",save:"儲存",cancel:"取消",confirm:"確認",delete:"刪除",edit:"編輯"},sandwich:{title:"三明治計算器",subtitle:"選擇拉奶，選擇成功",inputsTitle:"計算輸入",inputsSubtitle:"輸入現有數量",existingHam:"現有的火腿三明治",existingSalami:"現有的臘腸三明治",distribution:"分配方式",distributionEven:"平均分配",distributionHam:"優先火腿",distributionSalami:"優先臘腸",extraBagsLabel:"額外需要的麵包包數",calculate:"計算結果",reset:"重設輸入",resultsTitle:"計算結果",resultsSubtitle:"製作需求總覽",needHam:"需製作的火腿三明治",needSalami:"需製作的臘腸三明治",needBags:"需要的麵包數量",totalNeed:"總計需求",emptyHint:"點擊計算按鈕查看結果"},sandwichUi:{summaryTarget:"目標",summaryExisting:"現有",summaryToMake:"需製作",unitPiece:"個",unitBag:"包",capacityTitle:"容量與分配資訊",capacityFormula:"容量 = 包數 × 每包數量",capacityLeftover:"剩餘切片 = 容量 − 需求",capacityDistributionTitle:"分配方式",capacityEvenDetail:"平均分配：多出的切片會均分到火腿與臘腸",capacityHamDetail:"優先火腿：多出的切片全分給火腿",capacitySalamiDetail:"優先臘腸：多出的切片全分給臘腸",capacityActual:"本次實際分配",hamProgress:"火腿達成度",salamiProgress:"臘腸達成度",inputPlaceholderNumber:"輸入個數",tooltipEven:"平均分配多出的切片",tooltipHam:"多出的切片優先給火腿",tooltipSalami:"多出的切片優先給臘腸"},settings:{title:"基本設定",subtitle:"調整計算參數",breadPerBag:"每包麵包的數量",targetHam:"目標火腿三明治數量",targetSalami:"目標臘腸三明治數量",done:"完成設定"}};function zA(t){const e=parseInt(t,10);return Number.isFinite(e)?e:0}function _2(t,e){const r=Math.max(1,zA(e.breadPerBag)),n=Math.max(0,zA(e.targetHam)),i=Math.max(0,zA(e.targetSalami)),s=Math.max(0,zA(t.existingHam)),a=Math.max(0,zA(t.existingSalami)),o=Math.max(0,zA(t.extraBags)),A=t.distribution||"even",l=Math.max(0,n-s),u=Math.max(0,i-a),d=l+u,g=Math.max(0,Math.ceil(d/r))+o,p=g*r,m=Math.max(0,p-d);let v=0,y=0;switch(A){case"ham":v=m;break;case"salami":y=m;break;default:v=Math.floor(m/2),y=m-v}const w=l+v,B=u+y;return{totalHamNeeded:w,totalSalamiNeeded:B,bagsNeeded:g,totalTarget:n+i,totalExisting:s+a,baseHamNeeded:l,baseSalamiNeeded:u,baseTotalNeeded:d,totalSlices:p,extraSlices:m,extraHam:v,extraSalami:y}}function vX(){const t={breadPerBag:8,targetHam:60,targetSalami:30},[e,r]=mX("sandwich_settings",t),[n,i]=x.useState({existingHam:"",existingSalami:"",extraBags:0,distribution:"even"}),[s,a]=x.useState(!1),[o,A]=x.useState(e),[l,u]=x.useState(null),[d,f]=x.useState(!0),[g,p]=x.useState(null),[m,v]=x.useState(!1);x.useEffect(()=>{let C;try{C=qd(Ti(or,"settings","sandwich"),_=>{_.exists()?r(_.data()):Lo(_.ref,e).catch(S=>{console.error("創建設定文件失敗:",S)}),f(!1)},_=>{console.error("讀取設定錯誤:",_),p("無法連接到 Firebase，使用本地設定"),f(!1)})}catch(_){console.error("Firebase 初始化錯誤:",_),p("Firebase 連接失敗，使用本地設定"),f(!1)}return()=>{C&&C()}},[]),x.useEffect(()=>{s&&A(e)},[s,e]);const y=async C=>{r(C);try{await Lo(Ti(or,"settings","sandwich"),C)}catch(_){console.error("更新設定錯誤:",_),p("無法同步到 Firebase，設定已保存到本地")}},w=async()=>{await y(o),a(!1)},B=()=>{const C=_2(n,e);u(C)},I=x.useMemo(()=>_2(n,e),[n,e]),T=()=>{i({existingHam:"",existingSalami:"",extraBags:0,distribution:"even"}),u(null)},F=[{value:"even",label:Ee.sandwich.distributionEven},{value:"ham",label:Ee.sandwich.distributionHam},{value:"salami",label:Ee.sandwich.distributionSalami}];return c.jsx("div",{className:"container-custom py-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent mb-2",children:Ee.sandwich.title}),c.jsx("p",{className:"text-text-secondary",children:Ee.sandwich.subtitle})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[c.jsxs("div",{className:"card bg-gradient-to-br from-surface/80 to-surface/60 border-primary/20",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:c.jsx(Zd,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg sm:text-xl font-bold text-primary",children:Ee.sandwich.inputsTitle}),c.jsx("p",{className:"text-xs sm:text-sm text-text-secondary",children:Ee.sandwich.inputsSubtitle})]})]}),c.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-lg bg-primary/20 hover:bg-primary/30 border border-primary/30 text-primary transition-all duration-200 hover:scale-110",title:Ee.settings.title,children:c.jsx(ob,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),d?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"})}):g?c.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 mb-4",children:c.jsxs("div",{className:"flex items-center gap-2 text-amber-400",children:[c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),c.jsx("span",{className:"text-sm font-medium",children:g})]})}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsxs("div",{className:"rounded-lg bg-white/5 border border-white/10 p-3 text-center",children:[c.jsx("div",{className:"text-xs text-text-secondary",children:Ee.sandwichUi.summaryTarget}),c.jsx("div",{className:"text-base font-semibold",children:I.totalTarget})]}),c.jsxs("div",{className:"rounded-lg bg-white/5 border border-white/10 p-3 text-center",children:[c.jsx("div",{className:"text-xs text-text-secondary",children:Ee.sandwichUi.summaryExisting}),c.jsx("div",{className:"text-base font-semibold text-text-secondary",children:I.totalExisting})]}),c.jsxs("div",{className:"rounded-lg bg-primary/10 border border-primary/30 p-3 text-center",children:[c.jsx("div",{className:"text-xs text-text-secondary",children:Ee.sandwichUi.summaryToMake}),c.jsx("div",{className:"text-lg sm:text-xl font-bold text-primary",children:I.baseTotalNeeded})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ee.sandwich.existingHam}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"number",className:"input-field w-full pr-10",placeholder:Ee.sandwichUi.inputPlaceholderNumber,min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:n.existingHam,onChange:C=>i({...n,existingHam:C.target.value})}),c.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-text-secondary text-sm",children:Ee.sandwichUi.unitPiece})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ee.sandwich.existingSalami}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"number",className:"input-field w-full pr-10",placeholder:Ee.sandwichUi.inputPlaceholderNumber,min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:n.existingSalami,onChange:C=>i({...n,existingSalami:C.target.value})}),c.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-text-secondary text-sm",children:Ee.sandwichUi.unitPiece})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ee.sandwich.distribution}),c.jsx("div",{role:"radiogroup","aria-label":Ee.sandwich.distribution,className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:F.map(C=>c.jsx("button",{role:"radio","aria-checked":n.distribution===C.value,title:C.value==="even"?Ee.sandwichUi.tooltipEven:C.value==="ham"?Ee.sandwichUi.tooltipHam:Ee.sandwichUi.tooltipSalami,onClick:()=>i({...n,distribution:C.value}),className:`px-3 py-2 sm:px-4 sm:py-3 rounded-lg transition-all duration-200 text-sm sm:text-base ${n.distribution===C.value?"bg-primary/20 border border-primary/30 text-primary":"bg-white/5 hover:bg-white/10 text-text-secondary border border-transparent"}`,children:c.jsx("span",{className:"font-medium",children:C.label})},C.value))})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm text-text-secondary mb-2",children:[Ee.sandwich.extraBagsLabel,"：",n.extraBags]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"range",min:"0",max:"5",step:"1",value:n.extraBags,"aria-label":Ee.sandwich.extraBagsLabel,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onTouchStart:()=>v(!0),onTouchEnd:()=>v(!1),onChange:C=>i(_=>({..._,extraBags:parseInt(C.target.value,10)||0})),className:`w-full h-3 bg-white/10 rounded-lg appearance-none cursor-pointer
                                touch-manipulation
                                [&::-webkit-slider-thumb]:appearance-none
                                [&::-webkit-slider-thumb]:w-6
                                [&::-webkit-slider-thumb]:h-6
                                [&::-webkit-slider-thumb]:rounded-full
                                [&::-webkit-slider-thumb]:bg-primary
                                [&::-webkit-slider-thumb]:cursor-pointer
                                [&::-webkit-slider-thumb]:hover:bg-primary/80
                                [&::-webkit-slider-thumb]:transition-all
                                [&::-webkit-slider-thumb]:shadow-lg
                                [&::-moz-range-thumb]:appearance-none
                                [&::-moz-range-thumb]:border-0
                                [&::-moz-range-thumb]:w-6
                                [&::-moz-range-thumb]:h-6
                                [&::-moz-range-thumb]:rounded-full
                                [&::-moz-range-thumb]:bg-primary
                                [&::-moz-range-thumb]:cursor-pointer
                                [&::-moz-range-thumb]:hover:bg-primary/80
                                [&::-moz-range-thumb]:transition-all
                                [&::-moz-range-thumb]:shadow-lg`}),m&&c.jsx("div",{className:"absolute -top-7",style:{left:`${n.extraBags/5*100}%`,transform:"translateX(-50%)"},children:c.jsx("div",{className:"px-2 py-0.5 rounded bg-primary/80 text-white text-xs shadow",children:n.extraBags})})]}),c.jsxs("div",{className:"flex justify-between text-xs text-text-secondary mt-2 px-1",children:[c.jsx("span",{children:"0"}),c.jsx("span",{children:"1"}),c.jsx("span",{children:"2"}),c.jsx("span",{children:"3"}),c.jsx("span",{children:"4"}),c.jsx("span",{children:"5"})]})]}),c.jsxs("div",{className:"space-y-3 pt-4",children:[c.jsx("button",{onClick:B,className:"btn-primary w-full py-3 sm:py-4 text-sm sm:text-base",children:Ee.sandwich.calculate}),c.jsx("button",{onClick:T,className:`w-full px-3 py-2 sm:px-4 sm:py-3 bg-white/5 hover:bg-white/10 
                              text-text-secondary rounded-lg transition-all duration-200 text-sm sm:text-base`,children:Ee.sandwich.reset})]})]})]}),c.jsxs("div",{className:"card bg-gradient-to-br from-surface/60 to-surface/40 border-primary/20",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:c.jsx(tj,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg sm:text-xl font-bold text-primary",children:Ee.sandwich.resultsTitle}),c.jsx("p",{className:"text-xs sm:text-sm text-text-secondary",children:Ee.sandwich.resultsSubtitle})]})]}),l?c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalHamNeeded}),c.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Ee.sandwich.needHam,"（",Ee.sandwichUi.unitPiece,"）"]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalSalamiNeeded}),c.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Ee.sandwich.needSalami,"（",Ee.sandwichUi.unitPiece,"）"]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:l.bagsNeeded}),c.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Ee.sandwich.needBags,"（",Ee.sandwichUi.unitBag,"）"]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalHamNeeded+l.totalSalamiNeeded}),c.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Ee.sandwich.totalNeed,"（",Ee.sandwichUi.unitPiece,"）"]})]}),c.jsxs("div",{className:"rounded-xl p-4 bg-white/5 border border-white/10 space-y-1.5",children:[c.jsx("div",{className:"text-sm font-semibold",children:Ee.sandwichUi.capacityTitle}),c.jsxs("div",{className:"text-xs text-text-secondary",children:[Ee.sandwichUi.capacityFormula,"：",l.bagsNeeded," × ",e.breadPerBag," = ",c.jsx("span",{className:"text-white font-medium",children:l.totalSlices})]}),c.jsxs("div",{className:"text-xs text-text-secondary",children:[Ee.sandwichUi.capacityLeftover,"：",c.jsx("span",{className:"text-white font-medium",children:l.extraSlices})]}),c.jsxs("div",{className:"text-xs text-text-secondary mt-2",children:[Ee.sandwichUi.capacityDistributionTitle,"：",c.jsxs("span",{className:"ml-1",children:[n.distribution==="even"&&Ee.sandwichUi.capacityEvenDetail,n.distribution==="ham"&&Ee.sandwichUi.capacityHamDetail,n.distribution==="salami"&&Ee.sandwichUi.capacitySalamiDetail]})]}),c.jsxs("div",{className:"text-xs text-text-secondary",children:[Ee.sandwichUi.capacityActual,"：",c.jsxs("span",{className:"ml-1 text-white font-medium",children:["火腿 +",l.extraHam]}),c.jsx("span",{className:"mx-2",children:"/"}),c.jsxs("span",{className:"text-white font-medium",children:["臘腸 +",l.extraSalami]})]})]})]}):c.jsxs("div",{className:"text-center py-12 text-text-secondary",children:[c.jsx(Zd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:Ee.sandwich.emptyHint})]})]})]}),s&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-surface/95 backdrop-blur-md border border-white/20 rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:c.jsx(ob,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-primary",children:Ee.settings.title}),c.jsx("p",{className:"text-sm text-text-secondary",children:Ee.settings.subtitle})]})]}),c.jsx("button",{onClick:()=>a(!1),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ee.settings.breadPerBag}),c.jsx("input",{type:"number",className:"input-field w-full",min:1,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.breadPerBag,onChange:C=>A(_=>({..._,breadPerBag:parseInt(C.target.value,10)||1}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ee.settings.targetHam}),c.jsx("input",{type:"number",className:"input-field w-full",min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.targetHam,onChange:C=>A(_=>({..._,targetHam:parseInt(C.target.value,10)||0}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ee.settings.targetSalami}),c.jsx("input",{type:"number",className:"input-field w-full",min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.targetSalami,onChange:C=>A(_=>({..._,targetSalami:parseInt(C.target.value,10)||0}))})]})]}),c.jsxs("div",{className:"flex gap-3 mt-6",children:[c.jsx("button",{className:"flex-1 px-4 py-2 bg-primary/20 hover:bg-primary/30 text-primary rounded-lg transition-colors",onClick:w,children:Ee.settings.done}),c.jsx("button",{className:"flex-1 px-4 py-2 bg-white/5 hover:bg-white/10 text-text-secondary rounded-lg transition-colors",onClick:()=>a(!1),children:Ee.common.cancel})]})]})})]})})}const Ji={brewing:{pourOver:["水洗","日曬","阿寶","台灣豆","Geisha"],espresso:["ESP","水洗"]},retail:["水洗","日曬","阿寶","季節","台灣豆","Geisha"]},Ur=["台灣豆","Geisha"],Vh={bagWeight:121,ikeaBoxWeight:365,beanWeightPerPack:19};function yX(){const[t,e]=x.useState(!1);x.useEffect(()=>{if(t)document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=`-${window.scrollY}px`;else{const D=document.body.style.top;document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.top="",D&&window.scrollTo(0,parseInt(D||"0")*-1)}return()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.top=""}},[t]);const r=x.useRef(null),[n,i]=x.useState({brewing:{pourOver:{},espresso:{}},retail:{}}),[s,a]=x.useState("bag"),[o,A]=x.useState(!1),[l,u]=x.useState({}),[d,f]=x.useState("brewing"),[g,p]=x.useState("original"),[m,v]=x.useState(()=>{const D=localStorage.getItem("coffeeBeanWeightSettings");if(D)try{return JSON.parse(D)}catch(V){return console.error("解析重量設定失敗:",V),Vh}return Vh}),[y,w]=x.useState(()=>{const D=localStorage.getItem("coffeeBeanCalculations");if(D)try{return JSON.parse(D)}catch(V){return console.error("解析計算欄位失敗:",V),[{id:1,totalWeight:"",estimatedPacks:0}]}return[{id:1,totalWeight:"",estimatedPacks:0}]});x.useEffect(()=>{const D=localStorage.getItem("coffeeBeanInventory");D&&i(JSON.parse(D));const V=localStorage.getItem("coffeeBeanWeightMode");V&&a(V)},[]),x.useEffect(()=>{localStorage.setItem("coffeeBeanWeightSettings",JSON.stringify(m))},[m]),x.useEffect(()=>{localStorage.setItem("coffeeBeanInventory",JSON.stringify(n))},[n]),x.useEffect(()=>{localStorage.setItem("coffeeBeanCalculations",JSON.stringify(y))},[y]),x.useEffect(()=>{localStorage.setItem("coffeeBeanWeightMode",s)},[s]),x.useEffect(()=>{const D=()=>{const V=document.getElementById("brewing-section"),j=document.getElementById("retail-section");if(V&&j){const Y=V.getBoundingClientRect(),M=j.getBoundingClientRect();Y.top<window.innerHeight/2&&Y.bottom>window.innerHeight/2?f("brewing"):M.top<window.innerHeight/2&&M.bottom>window.innerHeight/2&&f("retail")}};return window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[]);const B=(D,V,j)=>{var Y;if(!((Y=n[D][V])!=null&&Y[j])){const $=Ur.includes(j)?{store:[""]}:{store:[""],breakRoom:[""]};i(W=>{var L;return{...W,[D]:{...W[D],[V]:{...(L=W[D])==null?void 0:L[V],[j]:$}}}})}},I=(D,V,j,Y)=>{B(D,V,j),i(M=>{var $,W,L;return{...M,[D]:{...M[D],[V]:{...M[D][V],[j]:{...($=M[D][V])==null?void 0:$[j],[Y]:[...((L=(W=M[D][V])==null?void 0:W[j])==null?void 0:L[Y])||[""],""]}}}}})},T=(D,V,j,Y,M,$)=>{B(D,V,j),i(W=>{var L,be,Be,Ne;return{...W,[D]:{...W[D],[V]:{...W[D][V],[j]:{...(L=W[D][V])==null?void 0:L[j],[Y]:((Ne=(Be=(be=W[D][V])==null?void 0:be[j])==null?void 0:Be[Y])==null?void 0:Ne.map((Ve,nr)=>nr===M?$:Ve))||[""]}}}}})},F=(D,V,j,Y,M)=>{i($=>{var W,L,be,Be;return{...$,[D]:{...$[D],[V]:{...$[D][V],[j]:{...(W=$[D][V])==null?void 0:W[j],[Y]:((Be=(be=(L=$[D][V])==null?void 0:L[j])==null?void 0:be[Y])==null?void 0:Be.filter((Ne,Ve)=>Ve!==M))||[""]}}}}})},C=D=>(D==null?void 0:D.reduce((V,j)=>V+(parseInt(j)||0),0))||0,_=D=>{if(!D)return 0;let V=0;return D.store&&(V+=C(D.store)),D.breakRoom&&(V+=C(D.breakRoom)),V},S=D=>{if(!D)return 0;const V=s==="bag"?m.bagWeight:m.ikeaBoxWeight,j=D-V;return j<=0?0:Math.round(j/m.beanWeightPerPack*10)/10},P=(D,V)=>{v(j=>({...j,[D]:parseFloat(V)||0}))},Q=()=>{const D=Math.max(...y.map(V=>V.id),0)+1;w(V=>[...V,{id:D,totalWeight:"",estimatedPacks:0}])},k=D=>{y.length>1&&w(V=>V.filter(j=>j.id!==D))},N=(D,V)=>{w(j=>j.map(Y=>Y.id===D?{...Y,totalWeight:V,estimatedPacks:S(V)}:Y))},oe=()=>{A(!0);const D={};Ji.brewing.pourOver.forEach(V=>{const j=n.brewing.pourOver[V],Y=C((j==null?void 0:j.store)||[]),M=Ur.includes(V)?0:C((j==null?void 0:j.breakRoom)||[]);D[`brewing-pourOver-${V}`]={store:Y.toString(),breakRoom:M.toString(),category:"brewing",subCategory:"pourOver",beanType:V}}),Ji.brewing.espresso.forEach(V=>{const j=n.brewing.espresso[V],Y=C((j==null?void 0:j.store)||[]),M=Ur.includes(V)?0:C((j==null?void 0:j.breakRoom)||[]);D[`brewing-espresso-${V}`]={store:Y.toString(),breakRoom:M.toString(),category:"brewing",subCategory:"espresso",beanType:V}}),Ji.retail.forEach(V=>{const j=n.retail[V],Y=C((j==null?void 0:j.store)||[]),M=Ur.includes(V)?0:C((j==null?void 0:j.breakRoom)||[]);D[`retail-${V}`]={store:Y.toString(),breakRoom:M.toString(),category:"retail",subCategory:null,beanType:V}}),u(D)},xe=()=>{Object.entries(l).forEach(([D,V])=>{const{category:j,subCategory:Y,beanType:M,store:$,breakRoom:W}=V;i(j==="retail"?L=>({...L,retail:{...L.retail,[M]:{store:[$],...Ur.includes(M)?{}:{breakRoom:[W]}}}}):L=>({...L,[j]:{...L[j],[Y]:{...L[j][Y],[M]:{store:[$],...Ur.includes(M)?{}:{breakRoom:[W]}}}}}))}),A(!1),u({})},pe=()=>{A(!1),u({})},me=(D,V,j)=>{u(Y=>({...Y,[D]:{...Y[D],[V]:j}}))},q=()=>{confirm("確定要重置所有數據嗎？此操作無法復原。")&&(i({brewing:{pourOver:{},espresso:{}},retail:{}}),w([{id:1,totalWeight:"",estimatedPacks:0}]),v(Vh),a("bag"),A(!1),u({}),localStorage.removeItem("coffeeBeanInventory"),localStorage.removeItem("coffeeBeanWeightSettings"),localStorage.removeItem("coffeeBeanCalculations"),localStorage.removeItem("coffeeBeanWeightMode"))},se=()=>{confirm("確定要回復原本的重量設定嗎？")&&(v(Vh),localStorage.removeItem("coffeeBeanWeightSettings"))},ue=()=>{const D=[];return Ji.brewing.pourOver.forEach(V=>{const j=n.brewing.pourOver[V],Y=C((j==null?void 0:j.store)||[]),M=Ur.includes(V)?0:C((j==null?void 0:j.breakRoom)||[]),$=Y+M;D.push({category:"出杯豆",beanType:V,storeTotal:Y,breakRoomTotal:M,grandTotal:$})}),Ji.brewing.espresso.forEach(V=>{const j=n.brewing.espresso[V],Y=C((j==null?void 0:j.store)||[]),M=Ur.includes(V)?0:C((j==null?void 0:j.breakRoom)||[]),$=Y+M;D.push({category:"義式豆",beanType:V,storeTotal:Y,breakRoomTotal:M,grandTotal:$})}),Ji.retail.forEach(V=>{const j=n.retail[V],Y=C((j==null?void 0:j.store)||[]),M=Ur.includes(V)?0:C((j==null?void 0:j.breakRoom)||[]),$=Y+M;D.push({category:"賣豆",beanType:V,storeTotal:Y,breakRoomTotal:M,grandTotal:$})}),D},Se=()=>{const D=ue(),V=new Date().toLocaleDateString("zh-TW"),j={};return D.forEach(Y=>{j[Y.category]||(j[Y.category]=[]),j[Y.category].push(Y)}),`
      <div style="font-family: 'Microsoft JhengHei', Arial, sans-serif; max-width: 900px; margin: 0 auto; padding: 30px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); color: #2c3e50; min-height: 100vh;">
        <div style="background: white; border-radius: 15px; padding: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
          <div style="text-align: center; margin-bottom: 40px;">
            <h1 style="color: #2c3e50; margin: 0; font-size: 32px; font-weight: 700; text-shadow: 2px 2px 4px rgba(0,0,0,0.1);">咖啡豆盤點表</h1>
            <p style="color: #7f8c8d; margin: 10px 0 0 0; font-size: 16px;">盤點日期：${V}</p>
          </div>
          
          ${Object.entries(j).map(([Y,M])=>`
            <div style="margin-bottom: 30px;">
              <h2 style="color: white; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 12px 25px; border-radius: 10px 10px 0 0; margin: 0; font-size: 18px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                ${Y}
              </h2>
              
              <table style="width: 100%; border-collapse: collapse; background: white; border-radius: 0 0 10px 10px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.08);">
                <thead>
                  <tr style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); height: 40px;">
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">豆種</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">店面庫存</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">員休室庫存</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">總計</th>
                  </tr>
                </thead>
                <tbody>
                  ${M.map(($,W)=>`
                    <tr style="${W%2===0?"background: #f8f9fa;":"background: white;"}">
                      <td style="padding: 12px 15px; text-align: center; font-weight: 600; color: #2c3e50; border-bottom: 1px solid #ecf0f1;">${$.beanType}</td>
                      <td style="padding: 12px 15px; text-align: center; color: #34495e; border-bottom: 1px solid #ecf0f1;">${$.storeTotal}</td>
                      <td style="padding: 12px 15px; text-align: center; color: #34495e; border-bottom: 1px solid #ecf0f1;">${$.breakRoomTotal}</td>
                      <td style="padding: 12px 15px; text-align: center; font-weight: 700; color: #27ae60; background: linear-gradient(135deg, #a8e6cf 0%, #dcedc1 100%); border-bottom: 1px solid #ecf0f1;">${$.grandTotal}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          `).join("")}
        </div>
      </div>
    `},ie=()=>{const D=ue(),V=new Date().toLocaleDateString("zh-TW"),j={};return D.forEach(Y=>{j[Y.category]||(j[Y.category]=[]),j[Y.category].push(Y)}),`
      <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 900px; margin: 0 auto; padding: 40px; background: #13131a; color: #ffffff; min-height: 100vh; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;">
        <div style="background: #1e1e2e; border-radius: 20px; padding: 50px; box-shadow: 0 20px 40px rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1);">
          <div style="text-align: center; margin-bottom: 50px;">
            <h1 style="color: #6366f1; margin: 0; font-size: 36px; font-weight: 600; letter-spacing: -0.5px;">咖啡豆盤點表</h1>
            <p style="color: #94a3b8; margin: 12px 0 0 0; font-size: 17px; font-weight: 400;">盤點日期：${V}</p>
          </div>
          
          ${Object.entries(j).map(([Y,M])=>`
            <div style="margin-bottom: 40px;">
              <h2 style="color: #ffffff; background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); padding: 16px 24px; border-radius: 12px; margin: 0 0 24px 0; font-size: 20px; font-weight: 600; text-align: center; border: none; box-shadow: 0 8px 32px rgba(99, 102, 241, 0.2);">
                ${Y}
              </h2>
              
              <div style="background: #1e1e2e; border-radius: 16px; overflow: hidden; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 8px 32px rgba(0,0,0,0.2);">
                <table style="width: 100%; border-collapse: collapse; background: #1e1e2e;">
                  <thead>
                    <tr style="background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); height: 48px;">
                      <th style="padding: 0 20px; text-align: left; vertical-align: middle; font-weight: 600; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">豆種</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">店面庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">員休室庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">總計</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${M.map(($,W)=>`
                      <tr style="background: ${W%2===0?"#1e1e2e":"rgba(255,255,255,0.02)"}; transition: all 0.3s ease;">
                        <td style="padding: 16px 20px; text-align: left; font-weight: 500; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.05);">${$.beanType}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #3b82f6; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.05); font-weight: 500;">${$.storeTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #10b981; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.05); font-weight: 500;">${$.breakRoomTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; font-weight: 600; color: #6366f1; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.05); background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);">${$.grandTotal}</td>
                      </tr>
                    `).join("")}
                  </tbody>
                </table>
              </div>
            </div>
          `).join("")}
        </div>
      </div>
    `},Ue=()=>{const D=ue(),V=new Date().toLocaleDateString("zh-TW"),j={};return D.forEach(Y=>{j[Y.category]||(j[Y.category]=[]),j[Y.category].push(Y)}),`
      <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 800px; margin: 0 auto; padding: 40px; background: #fafafa; color: #1d1d1f; min-height: 100vh;">
        <div style="background: white; border-radius: 20px; padding: 50px; box-shadow: 0 8px 32px rgba(0,0,0,0.08);">
          <div style="text-align: center; margin-bottom: 50px;">
            <h1 style="color: #1d1d1f; margin: 0; font-size: 36px; font-weight: 600; letter-spacing: -0.5px;">咖啡豆盤點表</h1>
            <p style="color: #86868b; margin: 12px 0 0 0; font-size: 17px; font-weight: 400;">盤點日期：${V}</p>
          </div>
          
          ${Object.entries(j).map(([Y,M])=>`
            <div style="margin-bottom: 40px;">
              <h2 style="color: #1d1d1f; background: #f5f5f7; padding: 16px 24px; border-radius: 12px; margin: 0 0 24px 0; font-size: 20px; font-weight: 600; text-align: center; border: none;">
                ${Y}
              </h2>
              
              <div style="background: white; border-radius: 16px; overflow: hidden; border: 1px solid #e5e5e7;">
                <table style="width: 100%; border-collapse: collapse; background: white;">
                  <thead>
                    <tr style="background: #f5f5f7; height: 48px;">
                      <th style="padding: 0 20px; text-align: left; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">豆種</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">店面庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">員休室庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">總計</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${M.map(($,W)=>`
                      <tr style="background: ${W%2===0?"#fafafa":"white"};">
                        <td style="padding: 16px 20px; text-align: left; font-weight: 500; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${$.beanType}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #515154; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${$.storeTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #515154; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${$.breakRoomTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; font-weight: 600; color: #007aff; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${$.grandTotal}</td>
                      </tr>
                    `).join("")}
                  </tbody>
                </table>
              </div>
            </div>
          `).join("")}
        </div>
      </div>
    `},Ye=async()=>{try{let D;try{D=(await pa(async()=>{const{default:W}=await Promise.resolve().then(()=>zte);return{default:W}},void 0)).default}catch(W){console.error("html2canvas 載入失敗:",W),alert("匯出功能暫時無法使用，請重新整理頁面後再試");return}let V;g==="minimalist"?V=Ue():g==="web-consistent"?V=ie():V=Se();const j=document.createElement("div");j.innerHTML=V,j.style.position="absolute",j.style.left="-9999px",j.style.top="0",j.style.width="900px",j.style.height="auto",j.style.overflow="visible",document.body.appendChild(j),await new Promise(W=>setTimeout(W,500));const Y=await D(j.firstElementChild,{backgroundColor:g==="minimalist"?"#fafafa":g==="web-consistent"?"#13131a":"#ffffff",scale:1,useCORS:!0,allowTaint:!0,logging:!0,width:900,height:j.firstElementChild.scrollHeight,scrollX:0,scrollY:0,windowWidth:900,windowHeight:j.firstElementChild.scrollHeight});if(document.body.removeChild(j),!Y||Y.width===0||Y.height===0)throw new Error("Canvas 渲染失敗");const M=document.createElement("a");let $;g==="minimalist"?$="Minimalist":g==="web-consistent"?$="網頁風格":$="原始風格",M.download=`咖啡豆盤點表_${$}_${new Date().toLocaleDateString("zh-TW")}.png`,M.href=Y.toDataURL("image/png",1),M.click()}catch(D){console.error("匯出圖片失敗:",D),alert(`匯出圖片失敗：${D.message}`)}};return c.jsxs("div",{className:"container-custom py-6 space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-primary/20 to-primary/10 border border-primary/20",children:c.jsx(ab,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-primary to-purple-400 bg-clip-text text-transparent",children:"咖啡豆管理工具"}),c.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"庫存管理與重量換算"})]})]}),c.jsxs("div",{className:"flex gap-2",children:[o?c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:xe,className:"px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-500/30 text-blue-400 hover:from-blue-500/30 hover:to-cyan-500/30 hover:border-blue-500/50 transition-all duration-200 flex items-center gap-2",children:[c.jsx(ab,{className:"w-4 h-4"}),"儲存盤點"]}),c.jsx("button",{onClick:pe,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 hover:bg-red-500/20 hover:border-red-500/50 transition-all duration-200",children:"取消"})]}):c.jsxs("button",{onClick:oe,className:"px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30 text-green-400 hover:from-green-500/30 hover:to-emerald-500/30 hover:border-green-500/50 transition-all duration-200 flex items-center gap-2",children:[c.jsx(Zd,{className:"w-4 h-4"}),"快速盤點"]}),c.jsx("button",{onClick:q,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 hover:bg-red-500/20 hover:border-red-500/50 transition-all duration-200",children:"重置數據"})]})]}),c.jsxs("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",ref:r,children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-primary mb-1",children:"咖啡豆盤點表"}),c.jsx("p",{className:"text-sm text-text-secondary",children:"即時更新庫存數量"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-surface/40 rounded-lg border border-white/10",children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[c.jsx("input",{type:"radio",value:"original",checked:g==="original",onChange:D=>p(D.target.value),className:"text-blue-400 w-3 h-3"}),c.jsx("span",{children:"原始風格"})]}),c.jsx("div",{className:"w-px h-4 bg-white/20"}),c.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[c.jsx("input",{type:"radio",value:"minimalist",checked:g==="minimalist",onChange:D=>p(D.target.value),className:"text-blue-400 w-3 h-3"}),c.jsx("span",{children:"Minimalist"})]}),c.jsx("div",{className:"w-px h-4 bg-white/20"}),c.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[c.jsx("input",{type:"radio",value:"web-consistent",checked:g==="web-consistent",onChange:D=>p(D.target.value),className:"text-blue-400 w-3 h-3"}),c.jsx("span",{children:"網頁風格"})]})]}),c.jsxs("button",{onClick:Ye,className:"px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-400/30 text-blue-400 hover:from-blue-500/30 hover:to-cyan-500/30 hover:border-blue-500/50 transition-all duration-200 flex items-center gap-2",children:[c.jsx(RY,{className:"w-4 h-4"}),"匯出圖片"]})]})]}),c.jsxs("div",{id:"brewing-section",className:"space-y-4",children:[c.jsxs("div",{className:"sticky top-0 z-30 flex items-center gap-3 mb-4 p-4 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-xl border border-blue-400/20 backdrop-blur-md",children:[c.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-blue-400 to-purple-400 rounded-full"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-blue-400",children:"出杯豆"}),c.jsx("p",{className:"text-sm text-blue-300/70",children:"用於製作飲品的咖啡豆"})]}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 animate-pulse"}),c.jsx("span",{className:"text-xs text-blue-300 font-medium",children:"當前區域"})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"sticky top-16 z-20 flex items-center gap-3 mb-3 p-3 bg-gradient-to-r from-blue-500/5 to-cyan-500/5 rounded-lg border border-blue-400/10 backdrop-blur-sm",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),c.jsx("h4",{className:"text-md font-semibold text-blue-300",children:"手沖豆"}),c.jsx("span",{className:"text-xs text-blue-300/60",children:"手沖咖啡專用"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:Ji.brewing.pourOver.map(D=>{const V=Ur.includes(D),j=n.brewing.pourOver[D],Y=`brewing-pourOver-${D}`,M=l[Y];return c.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h5",{className:"font-semibold text-sm text-primary",children:D}),c.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),c.jsx("input",{type:"number",value:(M==null?void 0:M.store)||"0",onChange:$=>me(Y,"store",$.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!V&&c.jsxs("div",{children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),c.jsx("input",{type:"number",value:(M==null?void 0:M.breakRoom)||"0",onChange:$=>me(Y,"breakRoom",$.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),c.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:c.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt((M==null?void 0:M.store)||0)+parseInt((M==null?void 0:M.breakRoom)||0)," 包"]})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),c.jsx("button",{onClick:()=>I("brewing","pourOver",D,"store"),className:"p-1.5 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors hover:scale-110 transform",children:c.jsx(rs,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.store)||[""]).map(($,W)=>c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("input",{type:"number",value:$,onChange:L=>T("brewing","pourOver",D,"store",W,L.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-2 px-3 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all",inputMode:"decimal"}),((j==null?void 0:j.store)||[]).length>1&&c.jsx("button",{onClick:()=>F("brewing","pourOver",D,"store",W),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(ns,{className:"w-3 h-3"})})]},W))})]}),!V&&c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),c.jsx("button",{onClick:()=>I("brewing","pourOver",D,"breakRoom"),className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:c.jsx(rs,{className:"w-3 h-3"})})]}),c.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.breakRoom)||[""]).map(($,W)=>c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("input",{type:"number",value:$,onChange:L=>T("brewing","pourOver",D,"breakRoom",W,L.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.breakRoom)||[]).length>1&&c.jsx("button",{onClick:()=>F("brewing","pourOver",D,"breakRoom",W),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(ns,{className:"w-3 h-3"})})]},W))})]}),c.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-primary/10 to-transparent rounded-lg p-2",children:c.jsxs("span",{className:"text-xs font-semibold text-primary",children:[D,"：總共 ",_(j)," 包"]})})]})]},D)})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"sticky top-16 z-20 flex items-center gap-3 mb-3 p-3 bg-gradient-to-r from-purple-500/5 to-pink-500/5 rounded-lg border border-purple-400/10 backdrop-blur-sm",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),c.jsx("h4",{className:"text-md font-semibold text-purple-300",children:"義式豆"}),c.jsx("span",{className:"text-xs text-purple-300/60",children:"義式咖啡專用"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Ji.brewing.espresso.map(D=>{const V=Ur.includes(D),j=n.brewing.espresso[D],Y=`brewing-espresso-${D}`,M=l[Y];return c.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h5",{className:"font-semibold text-sm text-primary",children:D}),c.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),c.jsx("input",{type:"number",value:(M==null?void 0:M.store)||"0",onChange:$=>me(Y,"store",$.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!V&&c.jsxs("div",{children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),c.jsx("input",{type:"number",value:(M==null?void 0:M.breakRoom)||"0",onChange:$=>me(Y,"breakRoom",$.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),c.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:c.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt((M==null?void 0:M.store)||0)+parseInt((M==null?void 0:M.breakRoom)||0)," 包"]})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),c.jsx("button",{onClick:()=>I("brewing","espresso",D,"store"),className:"p-1 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors",children:c.jsx(rs,{className:"w-3 h-3"})})]}),c.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.store)||[""]).map(($,W)=>c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("input",{type:"number",value:$,onChange:L=>T("brewing","espresso",D,"store",W,L.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.store)||[]).length>1&&c.jsx("button",{onClick:()=>F("brewing","espresso",D,"store",W),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(ns,{className:"w-3 h-3"})})]},W))})]}),!V&&c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),c.jsx("button",{onClick:()=>I("brewing","espresso",D,"breakRoom"),className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:c.jsx(rs,{className:"w-3 h-3"})})]}),c.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.breakRoom)||[""]).map(($,W)=>c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("input",{type:"number",value:$,onChange:L=>T("brewing","espresso",D,"breakRoom",W,L.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.breakRoom)||[]).length>1&&c.jsx("button",{onClick:()=>F("brewing","espresso",D,"breakRoom",W),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(ns,{className:"w-3 h-3"})})]},W))})]}),c.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-primary/10 to-transparent rounded-lg p-2",children:c.jsxs("span",{className:"text-xs font-semibold text-primary",children:[D,"：總共 ",_(j)," 包"]})})]})]},D)})})]})]}),c.jsxs("div",{id:"retail-section",className:"space-y-4 mt-8",children:[c.jsxs("div",{className:"sticky top-0 z-30 flex items-center gap-3 mb-4 p-4 bg-gradient-to-r from-orange-500/10 to-yellow-500/10 rounded-xl border border-orange-400/20 backdrop-blur-md",children:[c.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-orange-400 to-yellow-400 rounded-full"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-orange-400",children:"賣豆"}),c.jsx("p",{className:"text-sm text-orange-300/70",children:"用於販售的咖啡豆"})]}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-400 animate-pulse"}),c.jsx("span",{className:"text-xs text-orange-300 font-medium",children:"當前區域"})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:Ji.retail.map(D=>{const V=Ur.includes(D),j=n.retail[D],Y=`retail-${D}`,M=l[Y];return c.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h5",{className:"font-semibold text-sm text-primary",children:D}),c.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),c.jsx("input",{type:"number",value:(M==null?void 0:M.store)||"0",onChange:$=>me(Y,"store",$.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!V&&c.jsxs("div",{children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),c.jsx("input",{type:"number",value:(M==null?void 0:M.breakRoom)||"0",onChange:$=>me(Y,"breakRoom",$.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),c.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:c.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt((M==null?void 0:M.store)||0)+parseInt((M==null?void 0:M.breakRoom)||0)," 包"]})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),c.jsx("button",{onClick:()=>{if(!n.retail[D]){const W=Ur.includes(D)?{store:[""]}:{store:[""],breakRoom:[""]};i(L=>({...L,retail:{...L.retail,[D]:W}}))}i($=>{var W;return{...$,retail:{...$.retail,[D]:{...$.retail[D],store:[...((W=$.retail[D])==null?void 0:W.store)||[""],""]}}}})},className:"p-1 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors",children:c.jsx(rs,{className:"w-3 h-3"})})]}),c.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.store)||[""]).map(($,W)=>c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("input",{type:"number",value:$,onChange:L=>{if(!n.retail[D]){const Be=Ur.includes(D)?{store:[""]}:{store:[""],breakRoom:[""]};i(Ne=>({...Ne,retail:{...Ne.retail,[D]:Be}}))}i(be=>{var Be,Ne;return{...be,retail:{...be.retail,[D]:{...be.retail[D],store:((Ne=(Be=be.retail[D])==null?void 0:Be.store)==null?void 0:Ne.map((Ve,nr)=>nr===W?L.target.value:Ve))||[""]}}}})},placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.store)||[]).length>1&&c.jsx("button",{onClick:()=>{i(L=>{var be,Be;return{...L,retail:{...L.retail,[D]:{...L.retail[D],store:((Be=(be=L.retail[D])==null?void 0:be.store)==null?void 0:Be.filter((Ne,Ve)=>Ve!==W))||[""]}}}})},className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(ns,{className:"w-3 h-3"})})]},W))})]}),!V&&c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),c.jsx("button",{onClick:()=>{if(!n.retail[D]){const W=Ur.includes(D)?{store:[""]}:{store:[""],breakRoom:[""]};i(L=>({...L,retail:{...L.retail,[D]:W}}))}i($=>{var W;return{...$,retail:{...$.retail,[D]:{...$.retail[D],breakRoom:[...((W=$.retail[D])==null?void 0:W.breakRoom)||[""],""]}}}})},className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:c.jsx(rs,{className:"w-3 h-3"})})]}),c.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.breakRoom)||[""]).map(($,W)=>c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("input",{type:"number",value:$,onChange:L=>{if(!n.retail[D]){const Be=Ur.includes(D)?{store:[""]}:{store:[""],breakRoom:[""]};i(Ne=>({...Ne,retail:{...Ne.retail,[D]:Be}}))}i(be=>{var Be,Ne;return{...be,retail:{...be.retail,[D]:{...be.retail[D],breakRoom:((Ne=(Be=be.retail[D])==null?void 0:Be.breakRoom)==null?void 0:Ne.map((Ve,nr)=>nr===W?L.target.value:Ve))||[""]}}}})},placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.breakRoom)||[]).length>1&&c.jsx("button",{onClick:()=>{i(L=>{var be,Be;return{...L,retail:{...L.retail,[D]:{...L.retail[D],breakRoom:((Be=(be=L.retail[D])==null?void 0:be.breakRoom)==null?void 0:Be.filter((Ne,Ve)=>Ve!==W))||[""]}}}})},className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(ns,{className:"w-3 h-3"})})]},W))})]}),c.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-primary/10 to-transparent rounded-lg p-2",children:c.jsxs("span",{className:"text-xs font-semibold text-primary",children:[D,"：總共 ",_(j)," 包"]})})]})]},D)})})]})]}),c.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50",children:c.jsx("div",{className:"bg-surface/90 backdrop-blur-md border border-white/20 rounded-full px-4 py-2 shadow-lg",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("button",{onClick:()=>{var D;return(D=document.getElementById("brewing-section"))==null?void 0:D.scrollIntoView({behavior:"smooth"})},className:`flex items-center gap-2 px-3 py-1 rounded-full transition-all duration-300 ${d==="brewing"?"bg-blue-400/20 text-blue-400":"text-gray-400 hover:text-blue-300"}`,children:[c.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${d==="brewing"?"bg-blue-400":"bg-gray-400"}`}),c.jsx("span",{className:"text-sm font-medium",children:"出杯豆"})]}),c.jsx("div",{className:"w-px h-4 bg-gray-600"}),c.jsxs("button",{onClick:()=>{var D;return(D=document.getElementById("retail-section"))==null?void 0:D.scrollIntoView({behavior:"smooth"})},className:`flex items-center gap-2 px-3 py-1 rounded-full transition-all duration-300 ${d==="retail"?"bg-orange-400/20 text-orange-400":"text-gray-400 hover:text-orange-300"}`,children:[c.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${d==="retail"?"bg-orange-400":"bg-gray-400"}`}),c.jsx("span",{className:"text-sm font-medium",children:"賣豆"})]})]})})}),c.jsx("button",{onClick:()=>e(!0),className:"fixed bottom-6 right-6 p-4 bg-gradient-to-r from-primary/20 to-purple-500/20 border border-primary/30 text-primary hover:from-primary/30 hover:to-purple-500/30 hover:border-primary/50 transition-all duration-200 rounded-full shadow-lg hover:shadow-xl z-50 hover:scale-110 transform",children:c.jsx(Zd,{className:"w-6 h-6"})}),t&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:D=>{D.target===D.currentTarget&&e(!1)},children:c.jsxs("div",{className:"bg-surface/95 backdrop-blur-md border border-white/20 rounded-2xl p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl",onClick:D=>D.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-primary mb-1",children:"重量換算計算器"}),c.jsx("p",{className:"text-sm text-text-secondary",children:"估算豆包數量"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:se,className:"px-3 py-1.5 text-xs font-medium rounded-lg border border-amber-500/30 text-amber-400 hover:bg-amber-500/10 hover:border-amber-500/50 transition-all duration-200 flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-400"}),"回復設定"]}),c.jsx("button",{onClick:()=>e(!1),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(rj,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-amber-400 to-orange-400 rounded-full"}),c.jsx("h3",{className:"text-lg font-bold text-primary",children:"計算模式"})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/10 hover:border-amber-400/30 transition-all duration-200 cursor-pointer bg-gradient-to-br from-surface/40 to-surface/20",children:[c.jsx("input",{type:"radio",value:"bag",checked:s==="bag",onChange:D=>a(D.target.value),className:"text-amber-400 w-4 h-4"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),c.jsx("span",{className:"font-medium",children:"外包裝袋"})]})]}),c.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/10 hover:border-amber-400/30 transition-all duration-200 cursor-pointer bg-gradient-to-br from-surface/40 to-surface/20",children:[c.jsx("input",{type:"radio",value:"ikea",checked:s==="ikea",onChange:D=>a(D.target.value),className:"text-amber-400 w-4 h-4"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),c.jsx("span",{className:"font-medium",children:"IKEA 盒子"})]})]})]})]}),c.jsxs("div",{className:"space-y-4 mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-400 to-purple-400 rounded-full"}),c.jsx("h3",{className:"text-lg font-bold text-primary",children:"重量設定"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-xl p-4 border border-white/10",children:[c.jsxs("label",{className:"block text-sm font-semibold mb-3 text-primary flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),s==="bag"?"外包裝袋重量":"IKEA 盒重量"," (g)"]}),c.jsx("input",{type:"number",value:s==="bag"?m.bagWeight:m.ikeaBoxWeight,onChange:D=>P(s==="bag"?"bagWeight":"ikeaBoxWeight",D.target.value),className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all",placeholder:"輸入重量",inputMode:"decimal"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-xl p-4 border border-white/10",children:[c.jsxs("label",{className:"block text-sm font-semibold mb-3 text-primary flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"每包豆子重量 (g)"]}),c.jsx("input",{type:"number",value:m.beanWeightPerPack,onChange:D=>P("beanWeightPerPack",D.target.value),className:"input-field w-full text-sm py-2.5 px-3 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",placeholder:"輸入重量",inputMode:"decimal"})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{onClick:Q,className:"px-4 py-2.5 text-sm font-medium rounded-lg bg-gradient-to-r from-primary/20 to-purple-500/20 border border-primary/30 text-primary hover:from-primary/30 hover:to-purple-500/30 hover:border-primary/50 transition-all duration-200 flex items-center gap-2",children:[c.jsx(rs,{className:"w-4 h-4"}),"新增計算欄位"]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-green-400 to-emerald-400 rounded-full"}),c.jsx("h3",{className:"text-lg font-bold text-primary",children:"計算結果"})]}),y.map(D=>c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-4 border border-white/10 hover:border-primary/30 transition-all duration-200 hover:shadow-lg hover:shadow-primary/10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("h5",{className:"font-semibold text-primary",children:["計算欄位 #",D.id]}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/60"})]}),y.length>1&&c.jsx("button",{onClick:()=>k(D.id),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(ns,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-lg p-3 border border-white/10",children:[c.jsxs("label",{className:"block text-sm font-semibold mb-2 text-text-secondary flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"總重量 (g)"]}),c.jsx("input",{type:"number",value:D.totalWeight,onChange:V=>N(D.id,V.target.value),placeholder:"輸入總重量",className:"input-field w-full text-sm py-2 px-3 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-lg p-3 border border-white/10",children:[c.jsxs("label",{className:"block text-sm font-semibold mb-2 text-text-secondary flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"估算包數"]}),c.jsxs("div",{className:"w-full text-sm py-3 px-4 rounded-lg bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-400/30 text-center font-bold text-green-400 hover:border-green-500/50 transition-all",children:[D.estimatedPacks," 包"]})]})]})]},D.id))]})]})})]})}function wX(t){return c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),c.jsx("polyline",{points:"14,2 14,8 20,8"})]})}function xX(t){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}function bX(){const[t,e]=x.useState("");x.useState(!1);const[r,n]=x.useState(0),[i,s]=x.useState(!1),[a,o]=x.useState(""),[A,l]=x.useState(!1),u=[{value:"1",label:"1月"},{value:"2",label:"2月"},{value:"3",label:"3月"},{value:"4",label:"4月"},{value:"5",label:"5月"},{value:"6",label:"6月"},{value:"7",label:"7月"},{value:"8",label:"8月"},{value:"9",label:"9月"},{value:"10",label:"10月"},{value:"11",label:"11月"},{value:"12",label:"12月"}],d=g=>[31,28,31,30,31,30,31,31,30,31,30,31][parseInt(g)-1],f=()=>{if(!t)return;const g=`DailyReport_${t}_Month.zip`,p=`https://raw.githubusercontent.com/greedysisyphus/Brainless/main/public/reports/${g}`,m=document.createElement("a");m.href=p,m.download=g,document.body.appendChild(m),m.click(),document.body.removeChild(m)};return c.jsx("div",{className:"container-custom py-6",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx(wX,{className:"w-8 h-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold mb-2 text-center",children:"報表生成器"})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("blockquote",{className:"italic text-gray-400 text-center text-base",children:["「我愛改檔名」",c.jsx("span",{className:"block text-xs text-gray-500 mt-1 text-center",children:"— 紅葉"})]})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("h2",{className:"text-lg font-semibold text-primary mb-4 flex items-center gap-2",children:[c.jsx(hd,{className:"w-5 h-5"}),"選擇月份"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-text-secondary",children:"選擇要生成日報表的月份"}),c.jsxs("select",{value:t,onChange:g=>e(g.target.value),className:"input-field w-full max-w-xs",children:[c.jsx("option",{value:"",children:"請選擇月份"}),u.map(g=>c.jsxs("option",{value:g.value,children:[g.label," (",d(g.value),"天)"]},g.value))]}),t&&c.jsxs("div",{className:"text-sm text-text-secondary",children:["將生成 ",d(t)," 個日報表檔案"]})]})]})}),c.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("h2",{className:"text-lg font-semibold text-primary mb-4 flex items-center gap-2",children:[c.jsx(xX,{className:"w-5 h-5"}),"生成日報表"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-text-secondary",children:"點擊下方按鈕開始生成整月日報表"}),c.jsx("button",{onClick:f,disabled:!t,className:"btn-primary w-full max-w-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"下載日報表"})]})]})}),a&&c.jsx("div",{className:"card backdrop-blur-sm bg-red-500/10 border border-red-500/30",children:c.jsxs("div",{className:"p-4 flex items-center gap-3",children:[c.jsx(tX,{className:"w-5 h-5 text-red-400"}),c.jsx("span",{className:"text-red-400",children:a})]})}),A&&c.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-lg font-semibold text-primary",children:"生成進度"}),c.jsxs("span",{className:"text-sm text-text-secondary",children:[Math.round(r),"%"]})]}),c.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-primary to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${r}%`}})}),i&&c.jsxs("div",{className:"mt-4 flex items-center gap-2 text-green-400",children:[c.jsx(YY,{className:"w-5 h-5"}),c.jsx("span",{children:"日報表生成完成！"})]})]})})]})]})})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lb=function(t,e){return lb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},lb(t,e)};function xi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");lb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ub=function(){return ub=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ub.apply(this,arguments)};function Mr(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{l(n.next(u))}catch(d){a(d)}}function A(u){try{l(n.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):i(u.value).then(o,A)}l((n=n.apply(t,[])).next())})}function Pr(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(u){return A([l,u])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Kh(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var Ps=function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),H0=function(t,e){return Ps.fromClientRect(t,e.getBoundingClientRect())},BX=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Ps(0,0,n,i)},V0=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Dt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},I2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",CX=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var $h=0;$h<I2.length;$h++)CX[I2.charCodeAt($h)]=$h;var S2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Gh=0;Gh<S2.length;Gh++)Lc[S2.charCodeAt(Gh)]=Gh;var EX=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=Lc[t.charCodeAt(n)],a=Lc[t.charCodeAt(n+1)],o=Lc[t.charCodeAt(n+2)],A=Lc[t.charCodeAt(n+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|A&63;return l},_X=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},IX=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Jo=5,xE=11,Hy=2,SX=xE-Jo,nj=65536>>Jo,TX=1<<Jo,Vy=TX-1,FX=1024>>Jo,UX=nj+FX,PX=UX,NX=32,QX=PX+NX,kX=65536>>xE,OX=1<<SX,DX=OX-1,T2=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},jX=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},RX=function(t,e){var r=EX(t),n=Array.isArray(r)?IX(r):new Uint32Array(r),i=Array.isArray(r)?_X(r):new Uint16Array(r),s=24,a=T2(i,s/2,n[4]/2),o=n[5]===2?T2(i,(s+n[4])/2):jX(n,Math.ceil((s+n[4])/4));return new MX(n[0],n[1],n[2],n[3],a,o)},MX=function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Jo],r=(r<<Hy)+(e&Vy),this.data[r];if(e<=65535)return r=this.index[nj+(e-55296>>Jo)],r=(r<<Hy)+(e&Vy),this.data[r];if(e<this.highStart)return r=QX-kX+(e>>xE),r=this.index[r],r+=e>>Jo&DX,r=this.index[r],r=(r<<Hy)+(e&Vy),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),F2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",LX=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var zh=0;zh<F2.length;zh++)LX[F2.charCodeAt(zh)]=zh;var HX="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",U2=50,VX=1,ij=2,sj=3,KX=4,$X=5,P2=7,aj=8,N2=9,ya=10,cb=11,Q2=12,db=13,GX=14,Hc=15,fb=16,Wh=17,yc=18,zX=19,k2=20,hb=21,wc=22,Ky=23,WA=24,dn=25,Vc=26,Kc=27,YA=28,WX=29,Do=30,YX=31,Yh=32,Xh=33,gb=34,pb=35,mb=36,ef=37,vb=38,tp=39,rp=40,$y=41,oj=42,XX=43,qX=[9001,65288],Aj="!",je="×",qh="÷",yb=RX(HX),Zi=[Do,mb],wb=[VX,ij,sj,$X],lj=[ya,aj],O2=[Kc,Vc],JX=wb.concat(lj),D2=[vb,tp,rp,gb,pb],ZX=[Hc,db],eq=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(s,a){var o=yb.get(s);if(o>U2?(i.push(!0),o-=U2):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),r.push(fb);if(o===KX||o===cb){if(a===0)return n.push(a),r.push(Do);var A=r[a-1];return JX.indexOf(A)===-1?(n.push(n[a-1]),r.push(A)):(n.push(a),r.push(Do))}if(n.push(a),o===YX)return r.push(e==="strict"?hb:ef);if(o===oj||o===WX)return r.push(Do);if(o===XX)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(ef):r.push(Do);r.push(o)}),[n,r,i]},Gy=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=r;s<=n.length;){s++;var a=n[s];if(a===e)return!0;if(a!==ya)break}if(i===ya)for(var s=r;s>0;){s--;var o=n[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var A=r;A<=n.length;){A++;var a=n[A];if(a===e)return!0;if(a!==ya)break}if(o!==ya)break}return!1},j2=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===ya)r--;else return n}return 0},tq=function(t,e,r,n,i){if(r[n]===0)return je;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return je;var a=s-1,o=s+1,A=e[s],l=a>=0?e[a]:0,u=e[o];if(A===ij&&u===sj)return je;if(wb.indexOf(A)!==-1)return Aj;if(wb.indexOf(u)!==-1||lj.indexOf(u)!==-1)return je;if(j2(s,e)===aj)return qh;if(yb.get(t[s])===cb||(A===Yh||A===Xh)&&yb.get(t[o])===cb||A===P2||u===P2||A===N2||[ya,db,Hc].indexOf(A)===-1&&u===N2||[Wh,yc,zX,WA,YA].indexOf(u)!==-1||j2(s,e)===wc||Gy(Ky,wc,s,e)||Gy([Wh,yc],hb,s,e)||Gy(Q2,Q2,s,e))return je;if(A===ya)return qh;if(A===Ky||u===Ky)return je;if(u===fb||A===fb)return qh;if([db,Hc,hb].indexOf(u)!==-1||A===GX||l===mb&&ZX.indexOf(A)!==-1||A===YA&&u===mb||u===k2||Zi.indexOf(u)!==-1&&A===dn||Zi.indexOf(A)!==-1&&u===dn||A===Kc&&[ef,Yh,Xh].indexOf(u)!==-1||[ef,Yh,Xh].indexOf(A)!==-1&&u===Vc||Zi.indexOf(A)!==-1&&O2.indexOf(u)!==-1||O2.indexOf(A)!==-1&&Zi.indexOf(u)!==-1||[Kc,Vc].indexOf(A)!==-1&&(u===dn||[wc,Hc].indexOf(u)!==-1&&e[o+1]===dn)||[wc,Hc].indexOf(A)!==-1&&u===dn||A===dn&&[dn,YA,WA].indexOf(u)!==-1)return je;if([dn,YA,WA,Wh,yc].indexOf(u)!==-1)for(var d=s;d>=0;){var f=e[d];if(f===dn)return je;if([YA,WA].indexOf(f)!==-1)d--;else break}if([Kc,Vc].indexOf(u)!==-1)for(var d=[Wh,yc].indexOf(A)!==-1?a:s;d>=0;){var f=e[d];if(f===dn)return je;if([YA,WA].indexOf(f)!==-1)d--;else break}if(vb===A&&[vb,tp,gb,pb].indexOf(u)!==-1||[tp,gb].indexOf(A)!==-1&&[tp,rp].indexOf(u)!==-1||[rp,pb].indexOf(A)!==-1&&u===rp||D2.indexOf(A)!==-1&&[k2,Vc].indexOf(u)!==-1||D2.indexOf(u)!==-1&&A===Kc||Zi.indexOf(A)!==-1&&Zi.indexOf(u)!==-1||A===WA&&Zi.indexOf(u)!==-1||Zi.concat(dn).indexOf(A)!==-1&&u===wc&&qX.indexOf(t[o])===-1||Zi.concat(dn).indexOf(u)!==-1&&A===yc)return je;if(A===$y&&u===$y){for(var g=r[s],p=1;g>0&&(g--,e[g]===$y);)p++;if(p%2!==0)return je}return A===Yh&&u===Xh?je:qh},rq=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=eq(t,e.lineBreak),n=r[0],i=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[dn,Do,oj].indexOf(o)!==-1?ef:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,A){return o&&t[A]>=19968&&t[A]<=40959}):void 0;return[n,i,a]},nq=function(){function t(e,r,n,i){this.codePoints=e,this.required=r===Aj,this.start=n,this.end=i}return t.prototype.slice=function(){return Dt.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),iq=function(t,e){var r=V0(t),n=rq(r,e),i=n[0],s=n[1],a=n[2],o=r.length,A=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var u=je;l<o&&(u=tq(r,s,i,++l,a))===je;);if(u!==je||l===o){var d=new nq(r,u,A,l);return A=l,{value:d,done:!1}}return{done:!0,value:null}}}},sq=1,aq=2,Nf=4,R2=8,rm=10,M2=47,gd=92,oq=9,Aq=32,Jh=34,xc=61,lq=35,uq=36,cq=37,Zh=39,eg=40,bc=41,dq=95,Zr=45,fq=33,hq=60,gq=62,pq=64,mq=91,vq=93,yq=61,wq=123,tg=63,xq=125,L2=124,bq=126,Bq=128,H2=65533,zy=42,Ho=43,Cq=44,Eq=58,_q=59,tf=46,Iq=0,Sq=8,Tq=11,Fq=14,Uq=31,Pq=127,_i=-1,uj=48,cj=97,dj=101,Nq=102,Qq=117,kq=122,fj=65,hj=69,gj=70,Oq=85,Dq=90,Qr=function(t){return t>=uj&&t<=57},jq=function(t){return t>=55296&&t<=57343},XA=function(t){return Qr(t)||t>=fj&&t<=gj||t>=cj&&t<=Nq},Rq=function(t){return t>=cj&&t<=kq},Mq=function(t){return t>=fj&&t<=Dq},Lq=function(t){return Rq(t)||Mq(t)},Hq=function(t){return t>=Bq},rg=function(t){return t===rm||t===oq||t===Aq},nm=function(t){return Lq(t)||Hq(t)||t===dq},V2=function(t){return nm(t)||Qr(t)||t===Zr},Vq=function(t){return t>=Iq&&t<=Sq||t===Tq||t>=Fq&&t<=Uq||t===Pq},oa=function(t,e){return t!==gd?!1:e!==rm},ng=function(t,e,r){return t===Zr?nm(e)||oa(e,r):nm(t)?!0:!!(t===gd&&oa(t,e))},Wy=function(t,e,r){return t===Ho||t===Zr?Qr(e)?!0:e===tf&&Qr(r):Qr(t===tf?e:t)},Kq=function(t){var e=0,r=1;(t[e]===Ho||t[e]===Zr)&&(t[e]===Zr&&(r=-1),e++);for(var n=[];Qr(t[e]);)n.push(t[e++]);var i=n.length?parseInt(Dt.apply(void 0,n),10):0;t[e]===tf&&e++;for(var s=[];Qr(t[e]);)s.push(t[e++]);var a=s.length,o=a?parseInt(Dt.apply(void 0,s),10):0;(t[e]===hj||t[e]===dj)&&e++;var A=1;(t[e]===Ho||t[e]===Zr)&&(t[e]===Zr&&(A=-1),e++);for(var l=[];Qr(t[e]);)l.push(t[e++]);var u=l.length?parseInt(Dt.apply(void 0,l),10):0;return r*(i+o*Math.pow(10,-a))*Math.pow(10,A*u)},$q={type:2},Gq={type:3},zq={type:4},Wq={type:13},Yq={type:8},Xq={type:21},qq={type:9},Jq={type:10},Zq={type:11},eJ={type:12},tJ={type:14},ig={type:23},rJ={type:1},nJ={type:25},iJ={type:24},sJ={type:26},aJ={type:27},oJ={type:28},AJ={type:29},lJ={type:31},xb={type:32},pj=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(V0(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==xb;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Jh:return this.consumeStringToken(Jh);case lq:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(V2(r)||oa(n,i)){var s=ng(r,n,i)?aq:sq,a=this.consumeName();return{type:5,value:a,flags:s}}break;case uq:if(this.peekCodePoint(0)===xc)return this.consumeCodePoint(),Wq;break;case Zh:return this.consumeStringToken(Zh);case eg:return $q;case bc:return Gq;case zy:if(this.peekCodePoint(0)===xc)return this.consumeCodePoint(),tJ;break;case Ho:if(Wy(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Cq:return zq;case Zr:var o=e,A=this.peekCodePoint(0),l=this.peekCodePoint(1);if(Wy(o,A,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(ng(o,A,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===Zr&&l===gq)return this.consumeCodePoint(),this.consumeCodePoint(),iJ;break;case tf:if(Wy(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case M2:if(this.peekCodePoint(0)===zy)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===zy&&(u=this.consumeCodePoint(),u===M2))return this.consumeToken();if(u===_i)return this.consumeToken()}break;case Eq:return sJ;case _q:return aJ;case hq:if(this.peekCodePoint(0)===fq&&this.peekCodePoint(1)===Zr&&this.peekCodePoint(2)===Zr)return this.consumeCodePoint(),this.consumeCodePoint(),nJ;break;case pq:var d=this.peekCodePoint(0),f=this.peekCodePoint(1),g=this.peekCodePoint(2);if(ng(d,f,g)){var a=this.consumeName();return{type:7,value:a}}break;case mq:return oJ;case gd:if(oa(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case vq:return AJ;case yq:if(this.peekCodePoint(0)===xc)return this.consumeCodePoint(),Yq;break;case wq:return Zq;case xq:return eJ;case Qq:case Oq:var p=this.peekCodePoint(0),m=this.peekCodePoint(1);return p===Ho&&(XA(m)||m===tg)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case L2:if(this.peekCodePoint(0)===xc)return this.consumeCodePoint(),qq;if(this.peekCodePoint(0)===L2)return this.consumeCodePoint(),Xq;break;case bq:if(this.peekCodePoint(0)===xc)return this.consumeCodePoint(),Jq;break;case _i:return xb}return rg(e)?(this.consumeWhiteSpace(),lJ):Qr(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):nm(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Dt(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();XA(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===tg&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Dt.apply(void 0,e.map(function(A){return A===tg?uj:A})),16),s=parseInt(Dt.apply(void 0,e.map(function(A){return A===tg?gj:A})),16);return{type:30,start:i,end:s}}var a=parseInt(Dt.apply(void 0,e),16);if(this.peekCodePoint(0)===Zr&&XA(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];XA(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var s=parseInt(Dt.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===eg?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===eg?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===_i)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Zh||r===Jh){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===_i||this.peekCodePoint(0)===bc)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),ig)}for(;;){var i=this.consumeCodePoint();if(i===_i||i===bc)return{type:22,value:Dt.apply(void 0,e)};if(rg(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===_i||this.peekCodePoint(0)===bc?(this.consumeCodePoint(),{type:22,value:Dt.apply(void 0,e)}):(this.consumeBadUrlRemnants(),ig);if(i===Jh||i===Zh||i===eg||Vq(i))return this.consumeBadUrlRemnants(),ig;if(i===gd)if(oa(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ig;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;rg(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===bc||e===_i)return;oa(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=Dt.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===_i||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===rm)return this._value.splice(0,n),rJ;if(i===gd){var s=this._value[n+1];s!==_i&&s!==void 0&&(s===rm?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):oa(i,s)&&(r+=this.consumeStringSlice(n),r+=Dt(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Nf,n=this.peekCodePoint(0);for((n===Ho||n===Zr)&&e.push(this.consumeCodePoint());Qr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===tf&&Qr(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=R2;Qr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===hj||n===dj)&&((i===Ho||i===Zr)&&Qr(s)||Qr(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=R2;Qr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Kq(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(ng(i,s,a)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return i===cq?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(XA(e)){for(var r=Dt(e);XA(this.peekCodePoint(0))&&r.length<6;)r+=Dt(this.consumeCodePoint());rg(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||jq(n)||n>1114111?H2:n}return e===_i?H2:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(V2(r))e+=Dt(r);else if(oa(r,this.peekCodePoint(0)))e+=Dt(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),mj=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new pj;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||cJ(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?xb:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Qf=function(t){return t.type===15},Su=function(t){return t.type===17},Ze=function(t){return t.type===20},uJ=function(t){return t.type===0},bb=function(t,e){return Ze(t)&&t.value===e},vj=function(t){return t.type!==31},au=function(t){return t.type!==31&&t.type!==4},Ki=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},cJ=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},eo=function(t){return t.type===17||t.type===15},Ht=function(t){return t.type===16||eo(t)},yj=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},br={type:17,number:0,flags:Nf},bE={type:16,number:50,flags:Nf},wa={type:16,number:100,flags:Nf},$c=function(t,e,r){var n=t[0],i=t[1];return[At(n,e),At(typeof i<"u"?i:n,r)]},At=function(t,e){if(t.type===16)return t.number/100*e;if(Qf(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},wj="deg",xj="grad",bj="rad",Bj="turn",K0={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case wj:return Math.PI*e.number/180;case xj:return Math.PI/200*e.number;case bj:return e.number;case Bj:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Cj=function(t){return t.type===15&&(t.unit===wj||t.unit===xj||t.unit===bj||t.unit===Bj)},Ej=function(t){var e=t.filter(Ze).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[br,br];case"to top":case"bottom":return Wn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[br,wa];case"to right":case"left":return Wn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[wa,wa];case"to bottom":case"top":return Wn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[wa,br];case"to left":case"right":return Wn(270)}return 0},Wn=function(t){return Math.PI*t/180},Ra={name:"color",parse:function(t,e){if(e.type===18){var r=dJ[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return xa(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return xa(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return xa(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return xa(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=bs[e.value.toUpperCase()];if(typeof o<"u")return o}return bs.TRANSPARENT}},Ma=function(t){return(255&t)===0},sr=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},xa=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},K2=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},$2=function(t,e){var r=e.filter(au);if(r.length===3){var n=r.map(K2),i=n[0],s=n[1],a=n[2];return xa(i,s,a,1)}if(r.length===4){var o=r.map(K2),i=o[0],s=o[1],a=o[2],A=o[3];return xa(i,s,a,A)}return 0};function Yy(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var G2=function(t,e){var r=e.filter(au),n=r[0],i=r[1],s=r[2],a=r[3],o=(n.type===17?Wn(n.number):K0.parse(t,n))/(Math.PI*2),A=Ht(i)?i.number/100:0,l=Ht(s)?s.number/100:0,u=typeof a<"u"&&Ht(a)?At(a,1):1;if(A===0)return xa(l*255,l*255,l*255,1);var d=l<=.5?l*(A+1):l+A-l*A,f=l*2-d,g=Yy(f,d,o+1/3),p=Yy(f,d,o),m=Yy(f,d,o-1/3);return xa(g*255,p*255,m*255,u)},dJ={hsl:G2,hsla:G2,rgb:$2,rgba:$2},pd=function(t,e){return Ra.parse(t,mj.create(e).parseComponentValue())},bs={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},fJ={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Ze(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},hJ={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},$0=function(t,e){var r=Ra.parse(t,e[0]),n=e[1];return n&&Ht(n)?{color:r,stop:n}:{color:r,stop:null}},z2=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=br),n.stop===null&&(n.stop=wa);for(var i=[],s=0,a=0;a<t.length;a++){var o=t[a].stop;if(o!==null){var A=At(o,e);A>s?i.push(A):i.push(s),s=A}else i.push(null)}for(var l=null,a=0;a<i.length;a++){var u=i[a];if(u===null)l===null&&(l=a);else if(l!==null){for(var d=a-l,f=i[l-1],g=(u-f)/(d+1),p=1;p<=d;p++)i[l+p-1]=g*p;l=null}}return t.map(function(m,v){var y=m.color;return{color:y,stop:Math.max(Math.min(1,i[v]/e),0)}})},gJ=function(t,e,r){var n=e/2,i=r/2,s=At(t[0],e)-n,a=i-At(t[1],r);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},pJ=function(t,e,r){var n=typeof t=="number"?t:gJ(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,a=r/2,o=i/2,A=Math.sin(n-Math.PI/2)*o,l=Math.cos(n-Math.PI/2)*o;return[i,s-l,s+l,a-A,a+A]},li=function(t,e){return Math.sqrt(t*t+e*e)},W2=function(t,e,r,n,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(a,o){var A=o[0],l=o[1],u=li(r-A,n-l);return(i?u<a.optimumDistance:u>a.optimumDistance)?{optimumCorner:o,optimumDistance:u}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},mJ=function(t,e,r,n,i){var s=0,a=0;switch(t.size){case 0:t.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)s=a=Math.min(li(e,r),li(e,r-i),li(e-n,r),li(e-n,r-i));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),A=W2(n,i,e,r,!0),l=A[0],u=A[1];s=li(l-e,(u-r)/o),a=o*s}break;case 1:t.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)s=a=Math.max(li(e,r),li(e,r-i),li(e-n,r),li(e-n,r-i));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),d=W2(n,i,e,r,!1),l=d[0],u=d[1];s=li(l-e,(u-r)/o),a=o*s}break}return Array.isArray(t.size)&&(s=At(t.size[0],n),a=t.size.length===2?At(t.size[1],i):s),[s,a]},vJ=function(t,e){var r=Wn(180),n=[];return Ki(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){r=Ej(i);return}else if(Cj(a)){r=K0.parse(t,a);return}}var o=$0(t,i);n.push(o)}),{angle:r,stops:n,type:1}},sg=function(t,e){var r=Wn(180),n=[];return Ki(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=Ej(i);return}else if(Cj(a)){r=(K0.parse(t,a)+Wn(270))%Wn(360);return}}var o=$0(t,i);n.push(o)}),{angle:r,stops:n,type:1}},yJ=function(t,e){var r=Wn(180),n=[],i=1,s=0,a=3,o=[];return Ki(e).forEach(function(A,l){var u=A[0];if(l===0){if(Ze(u)&&u.value==="linear"){i=1;return}else if(Ze(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var d=Ra.parse(t,u.values[0]);n.push({stop:br,color:d})}else if(u.name==="to"){var d=Ra.parse(t,u.values[0]);n.push({stop:wa,color:d})}else if(u.name==="color-stop"){var f=u.values.filter(au);if(f.length===2){var d=Ra.parse(t,f[1]),g=f[0];Su(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:d})}}}}),i===1?{angle:(r+Wn(180))%Wn(360),stops:n,type:i}:{size:a,shape:s,stops:n,position:o,type:i}},_j="closest-side",Ij="farthest-side",Sj="closest-corner",Tj="farthest-corner",Fj="circle",Uj="ellipse",Pj="cover",Nj="contain",wJ=function(t,e){var r=0,n=3,i=[],s=[];return Ki(e).forEach(function(a,o){var A=!0;if(o===0){var l=!1;A=a.reduce(function(d,f){if(l)if(Ze(f))switch(f.value){case"center":return s.push(bE),d;case"top":case"left":return s.push(br),d;case"right":case"bottom":return s.push(wa),d}else(Ht(f)||eo(f))&&s.push(f);else if(Ze(f))switch(f.value){case Fj:return r=0,!1;case Uj:return r=1,!1;case"at":return l=!0,!1;case _j:return n=0,!1;case Pj:case Ij:return n=1,!1;case Nj:case Sj:return n=2,!1;case Tj:return n=3,!1}else if(eo(f)||Ht(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return d},A)}if(A){var u=$0(t,a);i.push(u)}}),{size:n,shape:r,stops:i,position:s,type:2}},ag=function(t,e){var r=0,n=3,i=[],s=[];return Ki(e).forEach(function(a,o){var A=!0;if(o===0?A=a.reduce(function(u,d){if(Ze(d))switch(d.value){case"center":return s.push(bE),!1;case"top":case"left":return s.push(br),!1;case"right":case"bottom":return s.push(wa),!1}else if(Ht(d)||eo(d))return s.push(d),!1;return u},A):o===1&&(A=a.reduce(function(u,d){if(Ze(d))switch(d.value){case Fj:return r=0,!1;case Uj:return r=1,!1;case Nj:case _j:return n=0,!1;case Ij:return n=1,!1;case Sj:return n=2,!1;case Pj:case Tj:return n=3,!1}else if(eo(d)||Ht(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return u},A)),A){var l=$0(t,a);i.push(l)}}),{size:n,shape:r,stops:i,position:s,type:2}},xJ=function(t){return t.type===1},bJ=function(t){return t.type===2},BE={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=Qj[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function BJ(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Qj[t.name])}var Qj={"linear-gradient":vJ,"-moz-linear-gradient":sg,"-ms-linear-gradient":sg,"-o-linear-gradient":sg,"-webkit-linear-gradient":sg,"radial-gradient":wJ,"-moz-radial-gradient":ag,"-ms-radial-gradient":ag,"-o-radial-gradient":ag,"-webkit-radial-gradient":ag,"-webkit-gradient":yJ},CJ={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return au(n)&&BJ(n)}).map(function(n){return BE.parse(t,n)})}},EJ={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Ze(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},_J={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Ki(e).map(function(r){return r.filter(Ht)}).map(yj)}},IJ={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Ki(e).map(function(r){return r.filter(Ze).map(function(n){return n.value}).join(" ")}).map(SJ)}},SJ=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ol;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Ol||(Ol={}));var TJ={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Ki(e).map(function(r){return r.filter(FJ)})}},FJ=function(t){return Ze(t)||Ht(t)},G0=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},UJ=G0("top"),PJ=G0("right"),NJ=G0("bottom"),QJ=G0("left"),z0=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return yj(r.filter(Ht))}}},kJ=z0("top-left"),OJ=z0("top-right"),DJ=z0("bottom-right"),jJ=z0("bottom-left"),W0=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},RJ=W0("top"),MJ=W0("right"),LJ=W0("bottom"),HJ=W0("left"),Y0=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Qf(r)?r.number:0}}},VJ=Y0("top"),KJ=Y0("right"),$J=Y0("bottom"),GJ=Y0("left"),zJ={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},WJ={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},YJ={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Ze).reduce(function(r,n){return r|XJ(n.value)},0)}},XJ=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},qJ={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},JJ={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},im;(function(t){t.NORMAL="normal",t.STRICT="strict"})(im||(im={}));var ZJ={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return im.STRICT;case"normal":default:return im.NORMAL}}},eZ={name:"line-height",initialValue:"normal",prefix:!1,type:4},Y2=function(t,e){return Ze(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Ht(t)?At(t,e):e},tZ={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:BE.parse(t,e)}},rZ={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Bb={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},X0=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},nZ=X0("top"),iZ=X0("right"),sZ=X0("bottom"),aZ=X0("left"),oZ={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Ze).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},AZ={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},q0=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},lZ=q0("top"),uZ=q0("right"),cZ=q0("bottom"),dZ=q0("left"),fZ={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},hZ={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},gZ={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&bb(e[0],"none")?[]:Ki(e).map(function(r){for(var n={color:bs.TRANSPARENT,offsetX:br,offsetY:br,blur:br},i=0,s=0;s<r.length;s++){var a=r[s];eo(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:n.blur=a,i++):n.color=Ra.parse(t,a)}return n})}},pZ={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},mZ={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=wZ[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},vZ=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},yZ=function(t){var e=t.filter(function(A){return A.type===17}).map(function(A){return A.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,i,s,a,o]:null},wZ={matrix:vZ,matrix3d:yZ},X2={type:16,number:50,flags:Nf},xZ=[X2,X2],bZ={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Ht);return r.length!==2?xZ:[r[0],r[1]]}},BZ={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},md;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(md||(md={}));var CZ={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return md.BREAK_ALL;case"keep-all":return md.KEEP_ALL;case"normal":default:return md.NORMAL}}},EZ={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Su(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},kj={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},_Z={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Su(e)?e.number:1}},IZ={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},SZ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Ze).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},TZ={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},FZ={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},UZ={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Su(e))return e.number;if(Ze(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},PZ={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Ze).map(function(r){return r.value})}},NZ={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Yt=function(t,e){return(t&e)!==0},QZ={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},kZ={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(vj),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var A=o&&Su(o)?o.number:1;n.push({counter:a.value,increment:A})}}return n}},OZ={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(vj),i=0;i<n.length;i++){var s=n[i],a=n[i+1];if(Ze(s)&&s.value!=="none"){var o=a&&Su(a)?a.number:0;r.push({counter:s.value,reset:o})}}return r}},DZ={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Qf).map(function(r){return kj.parse(t,r)})}},jZ={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(uJ);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;n.push({open:a,close:o})}return n}},q2=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},RZ={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&bb(e[0],"none")?[]:Ki(e).map(function(r){for(var n={color:255,offsetX:br,offsetY:br,blur:br,spread:br,inset:!1},i=0,s=0;s<r.length;s++){var a=r[s];bb(a,"inset")?n.inset=!0:eo(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:i===2?n.blur=a:n.spread=a,i++):n.color=Ra.parse(t,a)}return n})}},MZ={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(Ze).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},LZ={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},HZ={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Qf(e)?e.number:0}},VZ=function(){function t(e,r){var n,i;this.animationDuration=ce(e,DZ,r.animationDuration),this.backgroundClip=ce(e,fJ,r.backgroundClip),this.backgroundColor=ce(e,hJ,r.backgroundColor),this.backgroundImage=ce(e,CJ,r.backgroundImage),this.backgroundOrigin=ce(e,EJ,r.backgroundOrigin),this.backgroundPosition=ce(e,_J,r.backgroundPosition),this.backgroundRepeat=ce(e,IJ,r.backgroundRepeat),this.backgroundSize=ce(e,TJ,r.backgroundSize),this.borderTopColor=ce(e,UJ,r.borderTopColor),this.borderRightColor=ce(e,PJ,r.borderRightColor),this.borderBottomColor=ce(e,NJ,r.borderBottomColor),this.borderLeftColor=ce(e,QJ,r.borderLeftColor),this.borderTopLeftRadius=ce(e,kJ,r.borderTopLeftRadius),this.borderTopRightRadius=ce(e,OJ,r.borderTopRightRadius),this.borderBottomRightRadius=ce(e,DJ,r.borderBottomRightRadius),this.borderBottomLeftRadius=ce(e,jJ,r.borderBottomLeftRadius),this.borderTopStyle=ce(e,RJ,r.borderTopStyle),this.borderRightStyle=ce(e,MJ,r.borderRightStyle),this.borderBottomStyle=ce(e,LJ,r.borderBottomStyle),this.borderLeftStyle=ce(e,HJ,r.borderLeftStyle),this.borderTopWidth=ce(e,VJ,r.borderTopWidth),this.borderRightWidth=ce(e,KJ,r.borderRightWidth),this.borderBottomWidth=ce(e,$J,r.borderBottomWidth),this.borderLeftWidth=ce(e,GJ,r.borderLeftWidth),this.boxShadow=ce(e,RZ,r.boxShadow),this.color=ce(e,zJ,r.color),this.direction=ce(e,WJ,r.direction),this.display=ce(e,YJ,r.display),this.float=ce(e,qJ,r.cssFloat),this.fontFamily=ce(e,TZ,r.fontFamily),this.fontSize=ce(e,FZ,r.fontSize),this.fontStyle=ce(e,NZ,r.fontStyle),this.fontVariant=ce(e,PZ,r.fontVariant),this.fontWeight=ce(e,UZ,r.fontWeight),this.letterSpacing=ce(e,JJ,r.letterSpacing),this.lineBreak=ce(e,ZJ,r.lineBreak),this.lineHeight=ce(e,eZ,r.lineHeight),this.listStyleImage=ce(e,tZ,r.listStyleImage),this.listStylePosition=ce(e,rZ,r.listStylePosition),this.listStyleType=ce(e,Bb,r.listStyleType),this.marginTop=ce(e,nZ,r.marginTop),this.marginRight=ce(e,iZ,r.marginRight),this.marginBottom=ce(e,sZ,r.marginBottom),this.marginLeft=ce(e,aZ,r.marginLeft),this.opacity=ce(e,_Z,r.opacity);var s=ce(e,oZ,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=ce(e,AZ,r.overflowWrap),this.paddingTop=ce(e,lZ,r.paddingTop),this.paddingRight=ce(e,uZ,r.paddingRight),this.paddingBottom=ce(e,cZ,r.paddingBottom),this.paddingLeft=ce(e,dZ,r.paddingLeft),this.paintOrder=ce(e,MZ,r.paintOrder),this.position=ce(e,hZ,r.position),this.textAlign=ce(e,fZ,r.textAlign),this.textDecorationColor=ce(e,IZ,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=ce(e,SZ,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=ce(e,gZ,r.textShadow),this.textTransform=ce(e,pZ,r.textTransform),this.transform=ce(e,mZ,r.transform),this.transformOrigin=ce(e,bZ,r.transformOrigin),this.visibility=ce(e,BZ,r.visibility),this.webkitTextStrokeColor=ce(e,LZ,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=ce(e,HZ,r.webkitTextStrokeWidth),this.wordBreak=ce(e,CZ,r.wordBreak),this.zIndex=ce(e,EZ,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Ma(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Yt(this.display,4)||Yt(this.display,33554432)||Yt(this.display,268435456)||Yt(this.display,536870912)||Yt(this.display,67108864)||Yt(this.display,134217728)},t}(),KZ=function(){function t(e,r){this.content=ce(e,QZ,r.content),this.quotes=ce(e,jZ,r.quotes)}return t}(),J2=function(){function t(e,r){this.counterIncrement=ce(e,kZ,r.counterIncrement),this.counterReset=ce(e,OZ,r.counterReset)}return t}(),ce=function(t,e,r){var n=new pj,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var s=new mj(n.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(t,Ze(a)?a.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return K0.parse(t,s.parseComponentValue());case"color":return Ra.parse(t,s.parseComponentValue());case"image":return BE.parse(t,s.parseComponentValue());case"length":var o=s.parseComponentValue();return eo(o)?o:br;case"length-percentage":var A=s.parseComponentValue();return Ht(A)?A:br;case"time":return kj.parse(t,s.parseComponentValue())}break}},$Z="data-html2canvas-debug",GZ=function(t){var e=t.getAttribute($Z);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Cb=function(t,e){var r=GZ(t);return r===1||e===r},$i=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Cb(r,3))debugger;this.styles=new VZ(e,window.getComputedStyle(r,null)),Ib(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=H0(this.context,r),Cb(r,4)&&(this.flags|=16)}return t}(),zZ="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Z2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var og=0;og<Z2.length;og++)Gc[Z2.charCodeAt(og)]=og;var WZ=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=Gc[t.charCodeAt(n)],a=Gc[t.charCodeAt(n+1)],o=Gc[t.charCodeAt(n+2)],A=Gc[t.charCodeAt(n+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|A&63;return l},YZ=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},XZ=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Zo=5,CE=11,Xy=2,qZ=CE-Zo,Oj=65536>>Zo,JZ=1<<Zo,qy=JZ-1,ZZ=1024>>Zo,eee=Oj+ZZ,tee=eee,ree=32,nee=tee+ree,iee=65536>>CE,see=1<<qZ,aee=see-1,eF=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},oee=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},Aee=function(t,e){var r=WZ(t),n=Array.isArray(r)?XZ(r):new Uint32Array(r),i=Array.isArray(r)?YZ(r):new Uint16Array(r),s=24,a=eF(i,s/2,n[4]/2),o=n[5]===2?eF(i,(s+n[4])/2):oee(n,Math.ceil((s+n[4])/4));return new lee(n[0],n[1],n[2],n[3],a,o)},lee=function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Zo],r=(r<<Xy)+(e&qy),this.data[r];if(e<=65535)return r=this.index[Oj+(e-55296>>Zo)],r=(r<<Xy)+(e&qy),this.data[r];if(e<this.highStart)return r=nee-iee+(e>>CE),r=this.index[r],r+=e>>Zo&aee,r=this.index[r],r=(r<<Xy)+(e&qy),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),tF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uee=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ag=0;Ag<tF.length;Ag++)uee[tF.charCodeAt(Ag)]=Ag;var cee=1,Jy=2,Zy=3,rF=4,nF=5,dee=7,iF=8,ew=9,tw=10,sF=11,aF=12,oF=13,AF=14,rw=15,fee=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},hee=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},gee=Aee(zZ),Rn="×",nw="÷",pee=function(t){return gee.get(t)},mee=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],a=e[r];if(s===Jy&&a===Zy)return Rn;if(s===Jy||s===Zy||s===rF||a===Jy||a===Zy||a===rF)return nw;if(s===iF&&[iF,ew,sF,aF].indexOf(a)!==-1||(s===sF||s===ew)&&(a===ew||a===tw)||(s===aF||s===tw)&&a===tw||a===oF||a===nF||a===dee||s===cee)return Rn;if(s===oF&&a===AF){for(;i===nF;)i=e[--n];if(i===AF)return Rn}if(s===rw&&a===rw){for(var o=0;i===rw;)o++,i=e[--n];if(o%2===0)return Rn}return nw},vee=function(t){var e=fee(t),r=e.length,n=0,i=0,s=e.map(pee);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=Rn;n<r&&(a=mee(e,s,++n))===Rn;);if(a!==Rn||n===r){var o=hee.apply(null,e.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},yee=function(t){for(var e=vee(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},wee=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(n),s===e)return!0}}return!1},xee=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=V0(n.data).map(function(A){return Dt(A)}),s=0,a={},o=i.every(function(A,l){r.setStart(n,s),r.setEnd(n,s+A.length);var u=r.getBoundingClientRect();s+=A.length;var d=u.x>a.x||u.y>a.y;return a=u,l===0?!0:d});return t.body.removeChild(e),o},bee=function(){return typeof new Image().crossOrigin<"u"},Bee=function(){return typeof new XMLHttpRequest().responseType=="string"},Cee=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},lF=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Eee=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var a=Eb(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),uF(a).then(function(o){n.drawImage(o,0,0);var A=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var l=t.createElement("div");return l.style.backgroundImage="url("+s+")",l.style.height=r+"px",lF(A)?uF(Eb(r,r,0,0,l)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),lF(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Eb=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},uF=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},mr={get SUPPORT_RANGE_BOUNDS(){var t=wee(document);return Object.defineProperty(mr,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=mr.SUPPORT_RANGE_BOUNDS&&xee(document);return Object.defineProperty(mr,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Cee(document);return Object.defineProperty(mr,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Eee(document):Promise.resolve(!1);return Object.defineProperty(mr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=bee();return Object.defineProperty(mr,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Bee();return Object.defineProperty(mr,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(mr,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(mr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},vd=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),_ee=function(t,e,r,n){var i=Tee(e,r),s=[],a=0;return i.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(mr.SUPPORT_RANGE_BOUNDS){var A=cF(n,a,o.length).getClientRects();if(A.length>1){var l=EE(o),u=0;l.forEach(function(f){s.push(new vd(f,Ps.fromDOMRectList(t,cF(n,u+a,f.length).getClientRects()))),u+=f.length})}else s.push(new vd(o,Ps.fromDOMRectList(t,A)))}else{var d=n.splitText(o.length);s.push(new vd(o,Iee(t,n))),n=d}else mr.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),s},Iee=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=H0(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return Ps.EMPTY},cF=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},EE=function(t){if(mr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return yee(t)},See=function(t,e){if(mr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return Uee(t,e)},Tee=function(t,e){return e.letterSpacing!==0?EE(t):See(t,e)},Fee=[32,160,4961,65792,65793,4153,4241],Uee=function(t,e){for(var r=iq(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var a=i.value.slice(),o=V0(a),A="";o.forEach(function(l){Fee.indexOf(l)===-1?A+=Dt(l):(A.length&&n.push(A),n.push(Dt(l)),A="")}),A.length&&n.push(A)}};!(i=r.next()).done;)s();return n},Pee=function(){function t(e,r,n){this.text=Nee(r.data,n.textTransform),this.textBounds=_ee(e,this.text,n,r)}return t}(),Nee=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Qee,kee);case 2:return t.toUpperCase();default:return t}},Qee=/(^|\s|:|-|\(|\))([a-z])/g,kee=function(t,e,r){return t.length>0?e+r.toUpperCase():t},Dj=function(t){xi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}($i),jj=function(t){xi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}($i),Rj=function(t){xi(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=new XMLSerializer,a=H0(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}($i),Mj=function(t){xi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}($i),_b=function(t){xi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}($i),Oee=[{type:15,flags:0,unit:"px",number:3}],Dee=[{type:16,flags:0,number:50}],jee=function(t){return t.width>t.height?new Ps(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Ps(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Ree=function(t){var e=t.type===Mee?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},sm="checkbox",am="radio",Mee="password",dF=707406591,_E=function(t){xi(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=Ree(n),(i.type===sm||i.type===am)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=jee(i.bounds)),i.type){case sm:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Oee;break;case am:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Dee;break}return i}return e}($i),Lj=function(t){xi(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e}($i),Hj=function(t){xi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}($i),Vj=function(t){xi(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=$j(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?pd(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):bs.TRANSPARENT,a=n.contentWindow.document.body?pd(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):bs.TRANSPARENT;i.backgroundColor=Ma(s)?Ma(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e}($i),Lee=["OL","UL","MENU"],np=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,Gj(i)&&i.data.trim().length>0)r.textNodes.push(new Pee(t,i,r.styles));else if(Bl(i))if(Xj(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return np(t,o,r,n)});else{var a=Kj(t,i);a.styles.isVisible()&&(Hee(i,a,n)?a.flags|=4:Vee(a.styles)&&(a.flags|=2),Lee.indexOf(i.tagName)!==-1&&(a.flags|=8),r.elements.push(a),i.slot,i.shadowRoot?np(t,i.shadowRoot,a,n):!om(i)&&!zj(i)&&!Am(i)&&np(t,i,a,n))}},Kj=function(t,e){return Sb(e)?new Dj(t,e):Wj(e)?new jj(t,e):zj(e)?new Rj(t,e):Kee(e)?new Mj(t,e):$ee(e)?new _b(t,e):Gee(e)?new _E(t,e):Am(e)?new Lj(t,e):om(e)?new Hj(t,e):Yj(e)?new Vj(t,e):new $i(t,e)},$j=function(t,e){var r=Kj(t,e);return r.flags|=4,np(t,e,r,r),r},Hee=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||IE(t)&&r.styles.isTransparent()},Vee=function(t){return t.isPositioned()||t.isFloating()},Gj=function(t){return t.nodeType===Node.TEXT_NODE},Bl=function(t){return t.nodeType===Node.ELEMENT_NODE},Ib=function(t){return Bl(t)&&typeof t.style<"u"&&!ip(t)},ip=function(t){return typeof t.className=="object"},Kee=function(t){return t.tagName==="LI"},$ee=function(t){return t.tagName==="OL"},Gee=function(t){return t.tagName==="INPUT"},zee=function(t){return t.tagName==="HTML"},zj=function(t){return t.tagName==="svg"},IE=function(t){return t.tagName==="BODY"},Wj=function(t){return t.tagName==="CANVAS"},fF=function(t){return t.tagName==="VIDEO"},Sb=function(t){return t.tagName==="IMG"},Yj=function(t){return t.tagName==="IFRAME"},hF=function(t){return t.tagName==="STYLE"},Wee=function(t){return t.tagName==="SCRIPT"},om=function(t){return t.tagName==="TEXTAREA"},Am=function(t){return t.tagName==="SELECT"},Xj=function(t){return t.tagName==="SLOT"},gF=function(t){return t.tagName.indexOf("-")>0},Yee=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(o){var A=r.counters[o.counter];A&&o.increment!==0&&(s=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var A=r.counters[o.counter];a.push(o.counter),A||(A=r.counters[o.counter]=[]),A.push(o.reset)}),a},t}(),pF={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},mF={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Xee={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},qee={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},qA=function(t,e,r,n,i,s){return t<e||t>r?rf(t,i,s.length>0):n.integers.reduce(function(a,o,A){for(;t>=o;)t-=o,a+=n.values[A];return a},"")+s},qj=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},Ot=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(qj(Math.abs(t),s,n,function(a){return Dt(Math.floor(a%s)+e)})+i)},Eo=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return qj(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},al=1,na=2,ia=4,zc=8,es=function(t,e,r,n,i,s){if(t<-9999||t>9999)return rf(t,4,i.length>0);var a=Math.abs(t),o=i;if(a===0)return e[0]+o;for(var A=0;a>0&&A<=4;A++){var l=a%10;l===0&&Yt(s,al)&&o!==""?o=e[l]+o:l>1||l===1&&A===0||l===1&&A===1&&Yt(s,na)||l===1&&A===1&&Yt(s,ia)&&t>100||l===1&&A>1&&Yt(s,zc)?o=e[l]+(A>0?r[A-1]:"")+o:l===1&&A>0&&(o=r[A-1]+o),a=Math.floor(a/10)}return(t<0?n:"")+o},vF="十百千萬",yF="拾佰仟萬",wF="マイナス",iw="마이너스",rf=function(t,e,r){var n=r?". ":"",i=r?"、":"",s=r?", ":"",a=r?" ":"";switch(e){case 0:return"•"+a;case 1:return"◦"+a;case 2:return"◾"+a;case 5:var o=Ot(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return Eo(t,"〇一二三四五六七八九",i);case 6:return qA(t,1,3999,pF,3,n).toLowerCase();case 7:return qA(t,1,3999,pF,3,n);case 8:return Ot(t,945,969,!1,n);case 9:return Ot(t,97,122,!1,n);case 10:return Ot(t,65,90,!1,n);case 11:return Ot(t,1632,1641,!0,n);case 12:case 49:return qA(t,1,9999,mF,3,n);case 35:return qA(t,1,9999,mF,3,n).toLowerCase();case 13:return Ot(t,2534,2543,!0,n);case 14:case 30:return Ot(t,6112,6121,!0,n);case 15:return Eo(t,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return Eo(t,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return es(t,"零一二三四五六七八九",vF,"負",i,na|ia|zc);case 47:return es(t,"零壹貳參肆伍陸柒捌玖",yF,"負",i,al|na|ia|zc);case 42:return es(t,"零一二三四五六七八九",vF,"负",i,na|ia|zc);case 41:return es(t,"零壹贰叁肆伍陆柒捌玖",yF,"负",i,al|na|ia|zc);case 26:return es(t,"〇一二三四五六七八九","十百千万",wF,i,0);case 25:return es(t,"零壱弐参四伍六七八九","拾百千万",wF,i,al|na|ia);case 31:return es(t,"영일이삼사오육칠팔구","십백천만",iw,s,al|na|ia);case 33:return es(t,"零一二三四五六七八九","十百千萬",iw,s,0);case 32:return es(t,"零壹貳參四五六七八九","拾百千",iw,s,al|na|ia);case 18:return Ot(t,2406,2415,!0,n);case 20:return qA(t,1,19999,qee,3,n);case 21:return Ot(t,2790,2799,!0,n);case 22:return Ot(t,2662,2671,!0,n);case 22:return qA(t,1,10999,Xee,3,n);case 23:return Eo(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Eo(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Ot(t,3302,3311,!0,n);case 28:return Eo(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return Eo(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return Ot(t,3792,3801,!0,n);case 37:return Ot(t,6160,6169,!0,n);case 38:return Ot(t,4160,4169,!0,n);case 39:return Ot(t,2918,2927,!0,n);case 40:return Ot(t,1776,1785,!0,n);case 43:return Ot(t,3046,3055,!0,n);case 44:return Ot(t,3174,3183,!0,n);case 45:return Ot(t,3664,3673,!0,n);case 46:return Ot(t,3872,3881,!0,n);case 3:default:return Ot(t,48,57,!0,n)}},Jj="data-html2canvas-ignore",xF=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Yee,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=Jee(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,A=o.document,l=tte(i).then(function(){return Mr(n,void 0,void 0,function(){var u,d;return Pr(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(ste),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),u=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,ete(A)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(A,d)}).then(function(){return i})]:[2,i]}})})});return A.open(),A.write(nte(document.doctype)+"<html></html>"),ite(this.referenceElement.ownerDocument,s,a),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),l},t.prototype.createElementClone=function(e){if(Cb(e,2))debugger;if(Wj(e))return this.createCanvasClone(e);if(fF(e))return this.createVideoClone(e);if(hF(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return Sb(r)&&(Sb(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),gF(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return sw(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var A=o.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!Bl(r)||!Wee(r)&&!r.hasAttribute(Jj)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Bl(r)||!hF(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Bl(s)&&Xj(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(r,o,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(Gj(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Bl(e)&&(Ib(e)||ip(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&Ib(i)&&(this.clonedReferenceElement=i),IE(i)&&Ate(i);var A=this.counters.parse(new J2(this.context,s)),l=this.resolvePseudoContent(e,i,a,yd.BEFORE);gF(e)&&(r=!0),fF(e)||this.cloneChildNodes(e,i,r),l&&i.insertBefore(l,i.firstChild);var u=this.resolvePseudoContent(e,i,o,yd.AFTER);return u&&i.appendChild(u),this.counters.pop(A),(s&&(this.options.copyStyles||ip(e))&&!Yj(e)||r)&&sw(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(om(e)||Am(e))&&(om(i)||Am(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var s=this;if(n){var a=n.content,o=r.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new J2(this.context,n));var A=new KZ(this.context,n),l=o.createElement("html2canvaspseudoelement");sw(n,l),A.content.forEach(function(d){if(d.type===0)l.appendChild(o.createTextNode(d.value));else if(d.type===22){var f=o.createElement("img");f.src=d.value,f.style.opacity="1",l.appendChild(f)}else if(d.type===18){if(d.name==="attr"){var g=d.values.filter(Ze);g.length&&l.appendChild(o.createTextNode(e.getAttribute(g[0].value)||""))}else if(d.name==="counter"){var p=d.values.filter(au),m=p[0],v=p[1];if(m&&Ze(m)){var y=s.counters.getCounterValue(m.value),w=v&&Ze(v)?Bb.parse(s.context,v.value):3;l.appendChild(o.createTextNode(rf(y,w,!1)))}}else if(d.name==="counters"){var B=d.values.filter(au),m=B[0],I=B[1],v=B[2];if(m&&Ze(m)){var T=s.counters.getCounterValues(m.value),F=v&&Ze(v)?Bb.parse(s.context,v.value):3,C=I&&I.type===0?I.value:"",_=T.map(function(Q){return rf(Q,F,!1)}).join(C);l.appendChild(o.createTextNode(_))}}}else if(d.type===20)switch(d.value){case"open-quote":l.appendChild(o.createTextNode(q2(A.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(q2(A.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(d.value))}}),l.className=Tb+" "+Fb;var u=i===yd.BEFORE?" "+Tb:" "+Fb;return ip(r)?r.className.baseValue+=u:r.className+=u,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),yd;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(yd||(yd={}));var Jee=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(Jj,"true"),t.body.appendChild(r),r},Zee=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},ete=function(t){return Promise.all([].slice.call(t.images,0).map(Zee))},tte=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},rte=["all","d","content"],sw=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);rte.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},nte=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},ite=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},ste=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},ate=":before",ote=":after",Tb="___html2canvas___pseudoelement_before",Fb="___html2canvas___pseudoelement_after",bF=`{
    content: "" !important;
    display: none !important;
}`,Ate=function(t){lte(t,"."+Tb+ate+bF+`
         .`+Fb+ote+bF)},lte=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},Zj=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),ute=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(ow(e)||hte(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Mr(this,void 0,void 0,function(){var r,n,i,s,a=this;return Pr(this,function(o){switch(o.label){case 0:return r=Zj.isSameOrigin(e),n=!aw(e)&&this._options.useCORS===!0&&mr.SUPPORT_CORS_IMAGES&&!r,i=!aw(e)&&!r&&!ow(e)&&typeof this._options.proxy=="string"&&mr.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!aw(e)&&!ow(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(A,l){var u=new Image;u.onload=function(){return A(u)},u.onerror=l,(gte(s)||n)&&(u.crossOrigin="anonymous"),u.src=s,u.complete===!0&&setTimeout(function(){return A(u)},500),a._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=mr.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(o==="text")s(A.response);else{var d=new FileReader;d.addEventListener("load",function(){return s(d.result)},!1),d.addEventListener("error",function(f){return a(f)},!1),d.readAsDataURL(A.response)}else a("Failed to proxy resource "+i+" with status code "+A.status)},A.onerror=a;var l=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=o),r._options.imageTimeout){var u=r._options.imageTimeout;A.timeout=u,A.ontimeout=function(){return a("Timed out ("+u+"ms) proxying "+i)}}A.send()})},t}(),cte=/^data:image\/svg\+xml/i,dte=/^data:image\/.*;base64,/i,fte=/^data:image\/.*/i,hte=function(t){return mr.SUPPORT_SVG_DRAWING||!pte(t)},aw=function(t){return fte.test(t)},gte=function(t){return dte.test(t)},ow=function(t){return t.substr(0,4)==="blob"},pte=function(t){return t.substr(-3).toLowerCase()==="svg"||cte.test(t)},le=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),JA=function(t,e,r){return new le(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},lg=function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=JA(this.start,this.startControl,e),i=JA(this.startControl,this.endControl,e),s=JA(this.endControl,this.end,e),a=JA(n,i,e),o=JA(i,s,e),A=JA(a,o,e);return r?new t(this.start,n,a,A):new t(A,o,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Hn=function(t){return t.type===1},mte=function(){function t(e){var r=e.styles,n=e.bounds,i=$c(r.borderTopLeftRadius,n.width,n.height),s=i[0],a=i[1],o=$c(r.borderTopRightRadius,n.width,n.height),A=o[0],l=o[1],u=$c(r.borderBottomRightRadius,n.width,n.height),d=u[0],f=u[1],g=$c(r.borderBottomLeftRadius,n.width,n.height),p=g[0],m=g[1],v=[];v.push((s+A)/n.width),v.push((p+d)/n.width),v.push((a+m)/n.height),v.push((l+f)/n.height);var y=Math.max.apply(Math,v);y>1&&(s/=y,a/=y,A/=y,l/=y,d/=y,f/=y,p/=y,m/=y);var w=n.width-A,B=n.height-f,I=n.width-d,T=n.height-m,F=r.borderTopWidth,C=r.borderRightWidth,_=r.borderBottomWidth,S=r.borderLeftWidth,P=At(r.paddingTop,e.bounds.width),Q=At(r.paddingRight,e.bounds.width),k=At(r.paddingBottom,e.bounds.width),N=At(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?gt(n.left+S/3,n.top+F/3,s-S/3,a-F/3,We.TOP_LEFT):new le(n.left+S/3,n.top+F/3),this.topRightBorderDoubleOuterBox=s>0||a>0?gt(n.left+w,n.top+F/3,A-C/3,l-F/3,We.TOP_RIGHT):new le(n.left+n.width-C/3,n.top+F/3),this.bottomRightBorderDoubleOuterBox=d>0||f>0?gt(n.left+I,n.top+B,d-C/3,f-_/3,We.BOTTOM_RIGHT):new le(n.left+n.width-C/3,n.top+n.height-_/3),this.bottomLeftBorderDoubleOuterBox=p>0||m>0?gt(n.left+S/3,n.top+T,p-S/3,m-_/3,We.BOTTOM_LEFT):new le(n.left+S/3,n.top+n.height-_/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?gt(n.left+S*2/3,n.top+F*2/3,s-S*2/3,a-F*2/3,We.TOP_LEFT):new le(n.left+S*2/3,n.top+F*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?gt(n.left+w,n.top+F*2/3,A-C*2/3,l-F*2/3,We.TOP_RIGHT):new le(n.left+n.width-C*2/3,n.top+F*2/3),this.bottomRightBorderDoubleInnerBox=d>0||f>0?gt(n.left+I,n.top+B,d-C*2/3,f-_*2/3,We.BOTTOM_RIGHT):new le(n.left+n.width-C*2/3,n.top+n.height-_*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||m>0?gt(n.left+S*2/3,n.top+T,p-S*2/3,m-_*2/3,We.BOTTOM_LEFT):new le(n.left+S*2/3,n.top+n.height-_*2/3),this.topLeftBorderStroke=s>0||a>0?gt(n.left+S/2,n.top+F/2,s-S/2,a-F/2,We.TOP_LEFT):new le(n.left+S/2,n.top+F/2),this.topRightBorderStroke=s>0||a>0?gt(n.left+w,n.top+F/2,A-C/2,l-F/2,We.TOP_RIGHT):new le(n.left+n.width-C/2,n.top+F/2),this.bottomRightBorderStroke=d>0||f>0?gt(n.left+I,n.top+B,d-C/2,f-_/2,We.BOTTOM_RIGHT):new le(n.left+n.width-C/2,n.top+n.height-_/2),this.bottomLeftBorderStroke=p>0||m>0?gt(n.left+S/2,n.top+T,p-S/2,m-_/2,We.BOTTOM_LEFT):new le(n.left+S/2,n.top+n.height-_/2),this.topLeftBorderBox=s>0||a>0?gt(n.left,n.top,s,a,We.TOP_LEFT):new le(n.left,n.top),this.topRightBorderBox=A>0||l>0?gt(n.left+w,n.top,A,l,We.TOP_RIGHT):new le(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||f>0?gt(n.left+I,n.top+B,d,f,We.BOTTOM_RIGHT):new le(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||m>0?gt(n.left,n.top+T,p,m,We.BOTTOM_LEFT):new le(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?gt(n.left+S,n.top+F,Math.max(0,s-S),Math.max(0,a-F),We.TOP_LEFT):new le(n.left+S,n.top+F),this.topRightPaddingBox=A>0||l>0?gt(n.left+Math.min(w,n.width-C),n.top+F,w>n.width+C?0:Math.max(0,A-C),Math.max(0,l-F),We.TOP_RIGHT):new le(n.left+n.width-C,n.top+F),this.bottomRightPaddingBox=d>0||f>0?gt(n.left+Math.min(I,n.width-S),n.top+Math.min(B,n.height-_),Math.max(0,d-C),Math.max(0,f-_),We.BOTTOM_RIGHT):new le(n.left+n.width-C,n.top+n.height-_),this.bottomLeftPaddingBox=p>0||m>0?gt(n.left+S,n.top+Math.min(T,n.height-_),Math.max(0,p-S),Math.max(0,m-_),We.BOTTOM_LEFT):new le(n.left+S,n.top+n.height-_),this.topLeftContentBox=s>0||a>0?gt(n.left+S+N,n.top+F+P,Math.max(0,s-(S+N)),Math.max(0,a-(F+P)),We.TOP_LEFT):new le(n.left+S+N,n.top+F+P),this.topRightContentBox=A>0||l>0?gt(n.left+Math.min(w,n.width+S+N),n.top+F+P,w>n.width+S+N?0:A-S+N,l-(F+P),We.TOP_RIGHT):new le(n.left+n.width-(C+Q),n.top+F+P),this.bottomRightContentBox=d>0||f>0?gt(n.left+Math.min(I,n.width-(S+N)),n.top+Math.min(B,n.height+F+P),Math.max(0,d-(C+Q)),f-(_+k),We.BOTTOM_RIGHT):new le(n.left+n.width-(C+Q),n.top+n.height-(_+k)),this.bottomLeftContentBox=p>0||m>0?gt(n.left+S+N,n.top+T,Math.max(0,p-(S+N)),m-(_+k),We.BOTTOM_LEFT):new le(n.left+S+N,n.top+n.height-(_+k))}return t}(),We;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(We||(We={}));var gt=function(t,e,r,n,i){var s=4*((Math.sqrt(2)-1)/3),a=r*s,o=n*s,A=t+r,l=e+n;switch(i){case We.TOP_LEFT:return new lg(new le(t,l),new le(t,l-o),new le(A-a,e),new le(A,e));case We.TOP_RIGHT:return new lg(new le(t,e),new le(t+a,e),new le(A,l-o),new le(A,l));case We.BOTTOM_RIGHT:return new lg(new le(A,e),new le(A,e+o),new le(t+a,l),new le(t,l));case We.BOTTOM_LEFT:default:return new lg(new le(A,l),new le(A-a,l),new le(t,e+o),new le(t,e))}},lm=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},vte=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},um=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},yte=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),ug=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),wte=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),xte=function(t){return t.type===0},eR=function(t){return t.type===1},bte=function(t){return t.type===2},BF=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},Bte=function(t,e,r,n,i){return t.map(function(s,a){switch(a){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+i);case 3:return s.add(e,r+i)}return s})},tR=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),rR=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new mte(this.container),this.container.styles.opacity<1&&this.effects.push(new wte(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new yte(n,i,s))}if(this.container.styles.overflowX!==0){var a=lm(this.curves),o=um(this.curves);BF(a,o)?this.effects.push(new ug(a,6)):(this.effects.push(new ug(a,2)),this.effects.push(new ug(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(A){return!eR(A)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=lm(n.curves),o=um(n.curves);BF(a,o)||i.unshift(new ug(o,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(A){return Yt(A.target,e)})},t}(),Ub=function(t,e,r,n){t.container.elements.forEach(function(i){var s=Yt(i.flags,4),a=Yt(i.flags,2),o=new rR(i,t);Yt(i.styles.display,2048)&&n.push(o);var A=Yt(i.flags,8)?[]:n;if(s||a){var l=s||i.styles.isPositioned()?r:e,u=new tR(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var f=0;l.negativeZIndex.some(function(p,m){return d>p.element.container.styles.zIndex.order?(f=m,!1):f>0}),l.negativeZIndex.splice(f,0,u)}else if(d>0){var g=0;l.positiveZIndex.some(function(p,m){return d>=p.element.container.styles.zIndex.order?(g=m+1,!1):g>0}),l.positiveZIndex.splice(g,0,u)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?l.nonPositionedFloats.push(u):l.nonPositionedInlineLevel.push(u);Ub(o,u,s?u:r,A)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),Ub(o,e,r,A);Yt(i.flags,8)&&nR(i,A)})},nR=function(t,e){for(var r=t instanceof _b?t.start:1,n=t instanceof _b?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof Mj&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=rf(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},Cte=function(t){var e=new rR(t,null),r=new tR(e),n=[];return Ub(e,r,r,n),nR(e.container,n),r},CF=function(t,e){switch(e){case 0:return Yn(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Yn(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Yn(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Yn(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Ete=function(t,e){switch(e){case 0:return Yn(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Yn(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Yn(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Yn(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},_te=function(t,e){switch(e){case 0:return Yn(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Yn(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Yn(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Yn(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Ite=function(t,e){switch(e){case 0:return cg(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return cg(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return cg(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return cg(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},cg=function(t,e){var r=[];return Hn(t)?r.push(t.subdivide(.5,!1)):r.push(t),Hn(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Yn=function(t,e,r,n){var i=[];return Hn(t)?i.push(t.subdivide(.5,!1)):i.push(t),Hn(r)?i.push(r.subdivide(.5,!0)):i.push(r),Hn(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Hn(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},iR=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},cm=function(t){var e=t.styles,r=t.bounds,n=At(e.paddingLeft,r.width),i=At(e.paddingRight,r.width),s=At(e.paddingTop,r.width),a=At(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},Ste=function(t,e){return t===0?e.bounds:t===2?cm(e):iR(e)},Tte=function(t,e){return t===0?e.bounds:t===2?cm(e):iR(e)},Aw=function(t,e,r){var n=Ste(ol(t.styles.backgroundOrigin,e),t),i=Tte(ol(t.styles.backgroundClip,e),t),s=Fte(ol(t.styles.backgroundSize,e),r,n),a=s[0],o=s[1],A=$c(ol(t.styles.backgroundPosition,e),n.width-a,n.height-o),l=Ute(ol(t.styles.backgroundRepeat,e),A,s,n,i),u=Math.round(n.left+A[0]),d=Math.round(n.top+A[1]);return[l,u,d,a,o]},ZA=function(t){return Ze(t)&&t.value===Ol.AUTO},dg=function(t){return typeof t=="number"},Fte=function(t,e,r){var n=e[0],i=e[1],s=e[2],a=t[0],o=t[1];if(!a)return[0,0];if(Ht(a)&&o&&Ht(o))return[At(a,r.width),At(o,r.height)];var A=dg(s);if(Ze(a)&&(a.value===Ol.CONTAIN||a.value===Ol.COVER)){if(dg(s)){var l=r.width/r.height;return l<s!=(a.value===Ol.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var u=dg(n),d=dg(i),f=u||d;if(ZA(a)&&(!o||ZA(o))){if(u&&d)return[n,i];if(!A&&!f)return[r.width,r.height];if(f&&A){var g=u?n:i*s,p=d?i:n/s;return[g,p]}var m=u?n:r.width,v=d?i:r.height;return[m,v]}if(A){var y=0,w=0;return Ht(a)?y=At(a,r.width):Ht(o)&&(w=At(o,r.height)),ZA(a)?y=w*s:(!o||ZA(o))&&(w=y/s),[y,w]}var B=null,I=null;if(Ht(a)?B=At(a,r.width):o&&Ht(o)&&(I=At(o,r.height)),B!==null&&(!o||ZA(o))&&(I=u&&d?B/n*i:r.height),I!==null&&ZA(a)&&(B=u&&d?I/i*n:r.width),B!==null&&I!==null)return[B,I];throw new Error("Unable to calculate background-size for element")},ol=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},Ute=function(t,e,r,n,i){var s=e[0],a=e[1],o=r[0],A=r[1];switch(t){case 2:return[new le(Math.round(n.left),Math.round(n.top+a)),new le(Math.round(n.left+n.width),Math.round(n.top+a)),new le(Math.round(n.left+n.width),Math.round(A+n.top+a)),new le(Math.round(n.left),Math.round(A+n.top+a))];case 3:return[new le(Math.round(n.left+s),Math.round(n.top)),new le(Math.round(n.left+s+o),Math.round(n.top)),new le(Math.round(n.left+s+o),Math.round(n.height+n.top)),new le(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new le(Math.round(n.left+s),Math.round(n.top+a)),new le(Math.round(n.left+s+o),Math.round(n.top+a)),new le(Math.round(n.left+s+o),Math.round(n.top+a+A)),new le(Math.round(n.left+s),Math.round(n.top+a+A))];default:return[new le(Math.round(i.left),Math.round(i.top)),new le(Math.round(i.left+i.width),Math.round(i.top)),new le(Math.round(i.left+i.width),Math.round(i.height+i.top)),new le(Math.round(i.left),Math.round(i.height+i.top))]}},Pte="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",EF="Hidden Text",Nte=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),i.src=Pte,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(EF)),n.appendChild(s),n.appendChild(i);var o=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(EF)),n.style.lineHeight="normal",i.style.verticalAlign="super";var A=i.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:A}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),sR=function(){function t(e,r){this.context=e,this.options=r}return t}(),Qte=1e4,kte=function(t){xi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new Nte(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),bte(r)&&(this.ctx.globalAlpha=r.opacity),xte(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),eR(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Mr(this,void 0,void 0,function(){var n;return Pr(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Mr(this,void 0,void 0,function(){return Pr(this,function(n){switch(n.label){case 0:if(Yt(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var a=EE(r.text);a.reduce(function(o,A){return s.ctx.fillText(A,o,r.bounds.top+i),o+s.ctx.measureText(A).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=Mte(r.fontFamily).join(", "),s=Qf(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(r,n){return Mr(this,void 0,void 0,function(){var i,s,a,o,A,l,u,d,f=this;return Pr(this,function(g){return i=this.createFontStyle(n),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(a,o),l=A.baseline,u=A.middle,d=n.paintOrder,r.textBounds.forEach(function(p){d.forEach(function(m){switch(m){case 0:f.ctx.fillStyle=sr(n.color),f.renderTextWithLetterSpacing(p,n.letterSpacing,l);var v=n.textShadow;v.length&&p.text.trim().length&&(v.slice(0).reverse().forEach(function(y){f.ctx.shadowColor=sr(y.color),f.ctx.shadowOffsetX=y.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=y.offsetY.number*f.options.scale,f.ctx.shadowBlur=y.blur.number,f.renderTextWithLetterSpacing(p,n.letterSpacing,l)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=sr(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:f.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+l),p.bounds.width,1);break;case 2:f.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:f.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+u),p.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&p.text.trim().length&&(f.ctx.strokeStyle=sr(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+l)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=cm(r),a=um(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Mr(this,void 0,void 0,function(){var n,i,s,a,o,A,w,w,l,u,d,f,I,g,p,T,m,v,y,w,B,I,T;return Pr(this,function(F){switch(F.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,a=0,o=n.textNodes,F.label=1;case 1:return a<o.length?(A=o[a],[4,this.renderTextNode(A,s)]):[3,4];case 2:F.sent(),F.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof Dj))return[3,8];F.label=5;case 5:return F.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return w=F.sent(),this.renderReplacedElement(n,i,w),[3,8];case 7:return F.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof jj&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof Rj))return[3,12];F.label=9;case 9:return F.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return w=F.sent(),this.renderReplacedElement(n,i,w),[3,12];case 11:return F.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Vj&&n.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,l.render(n.tree)]):[3,14];case 13:u=F.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),F.label=14;case 14:if(n instanceof _E&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===sm?n.checked&&(this.ctx.save(),this.path([new le(n.bounds.left+d*.39363,n.bounds.top+d*.79),new le(n.bounds.left+d*.16,n.bounds.top+d*.5549),new le(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new le(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new le(n.bounds.left+d*.72983,n.bounds.top+d*.23),new le(n.bounds.left+d*.84,n.bounds.top+d*.34085),new le(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=sr(dF),this.ctx.fill(),this.ctx.restore()):n.type===am&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=sr(dF),this.ctx.fill(),this.ctx.restore())),Ote(n)&&n.value.length){switch(f=this.createFontStyle(s),I=f[0],g=f[1],p=this.fontMetrics.getMetrics(I,g).baseline,this.ctx.font=I,this.ctx.fillStyle=sr(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=jte(n.styles.textAlign),T=cm(n),m=0,n.styles.textAlign){case 1:m+=T.width/2;break;case 2:m+=T.width;break}v=T.add(m,0,0,-T.height/2+1),this.ctx.save(),this.path([new le(T.left,T.top),new le(T.left+T.width,T.top),new le(T.left+T.width,T.top+T.height),new le(T.left,T.top+T.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new vd(n.value,v),s.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Yt(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];w=void 0,B=y.url,F.label=15;case 15:return F.trys.push([15,17,,18]),[4,this.context.cache.match(B)];case 16:return w=F.sent(),this.ctx.drawImage(w,n.bounds.left-(w.width+10),n.bounds.top),[3,18];case 17:return F.sent(),this.context.logger.error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(I=this.createFontStyle(s)[0],this.ctx.font=I,this.ctx.fillStyle=sr(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",T=new Ps(n.bounds.left,n.bounds.top+At(n.styles.paddingTop,n.bounds.width),n.bounds.width,Y2(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new vd(r.listValue,T),s.letterSpacing,Y2(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),F.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Mr(this,void 0,void 0,function(){var n,i,y,s,a,y,o,A,y,l,u,y,d,f,y,g,p,y,m,v,y;return Pr(this,function(w){switch(w.label){case 0:if(Yt(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:w.sent(),n=0,i=r.negativeZIndex,w.label=2;case 2:return n<i.length?(y=i[n],[4,this.renderStack(y)]):[3,5];case 3:w.sent(),w.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:w.sent(),s=0,a=r.nonInlineLevel,w.label=7;case 7:return s<a.length?(y=a[s],[4,this.renderNode(y)]):[3,10];case 8:w.sent(),w.label=9;case 9:return s++,[3,7];case 10:o=0,A=r.nonPositionedFloats,w.label=11;case 11:return o<A.length?(y=A[o],[4,this.renderStack(y)]):[3,14];case 12:w.sent(),w.label=13;case 13:return o++,[3,11];case 14:l=0,u=r.nonPositionedInlineLevel,w.label=15;case 15:return l<u.length?(y=u[l],[4,this.renderStack(y)]):[3,18];case 16:w.sent(),w.label=17;case 17:return l++,[3,15];case 18:d=0,f=r.inlineLevel,w.label=19;case 19:return d<f.length?(y=f[d],[4,this.renderNode(y)]):[3,22];case 20:w.sent(),w.label=21;case 21:return d++,[3,19];case 22:g=0,p=r.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return g<p.length?(y=p[g],[4,this.renderStack(y)]):[3,26];case 24:w.sent(),w.label=25;case 25:return g++,[3,23];case 26:m=0,v=r.positiveZIndex,w.label=27;case 27:return m<v.length?(y=v[m],[4,this.renderStack(y)]):[3,30];case 28:w.sent(),w.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var a=Hn(i)?i.start:i;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),Hn(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var A=o.getContext("2d");return A.drawImage(r,0,0,r.width,r.height,0,0,n,i),o},e.prototype.renderBackgroundImage=function(r){return Mr(this,void 0,void 0,function(){var n,i,s,a,o,A;return Pr(this,function(l){switch(l.label){case 0:n=r.styles.backgroundImage.length-1,i=function(u){var d,f,g,P,pe,me,N,oe,_,p,P,pe,me,N,oe,m,v,y,w,B,I,T,F,C,_,S,P,Q,k,N,oe,xe,pe,me,q,se,ue,Se,ie,Ue,Ye,D;return Pr(this,function(V){switch(V.label){case 0:if(u.type!==0)return[3,5];d=void 0,f=u.url,V.label=1;case 1:return V.trys.push([1,3,,4]),[4,s.context.cache.match(f)];case 2:return d=V.sent(),[3,4];case 3:return V.sent(),s.context.logger.error("Error loading background-image "+f),[3,4];case 4:return d&&(g=Aw(r,n,[d.width,d.height,d.width/d.height]),P=g[0],pe=g[1],me=g[2],N=g[3],oe=g[4],_=s.ctx.createPattern(s.resizeImage(d,N,oe),"repeat"),s.renderRepeat(P,_,pe,me)),[3,6];case 5:xJ(u)?(p=Aw(r,n,[null,null,null]),P=p[0],pe=p[1],me=p[2],N=p[3],oe=p[4],m=pJ(u.angle,N,oe),v=m[0],y=m[1],w=m[2],B=m[3],I=m[4],T=document.createElement("canvas"),T.width=N,T.height=oe,F=T.getContext("2d"),C=F.createLinearGradient(y,B,w,I),z2(u.stops,v).forEach(function(j){return C.addColorStop(j.stop,sr(j.color))}),F.fillStyle=C,F.fillRect(0,0,N,oe),N>0&&oe>0&&(_=s.ctx.createPattern(T,"repeat"),s.renderRepeat(P,_,pe,me))):bJ(u)&&(S=Aw(r,n,[null,null,null]),P=S[0],Q=S[1],k=S[2],N=S[3],oe=S[4],xe=u.position.length===0?[bE]:u.position,pe=At(xe[0],N),me=At(xe[xe.length-1],oe),q=mJ(u,pe,me,N,oe),se=q[0],ue=q[1],se>0&&ue>0&&(Se=s.ctx.createRadialGradient(Q+pe,k+me,0,Q+pe,k+me,se),z2(u.stops,se*2).forEach(function(j){return Se.addColorStop(j.stop,sr(j.color))}),s.path(P),s.ctx.fillStyle=Se,se!==ue?(ie=r.bounds.left+.5*r.bounds.width,Ue=r.bounds.top+.5*r.bounds.height,Ye=ue/se,D=1/Ye,s.ctx.save(),s.ctx.translate(ie,Ue),s.ctx.transform(1,0,0,Ye,0,0),s.ctx.translate(-ie,-Ue),s.ctx.fillRect(Q,D*(k-Ue)+Ue,N,oe*D),s.ctx.restore()):s.ctx.fill())),V.label=6;case 6:return n--,[2]}})},s=this,a=0,o=r.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return a<o.length?(A=o[a],[5,i(A)]):[3,4];case 2:l.sent(),l.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return Mr(this,void 0,void 0,function(){return Pr(this,function(s){return this.path(CF(i,n)),this.ctx.fillStyle=sr(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,s){return Mr(this,void 0,void 0,function(){var a,o;return Pr(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return A.sent(),[2];case 2:return a=Ete(s,i),this.path(a),this.ctx.fillStyle=sr(r),this.ctx.fill(),o=_te(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Mr(this,void 0,void 0,function(){var n,i,s,a,o,A,l,u,d=this;return Pr(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!Ma(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=Dte(ol(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Ma(n.backgroundColor)||(this.ctx.fillStyle=sr(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){d.ctx.save();var p=lm(r.curves),m=g.inset?0:Qte,v=Bte(p,-m+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(d.path(p),d.ctx.clip(),d.mask(v)):(d.mask(p),d.ctx.clip(),d.path(v)),d.ctx.shadowOffsetX=g.offsetX.number+m,d.ctx.shadowOffsetY=g.offsetY.number,d.ctx.shadowColor=sr(g.color),d.ctx.shadowBlur=g.blur.number,d.ctx.fillStyle=g.inset?sr(g.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),f.label=2;case 2:o=0,A=0,l=s,f.label=3;case 3:return A<l.length?(u=l[A],u.style!==0&&!Ma(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,r.curves)];case 10:f.sent(),f.label=11;case 11:o++,f.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,s,a){return Mr(this,void 0,void 0,function(){var o,A,l,u,d,f,g,p,m,v,y,w,B,I,T,F,T,F;return Pr(this,function(C){return this.ctx.save(),o=Ite(s,i),A=CF(s,i),a===2&&(this.path(A),this.ctx.clip()),Hn(A[0])?(l=A[0].start.x,u=A[0].start.y):(l=A[0].x,u=A[0].y),Hn(A[1])?(d=A[1].end.x,f=A[1].end.y):(d=A[1].x,f=A[1].y),i===0||i===2?g=Math.abs(l-d):g=Math.abs(u-f),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(A.slice(0,2)),p=n<3?n*3:n*2,m=n<3?n*2:n,a===3&&(p=n,m=n),v=!0,g<=p*2?v=!1:g<=p*2+m?(y=g/(2*p+m),p*=y,m*=y):(w=Math.floor((g+m)/(p+m)),B=(g-w*p)/(w-1),I=(g-(w+1)*p)/w,m=I<=0||Math.abs(m-B)<Math.abs(m-I)?B:I),v&&(a===3?this.ctx.setLineDash([0,p+m]):this.ctx.setLineDash([p,m])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=sr(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Hn(A[0])&&(T=A[3],F=A[0],this.ctx.beginPath(),this.formatPath([new le(T.end.x,T.end.y),new le(F.start.x,F.start.y)]),this.ctx.stroke()),Hn(A[1])&&(T=A[1],F=A[2],this.ctx.beginPath(),this.formatPath([new le(T.end.x,T.end.y),new le(F.start.x,F.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Mr(this,void 0,void 0,function(){var n;return Pr(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Cte(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(sR),Ote=function(t){return t instanceof Hj||t instanceof Lj?!0:t instanceof _E&&t.type!==am&&t.type!==sm},Dte=function(t,e){switch(t){case 0:return lm(e);case 2:return vte(e);case 1:default:return um(e)}},jte=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Rte=["-apple-system","system-ui"],Mte=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return Rte.indexOf(e)===-1}):t},Lte=function(t){xi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return Mr(this,void 0,void 0,function(){var n,i;return Pr(this,function(s){switch(s.label){case 0:return n=Eb(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Hte(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(sR),Hte=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Vte=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Kh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Kh([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Kh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Kh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),Kte=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new Vte({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new ute(this,e)}return t.instanceCount=1,t}(),aR=function(t,e){return e===void 0&&(e={}),$te(t,e)};typeof window<"u"&&Zj.setContext(window);var $te=function(t,e){return Mr(void 0,void 0,void 0,function(){var r,n,i,s,a,o,A,l,u,d,f,g,p,m,v,y,w,B,I,T,C,F,C,_,S,P,Q,k,N,oe,xe,pe,me,q,se,ue,Se,ie,Ue,Ye;return Pr(this,function(D){switch(D.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(_=e.allowTaint)!==null&&_!==void 0?_:!1,imageTimeout:(S=e.imageTimeout)!==null&&S!==void 0?S:15e3,proxy:e.proxy,useCORS:(P=e.useCORS)!==null&&P!==void 0?P:!1},s=ub({logging:(Q=e.logging)!==null&&Q!==void 0?Q:!0,cache:e.cache},i),a={windowWidth:(k=e.windowWidth)!==null&&k!==void 0?k:n.innerWidth,windowHeight:(N=e.windowHeight)!==null&&N!==void 0?N:n.innerHeight,scrollX:(oe=e.scrollX)!==null&&oe!==void 0?oe:n.pageXOffset,scrollY:(xe=e.scrollY)!==null&&xe!==void 0?xe:n.pageYOffset},o=new Ps(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),A=new Kte(s,o),l=(pe=e.foreignObjectRendering)!==null&&pe!==void 0?pe:!1,u={allowTaint:(me=e.allowTaint)!==null&&me!==void 0?me:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},A.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),d=new xF(A,t,u),f=d.clonedReferenceElement,f?[4,d.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=D.sent(),p=IE(f)||zee(f)?BX(f.ownerDocument):H0(A,f),m=p.width,v=p.height,y=p.left,w=p.top,B=Gte(A,f,e.backgroundColor),I={canvas:e.canvas,backgroundColor:B,scale:(se=(q=e.scale)!==null&&q!==void 0?q:n.devicePixelRatio)!==null&&se!==void 0?se:1,x:((ue=e.x)!==null&&ue!==void 0?ue:0)+y,y:((Se=e.y)!==null&&Se!==void 0?Se:0)+w,width:(ie=e.width)!==null&&ie!==void 0?ie:Math.ceil(m),height:(Ue=e.height)!==null&&Ue!==void 0?Ue:Math.ceil(v)},l?(A.logger.debug("Document cloned, using foreign object rendering"),C=new Lte(A,I),[4,C.render(f)]):[3,3];case 2:return T=D.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+y+","+w+" with size "+m+"x"+v+" using computed rendering"),A.logger.debug("Starting DOM parsing"),F=$j(A,f),B===F.styles.backgroundColor&&(F.styles.backgroundColor=bs.TRANSPARENT),A.logger.debug("Starting renderer for element at "+I.x+","+I.y+" with size "+I.width+"x"+I.height),C=new kte(A,I),[4,C.render(F)];case 4:T=D.sent(),D.label=5;case 5:return(!((Ye=e.removeContainer)!==null&&Ye!==void 0)||Ye)&&(xF.destroy(g)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,T]}})})},Gte=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?pd(t,getComputedStyle(n.documentElement).backgroundColor):bs.TRANSPARENT,s=n.body?pd(t,getComputedStyle(n.body).backgroundColor):bs.TRANSPARENT,a=typeof r=="string"?pd(t,r):r===null?bs.TRANSPARENT:4294967295;return e===n.documentElement?Ma(i)?Ma(s)?a:s:i:a};const zte=Object.freeze(Object.defineProperty({__proto__:null,default:aR},Symbol.toStringTag,{value:"Module"}));function oR(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=oR(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ge(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=oR(t))&&(n&&(n+=" "),n+=e);return n}var J0={},AR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(AR);var SE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(SE);var TE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(TE);var Z0={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){const n=[],i=r.length;if(i===0)return n;let s=0,a="",o="",A=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const l=r[s];o?l==="\\"&&s+1<i?(s++,a+=r[s]):l===o?o="":a+=l:A?l==='"'||l==="'"?o=l:l==="]"?(A=!1,n.push(a),a=""):a+=l:l==="["?(A=!0,a&&(n.push(a),a="")):l==="."?a&&(n.push(a),a=""):a+=l,s++}return a&&n.push(a),n}t.toPath=e})(Z0);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AR,r=SE,n=TE,i=Z0;function s(o,A,l){if(o==null)return l;switch(typeof A){case"string":{if(e.isUnsafeProperty(A))return l;const u=o[A];return u===void 0?r.isDeepKey(A)?s(o,i.toPath(A),l):l:u}case"number":case"symbol":{typeof A=="number"&&(A=n.toKey(A));const u=o[A];return u===void 0?l:u}default:{if(Array.isArray(A))return a(o,A,l);if(Object.is(A==null?void 0:A.valueOf(),-0)?A="-0":A=String(A),e.isUnsafeProperty(A))return l;const u=o[A];return u===void 0?l:u}}}function a(o,A,l){if(A.length===0)return l;let u=o;for(let d=0;d<A.length;d++){if(u==null||e.isUnsafeProperty(A[d]))return l;u=u[A[d]]}return u===void 0?l:u}t.get=s})(J0);var Wte=J0.get;const to=Vi(Wte);var lR={exports:{}},st={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE=Symbol.for("react.transitional.element"),UE=Symbol.for("react.portal"),ev=Symbol.for("react.fragment"),tv=Symbol.for("react.strict_mode"),rv=Symbol.for("react.profiler"),nv=Symbol.for("react.consumer"),iv=Symbol.for("react.context"),sv=Symbol.for("react.forward_ref"),av=Symbol.for("react.suspense"),ov=Symbol.for("react.suspense_list"),Av=Symbol.for("react.memo"),lv=Symbol.for("react.lazy"),Yte=Symbol.for("react.view_transition"),Xte=Symbol.for("react.client.reference");function ii(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case FE:switch(t=t.type,t){case ev:case rv:case tv:case av:case ov:case Yte:return t;default:switch(t=t&&t.$$typeof,t){case iv:case sv:case lv:case Av:return t;case nv:return t;default:return e}}case UE:return e}}}st.ContextConsumer=nv;st.ContextProvider=iv;st.Element=FE;st.ForwardRef=sv;st.Fragment=ev;st.Lazy=lv;st.Memo=Av;st.Portal=UE;st.Profiler=rv;st.StrictMode=tv;st.Suspense=av;st.SuspenseList=ov;st.isContextConsumer=function(t){return ii(t)===nv};st.isContextProvider=function(t){return ii(t)===iv};st.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===FE};st.isForwardRef=function(t){return ii(t)===sv};st.isFragment=function(t){return ii(t)===ev};st.isLazy=function(t){return ii(t)===lv};st.isMemo=function(t){return ii(t)===Av};st.isPortal=function(t){return ii(t)===UE};st.isProfiler=function(t){return ii(t)===rv};st.isStrictMode=function(t){return ii(t)===tv};st.isSuspense=function(t){return ii(t)===av};st.isSuspenseList=function(t){return ii(t)===ov};st.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ev||t===rv||t===tv||t===av||t===ov||typeof t=="object"&&t!==null&&(t.$$typeof===lv||t.$$typeof===Av||t.$$typeof===iv||t.$$typeof===nv||t.$$typeof===sv||t.$$typeof===Xte||t.getModuleId!==void 0)};st.typeOf=ii;lR.exports=st;var qte=lR.exports,ur=t=>t===0?0:t>0?1:-1,_n=t=>typeof t=="number"&&t!=+t,Vo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,de=t=>(typeof t=="number"||t instanceof Number)&&!_n(t),Li=t=>de(t)||typeof t=="string",Jte=0,nf=t=>{var e=++Jte;return"".concat(t||"").concat(e)},Wr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(e)&&typeof e!="string")return n;var s;if(Vo(e)){if(r==null)return n;var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return _n(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},uR=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1},_F=(t,e)=>de(t)&&de(e)?r=>t+r*(e-t):()=>e;function fi(t,e,r){return de(t)&&de(e)?t+r*(e-t):e}function cR(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):to(n,e))===r)}var ht=t=>t===null||typeof t>"u",kf=t=>ht(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Zte=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function PE(t){if(typeof t!="string")return!1;var e=Zte;return e.includes(t)}var ere=["viewBox","children"],IF=["points","pathLength"],lw={svg:ere,polygon:IF,polyline:IF},NE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(x.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{PE(i)&&(n[i]=s=>r[i](r,s))}),n},tre=(t,e,r)=>n=>(t(e,r,n),null),Of=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var s=t[i];PE(i)&&typeof s=="function"&&(n||(n={}),n[i]=tre(s,e,r))}),n},rre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function dR(t){if(typeof t!="string")return!1;var e=rre;return e.includes(t)}function Ls(t){var e=Object.entries(t).filter(r=>{var[n]=r;return dR(n)});return Object.fromEntries(e)}var SF=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",TF=null,uw=null,fR=t=>{if(t===TF&&Array.isArray(uw))return uw;var e=[];return x.Children.forEach(t,r=>{ht(r)||(qte.isFragment(r)?e=e.concat(fR(r.props.children)):e.push(r))}),uw=e,TF=t,e};function Df(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>SF(i)):n=[SF(e)],fR(t).forEach(i=>{var s=to(i,"type.displayName")||to(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var hR=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,nre=(t,e,r,n)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(i=n&&(lw==null?void 0:lw[n]))!==null&&i!==void 0?i:[],a=e.startsWith("data-"),o=typeof t!="function"&&(!!n&&s.includes(e)||dR(e)),A=!!r&&PE(e);return a||o||A},yt=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var a;nre((a=n)===null||a===void 0?void 0:a[s],s,e,r)&&(i[s]=n[s])}),i},ire=["children","width","height","viewBox","className","style","title","desc"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pb.apply(null,arguments)}function sre(t,e){if(t==null)return{};var r,n,i=are(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function are(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var QE=x.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:o,title:A,desc:l}=t,u=sre(t,ire),d=s||{width:n,height:i,x:0,y:0},f=Ge("recharts-surface",a);return x.createElement("svg",Pb({},yt(u,!0,"svg"),{className:f,width:n,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:e}),x.createElement("title",null,A),x.createElement("desc",null,l),r)}),ore=["children","className"];function Nb(){return Nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nb.apply(null,arguments)}function Are(t,e){if(t==null)return{};var r,n,i=lre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function lre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Rr=x.forwardRef((t,e)=>{var{children:r,className:n}=t,i=Are(t,ore),s=Ge("recharts-layer",n);return x.createElement("g",Nb({className:s},yt(i,!0),{ref:e}),r)}),gR=x.createContext(null),ure=()=>x.useContext(gR);function ot(t){return function(){return t}}const pR=Math.cos,dm=Math.sin,bi=Math.sqrt,fm=Math.PI,uv=2*fm,Qb=Math.PI,kb=2*Qb,Fo=1e-6,cre=kb-Fo;function mR(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function dre(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return mR;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class fre{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?mR:dre(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,A=n-e,l=i-r,u=a-e,d=o-r,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>Fo)if(!(Math.abs(d*A-l*u)>Fo)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-a,p=i-o,m=A*A+l*l,v=g*g+p*p,y=Math.sqrt(m),w=Math.sqrt(f),B=s*Math.tan((Qb-Math.acos((m+f-v)/(2*y*w)))/2),I=B/w,T=B/y;Math.abs(I-1)>Fo&&this._append`L${e+I*u},${r+I*d}`,this._append`A${s},${s},0,0,${+(d*g>u*p)},${this._x1=e+T*A},${this._y1=r+T*l}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),A=n*Math.sin(i),l=e+o,u=r+A,d=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>Fo||Math.abs(this._y1-u)>Fo)&&this._append`L${l},${u}`,n&&(f<0&&(f=f%kb+kb),f>cre?this._append`A${n},${n},0,1,${d},${e-o},${r-A}A${n},${n},0,1,${d},${this._x1=l},${this._y1=u}`:f>Fo&&this._append`A${n},${n},0,${+(f>=Qb)},${d},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function kE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new fre(e)}function OE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vR(t){this._context=t}vR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function cv(t){return new vR(t)}function yR(t){return t[0]}function wR(t){return t[1]}function xR(t,e){var r=ot(!0),n=null,i=cv,s=null,a=kE(o);t=typeof t=="function"?t:t===void 0?yR:ot(t),e=typeof e=="function"?e:e===void 0?wR:ot(e);function o(A){var l,u=(A=OE(A)).length,d,f=!1,g;for(n==null&&(s=i(g=a())),l=0;l<=u;++l)!(l<u&&r(d=A[l],l,A))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(d,l,A),+e(d,l,A));if(g)return s=null,g+""||null}return o.x=function(A){return arguments.length?(t=typeof A=="function"?A:ot(+A),o):t},o.y=function(A){return arguments.length?(e=typeof A=="function"?A:ot(+A),o):e},o.defined=function(A){return arguments.length?(r=typeof A=="function"?A:ot(!!A),o):r},o.curve=function(A){return arguments.length?(i=A,n!=null&&(s=i(n)),o):i},o.context=function(A){return arguments.length?(A==null?n=s=null:s=i(n=A),o):n},o}function fg(t,e,r){var n=null,i=ot(!0),s=null,a=cv,o=null,A=kE(l);t=typeof t=="function"?t:t===void 0?yR:ot(+t),e=typeof e=="function"?e:ot(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?wR:ot(+r);function l(d){var f,g,p,m=(d=OE(d)).length,v,y=!1,w,B=new Array(m),I=new Array(m);for(s==null&&(o=a(w=A())),f=0;f<=m;++f){if(!(f<m&&i(v=d[f],f,d))===y)if(y=!y)g=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=f-1;p>=g;--p)o.point(B[p],I[p]);o.lineEnd(),o.areaEnd()}y&&(B[f]=+t(v,f,d),I[f]=+e(v,f,d),o.point(n?+n(v,f,d):B[f],r?+r(v,f,d):I[f]))}if(w)return o=null,w+""||null}function u(){return xR().defined(i).curve(a).context(s)}return l.x=function(d){return arguments.length?(t=typeof d=="function"?d:ot(+d),n=null,l):t},l.x0=function(d){return arguments.length?(t=typeof d=="function"?d:ot(+d),l):t},l.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ot(+d),l):n},l.y=function(d){return arguments.length?(e=typeof d=="function"?d:ot(+d),r=null,l):e},l.y0=function(d){return arguments.length?(e=typeof d=="function"?d:ot(+d),l):e},l.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ot(+d),l):r},l.lineX0=l.lineY0=function(){return u().x(t).y(e)},l.lineY1=function(){return u().x(t).y(r)},l.lineX1=function(){return u().x(n).y(e)},l.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ot(!!d),l):i},l.curve=function(d){return arguments.length?(a=d,s!=null&&(o=a(s)),l):a},l.context=function(d){return arguments.length?(d==null?s=o=null:o=a(s=d),l):s},l}class bR{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function hre(t){return new bR(t,!0)}function gre(t){return new bR(t,!1)}const DE={draw(t,e){const r=bi(e/fm);t.moveTo(r,0),t.arc(0,0,r,0,uv)}},pre={draw(t,e){const r=bi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},BR=bi(1/3),mre=BR*2,vre={draw(t,e){const r=bi(e/mre),n=r*BR;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},yre={draw(t,e){const r=bi(e),n=-r/2;t.rect(n,n,r,r)}},wre=.8908130915292852,CR=dm(fm/10)/dm(7*fm/10),xre=dm(uv/10)*CR,bre=-pR(uv/10)*CR,Bre={draw(t,e){const r=bi(e*wre),n=xre*r,i=bre*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=uv*s/5,o=pR(a),A=dm(a);t.lineTo(A*r,-o*r),t.lineTo(o*n-A*i,A*n+o*i)}t.closePath()}},cw=bi(3),Cre={draw(t,e){const r=-bi(e/(cw*3));t.moveTo(0,r*2),t.lineTo(-cw*r,-r),t.lineTo(cw*r,-r),t.closePath()}},kn=-.5,On=bi(3)/2,Ob=1/bi(12),Ere=(Ob/2+1)*3,_re={draw(t,e){const r=bi(e/Ere),n=r/2,i=r*Ob,s=n,a=r*Ob+r,o=-s,A=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,A),t.lineTo(kn*n-On*i,On*n+kn*i),t.lineTo(kn*s-On*a,On*s+kn*a),t.lineTo(kn*o-On*A,On*o+kn*A),t.lineTo(kn*n+On*i,kn*i-On*n),t.lineTo(kn*s+On*a,kn*a-On*s),t.lineTo(kn*o+On*A,kn*A-On*o),t.closePath()}};function Ire(t,e){let r=null,n=kE(i);t=typeof t=="function"?t:ot(t||DE),e=typeof e=="function"?e:ot(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:ot(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:ot(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function hm(){}function gm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function ER(t){this._context=t}ER.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Sre(t){return new ER(t)}function _R(t){this._context=t}_R.prototype={areaStart:hm,areaEnd:hm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tre(t){return new _R(t)}function IR(t){this._context=t}IR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fre(t){return new IR(t)}function SR(t){this._context=t}SR.prototype={areaStart:hm,areaEnd:hm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ure(t){return new SR(t)}function FF(t){return t<0?-1:1}function UF(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(FF(s)+FF(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function PF(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function dw(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function pm(t){this._context=t}pm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dw(this,this._t0,PF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,dw(this,PF(this,r=UF(this,t,e)),r);break;default:dw(this,this._t0,r=UF(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function TR(t){this._context=new FR(t)}(TR.prototype=Object.create(pm.prototype)).point=function(t,e){pm.prototype.point.call(this,e,t)};function FR(t){this._context=t}FR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function Pre(t){return new pm(t)}function Nre(t){return new TR(t)}function UR(t){this._context=t}UR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=NF(t),i=NF(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function NF(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Qre(t){return new UR(t)}function dv(t,e){this._context=t,this._t=e}dv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function kre(t){return new dv(t,.5)}function Ore(t){return new dv(t,0)}function Dre(t){return new dv(t,1)}function ou(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Db(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function jre(t,e){return t[e]}function Rre(t){const e=[];return e.key=t,e}function Mre(){var t=ot([]),e=Db,r=ou,n=jre;function i(s){var a=Array.from(t.apply(this,arguments),Rre),o,A=a.length,l=-1,u;for(const d of s)for(o=0,++l;o<A;++o)(a[o][l]=[0,+n(d,a[o].key,l,s)]).data=d;for(o=0,u=OE(e(a));o<A;++o)a[u[o]].index=o;return r(a,u),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:ot(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:ot(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?Db:typeof s=="function"?s:ot(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??ou,i):r},i}function Lre(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}ou(t,e)}}function Hre(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}ou(t,e)}}function Vre(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,A=0,l=0;o<a;++o){for(var u=t[e[o]],d=u[n][1]||0,f=u[n-1][1]||0,g=(d-f)/2,p=0;p<o;++p){var m=t[e[p]],v=m[n][1]||0,y=m[n-1][1]||0;g+=v-y}A+=d,l+=g*d}i[n-1][1]+=i[n-1][0]=r,A&&(r-=l/A)}i[n-1][1]+=i[n-1][0]=r,ou(t,e)}}var Kre=["type","size","sizeType"];function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jb.apply(null,arguments)}function QF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QF(Object(r),!0).forEach(function(n){$re(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $re(t,e,r){return(e=Gre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gre(t){var e=zre(t,"string");return typeof e=="symbol"?e:e+""}function zre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wre(t,e){if(t==null)return{};var r,n,i=Yre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Yre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var PR={symbolCircle:DE,symbolCross:pre,symbolDiamond:vre,symbolSquare:yre,symbolStar:Bre,symbolTriangle:Cre,symbolWye:_re},Xre=Math.PI/180,qre=t=>{var e="symbol".concat(kf(t));return PR[e]||DE},Jre=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*Xre;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Zre=(t,e)=>{PR["symbol".concat(kf(t))]=e},jE=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=Wre(t,Kre),s=kF(kF({},i),{},{type:e,size:r,sizeType:n}),a=()=>{var d=qre(e),f=Ire().type(d).size(Jre(r,n,e));return f()},{className:o,cx:A,cy:l}=s,u=yt(s,!0);return A===+A&&l===+l&&r===+r?x.createElement("path",jb({},u,{className:Ge("recharts-symbols",o),transform:"translate(".concat(A,", ").concat(l,")"),d:a()})):null};jE.registerSymbol=Zre;function Rb(){return Rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rb.apply(null,arguments)}function OF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ene(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OF(Object(r),!0).forEach(function(n){RE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RE(t,e,r){return(e=tne(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tne(t){var e=rne(t,"string");return typeof e=="symbol"?e:e+""}function rne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ai=32;class ME extends x.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,i=Ai/2,s=Ai/6,a=Ai/3,o=e.inactive?n:e.color,A=r??e.type;if(A==="none")return null;if(A==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Ai,y2:i,className:"recharts-legend-icon"});if(A==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(Ai,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(A==="rect")return x.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ai/8,"h").concat(Ai,"v").concat(Ai*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(x.isValidElement(e.legendIcon)){var l=ene({},e);return delete l.legendIcon,x.cloneElement(e.legendIcon,l)}return x.createElement(jE,{fill:o,cx:i,cy:i,size:Ai,sizeType:"diameter",type:A})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:a}=this.props,o={x:0,y:0,width:Ai,height:Ai},A={display:n==="horizontal"?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,d)=>{var f=u.formatter||i,g=Ge({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:u.inactive});if(u.type==="none")return null;var p=u.inactive?s:u.color,m=f?f(u.value,u,d):u.value;return x.createElement("li",Rb({className:g,style:A,key:"legend-item-".concat(d)},Of(this.props,u,d)),x.createElement(QE,{width:r,height:r,viewBox:o,style:l,"aria-label":"".concat(m," legend icon")},this.renderIcon(u,a)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},m))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}RE(ME,"displayName","Legend");RE(ME,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var NR={},QR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],o=n(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(QR);var LE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(LE);var kR={},fv={},OR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(OR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OR;function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(fv);var DR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(DR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fv,r=DR;function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(kR);var jR={},RR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J0;function r(n){return function(i){return e.get(i,n)}}t.property=r})(RR);var MR={},fw={},hw={},HE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(HE);var VE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(VE);var hv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(hv);var DF;function nne(){return DF||(DF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KE(),r=HE,n=VE,i=hv;function s(d,f,g){return typeof g!="function"?e.isMatch(d,f):a(d,f,function p(m,v,y,w,B,I){const T=g(m,v,y,w,B,I);return T!==void 0?!!T:a(m,v,p,I)},new Map)}function a(d,f,g,p){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,g,p);case"function":return Object.keys(f).length>0?a(d,{...f},g,p):i.eq(d,f);default:return r.isObject(d)?typeof f=="string"?f==="":!0:i.eq(d,f)}}function o(d,f,g,p){if(f==null)return!0;if(Array.isArray(f))return l(d,f,g,p);if(f instanceof Map)return A(d,f,g,p);if(f instanceof Set)return u(d,f,g,p);const m=Object.keys(f);if(d==null)return m.length===0;if(m.length===0)return!0;if(p&&p.has(f))return p.get(f)===d;p&&p.set(f,d);try{for(let v=0;v<m.length;v++){const y=m[v];if(!n.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!g(d[y],f[y],y,d,f,p))return!1}return!0}finally{p&&p.delete(f)}}function A(d,f,g,p){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[m,v]of f.entries()){const y=d.get(m);if(g(y,v,m,d,f,p)===!1)return!1}return!0}function l(d,f,g,p){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const m=new Set;for(let v=0;v<f.length;v++){const y=f[v];let w=!1;for(let B=0;B<d.length;B++){if(m.has(B))continue;const I=d[B];let T=!1;if(g(I,y,v,d,f,p)&&(T=!0),T){m.add(B),w=!0;break}}if(!w)return!1}return!0}function u(d,f,g,p){return f.size===0?!0:d instanceof Set?l([...d],[...f],g,p):!1}t.isMatchWith=s,t.isSetMatch=u}(hw)),hw}var jF;function KE(){return jF||(jF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nne();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r}(fw)),fw}var LR={},$E={},GE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(GE);var gv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(gv);var pv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",A="[object Map]",l="[object Set]",u="[object Array]",d="[object Function]",f="[object ArrayBuffer]",g="[object Object]",p="[object Error]",m="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",w="[object Uint16Array]",B="[object Uint32Array]",I="[object BigUint64Array]",T="[object Int8Array]",F="[object Int16Array]",C="[object Int32Array]",_="[object BigInt64Array]",S="[object Float32Array]",P="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=f,t.arrayTag=u,t.bigInt64ArrayTag=_,t.bigUint64ArrayTag=I,t.booleanTag=i,t.dataViewTag=m,t.dateTag=o,t.errorTag=p,t.float32ArrayTag=S,t.float64ArrayTag=P,t.functionTag=d,t.int16ArrayTag=F,t.int32ArrayTag=C,t.int8ArrayTag=T,t.mapTag=A,t.numberTag=n,t.objectTag=g,t.regexpTag=e,t.setTag=l,t.stringTag=r,t.symbolTag=a,t.uint16ArrayTag=w,t.uint32ArrayTag=B,t.uint8ArrayTag=v,t.uint8ClampedArrayTag=y})(pv);var HR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(HR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GE,r=gv,n=pv,i=VE,s=HR;function a(u,d){return o(u,void 0,u,new Map,d)}function o(u,d,f,g=new Map,p=void 0){const m=p==null?void 0:p(u,d,f,g);if(m!=null)return m;if(i.isPrimitive(u))return u;if(g.has(u))return g.get(u);if(Array.isArray(u)){const v=new Array(u.length);g.set(u,v);for(let y=0;y<u.length;y++)v[y]=o(u[y],y,f,g,p);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;g.set(u,v);for(const[y,w]of u)v.set(y,o(w,y,f,g,p));return v}if(u instanceof Set){const v=new Set;g.set(u,v);for(const y of u)v.add(o(y,void 0,f,g,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(s.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);g.set(u,v);for(let y=0;y<u.length;y++)v[y]=o(u[y],y,f,g,p);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return g.set(u,v),A(v,u,f,g,p),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return g.set(u,v),A(v,u,f,g,p),v}if(u instanceof Blob){const v=new Blob([u],{type:u.type});return g.set(u,v),A(v,u,f,g,p),v}if(u instanceof Error){const v=new u.constructor;return g.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,A(v,u,f,g,p),v}if(typeof u=="object"&&l(u)){const v=Object.create(Object.getPrototypeOf(u));return g.set(u,v),A(v,u,f,g,p),v}return u}function A(u,d,f=u,g,p){const m=[...Object.keys(d),...e.getSymbols(d)];for(let v=0;v<m.length;v++){const y=m[v],w=Object.getOwnPropertyDescriptor(u,y);(w==null||w.writable)&&(u[y]=o(d[y],y,f,g,p))}}function l(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=A})($E);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$E;function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(LR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KE(),r=LR;function n(i){return i=r.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=n})(MR);var VR={},KR={},$R={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$E,r=pv;function n(i,s){return e.cloneDeepWith(i,(a,o,A,l)=>{const u=s==null?void 0:s(a,o,A,l);if(u!=null)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(d,i),d}case r.argumentsTag:{const d={};return e.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}t.cloneDeepWith=n})($R);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$R;function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(KR);var GR={},zE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(zE);var zR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gv;function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(zR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SE,r=zE,n=zR,i=Z0;function s(a,o){let A;if(Array.isArray(o)?A=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?A=i.toPath(o):A=[o],A.length===0)return!1;let l=a;for(let u=0;u<A.length;u++){const d=A[u];if((l==null||!Object.hasOwn(l,d))&&!((Array.isArray(l)||n.isArguments(l))&&r.isIndex(d)&&d<l.length))return!1;l=l[d]}return!0}t.has=s})(GR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KE(),r=TE,n=KR,i=J0,s=GR;function a(o,A){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return A=n.cloneDeep(A),function(l){const u=i.get(l,o);return u===void 0?s.has(l,o):A===void 0?u===void 0:e.isMatch(u,A)}}t.matchesProperty=a})(VR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LE,r=RR,n=MR,i=VR;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}t.iteratee=s})(jR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QR,r=LE,n=kR,i=jR;function s(a,o=r.identity){return n.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}t.uniqBy=s})(NR);var ine=NR.uniqBy;const RF=Vi(ine);function WR(t,e,r){return e===!0?RF(t,r):typeof e=="function"?RF(t,e):t}var YR={exports:{}},XR={},qR={exports:{}},JR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au=x;function sne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ane=typeof Object.is=="function"?Object.is:sne,one=Au.useState,Ane=Au.useEffect,lne=Au.useLayoutEffect,une=Au.useDebugValue;function cne(t,e){var r=e(),n=one({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return lne(function(){i.value=r,i.getSnapshot=e,gw(i)&&s({inst:i})},[t,r,e]),Ane(function(){return gw(i)&&s({inst:i}),t(function(){gw(i)&&s({inst:i})})},[t]),une(r),r}function gw(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ane(t,r)}catch{return!0}}function dne(t,e){return e()}var fne=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dne:cne;JR.useSyncExternalStore=Au.useSyncExternalStore!==void 0?Au.useSyncExternalStore:fne;qR.exports=JR;var hne=qR.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv=x,gne=hne;function pne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mne=typeof Object.is=="function"?Object.is:pne,vne=gne.useSyncExternalStore,yne=mv.useRef,wne=mv.useEffect,xne=mv.useMemo,bne=mv.useDebugValue;XR.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=yne(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=xne(function(){function A(g){if(!l){if(l=!0,u=g,g=n(g),i!==void 0&&a.hasValue){var p=a.value;if(i(p,g))return d=p}return d=g}if(p=d,mne(u,g))return p;var m=n(g);return i!==void 0&&i(p,m)?(u=g,p):(u=g,d=m)}var l=!1,u,d,f=r===void 0?null:r;return[function(){return A(e())},f===null?void 0:function(){return A(f())}]},[e,r,n,i]);var o=vne(t,s[0],s[1]);return wne(function(){a.hasValue=!0,a.value=o},[o]),bne(o),o};YR.exports=XR;var Bne=YR.exports,WE=x.createContext(null),Cne=t=>t,Tt=()=>{var t=x.useContext(WE);return t?t.store.dispatch:Cne},sp=()=>{},Ene=()=>sp,_ne=(t,e)=>t===e;function ye(t){var e=x.useContext(WE);return Bne.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Ene,e?e.store.getState:sp,e?e.store.getState:sp,e?t:sp,_ne)}function Ine(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Sne(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Tne(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var MF=t=>Array.isArray(t)?t:[t];function Fne(t){const e=Array.isArray(t[0])?t[0]:t;return Tne(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Une(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var Pne=class{constructor(t){this.value=t}deref(){return this.value}},Nne=typeof WeakRef<"u"?WeakRef:Pne,Qne=0,LF=1;function hg(){return{s:Qne,v:void 0,o:null,p:null}}function ZR(t,e={}){let r=hg();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var d;let o=r;const{length:A}=arguments;for(let f=0,g=A;f<g;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=o.o;m===null&&(o.o=m=new WeakMap);const v=m.get(p);v===void 0?(o=hg(),m.set(p,o)):o=v}else{let m=o.p;m===null&&(o.p=m=new Map);const v=m.get(p);v===void 0?(o=hg(),m.set(p,o)):o=v}}const l=o;let u;if(o.s===LF)u=o.v;else if(u=t.apply(null,arguments),s++,n){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&n(f,u)&&(u=f,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new Nne(u):u}return l.s=LF,l.v=u,u}return a.clearCache=()=>{r=hg(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function kne(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,o,A={},l=i.pop();typeof l=="object"&&(A=l,l=i.pop()),Ine(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const u={...r,...A},{memoize:d,memoizeOptions:f=[],argsMemoize:g=ZR,argsMemoizeOptions:p=[],devModeChecks:m={}}=u,v=MF(f),y=MF(p),w=Fne(i),B=d(function(){return s++,l.apply(null,arguments)},...v),I=g(function(){a++;const F=Une(w,arguments);return o=B.apply(null,F),o},...y);return Object.assign(I,{resultFunc:l,memoizedResultFunc:B,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var G=kne(ZR),One=Object.assign((t,e=G)=>{Sne(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,o,A)=>(a[r[A]]=o,a),{}))},{withTypes:()=>One}),eM={},tM={},rM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=e(n),o=e(i);if(a===o&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=r})(rM);var nM={},YE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(YE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YE,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(nM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rM,r=nM,n=Z0;function i(s,a,o,A){if(s==null)return[];o=A?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(g=>String(g));const l=(g,p)=>{let m=g;for(let v=0;v<p.length&&m!=null;++v)m=m[p[v]];return m},u=(g,p)=>p==null||g==null?p:typeof g=="object"&&"key"in g?Object.hasOwn(p,g.key)?p[g.key]:l(p,g.path):typeof g=="function"?g(p):Array.isArray(g)?l(p,g):typeof p=="object"?p[g]:p,d=a.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return s.map(g=>({original:g,criteria:d.map(p=>u(p,g))})).slice().sort((g,p)=>{for(let m=0;m<d.length;m++){const v=e.compareValues(g.criteria[m],p.criteria[m],o[m]);if(v!==0)return v}return 0}).map(g=>g.original)}t.orderBy=i})(tM);var iM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],s=Math.floor(n),a=(o,A)=>{for(let l=0;l<o.length;l++){const u=o[l];Array.isArray(u)&&A<s?a(u,A+1):i.push(u)}};return a(r,0),i}t.flatten=e})(iM);var XE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zE,r=fv,n=HE,i=hv;function s(a,o,A){return n.isObject(A)&&(typeof o=="number"&&r.isArrayLike(A)&&e.isIndex(o)&&o<A.length||typeof o=="string"&&o in A)?i.eq(A[o],a):!1}t.isIterateeCall=s})(XE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tM,r=iM,n=XE;function i(s,...a){const o=a.length;return o>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,r.flatten(a),["asc"])}t.sortBy=i})(eM);var Dne=eM.sortBy;const vv=Vi(Dne);var sM=t=>t.legend.settings,jne=t=>t.legend.size,Rne=t=>t.legend.payload,Mne=G([Rne,sM],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?vv(n,r):n});function Lne(){return ye(Mne)}var gg=1;function aM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>gg||Math.abs(a.left-e.left)>gg||Math.abs(a.top-e.top)>gg||Math.abs(a.width-e.width)>gg)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function gr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Hne=typeof Symbol=="function"&&Symbol.observable||"@@observable",HF=Hne,pw=()=>Math.random().toString(36).substring(7).split("").join("."),Vne={INIT:`@@redux/INIT${pw()}`,REPLACE:`@@redux/REPLACE${pw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${pw()}`},mm=Vne;function qE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function oM(t,e,r){if(typeof t!="function")throw new Error(gr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(gr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(gr(1));return r(oM)(t,e)}let n=t,i=e,s=new Map,a=s,o=0,A=!1;function l(){a===s&&(a=new Map,s.forEach((v,y)=>{a.set(y,v)}))}function u(){if(A)throw new Error(gr(3));return i}function d(v){if(typeof v!="function")throw new Error(gr(4));if(A)throw new Error(gr(5));let y=!0;l();const w=o++;return a.set(w,v),function(){if(y){if(A)throw new Error(gr(6));y=!1,l(),a.delete(w),s=null}}}function f(v){if(!qE(v))throw new Error(gr(7));if(typeof v.type>"u")throw new Error(gr(8));if(typeof v.type!="string")throw new Error(gr(17));if(A)throw new Error(gr(9));try{A=!0,i=n(i,v)}finally{A=!1}return(s=a).forEach(w=>{w()}),v}function g(v){if(typeof v!="function")throw new Error(gr(10));n=v,f({type:mm.REPLACE})}function p(){const v=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(gr(11));function w(){const I=y;I.next&&I.next(u())}return w(),{unsubscribe:v(w)}},[HF](){return this}}}return f({type:mm.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:g,[HF]:p}}function Kne(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:mm.INIT})>"u")throw new Error(gr(12));if(typeof r(void 0,{type:mm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gr(13))})}function AM(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{Kne(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let A=!1;const l={};for(let u=0;u<n.length;u++){const d=n[u],f=r[d],g=a[d],p=f(g,o);if(typeof p>"u")throw o&&o.type,new Error(gr(14));l[d]=p,A=A||p!==g}return A=A||n.length!==Object.keys(a).length,A?l:a}}function vm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function $ne(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(gr(15))};const a={getState:i.getState,dispatch:(A,...l)=>s(A,...l)},o=t.map(A=>A(a));return s=vm(...o)(i.dispatch),{...i,dispatch:s}}}function lM(t){return qE(t)&&"type"in t&&typeof t.type=="string"}var uM=Symbol.for("immer-nothing"),VF=Symbol.for("immer-draftable"),In=Symbol.for("immer-state");function gi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var lu=Object.getPrototypeOf;function vA(t){return!!t&&!!t[In]}function Ns(t){var e;return t?cM(t)||Array.isArray(t)||!!t[VF]||!!((e=t.constructor)!=null&&e[VF])||wv(t)||xv(t):!1}var Gne=Object.prototype.constructor.toString();function cM(t){if(!t||typeof t!="object")return!1;const e=lu(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Gne}function ym(t,e){yv(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function yv(t){const e=t[In];return e?e.type_:Array.isArray(t)?1:wv(t)?2:xv(t)?3:0}function Mb(t,e){return yv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function dM(t,e,r){const n=yv(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function zne(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function wv(t){return t instanceof Map}function xv(t){return t instanceof Set}function Uo(t){return t.copy_||t.base_}function Lb(t,e){if(wv(t))return new Map(t);if(xv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=cM(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[In];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(lu(t),n)}else{const n=lu(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function JE(t,e=!1){return bv(t)||vA(t)||!Ns(t)||(yv(t)>1&&(t.set=t.add=t.clear=t.delete=Wne),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>JE(n,!0))),t}function Wne(){gi(2)}function bv(t){return Object.isFrozen(t)}var Yne={};function yA(t){const e=Yne[t];return e||gi(0,t),e}var sf;function fM(){return sf}function Xne(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function KF(t,e){e&&(yA("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Hb(t){Vb(t),t.drafts_.forEach(qne),t.drafts_=null}function Vb(t){t===sf&&(sf=t.parent_)}function $F(t){return sf=Xne(sf,t)}function qne(t){const e=t[In];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function GF(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[In].modified_&&(Hb(e),gi(4)),Ns(t)&&(t=wm(e,t),e.parent_||xm(e,t)),e.patches_&&yA("Patches").generateReplacementPatches_(r[In].base_,t,e.patches_,e.inversePatches_)):t=wm(e,r,[]),Hb(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==uM?t:void 0}function wm(t,e,r){if(bv(e))return e;const n=e[In];if(!n)return ym(e,(i,s)=>zF(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return xm(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),ym(s,(o,A)=>zF(t,n,i,o,A,r,a)),xm(t,i,!1),r&&t.patches_&&yA("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function zF(t,e,r,n,i,s,a){if(vA(i)){const o=s&&e&&e.type_!==3&&!Mb(e.assigned_,n)?s.concat(n):void 0,A=wm(t,i,o);if(dM(r,n,A),vA(A))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Ns(i)&&!bv(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;wm(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&xm(t,i)}}function xm(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&JE(e,r)}function Jne(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:fM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=ZE;r&&(i=[n],s=af);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var ZE={get(t,e){if(e===In)return t;const r=Uo(t);if(!Mb(r,e))return Zne(t,r,e);const n=r[e];return t.finalized_||!Ns(n)?n:n===mw(t.base_,e)?(vw(t),t.copy_[e]=$b(n,t)):n},has(t,e){return e in Uo(t)},ownKeys(t){return Reflect.ownKeys(Uo(t))},set(t,e,r){const n=hM(Uo(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=mw(Uo(t),e),s=i==null?void 0:i[In];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(zne(r,i)&&(r!==void 0||Mb(t.base_,e)))return!0;vw(t),Kb(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return mw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,vw(t),Kb(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Uo(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){gi(11)},getPrototypeOf(t){return lu(t.base_)},setPrototypeOf(){gi(12)}},af={};ym(ZE,(t,e)=>{af[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});af.deleteProperty=function(t,e){return af.set.call(this,t,e,void 0)};af.set=function(t,e,r){return ZE.set.call(this,t[0],e,r,t[0])};function mw(t,e){const r=t[In];return(r?Uo(r):t)[e]}function Zne(t,e,r){var i;const n=hM(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function hM(t,e){if(!(e in t))return;let r=lu(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=lu(r)}}function Kb(t){t.modified_||(t.modified_=!0,t.parent_&&Kb(t.parent_))}function vw(t){t.copy_||(t.copy_=Lb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var eie=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(A=s,...l){return a.produce(A,u=>r.call(this,u,...l))}}typeof r!="function"&&gi(6),n!==void 0&&typeof n!="function"&&gi(7);let i;if(Ns(e)){const s=$F(this),a=$b(e,void 0);let o=!0;try{i=r(a),o=!1}finally{o?Hb(s):Vb(s)}return KF(s,n),GF(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===uM&&(i=void 0),this.autoFreeze_&&JE(i,!0),n){const s=[],a=[];yA("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else gi(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,A=>e(A,...o));let n,i;return[this.produce(e,r,(a,o)=>{n=a,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ns(t)||gi(8),vA(t)&&(t=Bs(t));const e=$F(this),r=$b(t,void 0);return r[In].isManual_=!0,Vb(e),r}finishDraft(t,e){const r=t&&t[In];(!r||!r.isManual_)&&gi(9);const{scope_:n}=r;return KF(n,e),GF(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=yA("Patches").applyPatches_;return vA(t)?n(t,e):this.produce(t,i=>n(i,e))}};function $b(t,e){const r=wv(t)?yA("MapSet").proxyMap_(t,e):xv(t)?yA("MapSet").proxySet_(t,e):Jne(t,e);return(e?e.scope_:fM()).drafts_.push(r),r}function Bs(t){return vA(t)||gi(10,t),gM(t)}function gM(t){if(!Ns(t)||bv(t))return t;const e=t[In];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Lb(t,e.scope_.immer_.useStrictShallowCopy_)}else r=Lb(t,!0);return ym(r,(n,i)=>{dM(r,n,gM(i))}),e&&(e.finalized_=!1),r}var Sn=new eie,pM=Sn.produce;Sn.produceWithPatches.bind(Sn);Sn.setAutoFreeze.bind(Sn);Sn.setUseStrictShallowCopy.bind(Sn);Sn.applyPatches.bind(Sn);Sn.createDraft.bind(Sn);Sn.finishDraft.bind(Sn);function mM(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var tie=mM(),rie=mM,nie=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vm:vm.apply(null,arguments)};function ri(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Bn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>lM(n)&&n.type===t,r}var vM=class Wc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Wc.prototype)}static get[Symbol.species](){return Wc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Wc(...e[0].concat(this)):new Wc(...e.concat(this))}};function WF(t){return Ns(t)?pM(t,()=>{}):t}function pg(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function iie(t){return typeof t=="boolean"}var sie=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new vM;return r&&(iie(r)?a.push(tie):a.push(rie(r.extraArgument))),a},aie="RTK_autoBatch",YF=t=>e=>{setTimeout(e,t)},oie=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const o=new Set,A=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:YF(10):t.type==="callback"?t.queueNotification:YF(t.timeout),l=()=>{a=!1,s&&(s=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const d=()=>i&&u(),f=n.subscribe(d);return o.add(u),()=>{f(),o.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[aie]),s=!i,s&&(a||(a=!0,A(l))),n.dispatch(u)}finally{i=!0}}})},Aie=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new vM(t);return n&&i.push(oie(typeof n=="object"?n:void 0)),i};function lie(t){const e=sie(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:s=!0,preloadedState:a=void 0,enhancers:o=void 0}=t;let A;if(typeof r=="function")A=r;else if(qE(r))A=AM(r);else throw new Error(Bn(1));let l;typeof n=="function"?l=n(e):l=e();let u=vm;i&&(u=nie({trace:!1,...typeof i=="object"&&i}));const d=$ne(...l),f=Aie(d);let g=typeof o=="function"?o(f):f();const p=u(...g);return oM(A,a,p)}function yM(t){const e={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Bn(28));if(o in e)throw new Error(Bn(29));return e[o]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function uie(t){return typeof t=="function"}function cie(t,e){let[r,n,i]=yM(e),s;if(uie(t))s=()=>WF(t());else{const o=WF(t);s=()=>o}function a(o=s(),A){let l=[r[A.type],...n.filter(({matcher:u})=>u(A)).map(({reducer:u})=>u)];return l.filter(u=>!!u).length===0&&(l=[i]),l.reduce((u,d)=>{if(d)if(vA(u)){const g=d(u,A);return g===void 0?u:g}else{if(Ns(u))return pM(u,f=>d(f,A));{const f=d(u,A);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},o)}return a.getInitialState=s,a}var die="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",fie=(t=21)=>{let e="",r=t;for(;r--;)e+=die[Math.random()*64|0];return e},hie=Symbol.for("rtk-slice-createasyncthunk");function gie(t,e){return`${t}/${e}`}function pie({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[hie];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Bn(11));const o=(typeof i.reducers=="function"?i.reducers(vie()):i.reducers)||{},A=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(I,T){const F=typeof I=="string"?I:I.type;if(!F)throw new Error(Bn(12));if(F in l.sliceCaseReducersByType)throw new Error(Bn(13));return l.sliceCaseReducersByType[F]=T,u},addMatcher(I,T){return l.sliceMatchers.push({matcher:I,reducer:T}),u},exposeAction(I,T){return l.actionCreators[I]=T,u},exposeCaseReducer(I,T){return l.sliceCaseReducersByName[I]=T,u}};A.forEach(I=>{const T=o[I],F={reducerName:I,type:gie(s,I),createNotation:typeof i.reducers=="function"};wie(T)?bie(F,T,u,e):yie(F,T,u)});function d(){const[I={},T=[],F=void 0]=typeof i.extraReducers=="function"?yM(i.extraReducers):[i.extraReducers],C={...I,...l.sliceCaseReducersByType};return cie(i.initialState,_=>{for(let S in C)_.addCase(S,C[S]);for(let S of l.sliceMatchers)_.addMatcher(S.matcher,S.reducer);for(let S of T)_.addMatcher(S.matcher,S.reducer);F&&_.addDefaultCase(F)})}const f=I=>I,g=new Map,p=new WeakMap;let m;function v(I,T){return m||(m=d()),m(I,T)}function y(){return m||(m=d()),m.getInitialState()}function w(I,T=!1){function F(_){let S=_[I];return typeof S>"u"&&T&&(S=pg(p,F,y)),S}function C(_=f){const S=pg(g,T,()=>new WeakMap);return pg(S,_,()=>{const P={};for(const[Q,k]of Object.entries(i.selectors??{}))P[Q]=mie(k,_,()=>pg(p,_,y),T);return P})}return{reducerPath:I,getSelectors:C,get selectors(){return C(F)},selectSlice:F}}const B={name:s,reducer:v,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:y,...w(a),injectInto(I,{reducerPath:T,...F}={}){const C=T??a;return I.inject({reducerPath:C,reducer:v},F),{...B,...w(C,!0)}}};return B}}function mie(t,e,r,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=r()),t(o,...a)}return i.unwrapped=t,i}var Pn=pie();function vie(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function yie({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!xie(n))throw new Error(Bn(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?ri(t,a):ri(t))}function wie(t){return t._reducerDefinitionType==="asyncThunk"}function xie(t){return t._reducerDefinitionType==="reducerWithPrepare"}function bie({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Bn(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:A,settled:l,options:u}=r,d=i(t,s,u);n.exposeAction(e,d),a&&n.addCase(d.fulfilled,a),o&&n.addCase(d.pending,o),A&&n.addCase(d.rejected,A),l&&n.addMatcher(d.settled,l),n.exposeCaseReducer(e,{fulfilled:a||mg,pending:o||mg,rejected:A||mg,settled:l||mg})}function mg(){}var Bie="task",wM="listener",xM="completed",e1="cancelled",Cie=`task-${e1}`,Eie=`task-${xM}`,Gb=`${wM}-${e1}`,_ie=`${wM}-${xM}`,Bv=class{constructor(t){sc(this,"name","TaskAbortError");sc(this,"message");this.code=t,this.message=`${Bie} ${e1} (reason: ${t})`}},t1=(t,e)=>{if(typeof t!="function")throw new TypeError(Bn(32))},bm=()=>{},bM=(t,e=bm)=>(t.catch(e),t),BM=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),eA=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},tA=t=>{if(t.aborted){const{reason:e}=t;throw new Bv(e)}};function CM(t,e){let r=bm;return new Promise((n,i)=>{const s=()=>i(new Bv(t.reason));if(t.aborted){s();return}r=BM(t,s),e.finally(()=>r()).then(n,i)}).finally(()=>{r=bm})}var Iie=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof Bv?"cancelled":"rejected",error:r}}finally{e==null||e()}},Bm=t=>e=>bM(CM(t,e).then(r=>(tA(t),r))),EM=t=>{const e=Bm(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Dl}=Object,XF={},Cv="listenerMiddleware",Sie=(t,e)=>{const r=n=>BM(t,()=>eA(n,t.reason));return(n,i)=>{t1(n);const s=new AbortController;r(s);const a=Iie(async()=>{tA(t),tA(s.signal);const o=await n({pause:Bm(s.signal),delay:EM(s.signal),signal:s.signal});return tA(s.signal),o},()=>eA(s,Eie));return i!=null&&i.autoJoin&&e.push(a.catch(bm)),{result:Bm(t)(a),cancel(){eA(s,Cie)}}}},Tie=(t,e)=>{const r=async(n,i)=>{tA(e);let s=()=>{};const o=[new Promise((A,l)=>{let u=t({predicate:n,effect:(d,f)=>{f.unsubscribe(),A([d,f.getState(),f.getOriginalState()])}});s=()=>{u(),l()}})];i!=null&&o.push(new Promise(A=>setTimeout(A,i,null)));try{const A=await CM(e,Promise.race(o));return tA(e),A}finally{s()}};return(n,i)=>bM(r(n,i))},_M=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=ri(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Bn(21));return t1(s),{predicate:i,type:e,effect:s}},IM=Dl(t=>{const{type:e,predicate:r,effect:n}=_M(t);return{id:fie(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Bn(22))}}},{withTypes:()=>IM}),qF=(t,e)=>{const{type:r,effect:n,predicate:i}=_M(e);return Array.from(t.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},zb=t=>{t.pending.forEach(e=>{eA(e,Gb)})},Fie=t=>()=>{t.forEach(zb),t.clear()},JF=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},SM=Dl(ri(`${Cv}/add`),{withTypes:()=>SM}),Uie=ri(`${Cv}/removeAll`),TM=Dl(ri(`${Cv}/remove`),{withTypes:()=>TM}),Pie=(...t)=>{console.error(`${Cv}/error`,...t)},jf=(t={})=>{const e=new Map,{extra:r,onError:n=Pie}=t;t1(n);const i=u=>(u.unsubscribe=()=>e.delete(u.id),e.set(u.id,u),d=>{u.unsubscribe(),d!=null&&d.cancelActive&&zb(u)}),s=u=>{const d=qF(e,u)??IM(u);return i(d)};Dl(s,{withTypes:()=>s});const a=u=>{const d=qF(e,u);return d&&(d.unsubscribe(),u.cancelActive&&zb(d)),!!d};Dl(a,{withTypes:()=>a});const o=async(u,d,f,g)=>{const p=new AbortController,m=Tie(s,p.signal),v=[];try{u.pending.add(p),await Promise.resolve(u.effect(d,Dl({},f,{getOriginalState:g,condition:(y,w)=>m(y,w).then(Boolean),take:m,delay:EM(p.signal),pause:Bm(p.signal),extra:r,signal:p.signal,fork:Sie(p.signal,v),unsubscribe:u.unsubscribe,subscribe:()=>{e.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((y,w,B)=>{y!==p&&(eA(y,Gb),B.delete(y))})},cancel:()=>{eA(p,Gb),u.pending.delete(p)},throwIfCancelled:()=>{tA(p.signal)}})))}catch(y){y instanceof Bv||JF(n,y,{raisedBy:"effect"})}finally{await Promise.all(v),eA(p,_ie),u.pending.delete(p)}},A=Fie(e);return{middleware:u=>d=>f=>{if(!lM(f))return d(f);if(SM.match(f))return s(f.payload);if(Uie.match(f)){A();return}if(TM.match(f))return a(f.payload);let g=u.getState();const p=()=>{if(g===XF)throw new Error(Bn(23));return g};let m;try{if(m=d(f),e.size>0){const v=u.getState(),y=Array.from(e.values());for(const w of y){let B=!1;try{B=w.predicate(f,v,g)}catch(I){B=!1,JF(n,I,{raisedBy:"predicate"})}B&&o(w,f,u,p)}}}finally{g=XF}return m},startListening:s,stopListening:a,clearListeners:A}};function Bn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Nie={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},FM=Pn({name:"chartLayout",initialState:Nie,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:Qie,setLayout:kie,setChartSize:Oie,setScale:Die}=FM.actions,jie=FM.reducer;function ZF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZF(Object(r),!0).forEach(function(n){Rie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rie(t,e,r){return(e=Mie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mie(t){var e=Lie(t,"string");return typeof e=="symbol"?e:e+""}function Lie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cm=Math.PI/180,Hie=t=>t*180/Math.PI,Kt=(t,e,r,n)=>({x:t+Math.cos(-Cm*n)*r,y:e+Math.sin(-Cm*n)*r}),UM=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Vie=(t,e)=>{var{x:r,y:n}=t,{x:i,y:s}=e;return Math.sqrt((r-i)**2+(n-s)**2)},Kie=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:s}=e,a=Vie({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(r-i)/a,A=Math.acos(o);return n>s&&(A=2*Math.PI-A),{radius:a,angle:Hie(A),angleInRadian:A}},$ie=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:e-s*360,endAngle:r-s*360}},Gie=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return t+a*360},zie=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:s}=Kie({x:r,y:n},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:A,endAngle:l}=$ie(e),u=s,d;if(A<=l){for(;u>l;)u-=360;for(;u<A;)u+=360;d=u>=A&&u<=l}else{for(;u>A;)u-=360;for(;u<l;)u+=360;d=u>=l&&u<=A}return d?eU(eU({},e),{},{radius:i,angle:Gie(u,e)}):null};function PM(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function tU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tU(Object(r),!0).forEach(function(n){Wie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wie(t,e,r){return(e=Yie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yie(t){var e=Xie(t,"string");return typeof e=="symbol"?e:e+""}function Xie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nt(t,e,r){return ht(t)||ht(e)?r:Li(e)?to(t,e,r):typeof e=="function"?e(t):r}var qie=(t,e,r,n,i)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var A=0;A<o;A++){var l=A>0?r[A-1].coordinate:r[o-1].coordinate,u=r[A].coordinate,d=A>=o-1?r[0].coordinate:r[A+1].coordinate,f=void 0;if(ur(u-l)!==ur(d-u)){var g=[];if(ur(d-u)===ur(i[1]-i[0])){f=d;var p=u+i[1]-i[0];g[0]=Math.min(p,(p+l)/2),g[1]=Math.max(p,(p+l)/2)}else{f=l;var m=d+i[1]-i[0];g[0]=Math.min(u,(m+u)/2),g[1]=Math.max(u,(m+u)/2)}var v=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(t>v[0]&&t<=v[1]||t>=g[0]&&t<=g[1]){({index:a}=r[A]);break}}else{var y=Math.min(l,d),w=Math.max(l,d);if(t>(y+u)/2&&t<=(w+u)/2){({index:a}=r[A]);break}}}else if(e){for(var B=0;B<o;B++)if(B===0&&t<=(e[B].coordinate+e[B+1].coordinate)/2||B>0&&B<o-1&&t>(e[B].coordinate+e[B-1].coordinate)/2&&t<=(e[B].coordinate+e[B+1].coordinate)/2||B===o-1&&t>(e[B].coordinate+e[B-1].coordinate)/2){({index:a}=e[B]);break}}return a},Jie=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&de(t[s]))return Vn(Vn({},t),{},{[s]:t[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&de(t[a]))return Vn(Vn({},t),{},{[a]:t[a]+(i||0)})}return t},ho=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",NM=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var i,s,a=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===r&&(s=!0),o.coordinate));return i||a.push(e),s||a.push(r),a},QM=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:o,isCategorical:A,categoricalDomain:l,tickCount:u,ticks:d,niceTicks:f,axisType:g}=t;if(!a)return null;var p=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,m=i==="category"&&a.bandwidth?a.bandwidth()/p:0;if(m=g==="angleAxis"&&s&&s.length>=2?ur(s[0]-s[1])*2*m:m,d||f){var v=(d||f||[]).map((y,w)=>{var B=n?n.indexOf(y):y;return{coordinate:a(B)+m,value:y,offset:m,index:w}});return v.filter(y=>!_n(y.coordinate))}return A&&l?l.map((y,w)=>({coordinate:a(y)+m,value:y,index:w,offset:m})):a.ticks&&u!=null?a.ticks(u).map((y,w)=>({coordinate:a(y)+m,value:y,offset:m,index:w})):a.domain().map((y,w)=>({coordinate:a(y)+m,value:n?n[y]:y,index:w,offset:m}))},rU=1e-4,Zie=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-rU,s=Math.max(n[0],n[1])+rU,a=t(e[0]),o=t(e[r-1]);(a<i||a>s||o<i||o>s)&&t.domain([e[0],e[r-1]])}},ese=(t,e)=>{if(!e||e.length!==2||!de(e[0])||!de(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!de(t[0])||t[0]<r)&&(i[0]=r),(!de(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},tse=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0,a=0;a<e;++a){var o=_n(t[a][r][1])?t[a][r][0]:t[a][r][1];o>=0?(t[a][r][0]=i,t[a][r][1]=i+o,i=t[a][r][1]):(t[a][r][0]=s,t[a][r][1]=s+o,s=t[a][r][1])}},rse=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0;s<e;++s){var a=_n(t[s][r][1])?t[s][r][0]:t[s][r][1];a>=0?(t[s][r][0]=i,t[s][r][1]=i+a,i=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},nse={sign:tse,expand:Lre,none:ou,silhouette:Hre,wiggle:Vre,positive:rse},ise=(t,e,r)=>{var n=nse[r],i=Mre().keys(e).value((s,a)=>+nt(s,a,0)).order(Db).offset(n);return i(t)};function sse(t){return t==null?void 0:String(t)}function nU(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ht(i[e.dataKey])){var o=cR(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var A=nt(i,ht(a)?e.dataKey:a);return ht(A)?null:e.scale(A)}var iU=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return r[a]?r[a].coordinate+n:null;var o=nt(s,e.dataKey,e.scale.domain()[a]);return ht(o)?null:e.scale(o)-i/2+n},ase=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},ose=t=>{var e=t.flat(2).filter(de);return[Math.min(...e),Math.max(...e)]},Ase=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],lse=(t,e,r)=>{if(t!=null)return Ase(Object.keys(t).reduce((n,i)=>{var s=t[i],{stackedData:a}=s,o=a.reduce((A,l)=>{var u=PM(l,e,r),d=ose(u);return[Math.min(A[0],d[0]),Math.max(A[1],d[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},sU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,of=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=vv(e,u=>u.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var A=i[a],l=i[a-1];s=Math.min((A.coordinate||0)-(l.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function oU(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:s}=t;return Vn(Vn({},e),{},{dataKey:r,payload:n,value:i,name:s})}function Tu(t,e){if(t)return String(t);if(typeof e=="string")return e}function use(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return n?zie({x:t,y:e},n):null}var cse=(t,e,r,n)=>{var i=e.find(l=>l&&l.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:a}=n;return Vn(Vn(Vn({},n),Kt(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:A}=n;return Vn(Vn(Vn({},n),Kt(n.cx,n.cy,o,A)),{},{angle:A,radius:o})}return{x:0,y:0}},dse=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Hs=t=>t.layout.width,Vs=t=>t.layout.height,fse=t=>t.layout.scale,kM=t=>t.layout.margin,r1=G(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),n1=G(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),OM="data-recharts-item-index",DM="data-recharts-item-data-key",Ev=60;function AU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AU(Object(r),!0).forEach(function(n){hse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hse(t,e,r){return(e=gse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gse(t){var e=pse(t,"string");return typeof e=="symbol"?e:e+""}function pse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mse=t=>t.brush.height,Zt=G([Hs,Vs,kM,mse,r1,n1,sM,jne],(t,e,r,n,i,s,a,o)=>{var A=s.reduce((p,m)=>{var{orientation:v}=m;if(!m.mirror&&!m.hide){var y=typeof m.width=="number"?m.width:Ev;return ta(ta({},p),{},{[v]:p[v]+y})}return p},{left:r.left||0,right:r.right||0}),l=i.reduce((p,m)=>{var{orientation:v}=m;return!m.mirror&&!m.hide?ta(ta({},p),{},{[v]:to(p,"".concat(v))+m.height}):p},{top:r.top||0,bottom:r.bottom||0}),u=ta(ta({},l),A),d=u.bottom;u.bottom+=n,u=Jie(u,a,o);var f=t-u.left-u.right,g=e-u.top-u.bottom;return ta(ta({brushBottom:d},u),{},{width:Math.max(f,0),height:Math.max(g,0)})}),vse=G(Zt,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),jM=G(Hs,Vs,(t,e)=>({x:0,y:0,width:t,height:e})),yse=x.createContext(null),ln=()=>x.useContext(yse)!=null,_v=t=>t.brush,Iv=G([_v,Zt,kM],(t,e,r)=>({height:t.height,x:de(t.x)?t.x:e.left,y:de(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:de(t.width)?t.width:e.width})),i1=()=>{var t,e=ln(),r=ye(vse),n=ye(Iv),i=(t=ye(_v))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},wse={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},RM=()=>{var t;return(t=ye(Zt))!==null&&t!==void 0?t:wse},s1=()=>ye(Hs),a1=()=>ye(Vs),xse={top:0,right:0,bottom:0,left:0},bse=()=>{var t;return(t=ye(e=>e.layout.margin))!==null&&t!==void 0?t:xse},He=t=>t.layout.layoutType,Sv=()=>ye(He),Bse={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},MM=Pn({name:"legend",initialState:Bse,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=Bs(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:lU,setLegendSettings:Cse,addLegendPayload:LM,removeLegendPayload:HM}=MM.actions,Ese=MM.reducer,_se=["contextPayload"];function Wb(){return Wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wb.apply(null,arguments)}function uU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uU(Object(r),!0).forEach(function(n){o1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o1(t,e,r){return(e=Ise(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ise(t){var e=Sse(t,"string");return typeof e=="symbol"?e:e+""}function Sse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tse(t,e){if(t==null)return{};var r,n,i=Fse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Fse(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Use(t){return t.value}function Pse(t){var{contextPayload:e}=t,r=Tse(t,_se),n=WR(e,t.payloadUniqBy,Use),i=uu(uu({},r),{},{payload:n});return x.isValidElement(t.content)?x.cloneElement(t.content,i):typeof t.content=="function"?x.createElement(t.content,i):x.createElement(ME,i)}function Nse(t,e,r,n,i,s){var{layout:a,align:o,verticalAlign:A}=e,l,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&a==="vertical"?l={left:((n||0)-s.width)/2}:l=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(A==="middle"?u={top:((i||0)-s.height)/2}:u=A==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),uu(uu({},l),u)}function Qse(t){var e=Tt();return x.useEffect(()=>{e(Cse(t))},[e,t]),null}function kse(t){var e=Tt();return x.useEffect(()=>(e(lU(t)),()=>{e(lU({width:0,height:0}))}),[e,t]),null}function Ose(t){var e=Lne(),r=ure(),n=bse(),{width:i,height:s,wrapperStyle:a,portal:o}=t,[A,l]=aM([e]),u=s1(),d=a1(),f=u-(n.left||0)-(n.right||0),g=wA.getWidthOrHeight(t.layout,s,i,f),p=o?a:uu(uu({position:"absolute",width:(g==null?void 0:g.width)||i||"auto",height:(g==null?void 0:g.height)||s||"auto"},Nse(a,t,n,u,d,A)),a),m=o??r;if(m==null)return null;var v=x.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:l},x.createElement(Qse,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),x.createElement(kse,{width:A.width,height:A.height}),x.createElement(Pse,Wb({},t,g,{margin:n,chartWidth:u,chartHeight:d,contextPayload:e})));return xC.createPortal(v,m)}class wA extends x.PureComponent{static getWidthOrHeight(e,r,n,i){return e==="vertical"&&de(r)?{height:r}:e==="horizontal"?{width:n||i}:null}render(){return x.createElement(Ose,this.props)}}o1(wA,"displayName","Legend");o1(wA,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Yb(){return Yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yb.apply(null,arguments)}function cU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cU(Object(r),!0).forEach(function(n){Dse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dse(t,e,r){return(e=jse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jse(t){var e=Rse(t,"string");return typeof e=="symbol"?e:e+""}function Rse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mse(t){return Array.isArray(t)&&Li(t[0])&&Li(t[1])?t.join(" ~ "):t}var Lse=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:A,labelClassName:l,label:u,labelFormatter:d,accessibilityLayer:f=!1}=t,g=()=>{if(s&&s.length){var T={padding:0,margin:0},F=(o?vv(s,o):s).map((C,_)=>{if(C.type==="none")return null;var S=C.formatter||a||Mse,{value:P,name:Q}=C,k=P,N=Q;{var oe=S(P,Q,C,_,s);if(Array.isArray(oe))[k,N]=oe;else if(oe!=null)k=oe;else return null}var xe=yw({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:xe},Li(N)?x.createElement("span",{className:"recharts-tooltip-item-name"},N):null,Li(N)?x.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,x.createElement("span",{className:"recharts-tooltip-item-value"},k),x.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:T},F)}return null},p=yw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),m=yw({margin:0},i),v=!ht(u),y=v?u:"",w=Ge("recharts-default-tooltip",A),B=Ge("recharts-tooltip-label",l);v&&d&&s!==void 0&&s!==null&&(y=d(u,s));var I=f?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Yb({className:w,style:p},I),x.createElement("p",{className:B,style:m},x.isValidElement(y)?y:"".concat(y)),g())},Bc="recharts-tooltip-wrapper",Hse={visibility:"hidden"};function Vse(t){var{coordinate:e,translateX:r,translateY:n}=t;return Ge(Bc,{["".concat(Bc,"-right")]:de(r)&&e&&de(e.x)&&r>=e.x,["".concat(Bc,"-left")]:de(r)&&e&&de(e.x)&&r<e.x,["".concat(Bc,"-bottom")]:de(n)&&e&&de(e.y)&&n>=e.y,["".concat(Bc,"-top")]:de(n)&&e&&de(e.y)&&n<e.y})}function dU(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:A,viewBoxDimension:l}=t;if(s&&de(s[n]))return s[n];var u=r[n]-o-(i>0?i:0),d=r[n]+i;if(e[n])return a[n]?u:d;var f=A[n];if(f==null)return 0;if(a[n]){var g=u,p=f;return g<p?Math.max(d,f):Math.max(u,f)}if(l==null)return 0;var m=d+o,v=f+l;return m>v?Math.max(u,f):Math.max(d,f)}function Kse(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function $se(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:A}=t,l,u,d;return a.height>0&&a.width>0&&r?(u=dU({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:A,viewBoxDimension:A.width}),d=dU({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:A,viewBoxDimension:A.height}),l=Kse({translateX:u,translateY:d,useTranslate3d:o})):l=Hse,{cssProperties:l,cssClasses:Vse({translateX:u,translateY:d,coordinate:r})}}function fU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fU(Object(r),!0).forEach(function(n){Xb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xb(t,e,r){return(e=Gse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gse(t){var e=zse(t,"string");return typeof e=="symbol"?e:e+""}function zse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Wse extends x.PureComponent{constructor(){super(...arguments),Xb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Xb(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:A,offset:l,position:u,reverseDirection:d,useTranslate3d:f,viewBox:g,wrapperStyle:p,lastBoundingBox:m,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:w,cssProperties:B}=$se({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:l,position:u,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:f,viewBox:g}),I=y?{}:vg(vg({transition:A&&e?"transform ".concat(n,"ms ").concat(i):void 0},B),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),T=vg(vg({},I),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},p);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:T,ref:v},s)}}var Yse=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),UA={isSsr:Yse()},VM=()=>ye(t=>t.rootProps.accessibilityLayer);function Tn(t){return Number.isFinite(t)}function cu(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qb.apply(null,arguments)}function hU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hU(Object(r),!0).forEach(function(n){Xse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xse(t,e,r){return(e=qse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qse(t){var e=Jse(t,"string");return typeof e=="symbol"?e:e+""}function Jse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pU={curveBasisClosed:Tre,curveBasisOpen:Fre,curveBasis:Sre,curveBumpX:hre,curveBumpY:gre,curveLinearClosed:Ure,curveLinear:cv,curveMonotoneX:Pre,curveMonotoneY:Nre,curveNatural:Qre,curveStep:kre,curveStepAfter:Dre,curveStepBefore:Ore},yg=t=>Tn(t.x)&&Tn(t.y),Cc=t=>t.x,Ec=t=>t.y,Zse=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(kf(t));return(r==="curveMonotone"||r==="curveBump")&&e?pU["".concat(r).concat(e==="vertical"?"Y":"X")]:pU[r]||cv},eae=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=t,a=Zse(e,i),o=s?r.filter(yg):r,A;if(Array.isArray(n)){var l=s?n.filter(d=>yg(d)):n,u=o.map((d,f)=>gU(gU({},d),{},{base:l[f]}));return i==="vertical"?A=fg().y(Ec).x1(Cc).x0(d=>d.base.x):A=fg().x(Cc).y1(Ec).y0(d=>d.base.y),A.defined(yg).curve(a),A(u)}return i==="vertical"&&de(n)?A=fg().y(Ec).x1(Cc).x0(n):de(n)?A=fg().x(Cc).y1(Ec).y0(n):A=xR().x(Cc).y(Ec),A.defined(yg).curve(a),A(o)},A1=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var s=r&&r.length?eae(t):n;return x.createElement("path",qb({},Ls(t),NE(t),{className:Ge("recharts-curve",e),d:s===null?void 0:s,ref:i}))},tae=["x","y","top","left","width","height","className"];function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jb.apply(null,arguments)}function mU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mU(Object(r),!0).forEach(function(n){nae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nae(t,e,r){return(e=iae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iae(t){var e=sae(t,"string");return typeof e=="symbol"?e:e+""}function sae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aae(t,e){if(t==null)return{};var r,n,i=oae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function oae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Aae=(t,e,r,n,i,s)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(r),lae=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:o}=t,A=aae(t,tae),l=rae({x:e,y:r,top:n,left:i,width:s,height:a},A);return!de(e)||!de(r)||!de(s)||!de(a)||!de(n)||!de(i)?null:x.createElement("path",Jb({},yt(l,!0),{className:Ge("recharts-cross",o),d:Aae(e,r,s,a,n,i)}))};function uae(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function vU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vU(Object(r),!0).forEach(function(n){dae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dae(t,e,r){return(e=fae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fae(t){var e=hae(t,"string");return typeof e=="symbol"?e:e+""}function hae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nn(t,e){var r=cae({},t),n=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&n[o]!==void 0&&(a[o]=n[o]),a),r);return s}var KM={},$M={},GM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}t.isPlainObject=e})(GM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GM,r=GE,n=gv,i=pv,s=hv;function a(l,u,d){return o(l,u,void 0,void 0,void 0,void 0,d)}function o(l,u,d,f,g,p,m){const v=m(l,u,d,f,g,p);if(v!==void 0)return v;if(typeof l==typeof u)switch(typeof l){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return l===u;case"number":return l===u||Object.is(l,u);case"function":return l===u;case"object":return A(l,u,p,m)}return A(l,u,p,m)}function A(l,u,d,f){if(Object.is(l,u))return!0;let g=n.getTag(l),p=n.getTag(u);if(g===i.argumentsTag&&(g=i.objectTag),p===i.argumentsTag&&(p=i.objectTag),g!==p)return!1;switch(g){case i.stringTag:return l.toString()===u.toString();case i.numberTag:{const y=l.valueOf(),w=u.valueOf();return s.eq(y,w)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(l.valueOf(),u.valueOf());case i.regexpTag:return l.source===u.source&&l.flags===u.flags;case i.functionTag:return l===u}d=d??new Map;const m=d.get(l),v=d.get(u);if(m!=null&&v!=null)return m===u;d.set(l,u),d.set(u,l);try{switch(g){case i.mapTag:{if(l.size!==u.size)return!1;for(const[y,w]of l.entries())if(!u.has(y)||!o(w,u.get(y),y,l,u,d,f))return!1;return!0}case i.setTag:{if(l.size!==u.size)return!1;const y=Array.from(l.values()),w=Array.from(u.values());for(let B=0;B<y.length;B++){const I=y[B],T=w.findIndex(F=>o(I,F,void 0,l,u,d,f));if(T===-1)return!1;w.splice(T,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(l)!==Buffer.isBuffer(u)||l.length!==u.length)return!1;for(let y=0;y<l.length;y++)if(!o(l[y],u[y],y,l,u,d,f))return!1;return!0}case i.arrayBufferTag:return l.byteLength!==u.byteLength?!1:A(new Uint8Array(l),new Uint8Array(u),d,f);case i.dataViewTag:return l.byteLength!==u.byteLength||l.byteOffset!==u.byteOffset?!1:A(new Uint8Array(l),new Uint8Array(u),d,f);case i.errorTag:return l.name===u.name&&l.message===u.message;case i.objectTag:{if(!(A(l.constructor,u.constructor,d,f)||e.isPlainObject(l)&&e.isPlainObject(u)))return!1;const w=[...Object.keys(l),...r.getSymbols(l)],B=[...Object.keys(u),...r.getSymbols(u)];if(w.length!==B.length)return!1;for(let I=0;I<w.length;I++){const T=w[I],F=l[T];if(!Object.hasOwn(u,T))return!1;const C=u[T];if(!o(F,C,T,l,u,d,f))return!1}return!0}default:return!1}}finally{d.delete(l),d.delete(u)}}t.isEqualWith=a})($M);var zM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(zM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$M,r=zM;function n(i,s){return e.isEqualWith(i,s,r.noop)}t.isEqual=n})(KM);var gae=KM.isEqual;const pae=Vi(gae);var Em=1e-4,WM=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],YM=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),yU=(t,e)=>r=>{var n=WM(t,e);return YM(n,r)},mae=(t,e)=>r=>{var n=WM(t,e),i=[...n.map((s,a)=>s*a).slice(1),0];return YM(i,r)},wU=function(){for(var e,r,n,i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var A=a[0].split("(");A[0]==="cubic-bezier"&&A[1].split(")")[0].split(",").length===4&&([e,n,r,i]=A[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else a.length===4&&([e,n,r,i]=a);var l=yU(e,r),u=yU(n,i),d=mae(e,r),f=p=>p>1?1:p<0?0:p,g=p=>{for(var m=p>1?1:p,v=m,y=0;y<8;++y){var w=l(v)-m,B=d(v);if(Math.abs(w-m)<Em||B<Em)return u(v);v=f(v-w/B)}return u(v)};return g.isStepper=!1,g},vae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,s=(a,o,A)=>{var l=-(a-o)*r,u=A*n,d=A+(l-u)*i/1e3,f=A*i/1e3+a;return Math.abs(f-o)<Em&&Math.abs(d)<Em?[o,0]:[f,d]};return s.isStepper=!0,s.dt=i,s},XM=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wU(t);case"spring":return vae();default:if(t.split("(")[0]==="cubic-bezier")return wU(t)}return typeof t=="function"?t:null};function xU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xU(Object(r),!0).forEach(function(n){yae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yae(t,e,r){return(e=wae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wae(t){var e=xae(t,"string");return typeof e=="symbol"?e:e+""}function xae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bae=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Bae=(t,e,r)=>t.map(n=>"".concat(bae(n)," ").concat(e,"ms ").concat(r)).join(","),Cae=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),Af=(t,e)=>Object.keys(e).reduce((r,n)=>bU(bU({},r),{},{[n]:t(n,e[n])}),{});function BU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BU(Object(r),!0).forEach(function(n){Eae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eae(t,e,r){return(e=_ae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ae(t){var e=Iae(t,"string");return typeof e=="symbol"?e:e+""}function Iae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _m=(t,e,r)=>t+(e-t)*r,Zb=t=>{var{from:e,to:r}=t;return e!==r},qM=(t,e,r)=>{var n=Af((i,s)=>{if(Zb(s)){var[a,o]=t(s.from,s.to,s.velocity);return wr(wr({},s),{},{from:a,velocity:o})}return s},e);return r<1?Af((i,s)=>Zb(s)?wr(wr({},s),{},{velocity:_m(s.velocity,n[i].velocity,r),from:_m(s.from,n[i].from,r)}):s,e):qM(t,n,r-1)};function Sae(t,e,r,n,i,s){var a,o=n.reduce((f,g)=>wr(wr({},f),{},{[g]:{from:t[g],velocity:0,to:e[g]}}),{}),A=()=>Af((f,g)=>g.from,o),l=()=>!Object.values(o).filter(Zb).length,u=null,d=f=>{a||(a=f);var g=f-a,p=g/r.dt;o=qM(r,o,p),i(wr(wr(wr({},t),e),A())),a=f,l()||(u=s.setTimeout(d))};return()=>(u=s.setTimeout(d),()=>{u()})}function Tae(t,e,r,n,i,s,a){var o=null,A=i.reduce((d,f)=>wr(wr({},d),{},{[f]:[t[f],e[f]]}),{}),l,u=d=>{l||(l=d);var f=(d-l)/n,g=Af((m,v)=>_m(...v,r(f)),A);if(s(wr(wr(wr({},t),e),g)),f<1)o=a.setTimeout(u);else{var p=Af((m,v)=>_m(...v,r(1)),A);s(wr(wr(wr({},t),e),p))}};return()=>(o=a.setTimeout(u),()=>{o()})}const JM=(t,e,r,n,i,s)=>{var a=Cae(t,e);return r.isStepper===!0?Sae(t,e,r,a,i,s):Tae(t,e,r,n,a,i,s)};function Fae(t){var e,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[A,...l]=o;if(typeof A=="number"){i=t.setTimeout(s.bind(null,l),A);return}s(A),i=t.setTimeout(s.bind(null,l));return}typeof a=="string"&&(e=a,r(e)),typeof a=="object"&&(e=a,r(e)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>t}}class Uae{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function Pae(){return Fae(new Uae)}var Nae=x.createContext(Pae);function ZM(t,e){var r=x.useContext(Nae);return x.useMemo(()=>e??r(t),[t,e,r])}var Qae=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function eB(){return eB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eB.apply(null,arguments)}function kae(t,e){if(t==null)return{};var r,n,i=Oae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Oae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function CU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ra(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CU(Object(r),!0).forEach(function(n){Ko(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ko(t,e,r){return(e=Dae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dae(t){var e=jae(t,"string");return typeof e=="symbol"?e:e+""}function jae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class l1 extends x.PureComponent{constructor(e,r){super(e,r),Ko(this,"mounted",!1),Ko(this,"manager",void 0),Ko(this,"stopJSAnimation",null),Ko(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:s,to:a,children:o,duration:A,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||A<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:a});return}if(s){if(typeof o=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:r}=this.props;this.mounted=!0,!(!e||!r)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:s,to:a,from:o}=this.props,{style:A}=this.state;if(n){if(!r){var l={style:i?{[i]:a}:a};this.state&&A&&(i&&A[i]!==a||!i&&A!==a)&&this.setState(l);return}if(!(pae(e.to,a)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=u||s?o:e.to;if(this.state&&A){var f={style:i?{[i]:d}:d};(i&&A[i]!==d||!i&&A!==d)&&this.setState(f)}this.runAnimation(ra(ra({},this.props),{},{from:d,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:r,to:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:A}=e,l=JM(r,n,XM(s),i,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=l()};this.manager.start([A,a,u,i,o])}runAnimation(e){var{begin:r,duration:n,attributeName:i,to:s,easing:a,onAnimationStart:o,onAnimationEnd:A,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof l=="function"||a==="spring"){this.runJSAnimation(e);return}var u=i?{[i]:s}:s,d=Bae(Object.keys(u),n,a);this.manager.start([o,r,ra(ra({},u),{},{transition:d}),n,A])}render(){var e=this.props,{children:r,begin:n,duration:i,attributeName:s,easing:a,isActive:o,from:A,to:l,canBegin:u,onAnimationEnd:d,shouldReAnimate:f,onAnimationReStart:g,animationManager:p}=e,m=kae(e,Qae),v=x.Children.count(r),y=this.state.style;if(typeof r=="function")return r(y);if(!o||v===0||i<=0)return r;var w=B=>{var{style:I={},className:T}=B.props,F=x.cloneElement(B,ra(ra({},m),{},{style:ra(ra({},I),y),className:T}));return F};return v===1?w(x.Children.only(r)):x.createElement("div",null,x.Children.map(r,B=>w(B)))}}Ko(l1,"displayName","Animate");Ko(l1,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Im(t){var e,r=ZM((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return x.createElement(l1,eB({},t,{animationManager:r}))}function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sm.apply(null,arguments)}var EU=(t,e,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,o=r>=0?1:-1,A=n>=0&&r>=0||n<0&&r<0?1:0,l;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],d=0,f=4;d<f;d++)u[d]=i[d]>s?s:i[d];l="M".concat(t,",").concat(e+a*u[0]),u[0]>0&&(l+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(A,",").concat(t+o*u[0],",").concat(e)),l+="L ".concat(t+r-o*u[1],",").concat(e),u[1]>0&&(l+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(A,`,
        `).concat(t+r,",").concat(e+a*u[1])),l+="L ".concat(t+r,",").concat(e+n-a*u[2]),u[2]>0&&(l+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(A,`,
        `).concat(t+r-o*u[2],",").concat(e+n)),l+="L ".concat(t+o*u[3],",").concat(e+n),u[3]>0&&(l+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(A,`,
        `).concat(t,",").concat(e+n-a*u[3])),l+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);l="M ".concat(t,",").concat(e+a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+o*g,",").concat(e,`
            L `).concat(t+r-o*g,",").concat(e,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+r,",").concat(e+a*g,`
            L `).concat(t+r,",").concat(e+n-a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+r-o*g,",").concat(e+n,`
            L `).concat(t+o*g,",").concat(e+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t,",").concat(e+n-a*g," Z")}else l="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return l},Rae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eL=t=>{var e=Nn(t,Rae),r=x.useRef(null),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&i(y)}catch{}},[]);var{x:s,y:a,width:o,height:A,radius:l,className:u}=e,{animationEasing:d,animationDuration:f,animationBegin:g,isAnimationActive:p,isUpdateAnimationActive:m}=e;if(s!==+s||a!==+a||o!==+o||A!==+A||o===0||A===0)return null;var v=Ge("recharts-rectangle",u);return m?x.createElement(Im,{canBegin:n>0,from:{width:o,height:A,x:s,y:a},to:{width:o,height:A,x:s,y:a},duration:f,animationEasing:d,isActive:m},y=>{var{width:w,height:B,x:I,y:T}=y;return x.createElement(Im,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,isActive:p,easing:d},x.createElement("path",Sm({},yt(e,!0),{className:v,d:EU(I,T,w,B,l),ref:r})))}):x.createElement("path",Sm({},yt(e,!0),{className:v,d:EU(s,a,o,A,l)}))};function tL(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:s}=t,a=Kt(e,r,n,i),o=Kt(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function tB(){return tB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tB.apply(null,arguments)}var Mae=(t,e)=>{var r=ur(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},wg=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:A}=t,l=o*(a?1:-1)+n,u=Math.asin(o/l)/Cm,d=A?i:i+s*u,f=Kt(e,r,l,d),g=Kt(e,r,n,d),p=A?i-s*u:i,m=Kt(e,r,l*Math.cos(u*Cm),p);return{center:f,circleTangency:g,lineTangency:m,theta:u}},rL=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=t,o=Mae(s,a),A=s+o,l=Kt(e,r,i,s),u=Kt(e,r,i,A),d="M ".concat(l.x,",").concat(l.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>A),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var f=Kt(e,r,n,s),g=Kt(e,r,n,A);d+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=A),`,
            `).concat(f.x,",").concat(f.y," Z")}else d+="L ".concat(e,",").concat(r," Z");return d},Lae=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:A,endAngle:l}=t,u=ur(l-A),{circleTangency:d,lineTangency:f,theta:g}=wg({cx:e,cy:r,radius:i,angle:A,sign:u,cornerRadius:s,cornerIsExternal:o}),{circleTangency:p,lineTangency:m,theta:v}=wg({cx:e,cy:r,radius:i,angle:l,sign:-u,cornerRadius:s,cornerIsExternal:o}),y=o?Math.abs(A-l):Math.abs(A-l)-g-v;if(y<0)return a?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):rL({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:A,endAngle:l});var w="M ".concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
  `);if(n>0){var{circleTangency:B,lineTangency:I,theta:T}=wg({cx:e,cy:r,radius:n,angle:A,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:F,lineTangency:C,theta:_}=wg({cx:e,cy:r,radius:n,angle:l,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),S=o?Math.abs(A-l):Math.abs(A-l)-T-_;if(S<0&&s===0)return"".concat(w,"L").concat(e,",").concat(r,"Z");w+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(S>180),",").concat(+(u>0),",").concat(B.x,",").concat(B.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(I.x,",").concat(I.y,"Z")}else w+="L".concat(e,",").concat(r,"Z");return w},Hae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nL=t=>{var e=Nn(t,Hae),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:A,startAngle:l,endAngle:u,className:d}=e;if(s<i||l===u)return null;var f=Ge("recharts-sector",d),g=s-i,p=Wr(a,g,0,!0),m;return p>0&&Math.abs(l-u)<360?m=Lae({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(p,g/2),forceCornerRadius:o,cornerIsExternal:A,startAngle:l,endAngle:u}):m=rL({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:l,endAngle:u}),x.createElement("path",tB({},yt(e,!0),{className:f,d:m}))};function Vae(t,e,r){var n,i,s,a;if(t==="horizontal")n=e.x,s=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:o,cy:A,innerRadius:l,outerRadius:u,angle:d}=e,f=Kt(o,A,l,d),g=Kt(o,A,u,d);n=f.x,i=f.y,s=g.x,a=g.y}else return tL(e);return[{x:n,y:i},{x:s,y:a}]}var iL={},sL={},aL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YE;function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(aL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aL;function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(sL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XE,r=sL;function n(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),A=new Array(o);for(let l=0;l<o;l++)A[l]=i,i+=a;return A}t.range=n})(iL);var Kae=iL.range;const oL=Vi(Kae);function La(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $ae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function u1(t){let e,r,n;t.length!==2?(e=La,r=(o,A)=>La(t(o),A),n=(o,A)=>t(o)-A):(e=t===La||t===$ae?t:Gae,r=t,n=t);function i(o,A,l=0,u=o.length){if(l<u){if(e(A,A)!==0)return u;do{const d=l+u>>>1;r(o[d],A)<0?l=d+1:u=d}while(l<u)}return l}function s(o,A,l=0,u=o.length){if(l<u){if(e(A,A)!==0)return u;do{const d=l+u>>>1;r(o[d],A)<=0?l=d+1:u=d}while(l<u)}return l}function a(o,A,l=0,u=o.length){const d=i(o,A,l,u-1);return d>l&&n(o[d-1],A)>-n(o[d],A)?d-1:d}return{left:i,center:a,right:s}}function Gae(){return 0}function AL(t){return t===null?NaN:+t}function*zae(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Wae=u1(La),Rf=Wae.right;u1(AL).center;class _U extends Map{constructor(e,r=qae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(IU(this,e))}has(e){return super.has(IU(this,e))}set(e,r){return super.set(Yae(this,e),r)}delete(e){return super.delete(Xae(this,e))}}function IU({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Yae({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Xae({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function qae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Jae(t=La){if(t===La)return lL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function lL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Zae=Math.sqrt(50),eoe=Math.sqrt(10),toe=Math.sqrt(2);function Tm(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=Zae?10:s>=eoe?5:s>=toe?2:1;let o,A,l;return i<0?(l=Math.pow(10,-i)/a,o=Math.round(t*l),A=Math.round(e*l),o/l<t&&++o,A/l>e&&--A,l=-l):(l=Math.pow(10,i)*a,o=Math.round(t/l),A=Math.round(e/l),o*l<t&&++o,A*l>e&&--A),A<o&&.5<=r&&r<2?Tm(t,e,r*2):[o,A,l]}function rB(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?Tm(e,t,r):Tm(t,e,r);if(!(s>=i))return[];const o=s-i+1,A=new Array(o);if(n)if(a<0)for(let l=0;l<o;++l)A[l]=(s-l)/-a;else for(let l=0;l<o;++l)A[l]=(s-l)*a;else if(a<0)for(let l=0;l<o;++l)A[l]=(i+l)/-a;else for(let l=0;l<o;++l)A[l]=(i+l)*a;return A}function nB(t,e,r){return e=+e,t=+t,r=+r,Tm(t,e,r)[2]}function iB(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?nB(e,t,r):nB(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function SU(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function TU(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function uL(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?lL:Jae(i);n>r;){if(n-r>600){const A=n-r+1,l=e-r+1,u=Math.log(A),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(A-d)/A)*(l-A/2<0?-1:1),g=Math.max(r,Math.floor(e-l*d/A+f)),p=Math.min(n,Math.floor(e+(A-l)*d/A+f));uL(t,e,g,p,i)}const s=t[e];let a=r,o=n;for(_c(t,r,e),i(t[n],s)>0&&_c(t,r,n);a<o;){for(_c(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?_c(t,r,o):(++o,_c(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function _c(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function roe(t,e,r){if(t=Float64Array.from(zae(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return TU(t);if(e>=1)return SU(t);var n,i=(n-1)*e,s=Math.floor(i),a=SU(uL(t,s).subarray(0,s+1)),o=TU(t.subarray(s+1));return a+(o-a)*(i-s)}}function noe(t,e,r=AL){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function ioe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function si(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ks(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const sB=Symbol("implicit");function c1(){var t=new _U,e=[],r=[],n=sB;function i(s){let a=t.get(s);if(a===void 0){if(n!==sB)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new _U;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return c1(e,r).unknown(n)},si.apply(i,arguments),i}function d1(){var t=c1().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,A=0,l=0,u=.5;delete t.unknown;function d(){var f=e().length,g=i<n,p=g?i:n,m=g?n:i;s=(m-p)/Math.max(1,f-A+l*2),o&&(s=Math.floor(s)),p+=(m-p-s*(f-A))*u,a=s*(1-A),o&&(p=Math.round(p),a=Math.round(a));var v=ioe(f).map(function(y){return p+s*y});return r(g?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,o=!0,d()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(o=!!f,d()):o},t.padding=function(f){return arguments.length?(A=Math.min(1,l=+f),d()):A},t.paddingInner=function(f){return arguments.length?(A=Math.min(1,f),d()):A},t.paddingOuter=function(f){return arguments.length?(l=+f,d()):l},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},t.copy=function(){return d1(e(),[n,i]).round(o).paddingInner(A).paddingOuter(l).align(u)},si.apply(d(),arguments)}function cL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return cL(e())},t}function soe(){return cL(d1.apply(null,arguments).paddingInner(1))}function f1(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function dL(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Mf(){}var lf=.7,Fm=1/lf,jl="\\s*([+-]?\\d+)\\s*",uf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aoe=/^#([0-9a-f]{3,8})$/,ooe=new RegExp(`^rgb\\(${jl},${jl},${jl}\\)$`),Aoe=new RegExp(`^rgb\\(${Ri},${Ri},${Ri}\\)$`),loe=new RegExp(`^rgba\\(${jl},${jl},${jl},${uf}\\)$`),uoe=new RegExp(`^rgba\\(${Ri},${Ri},${Ri},${uf}\\)$`),coe=new RegExp(`^hsl\\(${uf},${Ri},${Ri}\\)$`),doe=new RegExp(`^hsla\\(${uf},${Ri},${Ri},${uf}\\)$`),FU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};f1(Mf,cf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:UU,formatHex:UU,formatHex8:foe,formatHsl:hoe,formatRgb:PU,toString:PU});function UU(){return this.rgb().formatHex()}function foe(){return this.rgb().formatHex8()}function hoe(){return fL(this).formatHsl()}function PU(){return this.rgb().formatRgb()}function cf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=aoe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?NU(e):r===3?new nn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?xg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?xg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ooe.exec(t))?new nn(e[1],e[2],e[3],1):(e=Aoe.exec(t))?new nn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=loe.exec(t))?xg(e[1],e[2],e[3],e[4]):(e=uoe.exec(t))?xg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=coe.exec(t))?OU(e[1],e[2]/100,e[3]/100,1):(e=doe.exec(t))?OU(e[1],e[2]/100,e[3]/100,e[4]):FU.hasOwnProperty(t)?NU(FU[t]):t==="transparent"?new nn(NaN,NaN,NaN,0):null}function NU(t){return new nn(t>>16&255,t>>8&255,t&255,1)}function xg(t,e,r,n){return n<=0&&(t=e=r=NaN),new nn(t,e,r,n)}function goe(t){return t instanceof Mf||(t=cf(t)),t?(t=t.rgb(),new nn(t.r,t.g,t.b,t.opacity)):new nn}function aB(t,e,r,n){return arguments.length===1?goe(t):new nn(t,e,r,n??1)}function nn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}f1(nn,aB,dL(Mf,{brighter(t){return t=t==null?Fm:Math.pow(Fm,t),new nn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?lf:Math.pow(lf,t),new nn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new nn(rA(this.r),rA(this.g),rA(this.b),Um(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QU,formatHex:QU,formatHex8:poe,formatRgb:kU,toString:kU}));function QU(){return`#${$o(this.r)}${$o(this.g)}${$o(this.b)}`}function poe(){return`#${$o(this.r)}${$o(this.g)}${$o(this.b)}${$o((isNaN(this.opacity)?1:this.opacity)*255)}`}function kU(){const t=Um(this.opacity);return`${t===1?"rgb(":"rgba("}${rA(this.r)}, ${rA(this.g)}, ${rA(this.b)}${t===1?")":`, ${t})`}`}function Um(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rA(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $o(t){return t=rA(t),(t<16?"0":"")+t.toString(16)}function OU(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new pi(t,e,r,n)}function fL(t){if(t instanceof pi)return new pi(t.h,t.s,t.l,t.opacity);if(t instanceof Mf||(t=cf(t)),!t)return new pi;if(t instanceof pi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,A=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=A<.5?s+i:2-s-i,a*=60):o=A>0&&A<1?0:a,new pi(a,o,A,t.opacity)}function moe(t,e,r,n){return arguments.length===1?fL(t):new pi(t,e,r,n??1)}function pi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}f1(pi,moe,dL(Mf,{brighter(t){return t=t==null?Fm:Math.pow(Fm,t),new pi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?lf:Math.pow(lf,t),new pi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new nn(ww(t>=240?t-240:t+120,i,n),ww(t,i,n),ww(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new pi(DU(this.h),bg(this.s),bg(this.l),Um(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Um(this.opacity);return`${t===1?"hsl(":"hsla("}${DU(this.h)}, ${bg(this.s)*100}%, ${bg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function DU(t){return t=(t||0)%360,t<0?t+360:t}function bg(t){return Math.max(0,Math.min(1,t||0))}function ww(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const h1=t=>()=>t;function voe(t,e){return function(r){return t+r*e}}function yoe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function woe(t){return(t=+t)==1?hL:function(e,r){return r-e?yoe(e,r,t):h1(isNaN(e)?r:e)}}function hL(t,e){var r=e-t;return r?voe(t,r):h1(isNaN(t)?e:t)}const jU=function t(e){var r=woe(e);function n(i,s){var a=r((i=aB(i)).r,(s=aB(s)).r),o=r(i.g,s.g),A=r(i.b,s.b),l=hL(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=A(u),i.opacity=l(u),i+""}}return n.gamma=t,n}(1);function xoe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function boe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Boe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Fu(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function Coe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Pm(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Eoe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Fu(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var oB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xw=new RegExp(oB.source,"g");function _oe(t){return function(){return t}}function Ioe(t){return function(e){return t(e)+""}}function Soe(t,e){var r=oB.lastIndex=xw.lastIndex=0,n,i,s,a=-1,o=[],A=[];for(t=t+"",e=e+"";(n=oB.exec(t))&&(i=xw.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,A.push({i:a,x:Pm(n,i)})),r=xw.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?A[0]?Ioe(A[0].x):_oe(e):(e=A.length,function(l){for(var u=0,d;u<e;++u)o[(d=A[u]).i]=d.x(l);return o.join("")})}function Fu(t,e){var r=typeof e,n;return e==null||r==="boolean"?h1(e):(r==="number"?Pm:r==="string"?(n=cf(e))?(e=n,jU):Soe:e instanceof cf?jU:e instanceof Date?Coe:boe(e)?xoe:Array.isArray(e)?Boe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Eoe:Pm)(t,e)}function g1(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Toe(t,e){e===void 0&&(e=t,t=Fu);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function Foe(t){return function(){return t}}function Nm(t){return+t}var RU=[0,1];function Vr(t){return t}function AB(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Foe(isNaN(e)?NaN:.5)}function Uoe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Poe(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=AB(i,n),s=r(a,s)):(n=AB(n,i),s=r(s,a)),function(o){return s(n(o))}}function Noe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=AB(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var A=Rf(t,o,1,n)-1;return s[A](i[A](o))}}function Lf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Tv(){var t=RU,e=RU,r=Fu,n,i,s,a=Vr,o,A,l;function u(){var f=Math.min(t.length,e.length);return a!==Vr&&(a=Uoe(t[0],t[f-1])),o=f>2?Noe:Poe,A=l=null,d}function d(f){return f==null||isNaN(f=+f)?s:(A||(A=o(t.map(n),e,r)))(n(a(f)))}return d.invert=function(f){return a(i((l||(l=o(e,t.map(n),Pm)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,Nm),u()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),r=g1,u()},d.clamp=function(f){return arguments.length?(a=f?!0:Vr,u()):a!==Vr},d.interpolate=function(f){return arguments.length?(r=f,u()):r},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,g){return n=f,i=g,u()}}function p1(){return Tv()(Vr,Vr)}function Qoe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qm(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function du(t){return t=Qm(Math.abs(t)),t?t[1]:NaN}function koe(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],A=0;i>0&&o>0&&(A+o+1>n&&(o=Math.max(1,n-A)),s.push(r.substring(i-=o,i+o)),!((A+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Ooe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Doe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function df(t){if(!(e=Doe.exec(t)))throw new Error("invalid format: "+t);var e;return new m1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}df.prototype=m1.prototype;function m1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}m1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function joe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var gL;function Roe(t,e){var r=Qm(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(gL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Qm(t,Math.max(0,e+s-1))[0]}function MU(t,e){var r=Qm(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const LU={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Qoe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>MU(t*100,e),r:MU,s:Roe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function HU(t){return t}var VU=Array.prototype.map,KU=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Moe(t){var e=t.grouping===void 0||t.thousands===void 0?HU:koe(VU.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?HU:Ooe(VU.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",A=t.nan===void 0?"NaN":t.nan+"";function l(d){d=df(d);var f=d.fill,g=d.align,p=d.sign,m=d.symbol,v=d.zero,y=d.width,w=d.comma,B=d.precision,I=d.trim,T=d.type;T==="n"?(w=!0,T="g"):LU[T]||(B===void 0&&(B=12),I=!0,T="g"),(v||f==="0"&&g==="=")&&(v=!0,f="0",g="=");var F=m==="$"?r:m==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",C=m==="$"?n:/[%p]/.test(T)?a:"",_=LU[T],S=/[defgprs%]/.test(T);B=B===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function P(Q){var k=F,N=C,oe,xe,pe;if(T==="c")N=_(Q)+N,Q="";else{Q=+Q;var me=Q<0||1/Q<0;if(Q=isNaN(Q)?A:_(Math.abs(Q),B),I&&(Q=joe(Q)),me&&+Q==0&&p!=="+"&&(me=!1),k=(me?p==="("?p:o:p==="-"||p==="("?"":p)+k,N=(T==="s"?KU[8+gL/3]:"")+N+(me&&p==="("?")":""),S){for(oe=-1,xe=Q.length;++oe<xe;)if(pe=Q.charCodeAt(oe),48>pe||pe>57){N=(pe===46?i+Q.slice(oe+1):Q.slice(oe))+N,Q=Q.slice(0,oe);break}}}w&&!v&&(Q=e(Q,1/0));var q=k.length+Q.length+N.length,se=q<y?new Array(y-q+1).join(f):"";switch(w&&v&&(Q=e(se+Q,se.length?y-N.length:1/0),se=""),g){case"<":Q=k+Q+N+se;break;case"=":Q=k+se+Q+N;break;case"^":Q=se.slice(0,q=se.length>>1)+k+Q+N+se.slice(q);break;default:Q=se+k+Q+N;break}return s(Q)}return P.toString=function(){return d+""},P}function u(d,f){var g=l((d=df(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(du(f)/3)))*3,m=Math.pow(10,-p),v=KU[8+p/3];return function(y){return g(m*y)+v}}return{format:l,formatPrefix:u}}var Bg,v1,pL;Loe({thousands:",",grouping:[3],currency:["$",""]});function Loe(t){return Bg=Moe(t),v1=Bg.format,pL=Bg.formatPrefix,Bg}function Hoe(t){return Math.max(0,-du(Math.abs(t)))}function Voe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(du(e)/3)))*3-du(Math.abs(t)))}function Koe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,du(e)-du(t))+1}function mL(t,e,r,n){var i=iB(t,e,r),s;switch(n=df(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Voe(i,a))&&(n.precision=s),pL(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Koe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Hoe(i))&&(n.precision=s-(n.type==="%")*2);break}}return v1(n)}function go(t){var e=t.domain;return t.ticks=function(r){var n=e();return rB(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return mL(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],A,l,u=10;for(o<a&&(l=a,a=o,o=l,l=i,i=s,s=l);u-- >0;){if(l=nB(a,o,r),l===A)return n[i]=a,n[s]=o,e(n);if(l>0)a=Math.floor(a/l)*l,o=Math.ceil(o/l)*l;else if(l<0)a=Math.ceil(a*l)/l,o=Math.floor(o*l)/l;else break;A=l}return t},t}function vL(){var t=p1();return t.copy=function(){return Lf(t,vL())},si.apply(t,arguments),go(t)}function yL(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Nm),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return yL(t).unknown(e)},t=arguments.length?Array.from(t,Nm):[0,1],go(r)}function wL(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function $U(t){return Math.log(t)}function GU(t){return Math.exp(t)}function $oe(t){return-Math.log(-t)}function Goe(t){return-Math.exp(-t)}function zoe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Woe(t){return t===10?zoe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Yoe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function zU(t){return(e,r)=>-t(-e,r)}function y1(t){const e=t($U,GU),r=e.domain;let n=10,i,s;function a(){return i=Yoe(n),s=Woe(n),r()[0]<0?(i=zU(i),s=zU(s),t($oe,Goe)):t($U,GU),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const A=r();let l=A[0],u=A[A.length-1];const d=u<l;d&&([l,u]=[u,l]);let f=i(l),g=i(u),p,m;const v=o==null?10:+o;let y=[];if(!(n%1)&&g-f<v){if(f=Math.floor(f),g=Math.ceil(g),l>0){for(;f<=g;++f)for(p=1;p<n;++p)if(m=f<0?p/s(-f):p*s(f),!(m<l)){if(m>u)break;y.push(m)}}else for(;f<=g;++f)for(p=n-1;p>=1;--p)if(m=f>0?p/s(-f):p*s(f),!(m<l)){if(m>u)break;y.push(m)}y.length*2<v&&(y=rB(l,u,v))}else y=rB(f,g,Math.min(g-f,v)).map(s);return d?y.reverse():y},e.tickFormat=(o,A)=>{if(o==null&&(o=10),A==null&&(A=n===10?"s":","),typeof A!="function"&&(!(n%1)&&(A=df(A)).precision==null&&(A.trim=!0),A=v1(A)),o===1/0)return A;const l=Math.max(1,n*o/e.ticks().length);return u=>{let d=u/s(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=l?A(u):""}},e.nice=()=>r(wL(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function xL(){const t=y1(Tv()).domain([1,10]);return t.copy=()=>Lf(t,xL()).base(t.base()),si.apply(t,arguments),t}function WU(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function YU(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function w1(t){var e=1,r=t(WU(e),YU(e));return r.constant=function(n){return arguments.length?t(WU(e=+n),YU(e)):e},go(r)}function bL(){var t=w1(Tv());return t.copy=function(){return Lf(t,bL()).constant(t.constant())},si.apply(t,arguments)}function XU(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Xoe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function qoe(t){return t<0?-t*t:t*t}function x1(t){var e=t(Vr,Vr),r=1;function n(){return r===1?t(Vr,Vr):r===.5?t(Xoe,qoe):t(XU(r),XU(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},go(e)}function b1(){var t=x1(Tv());return t.copy=function(){return Lf(t,b1()).exponent(t.exponent())},si.apply(t,arguments),t}function Joe(){return b1.apply(null,arguments).exponent(.5)}function qU(t){return Math.sign(t)*t*t}function Zoe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function BL(){var t=p1(),e=[0,1],r=!1,n;function i(s){var a=Zoe(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(qU(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Nm)).map(qU)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return BL(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},si.apply(i,arguments),go(i)}function CL(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=noe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[Rf(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(La),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return CL().domain(t).range(e).unknown(n)},si.apply(s,arguments)}function EL(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(A){return A!=null&&A<=A?i[Rf(n,A,0,r)]:s}function o(){var A=-1;for(n=new Array(r);++A<r;)n[A]=((A+1)*e-(A-r)*t)/(r+1);return a}return a.domain=function(A){return arguments.length?([t,e]=A,t=+t,e=+e,o()):[t,e]},a.range=function(A){return arguments.length?(r=(i=Array.from(A)).length-1,o()):i.slice()},a.invertExtent=function(A){var l=i.indexOf(A);return l<0?[NaN,NaN]:l<1?[t,n[0]]:l>=r?[n[r-1],e]:[n[l-1],n[l]]},a.unknown=function(A){return arguments.length&&(s=A),a},a.thresholds=function(){return n.slice()},a.copy=function(){return EL().domain([t,e]).range(i).unknown(s)},si.apply(go(a),arguments)}function _L(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[Rf(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return _L().domain(t).range(e).unknown(r)},si.apply(i,arguments)}const bw=new Date,Bw=new Date;function er(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const A=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return A;let l;do A.push(l=new Date(+s)),e(s,o),t(s);while(l<s&&s<a);return A},i.filter=s=>er(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(bw.setTime(+s),Bw.setTime(+a),t(bw),t(Bw),Math.floor(r(bw,Bw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const km=er(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);km.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?er(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):km);km.range;const vs=1e3,Xn=vs*60,ys=Xn*60,Qs=ys*24,B1=Qs*7,JU=Qs*30,Cw=Qs*365,Go=er(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*vs)},(t,e)=>(e-t)/vs,t=>t.getUTCSeconds());Go.range;const C1=er(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vs)},(t,e)=>{t.setTime(+t+e*Xn)},(t,e)=>(e-t)/Xn,t=>t.getMinutes());C1.range;const E1=er(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Xn)},(t,e)=>(e-t)/Xn,t=>t.getUTCMinutes());E1.range;const _1=er(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vs-t.getMinutes()*Xn)},(t,e)=>{t.setTime(+t+e*ys)},(t,e)=>(e-t)/ys,t=>t.getHours());_1.range;const I1=er(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ys)},(t,e)=>(e-t)/ys,t=>t.getUTCHours());I1.range;const Hf=er(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Xn)/Qs,t=>t.getDate()-1);Hf.range;const Fv=er(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qs,t=>t.getUTCDate()-1);Fv.range;const IL=er(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qs,t=>Math.floor(t/Qs));IL.range;function PA(t){return er(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Xn)/B1)}const Uv=PA(0),Om=PA(1),eAe=PA(2),tAe=PA(3),fu=PA(4),rAe=PA(5),nAe=PA(6);Uv.range;Om.range;eAe.range;tAe.range;fu.range;rAe.range;nAe.range;function NA(t){return er(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/B1)}const Pv=NA(0),Dm=NA(1),iAe=NA(2),sAe=NA(3),hu=NA(4),aAe=NA(5),oAe=NA(6);Pv.range;Dm.range;iAe.range;sAe.range;hu.range;aAe.range;oAe.range;const S1=er(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());S1.range;const T1=er(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());T1.range;const ks=er(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ks.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:er(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ks.range;const Os=er(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Os.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:er(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Os.range;function SL(t,e,r,n,i,s){const a=[[Go,1,vs],[Go,5,5*vs],[Go,15,15*vs],[Go,30,30*vs],[s,1,Xn],[s,5,5*Xn],[s,15,15*Xn],[s,30,30*Xn],[i,1,ys],[i,3,3*ys],[i,6,6*ys],[i,12,12*ys],[n,1,Qs],[n,2,2*Qs],[r,1,B1],[e,1,JU],[e,3,3*JU],[t,1,Cw]];function o(l,u,d){const f=u<l;f&&([l,u]=[u,l]);const g=d&&typeof d.range=="function"?d:A(l,u,d),p=g?g.range(l,+u+1):[];return f?p.reverse():p}function A(l,u,d){const f=Math.abs(u-l)/d,g=u1(([,,v])=>v).right(a,f);if(g===a.length)return t.every(iB(l/Cw,u/Cw,d));if(g===0)return km.every(Math.max(iB(l,u,d),1));const[p,m]=a[f/a[g-1][2]<a[g][2]/f?g-1:g];return p.every(m)}return[o,A]}const[AAe,lAe]=SL(Os,T1,Pv,IL,I1,E1),[uAe,cAe]=SL(ks,S1,Uv,Hf,_1,C1);function Ew(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function _w(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ic(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function dAe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,A=t.shortMonths,l=Sc(i),u=Tc(i),d=Sc(s),f=Tc(s),g=Sc(a),p=Tc(a),m=Sc(o),v=Tc(o),y=Sc(A),w=Tc(A),B={a:me,A:q,b:se,B:ue,c:null,d:iP,e:iP,f:kAe,g:$Ae,G:zAe,H:PAe,I:NAe,j:QAe,L:TL,m:OAe,M:DAe,p:Se,q:ie,Q:oP,s:AP,S:jAe,u:RAe,U:MAe,V:LAe,w:HAe,W:VAe,x:null,X:null,y:KAe,Y:GAe,Z:WAe,"%":aP},I={a:Ue,A:Ye,b:D,B:V,c:null,d:sP,e:sP,f:JAe,g:Ale,G:ule,H:YAe,I:XAe,j:qAe,L:UL,m:ZAe,M:ele,p:j,q:Y,Q:oP,s:AP,S:tle,u:rle,U:nle,V:ile,w:sle,W:ale,x:null,X:null,y:ole,Y:lle,Z:cle,"%":aP},T={a:P,A:Q,b:k,B:N,c:oe,d:rP,e:rP,f:SAe,g:tP,G:eP,H:nP,I:nP,j:CAe,L:IAe,m:BAe,M:EAe,p:S,q:bAe,Q:FAe,s:UAe,S:_Ae,u:mAe,U:vAe,V:yAe,w:pAe,W:wAe,x:xe,X:pe,y:tP,Y:eP,Z:xAe,"%":TAe};B.x=F(r,B),B.X=F(n,B),B.c=F(e,B),I.x=F(r,I),I.X=F(n,I),I.c=F(e,I);function F(M,$){return function(W){var L=[],be=-1,Be=0,Ne=M.length,Ve,nr,Gi;for(W instanceof Date||(W=new Date(+W));++be<Ne;)M.charCodeAt(be)===37&&(L.push(M.slice(Be,be)),(nr=ZU[Ve=M.charAt(++be)])!=null?Ve=M.charAt(++be):nr=Ve==="e"?" ":"0",(Gi=$[Ve])&&(Ve=Gi(W,nr)),L.push(Ve),Be=be+1);return L.push(M.slice(Be,be)),L.join("")}}function C(M,$){return function(W){var L=Ic(1900,void 0,1),be=_(L,M,W+="",0),Be,Ne;if(be!=W.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if($&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(Be=_w(Ic(L.y,0,1)),Ne=Be.getUTCDay(),Be=Ne>4||Ne===0?Dm.ceil(Be):Dm(Be),Be=Fv.offset(Be,(L.V-1)*7),L.y=Be.getUTCFullYear(),L.m=Be.getUTCMonth(),L.d=Be.getUTCDate()+(L.w+6)%7):(Be=Ew(Ic(L.y,0,1)),Ne=Be.getDay(),Be=Ne>4||Ne===0?Om.ceil(Be):Om(Be),Be=Hf.offset(Be,(L.V-1)*7),L.y=Be.getFullYear(),L.m=Be.getMonth(),L.d=Be.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),Ne="Z"in L?_w(Ic(L.y,0,1)).getUTCDay():Ew(Ic(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(Ne+5)%7:L.w+L.U*7-(Ne+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,_w(L)):Ew(L)}}function _(M,$,W,L){for(var be=0,Be=$.length,Ne=W.length,Ve,nr;be<Be;){if(L>=Ne)return-1;if(Ve=$.charCodeAt(be++),Ve===37){if(Ve=$.charAt(be++),nr=T[Ve in ZU?$.charAt(be++):Ve],!nr||(L=nr(M,W,L))<0)return-1}else if(Ve!=W.charCodeAt(L++))return-1}return L}function S(M,$,W){var L=l.exec($.slice(W));return L?(M.p=u.get(L[0].toLowerCase()),W+L[0].length):-1}function P(M,$,W){var L=g.exec($.slice(W));return L?(M.w=p.get(L[0].toLowerCase()),W+L[0].length):-1}function Q(M,$,W){var L=d.exec($.slice(W));return L?(M.w=f.get(L[0].toLowerCase()),W+L[0].length):-1}function k(M,$,W){var L=y.exec($.slice(W));return L?(M.m=w.get(L[0].toLowerCase()),W+L[0].length):-1}function N(M,$,W){var L=m.exec($.slice(W));return L?(M.m=v.get(L[0].toLowerCase()),W+L[0].length):-1}function oe(M,$,W){return _(M,e,$,W)}function xe(M,$,W){return _(M,r,$,W)}function pe(M,$,W){return _(M,n,$,W)}function me(M){return a[M.getDay()]}function q(M){return s[M.getDay()]}function se(M){return A[M.getMonth()]}function ue(M){return o[M.getMonth()]}function Se(M){return i[+(M.getHours()>=12)]}function ie(M){return 1+~~(M.getMonth()/3)}function Ue(M){return a[M.getUTCDay()]}function Ye(M){return s[M.getUTCDay()]}function D(M){return A[M.getUTCMonth()]}function V(M){return o[M.getUTCMonth()]}function j(M){return i[+(M.getUTCHours()>=12)]}function Y(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var $=F(M+="",B);return $.toString=function(){return M},$},parse:function(M){var $=C(M+="",!1);return $.toString=function(){return M},$},utcFormat:function(M){var $=F(M+="",I);return $.toString=function(){return M},$},utcParse:function(M){var $=C(M+="",!0);return $.toString=function(){return M},$}}}var ZU={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,fAe=/^%/,hAe=/[\\^$*+?|[\]().{}]/g;function ze(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function gAe(t){return t.replace(hAe,"\\$&")}function Sc(t){return new RegExp("^(?:"+t.map(gAe).join("|")+")","i")}function Tc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function pAe(t,e,r){var n=dr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function mAe(t,e,r){var n=dr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function vAe(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function yAe(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function wAe(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function eP(t,e,r){var n=dr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function tP(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function xAe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function bAe(t,e,r){var n=dr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function BAe(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function rP(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function CAe(t,e,r){var n=dr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function nP(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function EAe(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function _Ae(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function IAe(t,e,r){var n=dr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function SAe(t,e,r){var n=dr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function TAe(t,e,r){var n=fAe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function FAe(t,e,r){var n=dr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function UAe(t,e,r){var n=dr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function iP(t,e){return ze(t.getDate(),e,2)}function PAe(t,e){return ze(t.getHours(),e,2)}function NAe(t,e){return ze(t.getHours()%12||12,e,2)}function QAe(t,e){return ze(1+Hf.count(ks(t),t),e,3)}function TL(t,e){return ze(t.getMilliseconds(),e,3)}function kAe(t,e){return TL(t,e)+"000"}function OAe(t,e){return ze(t.getMonth()+1,e,2)}function DAe(t,e){return ze(t.getMinutes(),e,2)}function jAe(t,e){return ze(t.getSeconds(),e,2)}function RAe(t){var e=t.getDay();return e===0?7:e}function MAe(t,e){return ze(Uv.count(ks(t)-1,t),e,2)}function FL(t){var e=t.getDay();return e>=4||e===0?fu(t):fu.ceil(t)}function LAe(t,e){return t=FL(t),ze(fu.count(ks(t),t)+(ks(t).getDay()===4),e,2)}function HAe(t){return t.getDay()}function VAe(t,e){return ze(Om.count(ks(t)-1,t),e,2)}function KAe(t,e){return ze(t.getFullYear()%100,e,2)}function $Ae(t,e){return t=FL(t),ze(t.getFullYear()%100,e,2)}function GAe(t,e){return ze(t.getFullYear()%1e4,e,4)}function zAe(t,e){var r=t.getDay();return t=r>=4||r===0?fu(t):fu.ceil(t),ze(t.getFullYear()%1e4,e,4)}function WAe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ze(e/60|0,"0",2)+ze(e%60,"0",2)}function sP(t,e){return ze(t.getUTCDate(),e,2)}function YAe(t,e){return ze(t.getUTCHours(),e,2)}function XAe(t,e){return ze(t.getUTCHours()%12||12,e,2)}function qAe(t,e){return ze(1+Fv.count(Os(t),t),e,3)}function UL(t,e){return ze(t.getUTCMilliseconds(),e,3)}function JAe(t,e){return UL(t,e)+"000"}function ZAe(t,e){return ze(t.getUTCMonth()+1,e,2)}function ele(t,e){return ze(t.getUTCMinutes(),e,2)}function tle(t,e){return ze(t.getUTCSeconds(),e,2)}function rle(t){var e=t.getUTCDay();return e===0?7:e}function nle(t,e){return ze(Pv.count(Os(t)-1,t),e,2)}function PL(t){var e=t.getUTCDay();return e>=4||e===0?hu(t):hu.ceil(t)}function ile(t,e){return t=PL(t),ze(hu.count(Os(t),t)+(Os(t).getUTCDay()===4),e,2)}function sle(t){return t.getUTCDay()}function ale(t,e){return ze(Dm.count(Os(t)-1,t),e,2)}function ole(t,e){return ze(t.getUTCFullYear()%100,e,2)}function Ale(t,e){return t=PL(t),ze(t.getUTCFullYear()%100,e,2)}function lle(t,e){return ze(t.getUTCFullYear()%1e4,e,4)}function ule(t,e){var r=t.getUTCDay();return t=r>=4||r===0?hu(t):hu.ceil(t),ze(t.getUTCFullYear()%1e4,e,4)}function cle(){return"+0000"}function aP(){return"%"}function oP(t){return+t}function AP(t){return Math.floor(+t/1e3)}var el,NL,QL;dle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dle(t){return el=dAe(t),NL=el.format,el.parse,QL=el.utcFormat,el.utcParse,el}function fle(t){return new Date(t)}function hle(t){return t instanceof Date?+t:+new Date(+t)}function F1(t,e,r,n,i,s,a,o,A,l){var u=p1(),d=u.invert,f=u.domain,g=l(".%L"),p=l(":%S"),m=l("%I:%M"),v=l("%I %p"),y=l("%a %d"),w=l("%b %d"),B=l("%B"),I=l("%Y");function T(F){return(A(F)<F?g:o(F)<F?p:a(F)<F?m:s(F)<F?v:n(F)<F?i(F)<F?y:w:r(F)<F?B:I)(F)}return u.invert=function(F){return new Date(d(F))},u.domain=function(F){return arguments.length?f(Array.from(F,hle)):f().map(fle)},u.ticks=function(F){var C=f();return t(C[0],C[C.length-1],F??10)},u.tickFormat=function(F,C){return C==null?T:l(C)},u.nice=function(F){var C=f();return(!F||typeof F.range!="function")&&(F=e(C[0],C[C.length-1],F??10)),F?f(wL(C,F)):u},u.copy=function(){return Lf(u,F1(t,e,r,n,i,s,a,o,A,l))},u}function gle(){return si.apply(F1(uAe,cAe,ks,S1,Uv,Hf,_1,C1,Go,NL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ple(){return si.apply(F1(AAe,lAe,Os,T1,Pv,Fv,I1,E1,Go,QL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Nv(){var t=0,e=1,r,n,i,s,a=Vr,o=!1,A;function l(d){return d==null||isNaN(d=+d)?A:a(i===0?.5:(d=(s(d)-r)*i,o?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([t,e]=d,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),l):[t,e]},l.clamp=function(d){return arguments.length?(o=!!d,l):o},l.interpolator=function(d){return arguments.length?(a=d,l):a};function u(d){return function(f){var g,p;return arguments.length?([g,p]=f,a=d(g,p),l):[a(0),a(1)]}}return l.range=u(Fu),l.rangeRound=u(g1),l.unknown=function(d){return arguments.length?(A=d,l):A},function(d){return s=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),l}}function po(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function kL(){var t=go(Nv()(Vr));return t.copy=function(){return po(t,kL())},Ks.apply(t,arguments)}function OL(){var t=y1(Nv()).domain([1,10]);return t.copy=function(){return po(t,OL()).base(t.base())},Ks.apply(t,arguments)}function DL(){var t=w1(Nv());return t.copy=function(){return po(t,DL()).constant(t.constant())},Ks.apply(t,arguments)}function U1(){var t=x1(Nv());return t.copy=function(){return po(t,U1()).exponent(t.exponent())},Ks.apply(t,arguments)}function mle(){return U1.apply(null,arguments).exponent(.5)}function jL(){var t=[],e=Vr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Rf(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(La),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>roe(t,s/n))},r.copy=function(){return jL(e).domain(t)},Ks.apply(r,arguments)}function Qv(){var t=0,e=.5,r=1,n=1,i,s,a,o,A,l=Vr,u,d=!1,f;function g(m){return isNaN(m=+m)?f:(m=.5+((m=+u(m))-s)*(n*m<n*s?o:A),l(d?Math.max(0,Math.min(1,m)):m))}g.domain=function(m){return arguments.length?([t,e,r]=m,i=u(t=+t),s=u(e=+e),a=u(r=+r),o=i===s?0:.5/(s-i),A=s===a?0:.5/(a-s),n=s<i?-1:1,g):[t,e,r]},g.clamp=function(m){return arguments.length?(d=!!m,g):d},g.interpolator=function(m){return arguments.length?(l=m,g):l};function p(m){return function(v){var y,w,B;return arguments.length?([y,w,B]=v,l=Toe(m,[y,w,B]),g):[l(0),l(.5),l(1)]}}return g.range=p(Fu),g.rangeRound=p(g1),g.unknown=function(m){return arguments.length?(f=m,g):f},function(m){return u=m,i=m(t),s=m(e),a=m(r),o=i===s?0:.5/(s-i),A=s===a?0:.5/(a-s),n=s<i?-1:1,g}}function RL(){var t=go(Qv()(Vr));return t.copy=function(){return po(t,RL())},Ks.apply(t,arguments)}function ML(){var t=y1(Qv()).domain([.1,1,10]);return t.copy=function(){return po(t,ML()).base(t.base())},Ks.apply(t,arguments)}function LL(){var t=w1(Qv());return t.copy=function(){return po(t,LL()).constant(t.constant())},Ks.apply(t,arguments)}function P1(){var t=x1(Qv());return t.copy=function(){return po(t,P1()).exponent(t.exponent())},Ks.apply(t,arguments)}function vle(){return P1.apply(null,arguments).exponent(.5)}const Yc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:d1,scaleDiverging:RL,scaleDivergingLog:ML,scaleDivergingPow:P1,scaleDivergingSqrt:vle,scaleDivergingSymlog:LL,scaleIdentity:yL,scaleImplicit:sB,scaleLinear:vL,scaleLog:xL,scaleOrdinal:c1,scalePoint:soe,scalePow:b1,scaleQuantile:CL,scaleQuantize:EL,scaleRadial:BL,scaleSequential:kL,scaleSequentialLog:OL,scaleSequentialPow:U1,scaleSequentialQuantile:jL,scaleSequentialSqrt:mle,scaleSequentialSymlog:DL,scaleSqrt:Joe,scaleSymlog:bL,scaleThreshold:_L,scaleTime:gle,scaleUtc:ple,tickFormat:mL},Symbol.toStringTag,{value:"Module"}));var mo=t=>t.chartData,N1=G([mo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),kv=(t,e,r,n)=>n?N1(t):mo(t);function gu(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(Tn(e)&&Tn(r))return!0}return!1}function lP(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function yle(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,s;if(Tn(r))i=r;else if(typeof r=="function")return;if(Tn(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(gu(a))return a}}function wle(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(gu(n))return lP(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(de(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&sU.test(i)){var A=sU.exec(i);if(A==null||e==null)a=void 0;else{var l=+A[1];a=e[0]-l}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(de(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&aU.test(s)){var u=aU.exec(s);if(u==null||e==null)o=void 0;else{var d=+u[1];o=e[1]+d}}else o=e==null?void 0:e[1];var f=[a,o];if(gu(f))return e==null?f:lP(f,e,r)}}}var Uu=1e9,xle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},k1,wt=!0,ni="[DecimalError] ",nA=ni+"Invalid argument: ",Q1=ni+"Exponent out of range: ",Pu=Math.floor,Po=Math.pow,ble=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vn,Ar=1e7,dt=7,HL=9007199254740991,jm=Pu(HL/dt),ge={};ge.absoluteValue=ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ge.comparedTo=ge.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*dt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ge.dividedBy=ge.div=function(t){return Cs(this,new this.constructor(t))};ge.dividedToIntegerBy=ge.idiv=function(t){var e=this,r=e.constructor;return it(Cs(e,new r(t),0,1),r.precision)};ge.equals=ge.eq=function(t){return!this.cmp(t)};ge.exponent=function(){return $t(this)};ge.greaterThan=ge.gt=function(t){return this.cmp(t)>0};ge.greaterThanOrEqualTo=ge.gte=function(t){return this.cmp(t)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(t){return this.cmp(t)<0};ge.lessThanOrEqualTo=ge.lte=function(t){return this.cmp(t)<1};ge.logarithm=ge.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(vn))throw Error(ni+"NaN");if(r.s<1)throw Error(ni+(r.s?"NaN":"-Infinity"));return r.eq(vn)?new n(0):(wt=!1,e=Cs(ff(r,s),ff(t,s),s),wt=!0,it(e,i))};ge.minus=ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$L(e,t):VL(e,(t.s=-t.s,t))};ge.modulo=ge.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ni+"NaN");return r.s?(wt=!1,e=Cs(r,t,0,1).times(t),wt=!0,r.minus(e)):it(new n(r),i)};ge.naturalExponential=ge.exp=function(){return KL(this)};ge.naturalLogarithm=ge.ln=function(){return ff(this)};ge.negated=ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ge.plus=ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?VL(e,t):$L(e,(t.s=-t.s,t))};ge.precision=ge.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(nA+t);if(e=$t(i)+1,n=i.d.length-1,r=n*dt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ge.squareRoot=ge.sqrt=function(){var t,e,r,n,i,s,a,o=this,A=o.constructor;if(o.s<1){if(!o.s)return new A(0);throw Error(ni+"NaN")}for(t=$t(o),wt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Ni(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Pu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new A(e)):n=new A(i.toString()),r=A.precision,i=a=r+3;;)if(s=n,n=s.plus(Cs(o,s,a+2)).times(.5),Ni(s.d).slice(0,a)===(e=Ni(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(it(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return wt=!0,it(n,r)};ge.times=ge.mul=function(t){var e,r,n,i,s,a,o,A,l,u=this,d=u.constructor,f=u.d,g=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,r=u.e+t.e,A=f.length,l=g.length,A<l&&(s=f,f=g,g=s,a=A,A=l,l=a),s=[],a=A+l,n=a;n--;)s.push(0);for(n=l;--n>=0;){for(e=0,i=A+n;i>n;)o=s[i]+g[n]*f[i-n-1]+e,s[i--]=o%Ar|0,e=o/Ar|0;s[i]=(s[i]+e)%Ar|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,wt?it(t,d.precision):t};ge.toDecimalPlaces=ge.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Hi(t,0,Uu),e===void 0?e=n.rounding:Hi(e,0,8),it(r,t+$t(r)+1,e))};ge.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=xA(n,!0):(Hi(t,0,Uu),e===void 0?e=i.rounding:Hi(e,0,8),n=it(new i(n),t+1,e),r=xA(n,!0,t+1)),r};ge.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?xA(i):(Hi(t,0,Uu),e===void 0?e=s.rounding:Hi(e,0,8),n=it(new s(i),t+$t(i)+1,e),r=xA(n.abs(),!1,t+$t(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ge.toInteger=ge.toint=function(){var t=this,e=t.constructor;return it(new e(t),$t(t)+1,e.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(t){var e,r,n,i,s,a,o=this,A=o.constructor,l=12,u=+(t=new A(t));if(!t.s)return new A(vn);if(o=new A(o),!o.s){if(t.s<1)throw Error(ni+"Infinity");return o}if(o.eq(vn))return o;if(n=A.precision,t.eq(vn))return it(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=u<0?-u:u)<=HL){for(i=new A(vn),e=Math.ceil(n/dt+4),wt=!1;r%2&&(i=i.times(o),cP(i.d,e)),r=Pu(r/2),r!==0;)o=o.times(o),cP(o.d,e);return wt=!0,t.s<0?new A(vn).div(i):it(i,n)}}else if(s<0)throw Error(ni+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,wt=!1,i=t.times(ff(o,n+l)),wt=!0,i=KL(i),i.s=s,i};ge.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=$t(i),n=xA(i,r<=s.toExpNeg||r>=s.toExpPos)):(Hi(t,1,Uu),e===void 0?e=s.rounding:Hi(e,0,8),i=it(new s(i),t,e),r=$t(i),n=xA(i,t<=r||r<=s.toExpNeg,t)),n};ge.toSignificantDigits=ge.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Hi(t,1,Uu),e===void 0?e=n.rounding:Hi(e,0,8)),it(new n(r),t,e)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=$t(t),r=t.constructor;return xA(t,e<=r.toExpNeg||e>=r.toExpPos)};function VL(t,e){var r,n,i,s,a,o,A,l,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),wt?it(e,d):e;if(A=t.d,l=e.d,a=t.e,i=e.e,A=A.slice(),s=a-i,s){for(s<0?(n=A,s=-s,o=l.length):(n=l,i=a,o=A.length),a=Math.ceil(d/dt),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=A.length,s=l.length,o-s<0&&(s=o,n=l,l=A,A=n),r=0;s;)r=(A[--s]=A[s]+l[s]+r)/Ar|0,A[s]%=Ar;for(r&&(A.unshift(r),++i),o=A.length;A[--o]==0;)A.pop();return e.d=A,e.e=i,wt?it(e,d):e}function Hi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(nA+t)}function Ni(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=dt-n.length,r&&(s+=Aa(r)),s+=n;a=t[e],n=a+"",r=dt-n.length,r&&(s+=Aa(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Cs=function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%Ar|0,a=s/Ar|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,A;if(s!=a)A=s>a?1:-1;else for(o=A=0;o<s;o++)if(n[o]!=i[o]){A=n[o]>i[o]?1:-1;break}return A}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*Ar+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,A,l,u,d,f,g,p,m,v,y,w,B,I,T,F,C,_,S=n.constructor,P=n.s==i.s?1:-1,Q=n.d,k=i.d;if(!n.s)return new S(n);if(!i.s)throw Error(ni+"Division by zero");for(A=n.e-i.e,C=k.length,T=Q.length,g=new S(P),p=g.d=[],l=0;k[l]==(Q[l]||0);)++l;if(k[l]>(Q[l]||0)&&--A,s==null?w=s=S.precision:a?w=s+($t(n)-$t(i))+1:w=s,w<0)return new S(0);if(w=w/dt+2|0,l=0,C==1)for(u=0,k=k[0],w++;(l<T||u)&&w--;l++)B=u*Ar+(Q[l]||0),p[l]=B/k|0,u=B%k|0;else{for(u=Ar/(k[0]+1)|0,u>1&&(k=t(k,u),Q=t(Q,u),C=k.length,T=Q.length),I=C,m=Q.slice(0,C),v=m.length;v<C;)m[v++]=0;_=k.slice(),_.unshift(0),F=k[0],k[1]>=Ar/2&&++F;do u=0,o=e(k,m,C,v),o<0?(y=m[0],C!=v&&(y=y*Ar+(m[1]||0)),u=y/F|0,u>1?(u>=Ar&&(u=Ar-1),d=t(k,u),f=d.length,v=m.length,o=e(d,m,f,v),o==1&&(u--,r(d,C<f?_:k,f))):(u==0&&(o=u=1),d=k.slice()),f=d.length,f<v&&d.unshift(0),r(m,d,v),o==-1&&(v=m.length,o=e(k,m,C,v),o<1&&(u++,r(m,C<v?_:k,v))),v=m.length):o===0&&(u++,m=[0]),p[l++]=u,o&&m[0]?m[v++]=Q[I]||0:(m=[Q[I]],v=1);while((I++<T||m[0]!==void 0)&&w--)}return p[0]||p.shift(),g.e=A,it(g,a?s+$t(g)+1:s)}}();function KL(t,e){var r,n,i,s,a,o,A=0,l=0,u=t.constructor,d=u.precision;if($t(t)>16)throw Error(Q1+$t(t));if(!t.s)return new u(vn);for(e==null?(wt=!1,o=d):o=e,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),l+=5;for(n=Math.log(Po(2,l))/Math.LN10*2+5|0,o+=n,r=i=s=new u(vn),u.precision=o;;){if(i=it(i.times(t),o),r=r.times(++A),a=s.plus(Cs(i,r,o)),Ni(a.d).slice(0,o)===Ni(s.d).slice(0,o)){for(;l--;)s=it(s.times(s),o);return u.precision=d,e==null?(wt=!0,it(s,d)):s}s=a}}function $t(t){for(var e=t.e*dt,r=t.d[0];r>=10;r/=10)e++;return e}function Iw(t,e,r){if(e>t.LN10.sd())throw wt=!0,r&&(t.precision=r),Error(ni+"LN10 precision limit exceeded");return it(new t(t.LN10),e)}function Aa(t){for(var e="";t--;)e+="0";return e}function ff(t,e){var r,n,i,s,a,o,A,l,u,d=1,f=10,g=t,p=g.d,m=g.constructor,v=m.precision;if(g.s<1)throw Error(ni+(g.s?"NaN":"-Infinity"));if(g.eq(vn))return new m(0);if(e==null?(wt=!1,l=v):l=e,g.eq(10))return e==null&&(wt=!0),Iw(m,l);if(l+=f,m.precision=l,r=Ni(p),n=r.charAt(0),s=$t(g),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=Ni(g.d),n=r.charAt(0),d++;s=$t(g),n>1?(g=new m("0."+r),s++):g=new m(n+"."+r.slice(1))}else return A=Iw(m,l+2,v).times(s+""),g=ff(new m(n+"."+r.slice(1)),l-f).plus(A),m.precision=v,e==null?(wt=!0,it(g,v)):g;for(o=a=g=Cs(g.minus(vn),g.plus(vn),l),u=it(g.times(g),l),i=3;;){if(a=it(a.times(u),l),A=o.plus(Cs(a,new m(i),l)),Ni(A.d).slice(0,l)===Ni(o.d).slice(0,l))return o=o.times(2),s!==0&&(o=o.plus(Iw(m,l+2,v).times(s+""))),o=Cs(o,new m(d),l),m.precision=v,e==null?(wt=!0,it(o,v)):o;o=A,i+=2}}function uP(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Pu(r/dt),t.d=[],n=(r+1)%dt,r<0&&(n+=dt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=dt;n<i;)t.d.push(+e.slice(n,n+=dt));e=e.slice(n),n=dt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),wt&&(t.e>jm||t.e<-jm))throw Error(Q1+r)}else t.s=0,t.e=0,t.d=[0];return t}function it(t,e,r){var n,i,s,a,o,A,l,u,d=t.d;for(a=1,s=d[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=dt,i=e,l=d[u=0];else{if(u=Math.ceil((n+1)/dt),s=d.length,u>=s)return t;for(l=s=d[u],a=1;s>=10;s/=10)a++;n%=dt,i=n-dt+a}if(r!==void 0&&(s=Po(10,a-i-1),o=l/s%10|0,A=e<0||d[u+1]!==void 0||l%s,A=r<4?(o||A)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||A||r==6&&(n>0?i>0?l/Po(10,a-i):0:d[u-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return A?(s=$t(t),d.length=1,e=e-s-1,d[0]=Po(10,(dt-e%dt)%dt),t.e=Pu(-e/dt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=u,s=1,u--):(d.length=u+1,s=Po(10,dt-n),d[u]=i>0?(l/Po(10,a-i)%Po(10,i)|0)*s:0),A)for(;;)if(u==0){(d[0]+=s)==Ar&&(d[0]=1,++t.e);break}else{if(d[u]+=s,d[u]!=Ar)break;d[u--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(wt&&(t.e>jm||t.e<-jm))throw Error(Q1+$t(t));return t}function $L(t,e){var r,n,i,s,a,o,A,l,u,d,f=t.constructor,g=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),wt?it(e,g):e;if(A=t.d,d=e.d,n=e.e,l=t.e,A=A.slice(),a=l-n,a){for(u=a<0,u?(r=A,a=-a,o=d.length):(r=d,n=l,o=A.length),i=Math.max(Math.ceil(g/dt),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=A.length,o=d.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(A[i]!=d[i]){u=A[i]<d[i];break}a=0}for(u&&(r=A,A=d,d=r,e.s=-e.s),o=A.length,i=d.length-o;i>0;--i)A[o++]=0;for(i=d.length;i>a;){if(A[--i]<d[i]){for(s=i;s&&A[--s]===0;)A[s]=Ar-1;--A[s],A[i]+=Ar}A[i]-=d[i]}for(;A[--o]===0;)A.pop();for(;A[0]===0;A.shift())--n;return A[0]?(e.d=A,e.e=n,wt?it(e,g):e):new f(0)}function xA(t,e,r){var n,i=$t(t),s=Ni(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+Aa(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Aa(-i-1)+s,r&&(n=r-a)>0&&(s+=Aa(n))):i>=a?(s+=Aa(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+Aa(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=Aa(n))),t.s<0?"-"+s:s}function cP(t,e){if(t.length>e)return t.length=e,!0}function GL(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(nA+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return uP(a,s.toString())}else if(typeof s!="string")throw Error(nA+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,ble.test(s))uP(a,s);else throw Error(nA+s)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=GL,i.config=i.set=Ble,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Ble(t){if(!t||typeof t!="object")throw Error(ni+"Object expected");var e,r,n,i=["precision",1,Uu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Pu(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(nA+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(nA+r+": "+n);return this}var k1=GL(xle);vn=new k1(1);const Xe=k1;var Cle=t=>t,zL={"@@functional/placeholder":!0},WL=t=>t===zL,dP=t=>function e(){return arguments.length===0||arguments.length===1&&WL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},YL=(t,e)=>t===1?e:dP(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==zL).length;return s>=t?e(...n):YL(t-s,dP(function(){for(var a=arguments.length,o=new Array(a),A=0;A<a;A++)o[A]=arguments[A];var l=n.map(u=>WL(u)?o.shift():u);return e(...l,...o)}))}),Ov=t=>YL(t.length,t),lB=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},Ele=Ov((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),_le=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Cle;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,A)=>A(o),s(...arguments))}},uB=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),XL=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e&&i.every((a,o)=>{var A;return a===((A=e)===null||A===void 0?void 0:A[o])})||(e=i,r=t(...i)),r}};function qL(t){var e;return t===0?e=1:e=Math.floor(new Xe(t).abs().log(10).toNumber())+1,e}function JL(t,e,r){for(var n=new Xe(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}Ov((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});Ov((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});Ov((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var ZL=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},e5=(t,e,r)=>{if(t.lte(0))return new Xe(0);var n=qL(t.toNumber()),i=new Xe(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new Xe(Math.ceil(s.div(a).toNumber())).add(r).mul(a),A=o.mul(i);return e?new Xe(A.toNumber()):new Xe(Math.ceil(A.toNumber()))},Ile=(t,e,r)=>{var n=new Xe(1),i=new Xe(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Xe(10).pow(qL(t)-1),i=new Xe(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Xe(Math.floor(t)))}else t===0?i=new Xe(Math.floor((e-1)/2)):r||(i=new Xe(Math.floor(t)));var a=Math.floor((e-1)/2),o=_le(Ele(A=>i.add(new Xe(A-a).mul(n)).toNumber()),lB);return o(0,e)},t5=function(e,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var a=e5(new Xe(r).sub(e).div(n-1),i,s),o;e<=0&&r>=0?o=new Xe(0):(o=new Xe(e).add(r).div(2),o=o.sub(new Xe(o).mod(a)));var A=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new Xe(r).sub(o).div(a).toNumber()),u=A+l+1;return u>n?t5(e,r,n,i,s+1):(u<n&&(l=r>0?l+(n-u):l,A=r>0?A:A+(n-u)),{step:a,tickMin:o.sub(new Xe(A).mul(a)),tickMax:o.add(new Xe(l).mul(a))})};function Sle(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,o]=ZL([e,r]);if(a===-1/0||o===1/0){var A=o===1/0?[a,...lB(0,n-1).map(()=>1/0)]:[...lB(0,n-1).map(()=>-1/0),o];return e>r?uB(A):A}if(a===o)return Ile(a,n,i);var{step:l,tickMin:u,tickMax:d}=t5(a,o,s,i,0),f=JL(u,d.add(new Xe(.1).mul(l)),l);return e>r?uB(f):f}function Tle(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=ZL([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var o=Math.max(e,2),A=e5(new Xe(a).sub(s).div(o-1),i,0),l=[...JL(new Xe(s),new Xe(a),A),a];return i===!1&&(l=l.map(u=>Math.round(u))),r>n?uB(l):l}var Fle=XL(Sle),Ule=XL(Tle),r5=t=>t.rootProps.maxBarSize,Ple=t=>t.rootProps.barGap,n5=t=>t.rootProps.barCategoryGap,Nle=t=>t.rootProps.barSize,Vf=t=>t.rootProps.stackOffset,O1=t=>t.options.chartName,D1=t=>t.rootProps.syncId,i5=t=>t.rootProps.syncMethod,j1=t=>t.options.eventEmitter,ls={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},pn={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Dv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Qle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ls.angleAxisId,includeHidden:!1,name:void 0,reversed:ls.reversed,scale:ls.scale,tick:ls.tick,tickCount:void 0,ticks:void 0,type:ls.type,unit:void 0},kle={allowDataOverflow:pn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pn.scale,tick:pn.tick,tickCount:pn.tickCount,ticks:void 0,type:pn.type,unit:void 0},Ole={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ls.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ls.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ls.scale,tick:ls.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Dle={allowDataOverflow:pn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pn.scale,tick:pn.tick,tickCount:pn.tickCount,ticks:void 0,type:"category",unit:void 0},R1=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Ole:Qle,M1=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Dle:kle,jv=t=>t.polarOptions,L1=G([Hs,Vs,Zt],UM),s5=G([jv,L1],(t,e)=>{if(t!=null)return Wr(t.innerRadius,e,0)}),a5=G([jv,L1],(t,e)=>{if(t!=null)return Wr(t.outerRadius,e,e*.8)}),jle=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},o5=G([jv],jle);G([R1,o5],Dv);var A5=G([L1,s5,a5],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});G([M1,A5],Dv);var l5=G([He,jv,s5,a5,Hs,Vs],(t,e,r,n,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:a,cy:o,startAngle:A,endAngle:l}=e;return{cx:Wr(a,i,i/2),cy:Wr(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:A,endAngle:l,clockWise:!1}}}),Bt=(t,e)=>e,Kf=(t,e,r)=>r;function H1(t){return t==null?void 0:t.id}var tr=t=>{var e=He(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Nu=t=>t.tooltip.settings.axisId,rr=t=>{var e=tr(t),r=Nu(t);return $f(t,e,r)};function u5(t,e,r){var{chartData:n=[]}=e,i=r==null?void 0:r.dataKey,s=new Map;return t.forEach(a=>{var o,A=(o=a.data)!==null&&o!==void 0?o:n;if(!(A==null||A.length===0)){var l=H1(a);A.forEach((u,d)=>{var f=i==null?d:String(nt(u,i,null)),g=nt(u,a.dataKey,0),p;s.has(f)?p=s.get(f):p={},Object.assign(p,{[l]:g}),s.set(f,p)})}}),Array.from(s.values())}function Rv(t){return t.stackId!=null&&t.dataKey!=null}function fP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(r),!0).forEach(function(n){Rle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rle(t,e,r){return(e=Mle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mle(t){var e=Lle(t,"string");return typeof e=="symbol"?e:e+""}function Lle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cB=[0,"auto"],fn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},$s=(t,e)=>{var r=t.cartesianAxis.xAxis[e];return r??fn},hn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:cB,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ev},vo=(t,e)=>{var r=t.cartesianAxis.yAxis[e];return r??hn},Hle={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},V1=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??Hle},Mt=(t,e,r)=>{switch(e){case"xAxis":return $s(t,r);case"yAxis":return vo(t,r);case"zAxis":return V1(t,r);case"angleAxis":return R1(t,r);case"radiusAxis":return M1(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Vle=(t,e,r)=>{switch(e){case"xAxis":return $s(t,r);case"yAxis":return vo(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},$f=(t,e,r)=>{switch(e){case"xAxis":return $s(t,r);case"yAxis":return vo(t,r);case"angleAxis":return R1(t,r);case"radiusAxis":return M1(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},c5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function K1(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var Mv=t=>t.graphicalItems.cartesianItems,Kle=G([Bt,Kf],K1),$1=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),Gf=G([Mv,Mt,Kle],$1),d5=G([Gf],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Rv)),f5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),h5=G([Gf],f5),G1=t=>t.map(e=>e.data).filter(Boolean).flat(1),$le=G([Gf],G1),z1=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},W1=G([$le,kv],z1),Y1=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:nt(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:nt(i,n)}))):t.map(n=>({value:n})),Lv=G([W1,Mt,Gf],Y1);function g5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function QA(t){return t.filter(e=>Li(e)||e instanceof Date).map(Number).filter(e=>_n(e)===!1)}function Gle(t,e,r){return!r||typeof e!="number"||_n(e)?[]:r.length?QA(r.flatMap(n=>{var i=nt(t,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Tn(s)||!Tn(a)))return[e-s,e+a]})):[]}var zle=G([d5,kv,rr],u5),p5=(t,e,r)=>{var n={},i=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,o]=s,A=o.map(H1);return[a,{stackedData:ise(t,A,r),graphicalItems:o}]}))},dB=G([zle,d5,Vf],p5),m5=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var s=lse(t,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Wle=G([dB,mo,Bt],m5),v5=(t,e,r,n,i)=>r.length>0?t.flatMap(s=>r.flatMap(a=>{var o,A,l=(o=n[a.id])===null||o===void 0?void 0:o.filter(d=>g5(i,d)),u=nt(s,(A=e.dataKey)!==null&&A!==void 0?A:a.dataKey);return{value:u,errorDomain:Gle(s,u,l)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(s=>({value:nt(s,e.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]})),Hv=t=>t.errorBars,y5=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>g5(r,n));G([h5,Hv,Bt],y5);var Yle=G([W1,Mt,h5,Hv,Bt],v5);function Xle(t){var{value:e}=t;if(Li(e)||e instanceof Date)return e}var hP=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=QA(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},qle=(t,e,r)=>{var n=t.map(Xle).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&uR(n))?oL(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},X1=t=>{var e;if(t==null||!("domain"in t))return cB;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=QA(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:cB},Mm=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},w5=t=>t.referenceElements.dots,Qu=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),Jle=G([w5,Bt,Kf],Qu),x5=t=>t.referenceElements.areas,Zle=G([x5,Bt,Kf],Qu),b5=t=>t.referenceElements.lines,eue=G([b5,Bt,Kf],Qu),B5=(t,e)=>{var r=QA(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},tue=G(Jle,Bt,B5),C5=(t,e)=>{var r=QA(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},rue=G([Zle,Bt],C5),E5=(t,e)=>{var r=QA(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},nue=G(eue,Bt,E5),iue=G(tue,nue,rue,(t,e,r)=>Mm(t,r,e)),_5=G([Mt],X1),q1=(t,e,r,n,i,s,a)=>{var o=yle(e,t.allowDataOverflow);if(o!=null)return o;var A=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",l=A?Mm(r,i,hP(n)):Mm(i,hP(n));return wle(e,l,t.allowDataOverflow)},sue=G([Mt,_5,Wle,Yle,iue,He,Bt],q1),aue=[0,1],J1=(t,e,r,n,i,s,a)=>{if(!((t==null||r==null||r.length===0)&&a===void 0)){var{dataKey:o,type:A}=t,l=ho(e,s);return l&&o==null?oL(0,r.length):A==="category"?qle(n,t,l):i==="expand"?aue:a}},Z1=G([Mt,He,W1,Lv,Vf,Bt,sue],J1),I5=(t,e,r,n,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(kf(s));return o in Yc?o:"point"}}},ku=G([Mt,He,c5,O1,Bt],I5);function oue(t){if(t!=null){if(t in Yc)return Yc[t]();var e="scale".concat(kf(t));if(e in Yc)return Yc[e]()}}function e_(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=oue(e);if(i!=null){var s=i.domain(r).range(n);return Zie(s),s}}}var t_=(t,e,r)=>{var n=X1(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&gu(t))return Fle(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&gu(t))return Ule(t,e.tickCount,e.allowDecimals)}},r_=G([Z1,$f,ku],t_),n_=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&gu(e)&&Array.isArray(r)&&r.length>0){var i=e[0],s=r[0],a=e[1],o=r[r.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},Aue=G([Mt,Z1,r_,Bt],n_),lue=G(Lv,Mt,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(QA(t.map(o=>o.value))).sort((o,A)=>o-A);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),S5=G(lue,He,n5,Zt,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!Tn(t))return 0;var s=e==="vertical"?n.height:n.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=Wr(r,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),uue=(t,e)=>{var r=$s(t,e);return r==null||typeof r.padding!="string"?0:S5(t,"xAxis",e,r.padding)},cue=(t,e)=>{var r=vo(t,e);return r==null||typeof r.padding!="string"?0:S5(t,"yAxis",e,r.padding)},due=G($s,uue,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),fue=G(vo,cue,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),hue=G([Zt,due,Iv,_v,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),gue=G([Zt,He,fue,Iv,_v,(t,e,r)=>r],(t,e,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),zf=(t,e,r,n)=>{var i;switch(e){case"xAxis":return hue(t,r,n);case"yAxis":return gue(t,r,n);case"zAxis":return(i=V1(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return o5(t);case"radiusAxis":return A5(t,r);default:return}},T5=G([Mt,zf],Dv),Ou=G([Mt,ku,Aue,T5],e_);G([Gf,Hv,Bt],y5);function F5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Vv=(t,e)=>e,Kv=(t,e,r)=>r,pue=G(r1,Vv,Kv,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(F5)),mue=G(n1,Vv,Kv,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(F5)),U5=(t,e)=>({width:t.width,height:e.height}),vue=(t,e)=>{var r=typeof e.width=="number"?e.width:Ev;return{width:r,height:t.height}},P5=G(Zt,$s,U5),yue=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},wue=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},xue=G(Vs,Zt,pue,Vv,Kv,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var A=U5(e,o);a==null&&(a=yue(e,n,t));var l=n==="top"&&!i||n==="bottom"&&i;s[o.id]=a-Number(l)*A.height,a+=(l?-1:1)*A.height}),s}),bue=G(Hs,Zt,mue,Vv,Kv,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var A=vue(e,o);a==null&&(a=wue(e,n,t));var l=n==="left"&&!i||n==="right"&&i;s[o.id]=a-Number(l)*A.width,a+=(l?-1:1)*A.width}),s}),Bue=(t,e)=>{var r=Zt(t),n=$s(t,e);if(n!=null){var i=xue(t,n.orientation,n.mirror),s=i[e];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},Cue=(t,e)=>{var r=Zt(t),n=vo(t,e);if(n!=null){var i=bue(t,n.orientation,n.mirror),s=i[e];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},N5=G(Zt,vo,(t,e)=>{var r=typeof e.width=="number"?e.width:Ev;return{width:r,height:t.height}}),gP=(t,e,r)=>{switch(e){case"xAxis":return P5(t,r).width;case"yAxis":return N5(t,r).height;default:return}},Q5=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,o=ho(t,n),A=e.map(l=>l.value);if(a&&o&&s==="category"&&i&&uR(A))return A}},i_=G([He,Lv,Mt,Bt],Q5),k5=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=ho(t,n);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},s_=G([He,Lv,$f,Bt],k5),pP=G([He,Vle,ku,Ou,i_,s_,zf,r_,Bt],(t,e,r,n,i,s,a,o,A)=>{if(e==null)return null;var l=ho(t,A);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:A,categoricalDomain:s,duplicateDomain:i,isCategorical:l,niceTicks:o,range:a,realScaleType:r,scale:n}}),Eue=(t,e,r,n,i,s,a,o,A)=>{if(!(e==null||n==null)){var l=ho(t,A),{type:u,ticks:d,tickCount:f}=e,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=u==="category"&&n.bandwidth?n.bandwidth()/g:0;p=A==="angleAxis"&&s!=null&&s.length>=2?ur(s[0]-s[1])*2*p:p;var m=d||i;if(m){var v=m.map((y,w)=>{var B=a?a.indexOf(y):y;return{index:w,coordinate:n(B)+p,value:y,offset:p}});return v.filter(y=>!_n(y.coordinate))}return l&&o?o.map((y,w)=>({coordinate:n(y)+p,value:y,index:w,offset:p})):n.ticks?n.ticks(f).map(y=>({coordinate:n(y)+p,value:y,offset:p})):n.domain().map((y,w)=>({coordinate:n(y)+p,value:a?a[y]:y,index:w,offset:p}))}},O5=G([He,$f,ku,Ou,r_,zf,i_,s_,Bt],Eue),_ue=(t,e,r,n,i,s,a)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=ho(t,a),{tickCount:A}=e,l=0;return l=a==="angleAxis"&&(n==null?void 0:n.length)>=2?ur(n[0]-n[1])*2*l:l,o&&s?s.map((u,d)=>({coordinate:r(u)+l,value:u,index:d,offset:l})):r.ticks?r.ticks(A).map(u=>({coordinate:r(u)+l,value:u,offset:l})):r.domain().map((u,d)=>({coordinate:r(u)+l,value:i?i[u]:u,index:d,offset:l}))}},ro=G([He,$f,Ou,zf,i_,s_,Bt],_ue),no=G(Mt,Ou,(t,e)=>{if(!(t==null||e==null))return Rm(Rm({},t),{},{scale:e})}),Iue=G([Mt,ku,Z1,T5],e_);G((t,e,r)=>V1(t,r),Iue,(t,e)=>{if(!(t==null||e==null))return Rm(Rm({},t),{},{scale:e})});var Sue=G([He,r1,n1],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),D5=t=>t.options.defaultTooltipEventType,j5=t=>t.options.validateTooltipEventTypes;function R5(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function a_(t,e){var r=D5(t),n=j5(t);return R5(e,r,n)}function Tue(t){return ye(e=>a_(e,t))}var M5=(t,e)=>{var r,n=Number(e);if(!(_n(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},Fue=t=>t.tooltip.settings,da={active:!1,index:null,dataKey:void 0,coordinate:void 0},Uue={itemInteraction:{click:da,hover:da},axisInteraction:{click:da,hover:da},keyboardInteraction:da,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},L5=Pn({name:"tooltip",initialState:Uue,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=Bs(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Pue,removeTooltipEntrySettings:Nue,setTooltipSettingsState:Que,setActiveMouseOverItemIndex:H5,mouseLeaveItem:kue,mouseLeaveChart:V5,setActiveClickItemIndex:Oue,setMouseOverAxisIndex:K5,setMouseClickAxisIndex:Due,setSyncInteraction:fB,setKeyboardInteraction:hB}=L5.actions,jue=L5.reducer;function mP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(r),!0).forEach(function(n){Rue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rue(t,e,r){return(e=Mue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mue(t){var e=Lue(t,"string");return typeof e=="symbol"?e:e+""}function Lue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hue(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Vue(t){return t.index!=null}var $5=(t,e,r,n)=>{if(e==null)return da;var i=Hue(t,e,r);if(i==null)return da;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Vue(i)){if(s)return Cg(Cg({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Cg(Cg({},da),{},{coordinate:i.coordinate})},o_=(t,e)=>{var r=t==null?void 0:t.index;if(r==null)return null;var n=Number(r);if(!Tn(n))return r;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(n,s)))},G5=(t,e,r,n,i,s,a,o)=>{if(!(s==null||o==null)){var A=a[0],l=A==null?void 0:o(A.positions,s);if(l!=null)return l;var u=i==null?void 0:i[Number(s)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:u.coordinate}}}},z5=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Wf=t=>t.options.tooltipPayloadSearcher,Du=t=>t.tooltip;function vP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(r),!0).forEach(function(n){Kue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kue(t,e,r){return(e=$ue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ue(t){var e=Gue(t,"string");return typeof e=="symbol"?e:e+""}function Gue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zue(t,e){return t??e}var W5=(t,e,r,n,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:A,dataStartIndex:l,dataEndIndex:u}=r,d=[];return t.reduce((f,g)=>{var p,{dataDefinedOnItem:m,settings:v}=g,y=zue(m,o),w=Array.isArray(y)?PM(y,l,u):y,B=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:n==null?void 0:n.dataKey,I=v==null?void 0:v.nameKey,T;if(n!=null&&n.dataKey&&Array.isArray(w)&&!Array.isArray(w[0])&&a==="axis"?T=cR(w,n.dataKey,i):T=s(w,e,A,I),Array.isArray(T))T.forEach(C=>{var _=yP(yP({},v),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});f.push(oU({tooltipEntrySettings:_,dataKey:C.dataKey,payload:C.payload,value:nt(C.payload,C.dataKey),name:C.name}))});else{var F;f.push(oU({tooltipEntrySettings:v,dataKey:B,payload:T,value:nt(T,B),name:(F=nt(T,I))!==null&&F!==void 0?F:v==null?void 0:v.name}))}return f},d)}},A_=G([rr,He,c5,O1,tr],I5),Wue=G([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Yue=G([tr,Nu],K1),Yf=G([Wue,rr,Yue],$1),Xue=G([Yf],t=>t.filter(Rv)),que=G([Yf],G1),ju=G([que,mo],z1),Jue=G([Xue,mo,rr],u5),l_=G([ju,rr,Yf],Y1),Zue=G([rr],X1),ece=G([Yf],t=>t.filter(Rv)),tce=G([Jue,ece,Vf],p5),rce=G([tce,mo,tr],m5),nce=G([Yf],f5),ice=G([ju,rr,nce,Hv,tr],v5),sce=G([w5,tr,Nu],Qu),ace=G([sce,tr],B5),oce=G([x5,tr,Nu],Qu),Ace=G([oce,tr],C5),lce=G([b5,tr,Nu],Qu),uce=G([lce,tr],E5),cce=G([ace,uce,Ace],Mm),dce=G([rr,Zue,rce,ice,cce,He,tr],q1),Y5=G([rr,He,ju,l_,Vf,tr,dce],J1),fce=G([Y5,rr,A_],t_),hce=G([rr,Y5,fce,tr],n_),X5=t=>{var e=tr(t),r=Nu(t),n=!1;return zf(t,e,r,n)},q5=G([rr,X5],Dv),J5=G([rr,A_,hce,q5],e_),gce=G([He,l_,rr,tr],Q5),pce=G([He,l_,rr,tr],k5),mce=(t,e,r,n,i,s,a,o)=>{if(e){var{type:A}=e,l=ho(t,o);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=A==="category"&&n.bandwidth?n.bandwidth()/u:0;return d=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ur(i[0]-i[1])*2*d:d,l&&a?a.map((f,g)=>({coordinate:n(f)+d,value:f,index:g,offset:d})):n.domain().map((f,g)=>({coordinate:n(f)+d,value:s?s[f]:f,index:g,offset:d}))}}},Gs=G([He,rr,A_,J5,X5,gce,pce,tr],mce),u_=G([D5,j5,Fue],(t,e,r)=>R5(r.shared,t,e)),Z5=t=>t.tooltip.settings.trigger,c_=t=>t.tooltip.settings.defaultIndex,$v=G([Du,u_,Z5,c_],$5),io=G([$v,ju],o_),e3=G([Gs,io],M5),t3=G([$v],t=>{if(t)return t.dataKey}),r3=G([Du,u_,Z5,c_],z5),vce=G([Hs,Vs,He,Zt,Gs,c_,r3,Wf],G5),yce=G([$v,vce],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),wce=G([$v],t=>t.active),xce=G([r3,io,mo,rr,e3,Wf,u_],W5),bce=G([xce],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function wP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(r),!0).forEach(function(n){Bce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bce(t,e,r){return(e=Cce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cce(t){var e=Ece(t,"string");return typeof e=="symbol"?e:e+""}function Ece(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ce=()=>ye(rr),Ice=()=>{var t=_ce(),e=ye(Gs),r=ye(J5);return of(xP(xP({},t),{},{scale:r}),e)},Sce=()=>ye(O1),d_=(t,e)=>e,n3=(t,e,r)=>r,f_=(t,e,r,n)=>n,Tce=G(Gs,t=>vv(t,e=>e.coordinate)),h_=G([Du,d_,n3,f_],$5),i3=G([h_,ju],o_),Fce=(t,e,r)=>{if(e!=null){var n=Du(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},s3=G([Du,d_,n3,f_],z5),Lm=G([Hs,Vs,He,Zt,Gs,f_,s3,Wf],G5),Uce=G([h_,Lm],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),a3=G(Gs,i3,M5),Pce=G([s3,i3,mo,rr,a3,Wf,d_],W5),Nce=G([h_],t=>({isActive:t.active,activeIndex:t.index})),Qce=(t,e,r,n,i,s,a,o)=>{if(!(!t||!e||!n||!i||!s)){var A=use(t.chartX,t.chartY,e,r,o);if(A){var l=dse(A,e),u=qie(l,a,s,n,i),d=cse(e,s,u,A);return{activeIndex:String(u),activeCoordinate:d}}}};function gB(){return gB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gB.apply(null,arguments)}function bP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Eg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(r),!0).forEach(function(n){kce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kce(t,e,r){return(e=Oce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oce(t){var e=Dce(t,"string");return typeof e=="symbol"?e:e+""}function Dce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jce(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:o,tooltipEventType:A,chartName:l}=t,u=e,d=r,f=n;if(!o||!u||l!=="ScatterChart"&&A!=="axis")return null;var g,p;if(l==="ScatterChart")g=u,p=lae;else if(l==="BarChart")g=uae(a,u,i,s),p=eL;else if(a==="radial"){var{cx:m,cy:v,radius:y,startAngle:w,endAngle:B}=tL(u);g={cx:m,cy:v,startAngle:w,endAngle:B,innerRadius:y,outerRadius:y},p=nL}else g={points:Vae(a,u,i)},p=A1;var I=typeof o=="object"&&"className"in o?o.className:void 0,T=Eg(Eg(Eg(Eg({stroke:"#ccc",pointerEvents:"none"},i),g),yt(o,!1)),{},{payload:d,payloadIndex:f,className:Ge("recharts-tooltip-cursor",I)});return x.isValidElement(o)?x.cloneElement(o,T):x.createElement(p,T)}function Rce(t){var e=Ice(),r=RM(),n=Sv(),i=Sce();return x.createElement(jce,gB({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var o3=x.createContext(null),Mce=()=>x.useContext(o3),A3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(A,l,u){this.fn=A,this.context=l,this.once=u||!1}function s(A,l,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new i(u,d||A,f),p=r?r+l:l;return A._events[p]?A._events[p].fn?A._events[p]=[A._events[p],g]:A._events[p].push(g):(A._events[p]=g,A._eventsCount++),A}function a(A,l){--A._eventsCount===0?A._events=new n:delete A._events[l]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},o.prototype.listeners=function(l){var u=r?r+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,g=d.length,p=new Array(g);f<g;f++)p[f]=d[f].fn;return p},o.prototype.listenerCount=function(l){var u=r?r+l:l,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(l,u,d,f,g,p){var m=r?r+l:l;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,w,B;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,f),!0;case 5:return v.fn.call(v.context,u,d,f,g),!0;case 6:return v.fn.call(v.context,u,d,f,g,p),!0}for(B=1,w=new Array(y-1);B<y;B++)w[B-1]=arguments[B];v.fn.apply(v.context,w)}else{var I=v.length,T;for(B=0;B<I;B++)switch(v[B].once&&this.removeListener(l,v[B].fn,void 0,!0),y){case 1:v[B].fn.call(v[B].context);break;case 2:v[B].fn.call(v[B].context,u);break;case 3:v[B].fn.call(v[B].context,u,d);break;case 4:v[B].fn.call(v[B].context,u,d,f);break;default:if(!w)for(T=1,w=new Array(y-1);T<y;T++)w[T-1]=arguments[T];v[B].fn.apply(v[B].context,w)}}return!0},o.prototype.on=function(l,u,d){return s(this,l,u,d,!1)},o.prototype.once=function(l,u,d){return s(this,l,u,d,!0)},o.prototype.removeListener=function(l,u,d,f){var g=r?r+l:l;if(!this._events[g])return this;if(!u)return a(this,g),this;var p=this._events[g];if(p.fn)p.fn===u&&(!f||p.once)&&(!d||p.context===d)&&a(this,g);else{for(var m=0,v=[],y=p.length;m<y;m++)(p[m].fn!==u||f&&!p[m].once||d&&p[m].context!==d)&&v.push(p[m]);v.length?this._events[g]=v.length===1?v[0]:v:a(this,g)}return this},o.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(A3);var Lce=A3.exports;const Hce=Vi(Lce);var hf=new Hce,pB="recharts.syncEvent.tooltip",BP="recharts.syncEvent.brush";function g_(t,e){if(e){var r=Number.parseInt(e,10);if(!_n(r))return t==null?void 0:t[r]}}var Vce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},l3=Pn({name:"options",initialState:Vce,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Kce=l3.reducer,{createEventEmitter:$ce}=l3.actions;function Gce(t){return t.tooltip.syncInteraction}var zce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},u3=Pn({name:"chartData",initialState:zce,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:CP,setDataStartEndIndexes:Wce,setComputedData:Ave}=u3.actions,Yce=u3.reducer,c3=()=>{};function Xce(){var t=ye(D1),e=ye(j1),r=Tt(),n=ye(i5),i=ye(Gs),s=Sv(),a=i1(),o=ye(A=>A.rootProps.className);x.useEffect(()=>{if(t==null)return c3;var A=(l,u,d)=>{if(e!==d&&t===l){if(n==="index"){r(u);return}if(i!=null){var f;if(typeof n=="function"){var g={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},p=n(i,g);f=i[p]}else n==="value"&&(f=i.find(F=>String(F.value)===u.payload.label));var{coordinate:m}=u.payload;if(f==null||u.payload.active===!1||m==null||a==null){r(fB({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:v,y}=m,w=Math.min(v,a.x+a.width),B=Math.min(y,a.y+a.height),I={x:s==="horizontal"?f.coordinate:w,y:s==="horizontal"?B:f.coordinate},T=fB({active:u.payload.active,coordinate:I,dataKey:u.payload.dataKey,index:String(f.index),label:u.payload.label});r(T)}}};return hf.on(pB,A),()=>{hf.off(pB,A)}},[o,r,e,t,n,i,s,a])}function qce(){var t=ye(D1),e=ye(j1),r=Tt();x.useEffect(()=>{if(t==null)return c3;var n=(i,s,a)=>{e!==a&&t===i&&r(Wce(s))};return hf.on(BP,n),()=>{hf.off(BP,n)}},[r,e,t])}function Jce(){var t=Tt();x.useEffect(()=>{t($ce())},[t]),Xce(),qce()}function Zce(t,e,r,n,i,s){var a=ye(f=>Fce(f,t,e)),o=ye(j1),A=ye(D1),l=ye(i5),u=ye(Gce),d=u==null?void 0:u.active;x.useEffect(()=>{if(!d&&A!=null&&o!=null){var f=fB({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});hf.emit(pB,A,f,o)}},[d,r,a,i,n,o,A,l,s])}function EP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _P(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(r),!0).forEach(function(n){ede(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ede(t,e,r){return(e=tde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tde(t){var e=rde(t,"string");return typeof e=="symbol"?e:e+""}function rde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nde(t){return t.dataKey}function ide(t,e){return x.isValidElement(t)?x.cloneElement(t,e):typeof t=="function"?x.createElement(t,e):x.createElement(Lse,e)}var IP=[],sde={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!UA.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ba(t){var e=Nn(t,sde),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:o,isAnimationActive:A,offset:l,payloadUniqBy:u,position:d,reverseDirection:f,useTranslate3d:g,wrapperStyle:p,cursor:m,shared:v,trigger:y,defaultIndex:w,portal:B,axisId:I}=e,T=Tt(),F=typeof w=="number"?String(w):w;x.useEffect(()=>{T(Que({shared:v,trigger:y,axisId:I,active:r,defaultIndex:F}))},[T,v,y,I,r,F]);var C=i1(),_=VM(),S=Tue(v),{activeIndex:P,isActive:Q}=ye(D=>Nce(D,S,y,F)),k=ye(D=>Pce(D,S,y,F)),N=ye(D=>a3(D,S,y,F)),oe=ye(D=>Uce(D,S,y,F)),xe=k,pe=Mce(),me=r??Q,[q,se]=aM([xe,me]),ue=S==="axis"?N:void 0;Zce(S,y,oe,ue,P,me);var Se=B??pe;if(Se==null)return null;var ie=xe??IP;me||(ie=IP),o&&ie.length&&(ie=WR(xe.filter(D=>D.value!=null&&(D.hide!==!0||e.includeHidden)),u,nde));var Ue=ie.length>0,Ye=x.createElement(Wse,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:A,active:me,coordinate:oe,hasPayload:Ue,offset:l,position:d,reverseDirection:f,useTranslate3d:g,viewBox:C,wrapperStyle:p,lastBoundingBox:q,innerRef:se,hasPortalFromProps:!!B},ide(a,_P(_P({},e),{},{payload:ie,label:ue,active:me,coordinate:oe,accessibilityLayer:_})));return x.createElement(x.Fragment,null,xC.createPortal(Ye,Se),me&&x.createElement(Rce,{cursor:m,tooltipEventType:S,coordinate:oe,payload:xe,index:P}))}var d3={},f3={},h3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:s}={}){let a,o=null;const A=s!=null&&s.includes("leading"),l=s==null||s.includes("trailing"),u=()=>{o!==null&&(r.apply(a,o),a=void 0,o=null)},d=()=>{l&&u(),m()};let f=null;const g=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,d()},n)},p=()=>{f!==null&&(clearTimeout(f),f=null)},m=()=>{p(),a=void 0,o=null},v=()=>{u()},y=function(...w){if(i!=null&&i.aborted)return;a=this,o=w;const B=f==null;g(),A&&B&&u()};return y.schedule=g,y.cancel=m,y.flush=v,i==null||i.addEventListener("abort",m,{once:!0}),y}t.debounce=e})(h3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h3;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:A}=s,l=Array(2);a&&(l[0]="leading"),o&&(l[1]="trailing");let u,d=null;const f=e.debounce(function(...m){u=n.apply(this,m),d=null},i,{edges:l}),g=function(...m){return A!=null&&(d===null&&(d=Date.now()),Date.now()-d>=A)?(u=n.apply(this,m),d=Date.now(),f.cancel(),f.schedule(),u):(f.apply(this,m),u)},p=()=>(f.flush(),u);return g.cancel=f.cancel,g.flush=p,g}t.debounce=r})(f3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=f3;function r(n,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(n,i,{leading:a,maxWait:i,trailing:o})}t.throttle=r})(d3);var ade=d3.throttle;const ode=Vi(ade);var wd=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function SP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(r),!0).forEach(function(n){Ade(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ade(t,e,r){return(e=lde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lde(t){var e=ude(t,"string");return typeof e=="symbol"?e:e+""}function ude(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ba=x.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:o,maxHeight:A,children:l,debounce:u=0,id:d,className:f,onResize:g,style:p={}}=t,m=x.useRef(null),v=x.useRef();v.current=g,x.useImperativeHandle(e,()=>m.current);var[y,w]=x.useState({containerWidth:n.width,containerHeight:n.height}),B=x.useCallback((T,F)=>{w(C=>{var _=Math.round(T),S=Math.round(F);return C.containerWidth===_&&C.containerHeight===S?C:{containerWidth:_,containerHeight:S}})},[]);x.useEffect(()=>{var T=S=>{var P,{width:Q,height:k}=S[0].contentRect;B(Q,k),(P=v.current)===null||P===void 0||P.call(v,Q,k)};u>0&&(T=ode(T,u,{trailing:!0,leading:!1}));var F=new ResizeObserver(T),{width:C,height:_}=m.current.getBoundingClientRect();return B(C,_),F.observe(m.current),()=>{F.disconnect()}},[B,u]);var I=x.useMemo(()=>{var{containerWidth:T,containerHeight:F}=y;if(T<0||F<0)return null;wd(Vo(i)||Vo(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),wd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var C=Vo(i)?T:i,_=Vo(s)?F:s;return r&&r>0&&(C?_=C/r:_&&(C=_*r),A&&_>A&&(_=A)),wd(C>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,_,i,s,a,o,r),x.Children.map(l,S=>x.cloneElement(S,{width:C,height:_,style:Sw({width:C,height:_},S.props.style)}))},[r,l,s,A,o,a,y,i]);return x.createElement("div",{id:d?"".concat(d):void 0,className:Ge("recharts-responsive-container",f),style:Sw(Sw({},p),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:A}),ref:m},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},I))}),Ru=t=>null;Ru.displayName="Cell";function cde(t,e,r){return(e=dde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dde(t){var e=fde(t,"string");return typeof e=="symbol"?e:e+""}function fde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hde{constructor(e){cde(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function TP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(r),!0).forEach(function(n){pde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pde(t,e,r){return(e=mde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mde(t){var e=vde(t,"string");return typeof e=="symbol"?e:e+""}function vde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yde={cacheSize:2e3,enableCache:!0},g3=gde({},yde),FP=new hde(g3.cacheSize),wde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},UP="recharts_measurement_span";function xde(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var PP=(t,e)=>{try{var r=document.getElementById(UP);r||(r=document.createElement("span"),r.setAttribute("id",UP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,wde,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},xd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||UA.isSsr)return{width:0,height:0};if(!g3.enableCache)return PP(e,r);var n=xde(e,r),i=FP.get(n);if(i)return i;var s=PP(e,r);return FP.set(n,s),s},NP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,p3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Cde=Object.keys(p3),Cl="NaN";function Ede(t,e){return t*p3[e]}class qr{static parse(e){var r,[,n,i]=(r=Bde.exec(e))!==null&&r!==void 0?r:[];return new qr(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,_n(e)&&(this.unit=""),r!==""&&!bde.test(r)&&(this.num=NaN,this.unit=""),Cde.includes(r)&&(this.num=Ede(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new qr(NaN,""):new qr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new qr(NaN,""):new qr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new qr(NaN,""):new qr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new qr(NaN,""):new qr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _n(this.num)}}function m3(t){if(t.includes(Cl))return Cl;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,s]=(r=NP.exec(e))!==null&&r!==void 0?r:[],a=qr.parse(n??""),o=qr.parse(s??""),A=i==="*"?a.multiply(o):a.divide(o);if(A.isNaN())return Cl;e=e.replace(NP,A.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var l,[,u,d,f]=(l=QP.exec(e))!==null&&l!==void 0?l:[],g=qr.parse(u??""),p=qr.parse(f??""),m=d==="+"?g.add(p):g.subtract(p);if(m.isNaN())return Cl;e=e.replace(QP,m.toString())}return e}var kP=/\(([^()]*)\)/;function _de(t){for(var e=t,r;(r=kP.exec(e))!=null;){var[,n]=r;e=e.replace(kP,m3(n))}return e}function Ide(t){var e=t.replace(/\s+/g,"");return e=_de(e),e=m3(e),e}function Sde(t){try{return Ide(t)}catch{return Cl}}function Tw(t){var e=Sde(t.slice(5,-1));return e===Cl?"":e}var Tde=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Fde=["dx","dy","angle","className","breakAll"];function mB(){return mB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mB.apply(null,arguments)}function OP(t,e){if(t==null)return{};var r,n,i=Ude(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ude(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var v3=/[ \f\n\r\t\v\u2028\u2029]+/,y3=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];ht(e)||(r?i=e.toString().split(""):i=e.toString().split(v3));var s=i.map(o=>({word:o,width:xd(o,n).width})),a=r?0:xd(" ",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Pde=(t,e,r,n,i)=>{var{maxLines:s,children:a,style:o,breakAll:A}=t,l=de(s),u=a,d=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce((k,N)=>{var{word:oe,width:xe}=N,pe=k[k.length-1];if(pe&&(n==null||i||pe.width+xe+r<Number(n)))pe.words.push(oe),pe.width+=xe+r;else{var me={words:[oe],width:xe};k.push(me)}return k},[])},f=d(e),g=P=>P.reduce((Q,k)=>Q.width>k.width?Q:k);if(!l||i)return f;var p=f.length>s||g(f).width>Number(n);if(!p)return f;for(var m="…",v=P=>{var Q=u.slice(0,P),k=y3({breakAll:A,style:o,children:Q+m}).wordsWithComputedWidth,N=d(k),oe=N.length>s||g(N).width>Number(n);return[oe,N]},y=0,w=u.length-1,B=0,I;y<=w&&B<=u.length-1;){var T=Math.floor((y+w)/2),F=T-1,[C,_]=v(F),[S]=v(T);if(!C&&!S&&(y=T+1),C&&S&&(w=T-1),!C&&S){I=_;break}B++}return I||f},DP=t=>{var e=ht(t)?[]:t.toString().split(v3);return[{words:e}]},Nde=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=t;if((e||r)&&!UA.isSsr){var o,A,l=y3({breakAll:s,children:n,style:i});if(l){var{wordsWithComputedWidth:u,spaceWidth:d}=l;o=u,A=d}else return DP(n);return Pde({breakAll:s,children:n,maxLines:a,style:i},o,A,e,r)}return DP(n)},jP="#808080",Gv=x.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:A="end",fill:l=jP}=t,u=OP(t,Tde),d=x.useMemo(()=>Nde({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:a,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,a,u.style,u.width]),{dx:f,dy:g,angle:p,className:m,breakAll:v}=u,y=OP(u,Fde);if(!Li(r)||!Li(n))return null;var w=r+(de(f)?f:0),B=n+(de(g)?g:0),I;switch(A){case"start":I=Tw("calc(".concat(s,")"));break;case"middle":I=Tw("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:I=Tw("calc(".concat(d.length-1," * -").concat(i,")"));break}var T=[];if(a){var F=d[0].width,{width:C}=u;T.push("scale(".concat(de(C)?C/F:1,")"))}return p&&T.push("rotate(".concat(p,", ").concat(w,", ").concat(B,")")),T.length&&(y.transform=T.join(" ")),x.createElement("text",mB({},yt(y,!0),{ref:e,x:w,y:B,className:Ge("recharts-text",m),textAnchor:o,fill:l.includes("url")?jP:l}),d.map((_,S)=>{var P=_.words.join(v?"":" ");return x.createElement("tspan",{x:w,dy:S===0?I:i,key:"".concat(P,"-").concat(S)},P)}))});Gv.displayName="Text";var Qde=["offset"],kde=["labelRef"];function RP(t,e){if(t==null)return{};var r,n,i=Ode(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ode(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function MP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(r),!0).forEach(function(n){Dde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dde(t,e,r){return(e=jde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jde(t){var e=Rde(t,"string");return typeof e=="symbol"?e:e+""}function Rde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function us(){return us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},us.apply(null,arguments)}var Mde=t=>{var{value:e,formatter:r}=t,n=ht(t.children)?e:t.children;return typeof r=="function"?r(n):n},p_=t=>t!=null&&typeof t=="function",Lde=(t,e)=>{var r=ur(e-t),n=Math.min(Math.abs(e-t),360);return r*n},Hde=(t,e,r,n)=>{var{position:i,offset:s,className:a}=t,{cx:o,cy:A,innerRadius:l,outerRadius:u,startAngle:d,endAngle:f,clockWise:g}=n,p=(l+u)/2,m=Lde(d,f),v=m>=0?1:-1,y,w;i==="insideStart"?(y=d+v*s,w=g):i==="insideEnd"?(y=f-v*s,w=!g):i==="end"&&(y=f+v*s,w=g),w=m<=0?w:!w;var B=Kt(o,A,p,y),I=Kt(o,A,p,y+(w?1:-1)*359),T="M".concat(B.x,",").concat(B.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(I.x,",").concat(I.y),F=ht(t.id)?nf("recharts-radial-line-"):t.id;return x.createElement("text",us({},r,{dominantBaseline:"central",className:Ge("recharts-radial-bar-label",a)}),x.createElement("defs",null,x.createElement("path",{id:F,d:T})),x.createElement("textPath",{xlinkHref:"#".concat(F)},e))},Vde=(t,e,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:A}=t,l=(o+A)/2;if(r==="outside"){var{x:u,y:d}=Kt(n,i,a+e,l);return{x:u,y:d,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(s+a)/2,{x:g,y:p}=Kt(n,i,f,l);return{x:g,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Kde=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,{x:s,y:a,width:o,height:A}=e,l=A>=0?1:-1,u=l*n,d=l>0?"end":"start",f=l>0?"start":"end",g=o>=0?1:-1,p=g*n,m=g>0?"end":"start",v=g>0?"start":"end";if(i==="top"){var y={x:s+o/2,y:a-l*n,textAnchor:"middle",verticalAnchor:d};return Pt(Pt({},y),r?{height:Math.max(a-r.y,0),width:o}:{})}if(i==="bottom"){var w={x:s+o/2,y:a+A+u,textAnchor:"middle",verticalAnchor:f};return Pt(Pt({},w),r?{height:Math.max(r.y+r.height-(a+A),0),width:o}:{})}if(i==="left"){var B={x:s-p,y:a+A/2,textAnchor:m,verticalAnchor:"middle"};return Pt(Pt({},B),r?{width:Math.max(B.x-r.x,0),height:A}:{})}if(i==="right"){var I={x:s+o+p,y:a+A/2,textAnchor:v,verticalAnchor:"middle"};return Pt(Pt({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:A}:{})}var T=r?{width:o,height:A}:{};return i==="insideLeft"?Pt({x:s+p,y:a+A/2,textAnchor:v,verticalAnchor:"middle"},T):i==="insideRight"?Pt({x:s+o-p,y:a+A/2,textAnchor:m,verticalAnchor:"middle"},T):i==="insideTop"?Pt({x:s+o/2,y:a+u,textAnchor:"middle",verticalAnchor:f},T):i==="insideBottom"?Pt({x:s+o/2,y:a+A-u,textAnchor:"middle",verticalAnchor:d},T):i==="insideTopLeft"?Pt({x:s+p,y:a+u,textAnchor:v,verticalAnchor:f},T):i==="insideTopRight"?Pt({x:s+o-p,y:a+u,textAnchor:m,verticalAnchor:f},T):i==="insideBottomLeft"?Pt({x:s+p,y:a+A-u,textAnchor:v,verticalAnchor:d},T):i==="insideBottomRight"?Pt({x:s+o-p,y:a+A-u,textAnchor:m,verticalAnchor:d},T):i&&typeof i=="object"&&(de(i.x)||Vo(i.x))&&(de(i.y)||Vo(i.y))?Pt({x:s+Wr(i.x,o),y:a+Wr(i.y,A),textAnchor:"end",verticalAnchor:"end"},T):Pt({x:s+o/2,y:a+A/2,textAnchor:"middle",verticalAnchor:"middle"},T)},$de=t=>"cx"in t&&de(t.cx);function mn(t){var{offset:e=5}=t,r=RP(t,Qde),n=Pt({offset:e},r),{viewBox:i,position:s,value:a,children:o,content:A,className:l="",textBreakAll:u,labelRef:d}=n,f=ye(l5),g=i1(),p=s==="center"?g:f??g,m=i||p;if(!m||ht(a)&&ht(o)&&!x.isValidElement(A)&&typeof A!="function")return null;var v=Pt(Pt({},n),{},{viewBox:m});if(x.isValidElement(A)){var y=RP(v,kde);return x.cloneElement(A,y)}var w;if(typeof A=="function"){if(w=x.createElement(A,v),x.isValidElement(w))return w}else w=Mde(n);var B=$de(m),I=yt(n,!0);if(B&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Hde(n,w,I,m);var T=B?Vde(m,n.offset,n.position):Kde(n,m);return x.createElement(Gv,us({ref:d,className:Ge("recharts-label",l)},I,T,{breakAll:u}),w)}mn.displayName="Label";var w3=t=>{var{cx:e,cy:r,angle:n,startAngle:i,endAngle:s,r:a,radius:o,innerRadius:A,outerRadius:l,x:u,y:d,top:f,left:g,width:p,height:m,clockWise:v,labelViewBox:y}=t;if(y)return y;if(de(p)&&de(m)){if(de(u)&&de(d))return{x:u,y:d,width:p,height:m};if(de(f)&&de(g))return{x:f,y:g,width:p,height:m}}if(de(u)&&de(d))return{x:u,y:d,width:0,height:0};if(de(e)&&de(r))return{cx:e,cy:r,startAngle:i||n||0,endAngle:s||n||0,innerRadius:A||0,outerRadius:l||o||a||0,clockWise:v};if(t.viewBox)return t.viewBox},Gde=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?x.createElement(mn,us({key:"label-implicit"},n)):Li(t)?x.createElement(mn,us({key:"label-implicit",value:t},n)):x.isValidElement(t)?t.type===mn?x.cloneElement(t,Pt({key:"label-implicit"},n)):x.createElement(mn,us({key:"label-implicit",content:t},n)):p_(t)?x.createElement(mn,us({key:"label-implicit",content:t},n)):t&&typeof t=="object"?x.createElement(mn,us({},t,{key:"label-implicit"},n)):null},zde=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:i,labelRef:s}=e,a=w3(e),o=Df(i,mn).map((l,u)=>x.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)}));if(!n)return o;var A=Gde(e.label,r||a,s);return[A,...o]};mn.parseViewBox=w3;mn.renderCallByParent=zde;var x3={},b3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(b3);var B3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(B3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b3,r=B3,n=fv;function i(s){if(n.isArrayLike(s))return e.last(r.toArray(s))}t.last=i})(x3);var Wde=x3.last;const Yde=Vi(Wde);var Xde=["valueAccessor"],qde=["data","dataKey","clockWise","id","textBreakAll"];function Hm(){return Hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hm.apply(null,arguments)}function LP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(r),!0).forEach(function(n){Jde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jde(t,e,r){return(e=Zde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zde(t){var e=efe(t,"string");return typeof e=="symbol"?e:e+""}function efe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VP(t,e){if(t==null)return{};var r,n,i=tfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function tfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var rfe=t=>Array.isArray(t.value)?Yde(t.value):t.value;function Ha(t){var{valueAccessor:e=rfe}=t,r=VP(t,Xde),{data:n,dataKey:i,clockWise:s,id:a,textBreakAll:o}=r,A=VP(r,qde);return!n||!n.length?null:x.createElement(Rr,{className:"recharts-label-list"},n.map((l,u)=>{var d=ht(i)?e(l,u):nt(l&&l.payload,i),f=ht(a)?{}:{id:"".concat(a,"-").concat(u)};return x.createElement(mn,Hm({},yt(l,!0),A,f,{parentViewBox:l.parentViewBox,value:d,textBreakAll:o,viewBox:mn.parseViewBox(ht(s)?l:HP(HP({},l),{},{clockWise:s})),key:"label-".concat(u),index:u}))}))}Ha.displayName="LabelList";function nfe(t,e){return t?t===!0?x.createElement(Ha,{key:"labelList-implicit",data:e}):x.isValidElement(t)||p_(t)?x.createElement(Ha,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?x.createElement(Ha,Hm({data:e},t,{key:"labelList-implicit"})):null:null}function ife(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:n}=t,i=Df(n,Ha).map((a,o)=>x.cloneElement(a,{data:e,key:"labelList-".concat(o)}));if(!r)return i;var s=nfe(t.label,e);return[s,...i]}Ha.renderCallByParent=ife;function vB(){return vB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vB.apply(null,arguments)}var C3=t=>{var{cx:e,cy:r,r:n,className:i}=t,s=Ge("recharts-dot",i);return e===+e&&r===+r&&n===+n?x.createElement("circle",vB({},Ls(t),NE(t),{className:s,cx:e,cy:r,r:n})):null},E3=t=>t.graphicalItems.polarItems,sfe=G([Bt,Kf],K1),m_=G([E3,Mt,sfe],$1),afe=G([m_],G1),v_=G([afe,N1],z1),ofe=G([v_,Mt,m_],Y1),Afe=G([v_,Mt,m_],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var s,a=nt(n,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:nt(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),KP=()=>{},lfe=G([Mt,_5,KP,Afe,KP,He,Bt],q1),_3=G([Mt,He,v_,ofe,Vf,Bt,lfe],J1),ufe=G([_3,Mt,ku],t_);G([Mt,_3,ufe,Bt],n_);var cfe={radiusAxis:{},angleAxis:{}},dfe=Pn({name:"polarAxis",initialState:cfe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),ffe=dfe.reducer;function $P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(r),!0).forEach(function(n){hfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hfe(t,e,r){return(e=gfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gfe(t){var e=pfe(t,"string");return typeof e=="symbol"?e:e+""}function pfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mfe=(t,e)=>e,y_=G([E3,mfe],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),vfe=[],w_=(t,e,r)=>(r==null?void 0:r.length)===0?vfe:r,I3=G([N1,y_,w_],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>GP(GP({},e.presentationProps),s.props))),i!=null)return i}}),yfe=G([I3,y_,w_],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var s,a=nt(n,e.nameKey,e.name),o;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=e.fill,{value:Tu(a,e.dataKey),color:o,payload:n,type:e.legendType}})}),wfe=G([I3,y_,w_,Zt],(t,e,r,n)=>{if(!(e==null||t==null))return che({offset:n,pieSettings:e,displayedData:t,cells:r})}),S3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(S3);var xfe=S3.isPlainObject;const bfe=Vi(xfe);function Vm(){return Vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vm.apply(null,arguments)}var zP=(t,e,r,n,i)=>{var s=r-n,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+r,",").concat(e),a+="L ".concat(t+r-s/2,",").concat(e+i),a+="L ".concat(t+r-s/2-n,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},Bfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cfe=t=>{var e=Nn(t,Bfe),r=x.useRef(),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&i(v)}catch{}},[]);var{x:s,y:a,upperWidth:o,lowerWidth:A,height:l,className:u}=e,{animationEasing:d,animationDuration:f,animationBegin:g,isUpdateAnimationActive:p}=e;if(s!==+s||a!==+a||o!==+o||A!==+A||l!==+l||o===0&&A===0||l===0)return null;var m=Ge("recharts-trapezoid",u);return p?x.createElement(Im,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:l,x:s,y:a},to:{upperWidth:o,lowerWidth:A,height:l,x:s,y:a},duration:f,animationEasing:d,isActive:p},v=>{var{upperWidth:y,lowerWidth:w,height:B,x:I,y:T}=v;return x.createElement(Im,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,easing:d},x.createElement("path",Vm({},yt(e,!0),{className:m,d:zP(I,T,y,w,B),ref:r})))}):x.createElement("g",null,x.createElement("path",Vm({},yt(e,!0),{className:m,d:zP(s,a,o,A,l)})))},Efe=["option","shapeType","propTransformer","activeClassName","isActive"];function _fe(t,e){if(t==null)return{};var r,n,i=Ife(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ife(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function WP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Km(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(r),!0).forEach(function(n){Sfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sfe(t,e,r){return(e=Tfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tfe(t){var e=Ffe(t,"string");return typeof e=="symbol"?e:e+""}function Ffe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ufe(t,e){return Km(Km({},e),t)}function Pfe(t,e){return t==="symbols"}function YP(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return x.createElement(eL,r);case"trapezoid":return x.createElement(Cfe,r);case"sector":return x.createElement(nL,r);case"symbols":if(Pfe(e))return x.createElement(jE,r);break;default:return null}}function Nfe(t){return x.isValidElement(t)?t.props:t}function T3(t){var{option:e,shapeType:r,propTransformer:n=Ufe,activeClassName:i="recharts-active-shape",isActive:s}=t,a=_fe(t,Efe),o;if(x.isValidElement(e))o=x.cloneElement(e,Km(Km({},a),Nfe(e)));else if(typeof e=="function")o=e(a);else if(bfe(e)&&typeof e!="boolean"){var A=n(e,a);o=x.createElement(YP,{shapeType:r,elementProps:A})}else{var l=a;o=x.createElement(YP,{shapeType:r,elementProps:l})}return s?x.createElement(Rr,{className:i},o):o}var x_=(t,e)=>{var r=Tt();return(n,i)=>s=>{t==null||t(n,i,s),r(H5({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},b_=t=>{var e=Tt();return(r,n)=>i=>{t==null||t(r,n,i),e(kue())}},B_=(t,e)=>{var r=Tt();return(n,i)=>s=>{t==null||t(n,i,s),r(Oue({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function C_(t){var{fn:e,args:r}=t,n=Tt(),i=ln();return x.useEffect(()=>{if(!i){var s=e(r);return n(Pue(s)),()=>{n(Nue(s))}}},[e,r,n,i]),null}var F3=()=>{};function U3(t){var{legendPayload:e}=t,r=Tt(),n=ln();return x.useEffect(()=>n?F3:(r(LM(e)),()=>{r(HM(e))}),[r,n,e]),null}function Qfe(t){var{legendPayload:e}=t,r=Tt(),n=ye(He);return x.useEffect(()=>n!=="centric"&&n!=="radial"?F3:(r(LM(e)),()=>{r(HM(e))}),[r,n,e]),null}function E_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(nf(e)),n=x.useRef(t);return n.current!==t&&(r.current=nf(e),n.current=t),r.current}var Fw,kfe=()=>{var[t]=x.useState(()=>nf("uid-"));return t},Ofe=(Fw=IN.useId)!==null&&Fw!==void 0?Fw:kfe;function Dfe(t,e){var r=Ofe();return e||(t?"".concat(t,"-").concat(r):r)}var jfe=x.createContext(void 0),__=t=>{var{id:e,type:r,children:n}=t,i=Dfe("recharts-".concat(r),e);return x.createElement(jfe.Provider,{value:i},n(i))},Rfe={cartesianItems:[],polarItems:[]},P3=Pn({name:"graphicalItems",initialState:Rfe,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=Bs(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=Bs(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=Bs(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Mfe,replaceCartesianGraphicalItem:Lfe,removeCartesianGraphicalItem:Hfe,addPolarGraphicalItem:Vfe,removePolarGraphicalItem:Kfe}=P3.actions,$fe=P3.reducer;function N3(t){var e=Tt(),r=x.useRef(null);return x.useEffect(()=>{r.current===null?e(Mfe(t)):r.current!==t&&e(Lfe({prev:r.current,next:t})),r.current=t},[e,t]),x.useEffect(()=>()=>{r.current&&(e(Hfe(r.current)),r.current=null)},[e]),null}function Gfe(t){var e=Tt();return x.useEffect(()=>(e(Vfe(t)),()=>{e(Kfe(t))}),[e,t]),null}function zfe(){}var Wfe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},XP={t:0},Uw={t:1};function I_(t){var e=Nn(t,Wfe),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:A,children:l}=e,u=ZM("JavascriptAnimate",e.animationManager),[d,f]=x.useState(r?XP:Uw),g=x.useRef(null);return x.useEffect(()=>{r||f(Uw)},[r]),x.useEffect(()=>{if(!r||!n)return zfe;var p=JM(XP,Uw,XM(s),i,f,u.getTimeoutController()),m=()=>{g.current=p()};return u.start([A,a,m,i,o]),()=>{u.stop(),g.current&&g.current(),o()}},[r,n,i,s,a,A,o,u]),l(d.t)}var Yfe=["onMouseEnter","onClick","onMouseLeave"],Xfe=["id"],qfe=["id"];function S_(t,e){if(t==null)return{};var r,n,i=Jfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Jfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function qP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(r),!0).forEach(function(n){Zfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zfe(t,e,r){return(e=ehe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ehe(t){var e=the(t,"string");return typeof e=="symbol"?e:e+""}function the(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ds(){return Ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ds.apply(null,arguments)}function rhe(t){var e=x.useMemo(()=>Df(t.children,Ru),[t.children]),r=ye(n=>yfe(n,t.id,e));return r==null?null:x.createElement(Qfe,{legendPayload:r})}function nhe(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:o,hide:A,tooltipType:l}=t;return{dataDefinedOnItem:n==null?void 0:n.map(u=>u.tooltipPayload),positions:n==null?void 0:n.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:r,name:Tu(o,e),hide:A,type:l,color:a,unit:""}}}var ihe=(t,e)=>t>e?"start":t<e?"end":"middle",she=(t,e,r)=>typeof e=="function"?e(t):Wr(e,r,r*.8),ahe=(t,e,r)=>{var{top:n,left:i,width:s,height:a}=e,o=UM(s,a),A=i+Wr(t.cx,s,s/2),l=n+Wr(t.cy,a,a/2),u=Wr(t.innerRadius,o,0),d=she(r,t.outerRadius,o),f=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:A,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}},ohe=(t,e)=>{var r=ur(e-t),n=Math.min(Math.abs(e-t),360);return r*n},Ahe=(t,e)=>{if(x.isValidElement(t))return x.cloneElement(t,e);if(typeof t=="function")return t(e);var r=Ge("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return x.createElement(A1,Ds({},e,{type:"linear",className:r}))},lhe=(t,e,r)=>{if(x.isValidElement(t))return x.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),x.isValidElement(n)))return n;var i=Ge("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return x.createElement(Gv,Ds({},e,{alignmentBaseline:"middle",className:i}),n)};function uhe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!e)return null;var o=Ls(r),A=yt(i,!1),l=yt(s,!1),u=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,d=e.map((f,g)=>{var p=(f.startAngle+f.endAngle)/2,m=Kt(f.cx,f.cy,f.outerRadius+u,p),v=Qt(Qt(Qt(Qt({},o),f),{},{stroke:"none"},A),{},{index:g,textAnchor:ihe(m.x,f.cx)},m),y=Qt(Qt(Qt(Qt({},o),f),{},{fill:"none",stroke:f.fill},l),{},{index:g,points:[Kt(f.cx,f.cy,f.outerRadius,p),m],key:"line"});return x.createElement(Rr,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(g)},s&&Ahe(s,y),lhe(i,v,nt(f,a)))});return x.createElement(Rr,{className:"recharts-pie-labels"},d)}function Q3(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:s}=t,a=ye(io),{onMouseEnter:o,onClick:A,onMouseLeave:l}=i,u=S_(i,Yfe),d=x_(o,i.dataKey),f=b_(l),g=B_(A,i.dataKey);return e==null?null:x.createElement(x.Fragment,null,e.map((p,m)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&e.length!==1)return null;var v=r&&String(m)===a,y=a?n:null,w=v?r:y,B=Qt(Qt({},p),{},{stroke:p.stroke,tabIndex:-1,[OM]:m,[DM]:i.dataKey});return x.createElement(Rr,Ds({tabIndex:-1,className:"recharts-pie-sector"},Of(u,p,m),{onMouseEnter:d(p,m),onMouseLeave:f(p,m),onClick:g(p,m),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(m)}),x.createElement(T3,Ds({option:w,isActive:v,shapeType:"sector"},B)))}),x.createElement(uhe,{sectors:e,props:i,showLabels:s}))}function che(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:s}=t,{cornerRadius:a,startAngle:o,endAngle:A,dataKey:l,nameKey:u,tooltipType:d}=r,f=Math.abs(r.minAngle),g=ohe(o,A),p=Math.abs(g),m=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,v=n.filter(F=>nt(F,l,0)!==0).length,y=(p>=360?v:v-1)*m,w=p-v*f-y,B=n.reduce((F,C)=>{var _=nt(C,l,0);return F+(de(_)?_:0)},0),I;if(B>0){var T;I=n.map((F,C)=>{var _=nt(F,l,0),S=nt(F,u,C),P=ahe(r,s,F),Q=(de(_)?_:0)/B,k,N=Qt(Qt({},F),i&&i[C]&&i[C].props);C?k=T.endAngle+ur(g)*m*(_!==0?1:0):k=o;var oe=k+ur(g)*((_!==0?f:0)+Q*w),xe=(k+oe)/2,pe=(P.innerRadius+P.outerRadius)/2,me=[{name:S,value:_,payload:N,dataKey:l,type:d}],q=Kt(P.cx,P.cy,pe,xe);return T=Qt(Qt(Qt(Qt({},r.presentationProps),{},{percent:Q,cornerRadius:a,name:S,tooltipPayload:me,midAngle:xe,middleRadius:pe,tooltipPosition:q},N),P),{},{value:nt(F,l),startAngle:k,endAngle:oe,payload:N,paddingAngle:ur(g)*m}),T})}return I}function dhe(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:o,activeShape:A,inactiveShape:l,onAnimationStart:u,onAnimationEnd:d}=e,f=E_(e,"recharts-pie-"),g=r.current,[p,m]=x.useState(!0),v=x.useCallback(()=>{typeof d=="function"&&d(),m(!1)},[d]),y=x.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return x.createElement(I_,{begin:s,duration:a,isActive:i,easing:o,onAnimationStart:y,onAnimationEnd:v,key:f},w=>{var B=[],I=n&&n[0],T=I.startAngle;return n.forEach((F,C)=>{var _=g&&g[C],S=C>0?to(F,"paddingAngle",0):0;if(_){var P=_F(_.endAngle-_.startAngle,F.endAngle-F.startAngle),Q=Qt(Qt({},F),{},{startAngle:T+S,endAngle:T+P(w)+S});B.push(Q),T=Q.endAngle}else{var{endAngle:k,startAngle:N}=F,oe=_F(0,k-N),xe=oe(w),pe=Qt(Qt({},F),{},{startAngle:T+S,endAngle:T+xe+S});B.push(pe),T=pe.endAngle}}),r.current=B,x.createElement(Rr,null,x.createElement(Q3,{sectors:B,activeShape:A,inactiveShape:l,allOtherPieProps:e,showLabels:!p}))})}function fhe(t){var{sectors:e,isAnimationActive:r,activeShape:n,inactiveShape:i}=t,s=x.useRef(null),a=s.current;return r&&e&&e.length&&(!a||a!==e)?x.createElement(dhe,{props:t,previousSectorsRef:s}):x.createElement(Q3,{sectors:e,activeShape:n,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function hhe(t){var{hide:e,className:r,rootTabIndex:n}=t,i=Ge("recharts-pie",r);return e?null:x.createElement(Rr,{tabIndex:n,className:i},x.createElement(fhe,t))}var ghe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!UA.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function phe(t){var{id:e}=t,r=S_(t,Xfe),n=x.useMemo(()=>Df(t.children,Ru),[t.children]),i=ye(s=>wfe(s,e,n));return x.createElement(x.Fragment,null,x.createElement(C_,{fn:nhe,args:Qt(Qt({},t),{},{sectors:i})}),x.createElement(hhe,Ds({},r,{sectors:i})))}function T_(t){var e=Nn(t,ghe),{id:r}=e,n=S_(e,qfe),i=Ls(n);return x.createElement(__,{id:r,type:"pie"},s=>x.createElement(x.Fragment,null,x.createElement(Gfe,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),x.createElement(rhe,Ds({},n,{id:s})),x.createElement(phe,Ds({},n,{id:s})),n.children))}T_.displayName="Pie";var mhe=G([Zt],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),vhe=G([mhe,Hs,Vs],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),F_=()=>ye(vhe),yhe=()=>ye(bce);function JP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(r),!0).forEach(function(n){whe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function whe(t,e,r){return(e=xhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xhe(t){var e=bhe(t,"string");return typeof e=="symbol"?e:e+""}function bhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bhe=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var a=ZP(ZP({index:r,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},yt(i,!1)),NE(i)),o;return x.isValidElement(i)?o=x.cloneElement(i,a):typeof i=="function"?o=i(a):o=x.createElement(C3,a),x.createElement(Rr,{className:"recharts-active-dot"},o)};function Che(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,s=ye(io),a=yhe();if(e==null||a==null)return null;var o=e.find(A=>a.includes(A.payload));return ht(o)?null:Bhe({point:o,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n})}var Ehe="Invariant failed";function _he(t,e){throw new Error(Ehe)}var Ihe=["x","y"];function yB(){return yB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yB.apply(null,arguments)}function eN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(r),!0).forEach(function(n){She(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function She(t,e,r){return(e=The(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function The(t){var e=Fhe(t,"string");return typeof e=="symbol"?e:e+""}function Fhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uhe(t,e){if(t==null)return{};var r,n,i=Phe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Phe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Nhe(t,e){var{x:r,y:n}=t,i=Uhe(t,Ihe),s="".concat(r),a=parseInt(s,10),o="".concat(n),A=parseInt(o,10),l="".concat(e.height||i.height),u=parseInt(l,10),d="".concat(e.width||i.width),f=parseInt(d,10);return Fc(Fc(Fc(Fc(Fc({},e),i),a?{x:a}:{}),A?{y:A}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function k3(t){return x.createElement(T3,yB({shapeType:"rectangle",propTransformer:Nhe,activeClassName:"recharts-active-bar"},t))}var Qhe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(de(e))return e;var s=de(n)||ht(n);return s?e(n,i):(s||_he(),r)}},khe={},Ohe=Pn({name:"errorBars",initialState:khe,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),Dhe=Ohe.reducer,jhe=["children"];function Rhe(t,e){if(t==null)return{};var r,n,i=Mhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Mhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Lhe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Hhe=x.createContext(Lhe);function O3(t){var{children:e}=t,r=Rhe(t,jhe);return x.createElement(Hhe.Provider,{value:r},e)}function U_(t,e){var r,n,i=ye(l=>$s(l,t)),s=ye(l=>vo(l,e)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:fn.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:hn.allowDataOverflow,A=a||o;return{needClip:A,needClipX:a,needClipY:o}}function D3(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=F_(),{needClipX:s,needClipY:a,needClip:o}=U_(e,r);if(!o)return null;var{x:A,y:l,width:u,height:d}=i;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:s?A:A-u/2,y:a?l:l-d/2,width:s?u:u*2,height:a?d:d*2}))}var Vhe=["onMouseEnter","onMouseLeave","onClick"],Khe=["value","background","tooltipPosition"],$he=["id"],Ghe=["onMouseEnter","onClick","onMouseLeave"];function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pu.apply(null,arguments)}function tN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(r),!0).forEach(function(n){zhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zhe(t,e,r){return(e=Whe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Whe(t){var e=Yhe(t,"string");return typeof e=="symbol"?e:e+""}function Yhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $m(t,e){if(t==null)return{};var r,n,i=Xhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Xhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var qhe=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Tu(r,e),payload:t}]};function Jhe(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:o}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:Tu(s,e),hide:a,type:t.tooltipType,color:t.fill,unit:o}}}function Zhe(t){var e=ye(io),{data:r,dataKey:n,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:o,onClick:A}=s,l=$m(s,Vhe),u=x_(a,n),d=b_(o),f=B_(A,n);if(!i||r==null)return null;var g=yt(i,!1);return x.createElement(x.Fragment,null,r.map((p,m)=>{var{value:v,background:y,tooltipPosition:w}=p,B=$m(p,Khe);if(!y)return null;var I=u(p,m),T=d(p,m),F=f(p,m),C=Or(Or(Or(Or(Or({option:i,isActive:String(m)===e},B),{},{fill:"#eee"},y),g),Of(l,p,m)),{},{onMouseEnter:I,onMouseLeave:T,onClick:F,dataKey:n,index:m,className:"recharts-bar-background-rectangle"});return x.createElement(k3,pu({key:"background-bar-".concat(m)},C))}))}function j3(t){var{data:e,props:r,showLabels:n}=t,i=Ls(r),s=$m(i,$he),{shape:a,dataKey:o,activeBar:A}=r,l=ye(io),u=ye(t3),{onMouseEnter:d,onClick:f,onMouseLeave:g}=r,p=$m(r,Ghe),m=x_(d,o),v=b_(g),y=B_(f,o);return e?x.createElement(x.Fragment,null,e.map((w,B)=>{var I=A&&String(B)===l&&(u==null||o===u),T=I?A:a,F=Or(Or(Or({},s),w),{},{isActive:I,option:T,index:B,dataKey:o});return x.createElement(Rr,pu({className:"recharts-bar-rectangle"},Of(p,w,B),{onMouseEnter:m(w,B),onMouseLeave:v(w,B),onClick:y(w,B),key:"rectangle-".concat(w==null?void 0:w.x,"-").concat(w==null?void 0:w.y,"-").concat(w==null?void 0:w.value,"-").concat(B)}),x.createElement(k3,F))}),n&&Ha.renderCallByParent(r,e)):null}function ege(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:A,onAnimationEnd:l,onAnimationStart:u}=e,d=r.current,f=E_(e,"recharts-bar-"),[g,p]=x.useState(!1),m=x.useCallback(()=>{typeof l=="function"&&l(),p(!1)},[l]),v=x.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return x.createElement(I_,{begin:a,duration:o,isActive:s,easing:A,onAnimationEnd:m,onAnimationStart:v,key:f},y=>{var w=y===1?n:n==null?void 0:n.map((B,I)=>{var T=d&&d[I];if(T)return Or(Or({},B),{},{x:fi(T.x,B.x,y),y:fi(T.y,B.y,y),width:fi(T.width,B.width,y),height:fi(T.height,B.height,y)});if(i==="horizontal"){var F=fi(0,B.height,y);return Or(Or({},B),{},{y:B.y+B.height-F,height:F})}var C=fi(0,B.width,y);return Or(Or({},B),{},{width:C})});return y>0&&(r.current=w??null),w==null?null:x.createElement(Rr,null,x.createElement(j3,{props:e,data:w,showLabels:!g}))})}function tge(t){var{data:e,isAnimationActive:r}=t,n=x.useRef(null);return r&&e&&e.length&&(n.current==null||n.current!==e)?x.createElement(ege,{previousRectanglesRef:n,props:t}):x.createElement(j3,{props:t,data:e,showLabels:!0})}var R3=0,rge=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:nt(t,e)}};class nge extends x.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:o,background:A,id:l}=this.props;if(e)return null;var u=Ge("recharts-bar",i),d=l;return x.createElement(Rr,{className:u,id:l},o&&x.createElement("defs",null,x.createElement(D3,{clipPathId:d,xAxisId:s,yAxisId:a})),x.createElement(Rr,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},x.createElement(Zhe,{data:r,dataKey:n,background:A,allOtherBarProps:this.props}),x.createElement(tge,this.props)),this.props.children)}}var ige={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!UA.isSsr,legendType:"rect",minPointSize:R3,xAxisId:0,yAxisId:0};function sge(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:A,animationEasing:l,isAnimationActive:u}=t,{needClip:d}=U_(e,r),f=Sv(),g=ln(),p=Df(t.children,Ru),m=ye(w=>Pge(w,e,r,g,t.id,p));if(f!=="vertical"&&f!=="horizontal")return null;var v,y=m==null?void 0:m[0];return y==null||y.height==null||y.width==null?v=0:v=f==="vertical"?y.height/2:y.width/2,x.createElement(O3,{xAxisId:e,yAxisId:r,data:m,dataPointFormatter:rge,errorBarOffset:v},x.createElement(nge,pu({},t,{layout:f,needClip:d,data:m,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:A,animationEasing:l,isAnimationActive:u})))}function age(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:A,yAxisTicks:l,stackedData:u,displayedData:d,offset:f,cells:g}=t,p=e==="horizontal"?o:a,m=u?p.scale.domain():null,v=ase({numericAxis:p});return d.map((y,w)=>{var B,I,T,F,C,_;u?B=ese(u[w],m):(B=nt(y,r),Array.isArray(B)||(B=[v,B]));var S=Qhe(n,R3)(B[1],w);if(e==="horizontal"){var P,[Q,k]=[o.scale(B[0]),o.scale(B[1])];I=iU({axis:a,ticks:A,bandSize:s,offset:i.offset,entry:y,index:w}),T=(P=k??Q)!==null&&P!==void 0?P:void 0,F=i.size;var N=Q-k;if(C=_n(N)?0:N,_={x:I,y:f.top,width:F,height:f.height},Math.abs(S)>0&&Math.abs(C)<Math.abs(S)){var oe=ur(C||S)*(Math.abs(S)-Math.abs(C));T-=oe,C+=oe}}else{var[xe,pe]=[a.scale(B[0]),a.scale(B[1])];if(I=xe,T=iU({axis:o,ticks:l,bandSize:s,offset:i.offset,entry:y,index:w}),F=pe-xe,C=i.size,_={x:f.left,y:T,width:f.width,height:C},Math.abs(S)>0&&Math.abs(F)<Math.abs(S)){var me=ur(F||S)*(Math.abs(S)-Math.abs(F));F+=me}}if(I==null||T==null||F==null||C==null)return null;var q=Or(Or({},y),{},{x:I,y:T,width:F,height:C,value:u?B:B[1],payload:y,background:_,tooltipPosition:{x:I+F/2,y:T+C/2}},g&&g[w]&&g[w].props);return q}).filter(Boolean)}function fa(t){var e=Nn(t,ige),r=ln();return x.createElement(__,{id:e.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(U3,{legendPayload:qhe(e)}),x.createElement(C_,{fn:Jhe,args:e}),x.createElement(N3,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:sse(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),x.createElement(sge,pu({},e,{id:n}))))}fa.displayName="Bar";function rN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _g(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(r),!0).forEach(function(n){oge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oge(t,e,r){return(e=Age(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Age(t){var e=lge(t,"string");return typeof e=="symbol"?e:e+""}function lge(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uge=(t,e)=>e,cge=(t,e,r)=>r,dge=(t,e,r,n)=>n,fge=(t,e,r,n,i)=>i,Xf=G([Mv,fge],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),hge=G([Xf],t=>t==null?void 0:t.maxBarSize),gge=(t,e,r,n,i,s)=>s,nN=(t,e,r)=>{var n=r??t;if(!ht(n))return Wr(n,e,0)},pge=G([He,Mv,uge,cge,dge],(t,e,r,n,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),mge=(t,e,r,n)=>{var i=He(t);return i==="horizontal"?dB(t,"yAxis",r,n):dB(t,"xAxis",e,n)},vge=(t,e,r)=>{var n=He(t);return n==="horizontal"?gP(t,"xAxis",e):gP(t,"yAxis",r)},yge=(t,e,r)=>{var n={},i=t.filter(Rv),s=t.filter(l=>l.stackId==null),a=i.reduce((l,u)=>(l[u.stackId]||(l[u.stackId]=[]),l[u.stackId].push(u),l),n),o=Object.entries(a).map(l=>{var[u,d]=l,f=d.map(p=>p.dataKey),g=nN(e,r,d[0].barSize);return{stackId:u,dataKeys:f,barSize:g}}),A=s.map(l=>{var u=[l.dataKey].filter(f=>f!=null),d=nN(e,r,l.barSize);return{stackId:void 0,dataKeys:u,barSize:d}});return[...o,...A]},wge=G([pge,Nle,vge],yge),xge=(t,e,r,n,i)=>{var s,a,o=Xf(t,e,r,n,i);if(o!=null){var A=He(t),l=r5(t),{maxBarSize:u}=o,d=ht(u)?l:u,f,g;return A==="horizontal"?(f=no(t,"xAxis",e,n),g=ro(t,"xAxis",e,n)):(f=no(t,"yAxis",r,n),g=ro(t,"yAxis",r,n)),(s=(a=of(f,g,!0))!==null&&a!==void 0?a:d)!==null&&s!==void 0?s:0}},M3=(t,e,r,n)=>{var i=He(t),s,a;return i==="horizontal"?(s=no(t,"xAxis",e,n),a=ro(t,"xAxis",e,n)):(s=no(t,"yAxis",r,n),a=ro(t,"yAxis",r,n)),of(s,a)};function bge(t,e,r,n,i){var s=n.length;if(!(s<1)){var a=Wr(t,r,0,!0),o,A=[];if(Tn(n[0].barSize)){var l=!1,u=r/s,d=n.reduce((y,w)=>y+(w.barSize||0),0);d+=(s-1)*a,d>=r&&(d-=(s-1)*a,a=0),d>=r&&u>0&&(l=!0,u*=.9,d=s*u);var f=(r-d)/2>>0,g={offset:f-a,size:0};o=n.reduce((y,w)=>{var B,I={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:g.offset+g.size+a,size:l?u:(B=w.barSize)!==null&&B!==void 0?B:0}},T=[...y,I];return g=T[T.length-1].position,T},A)}else{var p=Wr(e,r,0,!0);r-2*p-(s-1)*a<=0&&(a=0);var m=(r-2*p-(s-1)*a)/s;m>1&&(m>>=0);var v=Tn(i)?Math.min(m,i):m;o=n.reduce((y,w,B)=>[...y,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p+(m+a)*B+(m-v)/2,size:v}}],A)}return o}}var Bge=(t,e,r,n,i,s,a)=>{var o=ht(a)?e:a,A=bge(r,n,i!==s?i:s,t,o);return i!==s&&A!=null&&(A=A.map(l=>_g(_g({},l),{},{position:_g(_g({},l.position),{},{offset:l.position.offset-i/2})}))),A},Cge=G([wge,r5,Ple,n5,xge,M3,hge],Bge),Ege=(t,e,r,n)=>no(t,"xAxis",e,n),_ge=(t,e,r,n)=>no(t,"yAxis",r,n),Ige=(t,e,r,n)=>ro(t,"xAxis",e,n),Sge=(t,e,r,n)=>ro(t,"yAxis",r,n),Tge=G([Cge,Xf],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),Fge=(t,e)=>{var r=H1(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},Uge=G([mge,Xf],Fge),Pge=G([Zt,Ege,_ge,Ige,Sge,Tge,He,kv,M3,Uge,Xf,gge],(t,e,r,n,i,s,a,o,A,l,u,d)=>{var{chartData:f,dataStartIndex:g,dataEndIndex:p}=o;if(!(u==null||s==null||a!=="horizontal"&&a!=="vertical"||e==null||r==null||n==null||i==null||A==null)){var{data:m}=u,v;if(m!=null&&m.length>0?v=m:v=f==null?void 0:f.slice(g,p+1),v!=null)return age({layout:a,barSettings:u,pos:s,bandSize:A,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:l,displayedData:v,offset:t,cells:d})}}),L3=t=>{var{chartData:e}=t,r=Tt(),n=ln();return x.useEffect(()=>n?()=>{}:(r(CP(e)),()=>{r(CP(void 0))}),[e,r,n]),null},iN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Nge=Pn({name:"brush",initialState:iN,reducers:{setBrushSettings(t,e){return e.payload==null?iN:e.payload}}}),Qge=Nge.reducer;function kge(t,e,r){return(e=Oge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oge(t){var e=Dge(t,"string");return typeof e=="symbol"?e:e+""}function Dge(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class P_{static create(e){return new P_(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}kge(P_,"EPS",1e-4);function jge(t){return(t%180+180)%180}var Rge=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=jge(i),a=s*Math.PI/180,o=Math.atan(n/r),A=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(A)},Mge={dots:[],areas:[],lines:[]},Lge=Pn({name:"referenceElements",initialState:Mge,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=Bs(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=Bs(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=Bs(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),Hge=Lge.reducer,Vge=x.createContext(void 0),Kge=t=>{var{children:e}=t,[r]=x.useState("".concat(nf("recharts"),"-clip")),n=F_();if(n==null)return null;var{x:i,y:s,width:a,height:o}=n;return x.createElement(Vge.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function Pw(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function H3(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function $ge(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Rge(n,r)}function Gge(t,e,r){var n=r==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function Gm(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function zge(t,e){return H3(t,e+1)}function Wge(t,e,r,n,i){for(var s=(n||[]).slice(),{start:a,end:o}=e,A=0,l=1,u=a,d=function(){var p=n==null?void 0:n[A];if(p===void 0)return{v:H3(n,l)};var m=A,v,y=()=>(v===void 0&&(v=r(p,m)),v),w=p.coordinate,B=A===0||Gm(t,w,y,u,o);B||(A=0,u=a,l+=1),B&&(u=w+t*(y()/2+i),A+=l)},f;l<=s.length;)if(f=d(),f)return f.v;return[]}function sN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(r),!0).forEach(function(n){Yge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yge(t,e,r){return(e=Xge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xge(t){var e=qge(t,"string");return typeof e=="symbol"?e:e+""}function qge(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jge(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:o}=e,{end:A}=e,l=function(f){var g=s[f],p,m=()=>(p===void 0&&(p=r(g,f)),p);if(f===a-1){var v=t*(g.coordinate+t*m()/2-A);s[f]=g=Nr(Nr({},g),{},{tickCoord:v>0?g.coordinate-v*t:g.coordinate})}else s[f]=g=Nr(Nr({},g),{},{tickCoord:g.coordinate});var y=Gm(t,g.tickCoord,m,o,A);y&&(A=g.tickCoord-t*(m()/2+i),s[f]=Nr(Nr({},g),{},{isShow:!0}))},u=a-1;u>=0;u--)l(u);return s}function Zge(t,e,r,n,i,s){var a=(n||[]).slice(),o=a.length,{start:A,end:l}=e;if(s){var u=n[o-1],d=r(u,o-1),f=t*(u.coordinate+t*d/2-l);a[o-1]=u=Nr(Nr({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var g=Gm(t,u.tickCoord,()=>d,A,l);g&&(l=u.tickCoord-t*(d/2+i),a[o-1]=Nr(Nr({},u),{},{isShow:!0}))}for(var p=s?o-1:o,m=function(w){var B=a[w],I,T=()=>(I===void 0&&(I=r(B,w)),I);if(w===0){var F=t*(B.coordinate-t*T()/2-A);a[w]=B=Nr(Nr({},B),{},{tickCoord:F<0?B.coordinate-F*t:B.coordinate})}else a[w]=B=Nr(Nr({},B),{},{tickCoord:B.coordinate});var C=Gm(t,B.tickCoord,T,A,l);C&&(A=B.tickCoord+t*(T()/2+i),a[w]=Nr(Nr({},B),{},{isShow:!0}))},v=0;v<p;v++)m(v);return a}function N_(t,e,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:A,tickFormatter:l,unit:u,angle:d}=t;if(!i||!i.length||!n)return[];if(de(A)||UA.isSsr){var f;return(f=zge(i,de(A)?A:0))!==null&&f!==void 0?f:[]}var g=[],p=o==="top"||o==="bottom"?"width":"height",m=u&&p==="width"?xd(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=(B,I)=>{var T=typeof l=="function"?l(B.value,I):B.value;return p==="width"?$ge(xd(T,{fontSize:e,letterSpacing:r}),m,d):xd(T,{fontSize:e,letterSpacing:r})[p]},y=i.length>=2?ur(i[1].coordinate-i[0].coordinate):1,w=Gge(s,y,p);return A==="equidistantPreserveStart"?Wge(y,w,v,i,a):(A==="preserveStart"||A==="preserveStartEnd"?g=Zge(y,w,v,i,a,A==="preserveStartEnd"):g=Jge(y,w,v,i,a),g.filter(B=>B.isShow))}var epe=["viewBox"],tpe=["viewBox"];function El(){return El=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},El.apply(null,arguments)}function aN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aN(Object(r),!0).forEach(function(n){Q_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oN(t,e){if(t==null)return{};var r,n,i=rpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function rpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Q_(t,e,r){return(e=npe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function npe(t){var e=ipe(t,"string");return typeof e=="symbol"?e:e+""}function ipe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class yo extends x.Component{constructor(e){super(e),this.tickRefs=x.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,r){var{viewBox:n}=e,i=oN(e,epe),s=this.props,{viewBox:a}=s,o=oN(s,tpe);return!Pw(n,a)||!Pw(i,o)||!Pw(r,this.state)}getTickLineCoord(e){var{x:r,y:n,width:i,height:s,orientation:a,tickSize:o,mirror:A,tickMargin:l}=this.props,u,d,f,g,p,m,v=A?-1:1,y=e.tickSize||o,w=de(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,g=n+ +!A*s,f=g-v*y,m=f-v*l,p=w;break;case"left":f=g=e.coordinate,d=r+ +!A*i,u=d-v*y,p=u-v*l,m=w;break;case"right":f=g=e.coordinate,d=r+ +A*i,u=d+v*y,p=u+v*l,m=w;break;default:u=d=e.coordinate,g=n+ +A*s,f=g+v*y,m=f+v*l,p=w;break}return{line:{x1:u,y1:f,x2:d,y2:g},tick:{x:p,y:m}}}getTickTextAnchor(){var{orientation:e,mirror:r}=this.props,n;switch(e){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:e,mirror:r}=this.props;switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:e,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:o}=this.props,A=zt(zt(zt({},yt(this.props,!1)),yt(o,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var l=+(s==="top"&&!a||s==="bottom"&&a);A=zt(zt({},A),{},{x1:e,y1:r+l*i,x2:e+n,y2:r+l*i})}else{var u=+(s==="left"&&!a||s==="right"&&a);A=zt(zt({},A),{},{x1:e+u*n,y1:r,x2:e+u*n,y2:r+i})}return x.createElement("line",El({},A,{className:Ge("recharts-cartesian-axis-line",to(o,"className"))}))}static renderTickItem(e,r,n){var i,s=Ge(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(e))i=x.cloneElement(e,zt(zt({},r),{},{className:s}));else if(typeof e=="function")i=e(zt(zt({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Ge(a,e.className)),i=x.createElement(Gv,El({},r,{className:a}),n)}return i}renderTicks(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:o,unit:A,padding:l}=this.props,u=N_(zt(zt({},this.props),{},{ticks:n}),e,r),d=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),g=Ls(this.props),p=yt(a,!1),m=zt(zt({},g),{},{fill:"none"},yt(i,!1)),v=u.map((y,w)=>{var{line:B,tick:I}=this.getTickLineCoord(y),T=zt(zt(zt(zt({textAnchor:d,verticalAnchor:f},g),{},{stroke:"none",fill:s},p),I),{},{index:w,payload:y,visibleTicksCount:u.length,tickFormatter:o,padding:l});return x.createElement(Rr,El({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},Of(this.props,y,w)),i&&x.createElement("line",El({},m,B,{className:Ge("recharts-cartesian-axis-tick-line",to(i,"className"))})),a&&yo.renderTickItem(a,T,"".concat(typeof o=="function"?o(y.value,w):y.value).concat(A||"")))});return v.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},v):null}render(){var{axisLine:e,width:r,height:n,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:x.createElement(Rr,{className:Ge("recharts-cartesian-axis",i),ref:o=>{if(o){var A=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(A);var l=A[0];if(l){var u=window.getComputedStyle(l).fontSize,d=window.getComputedStyle(l).letterSpacing;(u!==this.state.fontSize||d!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(l).fontSize,letterSpacing:window.getComputedStyle(l).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),mn.renderCallByParent(this.props))}}Q_(yo,"displayName","CartesianAxis");Q_(yo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var spe=["x1","y1","x2","y2","key"],ape=["offset"],ope=["xAxisId","yAxisId"],Ape=["xAxisId","yAxisId"];function AN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(r),!0).forEach(function(n){lpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lpe(t,e,r){return(e=upe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function upe(t){var e=cpe(t,"string");return typeof e=="symbol"?e:e+""}function cpe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zo(){return zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zo.apply(null,arguments)}function zm(t,e){if(t==null)return{};var r,n,i=dpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function dpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var fpe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:o}=t;return x.createElement("rect",{x:n,y:i,ry:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function V3(t,e){var r;if(x.isValidElement(t))r=x.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:s,y2:a,key:o}=e,A=zm(e,spe),l=Ls(A),u=zm(l,ape);r=x.createElement("line",zo({},u,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:o}))}return r}function hpe(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var s=zm(t,ope),a=i.map((o,A)=>{var l=Dr(Dr({},s),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(A),index:A});return V3(n,l)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function gpe(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var s=zm(t,Ape),a=i.map((o,A)=>{var l=Dr(Dr({},s),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(A),index:A});return V3(n,l)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function ppe(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:o,horizontal:A=!0}=t;if(!A||!e||!e.length)return null;var l=o.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==l[0]&&l.unshift(0);var u=l.map((d,f)=>{var g=!l[f+1],p=g?i+a-d:l[f+1]-d;if(p<=0)return null;var m=f%e.length;return x.createElement("rect",{key:"react-".concat(f),y:d,x:n,height:p,width:s,stroke:"none",fill:e[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function mpe(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:o,verticalPoints:A}=t;if(!e||!r||!r.length)return null;var l=A.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==l[0]&&l.unshift(0);var u=l.map((d,f)=>{var g=!l[f+1],p=g?i+a-d:l[f+1]-d;if(p<=0)return null;var m=f%r.length;return x.createElement("rect",{key:"react-".concat(f),x:d,y:s,width:p,height:o,stroke:"none",fill:r[m],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var vpe=(t,e)=>{var{xAxis:r,width:n,height:i,offset:s}=t;return NM(N_(Dr(Dr(Dr({},yo.defaultProps),r),{},{ticks:QM(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,e)},ype=(t,e)=>{var{yAxis:r,width:n,height:i,offset:s}=t;return NM(N_(Dr(Dr(Dr({},yo.defaultProps),r),{},{ticks:QM(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,e)},wpe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function iA(t){var e=s1(),r=a1(),n=RM(),i=Dr(Dr({},Nn(t,wpe)),{},{x:de(t.x)?t.x:n.left,y:de(t.y)?t.y:n.top,width:de(t.width)?t.width:n.width,height:de(t.height)?t.height:n.height}),{xAxisId:s,yAxisId:a,x:o,y:A,width:l,height:u,syncWithTicks:d,horizontalValues:f,verticalValues:g}=i,p=ln(),m=ye(S=>pP(S,"xAxis",s,p)),v=ye(S=>pP(S,"yAxis",a,p));if(!de(l)||l<=0||!de(u)||u<=0||!de(o)||o!==+o||!de(A)||A!==+A)return null;var y=i.verticalCoordinatesGenerator||vpe,w=i.horizontalCoordinatesGenerator||ype,{horizontalPoints:B,verticalPoints:I}=i;if((!B||!B.length)&&typeof w=="function"){var T=f&&f.length,F=w({yAxis:v?Dr(Dr({},v),{},{ticks:T?f:v.ticks}):void 0,width:e,height:r,offset:n},T?!0:d);wd(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(B=F)}if((!I||!I.length)&&typeof y=="function"){var C=g&&g.length,_=y({xAxis:m?Dr(Dr({},m),{},{ticks:C?g:m.ticks}):void 0,width:e,height:r,offset:n},C?!0:d);wd(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(I=_)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(fpe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(ppe,zo({},i,{horizontalPoints:B})),x.createElement(mpe,zo({},i,{verticalPoints:I})),x.createElement(hpe,zo({},i,{offset:n,horizontalPoints:B,xAxis:m,yAxis:v})),x.createElement(gpe,zo({},i,{offset:n,verticalPoints:I,xAxis:m,yAxis:v})))}iA.displayName="CartesianGrid";var K3=(t,e,r,n)=>no(t,"xAxis",e,n),$3=(t,e,r,n)=>ro(t,"xAxis",e,n),G3=(t,e,r,n)=>no(t,"yAxis",r,n),z3=(t,e,r,n)=>ro(t,"yAxis",r,n),xpe=G([He,K3,G3,$3,z3],(t,e,r,n,i)=>ho(t,"xAxis")?of(e,n,!1):of(r,i,!1)),bpe=(t,e,r,n,i)=>i;function Bpe(t){return t.type==="line"}var Cpe=G([Mv,bpe],(t,e)=>t.filter(Bpe).find(r=>r.id===e)),Epe=G([He,K3,G3,$3,z3,Cpe,xpe,kv],(t,e,r,n,i,s,a,o)=>{var{chartData:A,dataStartIndex:l,dataEndIndex:u}=o;if(!(s==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||a==null)){var{dataKey:d,data:f}=s,g;if(f!=null&&f.length>0?g=f:g=A==null?void 0:A.slice(l,u+1),g!=null)return Gpe({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:d,bandSize:a,displayedData:g})}}),_pe=["id"],Ipe=["type","layout","connectNulls","needClip"],Spe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function lN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(r),!0).forEach(function(n){Tpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tpe(t,e,r){return(e=Fpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fpe(t){var e=Upe(t,"string");return typeof e=="symbol"?e:e+""}function Upe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k_(t,e){if(t==null)return{};var r,n,i=Ppe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ppe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function bA(){return bA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bA.apply(null,arguments)}var Npe=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Tu(r,e),payload:t}]};function Qpe(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:s,name:a,hide:o,unit:A}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Tu(a,e),hide:o,type:t.tooltipType,color:t.stroke,unit:A}}}var W3=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function kpe(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var Ope=(t,e,r)=>{var n=r.reduce((d,f)=>d+f);if(!n)return W3(e,t);for(var i=Math.floor(t/n),s=t%n,a=e-t,o=[],A=0,l=0;A<r.length;l+=r[A],++A)if(l+r[A]>s){o=[...r.slice(0,A),s-l];break}var u=o.length%2===0?[0,a]:[a];return[...kpe(r,i),...o,...u].map(d=>"".concat(d,"px")).join(", ")};function Dpe(t,e){var r;if(x.isValidElement(t))r=x.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=Ge("recharts-line-dot",typeof t!="boolean"?t.className:"");r=x.createElement(C3,bA({},e,{className:n}))}return r}function jpe(t,e){return t==null?!1:e?!0:t.length===1}function Rpe(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:s,needClip:a}=n;if(!jpe(r,i))return null;var o=k_(n,_pe),A=hR(i),l=Ls(o),u=yt(i,!0),d=r.map((g,p)=>{var m=hi(hi(hi({key:"dot-".concat(p),r:3},l),u),{},{index:p,cx:g.x,cy:g.y,dataKey:s,value:g.value,payload:g.payload,points:r});return Dpe(i,m)}),f={clipPath:a?"url(#clipPath-".concat(A?"":"dots-").concat(e,")"):void 0};return x.createElement(Rr,bA({className:"recharts-line-dots",key:"dots"},f),d)}function wB(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:s,showLabels:a}=t,{type:o,layout:A,connectNulls:l,needClip:u}=s,d=k_(s,Ipe),f=hi(hi({},yt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):void 0,points:n,type:o,layout:A,connectNulls:l,strokeDasharray:i??s.strokeDasharray});return x.createElement(x.Fragment,null,(n==null?void 0:n.length)>1&&x.createElement(A1,bA({},f,{pathRef:r})),x.createElement(Rpe,{points:n,clipPathId:e,props:s}),a&&Ha.renderCallByParent(s,n))}function Mpe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Lpe(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:o,isAnimationActive:A,animationBegin:l,animationDuration:u,animationEasing:d,animateNewValues:f,width:g,height:p,onAnimationEnd:m,onAnimationStart:v}=r,y=i.current,w=E_(r,"recharts-line-"),[B,I]=x.useState(!1),T=x.useCallback(()=>{typeof m=="function"&&m(),I(!1)},[m]),F=x.useCallback(()=>{typeof v=="function"&&v(),I(!0)},[v]),C=Mpe(n.current),_=s.current;return x.createElement(I_,{begin:l,duration:u,isActive:A,easing:d,onAnimationEnd:T,onAnimationStart:F,key:w},S=>{var P=fi(_,C+_,S),Q=Math.min(P,C),k;if(o){var N="".concat(o).split(/[,\s]+/gim).map(pe=>parseFloat(pe));k=Ope(Q,C,N)}else k=W3(C,Q);if(y){var oe=y.length/a.length,xe=S===1?a:a.map((pe,me)=>{var q=Math.floor(me*oe);if(y[q]){var se=y[q];return hi(hi({},pe),{},{x:fi(se.x,pe.x,S),y:fi(se.y,pe.y,S)})}return f?hi(hi({},pe),{},{x:fi(g*2,pe.x,S),y:fi(p/2,pe.y,S)}):hi(hi({},pe),{},{x:pe.x,y:pe.y})});return i.current=xe,x.createElement(wB,{props:r,points:xe,clipPathId:e,pathRef:n,showLabels:!B,strokeDasharray:k})}return S>0&&C>0&&(i.current=a,s.current=Q),x.createElement(wB,{props:r,points:a,clipPathId:e,pathRef:n,showLabels:!B,strokeDasharray:k})})}function Hpe(t){var{clipPathId:e,props:r}=t,{points:n,isAnimationActive:i}=r,s=x.useRef(null),a=x.useRef(0),o=x.useRef(null),A=s.current;return i&&n&&n.length&&A!==n?x.createElement(Lpe,{props:r,clipPathId:e,previousPointsRef:s,longestAnimatedLengthRef:a,pathRef:o}):x.createElement(wB,{props:r,points:n,clipPathId:e,pathRef:o,showLabels:!0})}var Vpe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:nt(t.payload,e)});class Kpe extends x.Component{render(){var e,{hide:r,dot:n,points:i,className:s,xAxisId:a,yAxisId:o,top:A,left:l,width:u,height:d,id:f,needClip:g}=this.props;if(r)return null;var p=Ge("recharts-line",s),m=f,{r:v=3,strokeWidth:y=2}=(e=yt(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},w=hR(n),B=v*2+y;return x.createElement(x.Fragment,null,x.createElement(Rr,{className:p},g&&x.createElement("defs",null,x.createElement(D3,{clipPathId:m,xAxisId:a,yAxisId:o}),!w&&x.createElement("clipPath",{id:"clipPath-dots-".concat(m)},x.createElement("rect",{x:l-B/2,y:A-B/2,width:u+B,height:d+B}))),x.createElement(Hpe,{props:this.props,clipPathId:m}),x.createElement(O3,{xAxisId:a,yAxisId:o,data:i,dataPointFormatter:Vpe,errorBarOffset:0},this.props.children)),x.createElement(Che,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Y3={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!UA.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function $pe(t){var e=Nn(t,Y3),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:A,hide:l,isAnimationActive:u,label:d,legendType:f,xAxisId:g,yAxisId:p,id:m}=e,v=k_(e,Spe),{needClip:y}=U_(g,p),w=F_(),B=Sv(),I=ln(),T=ye(P=>Epe(P,g,p,I,m));if(B!=="horizontal"&&B!=="vertical"||T==null||w==null)return null;var{height:F,width:C,x:_,y:S}=w;return x.createElement(Kpe,bA({},v,{id:m,connectNulls:o,dot:A,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:u,hide:l,label:d,legendType:f,xAxisId:g,yAxisId:p,points:T,layout:B,height:F,width:C,left:_,top:S,needClip:y}))}function Gpe(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:o,displayedData:A}=t;return A.map((l,u)=>{var d=nt(l,a);if(e==="horizontal"){var f=nU({axis:r,ticks:i,bandSize:o,entry:l,index:u}),g=ht(d)?null:n.scale(d);return{x:f,y:g,value:d,payload:l}}var p=ht(d)?null:r.scale(d),m=nU({axis:n,ticks:s,bandSize:o,entry:l,index:u});return p==null||m==null?null:{x:p,y:m,value:d,payload:l}}).filter(Boolean)}function Ca(t){var e=Nn(t,Y3),r=ln();return x.createElement(__,{id:e.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(U3,{legendPayload:Npe(e)}),x.createElement(C_,{fn:Qpe,args:e}),x.createElement(N3,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),x.createElement($pe,bA({},e,{id:n}))))}Ca.displayName="Line";function uN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(r),!0).forEach(function(n){zpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zpe(t,e,r){return(e=Wpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wpe(t){var e=Ype(t,"string");return typeof e=="symbol"?e:e+""}function Ype(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xpe={xAxis:{},yAxis:{},zAxis:{}},X3=Pn({name:"cartesianAxis",initialState:Xpe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=cN(cN({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:qpe,removeXAxis:Jpe,addYAxis:Zpe,removeYAxis:eme,addZAxis:lve,removeZAxis:uve,updateYAxisWidth:tme}=X3.actions,rme=X3.reducer,nme=["children"],ime=["dangerouslySetInnerHTML","ticks"];function q3(t,e,r){return(e=sme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sme(t){var e=ame(t,"string");return typeof e=="symbol"?e:e+""}function ame(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xB(){return xB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xB.apply(null,arguments)}function J3(t,e){if(t==null)return{};var r,n,i=ome(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ome(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Ame(t){var e=Tt(),r=x.useMemo(()=>{var s=J3(t,nme);return s},[t]),n=ye(s=>$s(s,r.id)),i=r===n;return x.useEffect(()=>(e(qpe(r)),()=>{e(Jpe(r))}),[r,e]),i?t.children:null}var lme=t=>{var{xAxisId:e,className:r}=t,n=ye(jM),i=ln(),s="xAxis",a=ye(d=>Ou(d,s,e,i)),o=ye(d=>O5(d,s,e,i)),A=ye(d=>P5(d,e)),l=ye(d=>Bue(d,e));if(A==null||l==null)return null;var u=J3(t,ime);return x.createElement(yo,xB({},u,{scale:a,x:l.x,y:l.y,width:A.width,height:A.height,className:Ge("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o}))},ume=t=>{var e,r,n,i,s;return x.createElement(Ame,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},x.createElement(lme,t))};class Va extends x.Component{render(){return x.createElement(ume,this.props)}}q3(Va,"displayName","XAxis");q3(Va,"defaultProps",{allowDataOverflow:fn.allowDataOverflow,allowDecimals:fn.allowDecimals,allowDuplicatedCategory:fn.allowDuplicatedCategory,height:fn.height,hide:!1,mirror:fn.mirror,orientation:fn.orientation,padding:fn.padding,reversed:fn.reversed,scale:fn.scale,tickCount:fn.tickCount,type:fn.type,xAxisId:0});var cme=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){e.forEach(u=>{if(u){var d=u.getBoundingClientRect();d.width>a&&(a=d.width)}});var o=r?r.getBoundingClientRect().width:0,A=i+s,l=a+A+o+(r?n:0);return Math.round(l)}return 0},dme=["dangerouslySetInnerHTML","ticks"];function Z3(t,e,r){return(e=fme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fme(t){var e=hme(t,"string");return typeof e=="symbol"?e:e+""}function hme(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bB(){return bB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bB.apply(null,arguments)}function gme(t,e){if(t==null)return{};var r,n,i=pme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function pme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function mme(t){var e=Tt();return x.useEffect(()=>(e(Zpe(t)),()=>{e(eme(t))}),[t,e]),null}var vme=t=>{var e,{yAxisId:r,className:n,width:i,label:s}=t,a=x.useRef(null),o=x.useRef(null),A=ye(jM),l=ln(),u=Tt(),d="yAxis",f=ye(y=>Ou(y,d,r,l)),g=ye(y=>N5(y,r)),p=ye(y=>Cue(y,r)),m=ye(y=>O5(y,d,r,l));if(x.useLayoutEffect(()=>{var y;if(!(i!=="auto"||!g||p_(s)||x.isValidElement(s))){var w=a.current,B=w==null||(y=w.tickRefs)===null||y===void 0?void 0:y.current,{tickSize:I,tickMargin:T}=w.props,F=cme({ticks:B,label:o.current,labelGapWithTick:5,tickSize:I,tickMargin:T});Math.round(g.width)!==Math.round(F)&&u(tme({id:r,width:F}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,g==null?void 0:g.width,g,u,s,r,i]),g==null||p==null)return null;var v=gme(t,dme);return x.createElement(yo,bB({},v,{ref:a,labelRef:o,scale:f,x:p.x,y:p.y,width:g.width,height:g.height,className:Ge("recharts-".concat(d," ").concat(d),n),viewBox:A,ticks:m}))},yme=t=>{var e,r,n,i,s;return x.createElement(x.Fragment,null,x.createElement(mme,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),x.createElement(vme,t))},wme={allowDataOverflow:hn.allowDataOverflow,allowDecimals:hn.allowDecimals,allowDuplicatedCategory:hn.allowDuplicatedCategory,hide:!1,mirror:hn.mirror,orientation:hn.orientation,padding:hn.padding,reversed:hn.reversed,scale:hn.scale,tickCount:hn.tickCount,type:hn.type,width:hn.width,yAxisId:0};class Ka extends x.Component{render(){return x.createElement(yme,this.props)}}Z3(Ka,"displayName","YAxis");Z3(Ka,"defaultProps",wme);var xme={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf=x;function bme(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bme=typeof Object.is=="function"?Object.is:bme,Cme=qf.useSyncExternalStore,Eme=qf.useRef,_me=qf.useEffect,Ime=qf.useMemo,Sme=qf.useDebugValue;xme.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=Eme(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Ime(function(){function A(g){if(!l){if(l=!0,u=g,g=n(g),i!==void 0&&a.hasValue){var p=a.value;if(i(p,g))return d=p}return d=g}if(p=d,Bme(u,g))return p;var m=n(g);return i!==void 0&&i(p,m)?(u=g,p):(u=g,d=m)}var l=!1,u,d,f=r===void 0?null:r;return[function(){return A(e())},f===null?void 0:function(){return A(f())}]},[e,r,n,i]);var o=Cme(t,s[0],s[1]);return _me(function(){a.hasValue=!0,a.value=o},[o]),Sme(o),o};function Tme(t){t()}function Fme(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Tme(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var dN={notify(){},get:()=>[]};function Ume(t,e){let r,n=dN,i=0,s=!1;function a(m){u();const v=n.subscribe(m);let y=!1;return()=>{y||(y=!0,v(),d())}}function o(){n.notify()}function A(){p.onStateChange&&p.onStateChange()}function l(){return s}function u(){i++,r||(r=t.subscribe(A),n=Fme())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=dN)}function f(){s||(s=!0,u())}function g(){s&&(s=!1,d())}const p={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:A,isSubscribed:l,trySubscribe:f,tryUnsubscribe:g,getListeners:()=>n};return p}var Pme=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nme=Pme(),Qme=()=>typeof navigator<"u"&&navigator.product==="ReactNative",kme=Qme(),Ome=()=>Nme||kme?x.useLayoutEffect:x.useEffect,Dme=Ome(),Nw=Symbol.for("react-redux-context"),Qw=typeof globalThis<"u"?globalThis:{};function jme(){if(!x.createContext)return{};const t=Qw[Nw]??(Qw[Nw]=new Map);let e=t.get(x.createContext);return e||(e=x.createContext(null),t.set(x.createContext,e)),e}var Rme=jme();function Mme(t){const{children:e,context:r,serverState:n,store:i}=t,s=x.useMemo(()=>{const A=Ume(i);return{store:i,subscription:A,getServerState:n?()=>n:void 0}},[i,n]),a=x.useMemo(()=>i.getState(),[i]);Dme(()=>{const{subscription:A}=s;return A.onStateChange=A.notifyNestedSubs,A.trySubscribe(),a!==i.getState()&&A.notifyNestedSubs(),()=>{A.tryUnsubscribe(),A.onStateChange=void 0}},[s,a]);const o=r||Rme;return x.createElement(o.Provider,{value:s},e)}var Lme=Mme,Hme=(t,e)=>e,O_=G([Hme,He,l5,tr,q5,Gs,Tce,Zt],Qce),D_=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},eH=ri("mouseClick"),tH=jf();tH.startListening({actionCreator:eH,effect:(t,e)=>{var r=t.payload,n=O_(e.getState(),D_(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(Due({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var BB=ri("mouseMove"),rH=jf();rH.startListening({actionCreator:BB,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=a_(n,n.tooltip.settings.shared),s=O_(n,D_(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(K5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(V5()))}});function Vme(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var fN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},nH=Pn({name:"rootProps",initialState:fN,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:fN.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Kme=nH.reducer,{updateOptions:$me}=nH.actions,iH=Pn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Gme}=iH.actions,zme=iH.reducer,sH=ri("keyDown"),aH=ri("focus"),j_=jf();j_.startListening({actionCreator:sH,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(o_(i,ju(r))),o=Gs(r);if(s==="Enter"){var A=Lm(r,"axis","hover",String(i.index));e.dispatch(hB({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:A}));return}var l=Sue(r),u=l==="left-to-right"?1:-1,d=s==="ArrowRight"?1:-1,f=a+d*u;if(!(o==null||f>=o.length||f<0)){var g=Lm(r,"axis","hover",String(f));e.dispatch(hB({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});j_.startListening({actionCreator:aH,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=Lm(r,"axis","hover",String(s));e.dispatch(hB({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var jn=ri("externalEvent"),oH=jf();oH.startListening({actionCreator:jn,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:yce(r),activeDataKey:t3(r),activeIndex:io(r),activeLabel:e3(r),activeTooltipIndex:io(r),isTooltipActive:wce(r)};t.payload.handler(n,t.payload.reactEvent)}}});var Wme=G([Du],t=>t.tooltipItemPayloads),Yme=G([Wme,Wf,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,r);return a}}}),AH=ri("touchMove"),lH=jf();lH.startListening({actionCreator:AH,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=a_(n,n.tooltip.settings.shared);if(i==="axis"){var s=O_(n,D_({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(K5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=r.touches[0],A=document.elementFromPoint(o.clientX,o.clientY);if(!A||!A.getAttribute)return;var l=A.getAttribute(OM),u=(a=A.getAttribute(DM))!==null&&a!==void 0?a:void 0,d=Yme(e.getState(),l,u);e.dispatch(H5({activeDataKey:u,activeIndex:l,activeCoordinate:d}))}}});var Xme=AM({brush:Qge,cartesianAxis:rme,chartData:Yce,errorBars:Dhe,graphicalItems:$fe,layout:jie,legend:Ese,options:Kce,polarAxis:ffe,polarOptions:zme,referenceElements:Hge,rootProps:Kme,tooltip:jue}),qme=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return lie({reducer:Xme,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([tH.middleware,rH.middleware,j_.middleware,oH.middleware,lH.middleware]),devTools:{serialize:{replacer:Vme},name:"recharts-".concat(r)}})};function uH(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=ln(),s=x.useRef(null);if(i)return r;s.current==null&&(s.current=qme(e,n));var a=WE;return x.createElement(Lme,{context:a,store:s.current},r)}function cH(t){var{layout:e,width:r,height:n,margin:i}=t,s=Tt(),a=ln();return x.useEffect(()=>{a||(s(kie(e)),s(Oie({width:r,height:n})),s(Qie(i)))},[s,a,e,r,n,i]),null}function dH(t){var e=Tt();return x.useEffect(()=>{e($me(t))},[e,t]),null}var Jme=["children"];function Zme(t,e){if(t==null)return{};var r,n,i=e0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function e0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Wm(){return Wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wm.apply(null,arguments)}var t0e={width:"100%",height:"100%"},r0e=x.forwardRef((t,e)=>{var r=s1(),n=a1(),i=VM();if(!cu(r)||!cu(n))return null;var{children:s,otherAttributes:a,title:o,desc:A}=t,l,u;return typeof a.tabIndex=="number"?l=a.tabIndex:l=i?0:void 0,typeof a.role=="string"?u=a.role:u=i?"application":void 0,x.createElement(QE,Wm({},a,{title:o,desc:A,role:u,tabIndex:l,width:r,height:n,style:t0e,ref:e}),s)}),n0e=t=>{var{children:e}=t,r=ye(Iv);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return x.createElement(QE,{width:n,height:i,x:a,y:s},e)},hN=x.forwardRef((t,e)=>{var{children:r}=t,n=Zme(t,Jme),i=ln();return i?x.createElement(n0e,null,r):x.createElement(r0e,Wm({ref:e},n),r)});function i0e(){var t=Tt(),[e,r]=x.useState(null),n=ye(fse);return x.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Tn(s)&&s!==n&&t(Die(s))}},[e,t,n]),r}function gN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s0e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gN(Object(r),!0).forEach(function(n){a0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a0e(t,e,r){return(e=o0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o0e(t){var e=A0e(t,"string");return typeof e=="symbol"?e:e+""}function A0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l0e=x.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:A,onMouseEnter:l,onMouseLeave:u,onMouseMove:d,onMouseUp:f,onTouchEnd:g,onTouchMove:p,onTouchStart:m,style:v,width:y}=t,w=Tt(),[B,I]=x.useState(null),[T,F]=x.useState(null);Jce();var C=i0e(),_=x.useCallback(ie=>{C(ie),typeof e=="function"&&e(ie),I(ie),F(ie)},[C,e,I,F]),S=x.useCallback(ie=>{w(eH(ie)),w(jn({handler:s,reactEvent:ie}))},[w,s]),P=x.useCallback(ie=>{w(BB(ie)),w(jn({handler:l,reactEvent:ie}))},[w,l]),Q=x.useCallback(ie=>{w(V5()),w(jn({handler:u,reactEvent:ie}))},[w,u]),k=x.useCallback(ie=>{w(BB(ie)),w(jn({handler:d,reactEvent:ie}))},[w,d]),N=x.useCallback(()=>{w(aH())},[w]),oe=x.useCallback(ie=>{w(sH(ie.key))},[w]),xe=x.useCallback(ie=>{w(jn({handler:a,reactEvent:ie}))},[w,a]),pe=x.useCallback(ie=>{w(jn({handler:o,reactEvent:ie}))},[w,o]),me=x.useCallback(ie=>{w(jn({handler:A,reactEvent:ie}))},[w,A]),q=x.useCallback(ie=>{w(jn({handler:f,reactEvent:ie}))},[w,f]),se=x.useCallback(ie=>{w(jn({handler:m,reactEvent:ie}))},[w,m]),ue=x.useCallback(ie=>{w(AH(ie)),w(jn({handler:p,reactEvent:ie}))},[w,p]),Se=x.useCallback(ie=>{w(jn({handler:g,reactEvent:ie}))},[w,g]);return x.createElement(o3.Provider,{value:B},x.createElement(gR.Provider,{value:T},x.createElement("div",{className:Ge("recharts-wrapper",n),style:s0e({position:"relative",cursor:"default",width:y,height:i},v),onClick:S,onContextMenu:xe,onDoubleClick:pe,onFocus:N,onKeyDown:oe,onMouseDown:me,onMouseEnter:P,onMouseLeave:Q,onMouseMove:k,onMouseUp:q,onTouchEnd:Se,onTouchMove:ue,onTouchStart:se,ref:_},r)))}),u0e=["children","className","width","height","style","compact","title","desc"];function c0e(t,e){if(t==null)return{};var r,n,i=d0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function d0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var fH=x.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:s,style:a,compact:o,title:A,desc:l}=t,u=c0e(t,u0e),d=Ls(u);return o?x.createElement(hN,{otherAttributes:d,title:A,desc:l},r):x.createElement(l0e,{className:n,style:a,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},x.createElement(hN,{otherAttributes:d,title:A,desc:l,ref:e},x.createElement(Kge,null,r)))}),f0e=["width","height"];function CB(){return CB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CB.apply(null,arguments)}function h0e(t,e){if(t==null)return{};var r,n,i=g0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function g0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var p0e={top:5,right:5,bottom:5,left:5},m0e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:p0e,reverseStackOrder:!1,syncMethod:"index"},hH=x.forwardRef(function(e,r){var n,i=Nn(e.categoricalChartProps,m0e),{width:s,height:a}=i,o=h0e(i,f0e);if(!cu(s)||!cu(a))return null;var{chartName:A,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=e,g={chartName:A,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(uH,{preloadedState:{options:g},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:A},x.createElement(L3,{chartData:f.data}),x.createElement(cH,{width:s,height:a,layout:i.layout,margin:i.margin}),x.createElement(dH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(fH,CB({},o,{width:s,height:a,ref:r})))}),v0e=["axis"],R_=x.forwardRef((t,e)=>x.createElement(hH,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:v0e,tooltipPayloadSearcher:g_,categoricalChartProps:t,ref:e})),y0e=["axis","item"],EB=x.forwardRef((t,e)=>x.createElement(hH,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:y0e,tooltipPayloadSearcher:g_,categoricalChartProps:t,ref:e}));function w0e(t){var e=Tt();return x.useEffect(()=>{e(Gme(t))},[e,t]),null}var x0e=["width","height","layout"];function _B(){return _B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_B.apply(null,arguments)}function b0e(t,e){if(t==null)return{};var r,n,i=B0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function B0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var C0e={top:5,right:5,bottom:5,left:5},E0e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:C0e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},_0e=x.forwardRef(function(e,r){var n,i=Nn(e.categoricalChartProps,E0e),{width:s,height:a,layout:o}=i,A=b0e(i,x0e);if(!cu(s)||!cu(a))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f}=e,g={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(uH,{preloadedState:{options:g},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:l},x.createElement(L3,{chartData:i.data}),x.createElement(cH,{width:s,height:a,layout:o,margin:i.margin}),x.createElement(dH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(w0e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(fH,_B({width:s,height:a},A,{ref:r})))}),I0e=["item"],S0e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},gH=x.forwardRef((t,e)=>{var r=Nn(t,S0e);return x.createElement(_0e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:I0e,tooltipPayloadSearcher:g_,categoricalChartProps:r,ref:e})});const Si=["7-11 新街門市","A21 環北站","7-11 高萱門市","A18 桃園高鐵站","A16 橫山站","大園農會","不搭車"],pN={"A21 環北站":{name:"A21 環北站",originalPrice:65,monthlyPass:{30:1260,90:3564,120:3888}},"A19 體育園區站":{name:"A19 體育園區站",originalPrice:40,monthlyPass:{30:735,90:2079,120:2268}},"7-11 高萱門市":{name:"A19 體育園區站",originalPrice:40,monthlyPass:{30:735,90:2079,120:2268}},"A18 桃園高鐵站":{name:"A18 桃園高鐵站",originalPrice:35,monthlyPass:{30:630,90:1782,120:1944}}},T0e={name:"TPass 799",price:799,days:30,description:"A7-A22 無限搭乘 30天"},kw={K:"早",L:"中",Y:"晚",A:"晚",月休:"休",SS:"特",R:"休",KK:"早",LL:"中",YY:"晚",早班:"早",中班:"中",晚班:"晚"},Ig=(t=[])=>{const e=[],r=new Date,n=r.getFullYear(),i=r.getMonth()+1,s=`${n}-${i.toString().padStart(2,"0")}`;return t.length>0?t.sort((o,A)=>A.key.localeCompare(o.key)).forEach(o=>{let A=o.label;o.key===s&&(A+=" (當月)"),e.push({key:o.key,label:A,year:parseInt(o.key.split("-")[0]),month:parseInt(o.key.split("-")[1]),lastUpdated:o.lastUpdated})}):e.push({key:s,label:`${n}年${i}月 (當月)`,year:n,month:i}),e},F0e=()=>{const t=[],e=new Date;for(let s=12;s>=1;s--){const a=new Date(e.getFullYear(),e.getMonth()-s,1),o=a.getFullYear(),A=a.getMonth()+1,l=`${o}-${A.toString().padStart(2,"0")}`,u=`${o}年${A}月`;t.push({key:l,label:u,year:o,month:A})}const r=e.getFullYear(),n=e.getMonth()+1,i=`${r}-${n.toString().padStart(2,"0")}`;t.push({key:i,label:`${r}年${n}月 (當月)`,year:r,month:n});for(let s=1;s<=6;s++){const a=new Date(e.getFullYear(),e.getMonth()+s,1),o=a.getFullYear(),A=a.getMonth()+1,l=`${o}-${A.toString().padStart(2,"0")}`;let u=`${o}年${A}月`;s===1&&(u+=" (下個月)"),t.push({key:l,label:u,year:o,month:A})}return t};function U0e(){const[t,e]=x.useState("display"),[r,n]=x.useState({}),[i,s]=x.useState({}),[a,o]=x.useState(()=>{const O=new Date,R=O.getFullYear(),J=O.getMonth()+1;return`${R}-${J.toString().padStart(2,"0")}`}),[A,l]=x.useState({}),[u,d]=x.useState({}),[f,g]=x.useState([]);x.useState(!1);const[p,m]=x.useState({}),[v,y]=x.useState({}),[w,B]=x.useState("date"),[I,T]=x.useState("all"),[F,C]=x.useState(null),[_,S]=x.useState("week1"),[P,Q]=x.useState(null),[k,N]=x.useState(null),[oe,xe]=x.useState([]),[pe,me]=x.useState({start:1,end:31}),[q,se]=x.useState([]),[ue,Se]=x.useState("charts"),[ie,Ue]=x.useState("chart"),[Ye,D]=x.useState(null),[V,j]=x.useState({startDate:"",endDate:""}),[Y,M]=x.useState(!1),[$,W]=x.useState(""),[L,be]=x.useState(null),[Be,Ne]=x.useState("");x.useState("current");const[Ve,nr]=x.useState(""),[Gi,Mu]=x.useState("import"),[zs,wo]=x.useState({id:"",name:"",pickupLocation:Si[0]});x.useEffect(()=>{Lu(),kA()},[]),x.useEffect(()=>{if(f.length>0){const O=new Date,R=O.getFullYear(),J=O.getMonth()+1,ee=`${R}-${J.toString().padStart(2,"0")}`;if(f.some(ne=>ne.key===ee))o(ee);else{const ne=f[0];ne&&o(ne.key)}}},[f]),x.useEffect(()=>{ue==="charts"?N(null):ue==="overlap"&&Q(null)},[ue]),x.useEffect(()=>{const O=qd(Ti(or,"schedule","currentMonth"),J=>{if(J.exists()){const ee=J.data();n(ee),l(Z=>({...Z,current:ee._lastUpdated}))}}),R=qd(Ti(or,"schedule","nextMonth"),J=>{if(J.exists()){const ee=J.data();s(ee),l(Z=>({...Z,next:ee._lastUpdated}))}});return()=>{O(),R()}},[]);const Lu=async()=>{try{const O=await dd(ud(or,"schedule")),R={},J=[];O.forEach(Z=>{const ne=Z.data();R[Z.id]=ne,Z.id.match(/^\d{4}-\d{2}$/)&&J.push({key:Z.id,label:`${Z.id.split("-")[0]}年${Z.id.split("-")[1]}月`,lastUpdated:ne._lastUpdated})}),d(R),g(J.sort((Z,ne)=>ne.key.localeCompare(Z.key)));const ee={};R.currentMonth&&(n(R.currentMonth),ee.current=R.currentMonth._lastUpdated),R.nextMonth&&(s(R.nextMonth),ee.next=R.nextMonth._lastUpdated),J.forEach(Z=>{ee[Z.key]=Z.lastUpdated}),l(ee)}catch(O){console.error("載入班表資料失敗:",O)}},kA=async()=>{try{const O=await dd(ud(or,"names")),R={};O.forEach(Z=>{R[Z.id]=Z.data().name}),m(R);const J=await dd(ud(or,"pickupLocations")),ee={};J.forEach(Z=>{ee[Z.id]=Z.data().location}),y(ee)}catch(O){console.error("載入同事資料失敗:",O)}},Hu=async()=>{try{for(const[O,R]of Object.entries(p))await Lo(Ti(or,"names",O),{name:R});for(const[O,R]of Object.entries(v))await Lo(Ti(or,"pickupLocations",O),{location:R});alert("同事資料已儲存")}catch(O){console.error("儲存同事資料失敗:",O),alert("儲存失敗")}},Jf=()=>{confirm("確定要清空所有同事資料嗎？")&&(m({}),y({}))},ir=()=>{const{id:O,name:R,pickupLocation:J}=zs;if(!O||!R){alert("請填寫職員編號和姓名");return}if(p[O]){alert("職員編號已存在");return}m(ee=>({...ee,[O]:R})),y(ee=>({...ee,[O]:J})),wo({id:"",name:"",pickupLocation:Si[0]})},fr=O=>{confirm(`確定要刪除 ${p[O]} 嗎？`)&&(m(R=>{const J={...R};return delete J[O],J}),y(R=>{const J={...R};return delete J[O],J}))},OA=(O,R)=>{m(J=>({...J,[O]:R}))},Zf=(O,R)=>{y(J=>({...J,[O]:R}))},eh=()=>{if(!$.trim()){Ne("請輸入資料");return}try{const O=$.trim().split(`
`),R={};let J=null,ee=0;for(const Z of O){if(ee++,!Z.trim())continue;console.log(`處理第 ${ee} 行:`,Z);const ne=Z.split("	");if(console.log("分割後的欄位:",ne),ee<=2){console.log("跳過標題行或日期行");continue}const Ie=ne[0].trim(),Oe=ne[1].trim();if(Ie&&Oe&&Ie.match(/^A\d+$/)&&(console.log("發現同事資料行:",Ie,Oe),ne[2]&&ne[2].trim()==="班別排班")){J={id:Ie,name:Oe,schedule:[]};const Qe=ne.slice(3);console.log("班表資料:",Qe);const Pe=Qe.map(Er=>{const Ft=Er.trim();return Ft?kw[Ft]?kw[Ft]:Ft:""});console.log("處理後的班表:",Pe);const Ct=Oe.replace(/\d+/g,"").trim();R[Ie]={name:Ct,schedule:Pe}}}be(R),Ne("")}catch{Ne("解析資料時發生錯誤")}},zv=async()=>{if(!L){alert("請先解析資料");return}if(!Ve){alert("請選擇要儲存的月份");return}try{const O={};for(const[R,J]of Object.entries(L)){if(!R||R.trim()===""){console.warn("跳過空的職員編號");continue}O[R]={},J.schedule.forEach((ee,Z)=>{const ne=`${Z+1}`;ee&&ee.trim()&&(O[R][ne]=ee)}),console.log(`同事 ${R}: ${Object.keys(O[R]).length} 個班次`)}O._lastUpdated=new Date().toISOString(),console.log("準備上傳資料:",O),console.log("資料結構檢查:");for(const[R,J]of Object.entries(O))R!=="_lastUpdated"&&console.log(`- ${R}: ${Object.keys(J).length} 個班次`);await Lo(Ti(or,"schedule",Ve),O),console.log("班表上傳成功");for(const[R,J]of Object.entries(L))if(!p[R])try{await Lo(Ti(or,"names",R),{name:J.name}),console.log(`同事 ${R} 姓名已更新`)}catch(ee){console.warn(`更新同事 ${R} 姓名失敗:`,ee)}await Lu(),alert(`班表已成功儲存到 ${Ve}！`),W(""),be(null),nr("")}catch(O){console.error("上傳班表失敗:",O);let R="上傳失敗";O.code==="permission-denied"?R="權限不足，請檢查 Firebase 安全規則":O.code==="unavailable"?R="網路連線問題，請檢查網路連線":O.message&&(R=`上傳失敗: ${O.message}`),alert(R)}},zi=()=>{let O;a==="current"?O=r:a==="next"?O=i:O=u[a]||{};const R=Object.keys(O).filter(Z=>Z!=="_lastUpdated"),J=(Z,ne)=>{var Qe,Pe;const Ie=parseInt(((Qe=Z.match(/\d+/))==null?void 0:Qe[0])||"0"),Oe=parseInt(((Pe=ne.match(/\d+/))==null?void 0:Pe[0])||"0");return Ie-Oe};let ee=R;return F?ee=[F]:q.length>0&&(ee=q),ee.sort(J)},at=()=>a==="current"?r:a==="next"?i:u[a]||{},th=O=>{if(!O)return null;const R={totalMonths:0,totalShifts:0,earlyShifts:0,midShifts:0,nightShifts:0,restDays:0,specialShifts:0,averageShiftsPerMonth:0,averageEarlyPerMonth:0,averageMidPerMonth:0,averageNightPerMonth:0,averageRestPerMonth:0,averageSpecialPerMonth:0};return Object.keys(u).forEach(J=>{if(J==="_lastUpdated")return;const Z=u[J][O];Z&&(R.totalMonths++,Object.keys(Z).forEach(ne=>{if(ne==="_lastUpdated")return;const Ie=Z[ne];if(Ie)switch(R.totalShifts++,Ie){case"早":R.earlyShifts++;break;case"中":R.midShifts++;break;case"晚":R.nightShifts++;break;case"休":R.restDays++;break;case"特":R.specialShifts++;break}}))}),R.totalMonths>0&&(R.averageShiftsPerMonth=Math.round(R.totalShifts/R.totalMonths),R.averageEarlyPerMonth=Math.round(R.earlyShifts/R.totalMonths),R.averageMidPerMonth=Math.round(R.midShifts/R.totalMonths),R.averageNightPerMonth=Math.round(R.nightShifts/R.totalMonths),R.averageRestPerMonth=Math.round(R.restDays/R.totalMonths),R.averageSpecialPerMonth=Math.round(R.specialShifts/R.totalMonths)),R},Vu=()=>new Date().getDate(),rh=O=>{const R=new Date,J=[];for(let ee=0;ee<O;ee++){const Z=new Date(R);Z.setDate(R.getDate()+ee),J.push(Z.getDate())}return J},DA=()=>{switch(I){case"today":return[Vu()];case"3days":return rh(3);case"7days":return rh(7);case"custom":return Array.from({length:pe.end-pe.start+1},(ee,Z)=>pe.start+Z);default:let O,R;if(a==="current"){const ee=new Date;O=ee.getFullYear(),R=ee.getMonth()+1}else if(a==="next"){const ee=new Date;O=ee.getFullYear(),R=ee.getMonth()+2}else{const[ee,Z]=a.split("-");O=parseInt(ee),R=parseInt(Z)}const J=new Date(O,R,0).getDate();return Array.from({length:J},(ee,Z)=>Z+1)}},Ku=O=>{const R=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),J=1,ee=R;if(!O||!v[O])return null;const Z=v[O];if(Z==="不搭車"||!pN[Z])return null;const Ie=at()[O];if(!Ie)return null;let Oe=0,Qe=0;for(let Bi=J;Bi<=ee;Bi++){const Gt=Ie[Bi];Gt&&Gt!=="休"&&Gt!=="特"&&(Qe++,Gt==="早"?Oe+=1:(Gt==="中"||Gt==="晚")&&(Oe+=2))}if(Oe===0)return null;const Pe=pN[Z],Ct=Oe*Pe.originalPrice,Er=Math.ceil(Ct*.7),Ft=[];Object.entries(Pe.monthlyPass).forEach(([Bi,Gt])=>{const Wu=parseInt(Bi),Yu=Gt,Xu=Gt/(Wu/30);Ft.push({days:Wu,price:Gt,totalCost:Yu,averagePricePerMonth:Xu,savings:Ct-Yu})});const Qn=T0e.price,Yi=Qn/30,un=Math.ceil((Qn-Ct)/Pe.originalPrice),zu=()=>Ct>=Qn?{type:"recommended",text:"TPass比原價划算，強烈推薦！"}:un<=5?{type:"consider",text:`只需額外搭乘${un}次即可回本，建議考慮`}:un<=10?{type:"maybe",text:`需要額外搭乘${un}次才回本，可考慮其他方案`}:{type:"not-recommended",text:`需要額外搭乘${un}次才回本，不建議`};return{employeeId:O,employeeName:p[O]||O,location:Z,workDays:Qe,totalTrips:Oe,originalTotal:Ct,citizenCardTotal:Er,monthlyPassOptions:Ft,tpassTotal:Qn,tpassDailyCost:Yi,breakEvenTrips:un,tpassRecommendation:zu(),recommendations:[]}},nh=()=>{const O=Wi();O&&(document.body.appendChild(O),setTimeout(()=>{aR(O,{backgroundColor:"#ffffff",scale:2,useCORS:!0,allowTaint:!0}).then(R=>{const J=document.createElement("a");J.download=`乘車表_${a==="current"?"當月":"下個月"}_${new Date().toISOString().split("T")[0]}.png`,J.href=R.toDataURL(),J.click(),document.body.removeChild(O)}).catch(R=>{console.error("匯出失敗:",R),document.body.removeChild(O)})},500))},ih=()=>{const O=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),R=[];for(let J=1;J<=Math.ceil(O/7);J++){const ee=(J-1)*7+1,Z=Math.min(J*7,O);R.push(c.jsxs("option",{value:`week${J}`,children:[new Date().getMonth()+1,"月",ee,"日 - ",new Date().getMonth()+1,"月",Z,"日"]},`week${J}`))}return R},Ws=()=>{const O=at();let R,J;if(Y&&V.startDate&&V.endDate){if(R=parseInt(V.startDate),J=parseInt(V.endDate),R>J){alert("開始日期不能大於結束日期");return}const Z=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();if(R<1||J>Z){alert(`日期範圍必須在 1-${Z} 之間`);return}}else{const Z=parseInt(_.replace("week",""));R=(Z-1)*7+1,J=Math.min(Z*7,new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate())}let ee="";for(let Z=R;Z<=J;Z++){const ne={};Object.keys(O).forEach(Ie=>{var Pe;if(Ie==="_lastUpdated")return;const Oe=v[Ie];if(!Oe||Oe==="不搭車")return;((Pe=O[Ie])==null?void 0:Pe[Z])==="早"&&(ne[Oe]=(ne[Oe]||0)+1)}),ee+=`${new Date().getMonth()+1}/${Z}
`,Object.keys(ne).length>0&&["A21 環北站","7-11 高萱門市","7-11 新街門市","A18 桃園高鐵站"].forEach(Oe=>{ne[Oe]&&(ee+=`${Oe}${ne[Oe]}人
`)}),ee+=`
`}navigator.clipboard.writeText(ee.trim()).then(()=>{alert("Line 群文字已複製到剪貼簿！")}).catch(()=>{prompt("請複製以下文字：",ee.trim())})},$u=()=>{const O=at(),R={};Object.keys(O).forEach(ee=>{ee!=="_lastUpdated"&&(R[ee]={})});const J=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let ee=1;ee<=J;ee++){const Z={};Object.keys(O).forEach(ne=>{var Oe;if(ne==="_lastUpdated")return;const Ie=(Oe=O[ne])==null?void 0:Oe[ee];Ie&&Ie!=="休"&&(Z[Ie]||(Z[Ie]=[]),Z[Ie].push(ne))}),Object.keys(Z).forEach(ne=>{const Ie=Z[ne];for(let Oe=0;Oe<Ie.length;Oe++)for(let Qe=Oe+1;Qe<Ie.length;Qe++){const Pe=Ie[Oe],Ct=Ie[Qe];R[Pe][Ct]||(R[Pe][Ct]=0),R[Ct][Pe]||(R[Ct][Pe]=0),R[Pe][Ct]++,R[Ct][Pe]++}}),Z.早&&Z.中&&Z.早.forEach(ne=>{Z.中.forEach(Ie=>{R[ne][Ie]||(R[ne][Ie]=0),R[Ie][ne]||(R[Ie][ne]=0),R[ne][Ie]++,R[Ie][ne]++})}),Z.中&&Z.晚&&Z.中.forEach(ne=>{Z.晚.forEach(Ie=>{R[ne][Ie]||(R[ne][Ie]=0),R[Ie][ne]||(R[Ie][ne]=0),R[ne][Ie]++,R[Ie][ne]++})})}return R},Gu=O=>{const J=$u()[O]||{};return Object.entries(J).map(([ee,Z])=>({employeeId:ee,name:p[ee]||ee,count:Z})).sort((ee,Z)=>Z.count-ee.count).filter(ee=>ee.count>0)},Wi=()=>{const O=at(),R=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),J={};for(let Qe=1;Qe<=R;Qe++)J[Qe]={},Si.forEach(Pe=>{J[Qe][Pe]=0});Object.keys(O).forEach(Qe=>{var Ct;if(Qe==="_lastUpdated")return;const Pe=v[Qe];if(!(!Pe||Pe==="不搭車"))for(let Er=1;Er<=R;Er++)((Ct=O[Qe])==null?void 0:Ct[Er])==="早"&&J[Er][Pe]++});const ee=document.createElement("div");ee.style.cssText=`
      position: fixed;
      top: -9999px;
      left: -9999px;
      width: 1200px;
      background: white;
      padding: 40px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      color: #333;
    `;const Z=document.createElement("h1");Z.textContent=`${new Date().getFullYear()}年${new Date().getMonth()+1}月 乘車統計表`,Z.style.cssText=`
      text-align: center;
      font-size: 32px;
      font-weight: bold;
      margin-bottom: 30px;
      color: #2c3e50;
    `,ee.appendChild(Z);const ne=document.createElement("div");ne.style.cssText=`
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
      margin-top: 20px;
    `,["日","一","二","三","四","五","六"].forEach(Qe=>{const Pe=document.createElement("div");Pe.textContent=Qe,Pe.style.cssText=`
        text-align: center;
        font-weight: bold;
        font-size: 18px;
        padding: 15px 10px;
        background: #f8f9fa;
        border-radius: 8px;
        color: #495057;
      `,ne.appendChild(Pe)});const Oe=new Date(new Date().getFullYear(),new Date().getMonth(),1).getDay();for(let Qe=0;Qe<Oe;Qe++){const Pe=document.createElement("div");Pe.style.cssText=`
        height: 120px;
        background: #f8f9fa;
        border-radius: 8px;
      `,ne.appendChild(Pe)}for(let Qe=1;Qe<=R;Qe++){const Pe=document.createElement("div");Pe.style.cssText=`
        height: 120px;
        border: 2px solid #e9ecef;
        border-radius: 8px;
        padding: 8px;
        background: white;
        position: relative;
      `;const Ct=document.createElement("div");if(Ct.textContent=Qe,Ct.style.cssText=`
        font-size: 16px;
        font-weight: bold;
        color: #495057;
        margin-bottom: 8px;
        text-align: center;
      `,Pe.appendChild(Ct),Si.some(Ft=>{var Qn;return Ft!=="不搭車"&&((Qn=J[Qe])==null?void 0:Qn[Ft])>0}))Si.filter(Ft=>Ft!=="不搭車").forEach(Ft=>{var Yi;const Qn=((Yi=J[Qe])==null?void 0:Yi[Ft])||0;if(Qn>0){const un=document.createElement("div");un.style.cssText=`
               font-size: 12px;
               margin: 2px 0;
               color: #333;
               text-align: center;
             `,un.textContent=`${Ft}: ${Qn}人`,Pe.appendChild(un)}});else{const Ft=document.createElement("div");Ft.textContent="無乘車",Ft.style.cssText=`
           font-size: 12px;
           color: #6c757d;
           text-align: center;
           margin-top: 20px;
         `,Pe.appendChild(Ft)}ne.appendChild(Pe)}return ee.appendChild(ne),ee};return c.jsxs("div",{className:"container-custom py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"班表管理工具"}),c.jsx("p",{className:"text-center text-text-secondary",children:"早班好"})]}),c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx("div",{className:"bg-surface/40 rounded-xl p-1 border border-white/10 w-full max-w-4xl",children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-1",children:[c.jsxs("button",{onClick:()=>e("display"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="display"?"bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-blue-400 border border-blue-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[c.jsx(hd,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"顯示班表"}),c.jsx("span",{className:"sm:hidden",children:"班表"})]}),c.jsxs("button",{onClick:()=>e("transport"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="transport"?"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 text-yellow-400 border border-yellow-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[c.jsx(sX,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"交通及車費試算"}),c.jsx("span",{className:"sm:hidden",children:"交通"})]}),c.jsxs("button",{onClick:()=>e("statistics"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="statistics"?"bg-gradient-to-r from-purple-500/20 to-pink-500/20 text-purple-400 border border-purple-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[c.jsx(tj,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"統計功能"}),c.jsx("span",{className:"sm:hidden",children:"統計"})]}),c.jsxs("button",{onClick:()=>e("import"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="import"?"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-400 border border-green-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[c.jsx(Lh,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"匯入與轉換班表"}),c.jsx("span",{className:"sm:hidden",children:"匯入"})]})]})})}),t==="display"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 md:p-6 lg:p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"月份"}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:a,onChange:O=>o(O.target.value),className:"w-full px-3 py-2 md:px-4 md:py-3 bg-white/10 border border-white/20 rounded-xl focus:border-blue-400/50 focus:bg-white/20 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200 appearance-none cursor-pointer text-sm md:text-base",children:Ig(f).map(O=>c.jsx("option",{value:O.key,children:O.label},O.key))}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"顯示模式"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:w,onChange:O=>B(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"date",children:"日期視圖"}),c.jsx("option",{value:"employee",children:"同事視圖"}),c.jsx("option",{value:"partner",children:"搭班視圖"})]}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-green-300 group-hover:text-green-200 transition-colors",children:"篩選"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:I,onChange:O=>T(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-green-400/50 focus:bg-white/20 focus:ring-2 focus:ring-green-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"all",children:"全部"}),c.jsx("option",{value:"today",children:"今天"}),c.jsx("option",{value:"3days",children:"接下來 3 天"}),c.jsx("option",{value:"7days",children:"接下來 7 天"}),c.jsx("option",{value:"custom",children:"自定義範圍"})]}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300 group-hover:text-orange-200 transition-colors",children:"選擇同事"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:F||"",onChange:O=>C(O.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-orange-400/50 focus:bg-white/20 focus:ring-2 focus:ring-orange-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"",children:"顯示所有同事"}),Object.keys(at()).filter(O=>O!=="_lastUpdated").sort((O,R)=>{var Z,ne;const J=parseInt(((Z=O.match(/\d+/))==null?void 0:Z[0])||"0"),ee=parseInt(((ne=R.match(/\d+/))==null?void 0:ne[0])||"0");return J-ee}).map(O=>c.jsx("option",{value:O,children:p[O]||O},O))]}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),A[a]&&c.jsx("div",{className:"mt-6 flex items-center justify-center",children:c.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-surface/30 rounded-full border border-white/10",children:[c.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsxs("span",{className:"text-sm text-gray-300",children:["最後更新：",new Date(A[a]).toLocaleString()]})]})})]}),(I==="custom"||oe.length>0||q.length>0)&&c.jsxs("div",{className:"bg-gradient-to-br from-surface/50 to-surface/30 rounded-2xl p-4 md:p-6 border border-white/15 shadow-lg backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-semibold mb-4 text-cyan-300",children:"進階篩選"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[I==="custom"&&c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-cyan-300",children:"日期範圍"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"number",min:"1",max:"31",value:pe.start,onChange:O=>me(R=>({...R,start:parseInt(O.target.value)})),className:"w-1/2 px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:border-cyan-400/50 focus:bg-white/20 text-sm",placeholder:"開始日期"}),c.jsx("span",{className:"text-gray-400 self-center",children:"至"}),c.jsx("input",{type:"number",min:"1",max:"31",value:pe.end,onChange:O=>me(R=>({...R,end:parseInt(O.target.value)})),className:"w-1/2 px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:border-cyan-400/50 focus:bg-white/20 text-sm",placeholder:"結束日期"})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-pink-300",children:"班次篩選"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:["早","中","晚","休","特"].map(O=>c.jsx("button",{onClick:()=>{oe.includes(O)?xe(R=>R.filter(J=>J!==O)):xe(R=>[...R,O])},className:`px-3 py-1 rounded-lg text-xs font-medium transition-all ${oe.includes(O)?"bg-pink-500 text-white border border-pink-400":"bg-white/10 text-gray-300 border border-white/20 hover:bg-white/20"}`,children:O},O))})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300",children:"多同事選擇"}),c.jsx("div",{className:"max-h-32 overflow-y-auto",children:Object.keys(at()).filter(O=>O!=="_lastUpdated").sort((O,R)=>{var Z,ne;const J=parseInt(((Z=O.match(/\d+/))==null?void 0:Z[0])||"0"),ee=parseInt(((ne=R.match(/\d+/))==null?void 0:ne[0])||"0");return J-ee}).map(O=>c.jsxs("label",{className:"flex items-center gap-2 mb-1 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:q.includes(O),onChange:R=>{R.target.checked?se(J=>[...J,O]):se(J=>J.filter(ee=>ee!==O))},className:"w-4 h-4 text-orange-500 bg-white/10 border-white/20 rounded focus:ring-orange-400/50"}),c.jsx("span",{className:"text-sm text-gray-300",children:p[O]||O})]},O))})]})]}),c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx("button",{onClick:()=>{xe([]),se([]),me({start:1,end:31}),T("all")},className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-300 rounded-lg transition-all text-sm",children:"清除所有篩選"})})]}),c.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:w==="date"?c.jsx(P0e,{schedule:at(),names:p,displayDates:DA(),filteredEmployees:zi(),selectedShifts:oe}):w==="employee"?c.jsx(N0e,{schedule:at(),names:p,displayDates:DA(),filteredEmployees:zi(),selectedShifts:oe}):w==="partner"?c.jsx(z0e,{schedule:at(),names:p,displayDates:DA(),selectedEmployee:F}):c.jsx(M0e,{schedule:at(),names:p,displayDates:DA(),filteredEmployees:zi(),selectedShifts:oe})})]}),t==="transport"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-surface/60 rounded-2xl p-2 border border-white/20",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>Ue("chart"),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${ie==="chart"?"bg-blue-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"乘車表"}),c.jsx("button",{onClick:()=>Ue("fare"),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${ie==="fare"?"bg-purple-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"車費試算"})]})}),ie==="chart"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-yellow-300 group-hover:text-yellow-200 transition-colors",children:"月份"}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:a,onChange:O=>o(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-yellow-400/50 focus:bg-white/20 focus:ring-2 focus:ring-yellow-400/20 transition-all duration-200 appearance-none cursor-pointer",children:Ig(f).map(O=>c.jsx("option",{value:O.key,children:O.label},O.key))}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-yellow-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300 group-hover:text-orange-200 transition-colors",children:"匯出"}),c.jsxs("button",{onClick:()=>nh(),className:"w-full px-4 py-3 bg-gradient-to-r from-blue-500/20 to-purple-500/20 hover:from-blue-500/30 hover:to-purple-500/30 border border-blue-400/30 text-blue-300 rounded-xl transition-all duration-200 font-medium",children:[c.jsx(Lh,{className:"w-4 h-4 inline mr-2"}),"匯出乘車表"]})]})]})}),c.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[c.jsx("h3",{className:"text-lg font-bold text-green-300",children:"乘車文字生成"}),c.jsxs("div",{className:"text-sm text-gray-400",children:["更新時間: ",A[a]?new Date(A[a]).toLocaleString():"無資料"]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex space-x-2 mb-4",children:[c.jsx("button",{onClick:()=>M(!1),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${Y?"bg-white/10 text-gray-300 hover:bg-white/20":"bg-green-500/20 text-green-300 border border-green-400/30"}`,children:"週次選擇"}),c.jsx("button",{onClick:()=>M(!0),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${Y?"bg-green-500/20 text-green-300 border border-green-400/30":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"指定日期範圍"})]}),!Y&&c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("select",{value:_,onChange:O=>S(O.target.value),className:"flex-1 px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-green-400/50 focus:bg-white/20 focus:ring-2 focus:ring-green-400/20 transition-all duration-200 appearance-none cursor-pointer",children:ih()}),c.jsxs("button",{onClick:()=>Ws(),className:"px-6 py-3 bg-gradient-to-r from-green-500/20 to-teal-500/20 hover:from-green-500/30 hover:to-teal-500/30 border border-green-400/30 text-green-300 rounded-xl transition-all duration-200 font-medium whitespace-nowrap",children:[c.jsx(Ab,{className:"w-4 h-4 inline mr-2"}),"生成"]})]}),Y&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"開始日期"}),c.jsx("input",{type:"number",min:"1",max:"31",value:V.startDate,onChange:O=>j(R=>({...R,startDate:O.target.value})),placeholder:"1",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:border-green-400/50 focus:bg-white/20 text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"結束日期"}),c.jsx("input",{type:"number",min:"1",max:"31",value:V.endDate,onChange:O=>j(R=>({...R,endDate:O.target.value})),placeholder:"7",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:border-green-400/50 focus:bg-white/20 text-sm"})]})]}),c.jsxs("button",{onClick:()=>Ws(),className:"w-full px-6 py-3 bg-gradient-to-r from-green-500/20 to-teal-500/20 hover:from-green-500/30 hover:to-teal-500/30 border border-green-400/30 text-green-300 rounded-xl transition-all duration-200 font-medium",children:[c.jsx(Ab,{className:"w-4 h-4 inline mr-2"}),"生成乘車文字"]})]})]})]})})]}),c.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:c.jsx(Q0e,{schedule:at(),names:p,pickupLocations:v})})]}),ie==="fare"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"月份"}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:a,onChange:O=>o(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:Ig(f).map(O=>c.jsx("option",{value:O.key,children:O.label},O.key))}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"選擇同事"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:Ye||"",onChange:O=>D(O.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-blue-400/50 focus:bg-white/20 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"",children:"請選擇同事"}),Object.keys(at()).filter(O=>O!=="_lastUpdated").sort((O,R)=>{var Z,ne;const J=parseInt(((Z=O.match(/\d+/))==null?void 0:Z[0])||"0"),ee=parseInt(((ne=R.match(/\d+/))==null?void 0:ne[0])||"0");return J-ee}).map(O=>c.jsx("option",{value:O,children:p[O]||O},O))]}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]})}),c.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:c.jsx(G0e,{schedule:at(),names:p,pickupLocations:v,selectedEmployee:Ye,calculateFare:Ku})})]})]}),t==="statistics"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"月份"}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:a,onChange:O=>o(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:Ig(f).map(O=>c.jsx("option",{value:O.key,children:O.label},O.key))}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"統計類型"}),c.jsx("div",{className:"bg-surface/40 rounded-xl p-1 border border-white/10",children:c.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[c.jsx("button",{onClick:()=>Se("charts"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${ue==="charts"?"bg-green-500/20 text-green-300 border border-green-400/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"圖表分析"}),c.jsx("button",{onClick:()=>Se("overlap"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${ue==="overlap"?"bg-blue-500/20 text-blue-300 border border-blue-400/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"搭班統計表"})]})})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-gray-300 group-hover:text-gray-200 transition-colors",children:"更新時間"}),c.jsx("div",{className:"px-4 py-3 bg-surface/30 rounded-xl border border-white/10",children:c.jsx("span",{className:"text-sm text-gray-300",children:A[a]?new Date(A[a]).toLocaleString():"無資料"})})]})]})}),ue==="overlap"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 md:p-6 lg:p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsxs("div",{className:"flex items-center justify-center mb-6 md:mb-8",children:[c.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 lg:w-12 lg:h-12 rounded-full bg-blue-500/20 border border-blue-400/30 flex items-center justify-center mr-2 md:mr-3",children:c.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),c.jsx("h3",{className:"text-lg md:text-xl lg:text-2xl font-bold text-blue-300",children:"搭班統計表"})]}),c.jsx(k0e,{schedule:at(),names:p,onEmployeeClick:N})]}),k&&c.jsx(O0e,{employeeId:k,employeeName:p[k]||k,ranking:Gu(k),onClose:()=>N(null)})]}),ue==="charts"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-pink-500/20 border border-pink-400/30 flex items-center justify-center mr-3",children:c.jsx("svg",{className:"w-5 h-5 text-pink-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),c.jsx("h3",{className:"text-lg font-bold text-pink-300",children:"早班統計"})]}),c.jsx(j0e,{schedule:at(),names:p})]}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 border border-blue-400/30 flex items-center justify-center mr-3",children:c.jsx("svg",{className:"w-5 h-5 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),c.jsx("h3",{className:"text-lg font-bold text-blue-300",children:"晚班統計"})]}),c.jsx(R0e,{schedule:at(),names:p})]}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-500/20 border border-orange-400/30 flex items-center justify-center mr-3",children:c.jsx("svg",{className:"w-5 h-5 text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),c.jsx("h3",{className:"text-lg font-bold text-orange-300",children:"連續上班統計"})]}),c.jsx(D0e,{schedule:at(),names:p,allSchedules:u,selectedMonth:a})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[c.jsx(V0e,{schedule:at()}),c.jsx(K0e,{schedule:at(),names:p})]}),c.jsx(L0e,{schedule:at(),names:p}),c.jsx(H0e,{schedule:at(),names:p}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-300 text-center",children:"個人統計儀表板"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300",children:"選擇同事"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:P||"",onChange:O=>Q(O.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"",children:"請選擇一個同事查看個人統計"}),Object.keys(at()).filter(O=>O!=="_lastUpdated").sort((O,R)=>{var Z,ne;const J=parseInt(((Z=O.match(/\d+/))==null?void 0:Z[0])||"0"),ee=parseInt(((ne=R.match(/\d+/))==null?void 0:ne[0])||"0");return J-ee}).map(O=>c.jsx("option",{value:O,children:p[O]||O},O))]}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsx($0e,{schedule:at(),names:p,selectedEmployee:P,crossMonthStats:th(P),selectedMonth:a})]})]})]}),t==="import"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx("div",{className:"bg-surface/40 rounded-xl p-1 border border-white/10 w-full max-w-2xl",children:c.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[c.jsxs("button",{onClick:()=>Mu("import"),className:`px-6 py-3 rounded-lg transition-all text-sm md:text-base ${Gi==="import"?"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-400 border border-green-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[c.jsx(Lh,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-2"}),"匯入班表"]}),c.jsxs("button",{onClick:()=>Mu("manage"),className:`px-6 py-3 rounded-lg transition-all text-sm md:text-base ${Gi==="manage"?"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 text-blue-400 border border-blue-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[c.jsx(hd,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-2"}),"月份管理"]})]})})}),Gi==="import"&&c.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-green-300",children:"匯入班表"}),c.jsxs("div",{className:"mb-6 p-4 bg-surface/40 rounded-lg border border-white/10",children:[c.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-300",children:"班別代碼說明"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:Object.entries(kw).map(([O,R])=>c.jsxs("div",{className:"flex items-center gap-2 p-2 bg-surface/20 rounded border border-white/10",children:[c.jsx("span",{className:"font-mono bg-white/10 px-2 py-1 rounded text-green-300 font-medium",children:O}),c.jsxs("span",{className:"text-gray-300 font-medium",children:["= ",R]})]},O))})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold mb-2",children:"目標月份"}),c.jsxs("select",{value:Ve,onChange:O=>nr(O.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-green-400/50 focus:bg-white/10",children:[c.jsx("option",{value:"",children:"請選擇月份"}),F0e().map(O=>c.jsx("option",{value:O.key,children:O.label},O.key))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Excel 資料"}),c.jsx("textarea",{value:$,onChange:O=>W(O.target.value),placeholder:"從 Excel 複製資料並貼上這裡...",className:"w-full h-32 px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-green-400/50 focus:bg-white/10 resize-none"})]})]}),Be&&c.jsx("div",{className:"mt-6 p-4 bg-red-600/20 border border-red-500/30 rounded-xl text-red-300 font-medium",children:Be}),c.jsxs("div",{className:"mt-4 flex gap-3",children:[c.jsx("button",{onClick:eh,className:"px-6 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-300 rounded-lg transition-all font-medium",children:"解析資料"}),L&&c.jsx("button",{onClick:zv,className:"px-6 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-300 rounded-lg transition-all font-medium",children:"上傳班表"})]}),L&&c.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-300",children:"預覽表格"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0,border:"none"},children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[c.jsx("th",{className:"text-left p-3 text-blue-300 font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"職員編號"}),c.jsx("th",{className:"text-left p-3 text-purple-300 font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"姓名"}),Array.from({length:31},(O,R)=>c.jsx("th",{className:"text-center p-3 text-green-300 font-medium",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:R+1},R))]})}),c.jsx("tbody",{children:Object.entries(L).sort(([O],[R])=>{var Z,ne;const J=parseInt(((Z=O.match(/\d+/))==null?void 0:Z[0])||"0"),ee=parseInt(((ne=R.match(/\d+/))==null?void 0:ne[0])||"0");return J-ee}).map(([O,R])=>c.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[c.jsx("td",{className:"p-3 text-gray-400 font-medium",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:O}),c.jsx("td",{className:"p-3 text-white font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:R.name}),R.schedule.map((J,ee)=>c.jsx("td",{className:"p-2 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:J?c.jsx("div",{className:`
                                  px-3 py-2 rounded-lg text-center text-xs font-bold
                                  ${J==="早"?"bg-pink-500 text-white":J==="中"?"bg-cyan-500 text-white":J==="晚"?"bg-blue-500 text-white":J==="休"?"bg-gray-500 text-white":J==="特"?"bg-orange-500 text-white":J==="排"?"bg-yellow-500 text-white":"bg-gray-700 text-gray-300"}
                                `,children:J}):c.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})},ee))]},O))})]})})]}),Gi==="manage"&&c.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-300",children:"月份管理"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"text-lg font-semibold mb-4 text-cyan-300",children:"已儲存的月份"}),f.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(O=>c.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10 hover:border-white/20 transition-all",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h5",{className:"text-white font-semibold",children:O.label}),c.jsx("span",{className:"text-xs text-gray-400",children:O.lastUpdated?new Date(O.lastUpdated).toLocaleDateString():"未知"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>{o(O.key),e("display")},className:"px-3 py-1 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-300 rounded text-sm transition-all",children:"查看"}),c.jsx("button",{onClick:()=>{o(O.key),e("statistics")},className:"px-3 py-1 bg-purple-500/20 hover:bg-purple-500/30 border border-purple-400/30 text-purple-300 rounded text-sm transition-all",children:"分析"})]})]},O.key))}):c.jsx("div",{className:"text-center py-8 text-gray-400",children:"尚未儲存任何月份資料"})]}),c.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[c.jsx("h4",{className:"text-lg font-semibold mb-4 text-orange-300",children:"快速操作"}),c.jsxs("div",{className:"flex flex-wrap gap-4",children:[c.jsxs("button",{onClick:Lu,className:"px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-400 rounded-lg transition-all flex items-center gap-2",children:[c.jsx(C2,{className:"w-4 h-4"}),"重新載入資料"]}),c.jsxs("button",{onClick:()=>{o("current"),e("display")},className:"px-4 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-400 rounded-lg transition-all flex items-center gap-2",children:[c.jsx(hd,{className:"w-4 h-4"}),"回到當月"]})]})]})]})]}),c.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-400",children:"同事基本資料管理"}),c.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[c.jsxs("button",{onClick:kA,className:"px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-400 rounded-lg transition-all flex items-center gap-2",children:[c.jsx(C2,{className:"w-4 h-4"}),"從 Firebase 讀取資料"]}),c.jsxs("button",{onClick:Hu,className:"px-4 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-400 rounded-lg transition-all flex items-center gap-2",children:[c.jsx(Lh,{className:"w-4 h-4"}),"儲存姓名與上車地點"]}),c.jsxs("button",{onClick:Jf,className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-400 rounded-lg transition-all flex items-center gap-2",children:[c.jsx(ns,{className:"w-4 h-4"}),"清空所有資料"]})]}),c.jsxs("div",{className:"bg-surface/20 rounded-lg p-4 mb-6 border border-white/5",children:[c.jsx("h4",{className:"text-lg font-semibold mb-4 text-orange-400",children:"新增同事"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold mb-2",children:"職員編號"}),c.jsx("input",{type:"text",value:zs.id,onChange:O=>wo(R=>({...R,id:O.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",placeholder:"例如：A45"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold mb-2",children:"姓名"}),c.jsx("input",{type:"text",value:zs.name,onChange:O=>wo(R=>({...R,name:O.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",placeholder:"輸入姓名"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold mb-2",children:"上車地點"}),c.jsx("select",{value:zs.pickupLocation,onChange:O=>wo(R=>({...R,pickupLocation:O.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",children:Si.map(O=>c.jsx("option",{value:O,children:O},O))})]})]}),c.jsxs("button",{onClick:ir,className:"mt-4 px-6 py-2 bg-orange-500/20 hover:bg-orange-500/30 border border-orange-400/30 text-orange-400 rounded-lg transition-all flex items-center gap-2",children:[c.jsx(rs,{className:"w-4 h-4"}),"新增同事"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-white/10",children:[c.jsx("th",{className:"text-left p-2 text-blue-400",children:"職員編號"}),c.jsx("th",{className:"text-left p-2 text-purple-400",children:"姓名"}),c.jsx("th",{className:"text-left p-2 text-green-400",children:"上車地點"}),c.jsx("th",{className:"text-center p-2 text-red-400",children:"操作"})]})}),c.jsx("tbody",{children:Object.keys(p).sort((O,R)=>{const J=parseInt(O.replace(/\D/g,""))||0,ee=parseInt(R.replace(/\D/g,""))||0;return J-ee}).map(O=>c.jsxs("tr",{className:"border-b border-white/5",children:[c.jsx("td",{className:"p-2 text-text-secondary",children:O}),c.jsx("td",{className:"p-2",children:c.jsx("input",{type:"text",value:p[O]||"",onChange:R=>OA(O,R.target.value),className:"w-full px-2 py-1 bg-white/5 border border-white/10 rounded focus:border-purple-400/50 focus:bg-white/10"})}),c.jsx("td",{className:"p-2",children:c.jsx("select",{value:v[O]||Si[0],onChange:R=>Zf(O,R.target.value),className:"w-full px-2 py-1 bg-white/5 border border-white/10 rounded focus:border-green-400/50 focus:bg-white/10",children:Si.map(R=>c.jsx("option",{value:R,children:R},R))})}),c.jsx("td",{className:"p-2 text-center",children:c.jsx("button",{onClick:()=>fr(O),className:"px-3 py-1 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-400 rounded transition-all",children:c.jsx(ns,{className:"w-4 h-4"})})})]},O))})]})})]})]})]})}function P0e({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i}){return c.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:c.jsx("div",{className:"bg-surface/60 rounded-xl shadow-xl border border-white/20 backdrop-blur-sm min-w-full",children:c.jsx("div",{className:"w-full",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-xs md:text-sm",style:{borderCollapse:"collapse",borderSpacing:0,border:"none"},children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[c.jsx("th",{className:"text-center p-2 md:p-3 text-purple-300 font-semibold sticky left-0 z-10 bg-surface/95",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"姓名"}),r.map(s=>{const a=s===new Date().getDate();return c.jsxs("th",{className:`text-center p-1 md:p-3 font-medium relative ${a?"text-primary":"text-green-300"}`,style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},title:a?"今天":void 0,"data-today":a?"true":void 0,children:[c.jsx("div",{className:`relative text-xs font-semibold inline-flex items-center justify-center w-7 h-7 rounded ${a?"bg-primary/20 ring-2 ring-primary":""}`,children:s}),c.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),s).getDay()]})]},s)})]})}),c.jsx("tbody",{children:n.map((s,a)=>c.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200 group","data-employee-id":s,"data-row-index":a,children:[c.jsx("td",{className:"p-2 md:p-3 text-white font-semibold text-xs md:text-sm sticky left-0 z-10 bg-surface/95 group-hover:bg-surface/100 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:c.jsx("span",{className:"group-hover:text-primary transition-colors",children:e[s]||s})}),r.map(o=>{var u;const A=(u=t[s])==null?void 0:u[o],l=o===new Date().getDate();return i&&i.length>0&&(!A||!i.includes(A))?c.jsx("td",{className:"p-1 md:p-2 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:c.jsx("div",{className:`w-full h-6 md:h-8 rounded-lg border ${l?"bg-primary/5 border-primary/30":"bg-surface/10 border-white/5"} opacity-50`})},o):c.jsx("td",{className:`p-1 md:p-2 text-center ${l?"bg-primary/5":""}`,style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:A?c.jsx("div",{className:`
                                px-2 py-1 md:px-3 md:py-2 rounded-lg text-center text-xs font-bold
                                ${l?"ring-2 ring-primary/50 ":""}${A==="早"?"bg-pink-500 text-white":A==="中"?"bg-cyan-500 text-white":A==="晚"?"bg-blue-500 text-white":A==="休"?"bg-gray-500 text-white":A==="特"?"bg-orange-500 text-white":"bg-gray-700 text-gray-300"}
                              `,children:A}):c.jsx("div",{className:`w-full h-6 md:h-8 rounded-lg border ${l?"bg-primary/5 border-primary/30":"bg-surface/20 border-white/10"}`})},o)})]},s))})]})})})})})}function N0e({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i}){const s=a=>{switch(a){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}};return c.jsx("div",{className:"space-y-6",children:n.map(a=>c.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm hover:shadow-2xl transition-all duration-300",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"text-lg font-semibold text-white mb-1",children:e[a]||a}),c.jsxs("p",{className:"text-sm text-gray-400",children:["職員編號：",a]})]}),c.jsx("div",{className:"grid grid-cols-7 gap-3",children:r.map(o=>{var l;const A=(l=t[a])==null?void 0:l[o];return i&&i.length>0&&(!A||!i.includes(A))?c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-xs text-gray-400 mb-2 font-medium",children:o}),c.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/10 border border-white/5 opacity-50"})]},o):c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-xs text-gray-400 mb-2 font-medium",children:o}),A?c.jsx("div",{className:`
                      px-3 py-2 rounded-lg text-center text-xs font-bold
                      transition-all duration-200 hover:shadow-lg hover:scale-105
                      ${s(A)}
                    `,children:A}):c.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})]},o)})})]},a))})}function Q0e({schedule:t,names:e,pickupLocations:r}){const n=()=>{const o=new Date,A=o.getFullYear(),l=o.getMonth()+1;return new Date(A,l,0).getDate()},s=(()=>{const o=n(),A={};for(let l=1;l<=o;l++)A[l]={},Si.forEach(u=>{A[l][u]=0});return Object.keys(t).forEach(l=>{var d;if(l==="_lastUpdated")return;const u=r[l];if(!(!u||u==="不搭車"))for(let f=1;f<=o;f++)((d=t[l])==null?void 0:d[f])==="早"&&A[f][u]++}),A})(),a=n();return c.jsxs("div",{id:"transport-chart",className:"bg-surface/60 rounded-xl p-6 border border-white/20",children:[c.jsx("h3",{className:"text-xl font-bold mb-6 text-yellow-300 text-center",children:"當月乘車統計表"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0},children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[c.jsx("th",{className:"text-left p-3 text-yellow-300 font-semibold",style:{border:"none !important"},children:"上車地點"}),Array.from({length:a},(o,A)=>A+1).map(o=>c.jsxs("th",{className:"text-center p-2 text-green-300 font-medium",style:{border:"none !important"},children:[c.jsx("div",{className:"text-xs font-semibold",children:o}),c.jsx("div",{className:"text-xs text-gray-400",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),o).getDay()]})]},o))]})}),c.jsx("tbody",{children:Si.filter(o=>o!=="不搭車").map(o=>c.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[c.jsx("td",{className:"p-3 text-white font-semibold",style:{border:"none !important"},children:o}),Array.from({length:a},(A,l)=>l+1).map(A=>{var u;const l=((u=s[A])==null?void 0:u[o])||0;return c.jsx("td",{className:"p-2 text-center",style:{border:"none !important"},children:l>0?c.jsx("div",{className:"px-3 py-2 rounded-lg text-center text-xs font-bold bg-yellow-500/20 border border-yellow-400/30 text-yellow-300",children:l}):c.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})},A)})]},o))})]})})]})}function k0e({schedule:t,names:e,onEmployeeClick:r}){const n=()=>{const u={},d={};Object.keys(t).forEach(g=>{g!=="_lastUpdated"&&(u[g]={},d[g]={})});const f=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let g=1;g<=f;g++){const p={};Object.keys(t).forEach(m=>{var y;if(m==="_lastUpdated")return;const v=(y=t[m])==null?void 0:y[g];v&&v!=="休"&&(p[v]||(p[v]=[]),p[v].push(m))}),Object.keys(p).forEach(m=>{const v=p[m];for(let y=0;y<v.length;y++)for(let w=y+1;w<v.length;w++){const B=v[y],I=v[w];u[B][I]||(u[B][I]=0),u[I][B]||(u[I][B]=0),d[B][I]||(d[B][I]=[]),d[I][B]||(d[I][B]=[]),u[B][I]++,u[I][B]++,d[B][I].push({day:g,shift:m}),d[I][B].push({day:g,shift:m})}}),p.早&&p.中&&p.早.forEach(m=>{p.中.forEach(v=>{u[m][v]||(u[m][v]=0),u[v][m]||(u[v][m]=0),d[m][v]||(d[m][v]=[]),d[v][m]||(d[v][m]=[]),u[m][v]++,u[v][m]++,d[m][v].push({day:g,shift:"早-中"}),d[v][m].push({day:g,shift:"中-早"})})}),p.中&&p.晚&&p.中.forEach(m=>{p.晚.forEach(v=>{u[m][v]||(u[m][v]=0),u[v][m]||(u[v][m]=0),d[m][v]||(d[m][v]=[]),d[v][m]||(d[v][m]=[]),u[m][v]++,u[v][m]++,d[m][v].push({day:g,shift:"中-晚"}),d[v][m].push({day:g,shift:"晚-中"})})})}return{overlapStats:u,overlapDetails:d}},{overlapStats:i,overlapDetails:s}=n(),a=Object.keys(t).filter(u=>u!=="_lastUpdated").sort((u,d)=>{var p,m;const f=parseInt(((p=u.match(/\d+/))==null?void 0:p[0])||"0"),g=parseInt(((m=d.match(/\d+/))==null?void 0:m[0])||"0");return f-g}),A=(()=>{let u=0,d=0,f=0;return a.forEach(g=>{a.forEach(p=>{var m;if(g!==p){const v=((m=i[g])==null?void 0:m[p])||0;v>0&&(u+=v,d=Math.max(d,v),f++)}})}),{totalOverlaps:u,maxOverlap:d,averageOverlap:f>0?(u/f).toFixed(1):0,totalPairs:f}})(),l=(u,d)=>{if(u===0)return"bg-surface/20 border-white/10 text-gray-400";const f=Math.min(u/d,1);return f>.7?"bg-purple-500/40 border-purple-400/50 text-purple-200":f>.4?"bg-purple-500/30 border-purple-400/40 text-purple-300":"bg-purple-500/20 border-purple-400/30 text-purple-300"};return c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold mb-6 text-purple-300 text-center",children:"搭班統計表"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0},children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[c.jsx("th",{className:"text-left p-3 text-purple-300 font-semibold",style:{border:"none !important"},children:"同事"}),a.map(u=>c.jsx("th",{className:"text-center p-3 text-purple-300 font-medium",style:{border:"none !important"},children:e[u]||u},u))]})}),c.jsx("tbody",{children:a.map(u=>c.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[c.jsx("td",{className:"p-3 text-white font-semibold cursor-pointer hover:text-purple-300 transition-colors",style:{border:"none !important"},onClick:()=>r(u),children:e[u]||u}),a.map(d=>{var g;const f=((g=i[u])==null?void 0:g[d])||0;return c.jsx("td",{className:"p-3 text-center",style:{border:"none !important"},children:u===d?c.jsx("div",{className:"w-8 h-8 rounded-lg bg-surface/20 border border-white/10 flex items-center justify-center text-gray-400",children:"-"}):f>0?c.jsx("div",{className:`px-3 py-2 rounded-lg text-center text-xs font-bold border cursor-pointer hover:scale-105 transition-all ${l(f,A.maxOverlap)}`,title:`${e[u]||u} 與 ${e[d]||d} 搭班 ${f} 次`,children:f}):c.jsx("div",{className:"w-8 h-8 rounded-lg bg-surface/10 border border-white/5 flex items-center justify-center text-gray-500 opacity-50",children:"-"})},d)})]},u))})]})})]})}function O0e({employeeId:t,employeeName:e,ranking:r,onClose:n}){const[i,s]=x.useState(null),o=(()=>{const A=r.reduce((d,f)=>d+f.count,0),l=r.length>0?(A/r.length).toFixed(1):0,u=r.length>0?r[0].count:0;return{totalOverlaps:A,avgOverlaps:l,maxOverlaps:u}})();return c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-surface/95 rounded-2xl p-8 border border-white/20 shadow-2xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-purple-300",children:[e," 的搭班詳情"]}),c.jsx("button",{onClick:n,className:"p-2 hover:bg-surface/30 rounded-lg text-gray-300 hover:text-white transition-all duration-200",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[c.jsx("div",{className:"text-2xl font-bold text-purple-300",children:o.totalOverlaps}),c.jsx("div",{className:"text-sm text-gray-400",children:"總搭班次數"})]}),c.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-300",children:o.avgOverlaps}),c.jsx("div",{className:"text-sm text-gray-400",children:"平均搭班次數"})]}),c.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[c.jsx("div",{className:"text-2xl font-bold text-green-300",children:o.maxOverlaps}),c.jsx("div",{className:"text-sm text-gray-400",children:"最高搭班次數"})]})]}),r.length>0?c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"text-lg font-semibold text-purple-300 mb-4",children:"搭班排行"}),r.map((A,l)=>c.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border cursor-pointer transition-all hover:scale-105 ${i===A.employeeId?"bg-purple-500/30 border-purple-400/50":"bg-surface/20 border-white/10 hover:bg-surface/30"}`,onClick:()=>s(i===A.employeeId?null:A.employeeId),children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:`w-8 h-8 rounded-full border flex items-center justify-center font-bold text-sm ${l===0?"bg-yellow-500/20 border-yellow-400/30 text-yellow-300":l===1?"bg-gray-500/20 border-gray-400/30 text-gray-300":l===2?"bg-orange-500/20 border-orange-400/30 text-orange-300":"bg-purple-500/20 border-purple-400/30 text-purple-300"}`,children:l+1}),c.jsx("div",{children:c.jsx("span",{className:"text-white font-medium",children:A.name})})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-purple-300 font-bold",children:[A.count," 次"]}),c.jsxs("div",{className:"text-xs text-gray-400",children:[(A.count/o.totalOverlaps*100).toFixed(1),"%"]})]})]},A.employeeId))]}):c.jsx("div",{className:"text-center py-8 text-gray-400",children:"本月無搭班記錄"})]})})}function D0e({schedule:t,names:e,allSchedules:r,selectedMonth:n}){const s=(()=>{const a={};let o,A;if(n==="current"){const m=new Date;o=m.getFullYear(),A=m.getMonth()+1}else if(n==="next"){const m=new Date;o=m.getFullYear(),A=m.getMonth()+2}else{const[m,v]=n.split("-");o=parseInt(m),A=parseInt(v)}const l=new Date(o,A-2,1),u=l.getFullYear(),d=l.getMonth()+1,f=`${u}-${d.toString().padStart(2,"0")}`,g=r[f]||{},p=new Date(u,d,0).getDate();return Object.keys(t).forEach(m=>{var I,T;if(m==="_lastUpdated")return;let v=0,y=0;const w=7;for(let F=Math.max(1,p-w+1);F<=p;F++){const C=(I=g[m])==null?void 0:I[F];C&&C!=="休"?y++:y=0}const B=new Date(o,A,0).getDate();for(let F=1;F<=B;F++){const C=(T=t[m])==null?void 0:T[F];C&&C!=="休"?(y++,v=Math.max(v,y)):y=0}v>0&&(a[m]={name:e[m]||m,maxConsecutive:v})}),Object.values(a).sort((m,v)=>v.maxConsecutive-m.maxConsecutive)})();return c.jsx("div",{className:"space-y-3",children:s.slice(0,5).map((a,o)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-500/20 border border-orange-400/30 flex items-center justify-center text-orange-300 font-bold text-xs",children:o+1}),c.jsx("span",{className:"text-white font-medium",children:a.name})]}),c.jsxs("div",{className:"text-orange-300 font-bold",children:[a.maxConsecutive," 天"]})]},a.name))})}function j0e({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(a=>{var A;if(a==="_lastUpdated")return;let o=0;for(let l=1;l<=s;l++)((A=t[a])==null?void 0:A[l])==="早"&&o++;o>0&&(i[a]={name:e[a]||a,earlyCount:o})}),Object.values(i).sort((a,o)=>o.earlyCount-a.earlyCount)})();return c.jsx("div",{className:"space-y-3",children:n.slice(0,5).map((i,s)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500/20 border border-pink-400/30 flex items-center justify-center text-pink-300 font-bold text-xs",children:s+1}),c.jsx("span",{className:"text-white font-medium",children:i.name})]}),c.jsxs("div",{className:"text-pink-300 font-bold",children:[i.earlyCount," 次"]})]},i.name))})}function R0e({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(a=>{var A;if(a==="_lastUpdated")return;let o=0;for(let l=1;l<=s;l++)((A=t[a])==null?void 0:A[l])==="晚"&&o++;o>0&&(i[a]={name:e[a]||a,nightCount:o})}),Object.values(i).sort((a,o)=>o.nightCount-a.nightCount)})();return c.jsx("div",{className:"space-y-3",children:n.slice(0,5).map((i,s)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500/20 border border-blue-400/30 flex items-center justify-center text-blue-300 font-bold text-xs",children:s+1}),c.jsx("span",{className:"text-white font-medium",children:i.name})]}),c.jsxs("div",{className:"text-blue-300 font-bold",children:[i.nightCount," 次"]})]},i.name))})}function M0e({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i}){const s=a=>{switch(a){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}};return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"3D 班表視圖"}),c.jsx("p",{className:"text-gray-400",children:"立體展示班次安排"})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:n.map(a=>c.jsx("div",{className:"group perspective-1000",children:c.jsx("div",{className:"relative transform-style-preserve-3d transition-all duration-500 group-hover:rotate-y-12",children:c.jsxs("div",{className:"bg-gradient-to-br from-surface/80 to-surface/60 rounded-2xl p-6 border border-white/20 shadow-2xl backdrop-blur-sm transform-style-preserve-3d",children:[c.jsxs("div",{className:"transform-style-preserve-3d",children:[c.jsxs("div",{className:"mb-6 text-center",children:[c.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:e[a]||a}),c.jsxs("p",{className:"text-sm text-gray-400",children:["職員編號：",a]})]}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:r.map((o,A)=>{var u;const l=(u=t[a])==null?void 0:u[o];return i&&i.length>0&&(!l||!i.includes(l))?c.jsxs("div",{className:"relative group/item",children:[c.jsx("div",{className:"w-full h-16 rounded-lg bg-surface/10 border border-white/5 opacity-50 transform transition-all duration-300 group-hover/item:scale-110 group-hover/item:rotate-y-6"}),c.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-xs text-gray-500",children:c.jsx("span",{children:o})})]},o):c.jsx("div",{className:"relative group/item",children:c.jsx("div",{className:`
                            w-full h-16 rounded-lg text-center text-xs font-bold
                            transform transition-all duration-300 
                            group-hover/item:scale-110 group-hover/item:rotate-y-6 group-hover/item:shadow-xl
                            ${l?s(l):"bg-surface/20 border border-white/10"}
                          `,children:c.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[c.jsx("span",{className:"text-xs opacity-75",children:o}),c.jsx("span",{className:"font-bold",children:l||""})]})})},o)})})]}),c.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]})})},a))})]})}function L0e({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(a=>{var A;if(a==="_lastUpdated")return;const o=e[a]||a;i[o]={name:o,early:0,middle:0,night:0,rest:0,special:0,total:0};for(let l=1;l<=s;l++){const u=(A=t[a])==null?void 0:A[l];if(u)switch(i[o].total++,u){case"早":i[o].early++;break;case"中":i[o].middle++;break;case"晚":i[o].night++;break;case"休":i[o].rest++;break;case"特":i[o].special++;break}}}),Object.values(i).filter(a=>a.total>0).sort((a,o)=>{var f,g;const A=Object.keys(e).find(p=>e[p]===a.name)||a.name,l=Object.keys(e).find(p=>e[p]===o.name)||o.name,u=parseInt(((f=A.match(/\d+/))==null?void 0:f[0])||"0"),d=parseInt(((g=l.match(/\d+/))==null?void 0:g[0])||"0");return u-d})})();return c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-6 text-purple-300 text-center",children:"各同事班次分布"}),c.jsx(Ba,{width:"100%",height:400,children:c.jsxs(EB,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(iA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),c.jsx(Va,{dataKey:"name",stroke:"#ffffff80"}),c.jsx(Ka,{stroke:"#ffffff80"}),c.jsx(ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}}),c.jsx(wA,{}),c.jsx(fa,{dataKey:"early",stackId:"a",fill:"#ec4899",name:"早班"}),c.jsx(fa,{dataKey:"middle",stackId:"a",fill:"#06b6d4",name:"中班"}),c.jsx(fa,{dataKey:"night",stackId:"a",fill:"#3b82f6",name:"晚班"}),c.jsx(fa,{dataKey:"rest",stackId:"a",fill:"#6b7280",name:"休假"}),c.jsx(fa,{dataKey:"special",stackId:"a",fill:"#f97316",name:"特休"})]})})]})}function H0e({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();let a={early:0,middle:0,night:0,rest:0,special:0};Object.keys(t).forEach(l=>{var u;if(l!=="_lastUpdated")for(let d=1;d<=s;d++){const f=(u=t[l])==null?void 0:u[d];if(f)switch(f){case"早":a.early++;break;case"中":a.middle++;break;case"晚":a.night++;break;case"休":a.rest++;break;case"特":a.special++;break}}});const o=Object.keys(t).filter(l=>l!=="_lastUpdated").length,A={early:a.early/o,middle:a.middle/o,night:a.night/o,rest:a.rest/o,special:a.special/o};return Object.keys(t).forEach(l=>{var g;if(l==="_lastUpdated")return;const u=e[l]||l,d={early:0,middle:0,night:0,rest:0,special:0};for(let p=1;p<=s;p++){const m=(g=t[l])==null?void 0:g[p];if(m)switch(m){case"早":d.early++;break;case"中":d.middle++;break;case"晚":d.night++;break;case"休":d.rest++;break;case"特":d.special++;break}}const f={name:u,earlyBias:((d.early-A.early)/A.early*100).toFixed(1),middleBias:((d.middle-A.middle)/A.middle*100).toFixed(1),nightBias:((d.night-A.night)/A.night*100).toFixed(1),restBias:((d.rest-A.rest)/A.rest*100).toFixed(1),specialBias:((d.special-A.special)/A.special*100).toFixed(1)};i[u]=f}),Object.values(i).sort((l,u)=>{var m,v;const d=Object.keys(e).find(y=>e[y]===l.name)||l.name,f=Object.keys(e).find(y=>e[y]===u.name)||u.name,g=parseInt(((m=d.match(/\d+/))==null?void 0:m[0])||"0"),p=parseInt(((v=f.match(/\d+/))==null?void 0:v[0])||"0");return g-p})})();return c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-6 text-orange-300 text-center",children:"班次分配偏差度分析"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-white/20",children:[c.jsx("th",{className:"text-left p-3 text-white font-semibold",children:"同事"}),c.jsx("th",{className:"text-center p-3 text-pink-300 font-semibold",children:"早班偏差"}),c.jsx("th",{className:"text-center p-3 text-cyan-300 font-semibold",children:"中班偏差"}),c.jsx("th",{className:"text-center p-3 text-blue-300 font-semibold",children:"晚班偏差"}),c.jsx("th",{className:"text-center p-3 text-gray-300 font-semibold",children:"休假偏差"}),c.jsx("th",{className:"text-center p-3 text-orange-300 font-semibold",children:"特休偏差"})]})}),c.jsx("tbody",{children:n.map((i,s)=>c.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5",children:[c.jsx("td",{className:"p-3 text-white font-medium",children:i.name}),c.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.earlyBias)>0?"text-green-400":"text-red-400"}`,children:[i.earlyBias,"%"]}),c.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.middleBias)>0?"text-green-400":"text-red-400"}`,children:[i.middleBias,"%"]}),c.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.nightBias)>0?"text-green-400":"text-red-400"}`,children:[i.nightBias,"%"]}),c.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.restBias)>0?"text-green-400":"text-red-400"}`,children:[i.restBias,"%"]}),c.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.specialBias)>0?"text-green-400":"text-red-400"}`,children:[i.specialBias,"%"]})]},s))})]})})]})}function V0e({schedule:t}){const r=(()=>{const n={early:0,middle:0,night:0,rest:0,special:0},i=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(s=>{var a;if(s!=="_lastUpdated")for(let o=1;o<=i;o++){const A=(a=t[s])==null?void 0:a[o];if(A)switch(A){case"早":n.early++;break;case"中":n.middle++;break;case"晚":n.night++;break;case"休":n.rest++;break;case"特":n.special++;break}}}),[{name:"早班",value:n.early,color:"#ec4899"},{name:"中班",value:n.middle,color:"#06b6d4"},{name:"晚班",value:n.night,color:"#3b82f6"},{name:"休假",value:n.rest,color:"#6b7280"},{name:"特休",value:n.special,color:"#f97316"}].filter(s=>s.value>0)})();return c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-6 text-green-300 text-center",children:"班次類型分布"}),c.jsx(Ba,{width:"100%",height:300,children:c.jsxs(gH,{children:[c.jsx(T_,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:n,percent:i})=>`${n} ${(i*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((n,i)=>c.jsx(Ru,{fill:n.color},`cell-${i}`))}),c.jsx(ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}})]})})]})}function K0e({schedule:t,names:e}){const[r,n]=x.useState(["early","middle","night"]),s=(()=>{const u=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),d=[];for(let f=1;f<=u;f++){let g=0,p=0,m=0,v=0,y=0;Object.keys(t).forEach(w=>{var I;if(w==="_lastUpdated")return;switch((I=t[w])==null?void 0:I[f]){case"早":g++;break;case"中":p++;break;case"晚":m++;break;case"休":v++;break;case"特":y++;break}}),d.push({date:`${f}日`,day:f,early:g,middle:p,night:m,rest:v,special:y})}return d})(),a=s.reduce((u,d)=>(u.early+=d.early,u.middle+=d.middle,u.night+=d.night,u.rest+=d.rest,u.special+=d.special,u),{early:0,middle:0,night:0,rest:0,special:0}),o=Object.entries(a).filter(([u,d])=>d>0).map(([u])=>u),A=u=>{switch(u){case"early":return"#ec4899";case"middle":return"#06b6d4";case"night":return"#3b82f6";case"rest":return"#6b7280";case"special":return"#f97316";default:return"#9ca3af"}},l=u=>{switch(u){case"early":return"早班";case"middle":return"中班";case"night":return"晚班";case"rest":return"休假";case"special":return"特休";default:return u}};return c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-6 text-blue-300 text-center",children:"班次趨勢變化"}),c.jsx("div",{className:"mb-6",children:c.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:o.map(u=>c.jsx("button",{onClick:()=>{r.includes(u)?n(d=>d.filter(f=>f!==u)):n(d=>[...d,u])},className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${r.includes(u)?"bg-blue-500 text-white border border-blue-400":"bg-white/10 text-gray-300 border border-white/20 hover:bg-white/20"}`,style:{borderColor:r.includes(u)?A(u):void 0},children:l(u)},u))})}),c.jsx(Ba,{width:"100%",height:400,children:c.jsxs(R_,{data:s,margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(iA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),c.jsx(Va,{dataKey:"date",stroke:"#ffffff80",interval:Math.ceil(s.length/10),tick:{fontSize:12}}),c.jsx(Ka,{stroke:"#ffffff80",tick:{fontSize:12},allowDecimals:!1}),c.jsx(ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"},formatter:(u,d)=>[`${u}人`,l(d)],labelFormatter:u=>`${u}`}),c.jsx(wA,{formatter:u=>l(u),wrapperStyle:{fontSize:"12px"}}),r.map(u=>c.jsx(Ca,{type:"monotone",dataKey:u,stroke:A(u),strokeWidth:2,name:u,dot:{fill:A(u),strokeWidth:2,r:3},activeDot:{r:5,stroke:A(u),strokeWidth:2}},u))]})}),c.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-5 gap-4",children:o.map(u=>c.jsxs("div",{className:"text-center p-3 bg-surface/20 rounded-lg border border-white/10",children:[c.jsx("div",{className:"text-sm text-gray-400 mb-1",children:l(u)}),c.jsx("div",{className:"text-lg font-bold",style:{color:A(u)},children:a[u]}),c.jsx("div",{className:"text-xs text-gray-500",children:"總次數"})]},u))})]})}function $0e({schedule:t,names:e,selectedEmployee:r,crossMonthStats:n,selectedMonth:i}){if(!r)return c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-300 text-center",children:"個人統計儀表板"}),c.jsx("p",{className:"text-center text-gray-400",children:"請選擇一個同事查看個人統計"})]});const a=(()=>{var m;const g={name:e[r]||r,early:0,middle:0,night:0,rest:0,special:0,total:0},p=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let v=1;v<=p;v++){const y=(m=t[r])==null?void 0:m[v];if(y)switch(y){case"早":g.early++,g.total++;break;case"中":g.middle++,g.total++;break;case"晚":g.night++,g.total++;break;case"休":g.rest++;break;case"特":g.special++,g.total++;break}}return g})(),o=[{name:"早班",value:a.early,color:"#ec4899"},{name:"中班",value:a.middle,color:"#06b6d4"},{name:"晚班",value:a.night,color:"#3b82f6"},{name:"休假",value:a.rest,color:"#6b7280"},{name:"特休",value:a.special,color:"#f97316"}].filter(g=>g.value>0),A=()=>{var y;const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),p=[];let m=0,v=0;for(let w=1;w<=g;w++){const B=(y=t[r])==null?void 0:y[w];B&&B!=="休"?m++:(m>0&&(v++,p.push({period:`期間${v}`,consecutiveDays:m,trend:m>=6?"高":m>=4?"中":"低"})),m=0)}return m>0&&(v++,p.push({period:`期間${v}`,consecutiveDays:m,trend:m>=6?"高":m>=4?"中":"低"})),p},l=()=>{var m;const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),p=[];for(let v=1;v<=g;v++){let y=0,w=0;for(let B=1;B<=v;B++){const I=(m=t[r])==null?void 0:m[B];I&&I!=="休"?y++:(y>0&&(y>=7?w=3:y>=5?w=2:w=1),y=0)}y>0&&(y>=7?w=3:y>=5?w=2:w=1),p.push({date:`${v}日`,consecutiveDays:y,riskLevel:w})}return p},u=()=>{var m,v;const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),p={};for(let y=1;y<g;y++){const w=(m=t[r])==null?void 0:m[y],B=(v=t[r])==null?void 0:v[y+1];if(w&&B){const I=`${w}→${B}`;p[I]=(p[I]||0)+1}}return Object.entries(p).sort(([,y],[,w])=>w-y).slice(0,10).map(([y,w])=>({transition:y,value:w}))},d=()=>{var m,v;const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),p={};for(let y=1;y<g;y++){const w=(m=t[r])==null?void 0:m[y],B=(v=t[r])==null?void 0:v[y+1];if(w&&B){const I=`${w}→${B}`;if(!p[I]){const[T,F]=I.split("→");p[I]={from:T,to:F,count:0}}p[I].count++}}return Object.values(p).sort((y,w)=>w.count-y.count)},f=g=>{switch(g){case"早":return"#ec4899";case"中":return"#06b6d4";case"晚":return"#3b82f6";case"休":return"#6b7280";case"特":return"#f97316";default:return"#9ca3af"}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-pink-500/20 rounded-lg border border-pink-400/30",children:[c.jsx("div",{className:"text-2xl font-bold text-pink-300",children:a.early}),c.jsx("div",{className:"text-sm text-pink-200",children:"早班"})]}),c.jsxs("div",{className:"text-center p-4 bg-cyan-500/20 rounded-lg border border-cyan-400/30",children:[c.jsx("div",{className:"text-2xl font-bold text-cyan-300",children:a.middle}),c.jsx("div",{className:"text-sm text-cyan-200",children:"中班"})]}),c.jsxs("div",{className:"text-center p-4 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-300",children:a.night}),c.jsx("div",{className:"text-sm text-blue-200",children:"晚班"})]}),c.jsxs("div",{className:"text-center p-4 bg-gray-500/20 rounded-lg border border-gray-400/30",children:[c.jsx("div",{className:"text-2xl font-bold text-gray-300",children:a.rest}),c.jsx("div",{className:"text-sm text-gray-200",children:"休假"})]}),c.jsxs("div",{className:"text-center p-4 bg-orange-500/20 rounded-lg border border-orange-400/30",children:[c.jsx("div",{className:"text-2xl font-bold text-orange-300",children:a.special}),c.jsx("div",{className:"text-sm text-orange-200",children:"特休"})]})]}),c.jsxs("div",{className:"text-center p-4 bg-surface/40 rounded-lg border border-white/10",children:[c.jsxs("div",{className:"text-lg font-semibold text-white",children:["總工作天數：",a.total," 天"]}),c.jsxs("div",{className:"text-sm text-gray-400",children:["工作率：",(a.total/31*100).toFixed(1),"%"]})]}),n&&n.totalMonths>0&&c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-bold mb-4 text-green-300 text-center",children:"跨月份平均值統計"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-4",children:[c.jsxs("div",{className:"text-center p-3 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[c.jsx("div",{className:"text-lg font-bold text-blue-300",children:n.totalMonths}),c.jsx("div",{className:"text-xs text-blue-200",children:"統計月份"})]}),(()=>{const g={early:a.early,middle:a.middle,night:a.night,rest:a.rest},p=(B,I)=>{const T=B-I;return{value:T,isPositive:T>0,isZero:T===0}},m=p(g.early,n.averageEarlyPerMonth),v=p(g.middle,n.averageMidPerMonth),y=p(g.night,n.averageNightPerMonth),w=p(g.rest,n.averageRestPerMonth);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"text-center p-3 bg-pink-500/20 rounded-lg border border-pink-400/30",children:[c.jsx("div",{className:"text-lg font-bold text-pink-300",children:n.averageEarlyPerMonth}),c.jsx("div",{className:"text-xs text-pink-200",children:"平均早班/月"}),c.jsxs("div",{className:`text-xs mt-1 ${m.isPositive?"text-green-400":m.isZero?"text-gray-400":"text-red-400"}`,children:[m.isPositive?"+":"",m.value," vs 本月"]})]}),c.jsxs("div",{className:"text-center p-3 bg-cyan-500/20 rounded-lg border border-cyan-400/30",children:[c.jsx("div",{className:"text-lg font-bold text-cyan-300",children:n.averageMidPerMonth}),c.jsx("div",{className:"text-xs text-cyan-200",children:"平均中班/月"}),c.jsxs("div",{className:`text-xs mt-1 ${v.isPositive?"text-green-400":v.isZero?"text-gray-400":"text-red-400"}`,children:[v.isPositive?"+":"",v.value," vs 本月"]})]}),c.jsxs("div",{className:"text-center p-3 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[c.jsx("div",{className:"text-lg font-bold text-blue-300",children:n.averageNightPerMonth}),c.jsx("div",{className:"text-xs text-blue-200",children:"平均晚班/月"}),c.jsxs("div",{className:`text-xs mt-1 ${y.isPositive?"text-green-400":y.isZero?"text-gray-400":"text-red-400"}`,children:[y.isPositive?"+":"",y.value," vs 本月"]})]}),c.jsxs("div",{className:"text-center p-3 bg-gray-500/20 rounded-lg border border-gray-400/30",children:[c.jsx("div",{className:"text-lg font-bold text-gray-300",children:n.averageRestPerMonth}),c.jsx("div",{className:"text-xs text-gray-200",children:"平均休假/月"}),c.jsxs("div",{className:`text-xs mt-1 ${w.isPositive?"text-green-400":w.isZero?"text-gray-400":"text-red-400"}`,children:[w.isPositive?"+":"",w.value," vs 本月"]})]})]})})()]}),c.jsxs("div",{className:"text-center text-sm text-gray-400",children:["基於 ",n.totalMonths," 個月份的資料計算 | ",c.jsx("span",{className:"text-green-400",children:"綠色"})," = 高於平均值 | ",c.jsx("span",{className:"text-red-400",children:"紅色"})," = 低於平均值"]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-bold mb-4 text-purple-300 text-center",children:"班次佔比"}),c.jsx(Ba,{width:"100%",height:300,children:c.jsxs(gH,{children:[c.jsx(T_,{data:o,cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percent:p})=>`${g} ${(p*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.map((g,p)=>c.jsx(Ru,{fill:g.color},`cell-${p}`))}),c.jsx(ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}})]})})]}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-bold mb-4 text-blue-300 text-center",children:"每日班次分布"}),c.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["日","一","二","三","四","五","六"].map(g=>c.jsx("div",{className:"text-center text-sm font-semibold text-gray-400 py-2",children:g},g))}),c.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:new Date(new Date().getFullYear(),new Date().getMonth(),1).getDay()},(g,p)=>c.jsx("div",{className:"h-8 bg-surface/20 rounded border border-white/5"},`empty-${p}`)),Array.from({length:new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate()},(g,p)=>{var B;const m=p+1,v=(B=t[r])==null?void 0:B[m],y=I=>{switch(I){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-surface/20 text-gray-400 border border-white/10"}},w=I=>{switch(I){case"早":return"早班";case"中":return"中班";case"晚":return"晚班";case"休":return"休假";case"特":return"特休";default:return"無班次"}};return c.jsx("div",{className:`h-8 rounded border flex items-center justify-center text-xs font-bold transition-all hover:scale-110 cursor-pointer ${y(v)}`,title:`${m}日 - ${w(v)}`,children:m},m)})]}),c.jsxs("div",{className:"mt-4 flex flex-wrap justify-center gap-3 text-xs",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded"}),c.jsx("span",{className:"text-gray-300",children:"早班"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 bg-cyan-500 rounded"}),c.jsx("span",{className:"text-gray-300",children:"中班"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),c.jsx("span",{className:"text-gray-300",children:"晚班"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded"}),c.jsx("span",{className:"text-gray-300",children:"休假"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded"}),c.jsx("span",{className:"text-gray-300",children:"特休"})]})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-bold mb-4 text-orange-300 text-center",children:"連續上班天數分析"}),c.jsx(Ba,{width:"100%",height:300,children:c.jsxs(EB,{data:A(),margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(iA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),c.jsx(Va,{dataKey:"period",stroke:"#ffffff80"}),c.jsx(Ka,{stroke:"#ffffff80"}),c.jsx(ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"},formatter:(g,p)=>[g,{highRisk:"高 (≥6天)",mediumRisk:"中 (4-5天)",lowRisk:"低 (1-3天)"}[p]||p]}),c.jsx(wA,{}),c.jsx(fa,{dataKey:"consecutiveDays",fill:"#f97316",name:"連續天數"})]})}),c.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{className:"flex items-center justify-center p-2 bg-red-500/20 rounded-lg border border-red-400/30",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),c.jsx("span",{className:"text-red-300",children:"高 (≥6天)"})]}),c.jsxs("div",{className:"flex items-center justify-center p-2 bg-orange-500/20 rounded-lg border border-orange-400/30",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500 mr-2"}),c.jsx("span",{className:"text-orange-300",children:"中 (4-5天)"})]}),c.jsxs("div",{className:"flex items-center justify-center p-2 bg-green-500/20 rounded-lg border border-green-400/30",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),c.jsx("span",{className:"text-green-300",children:"低 (1-3天)"})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-bold mb-4 text-blue-300 text-center",children:"連續上班頻率趨勢"}),c.jsx(Ba,{width:"100%",height:300,children:c.jsxs(R_,{data:l(),margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(iA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),c.jsx(Va,{dataKey:"date",stroke:"#ffffff80"}),c.jsx(Ka,{stroke:"#ffffff80",domain:[0,6]}),c.jsx(ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}}),c.jsx(wA,{}),c.jsx(Ca,{type:"monotone",dataKey:"consecutiveDays",stroke:"#8b5cf6",strokeWidth:3,name:"連續天數"}),c.jsx(Ca,{type:"monotone",dataKey:"riskLevel",stroke:"#ef4444",strokeWidth:2,name:"等級"})]})})]})]}),c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-bold mb-4 text-purple-300 text-center",children:"班次轉換關係圖"}),c.jsx(Ba,{width:"100%",height:300,children:c.jsxs(EB,{data:u(),margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(iA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),c.jsx(Va,{dataKey:"transition",stroke:"#ffffff80"}),c.jsx(Ka,{stroke:"#ffffff80"}),c.jsx(ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"},formatter:(g,p,m)=>[`${m.payload.transition}: ${g}次`,"轉換次數"]}),c.jsx(fa,{dataKey:"value",fill:"#8b5cf6"})]})}),c.jsx("div",{className:"mt-4 grid grid-cols-2 lg:grid-cols-4 gap-4",children:d().slice(0,8).map((g,p)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:f(g.from)},children:g.from}),c.jsx("span",{className:"text-gray-400",children:"→"}),c.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:f(g.to)},children:g.to})]}),c.jsx("div",{className:"text-purple-300 font-bold",children:g.count})]},p))})]})})]})}function G0e({schedule:t,names:e,pickupLocations:r,selectedEmployee:n,calculateFare:i}){const[s,a]=x.useState(!1),[o,A]=x.useState(null);if(x.useEffect(()=>{n?(a(!0),setTimeout(()=>{const g=i(n);A(g),a(!1)},500)):A(null)},[n,i]),!n)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"請選擇一位同事來計算車費"}),c.jsx("div",{className:"text-gray-500 text-sm",children:"選擇同事後，將顯示該同事的車費分析"})]});if(s)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),c.jsx("div",{className:"text-gray-400 text-lg",children:"正在計算車費..."})]});if(!o)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"無法計算車費"}),c.jsx("div",{className:"text-gray-500 text-sm",children:"該同事可能不搭車或沒有班表資料"})]});const l=[{name:"原價",cost:o.originalTotal,type:"original"},{name:"桃園市民卡 7折",cost:o.citizenCardTotal,type:"citizen"},...o.monthlyPassOptions.map(g=>({name:`${g.days}天定期票`,cost:g.averagePricePerMonth,type:"monthly",days:g.days,savings:g.savings,averagePricePerMonth:g.averagePricePerMonth,price:g.price,originalPrice:g.totalCost})),{name:"TPass 799",cost:o.tpassTotal,type:"tpass"}],d=((g,p)=>{const m={bestValue:null,mostFlexible:null,bestForFrequent:null,bestForOccasional:null};return m.bestValue=p.reduce((v,y)=>y.cost<v.cost?y:v),m.mostFlexible=p.find(v=>v.type==="original"||v.type==="citizen")||m.bestValue,g.totalTrips>20?m.bestForFrequent=p.find(v=>v.type==="tpass")||m.bestValue:g.totalTrips<10?m.bestForOccasional=p.find(v=>v.type==="original"||v.type==="citizen")||m.bestValue:(m.bestForFrequent=m.bestValue,m.bestForOccasional=m.bestValue),m})(o,l),f=d.bestValue;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-xl p-6 border border-blue-400/30",children:[c.jsx("h3",{className:"text-xl font-bold text-blue-300 mb-4",children:"車費試算結果"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:o.employeeName}),c.jsx("div",{className:"text-sm text-gray-400",children:"同事"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-green-300",children:o.location}),c.jsx("div",{className:"text-sm text-gray-400",children:"上車地點"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-purple-300",children:[o.totalTrips," 次"]}),c.jsx("div",{className:"text-sm text-gray-400",children:"總搭乘次數"})]})]})]}),c.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/20",children:[c.jsx("h4",{className:"text-lg font-semibold text-purple-300 mb-4",children:"車費方案比較"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4",children:l.map((g,p)=>{var m,v,y;return c.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border transition-all duration-300 relative transform hover:scale-105 hover:shadow-lg animate-fade-in-up ${g.cost===f.cost?"bg-green-500/20 border-green-400/50 text-green-300 ring-2 ring-green-400/30":"bg-surface/20 border-white/20 text-white hover:bg-surface/30"}`,style:{animationDelay:`${p*100}ms`,animationFillMode:"both"},children:[c.jsxs("div",{className:"absolute -top-2 -right-2 flex flex-col gap-1",children:[g.cost===f.cost&&c.jsx("div",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg animate-pulse",children:"🏆 最划算"}),g.cost===((m=d.mostFlexible)==null?void 0:m.cost)&&g.type!=="original"&&c.jsx("div",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"🎯 最靈活"}),g.cost===((v=d.bestForFrequent)==null?void 0:v.cost)&&o.totalTrips>20&&c.jsx("div",{className:"bg-purple-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"⚡ 常搭推薦"}),g.cost===((y=d.bestForOccasional)==null?void 0:y.cost)&&o.totalTrips<10&&c.jsx("div",{className:"bg-orange-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"💡 偶爾搭"})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g.type==="original"&&c.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),g.type==="citizen"&&c.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V4a2 2 0 114 0v2m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})}),g.type==="monthly"&&c.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),g.type==="tpass"&&c.jsx("svg",{className:"w-5 h-5 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),c.jsx("span",{className:"font-semibold text-sm",children:g.name})]}),c.jsxs("div",{className:"text-xl sm:text-2xl font-bold mb-2 transition-all duration-300 animate-price-change",children:["$",g.cost]}),g.type==="monthly"&&c.jsx("div",{className:"text-xs text-gray-400 mb-1",children:c.jsxs("span",{className:"text-xs text-gray-500",children:["票券原價 $",g.originalPrice]})}),g.type==="tpass"&&c.jsx("div",{className:"text-xs text-gray-400",children:"A22-A7 坐到哭"})]},p)})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-r from-indigo-500/20 to-purple-500/20 rounded-xl p-6 border border-indigo-400/30",children:[c.jsx("h4",{className:"text-xl font-bold text-indigo-300 mb-6",children:"車費分析儀表板"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",Math.min(...l.map(g=>g.cost))]}),c.jsx("div",{className:"text-sm text-gray-400",children:"最低費用"})]}),c.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-red-400",children:["$",Math.max(...l.map(g=>g.cost))]}),c.jsx("div",{className:"text-sm text-gray-400",children:"最高費用"})]}),c.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-orange-400",children:["$",o.originalTotal-Math.min(...l.map(g=>g.cost))]}),c.jsx("div",{className:"text-sm text-gray-400",children:"最大節省"})]}),c.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-400",children:l.length}),c.jsx("div",{className:"text-sm text-gray-400",children:"方案數量"})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 via-teal-500/5 to-cyan-500/10 rounded-xl p-6 border border-emerald-400/20 shadow-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[c.jsx("h5",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-emerald-300 to-teal-300 bg-clip-text text-transparent",children:"搭乘次數 vs 費用效益分析"}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[c.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-emerald-400"}),c.jsx("span",{className:"hidden sm:inline",children:"即時分析"})]})]}),c.jsx(Ba,{width:"100%",height:200,className:"sm:h-[250px]",children:c.jsxs(R_,{data:Array.from({length:40},(g,p)=>{const m=p+1,v=m*o.originalTotal/o.totalTrips,y=Math.ceil(v*.7),w=799,B=o.monthlyPassOptions.find(T=>T.days===120),I=B?B.averagePricePerMonth:486;return{trips:m,原價:Math.round(v),市民卡:y,TPass:w,"120天票":Math.round(I)}}),children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"originalGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.8}),c.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:.1})]}),c.jsxs("linearGradient",{id:"citizenGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),c.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),c.jsxs("linearGradient",{id:"tpassGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.8}),c.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:.1})]}),c.jsxs("linearGradient",{id:"monthlyGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),c.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})]}),c.jsx(iA,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),c.jsx(Va,{dataKey:"trips",stroke:"#9ca3af",fontSize:10,className:"sm:text-xs",tickLine:!1,axisLine:{stroke:"#4b5563",strokeWidth:1},interval:"preserveStartEnd",label:{value:"搭乘次數",position:"insideBottom",offset:-5,style:{textAnchor:"middle",fill:"#9ca3af",fontSize:"11px",fontWeight:"500"}}}),c.jsx(Ka,{stroke:"#9ca3af",fontSize:10,className:"sm:text-xs",tickLine:!1,axisLine:{stroke:"#4b5563",strokeWidth:1},tickFormatter:g=>`$${g}`,width:50,label:{value:"費用",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9ca3af",fontSize:"11px",fontWeight:"500"}}}),c.jsx(ba,{formatter:(g,p)=>[`$${g}`,p],labelFormatter:g=>`搭乘 ${g} 次`,contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"12px",color:"#fff",boxShadow:"0 10px 25px rgba(0,0,0,0.3)",padding:"12px"},cursor:{stroke:"#6b7280",strokeWidth:1,strokeDasharray:"3 3"}}),c.jsx(Ca,{type:"monotone",dataKey:"原價",stroke:"#ef4444",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#ef4444",strokeWidth:1,fill:"#fff"}}),c.jsx(Ca,{type:"monotone",dataKey:"市民卡",stroke:"#3b82f6",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#3b82f6",strokeWidth:1,fill:"#fff"}}),c.jsx(Ca,{type:"monotone",dataKey:"TPass",stroke:"#f59e0b",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#f59e0b",strokeWidth:1,fill:"#fff"}}),c.jsx(Ca,{type:"monotone",dataKey:"120天票",stroke:"#10b981",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#10b981",strokeWidth:1,fill:"#fff"}})]})}),c.jsx("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 bg-surface/20 rounded-lg border border-emerald-400/10",children:c.jsxs("div",{className:"text-xs sm:text-sm text-gray-300 leading-relaxed",children:["此圖顯示不同搭乘次數下各方案的費用變化，幫助您了解在什麼情況下哪種方案最划算。",c.jsx("span",{className:"text-emerald-300 font-medium",children:"交叉點"}),"表示方案間的轉換時機。"]})})]})]})]})}function z0e({schedule:t,names:e,displayDates:r,selectedEmployee:n}){if(!n)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"請選擇一位同事來查看搭班情況"}),c.jsx("div",{className:"text-gray-500 text-sm",children:"在左側選擇同事後，將顯示該同事每天的搭班同事"})]});const i=o=>{var d;const A=(d=t[n])==null?void 0:d[o];if(!A||A==="休")return[];const l=[];Object.keys(t).forEach(f=>{var p;if(f==="_lastUpdated"||f===n)return;const g=(p=t[f])==null?void 0:p[o];!g||g==="休"||(g===A?l.push({id:f,name:e[f]||f,shift:g,type:"同班"}):(A==="早"&&g==="中"||A==="中"&&g==="晚"||A==="中"&&g==="早"||A==="晚"&&g==="中")&&l.push({id:f,name:e[f]||f,shift:g,type:"跨班"}))});const u={早:1,中:2,晚:3};return l.sort((f,g)=>{const p=u[f.shift]||999,m=u[g.shift]||999;return p-m}),l},s=o=>{switch(o){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}},a=o=>{switch(o){case"同班":return"bg-green-500/20 border-green-400/30 text-green-300";case"跨班":return"bg-purple-500/20 border-purple-400/30 text-purple-300";default:return"bg-gray-500/20 border-gray-400/30 text-gray-300"}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-xl p-4 sm:p-6 border border-purple-400/30",children:[c.jsx("h3",{className:"text-lg sm:text-xl font-bold text-purple-300 mb-2",children:"每日搭班視圖"}),c.jsx("div",{className:"flex items-center gap-2 sm:gap-4",children:c.jsxs("div",{className:"text-white font-semibold text-sm sm:text-base",children:["同事：",c.jsx("span",{className:"text-purple-300",children:e[n]||n})]})})]}),c.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 gap-2 sm:gap-3 md:gap-4",children:r.map(o=>{var d;const A=o===new Date().getDate(),l=(d=t[n])==null?void 0:d[o],u=i(o);return c.jsxs("div",{className:`bg-surface/60 rounded-xl p-2 sm:p-3 md:p-4 border transition-all duration-200 ${A?"border-primary/50 bg-primary/10 ring-2 ring-primary/30":"border-white/20 hover:border-white/30"}`,children:[c.jsxs("div",{className:"text-center mb-2 sm:mb-3",children:[c.jsx("div",{className:`text-sm sm:text-base md:text-lg font-bold ${A?"text-primary":"text-white"}`,children:o}),c.jsx("div",{className:"text-xs text-gray-400 hidden sm:block",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),o).getDay()]})]}),c.jsxs("div",{className:"mb-2 sm:mb-3",children:[c.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"我的班次"}),l?c.jsx("div",{className:`px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-center text-xs sm:text-sm font-bold ${s(l)}`,children:l}):c.jsx("div",{className:"px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-center text-xs sm:text-sm text-gray-400 bg-surface/20 border border-white/10",children:"無班次"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-xs text-gray-400 mb-1 sm:mb-2",children:["搭班同事 (",u.length,")"]}),u.length>0?c.jsx("div",{className:"space-y-1 sm:space-y-2",children:u.map(f=>c.jsxs("div",{className:`p-1 sm:p-2 rounded-lg border text-xs ${a(f.type)}`,children:[c.jsx("div",{className:"font-medium mb-0.5 sm:mb-1 text-xs sm:text-xs truncate",children:f.name}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs opacity-80 hidden sm:inline",children:f.type}),c.jsx("div",{className:`px-1 sm:px-2 py-0.5 sm:py-1 rounded text-xs font-bold ${s(f.shift)}`,children:f.shift})]})]},f.id))}):c.jsx("div",{className:"text-xs text-gray-500 text-center py-1 sm:py-2",children:l&&l!=="休"?"無搭班同事":"休息日"})]})]},o)})})]})}function W0e(){const[t,e]=x.useState(""),[r,n]=x.useState(""),i=()=>{if(!t.trim()){n("請輸入測試資料");return}const s=t.trim().split(`
`);let a=`資料格式分析結果：

`;a+=`總行數: ${s.length}

`,s.forEach((o,A)=>{if(!o.trim()){a+=`第 ${A+1} 行: 空白行
`;return}a+=`第 ${A+1} 行: "${o}"
`;const l=o.split("	"),u=o.split(/\s+/);a+=`  Tab 分隔: ${l.length} 個欄位
`,a+=`  空格分隔: ${u.length} 個欄位
`,l.length>=2?(a+=`  職員編號: "${l[0].trim()}"
`,a+=`  姓名: "${l[1].trim()}"
`,a+=`  班表欄位數: ${l.length-2}
`):u.length>=2?(a+=`  職員編號: "${u[0].trim()}"
`,a+=`  姓名: "${u[1].trim()}"
`,a+=`  班表欄位數: ${u.length-2}
`):a+=`  ❌ 格式錯誤：欄位數不足
`,a+=`
`}),n(a)};return c.jsxs("div",{className:"container-custom py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"資料格式測試工具"}),c.jsx("p",{className:"text-center text-text-secondary",children:"檢查 Excel 資料格式是否正確"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-400",children:"輸入測試資料"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-semibold mb-2",children:"從 Excel 複製的資料"}),c.jsx("textarea",{value:t,onChange:s=>e(s.target.value),placeholder:"請從 Excel 複製資料並貼上這裡...",className:"w-full h-64 px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-blue-400/50 focus:bg-white/10 resize-none"})]}),c.jsx("button",{onClick:i,className:"px-6 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-400 rounded-lg transition-all",children:"分析資料格式"})]}),c.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-green-400",children:"分析結果"}),c.jsx("div",{className:"bg-surface/20 rounded-lg p-4 border border-white/5",children:c.jsx("pre",{className:"text-sm text-text-secondary whitespace-pre-wrap font-mono",children:r||"請輸入資料並點擊「分析資料格式」"})})]})]}),c.jsxs("div",{className:"mt-8 bg-surface/40 rounded-xl p-6 border border-white/10",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-400",children:"正確的資料格式"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2 text-orange-400",children:"Excel 格式要求"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary",children:[c.jsx("li",{children:"第一欄：職員編號（如 A45、A51）"}),c.jsx("li",{children:"第二欄：姓名（如 林小余、黃紅葉）"}),c.jsx("li",{children:"第三欄開始：每日班表（如 K、Y、L、月休）"}),c.jsx("li",{children:"欄位之間用 Tab 鍵分隔"}),c.jsx("li",{children:"每行代表一位同仁的完整班表"})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2 text-green-400",children:"範例資料"}),c.jsx("div",{className:"bg-surface/20 rounded-lg p-4 border border-white/5",children:c.jsx("pre",{className:"text-sm text-text-secondary font-mono",children:`A45	林小余	K	K	Y	L	月休	Y
A51	黃紅葉	K	K	Y	L	K	Y
A60	李Ashley	Y	L	K	Y	L	K`})})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2 text-red-400",children:"常見問題"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary",children:[c.jsx("li",{children:"複製時沒有包含 Tab 分隔符"}),c.jsx("li",{children:"職員編號或姓名為空"}),c.jsx("li",{children:"資料行數不足"}),c.jsx("li",{children:"包含多餘的空格或特殊字符"})]})]})]})]})]})}const Y0e=x.lazy(()=>pa(()=>import("./CashierManagement-B7_bdkx1.js"),[])),X0e=x.lazy(()=>pa(()=>import("./AdminPanel-B40TgwMg.js"),[]));function q0e(){const[t,e]=x.useState({checked:!1,connected:!1,error:null});return x.useEffect(()=>{(async()=>{try{const n=await fY();e({checked:!0,connected:n,error:n?null:"無法連接到 Firebase"})}catch(n){console.error("檢查 Firebase 連接時出錯:",n),e({checked:!0,connected:!1,error:n.message||"無法連接到 Firebase"})}})()},[]),c.jsx(dX,{children:c.jsx(o$,{children:c.jsxs(lX,{children:[t.checked&&!t.connected&&c.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 m-4",children:[c.jsx("h3",{className:"text-amber-500 font-bold mb-2",children:"Firebase 連接警告"}),c.jsxs("p",{className:"text-sm text-text-secondary",children:["應用程序無法連接到 Firebase 服務。部分功能可能無法正常工作。",t.error&&c.jsxs("span",{className:"block mt-1",children:["錯誤: ",t.error]})]}),c.jsx("p",{className:"text-xs text-text-secondary mt-2",children:"您仍然可以使用應用程序，但數據將不會同步到雲端。"})]}),c.jsx(x.Suspense,{fallback:c.jsx(uX,{}),children:c.jsxs(Z6,{children:[c.jsx(Dn,{path:"/",element:c.jsx(q6,{to:"/sandwich",replace:!0})}),c.jsx(Dn,{path:"/sandwich",element:c.jsx(vX,{})}),c.jsx(Dn,{path:"/cashier",element:c.jsx(Y0e,{})}),c.jsx(Dn,{path:"/alcohol",element:c.jsx(pX,{})}),c.jsx(Dn,{path:"/coffee-beans",element:c.jsx(yX,{})}),c.jsx(Dn,{path:"/daily-reports",element:c.jsx(bX,{})}),c.jsx(Dn,{path:"/schedule",element:c.jsx(U0e,{})}),c.jsx(Dn,{path:"/data-tester",element:c.jsx(W0e,{})}),c.jsx(Dn,{path:"/poursteady",element:c.jsx(hX,{})}),c.jsx(Dn,{path:"/admin",element:c.jsx(X0e,{})}),c.jsx(Dn,{path:"*",element:c.jsx(cX,{})})]})})]})})})}Ow.createRoot(document.getElementById("root")).render(c.jsx(Xm.StrictMode,{children:c.jsx(q0e,{})}));export{Zd as F,Xm as R,pa as _,C2 as a,rj as b,xC as c,ej as d,AW as e,su as f,QY as g,Ti as h,or as i,c as j,dd as k,ud as l,ave as m,sve as n,ove as o,PY as p,XD as q,x as r,Lo as s,hY as t,Ok as u,ive as v,qd as w,lW as x,cY as y};
