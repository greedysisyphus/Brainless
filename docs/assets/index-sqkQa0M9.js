var bH=Object.defineProperty;var BH=(t,e,r)=>e in t?bH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var $u=(t,e,r)=>BH(t,typeof e!="symbol"?e+"":e,r);function CH(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function Mi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iQ={exports:{}},Tm={},sQ={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd=Symbol.for("react.element"),EH=Symbol.for("react.portal"),_H=Symbol.for("react.fragment"),IH=Symbol.for("react.strict_mode"),SH=Symbol.for("react.profiler"),TH=Symbol.for("react.provider"),FH=Symbol.for("react.context"),UH=Symbol.for("react.forward_ref"),PH=Symbol.for("react.suspense"),QH=Symbol.for("react.memo"),NH=Symbol.for("react.lazy"),uI=Symbol.iterator;function kH(t){return t===null||typeof t!="object"?null:(t=uI&&t[uI]||t["@@iterator"],typeof t=="function"?t:null)}var aQ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oQ=Object.assign,AQ={};function cu(t,e,r){this.props=t,this.context=e,this.refs=AQ,this.updater=r||aQ}cu.prototype.isReactComponent={};cu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lQ(){}lQ.prototype=cu.prototype;function cB(t,e,r){this.props=t,this.context=e,this.refs=AQ,this.updater=r||aQ}var dB=cB.prototype=new lQ;dB.constructor=cB;oQ(dB,cu.prototype);dB.isPureReactComponent=!0;var cI=Array.isArray,uQ=Object.prototype.hasOwnProperty,fB={current:null},cQ={key:!0,ref:!0,__self:!0,__source:!0};function dQ(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)uQ.call(e,n)&&!cQ.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var A=Array(o),l=0;l<o;l++)A[l]=arguments[l+2];i.children=A}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Zd,type:t,key:s,ref:a,props:i,_owner:fB.current}}function OH(t,e){return{$$typeof:Zd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hB(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zd}function DH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var dI=/\/+/g;function Lv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DH(""+t.key):e.toString(36)}function dg(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Zd:case EH:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Lv(a,0):n,cI(i)?(r="",t!=null&&(r=t.replace(dI,"$&/")+"/"),dg(i,e,r,"",function(l){return l})):i!=null&&(hB(i)&&(i=OH(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(dI,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",cI(t))for(var o=0;o<t.length;o++){s=t[o];var A=n+Lv(s,o);a+=dg(s,e,r,A,i)}else if(A=kH(t),typeof A=="function")for(t=A.call(t),o=0;!(s=t.next()).done;)s=s.value,A=n+Lv(s,o++),a+=dg(s,e,r,A,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function rh(t,e,r){if(t==null)return t;var n=[],i=0;return dg(t,n,"","",function(s){return e.call(r,s,i++)}),n}function jH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wr={current:null},fg={transition:null},RH={ReactCurrentDispatcher:Wr,ReactCurrentBatchConfig:fg,ReactCurrentOwner:fB};function fQ(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:rh,forEach:function(t,e,r){rh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return rh(t,function(){e++}),e},toArray:function(t){return rh(t,function(e){return e})||[]},only:function(t){if(!hB(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=cu;Oe.Fragment=_H;Oe.Profiler=SH;Oe.PureComponent=cB;Oe.StrictMode=IH;Oe.Suspense=PH;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RH;Oe.act=fQ;Oe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=oQ({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=fB.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(A in e)uQ.call(e,A)&&!cQ.hasOwnProperty(A)&&(n[A]=e[A]===void 0&&o!==void 0?o[A]:e[A])}var A=arguments.length-2;if(A===1)n.children=r;else if(1<A){o=Array(A);for(var l=0;l<A;l++)o[l]=arguments[l+2];n.children=o}return{$$typeof:Zd,type:t.type,key:i,ref:s,props:n,_owner:a}};Oe.createContext=function(t){return t={$$typeof:FH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:TH,_context:t},t.Consumer=t};Oe.createElement=dQ;Oe.createFactory=function(t){var e=dQ.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:UH,render:t}};Oe.isValidElement=hB;Oe.lazy=function(t){return{$$typeof:NH,_payload:{_status:-1,_result:t},_init:jH}};Oe.memo=function(t,e){return{$$typeof:QH,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=fg.transition;fg.transition={};try{t()}finally{fg.transition=e}};Oe.unstable_act=fQ;Oe.useCallback=function(t,e){return Wr.current.useCallback(t,e)};Oe.useContext=function(t){return Wr.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return Wr.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return Wr.current.useEffect(t,e)};Oe.useId=function(){return Wr.current.useId()};Oe.useImperativeHandle=function(t,e,r){return Wr.current.useImperativeHandle(t,e,r)};Oe.useInsertionEffect=function(t,e){return Wr.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return Wr.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return Wr.current.useMemo(t,e)};Oe.useReducer=function(t,e,r){return Wr.current.useReducer(t,e,r)};Oe.useRef=function(t){return Wr.current.useRef(t)};Oe.useState=function(t){return Wr.current.useState(t)};Oe.useSyncExternalStore=function(t,e,r){return Wr.current.useSyncExternalStore(t,e,r)};Oe.useTransition=function(){return Wr.current.useTransition()};Oe.version="18.3.1";sQ.exports=Oe;var x=sQ.exports;const Fm=Mi(x),hQ=CH({__proto__:null,default:Fm},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LH=x,MH=Symbol.for("react.element"),HH=Symbol.for("react.fragment"),VH=Object.prototype.hasOwnProperty,KH=LH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$H={key:!0,ref:!0,__self:!0,__source:!0};function gQ(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)VH.call(e,n)&&!$H.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:MH,type:t,key:s,ref:a,props:i,_owner:KH.current}}Tm.Fragment=HH;Tm.jsx=gQ;Tm.jsxs=gQ;iQ.exports=Tm;var d=iQ.exports,yw={},pQ={exports:{}},Tn={},mQ={exports:{}},vQ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,ne){var ce=Y.length;Y.push(ne);e:for(;0<ce;){var ae=ce-1>>>1,z=Y[ae];if(0<i(z,ne))Y[ae]=ne,Y[ce]=z,ce=ae;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var ne=Y[0],ce=Y.pop();if(ce!==ne){Y[0]=ce;e:for(var ae=0,z=Y.length,ve=z>>>1;ae<ve;){var O=2*(ae+1)-1,R=Y[O],j=O+1,J=Y[j];if(0>i(R,ce))j<z&&0>i(J,R)?(Y[ae]=J,Y[j]=ce,ae=j):(Y[ae]=R,Y[O]=ce,ae=O);else if(j<z&&0>i(J,ce))Y[ae]=J,Y[j]=ce,ae=j;else break e}}return ne}function i(Y,ne){var ce=Y.sortIndex-ne.sortIndex;return ce!==0?ce:Y.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var A=[],l=[],u=1,c=null,f=3,g=!1,m=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(Y){for(var ne=r(l);ne!==null;){if(ne.callback===null)n(l);else if(ne.startTime<=Y)n(l),ne.sortIndex=ne.expirationTime,e(A,ne);else break;ne=r(l)}}function I(Y){if(p=!1,B(Y),!m)if(r(A)!==null)m=!0,ge(T);else{var ne=r(l);ne!==null&&xe(I,ne.startTime-Y)}}function T(Y,ne){m=!1,p&&(p=!1,y(_),_=-1),g=!0;var ce=f;try{for(B(ne),c=r(A);c!==null&&(!(c.expirationTime>ne)||Y&&!N());){var ae=c.callback;if(typeof ae=="function"){c.callback=null,f=c.priorityLevel;var z=ae(c.expirationTime<=ne);ne=t.unstable_now(),typeof z=="function"?c.callback=z:c===r(A)&&n(A),B(ne)}else n(A);c=r(A)}if(c!==null)var ve=!0;else{var O=r(l);O!==null&&xe(I,O.startTime-ne),ve=!1}return ve}finally{c=null,f=ce,g=!1}}var F=!1,C=null,_=-1,S=5,P=-1;function N(){return!(t.unstable_now()-P<S)}function k(){if(C!==null){var Y=t.unstable_now();P=Y;var ne=!0;try{ne=C(!0,Y)}finally{ne?Q():(F=!1,C=null)}}else F=!1}var Q;if(typeof w=="function")Q=function(){w(k)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Ce=se.port2;se.port1.onmessage=k,Q=function(){Ce.postMessage(null)}}else Q=function(){v(k,0)};function ge(Y){C=Y,F||(F=!0,Q())}function xe(Y,ne){_=v(function(){Y(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,ge(T))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(A)},t.unstable_next=function(Y){switch(f){case 1:case 2:case 3:var ne=3;break;default:ne=f}var ce=f;f=ne;try{return Y()}finally{f=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,ne){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ce=f;f=Y;try{return ne()}finally{f=ce}},t.unstable_scheduleCallback=function(Y,ne,ce){var ae=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ae+ce:ae):ce=ae,Y){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ce+z,Y={id:u++,callback:ne,priorityLevel:Y,startTime:ce,expirationTime:z,sortIndex:-1},ce>ae?(Y.sortIndex=ce,e(l,Y),r(A)===null&&Y===r(l)&&(p?(y(_),_=-1):p=!0,xe(I,ce-ae))):(Y.sortIndex=z,e(A,Y),m||g||(m=!0,ge(T))),Y},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(Y){var ne=f;return function(){var ce=f;f=ne;try{return Y.apply(this,arguments)}finally{f=ce}}}})(vQ);mQ.exports=vQ;var GH=mQ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zH=x,Bn=GH;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yQ=new Set,od={};function yA(t,e){Nl(t,e),Nl(t+"Capture",e)}function Nl(t,e){for(od[t]=e,t=0;t<e.length;t++)yQ.add(e[t])}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ww=Object.prototype.hasOwnProperty,WH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fI={},hI={};function XH(t){return ww.call(hI,t)?!0:ww.call(fI,t)?!1:WH.test(t)?hI[t]=!0:(fI[t]=!0,!1)}function YH(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qH(t,e,r,n){if(e===null||typeof e>"u"||YH(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){br[t]=new Xr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];br[e]=new Xr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){br[t]=new Xr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){br[t]=new Xr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){br[t]=new Xr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){br[t]=new Xr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){br[t]=new Xr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){br[t]=new Xr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){br[t]=new Xr(t,5,!1,t.toLowerCase(),null,!1,!1)});var gB=/[\-:]([a-z])/g;function pB(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gB,pB);br[e]=new Xr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gB,pB);br[e]=new Xr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gB,pB);br[e]=new Xr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){br[t]=new Xr(t,1,!1,t.toLowerCase(),null,!1,!1)});br.xlinkHref=new Xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){br[t]=new Xr(t,1,!1,t.toLowerCase(),null,!0,!0)});function mB(t,e,r,n){var i=br.hasOwnProperty(e)?br[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qH(e,r,i,n)&&(r=null),n||i===null?XH(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ps=zH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nh=Symbol.for("react.element"),il=Symbol.for("react.portal"),sl=Symbol.for("react.fragment"),vB=Symbol.for("react.strict_mode"),xw=Symbol.for("react.profiler"),wQ=Symbol.for("react.provider"),xQ=Symbol.for("react.context"),yB=Symbol.for("react.forward_ref"),bw=Symbol.for("react.suspense"),Bw=Symbol.for("react.suspense_list"),wB=Symbol.for("react.memo"),ea=Symbol.for("react.lazy"),bQ=Symbol.for("react.offscreen"),gI=Symbol.iterator;function Gu(t){return t===null||typeof t!="object"?null:(t=gI&&t[gI]||t["@@iterator"],typeof t=="function"?t:null)}var St=Object.assign,Mv;function mc(t){if(Mv===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Mv=e&&e[1]||""}return`
`+Mv+t}var Hv=!1;function Vv(t,e){if(!t||Hv)return"";Hv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var A=`
`+i[a].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=a&&0<=o);break}}}finally{Hv=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?mc(t):""}function JH(t){switch(t.tag){case 5:return mc(t.type);case 16:return mc("Lazy");case 13:return mc("Suspense");case 19:return mc("SuspenseList");case 0:case 2:case 15:return t=Vv(t.type,!1),t;case 11:return t=Vv(t.type.render,!1),t;case 1:return t=Vv(t.type,!0),t;default:return""}}function Cw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sl:return"Fragment";case il:return"Portal";case xw:return"Profiler";case vB:return"StrictMode";case bw:return"Suspense";case Bw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xQ:return(t.displayName||"Context")+".Consumer";case wQ:return(t._context.displayName||"Context")+".Provider";case yB:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wB:return e=t.displayName||null,e!==null?e:Cw(t.type)||"Memo";case ea:e=t._payload,t=t._init;try{return Cw(t(e))}catch{}}return null}function ZH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cw(e);case 8:return e===vB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ja(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function BQ(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eV(t){var e=BQ(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ih(t){t._valueTracker||(t._valueTracker=eV(t))}function CQ(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=BQ(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Mg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ew(t,e){var r=e.checked;return St({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function pI(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ja(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function EQ(t,e){e=e.checked,e!=null&&mB(t,"checked",e,!1)}function _w(t,e){EQ(t,e);var r=ja(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Iw(t,e.type,r):e.hasOwnProperty("defaultValue")&&Iw(t,e.type,ja(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function mI(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Iw(t,e,r){(e!=="number"||Mg(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var vc=Array.isArray;function xl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ja(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return St({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vI(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(te(92));if(vc(r)){if(1<r.length)throw Error(te(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ja(r)}}function _Q(t,e){var r=ja(e.value),n=ja(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function yI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IQ(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IQ(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sh,SQ=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sh=sh||document.createElement("div"),sh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ad(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Oc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tV=["Webkit","ms","Moz","O"];Object.keys(Oc).forEach(function(t){tV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Oc[e]=Oc[t]})});function TQ(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Oc.hasOwnProperty(t)&&Oc[t]?(""+e).trim():e+"px"}function FQ(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=TQ(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var rV=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fw(t,e){if(e){if(rV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function Uw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pw=null;function xB(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qw=null,bl=null,Bl=null;function wI(t){if(t=rf(t)){if(typeof Qw!="function")throw Error(te(280));var e=t.stateNode;e&&(e=km(e),Qw(t.stateNode,t.type,e))}}function UQ(t){bl?Bl?Bl.push(t):Bl=[t]:bl=t}function PQ(){if(bl){var t=bl,e=Bl;if(Bl=bl=null,wI(t),e)for(t=0;t<e.length;t++)wI(e[t])}}function QQ(t,e){return t(e)}function NQ(){}var Kv=!1;function kQ(t,e,r){if(Kv)return t(e,r);Kv=!0;try{return QQ(t,e,r)}finally{Kv=!1,(bl!==null||Bl!==null)&&(NQ(),PQ())}}function ld(t,e){var r=t.stateNode;if(r===null)return null;var n=km(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(te(231,e,typeof r));return r}var Nw=!1;if(ys)try{var zu={};Object.defineProperty(zu,"passive",{get:function(){Nw=!0}}),window.addEventListener("test",zu,zu),window.removeEventListener("test",zu,zu)}catch{Nw=!1}function nV(t,e,r,n,i,s,a,o,A){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var Dc=!1,Hg=null,Vg=!1,kw=null,iV={onError:function(t){Dc=!0,Hg=t}};function sV(t,e,r,n,i,s,a,o,A){Dc=!1,Hg=null,nV.apply(iV,arguments)}function aV(t,e,r,n,i,s,a,o,A){if(sV.apply(this,arguments),Dc){if(Dc){var l=Hg;Dc=!1,Hg=null}else throw Error(te(198));Vg||(Vg=!0,kw=l)}}function wA(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function OQ(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xI(t){if(wA(t)!==t)throw Error(te(188))}function oV(t){var e=t.alternate;if(!e){if(e=wA(t),e===null)throw Error(te(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return xI(i),t;if(s===n)return xI(i),e;s=s.sibling}throw Error(te(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?t:e}function DQ(t){return t=oV(t),t!==null?jQ(t):null}function jQ(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jQ(t);if(e!==null)return e;t=t.sibling}return null}var RQ=Bn.unstable_scheduleCallback,bI=Bn.unstable_cancelCallback,AV=Bn.unstable_shouldYield,lV=Bn.unstable_requestPaint,jt=Bn.unstable_now,uV=Bn.unstable_getCurrentPriorityLevel,bB=Bn.unstable_ImmediatePriority,LQ=Bn.unstable_UserBlockingPriority,Kg=Bn.unstable_NormalPriority,cV=Bn.unstable_LowPriority,MQ=Bn.unstable_IdlePriority,Um=null,Pi=null;function dV(t){if(Pi&&typeof Pi.onCommitFiberRoot=="function")try{Pi.onCommitFiberRoot(Um,t,void 0,(t.current.flags&128)===128)}catch{}}var pi=Math.clz32?Math.clz32:gV,fV=Math.log,hV=Math.LN2;function gV(t){return t>>>=0,t===0?32:31-(fV(t)/hV|0)|0}var ah=64,oh=4194304;function yc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $g(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=yc(o):(s&=a,s!==0&&(n=yc(s)))}else a=r&~i,a!==0?n=yc(a):s!==0&&(n=yc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-pi(e),i=1<<r,n|=t[r],e&=~i;return n}function pV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mV(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-pi(s),o=1<<a,A=i[a];A===-1?(!(o&r)||o&n)&&(i[a]=pV(o,e)):A<=e&&(t.expiredLanes|=o),s&=~o}}function Ow(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function HQ(){var t=ah;return ah<<=1,!(ah&4194240)&&(ah=64),t}function $v(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ef(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pi(e),t[e]=r}function vV(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-pi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function BB(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-pi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var qe=0;function VQ(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var KQ,CB,$Q,GQ,zQ,Dw=!1,Ah=[],va=null,ya=null,wa=null,ud=new Map,cd=new Map,ia=[],yV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BI(t,e){switch(t){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":ud.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cd.delete(e.pointerId)}}function Wu(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=rf(e),e!==null&&CB(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wV(t,e,r,n,i){switch(e){case"focusin":return va=Wu(va,t,e,r,n,i),!0;case"dragenter":return ya=Wu(ya,t,e,r,n,i),!0;case"mouseover":return wa=Wu(wa,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return ud.set(s,Wu(ud.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,cd.set(s,Wu(cd.get(s)||null,t,e,r,n,i)),!0}return!1}function WQ(t){var e=Qo(t.target);if(e!==null){var r=wA(e);if(r!==null){if(e=r.tag,e===13){if(e=OQ(r),e!==null){t.blockedOn=e,zQ(t.priority,function(){$Q(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=jw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Pw=n,r.target.dispatchEvent(n),Pw=null}else return e=rf(r),e!==null&&CB(e),t.blockedOn=r,!1;e.shift()}return!0}function CI(t,e,r){hg(t)&&r.delete(e)}function xV(){Dw=!1,va!==null&&hg(va)&&(va=null),ya!==null&&hg(ya)&&(ya=null),wa!==null&&hg(wa)&&(wa=null),ud.forEach(CI),cd.forEach(CI)}function Xu(t,e){t.blockedOn===e&&(t.blockedOn=null,Dw||(Dw=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,xV)))}function dd(t){function e(i){return Xu(i,t)}if(0<Ah.length){Xu(Ah[0],t);for(var r=1;r<Ah.length;r++){var n=Ah[r];n.blockedOn===t&&(n.blockedOn=null)}}for(va!==null&&Xu(va,t),ya!==null&&Xu(ya,t),wa!==null&&Xu(wa,t),ud.forEach(e),cd.forEach(e),r=0;r<ia.length;r++)n=ia[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ia.length&&(r=ia[0],r.blockedOn===null);)WQ(r),r.blockedOn===null&&ia.shift()}var Cl=Ps.ReactCurrentBatchConfig,Gg=!0;function bV(t,e,r,n){var i=qe,s=Cl.transition;Cl.transition=null;try{qe=1,EB(t,e,r,n)}finally{qe=i,Cl.transition=s}}function BV(t,e,r,n){var i=qe,s=Cl.transition;Cl.transition=null;try{qe=4,EB(t,e,r,n)}finally{qe=i,Cl.transition=s}}function EB(t,e,r,n){if(Gg){var i=jw(t,e,r,n);if(i===null)ty(t,e,n,zg,r),BI(t,n);else if(wV(i,t,e,r,n))n.stopPropagation();else if(BI(t,n),e&4&&-1<yV.indexOf(t)){for(;i!==null;){var s=rf(i);if(s!==null&&KQ(s),s=jw(t,e,r,n),s===null&&ty(t,e,n,zg,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else ty(t,e,n,null,r)}}var zg=null;function jw(t,e,r,n){if(zg=null,t=xB(n),t=Qo(t),t!==null)if(e=wA(t),e===null)t=null;else if(r=e.tag,r===13){if(t=OQ(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zg=t,null}function XQ(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uV()){case bB:return 1;case LQ:return 4;case Kg:case cV:return 16;case MQ:return 536870912;default:return 16}default:return 16}}var la=null,_B=null,gg=null;function YQ(){if(gg)return gg;var t,e=_B,r=e.length,n,i="value"in la?la.value:la.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return gg=i.slice(t,1<n?1-n:void 0)}function pg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lh(){return!0}function EI(){return!1}function Fn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lh:EI,this.isPropagationStopped=EI,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=lh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=lh)},persist:function(){},isPersistent:lh}),e}var du={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},IB=Fn(du),tf=St({},du,{view:0,detail:0}),CV=Fn(tf),Gv,zv,Yu,Pm=St({},tf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:SB,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yu&&(Yu&&t.type==="mousemove"?(Gv=t.screenX-Yu.screenX,zv=t.screenY-Yu.screenY):zv=Gv=0,Yu=t),Gv)},movementY:function(t){return"movementY"in t?t.movementY:zv}}),_I=Fn(Pm),EV=St({},Pm,{dataTransfer:0}),_V=Fn(EV),IV=St({},tf,{relatedTarget:0}),Wv=Fn(IV),SV=St({},du,{animationName:0,elapsedTime:0,pseudoElement:0}),TV=Fn(SV),FV=St({},du,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UV=Fn(FV),PV=St({},du,{data:0}),II=Fn(PV),QV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kV[t])?!!e[t]:!1}function SB(){return OV}var DV=St({},tf,{key:function(t){if(t.key){var e=QV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:SB,charCode:function(t){return t.type==="keypress"?pg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jV=Fn(DV),RV=St({},Pm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SI=Fn(RV),LV=St({},tf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:SB}),MV=Fn(LV),HV=St({},du,{propertyName:0,elapsedTime:0,pseudoElement:0}),VV=Fn(HV),KV=St({},Pm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$V=Fn(KV),GV=[9,13,27,32],TB=ys&&"CompositionEvent"in window,jc=null;ys&&"documentMode"in document&&(jc=document.documentMode);var zV=ys&&"TextEvent"in window&&!jc,qQ=ys&&(!TB||jc&&8<jc&&11>=jc),TI=" ",FI=!1;function JQ(t,e){switch(t){case"keyup":return GV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZQ(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var al=!1;function WV(t,e){switch(t){case"compositionend":return ZQ(e);case"keypress":return e.which!==32?null:(FI=!0,TI);case"textInput":return t=e.data,t===TI&&FI?null:t;default:return null}}function XV(t,e){if(al)return t==="compositionend"||!TB&&JQ(t,e)?(t=YQ(),gg=_B=la=null,al=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qQ&&e.locale!=="ko"?null:e.data;default:return null}}var YV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!YV[t.type]:e==="textarea"}function eN(t,e,r,n){UQ(n),e=Wg(e,"onChange"),0<e.length&&(r=new IB("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Rc=null,fd=null;function qV(t){cN(t,0)}function Qm(t){var e=ll(t);if(CQ(e))return t}function JV(t,e){if(t==="change")return e}var tN=!1;if(ys){var Xv;if(ys){var Yv="oninput"in document;if(!Yv){var PI=document.createElement("div");PI.setAttribute("oninput","return;"),Yv=typeof PI.oninput=="function"}Xv=Yv}else Xv=!1;tN=Xv&&(!document.documentMode||9<document.documentMode)}function QI(){Rc&&(Rc.detachEvent("onpropertychange",rN),fd=Rc=null)}function rN(t){if(t.propertyName==="value"&&Qm(fd)){var e=[];eN(e,fd,t,xB(t)),kQ(qV,e)}}function ZV(t,e,r){t==="focusin"?(QI(),Rc=e,fd=r,Rc.attachEvent("onpropertychange",rN)):t==="focusout"&&QI()}function eK(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qm(fd)}function tK(t,e){if(t==="click")return Qm(e)}function rK(t,e){if(t==="input"||t==="change")return Qm(e)}function nK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vi=typeof Object.is=="function"?Object.is:nK;function hd(t,e){if(vi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ww.call(e,i)||!vi(t[i],e[i]))return!1}return!0}function NI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kI(t,e){var r=NI(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=NI(r)}}function nN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iN(){for(var t=window,e=Mg();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Mg(t.document)}return e}function FB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iK(t){var e=iN(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&nN(r.ownerDocument.documentElement,r)){if(n!==null&&FB(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=kI(r,s);var a=kI(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sK=ys&&"documentMode"in document&&11>=document.documentMode,ol=null,Rw=null,Lc=null,Lw=!1;function OI(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lw||ol==null||ol!==Mg(n)||(n=ol,"selectionStart"in n&&FB(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Lc&&hd(Lc,n)||(Lc=n,n=Wg(Rw,"onSelect"),0<n.length&&(e=new IB("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ol)))}function uh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Al={animationend:uh("Animation","AnimationEnd"),animationiteration:uh("Animation","AnimationIteration"),animationstart:uh("Animation","AnimationStart"),transitionend:uh("Transition","TransitionEnd")},qv={},sN={};ys&&(sN=document.createElement("div").style,"AnimationEvent"in window||(delete Al.animationend.animation,delete Al.animationiteration.animation,delete Al.animationstart.animation),"TransitionEvent"in window||delete Al.transitionend.transition);function Nm(t){if(qv[t])return qv[t];if(!Al[t])return t;var e=Al[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in sN)return qv[t]=e[r];return t}var aN=Nm("animationend"),oN=Nm("animationiteration"),AN=Nm("animationstart"),lN=Nm("transitionend"),uN=new Map,DI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ja(t,e){uN.set(t,e),yA(e,[t])}for(var Jv=0;Jv<DI.length;Jv++){var Zv=DI[Jv],aK=Zv.toLowerCase(),oK=Zv[0].toUpperCase()+Zv.slice(1);Ja(aK,"on"+oK)}Ja(aN,"onAnimationEnd");Ja(oN,"onAnimationIteration");Ja(AN,"onAnimationStart");Ja("dblclick","onDoubleClick");Ja("focusin","onFocus");Ja("focusout","onBlur");Ja(lN,"onTransitionEnd");Nl("onMouseEnter",["mouseout","mouseover"]);Nl("onMouseLeave",["mouseout","mouseover"]);Nl("onPointerEnter",["pointerout","pointerover"]);Nl("onPointerLeave",["pointerout","pointerover"]);yA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yA("onBeforeInput",["compositionend","keypress","textInput","paste"]);yA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AK=new Set("cancel close invalid load scroll toggle".split(" ").concat(wc));function jI(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,aV(n,e,void 0,t),t.currentTarget=null}function cN(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],A=o.instance,l=o.currentTarget;if(o=o.listener,A!==s&&i.isPropagationStopped())break e;jI(i,o,l),s=A}else for(a=0;a<n.length;a++){if(o=n[a],A=o.instance,l=o.currentTarget,o=o.listener,A!==s&&i.isPropagationStopped())break e;jI(i,o,l),s=A}}}if(Vg)throw t=kw,Vg=!1,kw=null,t}function ut(t,e){var r=e[$w];r===void 0&&(r=e[$w]=new Set);var n=t+"__bubble";r.has(n)||(dN(e,t,2,!1),r.add(n))}function ey(t,e,r){var n=0;e&&(n|=4),dN(r,t,n,e)}var ch="_reactListening"+Math.random().toString(36).slice(2);function gd(t){if(!t[ch]){t[ch]=!0,yQ.forEach(function(r){r!=="selectionchange"&&(AK.has(r)||ey(r,!1,t),ey(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ch]||(e[ch]=!0,ey("selectionchange",!1,e))}}function dN(t,e,r,n){switch(XQ(e)){case 1:var i=bV;break;case 4:i=BV;break;default:i=EB}r=i.bind(null,e,r,t),i=void 0,!Nw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function ty(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var A=a.tag;if((A===3||A===4)&&(A=a.stateNode.containerInfo,A===i||A.nodeType===8&&A.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Qo(o),a===null)return;if(A=a.tag,A===5||A===6){n=s=a;continue e}o=o.parentNode}}n=n.return}kQ(function(){var l=s,u=xB(r),c=[];e:{var f=uN.get(t);if(f!==void 0){var g=IB,m=t;switch(t){case"keypress":if(pg(r)===0)break e;case"keydown":case"keyup":g=jV;break;case"focusin":m="focus",g=Wv;break;case"focusout":m="blur",g=Wv;break;case"beforeblur":case"afterblur":g=Wv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=_I;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_V;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=MV;break;case aN:case oN:case AN:g=TV;break;case lN:g=VV;break;case"scroll":g=CV;break;case"wheel":g=$V;break;case"copy":case"cut":case"paste":g=UV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=SI}var p=(e&4)!==0,v=!p&&t==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var w=l,B;w!==null;){B=w;var I=B.stateNode;if(B.tag===5&&I!==null&&(B=I,y!==null&&(I=ld(w,y),I!=null&&p.push(pd(w,I,B)))),v)break;w=w.return}0<p.length&&(f=new g(f,m,null,r,u),c.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==Pw&&(m=r.relatedTarget||r.fromElement)&&(Qo(m)||m[ws]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=l,m=m?Qo(m):null,m!==null&&(v=wA(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=l),g!==m)){if(p=_I,I="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(p=SI,I="onPointerLeave",y="onPointerEnter",w="pointer"),v=g==null?f:ll(g),B=m==null?f:ll(m),f=new p(I,w+"leave",g,r,u),f.target=v,f.relatedTarget=B,I=null,Qo(u)===l&&(p=new p(y,w+"enter",m,r,u),p.target=B,p.relatedTarget=v,I=p),v=I,g&&m)t:{for(p=g,y=m,w=0,B=p;B;B=jA(B))w++;for(B=0,I=y;I;I=jA(I))B++;for(;0<w-B;)p=jA(p),w--;for(;0<B-w;)y=jA(y),B--;for(;w--;){if(p===y||y!==null&&p===y.alternate)break t;p=jA(p),y=jA(y)}p=null}else p=null;g!==null&&RI(c,f,g,p,!1),m!==null&&v!==null&&RI(c,v,m,p,!0)}}e:{if(f=l?ll(l):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var T=JV;else if(UI(f))if(tN)T=rK;else{T=eK;var F=ZV}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=tK);if(T&&(T=T(t,l))){eN(c,T,r,u);break e}F&&F(t,f,l),t==="focusout"&&(F=f._wrapperState)&&F.controlled&&f.type==="number"&&Iw(f,"number",f.value)}switch(F=l?ll(l):window,t){case"focusin":(UI(F)||F.contentEditable==="true")&&(ol=F,Rw=l,Lc=null);break;case"focusout":Lc=Rw=ol=null;break;case"mousedown":Lw=!0;break;case"contextmenu":case"mouseup":case"dragend":Lw=!1,OI(c,r,u);break;case"selectionchange":if(sK)break;case"keydown":case"keyup":OI(c,r,u)}var C;if(TB)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else al?JQ(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(qQ&&r.locale!=="ko"&&(al||_!=="onCompositionStart"?_==="onCompositionEnd"&&al&&(C=YQ()):(la=u,_B="value"in la?la.value:la.textContent,al=!0)),F=Wg(l,_),0<F.length&&(_=new II(_,t,null,r,u),c.push({event:_,listeners:F}),C?_.data=C:(C=ZQ(r),C!==null&&(_.data=C)))),(C=zV?WV(t,r):XV(t,r))&&(l=Wg(l,"onBeforeInput"),0<l.length&&(u=new II("onBeforeInput","beforeinput",null,r,u),c.push({event:u,listeners:l}),u.data=C))}cN(c,e)})}function pd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Wg(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ld(t,r),s!=null&&n.unshift(pd(t,s,i)),s=ld(t,e),s!=null&&n.push(pd(t,s,i))),t=t.return}return n}function jA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function RI(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,A=o.alternate,l=o.stateNode;if(A!==null&&A===n)break;o.tag===5&&l!==null&&(o=l,i?(A=ld(r,s),A!=null&&a.unshift(pd(r,A,o))):i||(A=ld(r,s),A!=null&&a.push(pd(r,A,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var lK=/\r\n?/g,uK=/\u0000|\uFFFD/g;function LI(t){return(typeof t=="string"?t:""+t).replace(lK,`
`).replace(uK,"")}function dh(t,e,r){if(e=LI(e),LI(t)!==e&&r)throw Error(te(425))}function Xg(){}var Mw=null,Hw=null;function Vw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kw=typeof setTimeout=="function"?setTimeout:void 0,cK=typeof clearTimeout=="function"?clearTimeout:void 0,MI=typeof Promise=="function"?Promise:void 0,dK=typeof queueMicrotask=="function"?queueMicrotask:typeof MI<"u"?function(t){return MI.resolve(null).then(t).catch(fK)}:Kw;function fK(t){setTimeout(function(){throw t})}function ry(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),dd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);dd(e)}function xa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function HI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var fu=Math.random().toString(36).slice(2),Si="__reactFiber$"+fu,md="__reactProps$"+fu,ws="__reactContainer$"+fu,$w="__reactEvents$"+fu,hK="__reactListeners$"+fu,gK="__reactHandles$"+fu;function Qo(t){var e=t[Si];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ws]||r[Si]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=HI(t);t!==null;){if(r=t[Si])return r;t=HI(t)}return e}t=r,r=t.parentNode}return null}function rf(t){return t=t[Si]||t[ws],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ll(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function km(t){return t[md]||null}var Gw=[],ul=-1;function Za(t){return{current:t}}function dt(t){0>ul||(t.current=Gw[ul],Gw[ul]=null,ul--)}function At(t,e){ul++,Gw[ul]=t.current,t.current=e}var Ra={},Or=Za(Ra),nn=Za(!1),tA=Ra;function kl(t,e){var r=t.type.contextTypes;if(!r)return Ra;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sn(t){return t=t.childContextTypes,t!=null}function Yg(){dt(nn),dt(Or)}function VI(t,e,r){if(Or.current!==Ra)throw Error(te(168));At(Or,e),At(nn,r)}function fN(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(te(108,ZH(t)||"Unknown",i));return St({},r,n)}function qg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ra,tA=Or.current,At(Or,t),At(nn,nn.current),!0}function KI(t,e,r){var n=t.stateNode;if(!n)throw Error(te(169));r?(t=fN(t,e,tA),n.__reactInternalMemoizedMergedChildContext=t,dt(nn),dt(Or),At(Or,t)):dt(nn),At(nn,r)}var Ji=null,Om=!1,ny=!1;function hN(t){Ji===null?Ji=[t]:Ji.push(t)}function pK(t){Om=!0,hN(t)}function eo(){if(!ny&&Ji!==null){ny=!0;var t=0,e=qe;try{var r=Ji;for(qe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ji=null,Om=!1}catch(i){throw Ji!==null&&(Ji=Ji.slice(t+1)),RQ(bB,eo),i}finally{qe=e,ny=!1}}return null}var cl=[],dl=0,Jg=null,Zg=0,jn=[],Rn=0,rA=null,ss=1,as="";function xo(t,e){cl[dl++]=Zg,cl[dl++]=Jg,Jg=t,Zg=e}function gN(t,e,r){jn[Rn++]=ss,jn[Rn++]=as,jn[Rn++]=rA,rA=t;var n=ss;t=as;var i=32-pi(n)-1;n&=~(1<<i),r+=1;var s=32-pi(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,ss=1<<32-pi(e)+i|r<<i|n,as=s+t}else ss=1<<s|r<<i|n,as=t}function UB(t){t.return!==null&&(xo(t,1),gN(t,1,0))}function PB(t){for(;t===Jg;)Jg=cl[--dl],cl[dl]=null,Zg=cl[--dl],cl[dl]=null;for(;t===rA;)rA=jn[--Rn],jn[Rn]=null,as=jn[--Rn],jn[Rn]=null,ss=jn[--Rn],jn[Rn]=null}var xn=null,vn=null,mt=!1,ci=null;function pN(t,e){var r=Vn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function $I(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xn=t,vn=xa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xn=t,vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=rA!==null?{id:ss,overflow:as}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Vn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,xn=t,vn=null,!0):!1;default:return!1}}function zw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ww(t){if(mt){var e=vn;if(e){var r=e;if(!$I(t,e)){if(zw(t))throw Error(te(418));e=xa(r.nextSibling);var n=xn;e&&$I(t,e)?pN(n,r):(t.flags=t.flags&-4097|2,mt=!1,xn=t)}}else{if(zw(t))throw Error(te(418));t.flags=t.flags&-4097|2,mt=!1,xn=t}}}function GI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xn=t}function fh(t){if(t!==xn)return!1;if(!mt)return GI(t),mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vw(t.type,t.memoizedProps)),e&&(e=vn)){if(zw(t))throw mN(),Error(te(418));for(;e;)pN(t,e),e=xa(e.nextSibling)}if(GI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){vn=xa(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}vn=null}}else vn=xn?xa(t.stateNode.nextSibling):null;return!0}function mN(){for(var t=vn;t;)t=xa(t.nextSibling)}function Ol(){vn=xn=null,mt=!1}function QB(t){ci===null?ci=[t]:ci.push(t)}var mK=Ps.ReactCurrentBatchConfig;function qu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,t))}return t}function hh(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zI(t){var e=t._init;return e(t._payload)}function vN(t){function e(y,w){if(t){var B=y.deletions;B===null?(y.deletions=[w],y.flags|=16):B.push(w)}}function r(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=Ea(y,w),y.index=0,y.sibling=null,y}function s(y,w,B){return y.index=B,t?(B=y.alternate,B!==null?(B=B.index,B<w?(y.flags|=2,w):B):(y.flags|=2,w)):(y.flags|=1048576,w)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,w,B,I){return w===null||w.tag!==6?(w=uy(B,y.mode,I),w.return=y,w):(w=i(w,B),w.return=y,w)}function A(y,w,B,I){var T=B.type;return T===sl?u(y,w,B.props.children,I,B.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ea&&zI(T)===w.type)?(I=i(w,B.props),I.ref=qu(y,w,B),I.return=y,I):(I=Bg(B.type,B.key,B.props,null,y.mode,I),I.ref=qu(y,w,B),I.return=y,I)}function l(y,w,B,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==B.containerInfo||w.stateNode.implementation!==B.implementation?(w=cy(B,y.mode,I),w.return=y,w):(w=i(w,B.children||[]),w.return=y,w)}function u(y,w,B,I,T){return w===null||w.tag!==7?(w=Ko(B,y.mode,I,T),w.return=y,w):(w=i(w,B),w.return=y,w)}function c(y,w,B){if(typeof w=="string"&&w!==""||typeof w=="number")return w=uy(""+w,y.mode,B),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case nh:return B=Bg(w.type,w.key,w.props,null,y.mode,B),B.ref=qu(y,null,w),B.return=y,B;case il:return w=cy(w,y.mode,B),w.return=y,w;case ea:var I=w._init;return c(y,I(w._payload),B)}if(vc(w)||Gu(w))return w=Ko(w,y.mode,B,null),w.return=y,w;hh(y,w)}return null}function f(y,w,B,I){var T=w!==null?w.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return T!==null?null:o(y,w,""+B,I);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case nh:return B.key===T?A(y,w,B,I):null;case il:return B.key===T?l(y,w,B,I):null;case ea:return T=B._init,f(y,w,T(B._payload),I)}if(vc(B)||Gu(B))return T!==null?null:u(y,w,B,I,null);hh(y,B)}return null}function g(y,w,B,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return y=y.get(B)||null,o(w,y,""+I,T);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case nh:return y=y.get(I.key===null?B:I.key)||null,A(w,y,I,T);case il:return y=y.get(I.key===null?B:I.key)||null,l(w,y,I,T);case ea:var F=I._init;return g(y,w,B,F(I._payload),T)}if(vc(I)||Gu(I))return y=y.get(B)||null,u(w,y,I,T,null);hh(w,I)}return null}function m(y,w,B,I){for(var T=null,F=null,C=w,_=w=0,S=null;C!==null&&_<B.length;_++){C.index>_?(S=C,C=null):S=C.sibling;var P=f(y,C,B[_],I);if(P===null){C===null&&(C=S);break}t&&C&&P.alternate===null&&e(y,C),w=s(P,w,_),F===null?T=P:F.sibling=P,F=P,C=S}if(_===B.length)return r(y,C),mt&&xo(y,_),T;if(C===null){for(;_<B.length;_++)C=c(y,B[_],I),C!==null&&(w=s(C,w,_),F===null?T=C:F.sibling=C,F=C);return mt&&xo(y,_),T}for(C=n(y,C);_<B.length;_++)S=g(C,y,_,B[_],I),S!==null&&(t&&S.alternate!==null&&C.delete(S.key===null?_:S.key),w=s(S,w,_),F===null?T=S:F.sibling=S,F=S);return t&&C.forEach(function(N){return e(y,N)}),mt&&xo(y,_),T}function p(y,w,B,I){var T=Gu(B);if(typeof T!="function")throw Error(te(150));if(B=T.call(B),B==null)throw Error(te(151));for(var F=T=null,C=w,_=w=0,S=null,P=B.next();C!==null&&!P.done;_++,P=B.next()){C.index>_?(S=C,C=null):S=C.sibling;var N=f(y,C,P.value,I);if(N===null){C===null&&(C=S);break}t&&C&&N.alternate===null&&e(y,C),w=s(N,w,_),F===null?T=N:F.sibling=N,F=N,C=S}if(P.done)return r(y,C),mt&&xo(y,_),T;if(C===null){for(;!P.done;_++,P=B.next())P=c(y,P.value,I),P!==null&&(w=s(P,w,_),F===null?T=P:F.sibling=P,F=P);return mt&&xo(y,_),T}for(C=n(y,C);!P.done;_++,P=B.next())P=g(C,y,_,P.value,I),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?_:P.key),w=s(P,w,_),F===null?T=P:F.sibling=P,F=P);return t&&C.forEach(function(k){return e(y,k)}),mt&&xo(y,_),T}function v(y,w,B,I){if(typeof B=="object"&&B!==null&&B.type===sl&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case nh:e:{for(var T=B.key,F=w;F!==null;){if(F.key===T){if(T=B.type,T===sl){if(F.tag===7){r(y,F.sibling),w=i(F,B.props.children),w.return=y,y=w;break e}}else if(F.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ea&&zI(T)===F.type){r(y,F.sibling),w=i(F,B.props),w.ref=qu(y,F,B),w.return=y,y=w;break e}r(y,F);break}else e(y,F);F=F.sibling}B.type===sl?(w=Ko(B.props.children,y.mode,I,B.key),w.return=y,y=w):(I=Bg(B.type,B.key,B.props,null,y.mode,I),I.ref=qu(y,w,B),I.return=y,y=I)}return a(y);case il:e:{for(F=B.key;w!==null;){if(w.key===F)if(w.tag===4&&w.stateNode.containerInfo===B.containerInfo&&w.stateNode.implementation===B.implementation){r(y,w.sibling),w=i(w,B.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else e(y,w);w=w.sibling}w=cy(B,y.mode,I),w.return=y,y=w}return a(y);case ea:return F=B._init,v(y,w,F(B._payload),I)}if(vc(B))return m(y,w,B,I);if(Gu(B))return p(y,w,B,I);hh(y,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,w!==null&&w.tag===6?(r(y,w.sibling),w=i(w,B),w.return=y,y=w):(r(y,w),w=uy(B,y.mode,I),w.return=y,y=w),a(y)):r(y,w)}return v}var Dl=vN(!0),yN=vN(!1),ep=Za(null),tp=null,fl=null,NB=null;function kB(){NB=fl=tp=null}function OB(t){var e=ep.current;dt(ep),t._currentValue=e}function Xw(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function El(t,e){tp=t,NB=fl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(NB!==t)if(t={context:t,memoizedValue:e,next:null},fl===null){if(tp===null)throw Error(te(308));fl=t,tp.dependencies={lanes:0,firstContext:t}}else fl=fl.next=t;return e}var No=null;function DB(t){No===null?No=[t]:No.push(t)}function wN(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,DB(e)):(r.next=i.next,i.next=r),e.interleaved=r,xs(t,n)}function xs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ta=!1;function jB(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ba(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,He&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,xs(t,r)}return i=n.interleaved,i===null?(e.next=e,DB(n)):(e.next=i.next,i.next=e),n.interleaved=e,xs(t,r)}function mg(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,BB(t,r)}}function WI(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function rp(t,e,r,n){var i=t.updateQueue;ta=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var A=o,l=A.next;A.next=null,a===null?s=l:a.next=l,a=A;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=A))}if(s!==null){var c=i.baseState;a=0,u=l=A=null,o=s;do{var f=o.lane,g=o.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,p=o;switch(f=e,g=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){c=m.call(g,c,f);break e}c=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,f=typeof m=="function"?m.call(g,c,f):m,f==null)break e;c=St({},c,f);break e;case 2:ta=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else g={eventTime:g,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(l=u=g,A=c):u=u.next=g,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(A=c),i.baseState=A,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);iA|=a,t.lanes=a,t.memoizedState=c}}function XI(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(te(191,i));i.call(n)}}}var nf={},Qi=Za(nf),vd=Za(nf),yd=Za(nf);function ko(t){if(t===nf)throw Error(te(174));return t}function RB(t,e){switch(At(yd,e),At(vd,t),At(Qi,nf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tw(e,t)}dt(Qi),At(Qi,e)}function jl(){dt(Qi),dt(vd),dt(yd)}function bN(t){ko(yd.current);var e=ko(Qi.current),r=Tw(e,t.type);e!==r&&(At(vd,t),At(Qi,r))}function LB(t){vd.current===t&&(dt(Qi),dt(vd))}var Et=Za(0);function np(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var iy=[];function MB(){for(var t=0;t<iy.length;t++)iy[t]._workInProgressVersionPrimary=null;iy.length=0}var vg=Ps.ReactCurrentDispatcher,sy=Ps.ReactCurrentBatchConfig,nA=0,_t=null,zt=null,or=null,ip=!1,Mc=!1,wd=0,vK=0;function _r(){throw Error(te(321))}function HB(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!vi(t[r],e[r]))return!1;return!0}function VB(t,e,r,n,i,s){if(nA=s,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vg.current=t===null||t.memoizedState===null?bK:BK,t=r(n,i),Mc){s=0;do{if(Mc=!1,wd=0,25<=s)throw Error(te(301));s+=1,or=zt=null,e.updateQueue=null,vg.current=CK,t=r(n,i)}while(Mc)}if(vg.current=sp,e=zt!==null&&zt.next!==null,nA=0,or=zt=_t=null,ip=!1,e)throw Error(te(300));return t}function KB(){var t=wd!==0;return wd=0,t}function Ei(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?_t.memoizedState=or=t:or=or.next=t,or}function Zn(){if(zt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=zt.next;var e=or===null?_t.memoizedState:or.next;if(e!==null)or=e,zt=t;else{if(t===null)throw Error(te(310));zt=t,t={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},or===null?_t.memoizedState=or=t:or=or.next=t}return or}function xd(t,e){return typeof e=="function"?e(t):e}function ay(t){var e=Zn(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=zt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,A=null,l=s;do{var u=l.lane;if((nA&u)===u)A!==null&&(A=A.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var c={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};A===null?(o=A=c,a=n):A=A.next=c,_t.lanes|=u,iA|=u}l=l.next}while(l!==null&&l!==s);A===null?a=n:A.next=o,vi(n,e.memoizedState)||(tn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=A,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,_t.lanes|=s,iA|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function oy(t){var e=Zn(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);vi(s,e.memoizedState)||(tn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function BN(){}function CN(t,e){var r=_t,n=Zn(),i=e(),s=!vi(n.memoizedState,i);if(s&&(n.memoizedState=i,tn=!0),n=n.queue,$B(IN.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||or!==null&&or.memoizedState.tag&1){if(r.flags|=2048,bd(9,_N.bind(null,r,n,i,e),void 0,null),lr===null)throw Error(te(349));nA&30||EN(r,e,i)}return i}function EN(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function _N(t,e,r,n){e.value=r,e.getSnapshot=n,SN(e)&&TN(t)}function IN(t,e,r){return r(function(){SN(e)&&TN(t)})}function SN(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!vi(t,r)}catch{return!0}}function TN(t){var e=xs(t,1);e!==null&&mi(e,t,1,-1)}function YI(t){var e=Ei();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xd,lastRenderedState:t},e.queue=t,t=t.dispatch=xK.bind(null,_t,t),[e.memoizedState,t]}function bd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function FN(){return Zn().memoizedState}function yg(t,e,r,n){var i=Ei();_t.flags|=t,i.memoizedState=bd(1|e,r,void 0,n===void 0?null:n)}function Dm(t,e,r,n){var i=Zn();n=n===void 0?null:n;var s=void 0;if(zt!==null){var a=zt.memoizedState;if(s=a.destroy,n!==null&&HB(n,a.deps)){i.memoizedState=bd(e,r,s,n);return}}_t.flags|=t,i.memoizedState=bd(1|e,r,s,n)}function qI(t,e){return yg(8390656,8,t,e)}function $B(t,e){return Dm(2048,8,t,e)}function UN(t,e){return Dm(4,2,t,e)}function PN(t,e){return Dm(4,4,t,e)}function QN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function NN(t,e,r){return r=r!=null?r.concat([t]):null,Dm(4,4,QN.bind(null,e,t),r)}function GB(){}function kN(t,e){var r=Zn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&HB(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function ON(t,e){var r=Zn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&HB(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function DN(t,e,r){return nA&21?(vi(r,e)||(r=HQ(),_t.lanes|=r,iA|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=r)}function yK(t,e){var r=qe;qe=r!==0&&4>r?r:4,t(!0);var n=sy.transition;sy.transition={};try{t(!1),e()}finally{qe=r,sy.transition=n}}function jN(){return Zn().memoizedState}function wK(t,e,r){var n=Ca(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},RN(t))LN(e,r);else if(r=wN(t,e,r,n),r!==null){var i=Vr();mi(r,t,n,i),MN(r,e,n)}}function xK(t,e,r){var n=Ca(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(RN(t))LN(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,vi(o,a)){var A=e.interleaved;A===null?(i.next=i,DB(e)):(i.next=A.next,A.next=i),e.interleaved=i;return}}catch{}finally{}r=wN(t,e,i,n),r!==null&&(i=Vr(),mi(r,t,n,i),MN(r,e,n))}}function RN(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function LN(t,e){Mc=ip=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function MN(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,BB(t,r)}}var sp={readContext:Jn,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useInsertionEffect:_r,useLayoutEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useMutableSource:_r,useSyncExternalStore:_r,useId:_r,unstable_isNewReconciler:!1},bK={readContext:Jn,useCallback:function(t,e){return Ei().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:qI,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,yg(4194308,4,QN.bind(null,e,t),r)},useLayoutEffect:function(t,e){return yg(4194308,4,t,e)},useInsertionEffect:function(t,e){return yg(4,2,t,e)},useMemo:function(t,e){var r=Ei();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ei();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=wK.bind(null,_t,t),[n.memoizedState,t]},useRef:function(t){var e=Ei();return t={current:t},e.memoizedState=t},useState:YI,useDebugValue:GB,useDeferredValue:function(t){return Ei().memoizedState=t},useTransition:function(){var t=YI(!1),e=t[0];return t=yK.bind(null,t[1]),Ei().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=_t,i=Ei();if(mt){if(r===void 0)throw Error(te(407));r=r()}else{if(r=e(),lr===null)throw Error(te(349));nA&30||EN(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,qI(IN.bind(null,n,s,t),[t]),n.flags|=2048,bd(9,_N.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Ei(),e=lr.identifierPrefix;if(mt){var r=as,n=ss;r=(n&~(1<<32-pi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=wd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=vK++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BK={readContext:Jn,useCallback:kN,useContext:Jn,useEffect:$B,useImperativeHandle:NN,useInsertionEffect:UN,useLayoutEffect:PN,useMemo:ON,useReducer:ay,useRef:FN,useState:function(){return ay(xd)},useDebugValue:GB,useDeferredValue:function(t){var e=Zn();return DN(e,zt.memoizedState,t)},useTransition:function(){var t=ay(xd)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:BN,useSyncExternalStore:CN,useId:jN,unstable_isNewReconciler:!1},CK={readContext:Jn,useCallback:kN,useContext:Jn,useEffect:$B,useImperativeHandle:NN,useInsertionEffect:UN,useLayoutEffect:PN,useMemo:ON,useReducer:oy,useRef:FN,useState:function(){return oy(xd)},useDebugValue:GB,useDeferredValue:function(t){var e=Zn();return zt===null?e.memoizedState=t:DN(e,zt.memoizedState,t)},useTransition:function(){var t=oy(xd)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:BN,useSyncExternalStore:CN,useId:jN,unstable_isNewReconciler:!1};function li(t,e){if(t&&t.defaultProps){e=St({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Yw(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:St({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var jm={isMounted:function(t){return(t=t._reactInternals)?wA(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Vr(),i=Ca(t),s=hs(n,i);s.payload=e,r!=null&&(s.callback=r),e=ba(t,s,i),e!==null&&(mi(e,t,i,n),mg(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Vr(),i=Ca(t),s=hs(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=ba(t,s,i),e!==null&&(mi(e,t,i,n),mg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Vr(),n=Ca(t),i=hs(r,n);i.tag=2,e!=null&&(i.callback=e),e=ba(t,i,n),e!==null&&(mi(e,t,n,r),mg(e,t,n))}};function JI(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!hd(r,n)||!hd(i,s):!0}function HN(t,e,r){var n=!1,i=Ra,s=e.contextType;return typeof s=="object"&&s!==null?s=Jn(s):(i=sn(e)?tA:Or.current,n=e.contextTypes,s=(n=n!=null)?kl(t,i):Ra),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jm,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ZI(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&jm.enqueueReplaceState(e,e.state,null)}function qw(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},jB(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Jn(s):(s=sn(e)?tA:Or.current,i.context=kl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yw(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&jm.enqueueReplaceState(i,i.state,null),rp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Rl(t,e){try{var r="",n=e;do r+=JH(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ay(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Jw(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var EK=typeof WeakMap=="function"?WeakMap:Map;function VN(t,e,r){r=hs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){op||(op=!0,Ax=n),Jw(t,e)},r}function KN(t,e,r){r=hs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Jw(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Jw(t,e),typeof n!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function eS(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new EK;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=RK.bind(null,t,e,r),e.then(t,t))}function tS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rS(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=hs(-1,1),e.tag=2,ba(r,e,1))),r.lanes|=1),t)}var _K=Ps.ReactCurrentOwner,tn=!1;function Lr(t,e,r,n){e.child=t===null?yN(e,null,r,n):Dl(e,t.child,r,n)}function nS(t,e,r,n,i){r=r.render;var s=e.ref;return El(e,i),n=VB(t,e,r,n,s,i),r=KB(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bs(t,e,i)):(mt&&r&&UB(e),e.flags|=1,Lr(t,e,n,i),e.child)}function iS(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!eC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,$N(t,e,s,n,i)):(t=Bg(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:hd,r(a,n)&&t.ref===e.ref)return bs(t,e,i)}return e.flags|=1,t=Ea(s,n),t.ref=e.ref,t.return=e,e.child=t}function $N(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(hd(s,n)&&t.ref===e.ref)if(tn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,bs(t,e,i)}return Zw(t,e,r,n,i)}function GN(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(gl,hn),hn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,At(gl,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,At(gl,hn),hn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,At(gl,hn),hn|=n;return Lr(t,e,i,r),e.child}function zN(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Zw(t,e,r,n,i){var s=sn(r)?tA:Or.current;return s=kl(e,s),El(e,i),r=VB(t,e,r,n,s,i),n=KB(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bs(t,e,i)):(mt&&n&&UB(e),e.flags|=1,Lr(t,e,r,i),e.child)}function sS(t,e,r,n,i){if(sn(r)){var s=!0;qg(e)}else s=!1;if(El(e,i),e.stateNode===null)wg(t,e),HN(e,r,n),qw(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var A=a.context,l=r.contextType;typeof l=="object"&&l!==null?l=Jn(l):(l=sn(r)?tA:Or.current,l=kl(e,l));var u=r.getDerivedStateFromProps,c=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||A!==l)&&ZI(e,a,n,l),ta=!1;var f=e.memoizedState;a.state=f,rp(e,n,a,i),A=e.memoizedState,o!==n||f!==A||nn.current||ta?(typeof u=="function"&&(Yw(e,r,u,n),A=e.memoizedState),(o=ta||JI(e,r,o,n,f,A,l))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=A),a.props=n,a.state=A,a.context=l,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,xN(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:li(e.type,o),a.props=l,c=e.pendingProps,f=a.context,A=r.contextType,typeof A=="object"&&A!==null?A=Jn(A):(A=sn(r)?tA:Or.current,A=kl(e,A));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==c||f!==A)&&ZI(e,a,n,A),ta=!1,f=e.memoizedState,a.state=f,rp(e,n,a,i);var m=e.memoizedState;o!==c||f!==m||nn.current||ta?(typeof g=="function"&&(Yw(e,r,g,n),m=e.memoizedState),(l=ta||JI(e,r,l,n,f,m,A)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,A),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,A)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=A,n=l):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return ex(t,e,r,n,s,i)}function ex(t,e,r,n,i,s){zN(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&KI(e,r,!1),bs(t,e,s);n=e.stateNode,_K.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Dl(e,t.child,null,s),e.child=Dl(e,null,o,s)):Lr(t,e,o,s),e.memoizedState=n.state,i&&KI(e,r,!0),e.child}function WN(t){var e=t.stateNode;e.pendingContext?VI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&VI(t,e.context,!1),RB(t,e.containerInfo)}function aS(t,e,r,n,i){return Ol(),QB(i),e.flags|=256,Lr(t,e,r,n),e.child}var tx={dehydrated:null,treeContext:null,retryLane:0};function rx(t){return{baseLanes:t,cachePool:null,transitions:null}}function XN(t,e,r){var n=e.pendingProps,i=Et.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),At(Et,i&1),t===null)return Ww(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Mm(a,n,0,null),t=Ko(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=rx(r),e.memoizedState=tx,t):zB(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return IK(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var A={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=A,e.deletions=null):(n=Ea(i,A),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Ea(o,s):(s=Ko(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?rx(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=tx,n}return s=t.child,t=s.sibling,n=Ea(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function zB(t,e){return e=Mm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gh(t,e,r,n){return n!==null&&QB(n),Dl(e,t.child,null,r),t=zB(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IK(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Ay(Error(te(422))),gh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Mm({mode:"visible",children:n.children},i,0,null),s=Ko(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Dl(e,t.child,null,a),e.child.memoizedState=rx(a),e.memoizedState=tx,s);if(!(e.mode&1))return gh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(te(419)),n=Ay(s,n,void 0),gh(t,e,a,n)}if(o=(a&t.childLanes)!==0,tn||o){if(n=lr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xs(t,i),mi(n,t,i,-1))}return ZB(),n=Ay(Error(te(421))),gh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LK.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,vn=xa(i.nextSibling),xn=e,mt=!0,ci=null,t!==null&&(jn[Rn++]=ss,jn[Rn++]=as,jn[Rn++]=rA,ss=t.id,as=t.overflow,rA=e),e=zB(e,n.children),e.flags|=4096,e)}function oS(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Xw(t.return,e,r)}function ly(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function YN(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Lr(t,e,n.children,r),n=Et.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oS(t,r,e);else if(t.tag===19)oS(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(At(Et,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&np(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ly(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&np(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ly(e,!0,r,null,s);break;case"together":ly(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),iA|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,r=Ea(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ea(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function SK(t,e,r){switch(e.tag){case 3:WN(e),Ol();break;case 5:bN(e);break;case 1:sn(e.type)&&qg(e);break;case 4:RB(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;At(ep,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(At(Et,Et.current&1),e.flags|=128,null):r&e.child.childLanes?XN(t,e,r):(At(Et,Et.current&1),t=bs(t,e,r),t!==null?t.sibling:null);At(Et,Et.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return YN(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),At(Et,Et.current),n)break;return null;case 22:case 23:return e.lanes=0,GN(t,e,r)}return bs(t,e,r)}var qN,nx,JN,ZN;qN=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nx=function(){};JN=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ko(Qi.current);var s=null;switch(r){case"input":i=Ew(t,i),n=Ew(t,n),s=[];break;case"select":i=St({},i,{value:void 0}),n=St({},n,{value:void 0}),s=[];break;case"textarea":i=Sw(t,i),n=Sw(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Xg)}Fw(r,n);var a;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var o=i[l];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(od.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var A=n[l];if(o=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&A!==o&&(A!=null||o!=null))if(l==="style")if(o){for(a in o)!o.hasOwnProperty(a)||A&&A.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in A)A.hasOwnProperty(a)&&o[a]!==A[a]&&(r||(r={}),r[a]=A[a])}else r||(s||(s=[]),s.push(l,r)),r=A;else l==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,o=o?o.__html:void 0,A!=null&&o!==A&&(s=s||[]).push(l,A)):l==="children"?typeof A!="string"&&typeof A!="number"||(s=s||[]).push(l,""+A):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(od.hasOwnProperty(l)?(A!=null&&l==="onScroll"&&ut("scroll",t),s||o===A||(s=[])):(s=s||[]).push(l,A))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};ZN=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ju(t,e){if(!mt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ir(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function TK(t,e,r){var n=e.pendingProps;switch(PB(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(e),null;case 1:return sn(e.type)&&Yg(),Ir(e),null;case 3:return n=e.stateNode,jl(),dt(nn),dt(Or),MB(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(fh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ci!==null&&(cx(ci),ci=null))),nx(t,e),Ir(e),null;case 5:LB(e);var i=ko(yd.current);if(r=e.type,t!==null&&e.stateNode!=null)JN(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(te(166));return Ir(e),null}if(t=ko(Qi.current),fh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Si]=e,n[md]=s,t=(e.mode&1)!==0,r){case"dialog":ut("cancel",n),ut("close",n);break;case"iframe":case"object":case"embed":ut("load",n);break;case"video":case"audio":for(i=0;i<wc.length;i++)ut(wc[i],n);break;case"source":ut("error",n);break;case"img":case"image":case"link":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"input":pI(n,s),ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ut("invalid",n);break;case"textarea":vI(n,s),ut("invalid",n)}Fw(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&dh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&dh(n.textContent,o,t),i=["children",""+o]):od.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ut("scroll",n)}switch(r){case"input":ih(n),mI(n,s,!0);break;case"textarea":ih(n),yI(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Xg)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IQ(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Si]=e,t[md]=n,qN(t,e,!1,!1),e.stateNode=t;e:{switch(a=Uw(r,n),r){case"dialog":ut("cancel",t),ut("close",t),i=n;break;case"iframe":case"object":case"embed":ut("load",t),i=n;break;case"video":case"audio":for(i=0;i<wc.length;i++)ut(wc[i],t);i=n;break;case"source":ut("error",t),i=n;break;case"img":case"image":case"link":ut("error",t),ut("load",t),i=n;break;case"details":ut("toggle",t),i=n;break;case"input":pI(t,n),i=Ew(t,n),ut("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=St({},n,{value:void 0}),ut("invalid",t);break;case"textarea":vI(t,n),i=Sw(t,n),ut("invalid",t);break;default:i=n}Fw(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var A=o[s];s==="style"?FQ(t,A):s==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&SQ(t,A)):s==="children"?typeof A=="string"?(r!=="textarea"||A!=="")&&Ad(t,A):typeof A=="number"&&Ad(t,""+A):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(od.hasOwnProperty(s)?A!=null&&s==="onScroll"&&ut("scroll",t):A!=null&&mB(t,s,A,a))}switch(r){case"input":ih(t),mI(t,n,!1);break;case"textarea":ih(t),yI(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ja(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?xl(t,!!n.multiple,s,!1):n.defaultValue!=null&&xl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ir(e),null;case 6:if(t&&e.stateNode!=null)ZN(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(te(166));if(r=ko(yd.current),ko(Qi.current),fh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Si]=e,(s=n.nodeValue!==r)&&(t=xn,t!==null))switch(t.tag){case 3:dh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Si]=e,e.stateNode=n}return Ir(e),null;case 13:if(dt(Et),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mt&&vn!==null&&e.mode&1&&!(e.flags&128))mN(),Ol(),e.flags|=98560,s=!1;else if(s=fh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(te(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(te(317));s[Si]=e}else Ol(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ir(e),s=!1}else ci!==null&&(cx(ci),ci=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?Xt===0&&(Xt=3):ZB())),e.updateQueue!==null&&(e.flags|=4),Ir(e),null);case 4:return jl(),nx(t,e),t===null&&gd(e.stateNode.containerInfo),Ir(e),null;case 10:return OB(e.type._context),Ir(e),null;case 17:return sn(e.type)&&Yg(),Ir(e),null;case 19:if(dt(Et),s=e.memoizedState,s===null)return Ir(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Ju(s,!1);else{if(Xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=np(t),a!==null){for(e.flags|=128,Ju(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return At(Et,Et.current&1|2),e.child}t=t.sibling}s.tail!==null&&jt()>Ll&&(e.flags|=128,n=!0,Ju(s,!1),e.lanes=4194304)}else{if(!n)if(t=np(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ju(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!mt)return Ir(e),null}else 2*jt()-s.renderingStartTime>Ll&&r!==1073741824&&(e.flags|=128,n=!0,Ju(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=jt(),e.sibling=null,r=Et.current,At(Et,n?r&1|2:r&1),e):(Ir(e),null);case 22:case 23:return JB(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?hn&1073741824&&(Ir(e),e.subtreeFlags&6&&(e.flags|=8192)):Ir(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function FK(t,e){switch(PB(e),e.tag){case 1:return sn(e.type)&&Yg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jl(),dt(nn),dt(Or),MB(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return LB(e),null;case 13:if(dt(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Ol()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(Et),null;case 4:return jl(),null;case 10:return OB(e.type._context),null;case 22:case 23:return JB(),null;case 24:return null;default:return null}}var ph=!1,Qr=!1,UK=typeof WeakSet=="function"?WeakSet:Set,pe=null;function hl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Pt(t,e,n)}else r.current=null}function ix(t,e,r){try{r()}catch(n){Pt(t,e,n)}}var AS=!1;function PK(t,e){if(Mw=Gg,t=iN(),FB(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,A=-1,l=0,u=0,c=t,f=null;t:for(;;){for(var g;c!==r||i!==0&&c.nodeType!==3||(o=a+i),c!==s||n!==0&&c.nodeType!==3||(A=a+n),c.nodeType===3&&(a+=c.nodeValue.length),(g=c.firstChild)!==null;)f=c,c=g;for(;;){if(c===t)break t;if(f===r&&++l===i&&(o=a),f===s&&++u===n&&(A=a),(g=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=g}r=o===-1||A===-1?null:{start:o,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hw={focusedElem:t,selectionRange:r},Gg=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,v=m.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:li(e.type,p),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var B=e.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(I){Pt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return m=AS,AS=!1,m}function Hc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ix(e,r,s)}i=i.next}while(i!==n)}}function Rm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function sx(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ek(t){var e=t.alternate;e!==null&&(t.alternate=null,ek(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Si],delete e[md],delete e[$w],delete e[hK],delete e[gK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tk(t){return t.tag===5||t.tag===3||t.tag===4}function lS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ax(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Xg));else if(n!==4&&(t=t.child,t!==null))for(ax(t,e,r),t=t.sibling;t!==null;)ax(t,e,r),t=t.sibling}function ox(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ox(t,e,r),t=t.sibling;t!==null;)ox(t,e,r),t=t.sibling}var gr=null,ui=!1;function Gs(t,e,r){for(r=r.child;r!==null;)rk(t,e,r),r=r.sibling}function rk(t,e,r){if(Pi&&typeof Pi.onCommitFiberUnmount=="function")try{Pi.onCommitFiberUnmount(Um,r)}catch{}switch(r.tag){case 5:Qr||hl(r,e);case 6:var n=gr,i=ui;gr=null,Gs(t,e,r),gr=n,ui=i,gr!==null&&(ui?(t=gr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):gr.removeChild(r.stateNode));break;case 18:gr!==null&&(ui?(t=gr,r=r.stateNode,t.nodeType===8?ry(t.parentNode,r):t.nodeType===1&&ry(t,r),dd(t)):ry(gr,r.stateNode));break;case 4:n=gr,i=ui,gr=r.stateNode.containerInfo,ui=!0,Gs(t,e,r),gr=n,ui=i;break;case 0:case 11:case 14:case 15:if(!Qr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&ix(r,e,a),i=i.next}while(i!==n)}Gs(t,e,r);break;case 1:if(!Qr&&(hl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Pt(r,e,o)}Gs(t,e,r);break;case 21:Gs(t,e,r);break;case 22:r.mode&1?(Qr=(n=Qr)||r.memoizedState!==null,Gs(t,e,r),Qr=n):Gs(t,e,r);break;default:Gs(t,e,r)}}function uS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new UK),e.forEach(function(n){var i=MK.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ai(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:gr=o.stateNode,ui=!1;break e;case 3:gr=o.stateNode.containerInfo,ui=!0;break e;case 4:gr=o.stateNode.containerInfo,ui=!0;break e}o=o.return}if(gr===null)throw Error(te(160));rk(s,a,i),gr=null,ui=!1;var A=i.alternate;A!==null&&(A.return=null),i.return=null}catch(l){Pt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nk(e,t),e=e.sibling}function nk(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ai(e,t),bi(t),n&4){try{Hc(3,t,t.return),Rm(3,t)}catch(p){Pt(t,t.return,p)}try{Hc(5,t,t.return)}catch(p){Pt(t,t.return,p)}}break;case 1:ai(e,t),bi(t),n&512&&r!==null&&hl(r,r.return);break;case 5:if(ai(e,t),bi(t),n&512&&r!==null&&hl(r,r.return),t.flags&32){var i=t.stateNode;try{Ad(i,"")}catch(p){Pt(t,t.return,p)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&EQ(i,s),Uw(o,a);var l=Uw(o,s);for(a=0;a<A.length;a+=2){var u=A[a],c=A[a+1];u==="style"?FQ(i,c):u==="dangerouslySetInnerHTML"?SQ(i,c):u==="children"?Ad(i,c):mB(i,u,c,l)}switch(o){case"input":_w(i,s);break;case"textarea":_Q(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?xl(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?xl(i,!!s.multiple,s.defaultValue,!0):xl(i,!!s.multiple,s.multiple?[]:"",!1))}i[md]=s}catch(p){Pt(t,t.return,p)}}break;case 6:if(ai(e,t),bi(t),n&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){Pt(t,t.return,p)}}break;case 3:if(ai(e,t),bi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{dd(e.containerInfo)}catch(p){Pt(t,t.return,p)}break;case 4:ai(e,t),bi(t);break;case 13:ai(e,t),bi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(YB=jt())),n&4&&uS(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Qr=(l=Qr)||u,ai(e,t),Qr=l):ai(e,t),bi(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(pe=t,u=t.child;u!==null;){for(c=pe=u;pe!==null;){switch(f=pe,g=f.child,f.tag){case 0:case 11:case 14:case 15:Hc(4,f,f.return);break;case 1:hl(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){Pt(n,r,p)}}break;case 5:hl(f,f.return);break;case 22:if(f.memoizedState!==null){dS(c);continue}}g!==null?(g.return=f,pe=g):dS(c)}u=u.sibling}e:for(u=null,c=t;;){if(c.tag===5){if(u===null){u=c;try{i=c.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=c.stateNode,A=c.memoizedProps.style,a=A!=null&&A.hasOwnProperty("display")?A.display:null,o.style.display=TQ("display",a))}catch(p){Pt(t,t.return,p)}}}else if(c.tag===6){if(u===null)try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(p){Pt(t,t.return,p)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;u===c&&(u=null),c=c.return}u===c&&(u=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:ai(e,t),bi(t),n&4&&uS(t);break;case 21:break;default:ai(e,t),bi(t)}}function bi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(tk(r)){var n=r;break e}r=r.return}throw Error(te(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ad(i,""),n.flags&=-33);var s=lS(t);ox(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=lS(t);ax(t,o,a);break;default:throw Error(te(161))}}catch(A){Pt(t,t.return,A)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QK(t,e,r){pe=t,ik(t)}function ik(t,e,r){for(var n=(t.mode&1)!==0;pe!==null;){var i=pe,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||ph;if(!a){var o=i.alternate,A=o!==null&&o.memoizedState!==null||Qr;o=ph;var l=Qr;if(ph=a,(Qr=A)&&!l)for(pe=i;pe!==null;)a=pe,A=a.child,a.tag===22&&a.memoizedState!==null?fS(i):A!==null?(A.return=a,pe=A):fS(i);for(;s!==null;)pe=s,ik(s),s=s.sibling;pe=i,ph=o,Qr=l}cS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,pe=s):cS(t)}}function cS(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qr||Rm(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Qr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:li(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&XI(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}XI(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var A=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&r.focus();break;case"img":A.src&&(r.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var c=u.dehydrated;c!==null&&dd(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Qr||e.flags&512&&sx(e)}catch(f){Pt(e,e.return,f)}}if(e===t){pe=null;break}if(r=e.sibling,r!==null){r.return=e.return,pe=r;break}pe=e.return}}function dS(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,pe=r;break}pe=e.return}}function fS(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Rm(4,e)}catch(A){Pt(e,r,A)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(A){Pt(e,i,A)}}var s=e.return;try{sx(e)}catch(A){Pt(e,s,A)}break;case 5:var a=e.return;try{sx(e)}catch(A){Pt(e,a,A)}}}catch(A){Pt(e,e.return,A)}if(e===t){pe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,pe=o;break}pe=e.return}}var NK=Math.ceil,ap=Ps.ReactCurrentDispatcher,WB=Ps.ReactCurrentOwner,Xn=Ps.ReactCurrentBatchConfig,He=0,lr=null,Vt=null,xr=0,hn=0,gl=Za(0),Xt=0,Bd=null,iA=0,Lm=0,XB=0,Vc=null,Zr=null,YB=0,Ll=1/0,Xi=null,op=!1,Ax=null,Ba=null,mh=!1,ua=null,Ap=0,Kc=0,lx=null,xg=-1,bg=0;function Vr(){return He&6?jt():xg!==-1?xg:xg=jt()}function Ca(t){return t.mode&1?He&2&&xr!==0?xr&-xr:mK.transition!==null?(bg===0&&(bg=HQ()),bg):(t=qe,t!==0||(t=window.event,t=t===void 0?16:XQ(t.type)),t):1}function mi(t,e,r,n){if(50<Kc)throw Kc=0,lx=null,Error(te(185));ef(t,r,n),(!(He&2)||t!==lr)&&(t===lr&&(!(He&2)&&(Lm|=r),Xt===4&&sa(t,xr)),an(t,n),r===1&&He===0&&!(e.mode&1)&&(Ll=jt()+500,Om&&eo()))}function an(t,e){var r=t.callbackNode;mV(t,e);var n=$g(t,t===lr?xr:0);if(n===0)r!==null&&bI(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&bI(r),e===1)t.tag===0?pK(hS.bind(null,t)):hN(hS.bind(null,t)),dK(function(){!(He&6)&&eo()}),r=null;else{switch(VQ(n)){case 1:r=bB;break;case 4:r=LQ;break;case 16:r=Kg;break;case 536870912:r=MQ;break;default:r=Kg}r=dk(r,sk.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function sk(t,e){if(xg=-1,bg=0,He&6)throw Error(te(327));var r=t.callbackNode;if(_l()&&t.callbackNode!==r)return null;var n=$g(t,t===lr?xr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=lp(t,n);else{e=n;var i=He;He|=2;var s=ok();(lr!==t||xr!==e)&&(Xi=null,Ll=jt()+500,Vo(t,e));do try{DK();break}catch(o){ak(t,o)}while(!0);kB(),ap.current=s,He=i,Vt!==null?e=0:(lr=null,xr=0,e=Xt)}if(e!==0){if(e===2&&(i=Ow(t),i!==0&&(n=i,e=ux(t,i))),e===1)throw r=Bd,Vo(t,0),sa(t,n),an(t,jt()),r;if(e===6)sa(t,n);else{if(i=t.current.alternate,!(n&30)&&!kK(i)&&(e=lp(t,n),e===2&&(s=Ow(t),s!==0&&(n=s,e=ux(t,s))),e===1))throw r=Bd,Vo(t,0),sa(t,n),an(t,jt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(te(345));case 2:bo(t,Zr,Xi);break;case 3:if(sa(t,n),(n&130023424)===n&&(e=YB+500-jt(),10<e)){if($g(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Vr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Kw(bo.bind(null,t,Zr,Xi),e);break}bo(t,Zr,Xi);break;case 4:if(sa(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-pi(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=jt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*NK(n/1960))-n,10<n){t.timeoutHandle=Kw(bo.bind(null,t,Zr,Xi),n);break}bo(t,Zr,Xi);break;case 5:bo(t,Zr,Xi);break;default:throw Error(te(329))}}}return an(t,jt()),t.callbackNode===r?sk.bind(null,t):null}function ux(t,e){var r=Vc;return t.current.memoizedState.isDehydrated&&(Vo(t,e).flags|=256),t=lp(t,e),t!==2&&(e=Zr,Zr=r,e!==null&&cx(e)),t}function cx(t){Zr===null?Zr=t:Zr.push.apply(Zr,t)}function kK(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!vi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sa(t,e){for(e&=~XB,e&=~Lm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-pi(e),n=1<<r;t[r]=-1,e&=~n}}function hS(t){if(He&6)throw Error(te(327));_l();var e=$g(t,0);if(!(e&1))return an(t,jt()),null;var r=lp(t,e);if(t.tag!==0&&r===2){var n=Ow(t);n!==0&&(e=n,r=ux(t,n))}if(r===1)throw r=Bd,Vo(t,0),sa(t,e),an(t,jt()),r;if(r===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bo(t,Zr,Xi),an(t,jt()),null}function qB(t,e){var r=He;He|=1;try{return t(e)}finally{He=r,He===0&&(Ll=jt()+500,Om&&eo())}}function sA(t){ua!==null&&ua.tag===0&&!(He&6)&&_l();var e=He;He|=1;var r=Xn.transition,n=qe;try{if(Xn.transition=null,qe=1,t)return t()}finally{qe=n,Xn.transition=r,He=e,!(He&6)&&eo()}}function JB(){hn=gl.current,dt(gl)}function Vo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,cK(r)),Vt!==null)for(r=Vt.return;r!==null;){var n=r;switch(PB(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Yg();break;case 3:jl(),dt(nn),dt(Or),MB();break;case 5:LB(n);break;case 4:jl();break;case 13:dt(Et);break;case 19:dt(Et);break;case 10:OB(n.type._context);break;case 22:case 23:JB()}r=r.return}if(lr=t,Vt=t=Ea(t.current,null),xr=hn=e,Xt=0,Bd=null,XB=Lm=iA=0,Zr=Vc=null,No!==null){for(e=0;e<No.length;e++)if(r=No[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}No=null}return t}function ak(t,e){do{var r=Vt;try{if(kB(),vg.current=sp,ip){for(var n=_t.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ip=!1}if(nA=0,or=zt=_t=null,Mc=!1,wd=0,WB.current=null,r===null||r.return===null){Xt=1,Bd=e,Vt=null;break}e:{var s=t,a=r.return,o=r,A=e;if(e=xr,o.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var l=A,u=o,c=u.tag;if(!(u.mode&1)&&(c===0||c===11||c===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=tS(a);if(g!==null){g.flags&=-257,rS(g,a,o,s,e),g.mode&1&&eS(s,l,e),e=g,A=l;var m=e.updateQueue;if(m===null){var p=new Set;p.add(A),e.updateQueue=p}else m.add(A);break e}else{if(!(e&1)){eS(s,l,e),ZB();break e}A=Error(te(426))}}else if(mt&&o.mode&1){var v=tS(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),rS(v,a,o,s,e),QB(Rl(A,o));break e}}s=A=Rl(A,o),Xt!==4&&(Xt=2),Vc===null?Vc=[s]:Vc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=VN(s,A,e);WI(s,y);break e;case 1:o=A;var w=s.type,B=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Ba===null||!Ba.has(B)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=KN(s,o,e);WI(s,I);break e}}s=s.return}while(s!==null)}lk(r)}catch(T){e=T,Vt===r&&r!==null&&(Vt=r=r.return);continue}break}while(!0)}function ok(){var t=ap.current;return ap.current=sp,t===null?sp:t}function ZB(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),lr===null||!(iA&268435455)&&!(Lm&268435455)||sa(lr,xr)}function lp(t,e){var r=He;He|=2;var n=ok();(lr!==t||xr!==e)&&(Xi=null,Vo(t,e));do try{OK();break}catch(i){ak(t,i)}while(!0);if(kB(),He=r,ap.current=n,Vt!==null)throw Error(te(261));return lr=null,xr=0,Xt}function OK(){for(;Vt!==null;)Ak(Vt)}function DK(){for(;Vt!==null&&!AV();)Ak(Vt)}function Ak(t){var e=ck(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?lk(t):Vt=e,WB.current=null}function lk(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=FK(r,e),r!==null){r.flags&=32767,Vt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xt=6,Vt=null;return}}else if(r=TK(r,e,hn),r!==null){Vt=r;return}if(e=e.sibling,e!==null){Vt=e;return}Vt=e=t}while(e!==null);Xt===0&&(Xt=5)}function bo(t,e,r){var n=qe,i=Xn.transition;try{Xn.transition=null,qe=1,jK(t,e,r,n)}finally{Xn.transition=i,qe=n}return null}function jK(t,e,r,n){do _l();while(ua!==null);if(He&6)throw Error(te(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(vV(t,s),t===lr&&(Vt=lr=null,xr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||mh||(mh=!0,dk(Kg,function(){return _l(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Xn.transition,Xn.transition=null;var a=qe;qe=1;var o=He;He|=4,WB.current=null,PK(t,r),nk(r,t),iK(Hw),Gg=!!Mw,Hw=Mw=null,t.current=r,QK(r),lV(),He=o,qe=a,Xn.transition=s}else t.current=r;if(mh&&(mh=!1,ua=t,Ap=i),s=t.pendingLanes,s===0&&(Ba=null),dV(r.stateNode),an(t,jt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(op)throw op=!1,t=Ax,Ax=null,t;return Ap&1&&t.tag!==0&&_l(),s=t.pendingLanes,s&1?t===lx?Kc++:(Kc=0,lx=t):Kc=0,eo(),null}function _l(){if(ua!==null){var t=VQ(Ap),e=Xn.transition,r=qe;try{if(Xn.transition=null,qe=16>t?16:t,ua===null)var n=!1;else{if(t=ua,ua=null,Ap=0,He&6)throw Error(te(331));var i=He;for(He|=4,pe=t.current;pe!==null;){var s=pe,a=s.child;if(pe.flags&16){var o=s.deletions;if(o!==null){for(var A=0;A<o.length;A++){var l=o[A];for(pe=l;pe!==null;){var u=pe;switch(u.tag){case 0:case 11:case 15:Hc(8,u,s)}var c=u.child;if(c!==null)c.return=u,pe=c;else for(;pe!==null;){u=pe;var f=u.sibling,g=u.return;if(ek(u),u===l){pe=null;break}if(f!==null){f.return=g,pe=f;break}pe=g}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}pe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,pe=a;else e:for(;pe!==null;){if(s=pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hc(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,pe=y;break e}pe=s.return}}var w=t.current;for(pe=w;pe!==null;){a=pe;var B=a.child;if(a.subtreeFlags&2064&&B!==null)B.return=a,pe=B;else e:for(a=w;pe!==null;){if(o=pe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Rm(9,o)}}catch(T){Pt(o,o.return,T)}if(o===a){pe=null;break e}var I=o.sibling;if(I!==null){I.return=o.return,pe=I;break e}pe=o.return}}if(He=i,eo(),Pi&&typeof Pi.onPostCommitFiberRoot=="function")try{Pi.onPostCommitFiberRoot(Um,t)}catch{}n=!0}return n}finally{qe=r,Xn.transition=e}}return!1}function gS(t,e,r){e=Rl(r,e),e=VN(t,e,1),t=ba(t,e,1),e=Vr(),t!==null&&(ef(t,1,e),an(t,e))}function Pt(t,e,r){if(t.tag===3)gS(t,t,r);else for(;e!==null;){if(e.tag===3){gS(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ba===null||!Ba.has(n))){t=Rl(r,t),t=KN(e,t,1),e=ba(e,t,1),t=Vr(),e!==null&&(ef(e,1,t),an(e,t));break}}e=e.return}}function RK(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Vr(),t.pingedLanes|=t.suspendedLanes&r,lr===t&&(xr&r)===r&&(Xt===4||Xt===3&&(xr&130023424)===xr&&500>jt()-YB?Vo(t,0):XB|=r),an(t,e)}function uk(t,e){e===0&&(t.mode&1?(e=oh,oh<<=1,!(oh&130023424)&&(oh=4194304)):e=1);var r=Vr();t=xs(t,e),t!==null&&(ef(t,e,r),an(t,r))}function LK(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),uk(t,r)}function MK(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(te(314))}n!==null&&n.delete(e),uk(t,r)}var ck;ck=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)tn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return tn=!1,SK(t,e,r);tn=!!(t.flags&131072)}else tn=!1,mt&&e.flags&1048576&&gN(e,Zg,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;wg(t,e),t=e.pendingProps;var i=kl(e,Or.current);El(e,r),i=VB(null,e,n,t,i,r);var s=KB();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(n)?(s=!0,qg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jB(e),i.updater=jm,e.stateNode=i,i._reactInternals=e,qw(e,n,t,r),e=ex(null,e,n,!0,s,r)):(e.tag=0,mt&&s&&UB(e),Lr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(wg(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=VK(n),t=li(n,t),i){case 0:e=Zw(null,e,n,t,r);break e;case 1:e=sS(null,e,n,t,r);break e;case 11:e=nS(null,e,n,t,r);break e;case 14:e=iS(null,e,n,li(n.type,t),r);break e}throw Error(te(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:li(n,i),Zw(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:li(n,i),sS(t,e,n,i,r);case 3:e:{if(WN(e),t===null)throw Error(te(387));n=e.pendingProps,s=e.memoizedState,i=s.element,xN(t,e),rp(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Rl(Error(te(423)),e),e=aS(t,e,n,r,i);break e}else if(n!==i){i=Rl(Error(te(424)),e),e=aS(t,e,n,r,i);break e}else for(vn=xa(e.stateNode.containerInfo.firstChild),xn=e,mt=!0,ci=null,r=yN(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ol(),n===i){e=bs(t,e,r);break e}Lr(t,e,n,r)}e=e.child}return e;case 5:return bN(e),t===null&&Ww(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Vw(n,i)?a=null:s!==null&&Vw(n,s)&&(e.flags|=32),zN(t,e),Lr(t,e,a,r),e.child;case 6:return t===null&&Ww(e),null;case 13:return XN(t,e,r);case 4:return RB(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Dl(e,null,n,r):Lr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:li(n,i),nS(t,e,n,i,r);case 7:return Lr(t,e,e.pendingProps,r),e.child;case 8:return Lr(t,e,e.pendingProps.children,r),e.child;case 12:return Lr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,At(ep,n._currentValue),n._currentValue=a,s!==null)if(vi(s.value,a)){if(s.children===i.children&&!nn.current){e=bs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var A=o.firstContext;A!==null;){if(A.context===n){if(s.tag===1){A=hs(-1,r&-r),A.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?A.next=A:(A.next=u.next,u.next=A),l.pending=A}}s.lanes|=r,A=s.alternate,A!==null&&(A.lanes|=r),Xw(s.return,r,e),o.lanes|=r;break}A=A.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(te(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Xw(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Lr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,El(e,r),i=Jn(i),n=n(i),e.flags|=1,Lr(t,e,n,r),e.child;case 14:return n=e.type,i=li(n,e.pendingProps),i=li(n.type,i),iS(t,e,n,i,r);case 15:return $N(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:li(n,i),wg(t,e),e.tag=1,sn(n)?(t=!0,qg(e)):t=!1,El(e,r),HN(e,n,i),qw(e,n,i,r),ex(null,e,n,!0,t,r);case 19:return YN(t,e,r);case 22:return GN(t,e,r)}throw Error(te(156,e.tag))};function dk(t,e){return RQ(t,e)}function HK(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,r,n){return new HK(t,e,r,n)}function eC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VK(t){if(typeof t=="function")return eC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yB)return 11;if(t===wB)return 14}return 2}function Ea(t,e){var r=t.alternate;return r===null?(r=Vn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Bg(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")eC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case sl:return Ko(r.children,i,s,e);case vB:a=8,i|=8;break;case xw:return t=Vn(12,r,e,i|2),t.elementType=xw,t.lanes=s,t;case bw:return t=Vn(13,r,e,i),t.elementType=bw,t.lanes=s,t;case Bw:return t=Vn(19,r,e,i),t.elementType=Bw,t.lanes=s,t;case bQ:return Mm(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wQ:a=10;break e;case xQ:a=9;break e;case yB:a=11;break e;case wB:a=14;break e;case ea:a=16,n=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=Vn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ko(t,e,r,n){return t=Vn(7,t,n,e),t.lanes=r,t}function Mm(t,e,r,n){return t=Vn(22,t,n,e),t.elementType=bQ,t.lanes=r,t.stateNode={isHidden:!1},t}function uy(t,e,r){return t=Vn(6,t,null,e),t.lanes=r,t}function cy(t,e,r){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function KK(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$v(0),this.expirationTimes=$v(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$v(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tC(t,e,r,n,i,s,a,o,A){return t=new KK(t,e,r,o,A),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jB(s),t}function $K(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:il,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function fk(t){if(!t)return Ra;t=t._reactInternals;e:{if(wA(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var r=t.type;if(sn(r))return fN(t,r,e)}return e}function hk(t,e,r,n,i,s,a,o,A){return t=tC(r,n,!0,t,i,s,a,o,A),t.context=fk(null),r=t.current,n=Vr(),i=Ca(r),s=hs(n,i),s.callback=e??null,ba(r,s,i),t.current.lanes=i,ef(t,i,n),an(t,n),t}function Hm(t,e,r,n){var i=e.current,s=Vr(),a=Ca(i);return r=fk(r),e.context===null?e.context=r:e.pendingContext=r,e=hs(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ba(i,e,a),t!==null&&(mi(t,i,a,s),mg(t,i,a)),a}function up(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function rC(t,e){pS(t,e),(t=t.alternate)&&pS(t,e)}var gk=typeof reportError=="function"?reportError:function(t){console.error(t)};function nC(t){this._internalRoot=t}Vm.prototype.render=nC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));Hm(t,e,null,null)};Vm.prototype.unmount=nC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sA(function(){Hm(null,t,null,null)}),e[ws]=null}};function Vm(t){this._internalRoot=t}Vm.prototype.unstable_scheduleHydration=function(t){if(t){var e=GQ();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ia.length&&e!==0&&e<ia[r].priority;r++);ia.splice(r,0,t),r===0&&WQ(t)}};function iC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Km(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mS(){}function GK(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=up(a);s.call(l)}}var a=hk(e,n,t,0,null,!1,!1,"",mS);return t._reactRootContainer=a,t[ws]=a.current,gd(t.nodeType===8?t.parentNode:t),sA(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var l=up(A);o.call(l)}}var A=tC(t,0,!1,null,null,!1,!1,"",mS);return t._reactRootContainer=A,t[ws]=A.current,gd(t.nodeType===8?t.parentNode:t),sA(function(){Hm(e,A,r,n)}),A}function $m(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var A=up(a);o.call(A)}}Hm(e,a,t,i)}else a=GK(r,e,t,i,n);return up(a)}KQ=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=yc(e.pendingLanes);r!==0&&(BB(e,r|1),an(e,jt()),!(He&6)&&(Ll=jt()+500,eo()))}break;case 13:sA(function(){var n=xs(t,1);if(n!==null){var i=Vr();mi(n,t,1,i)}}),rC(t,1)}};CB=function(t){if(t.tag===13){var e=xs(t,134217728);if(e!==null){var r=Vr();mi(e,t,134217728,r)}rC(t,134217728)}};$Q=function(t){if(t.tag===13){var e=Ca(t),r=xs(t,e);if(r!==null){var n=Vr();mi(r,t,e,n)}rC(t,e)}};GQ=function(){return qe};zQ=function(t,e){var r=qe;try{return qe=t,e()}finally{qe=r}};Qw=function(t,e,r){switch(e){case"input":if(_w(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=km(n);if(!i)throw Error(te(90));CQ(n),_w(n,i)}}}break;case"textarea":_Q(t,r);break;case"select":e=r.value,e!=null&&xl(t,!!r.multiple,e,!1)}};QQ=qB;NQ=sA;var zK={usingClientEntryPoint:!1,Events:[rf,ll,km,UQ,PQ,qB]},Zu={findFiberByHostInstance:Qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WK={bundleType:Zu.bundleType,version:Zu.version,rendererPackageName:Zu.rendererPackageName,rendererConfig:Zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=DQ(t),t===null?null:t.stateNode},findFiberByHostInstance:Zu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{Um=vh.inject(WK),Pi=vh}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zK;Tn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iC(e))throw Error(te(200));return $K(t,e,null,r)};Tn.createRoot=function(t,e){if(!iC(t))throw Error(te(299));var r=!1,n="",i=gk;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=tC(t,1,!1,null,null,r,!1,n,i),t[ws]=e.current,gd(t.nodeType===8?t.parentNode:t),new nC(e)};Tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=DQ(e),t=t===null?null:t.stateNode,t};Tn.flushSync=function(t){return sA(t)};Tn.hydrate=function(t,e,r){if(!Km(e))throw Error(te(200));return $m(null,t,e,!0,r)};Tn.hydrateRoot=function(t,e,r){if(!iC(t))throw Error(te(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=gk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=hk(e,null,t,1,r??null,i,!1,s,a),t[ws]=e.current,gd(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Vm(e)};Tn.render=function(t,e,r){if(!Km(e))throw Error(te(200));return $m(null,t,e,!1,r)};Tn.unmountComponentAtNode=function(t){if(!Km(t))throw Error(te(40));return t._reactRootContainer?(sA(function(){$m(null,null,t,!1,function(){t._reactRootContainer=null,t[ws]=null})}),!0):!1};Tn.unstable_batchedUpdates=qB;Tn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Km(r))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return $m(t,e,r,!1,n)};Tn.version="18.3.1-next-f1338f8080-20240426";function pk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pk)}catch(t){console.error(t)}}pk(),pQ.exports=Tn;var sC=pQ.exports,vS=sC;yw.createRoot=vS.createRoot,yw.hydrateRoot=vS.hydrateRoot;const XK="modulepreload",YK=function(t){return"/Brainless/"+t},yS={},$o=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(A=>{if(A=YK(A),A in yS)return;yS[A]=!0;const l=A.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${u}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":XK,l||(c.as="script"),c.crossOrigin="",c.href=A,o&&c.setAttribute("nonce",o),document.head.appendChild(c),l)return new Promise((f,g)=>{c.addEventListener("load",f),c.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${A}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cd(){return Cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cd.apply(this,arguments)}var ca;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ca||(ca={}));const wS="popstate";function qK(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:o="",hash:A=""}=xA(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),dx("",{pathname:a,search:o,hash:A},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let A=i.location.href,l=A.indexOf("#");o=l===-1?A:A.slice(0,l)}return o+"#"+(typeof s=="string"?s:cp(s))}function n(i,s){aC(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return ZK(e,r,n,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function aC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JK(){return Math.random().toString(36).substr(2,8)}function xS(t,e){return{usr:t.state,key:t.key,idx:e}}function dx(t,e,r,n){return r===void 0&&(r=null),Cd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xA(e):e,{state:r,key:e&&e.key||n||JK()})}function cp(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function xA(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function ZK(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=ca.Pop,A=null,l=u();l==null&&(l=0,a.replaceState(Cd({},a.state,{idx:l}),""));function u(){return(a.state||{idx:null}).idx}function c(){o=ca.Pop;let v=u(),y=v==null?null:v-l;l=v,A&&A({action:o,location:p.location,delta:y})}function f(v,y){o=ca.Push;let w=dx(p.location,v,y);r(w,v),l=u()+1;let B=xS(w,l),I=p.createHref(w);try{a.pushState(B,"",I)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(I)}s&&A&&A({action:o,location:p.location,delta:1})}function g(v,y){o=ca.Replace;let w=dx(p.location,v,y);r(w,v),l=u();let B=xS(w,l),I=p.createHref(w);a.replaceState(B,"",I),s&&A&&A({action:o,location:p.location,delta:0})}function m(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:cp(v);return w=w.replace(/ $/,"%20"),It(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let p={get action(){return o},get location(){return t(i,a)},listen(v){if(A)throw new Error("A history only accepts one active listener");return i.addEventListener(wS,c),A=v,()=>{i.removeEventListener(wS,c),A=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(v){return a.go(v)}};return p}var bS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bS||(bS={}));function e6(t,e,r){return r===void 0&&(r="/"),t6(t,e,r)}function t6(t,e,r,n){let i=typeof e=="string"?xA(e):e,s=Ml(i.pathname||"/",r);if(s==null)return null;let a=mk(t);r6(a);let o=null;for(let A=0;o==null&&A<a.length;++A){let l=f6(s);o=c6(a[A],l)}return o}function mk(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let A={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};A.relativePath.startsWith("/")&&(It(A.relativePath.startsWith(n),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(n.length));let l=_a([n,A.relativePath]),u=r.concat(A);s.children&&s.children.length>0&&(It(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),mk(s.children,e,u,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:l6(l,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let A of vk(s.path))i(s,a,A)}),e}function vk(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=vk(n.join("/")),o=[];return o.push(...a.map(A=>A===""?s:[s,A].join("/"))),i&&o.push(...a),o.map(A=>t.startsWith("/")&&A===""?"/":A)}function r6(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:u6(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const n6=/^:[\w-]+$/,i6=3,s6=2,a6=1,o6=10,A6=-2,BS=t=>t==="*";function l6(t,e){let r=t.split("/"),n=r.length;return r.some(BS)&&(n+=A6),e&&(n+=s6),r.filter(i=>!BS(i)).reduce((i,s)=>i+(n6.test(s)?i6:s===""?a6:o6),n)}function u6(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function c6(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let A=n[o],l=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",c=fx({path:A.relativePath,caseSensitive:A.caseSensitive,end:l},u),f=A.route;if(!c)return null;Object.assign(i,c.params),a.push({params:i,pathname:_a([s,c.pathname]),pathnameBase:m6(_a([s,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(s=_a([s,c.pathnameBase]))}return a}function fx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=d6(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((l,u,c)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let p=o[c]||"";a=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const m=o[c];return g&&!m?l[f]=void 0:l[f]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:a,pattern:t}}function d6(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),aC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,A)=>(n.push({paramName:o,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function f6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return aC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ml(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function h6(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?xA(t):t;return{pathname:r?r.startsWith("/")?r:g6(r,e):e,search:v6(n),hash:y6(i)}}function g6(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function dy(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p6(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function oC(t,e){let r=p6(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function AC(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=xA(t):(i=Cd({},t),It(!i.pathname||!i.pathname.includes("?"),dy("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),dy("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),dy("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let c=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),c-=1;i.pathname=f.join("/")}o=c>=0?e[c]:"/"}let A=h6(i,o),l=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&r.endsWith("/");return!A.pathname.endsWith("/")&&(l||u)&&(A.pathname+="/"),A}const _a=t=>t.join("/").replace(/\/\/+/g,"/"),m6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),v6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function w6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yk=["post","put","patch","delete"];new Set(yk);const x6=["get",...yk];new Set(x6);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ed(){return Ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ed.apply(this,arguments)}const Gm=x.createContext(null),wk=x.createContext(null),Qs=x.createContext(null),zm=x.createContext(null),to=x.createContext({outlet:null,matches:[],isDataRoute:!1}),xk=x.createContext(null);function b6(t,e){let{relative:r}=e===void 0?{}:e;hu()||It(!1);let{basename:n,navigator:i}=x.useContext(Qs),{hash:s,pathname:a,search:o}=Wm(t,{relative:r}),A=a;return n!=="/"&&(A=a==="/"?n:_a([n,a])),i.createHref({pathname:A,search:o,hash:s})}function hu(){return x.useContext(zm)!=null}function gu(){return hu()||It(!1),x.useContext(zm).location}function bk(t){x.useContext(Qs).static||x.useLayoutEffect(t)}function Bk(){let{isDataRoute:t}=x.useContext(to);return t?k6():B6()}function B6(){hu()||It(!1);let t=x.useContext(Gm),{basename:e,future:r,navigator:n}=x.useContext(Qs),{matches:i}=x.useContext(to),{pathname:s}=gu(),a=JSON.stringify(oC(i,r.v7_relativeSplatPath)),o=x.useRef(!1);return bk(()=>{o.current=!0}),x.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=AC(l,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:_a([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,a,s,t])}function Wm(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=x.useContext(Qs),{matches:i}=x.useContext(to),{pathname:s}=gu(),a=JSON.stringify(oC(i,n.v7_relativeSplatPath));return x.useMemo(()=>AC(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function C6(t,e){return E6(t,e)}function E6(t,e,r,n){hu()||It(!1);let{navigator:i}=x.useContext(Qs),{matches:s}=x.useContext(to),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let A=a?a.pathnameBase:"/";a&&a.route;let l=gu(),u;if(e){var c;let v=typeof e=="string"?xA(e):e;A==="/"||(c=v.pathname)!=null&&c.startsWith(A)||It(!1),u=v}else u=l;let f=u.pathname||"/",g=f;if(A!=="/"){let v=A.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=e6(t,{pathname:g}),p=F6(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:_a([A,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?A:_a([A,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return e&&p?x.createElement(zm.Provider,{value:{location:Ed({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ca.Pop}},p):p}function _6(){let t=N6(),e=w6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),r?x.createElement("pre",{style:i},r):null,null)}const I6=x.createElement(_6,null);class S6 extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?x.createElement(to.Provider,{value:this.props.routeContext},x.createElement(xk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T6(t){let{routeContext:e,match:r,children:n}=t,i=x.useContext(Gm);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(to.Provider,{value:e},n)}function F6(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);u>=0||It(!1),a=a.slice(0,Math.min(a.length,u+1))}let A=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let c=a[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:f,errors:g}=r,m=c.route.loader&&f[c.route.id]===void 0&&(!g||g[c.route.id]===void 0);if(c.route.lazy||m){A=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((u,c,f)=>{let g,m=!1,p=null,v=null;r&&(g=o&&c.route.id?o[c.route.id]:void 0,p=c.route.errorElement||I6,A&&(l<0&&f===0?(m=!0,v=null):l===f&&(m=!0,v=c.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,f+1)),w=()=>{let B;return g?B=p:m?B=v:c.route.Component?B=x.createElement(c.route.Component,null):c.route.element?B=c.route.element:B=u,x.createElement(T6,{match:c,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:B})};return r&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?x.createElement(S6,{location:r.location,revalidation:r.revalidation,component:p,error:g,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var Ck=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ck||{}),dp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dp||{});function U6(t){let e=x.useContext(Gm);return e||It(!1),e}function P6(t){let e=x.useContext(wk);return e||It(!1),e}function Q6(t){let e=x.useContext(to);return e||It(!1),e}function Ek(t){let e=Q6(),r=e.matches[e.matches.length-1];return r.route.id||It(!1),r.route.id}function N6(){var t;let e=x.useContext(xk),r=P6(dp.UseRouteError),n=Ek(dp.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function k6(){let{router:t}=U6(Ck.UseNavigateStable),e=Ek(dp.UseNavigateStable),r=x.useRef(!1);return bk(()=>{r.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ed({fromRouteId:e},s)))},[t,e])}const CS={};function O6(t,e){CS[e]||(CS[e]=!0,console.warn(e))}const ES=(t,e,r)=>O6(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function D6(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&ES("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&ES("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function j6(t){let{to:e,replace:r,state:n,relative:i}=t;hu()||It(!1);let{future:s,static:a}=x.useContext(Qs),{matches:o}=x.useContext(to),{pathname:A}=gu(),l=Bk(),u=AC(e,oC(o,s.v7_relativeSplatPath),A,i==="path"),c=JSON.stringify(u);return x.useEffect(()=>l(JSON.parse(c),{replace:r,state:n,relative:i}),[l,c,i,r,n]),null}function kn(t){It(!1)}function R6(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ca.Pop,navigator:s,static:a=!1,future:o}=t;hu()&&It(!1);let A=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:A,navigator:s,static:a,future:Ed({v7_relativeSplatPath:!1},o)}),[A,o,s,a]);typeof n=="string"&&(n=xA(n));let{pathname:u="/",search:c="",hash:f="",state:g=null,key:m="default"}=n,p=x.useMemo(()=>{let v=Ml(u,A);return v==null?null:{location:{pathname:v,search:c,hash:f,state:g,key:m},navigationType:i}},[A,u,c,f,g,m,i]);return p==null?null:x.createElement(Qs.Provider,{value:l},x.createElement(zm.Provider,{children:r,value:p}))}function L6(t){let{children:e,location:r}=t;return C6(hx(e),r)}new Promise(()=>{});function hx(t,e){e===void 0&&(e=[]);let r=[];return x.Children.forEach(t,(n,i)=>{if(!x.isValidElement(n))return;let s=[...e,i];if(n.type===x.Fragment){r.push.apply(r,hx(n.props.children,s));return}n.type!==kn&&It(!1),!n.props.index||!n.props.children||It(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=hx(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fp.apply(this,arguments)}function _k(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function M6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function H6(t,e){return t.button===0&&(!e||e==="_self")&&!M6(t)}const V6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],K6=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],$6="6";try{window.__reactRouterVersion=$6}catch{}const G6=x.createContext({isTransitioning:!1}),z6="startTransition",_S=hQ[z6];function W6(t){let{basename:e,children:r,future:n,window:i}=t,s=x.useRef();s.current==null&&(s.current=qK({window:i,v5Compat:!0}));let a=s.current,[o,A]=x.useState({action:a.action,location:a.location}),{v7_startTransition:l}=n||{},u=x.useCallback(c=>{l&&_S?_S(()=>A(c)):A(c)},[A,l]);return x.useLayoutEffect(()=>a.listen(u),[a,u]),x.useEffect(()=>D6(n),[n]),x.createElement(R6,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const X6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q6=x.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:A,to:l,preventScrollReset:u,viewTransition:c}=e,f=_k(e,V6),{basename:g}=x.useContext(Qs),m,p=!1;if(typeof l=="string"&&Y6.test(l)&&(m=l,X6))try{let B=new URL(window.location.href),I=l.startsWith("//")?new URL(B.protocol+l):new URL(l),T=Ml(I.pathname,g);I.origin===B.origin&&T!=null?l=T+I.search+I.hash:p=!0}catch{}let v=b6(l,{relative:i}),y=e$(l,{replace:a,state:o,target:A,preventScrollReset:u,relative:i,viewTransition:c});function w(B){n&&n(B),B.defaultPrevented||y(B)}return x.createElement("a",fp({},f,{href:m||v,onClick:p||s?n:w,ref:r,target:A}))}),J6=x.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:A,viewTransition:l,children:u}=e,c=_k(e,K6),f=Wm(A,{relative:c.relative}),g=gu(),m=x.useContext(wk),{navigator:p,basename:v}=x.useContext(Qs),y=m!=null&&t$(f)&&l===!0,w=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,B=g.pathname,I=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(B=B.toLowerCase(),I=I?I.toLowerCase():null,w=w.toLowerCase()),I&&v&&(I=Ml(I,v)||I);const T=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let F=B===w||!a&&B.startsWith(w)&&B.charAt(T)==="/",C=I!=null&&(I===w||!a&&I.startsWith(w)&&I.charAt(w.length)==="/"),_={isActive:F,isPending:C,isTransitioning:y},S=F?n:void 0,P;typeof s=="function"?P=s(_):P=[s,F?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(_):o;return x.createElement(q6,fp({},c,{"aria-current":S,className:P,ref:r,style:N,to:A,viewTransition:l}),typeof u=="function"?u(_):u)});var gx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gx||(gx={}));var IS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(IS||(IS={}));function Z6(t){let e=x.useContext(Gm);return e||It(!1),e}function e$(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,A=Bk(),l=gu(),u=Wm(t,{relative:a});return x.useCallback(c=>{if(H6(c,r)){c.preventDefault();let f=n!==void 0?n:cp(l)===cp(u);A(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[l,A,u,n,i,r,t,s,a,o])}function t$(t,e){e===void 0&&(e={});let r=x.useContext(G6);r==null&&It(!1);let{basename:n}=Z6(gx.useViewTransitionState),i=Wm(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Ml(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Ml(r.nextLocation.pathname,n)||r.nextLocation.pathname;return fx(i.pathname,a)!=null||fx(i.pathname,s)!=null}function r$(){const[t,e]=x.useState(null),[r,n]=x.useState(null),[i,s]=x.useState(null);x.useEffect(()=>{const A=setInterval(()=>{const l=new Date,u=l.getHours(),c=l.getMinutes(),f=u*60+c,g=4*60+30,m=13*60,p=21*60+30;let v=null;f>=g&&f<m?(v=m-f,n("workEnd"),s("morning")):f>=m&&f<p?(v=p-f,n("workEnd"),s("afternoon")):(f<g?v=g-f:v=1440-f+g,n("workStart"),s("morning")),e(v)},1e3);return()=>clearInterval(A)},[]);const a=A=>A===null?"text-text-secondary":A<=30?"text-red-400 bg-red-400/10 ring-1 ring-red-400":A<=120?"text-orange-400 bg-orange-400/10 ring-1 ring-orange-400":"text-primary bg-primary/10 ring-1 ring-primary",o=A=>{if(A===null)return"";const l=Math.floor(A/60),u=A%60;return`${l}小時 ${u}分鐘`};return d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("span",{className:"text-text-secondary",children:r==="workEnd"?`${i==="morning"?"早班":"晚班"}離下班還有 `:"早班離上班還有 "}),d.jsx("span",{className:`
        font-medium px-3 py-1 rounded-full
        ${a(t)}
        transition-all duration-300
      `,children:o(t)})]})}var SS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},n$=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],A=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(A>>10)),e[n++]=String.fromCharCode(56320+(A&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Sk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,A=i+2<t.length,l=A?t[i+2]:0,u=s>>2,c=(s&3)<<4|o>>4;let f=(o&15)<<2|l>>6,g=l&63;A||(g=64,a||(f=64)),n.push(r[u],r[c],r[f],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ik(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):n$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const l=i<t.length?r[t.charAt(i)]:64;++i;const c=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||l==null||c==null)throw new i$;const f=s<<2|o>>4;if(n.push(f),l!==64){const g=o<<4&240|l>>2;if(n.push(g),c!==64){const m=l<<6&192|c;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class i$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s$=function(t){const e=Ik(t);return Sk.encodeByteArray(e,!0)},hp=function(t){return s$(t).replace(/\./g,"")},Tk=function(t){try{return Sk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$=()=>a$().__FIREBASE_DEFAULTS__,A$=()=>{if(typeof process>"u"||typeof SS>"u")return;const t=SS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},l$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Tk(t[1]);return e&&JSON.parse(e)},Xm=()=>{try{return o$()||A$()||l$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Fk=t=>{var e,r;return(r=(e=Xm())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},u$=t=>{const e=Fk(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Uk=()=>{var t;return(t=Xm())===null||t===void 0?void 0:t.config},Pk=t=>{var e;return(e=Xm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hp(JSON.stringify(r)),hp(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function h$(){var t;const e=(t=Xm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function m$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v$(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Qk(){return!h$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nk(){try{return typeof indexedDB=="object"}catch{return!1}}function y$(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$="FirebaseError";class Ns extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=w$,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sf.prototype.create)}}class sf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?x$(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ns(i,o,n)}}function x$(t,e){return t.replace(b$,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const b$=/\{\$([^}]+)}/g;function B$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(TS(s)&&TS(a)){if(!gp(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function TS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function xc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function bc(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function C$(t,e){const r=new E$(t,e);return r.subscribe.bind(r)}class E${constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");_$(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=fy),i.error===void 0&&(i.error=fy),i.complete===void 0&&(i.complete=fy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _$(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function fy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){return t&&t._delegate?t._delegate:t}class aA{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I$=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new c$;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T$(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:S$(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function S$(t){return t===Bo?void 0:t}function T$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new I$(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const U$={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},P$=je.INFO,Q$={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},N$=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=Q$[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let lC=class{constructor(e){this.name=e,this._logLevel=P$,this._logHandler=N$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}};const k$=(t,e)=>e.some(r=>t instanceof r);let FS,US;function O$(){return FS||(FS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D$(){return US||(US=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kk=new WeakMap,px=new WeakMap,Ok=new WeakMap,hy=new WeakMap,uC=new WeakMap;function j$(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(Ia(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&kk.set(r,t)}).catch(()=>{}),uC.set(e,t),e}function R$(t){if(px.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});px.set(t,e)}let mx={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return px.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ok.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ia(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function L$(t){mx=t(mx)}function M$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(gy(this),e,...r);return Ok.set(n,e.sort?e.sort():[e]),Ia(n)}:D$().includes(t)?function(...e){return t.apply(gy(this),e),Ia(kk.get(this))}:function(...e){return Ia(t.apply(gy(this),e))}}function H$(t){return typeof t=="function"?M$(t):(t instanceof IDBTransaction&&R$(t),k$(t,O$())?new Proxy(t,mx):t)}function Ia(t){if(t instanceof IDBRequest)return j$(t);if(hy.has(t))return hy.get(t);const e=H$(t);return e!==t&&(hy.set(t,e),uC.set(e,t)),e}const gy=t=>uC.get(t);function V$(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Ia(a);return n&&a.addEventListener("upgradeneeded",A=>{n(Ia(a.result),A.oldVersion,A.newVersion,Ia(a.transaction),A)}),r&&a.addEventListener("blocked",A=>r(A.oldVersion,A.newVersion,A)),o.then(A=>{s&&A.addEventListener("close",()=>s()),i&&A.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}const K$=["get","getKey","getAll","getAllKeys","count"],$$=["put","add","delete","clear"],py=new Map;function PS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(py.get(e))return py.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=$$.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||K$.includes(r)))return;const s=async function(a,...o){const A=this.transaction(a,i?"readwrite":"readonly");let l=A.store;return n&&(l=l.index(o.shift())),(await Promise.all([l[r](...o),i&&A.done]))[0]};return py.set(e,s),s}L$(t=>({...t,get:(e,r,n)=>PS(e,r)||t.get(e,r,n),has:(e,r)=>!!PS(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(z$(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function z$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vx="@firebase/app",QS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new lC("@firebase/app"),W$="@firebase/app-compat",X$="@firebase/analytics-compat",Y$="@firebase/analytics",q$="@firebase/app-check-compat",J$="@firebase/app-check",Z$="@firebase/auth",e8="@firebase/auth-compat",t8="@firebase/database",r8="@firebase/data-connect",n8="@firebase/database-compat",i8="@firebase/functions",s8="@firebase/functions-compat",a8="@firebase/installations",o8="@firebase/installations-compat",A8="@firebase/messaging",l8="@firebase/messaging-compat",u8="@firebase/performance",c8="@firebase/performance-compat",d8="@firebase/remote-config",f8="@firebase/remote-config-compat",h8="@firebase/storage",g8="@firebase/storage-compat",p8="@firebase/firestore",m8="@firebase/vertexai-preview",v8="@firebase/firestore-compat",y8="firebase",w8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="[DEFAULT]",x8={[vx]:"fire-core",[W$]:"fire-core-compat",[Y$]:"fire-analytics",[X$]:"fire-analytics-compat",[J$]:"fire-app-check",[q$]:"fire-app-check-compat",[Z$]:"fire-auth",[e8]:"fire-auth-compat",[t8]:"fire-rtdb",[r8]:"fire-data-connect",[n8]:"fire-rtdb-compat",[i8]:"fire-fn",[s8]:"fire-fn-compat",[a8]:"fire-iid",[o8]:"fire-iid-compat",[A8]:"fire-fcm",[l8]:"fire-fcm-compat",[u8]:"fire-perf",[c8]:"fire-perf-compat",[d8]:"fire-rc",[f8]:"fire-rc-compat",[h8]:"fire-gcs",[g8]:"fire-gcs-compat",[p8]:"fire-fst",[v8]:"fire-fst-compat",[m8]:"fire-vertex","fire-js":"fire-js",[y8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Map,b8=new Map,wx=new Map;function NS(t,e){try{t.container.addComponent(e)}catch(r){Bs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Hl(t){const e=t.name;if(wx.has(e))return Bs.debug(`There were multiple attempts to register component ${e}.`),!1;wx.set(e,t);for(const r of _d.values())NS(r,t);for(const r of b8.values())NS(r,t);return!0}function cC(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function os(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sa=new sf("app","Firebase",B8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new aA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=w8;function Dk(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:yx,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Sa.create("bad-app-name",{appName:String(i)});if(r||(r=Uk()),!r)throw Sa.create("no-options");const s=_d.get(i);if(s){if(gp(r,s.options)&&gp(n,s.config))return s;throw Sa.create("duplicate-app",{appName:i})}const a=new F$(i);for(const A of wx.values())a.addComponent(A);const o=new C8(r,n,a);return _d.set(i,o),o}function jk(t=yx){const e=_d.get(t);if(!e&&t===yx&&Uk())return Dk();if(!e)throw Sa.create("no-app",{appName:t});return e}function kS(){return Array.from(_d.values())}function Ta(t,e,r){var n;let i=(n=x8[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bs.warn(o.join(" "));return}Hl(new aA(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8="firebase-heartbeat-database",_8=1,Id="firebase-heartbeat-store";let my=null;function Rk(){return my||(my=V$(E8,_8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Id)}catch(r){console.warn(r)}}}}).catch(t=>{throw Sa.create("idb-open",{originalErrorMessage:t.message})})),my}async function I8(t){try{const r=(await Rk()).transaction(Id),n=await r.objectStore(Id).get(Lk(t));return await r.done,n}catch(e){if(e instanceof Ns)Bs.warn(e.message);else{const r=Sa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bs.warn(r.message)}}}async function OS(t,e){try{const n=(await Rk()).transaction(Id,"readwrite");await n.objectStore(Id).put(e,Lk(t)),await n.done}catch(r){if(r instanceof Ns)Bs.warn(r.message);else{const n=Sa.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Bs.warn(n.message)}}}function Lk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=1024,T8=30*24*60*60*1e3;class F8{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new P8(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=DS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=T8}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Bs.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=DS(),{heartbeatsToSend:n,unsentEntries:i}=U8(this._heartbeatsCache.heartbeats),s=hp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Bs.warn(r),""}}}function DS(){return new Date().toISOString().substring(0,10)}function U8(t,e=S8){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),jS(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),jS(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class P8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nk()?y$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await I8(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return OS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return OS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jS(t){return hp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(t){Hl(new aA("platform-logger",e=>new G$(e),"PRIVATE")),Hl(new aA("heartbeat",e=>new F8(e),"PRIVATE")),Ta(vx,QS,t),Ta(vx,QS,"esm2017"),Ta("fire-js","")}Q8("");var RS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Go,Mk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function S(){}S.prototype=_.prototype,C.D=_.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(P,N,k){for(var Q=Array(arguments.length-2),se=2;se<arguments.length;se++)Q[se-2]=arguments[se];return _.prototype[N].apply(P,Q)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,_,S){S||(S=0);var P=Array(16);if(typeof _=="string")for(var N=0;16>N;++N)P[N]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(N=0;16>N;++N)P[N]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=C.g[0],S=C.g[1],N=C.g[2];var k=C.g[3],Q=_+(k^S&(N^k))+P[0]+3614090360&4294967295;_=S+(Q<<7&4294967295|Q>>>25),Q=k+(N^_&(S^N))+P[1]+3905402710&4294967295,k=_+(Q<<12&4294967295|Q>>>20),Q=N+(S^k&(_^S))+P[2]+606105819&4294967295,N=k+(Q<<17&4294967295|Q>>>15),Q=S+(_^N&(k^_))+P[3]+3250441966&4294967295,S=N+(Q<<22&4294967295|Q>>>10),Q=_+(k^S&(N^k))+P[4]+4118548399&4294967295,_=S+(Q<<7&4294967295|Q>>>25),Q=k+(N^_&(S^N))+P[5]+1200080426&4294967295,k=_+(Q<<12&4294967295|Q>>>20),Q=N+(S^k&(_^S))+P[6]+2821735955&4294967295,N=k+(Q<<17&4294967295|Q>>>15),Q=S+(_^N&(k^_))+P[7]+4249261313&4294967295,S=N+(Q<<22&4294967295|Q>>>10),Q=_+(k^S&(N^k))+P[8]+1770035416&4294967295,_=S+(Q<<7&4294967295|Q>>>25),Q=k+(N^_&(S^N))+P[9]+2336552879&4294967295,k=_+(Q<<12&4294967295|Q>>>20),Q=N+(S^k&(_^S))+P[10]+4294925233&4294967295,N=k+(Q<<17&4294967295|Q>>>15),Q=S+(_^N&(k^_))+P[11]+2304563134&4294967295,S=N+(Q<<22&4294967295|Q>>>10),Q=_+(k^S&(N^k))+P[12]+1804603682&4294967295,_=S+(Q<<7&4294967295|Q>>>25),Q=k+(N^_&(S^N))+P[13]+4254626195&4294967295,k=_+(Q<<12&4294967295|Q>>>20),Q=N+(S^k&(_^S))+P[14]+2792965006&4294967295,N=k+(Q<<17&4294967295|Q>>>15),Q=S+(_^N&(k^_))+P[15]+1236535329&4294967295,S=N+(Q<<22&4294967295|Q>>>10),Q=_+(N^k&(S^N))+P[1]+4129170786&4294967295,_=S+(Q<<5&4294967295|Q>>>27),Q=k+(S^N&(_^S))+P[6]+3225465664&4294967295,k=_+(Q<<9&4294967295|Q>>>23),Q=N+(_^S&(k^_))+P[11]+643717713&4294967295,N=k+(Q<<14&4294967295|Q>>>18),Q=S+(k^_&(N^k))+P[0]+3921069994&4294967295,S=N+(Q<<20&4294967295|Q>>>12),Q=_+(N^k&(S^N))+P[5]+3593408605&4294967295,_=S+(Q<<5&4294967295|Q>>>27),Q=k+(S^N&(_^S))+P[10]+38016083&4294967295,k=_+(Q<<9&4294967295|Q>>>23),Q=N+(_^S&(k^_))+P[15]+3634488961&4294967295,N=k+(Q<<14&4294967295|Q>>>18),Q=S+(k^_&(N^k))+P[4]+3889429448&4294967295,S=N+(Q<<20&4294967295|Q>>>12),Q=_+(N^k&(S^N))+P[9]+568446438&4294967295,_=S+(Q<<5&4294967295|Q>>>27),Q=k+(S^N&(_^S))+P[14]+3275163606&4294967295,k=_+(Q<<9&4294967295|Q>>>23),Q=N+(_^S&(k^_))+P[3]+4107603335&4294967295,N=k+(Q<<14&4294967295|Q>>>18),Q=S+(k^_&(N^k))+P[8]+1163531501&4294967295,S=N+(Q<<20&4294967295|Q>>>12),Q=_+(N^k&(S^N))+P[13]+2850285829&4294967295,_=S+(Q<<5&4294967295|Q>>>27),Q=k+(S^N&(_^S))+P[2]+4243563512&4294967295,k=_+(Q<<9&4294967295|Q>>>23),Q=N+(_^S&(k^_))+P[7]+1735328473&4294967295,N=k+(Q<<14&4294967295|Q>>>18),Q=S+(k^_&(N^k))+P[12]+2368359562&4294967295,S=N+(Q<<20&4294967295|Q>>>12),Q=_+(S^N^k)+P[5]+4294588738&4294967295,_=S+(Q<<4&4294967295|Q>>>28),Q=k+(_^S^N)+P[8]+2272392833&4294967295,k=_+(Q<<11&4294967295|Q>>>21),Q=N+(k^_^S)+P[11]+1839030562&4294967295,N=k+(Q<<16&4294967295|Q>>>16),Q=S+(N^k^_)+P[14]+4259657740&4294967295,S=N+(Q<<23&4294967295|Q>>>9),Q=_+(S^N^k)+P[1]+2763975236&4294967295,_=S+(Q<<4&4294967295|Q>>>28),Q=k+(_^S^N)+P[4]+1272893353&4294967295,k=_+(Q<<11&4294967295|Q>>>21),Q=N+(k^_^S)+P[7]+4139469664&4294967295,N=k+(Q<<16&4294967295|Q>>>16),Q=S+(N^k^_)+P[10]+3200236656&4294967295,S=N+(Q<<23&4294967295|Q>>>9),Q=_+(S^N^k)+P[13]+681279174&4294967295,_=S+(Q<<4&4294967295|Q>>>28),Q=k+(_^S^N)+P[0]+3936430074&4294967295,k=_+(Q<<11&4294967295|Q>>>21),Q=N+(k^_^S)+P[3]+3572445317&4294967295,N=k+(Q<<16&4294967295|Q>>>16),Q=S+(N^k^_)+P[6]+76029189&4294967295,S=N+(Q<<23&4294967295|Q>>>9),Q=_+(S^N^k)+P[9]+3654602809&4294967295,_=S+(Q<<4&4294967295|Q>>>28),Q=k+(_^S^N)+P[12]+3873151461&4294967295,k=_+(Q<<11&4294967295|Q>>>21),Q=N+(k^_^S)+P[15]+530742520&4294967295,N=k+(Q<<16&4294967295|Q>>>16),Q=S+(N^k^_)+P[2]+3299628645&4294967295,S=N+(Q<<23&4294967295|Q>>>9),Q=_+(N^(S|~k))+P[0]+4096336452&4294967295,_=S+(Q<<6&4294967295|Q>>>26),Q=k+(S^(_|~N))+P[7]+1126891415&4294967295,k=_+(Q<<10&4294967295|Q>>>22),Q=N+(_^(k|~S))+P[14]+2878612391&4294967295,N=k+(Q<<15&4294967295|Q>>>17),Q=S+(k^(N|~_))+P[5]+4237533241&4294967295,S=N+(Q<<21&4294967295|Q>>>11),Q=_+(N^(S|~k))+P[12]+1700485571&4294967295,_=S+(Q<<6&4294967295|Q>>>26),Q=k+(S^(_|~N))+P[3]+2399980690&4294967295,k=_+(Q<<10&4294967295|Q>>>22),Q=N+(_^(k|~S))+P[10]+4293915773&4294967295,N=k+(Q<<15&4294967295|Q>>>17),Q=S+(k^(N|~_))+P[1]+2240044497&4294967295,S=N+(Q<<21&4294967295|Q>>>11),Q=_+(N^(S|~k))+P[8]+1873313359&4294967295,_=S+(Q<<6&4294967295|Q>>>26),Q=k+(S^(_|~N))+P[15]+4264355552&4294967295,k=_+(Q<<10&4294967295|Q>>>22),Q=N+(_^(k|~S))+P[6]+2734768916&4294967295,N=k+(Q<<15&4294967295|Q>>>17),Q=S+(k^(N|~_))+P[13]+1309151649&4294967295,S=N+(Q<<21&4294967295|Q>>>11),Q=_+(N^(S|~k))+P[4]+4149444226&4294967295,_=S+(Q<<6&4294967295|Q>>>26),Q=k+(S^(_|~N))+P[11]+3174756917&4294967295,k=_+(Q<<10&4294967295|Q>>>22),Q=N+(_^(k|~S))+P[2]+718787259&4294967295,N=k+(Q<<15&4294967295|Q>>>17),Q=S+(k^(N|~_))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(N+(Q<<21&4294967295|Q>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+k&4294967295}n.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var S=_-this.blockSize,P=this.B,N=this.h,k=0;k<_;){if(N==0)for(;k<=S;)i(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<_;)if(P[N++]=C.charCodeAt(k++),N==this.blockSize){i(this,P),N=0;break}}else for(;k<_;)if(P[N++]=C[k++],N==this.blockSize){i(this,P),N=0;break}}this.h=N,this.o+=_},n.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var S=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=S&255,S/=256;for(this.u(C),C=Array(16),_=S=0;4>_;++_)for(var P=0;32>P;P+=8)C[S++]=this.g[_]>>>P&255;return C};function s(C,_){var S=o;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=_(C)}function a(C,_){this.h=_;for(var S=[],P=!0,N=C.length-1;0<=N;N--){var k=C[N]|0;P&&k==_||(S[N]=k,P=!1)}this.g=S}var o={};function A(C){return-128<=C&&128>C?s(C,function(_){return new a([_|0],0>_?-1:0)}):new a([C|0],0>C?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return c;if(0>C)return v(l(-C));for(var _=[],S=1,P=0;C>=S;P++)_[P]=C/S|0,S*=4294967296;return new a(_,0)}function u(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return v(u(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=l(Math.pow(_,8)),P=c,N=0;N<C.length;N+=8){var k=Math.min(8,C.length-N),Q=parseInt(C.substring(N,N+k),_);8>k?(k=l(Math.pow(_,k)),P=P.j(k).add(l(Q))):(P=P.j(S),P=P.add(l(Q)))}return P}var c=A(0),f=A(1),g=A(16777216);t=a.prototype,t.m=function(){if(p(this))return-v(this).m();for(var C=0,_=1,S=0;S<this.g.length;S++){var P=this.i(S);C+=(0<=P?P:4294967296+P)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(m(this))return"0";if(p(this))return"-"+v(this).toString(C);for(var _=l(Math.pow(C,6)),S=this,P="";;){var N=I(S,_).g;S=y(S,N.j(_));var k=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=N,m(S))return k+P;for(;6>k.length;)k="0"+k;P=k+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function m(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function p(C){return C.h==-1}t.l=function(C){return C=y(this,C),p(C)?-1:m(C)?0:1};function v(C){for(var _=C.g.length,S=[],P=0;P<_;P++)S[P]=~C.g[P];return new a(S,~C.h).add(f)}t.abs=function(){return p(this)?v(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0,N=0;N<=_;N++){var k=P+(this.i(N)&65535)+(C.i(N)&65535),Q=(k>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);P=Q>>>16,k&=65535,Q&=65535,S[N]=Q<<16|k}return new a(S,S[S.length-1]&-2147483648?-1:0)};function y(C,_){return C.add(v(_))}t.j=function(C){if(m(this)||m(C))return c;if(p(this))return p(C)?v(this).j(v(C)):v(v(this).j(C));if(p(C))return v(this.j(v(C)));if(0>this.l(g)&&0>C.l(g))return l(this.m()*C.m());for(var _=this.g.length+C.g.length,S=[],P=0;P<2*_;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<C.g.length;N++){var k=this.i(P)>>>16,Q=this.i(P)&65535,se=C.i(N)>>>16,Ce=C.i(N)&65535;S[2*P+2*N]+=Q*Ce,w(S,2*P+2*N),S[2*P+2*N+1]+=k*Ce,w(S,2*P+2*N+1),S[2*P+2*N+1]+=Q*se,w(S,2*P+2*N+1),S[2*P+2*N+2]+=k*se,w(S,2*P+2*N+2)}for(P=0;P<_;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=_;P<2*_;P++)S[P]=0;return new a(S,0)};function w(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function B(C,_){this.g=C,this.h=_}function I(C,_){if(m(_))throw Error("division by zero");if(m(C))return new B(c,c);if(p(C))return _=I(v(C),_),new B(v(_.g),v(_.h));if(p(_))return _=I(C,v(_)),new B(v(_.g),_.h);if(30<C.g.length){if(p(C)||p(_))throw Error("slowDivide_ only works with positive integers.");for(var S=f,P=_;0>=P.l(C);)S=T(S),P=T(P);var N=F(S,1),k=F(P,1);for(P=F(P,2),S=F(S,2);!m(P);){var Q=k.add(P);0>=Q.l(C)&&(N=N.add(S),k=Q),P=F(P,1),S=F(S,1)}return _=y(C,N.j(_)),new B(N,_)}for(N=c;0<=C.l(_);){for(S=Math.max(1,Math.floor(C.m()/_.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),k=l(S),Q=k.j(_);p(Q)||0<Q.l(C);)S-=P,k=l(S),Q=k.j(_);m(k)&&(k=f),N=N.add(k),C=y(C,Q)}return new B(N,C)}t.A=function(C){return I(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0;P<_;P++)S[P]=this.i(P)&C.i(P);return new a(S,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0;P<_;P++)S[P]=this.i(P)|C.i(P);return new a(S,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0;P<_;P++)S[P]=this.i(P)^C.i(P);return new a(S,this.h^C.h)};function T(C){for(var _=C.g.length+1,S=[],P=0;P<_;P++)S[P]=C.i(P)<<1|C.i(P-1)>>>31;return new a(S,C.h)}function F(C,_){var S=_>>5;_%=32;for(var P=C.g.length-S,N=[],k=0;k<P;k++)N[k]=0<_?C.i(k+S)>>>_|C.i(k+S+1)<<32-_:C.i(k+S);return new a(N,C.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Mk=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=u,Go=a}).apply(typeof RS<"u"?RS:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hk,Bc,Vk,Cg,xx,Kk,$k,Gk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,b,E){return h==Array.prototype||h==Object.prototype||(h[b]=E.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var b=0;b<h.length;++b){var E=h[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=r(this);function i(h,b){if(b)e:{var E=n;h=h.split(".");for(var U=0;U<h.length-1;U++){var L=h[U];if(!(L in E))break e;E=E[L]}h=h[h.length-1],U=E[h],b=b(U),b!=U&&b!=null&&e(E,h,{configurable:!0,writable:!0,value:b})}}function s(h,b){h instanceof String&&(h+="");var E=0,U=!1,L={next:function(){if(!U&&E<h.length){var $=E++;return{value:b($,h[$]),done:!1}}return U=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(h){return h||function(){return s(this,function(b,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function A(h){var b=typeof h;return b=b!="object"?b:h?Array.isArray(h)?"array":b:"null",b=="array"||b=="object"&&typeof h.length=="number"}function l(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function u(h,b,E){return h.call.apply(h.bind,arguments)}function c(h,b,E){if(!h)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,U),h.apply(b,L)}}return function(){return h.apply(b,arguments)}}function f(h,b,E){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:c,f.apply(null,arguments)}function g(h,b){var E=Array.prototype.slice.call(arguments,1);return function(){var U=E.slice();return U.push.apply(U,arguments),h.apply(this,U)}}function m(h,b){function E(){}E.prototype=b.prototype,h.aa=b.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(U,L,$){for(var ie=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)ie[rt-2]=arguments[rt];return b.prototype[L].apply(U,ie)}}function p(h){const b=h.length;if(0<b){const E=Array(b);for(let U=0;U<b;U++)E[U]=h[U];return E}return[]}function v(h,b){for(let E=1;E<arguments.length;E++){const U=arguments[E];if(A(U)){const L=h.length||0,$=U.length||0;h.length=L+$;for(let ie=0;ie<$;ie++)h[L+ie]=U[ie]}else h.push(U)}}class y{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function w(h){return/^[\s\xa0]*$/.test(h)}function B(){var h=o.navigator;return h&&(h=h.userAgent)?h:""}function I(h){return I[" "](h),h}I[" "]=function(){};var T=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function F(h,b,E){for(const U in h)b.call(E,h[U],U,h)}function C(h,b){for(const E in h)b.call(void 0,h[E],E,h)}function _(h){const b={};for(const E in h)b[E]=h[E];return b}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,b){let E,U;for(let L=1;L<arguments.length;L++){U=arguments[L];for(E in U)h[E]=U[E];for(let $=0;$<S.length;$++)E=S[$],Object.prototype.hasOwnProperty.call(U,E)&&(h[E]=U[E])}}function N(h){var b=1;h=h.split(":");const E=[];for(;0<b&&h.length;)E.push(h.shift()),b--;return h.length&&E.push(h.join(":")),E}function k(h){o.setTimeout(()=>{throw h},0)}function Q(){var h=ne;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class se{constructor(){this.h=this.g=null}add(b,E){const U=Ce.get();U.set(b,E),this.h?this.h.next=U:this.g=U,this.h=U}}var Ce=new y(()=>new ge,h=>h.reset());class ge{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,Y=!1,ne=new se,ce=()=>{const h=o.Promise.resolve(void 0);xe=()=>{h.then(ae)}};var ae=()=>{for(var h;h=Q();){try{h.h.call(h.g)}catch(E){k(E)}var b=Ce;b.j(h),100>b.h&&(b.h++,h.next=b.g,b.g=h)}Y=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};o.addEventListener("test",E,b),o.removeEventListener("test",E,b)}catch{}return h}();function R(h,b){if(ve.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,U=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget){if(T){e:{try{I(b.nodeName);var L=!0;break e}catch{}L=!1}L||(b=null)}}else E=="mouseover"?b=h.fromElement:E=="mouseout"&&(b=h.toElement);this.relatedTarget=b,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:j[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&R.aa.h.call(this)}}m(R,ve);var j={2:"touch",3:"pen",4:"mouse"};R.prototype.h=function(){R.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),re=0;function V(h,b,E,U,L){this.listener=h,this.proxy=null,this.src=b,this.type=E,this.capture=!!U,this.ha=L,this.key=++re,this.da=this.fa=!1}function G(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ee(h){this.src=h,this.g={},this.h=0}ee.prototype.add=function(h,b,E,U,L){var $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);var ie=Pe(h,b,U,L);return-1<ie?(b=h[ie],E||(b.fa=!1)):(b=new V(b,this.src,$,!!U,L),b.fa=E,h.push(b)),b};function W(h,b){var E=b.type;if(E in h.g){var U=h.g[E],L=Array.prototype.indexOf.call(U,b,void 0),$;($=0<=L)&&Array.prototype.splice.call(U,L,1),$&&(G(b),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Pe(h,b,E,U){for(var L=0;L<h.length;++L){var $=h[L];if(!$.da&&$.listener==b&&$.capture==!!E&&$.ha==U)return L}return-1}var Ie="closure_lm_"+(1e6*Math.random()|0),Ge={};function ht(h,b,E,U,L){if(Array.isArray(b)){for(var $=0;$<b.length;$++)ht(h,b[$],E,U,L);return null}return E=fo(E),h&&h[J]?h.K(b,E,l(U)?!!U.capture:!1,L):ii(h,b,E,!1,U,L)}function ii(h,b,E,U,L,$){if(!b)throw Error("Invalid event type");var ie=l(L)?!!L.capture:!!L,rt=Ou(h);if(rt||(h[Ie]=rt=new ee(h)),E=rt.add(b,E,U,ie,$),E.proxy)return E;if(U=UA(),E.proxy=U,U.src=h,U.listener=E,h.addEventListener)O||(L=ie),L===void 0&&(L=!1),h.addEventListener(b.toString(),U,L);else if(h.attachEvent)h.attachEvent(jf(b.toString()),U);else if(h.addListener&&h.removeListener)h.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return E}function UA(){function h(E){return b.call(h.src,h.listener,E)}const b=ku;return h}function Df(h,b,E,U,L){if(Array.isArray(b))for(var $=0;$<b.length;$++)Df(h,b[$],E,U,L);else U=l(U)?!!U.capture:!!U,E=fo(E),h&&h[J]?(h=h.i,b=String(b).toString(),b in h.g&&($=h.g[b],E=Pe($,E,U,L),-1<E&&(G($[E]),Array.prototype.splice.call($,E,1),$.length==0&&(delete h.g[b],h.h--)))):h&&(h=Ou(h))&&(b=h.g[b.toString()],h=-1,b&&(h=Pe(b,E,U,L)),(E=-1<h?b[h]:null)&&Nu(E))}function Nu(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[J])W(b.i,h);else{var E=h.type,U=h.proxy;b.removeEventListener?b.removeEventListener(E,U,h.capture):b.detachEvent?b.detachEvent(jf(E),U):b.addListener&&b.removeListener&&b.removeListener(U),(E=Ou(b))?(W(E,h),E.h==0&&(E.src=null,b[Ie]=null)):G(h)}}}function jf(h){return h in Ge?Ge[h]:Ge[h]="on"+h}function ku(h,b){if(h.da)h=!0;else{b=new R(b,this);var E=h.listener,U=h.ha||h.src;h.fa&&Nu(h),h=E.call(U,b)}return h}function Ou(h){return h=h[Ie],h instanceof ee?h:null}var PA="__closure_events_fn_"+(1e9*Math.random()>>>0);function fo(h){return typeof h=="function"?h:(h[PA]||(h[PA]=function(b){return h.handleEvent(b)}),h[PA])}function rr(){z.call(this),this.i=new ee(this),this.M=this,this.F=null}m(rr,z),rr.prototype[J]=!0,rr.prototype.removeEventListener=function(h,b,E,U){Df(this,h,b,E,U)};function cr(h,b){var E,U=h.F;if(U)for(E=[];U;U=U.F)E.push(U);if(h=h.M,U=b.type||b,typeof b=="string")b=new ve(b,h);else if(b instanceof ve)b.target=b.target||h;else{var L=b;b=new ve(U,h),P(b,L)}if(L=!0,E)for(var $=E.length-1;0<=$;$--){var ie=b.g=E[$];L=QA(ie,U,!0,b)&&L}if(ie=b.g=h,L=QA(ie,U,!0,b)&&L,L=QA(ie,U,!1,b)&&L,E)for($=0;$<E.length;$++)ie=b.g=E[$],L=QA(ie,U,!1,b)&&L}rr.prototype.N=function(){if(rr.aa.N.call(this),this.i){var h=this.i,b;for(b in h.g){for(var E=h.g[b],U=0;U<E.length;U++)G(E[U]);delete h.g[b],h.h--}}this.F=null},rr.prototype.K=function(h,b,E,U){return this.i.add(String(h),b,!1,E,U)},rr.prototype.L=function(h,b,E,U){return this.i.add(String(h),b,!0,E,U)};function QA(h,b,E,U){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();for(var L=!0,$=0;$<b.length;++$){var ie=b[$];if(ie&&!ie.da&&ie.capture==E){var rt=ie.listener,fr=ie.ha||ie.src;ie.fa&&W(h.i,ie),L=rt.call(fr,U)!==!1&&L}}return L&&!U.defaultPrevented}function Rf(h,b,E){if(typeof h=="function")E&&(h=f(h,E));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:o.setTimeout(h,b||0)}function Lf(h){h.g=Rf(()=>{h.g=null,h.i&&(h.i=!1,Lf(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class _v extends z{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Lf(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ho(h){z.call(this),this.h=h,this.g={}}m(ho,z);var D=[];function K(h){F(h.g,function(b,E){this.g.hasOwnProperty(E)&&Nu(b)},h),h.g={}}ho.prototype.N=function(){ho.aa.N.call(this),K(this)},ho.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var q=o.JSON.stringify,le=o.JSON.parse,oe=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function be(){}be.prototype.h=null;function Te(h){return h.h||(h.h=h.i())}function ze(){}var Fe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ne(){ve.call(this,"d")}m(Ne,ve);function Je(){ve.call(this,"c")}m(Je,ve);var dr={},Ct=null;function jr(){return Ct=Ct||new rr}dr.La="serverreachability";function go(h){ve.call(this,dr.La,h)}m(go,ve);function Br(h){const b=jr();cr(b,new go(b))}dr.STAT_EVENT="statevent";function Mf(h,b){ve.call(this,dr.STAT_EVENT,h),this.stat=b}m(Mf,ve);function kt(h){const b=jr();cr(b,new Mf(b,h))}dr.Ma="timingevent";function ln(h,b){ve.call(this,dr.Ma,h),this.size=b}m(ln,ve);function Ms(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},b)}function Hs(){this.g=!0}Hs.prototype.xa=function(){this.g=!1};function Iv(h,b,E,U,L,$){h.info(function(){if(h.g)if($)for(var ie="",rt=$.split("&"),fr=0;fr<rt.length;fr++){var Ve=rt[fr].split("=");if(1<Ve.length){var Cr=Ve[0];Ve=Ve[1];var Er=Cr.split("_");ie=2<=Er.length&&Er[1]=="type"?ie+(Cr+"="+Ve+"&"):ie+(Cr+"=redacted&")}}else ie=null;else ie=$;return"XMLHTTP REQ ("+U+") [attempt "+L+"]: "+b+`
`+E+`
`+ie})}function eH(h,b,E,U,L,$,ie){h.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+L+"]: "+b+`
`+E+`
`+$+" "+ie})}function NA(h,b,E,U){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+rH(h,E)+(U?" "+U:"")})}function tH(h,b){h.info(function(){return"TIMEOUT: "+b})}Hs.prototype.info=function(){};function rH(h,b){if(!h.g)return b;if(!b)return null;try{var E=JSON.parse(b);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var U=E[h];if(!(2>U.length)){var L=U[1];if(Array.isArray(L)&&!(1>L.length)){var $=L[0];if($!="noop"&&$!="stop"&&$!="close")for(var ie=1;ie<L.length;ie++)L[ie]=""}}}}return q(E)}catch{return b}}var Hf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},E_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sv;function Vf(){}m(Vf,be),Vf.prototype.g=function(){return new XMLHttpRequest},Vf.prototype.i=function(){return{}},Sv=new Vf;function Vs(h,b,E,U){this.j=h,this.i=b,this.l=E,this.R=U||1,this.U=new ho(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new __}function __(){this.i=null,this.g="",this.h=!1}var I_={},Tv={};function Fv(h,b,E){h.L=1,h.v=zf(Ki(b)),h.m=E,h.P=!0,S_(h,null)}function S_(h,b){h.F=Date.now(),Kf(h),h.A=Ki(h.v);var E=h.A,U=h.R;Array.isArray(U)||(U=[String(U)]),H_(E.i,"t",U),h.C=0,E=h.j.J,h.h=new __,h.g=aI(h.j,E?b:null,!h.m),0<h.O&&(h.M=new _v(f(h.Y,h,h.g),h.O)),b=h.U,E=h.g,U=h.ca;var L="readystatechange";Array.isArray(L)||(L&&(D[0]=L.toString()),L=D);for(var $=0;$<L.length;$++){var ie=ht(E,L[$],U||b.handleEvent,!1,b.h||b);if(!ie)break;b.g[ie.key]=ie}b=h.H?_(h.H):{},h.m?(h.u||(h.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,b)):(h.u="GET",h.g.ea(h.A,h.u,null,b)),Br(),Iv(h.i,h.u,h.A,h.l,h.R,h.m)}Vs.prototype.ca=function(h){h=h.target;const b=this.M;b&&$i(h)==3?b.j():this.Y(h)},Vs.prototype.Y=function(h){try{if(h==this.g)e:{const Er=$i(this.g);var b=this.g.Ba();const DA=this.g.Z();if(!(3>Er)&&(Er!=3||this.g&&(this.h.h||this.g.oa()||X_(this.g)))){this.J||Er!=4||b==7||(b==8||0>=DA?Br(3):Br(2)),Uv(this);var E=this.g.Z();this.X=E;t:if(T_(this)){var U=X_(this.g);h="";var L=U.length,$=$i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){po(this),Du(this);var ie="";break t}this.h.i=new o.TextDecoder}for(b=0;b<L;b++)this.h.h=!0,h+=this.h.i.decode(U[b],{stream:!($&&b==L-1)});U.length=0,this.h.g+=h,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=E==200,eH(this.i,this.u,this.A,this.l,this.R,Er,E),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,fr=this.g;if((rt=fr.g?fr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(rt)){var Ve=rt;break t}}Ve=null}if(E=Ve)NA(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pv(this,E);else{this.o=!1,this.s=3,kt(12),po(this),Du(this);break e}}if(this.P){E=!0;let si;for(;!this.J&&this.C<ie.length;)if(si=nH(this,ie),si==Tv){Er==4&&(this.s=4,kt(14),E=!1),NA(this.i,this.l,null,"[Incomplete Response]");break}else if(si==I_){this.s=4,kt(15),NA(this.i,this.l,ie,"[Invalid Chunk]"),E=!1;break}else NA(this.i,this.l,si,null),Pv(this,si);if(T_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Er!=4||ie.length!=0||this.h.h||(this.s=1,kt(16),E=!1),this.o=this.o&&E,!E)NA(this.i,this.l,ie,"[Invalid Chunked Response]"),po(this),Du(this);else if(0<ie.length&&!this.W){this.W=!0;var Cr=this.j;Cr.g==this&&Cr.ba&&!Cr.M&&(Cr.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),jv(Cr),Cr.M=!0,kt(11))}}else NA(this.i,this.l,ie,null),Pv(this,ie);Er==4&&po(this),this.o&&!this.J&&(Er==4?rI(this.j,this):(this.o=!1,Kf(this)))}else wH(this.g),E==400&&0<ie.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),po(this),Du(this)}}}catch{}finally{}};function T_(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function nH(h,b){var E=h.C,U=b.indexOf(`
`,E);return U==-1?Tv:(E=Number(b.substring(E,U)),isNaN(E)?I_:(U+=1,U+E>b.length?Tv:(b=b.slice(U,U+E),h.C=U+E,b)))}Vs.prototype.cancel=function(){this.J=!0,po(this)};function Kf(h){h.S=Date.now()+h.I,F_(h,h.I)}function F_(h,b){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ms(f(h.ba,h),b)}function Uv(h){h.B&&(o.clearTimeout(h.B),h.B=null)}Vs.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(tH(this.i,this.A),this.L!=2&&(Br(),kt(17)),po(this),this.s=2,Du(this)):F_(this,this.S-h)};function Du(h){h.j.G==0||h.J||rI(h.j,h)}function po(h){Uv(h);var b=h.M;b&&typeof b.ma=="function"&&b.ma(),h.M=null,K(h.U),h.g&&(b=h.g,h.g=null,b.abort(),b.ma())}function Pv(h,b){try{var E=h.j;if(E.G!=0&&(E.g==h||Qv(E.h,h))){if(!h.K&&Qv(E.h,h)&&E.G==3){try{var U=E.Da.g.parse(b)}catch{U=null}if(Array.isArray(U)&&U.length==3){var L=U;if(L[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)Zf(E),qf(E);else break e;Dv(E),kt(18)}}else E.za=L[1],0<E.za-E.T&&37500>L[2]&&E.F&&E.v==0&&!E.C&&(E.C=Ms(f(E.Za,E),6e3));if(1>=Q_(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else vo(E,11)}else if((h.K||E.g==h)&&Zf(E),!w(b))for(L=E.Da.g.parse(b),b=0;b<L.length;b++){let Ve=L[b];if(E.T=Ve[0],Ve=Ve[1],E.G==2)if(Ve[0]=="c"){E.K=Ve[1],E.ia=Ve[2];const Cr=Ve[3];Cr!=null&&(E.la=Cr,E.j.info("VER="+E.la));const Er=Ve[4];Er!=null&&(E.Aa=Er,E.j.info("SVER="+E.Aa));const DA=Ve[5];DA!=null&&typeof DA=="number"&&0<DA&&(U=1.5*DA,E.L=U,E.j.info("backChannelRequestTimeoutMs_="+U)),U=E;const si=h.g;if(si){const th=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(th){var $=U.h;$.g||th.indexOf("spdy")==-1&&th.indexOf("quic")==-1&&th.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Nv($,$.h),$.h=null))}if(U.D){const Rv=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;Rv&&(U.ya=Rv,lt(U.I,U.D,Rv))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),U=E;var ie=h;if(U.qa=sI(U,U.J?U.ia:null,U.W),ie.K){N_(U.h,ie);var rt=ie,fr=U.L;fr&&(rt.I=fr),rt.B&&(Uv(rt),Kf(rt)),U.g=ie}else eI(U);0<E.i.length&&Jf(E)}else Ve[0]!="stop"&&Ve[0]!="close"||vo(E,7);else E.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?vo(E,7):Ov(E):Ve[0]!="noop"&&E.l&&E.l.ta(Ve),E.v=0)}}Br(4)}catch{}}var iH=class{constructor(h,b){this.g=h,this.map=b}};function U_(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function P_(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Q_(h){return h.h?1:h.g?h.g.size:0}function Qv(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function Nv(h,b){h.g?h.g.add(b):h.h=b}function N_(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}U_.prototype.cancel=function(){if(this.i=k_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function k_(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const E of h.g.values())b=b.concat(E.D);return b}return p(h.i)}function sH(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(A(h)){for(var b=[],E=h.length,U=0;U<E;U++)b.push(h[U]);return b}b=[],E=0;for(U in h)b[E++]=h[U];return b}function aH(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(A(h)||typeof h=="string"){var b=[];h=h.length;for(var E=0;E<h;E++)b.push(E);return b}b=[],E=0;for(const U in h)b[E++]=U;return b}}}function O_(h,b){if(h.forEach&&typeof h.forEach=="function")h.forEach(b,void 0);else if(A(h)||typeof h=="string")Array.prototype.forEach.call(h,b,void 0);else for(var E=aH(h),U=sH(h),L=U.length,$=0;$<L;$++)b.call(void 0,U[$],E&&E[$],h)}var D_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oH(h,b){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var U=h[E].indexOf("="),L=null;if(0<=U){var $=h[E].substring(0,U);L=h[E].substring(U+1)}else $=h[E];b($,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function mo(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof mo){this.h=h.h,$f(this,h.j),this.o=h.o,this.g=h.g,Gf(this,h.s),this.l=h.l;var b=h.i,E=new Lu;E.i=b.i,b.g&&(E.g=new Map(b.g),E.h=b.h),j_(this,E),this.m=h.m}else h&&(b=String(h).match(D_))?(this.h=!1,$f(this,b[1]||"",!0),this.o=ju(b[2]||""),this.g=ju(b[3]||"",!0),Gf(this,b[4]),this.l=ju(b[5]||"",!0),j_(this,b[6]||"",!0),this.m=ju(b[7]||"")):(this.h=!1,this.i=new Lu(null,this.h))}mo.prototype.toString=function(){var h=[],b=this.j;b&&h.push(Ru(b,R_,!0),":");var E=this.g;return(E||b=="file")&&(h.push("//"),(b=this.o)&&h.push(Ru(b,R_,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ru(E,E.charAt(0)=="/"?uH:lH,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ru(E,dH)),h.join("")};function Ki(h){return new mo(h)}function $f(h,b,E){h.j=E?ju(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Gf(h,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);h.s=b}else h.s=null}function j_(h,b,E){b instanceof Lu?(h.i=b,fH(h.i,h.h)):(E||(b=Ru(b,cH)),h.i=new Lu(b,h.h))}function lt(h,b,E){h.i.set(b,E)}function zf(h){return lt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function ju(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ru(h,b,E){return typeof h=="string"?(h=encodeURI(h).replace(b,AH),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function AH(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var R_=/[#\/\?@]/g,lH=/[#\?:]/g,uH=/[#\?]/g,cH=/[#\?@]/g,dH=/#/g;function Lu(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function Ks(h){h.g||(h.g=new Map,h.h=0,h.i&&oH(h.i,function(b,E){h.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}t=Lu.prototype,t.add=function(h,b){Ks(this),this.i=null,h=kA(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(b),this.h+=1,this};function L_(h,b){Ks(h),b=kA(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function M_(h,b){return Ks(h),b=kA(h,b),h.g.has(b)}t.forEach=function(h,b){Ks(this),this.g.forEach(function(E,U){E.forEach(function(L){h.call(b,L,U,this)},this)},this)},t.na=function(){Ks(this);const h=Array.from(this.g.values()),b=Array.from(this.g.keys()),E=[];for(let U=0;U<b.length;U++){const L=h[U];for(let $=0;$<L.length;$++)E.push(b[U])}return E},t.V=function(h){Ks(this);let b=[];if(typeof h=="string")M_(this,h)&&(b=b.concat(this.g.get(kA(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)b=b.concat(h[E])}return b},t.set=function(h,b){return Ks(this),this.i=null,h=kA(this,h),M_(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=this.V(h),0<h.length?String(h[0]):b):b};function H_(h,b,E){L_(h,b),0<E.length&&(h.i=null,h.g.set(kA(h,b),p(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(var E=0;E<b.length;E++){var U=b[E];const $=encodeURIComponent(String(U)),ie=this.V(U);for(U=0;U<ie.length;U++){var L=$;ie[U]!==""&&(L+="="+encodeURIComponent(String(ie[U]))),h.push(L)}}return this.i=h.join("&")};function kA(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function fH(h,b){b&&!h.j&&(Ks(h),h.i=null,h.g.forEach(function(E,U){var L=U.toLowerCase();U!=L&&(L_(this,U),H_(this,L,E))},h)),h.j=b}function hH(h,b){const E=new Hs;if(o.Image){const U=new Image;U.onload=g($s,E,"TestLoadImage: loaded",!0,b,U),U.onerror=g($s,E,"TestLoadImage: error",!1,b,U),U.onabort=g($s,E,"TestLoadImage: abort",!1,b,U),U.ontimeout=g($s,E,"TestLoadImage: timeout",!1,b,U),o.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=h}else b(!1)}function gH(h,b){const E=new Hs,U=new AbortController,L=setTimeout(()=>{U.abort(),$s(E,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:U.signal}).then($=>{clearTimeout(L),$.ok?$s(E,"TestPingServer: ok",!0,b):$s(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(L),$s(E,"TestPingServer: error",!1,b)})}function $s(h,b,E,U,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),U(E)}catch{}}function pH(){this.g=new oe}function mH(h,b,E){const U=E||"";try{O_(h,function(L,$){let ie=L;l(L)&&(ie=q(L)),b.push(U+$+"="+encodeURIComponent(ie))})}catch(L){throw b.push(U+"type="+encodeURIComponent("_badmap")),L}}function Wf(h){this.l=h.Ub||null,this.j=h.eb||!1}m(Wf,be),Wf.prototype.g=function(){return new Xf(this.l,this.j)},Wf.prototype.i=function(h){return function(){return h}}({});function Xf(h,b){rr.call(this),this.D=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Xf,rr),t=Xf.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=b,this.readyState=1,Hu(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(b.body=h),(this.D||o).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mu(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Hu(this)),this.g&&(this.readyState=3,Hu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;V_(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function V_(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?Mu(this):Hu(this),this.readyState==3&&V_(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Mu(this))},t.Qa=function(h){this.g&&(this.response=h,Mu(this))},t.ga=function(){this.g&&Mu(this)};function Mu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Hu(h)}t.setRequestHeader=function(h,b){this.u.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=b.next();return h.join(`\r
`)};function Hu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Xf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function K_(h){let b="";return F(h,function(E,U){b+=U,b+=":",b+=E,b+=`\r
`}),b}function kv(h,b,E){e:{for(U in E){var U=!1;break e}U=!0}U||(E=K_(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):lt(h,b,E))}function Ft(h){rr.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Ft,rr);var vH=/^https?$/i,yH=["POST","PUT"];t=Ft.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,b,E,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sv.g(),this.v=this.o?Te(this.o):Te(Sv),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch($){$_(this,$);return}if(h=E||"",E=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var L in U)E.set(L,U[L]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const $ of U.keys())E.set($,U.get($));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),L=o.FormData&&h instanceof o.FormData,!(0<=Array.prototype.indexOf.call(yH,b,void 0))||U||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ie]of E)this.g.setRequestHeader($,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{W_(this),this.u=!0,this.g.send(h),this.u=!1}catch($){$_(this,$)}};function $_(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.m=5,G_(h),Yf(h)}function G_(h){h.A||(h.A=!0,cr(h,"complete"),cr(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,cr(this,"complete"),cr(this,"abort"),Yf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yf(this,!0)),Ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?z_(this):this.bb())},t.bb=function(){z_(this)};function z_(h){if(h.h&&typeof a<"u"&&(!h.v[1]||$i(h)!=4||h.Z()!=2)){if(h.u&&$i(h)==4)Rf(h.Ea,0,h);else if(cr(h,"readystatechange"),$i(h)==4){h.h=!1;try{const ie=h.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var U;if(U=ie===0){var L=String(h.D).match(D_)[1]||null;!L&&o.self&&o.self.location&&(L=o.self.location.protocol.slice(0,-1)),U=!vH.test(L?L.toLowerCase():"")}E=U}if(E)cr(h,"complete"),cr(h,"success");else{h.m=6;try{var $=2<$i(h)?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.Z()+"]",G_(h)}}finally{Yf(h)}}}}function Yf(h,b){if(h.g){W_(h);const E=h.g,U=h.v[0]?()=>{}:null;h.g=null,h.v=null,b||cr(h,"ready");try{E.onreadystatechange=U}catch{}}}function W_(h){h.I&&(o.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function $i(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<$i(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),le(b)}};function X_(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function wH(h){const b={};h=(h.g&&2<=$i(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<h.length;U++){if(w(h[U]))continue;var E=N(h[U]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=b[L]||[];b[L]=$,$.push(E)}C(b,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vu(h,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||b}function Y_(h){this.Aa=0,this.i=[],this.j=new Hs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vu("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vu("baseRetryDelayMs",5e3,h),this.cb=Vu("retryDelaySeedMs",1e4,h),this.Wa=Vu("forwardChannelMaxRetries",2,h),this.wa=Vu("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new U_(h&&h.concurrentRequestLimit),this.Da=new pH,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Y_.prototype,t.la=8,t.G=1,t.connect=function(h,b,E,U){kt(0),this.W=h,this.H=b||{},E&&U!==void 0&&(this.H.OSID=E,this.H.OAID=U),this.F=this.X,this.I=sI(this,null,this.W),Jf(this)};function Ov(h){if(q_(h),h.G==3){var b=h.U++,E=Ki(h.I);if(lt(E,"SID",h.K),lt(E,"RID",b),lt(E,"TYPE","terminate"),Ku(h,E),b=new Vs(h,h.j,b),b.L=2,b.v=zf(Ki(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(b.v.toString(),"")}catch{}!E&&o.Image&&(new Image().src=b.v,E=!0),E||(b.g=aI(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Kf(b)}iI(h)}function qf(h){h.g&&(jv(h),h.g.cancel(),h.g=null)}function q_(h){qf(h),h.u&&(o.clearTimeout(h.u),h.u=null),Zf(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&o.clearTimeout(h.s),h.s=null)}function Jf(h){if(!P_(h.h)&&!h.s){h.s=!0;var b=h.Ga;xe||ce(),Y||(xe(),Y=!0),ne.add(b,h),h.B=0}}function xH(h,b){return Q_(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=b.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ms(f(h.Ga,h,b),nI(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const L=new Vs(this,this.j,h);let $=this.o;if(this.S&&($?($=_($),P($,this.S)):$=this.S),this.m!==null||this.O||(L.H=$,$=null),this.P)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var U=this.i[E];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(b+=U,4096<b){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=Z_(this,L,b),E=Ki(this.I),lt(E,"RID",h),lt(E,"CVER",22),this.D&&lt(E,"X-HTTP-Session-Id",this.D),Ku(this,E),$&&(this.O?b="headers="+encodeURIComponent(String(K_($)))+"&"+b:this.m&&kv(E,this.m,$)),Nv(this.h,L),this.Ua&&lt(E,"TYPE","init"),this.P?(lt(E,"$req",b),lt(E,"SID","null"),L.T=!0,Fv(L,E,null)):Fv(L,E,b),this.G=2}}else this.G==3&&(h?J_(this,h):this.i.length==0||P_(this.h)||J_(this))};function J_(h,b){var E;b?E=b.l:E=h.U++;const U=Ki(h.I);lt(U,"SID",h.K),lt(U,"RID",E),lt(U,"AID",h.T),Ku(h,U),h.m&&h.o&&kv(U,h.m,h.o),E=new Vs(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),b&&(h.i=b.D.concat(h.i)),b=Z_(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Nv(h.h,E),Fv(E,U,b)}function Ku(h,b){h.H&&F(h.H,function(E,U){lt(b,U,E)}),h.l&&O_({},function(E,U){lt(b,U,E)})}function Z_(h,b,E){E=Math.min(h.i.length,E);var U=h.l?f(h.l.Na,h.l,h):null;e:{var L=h.i;let $=-1;for(;;){const ie=["count="+E];$==-1?0<E?($=L[0].g,ie.push("ofs="+$)):$=0:ie.push("ofs="+$);let rt=!0;for(let fr=0;fr<E;fr++){let Ve=L[fr].g;const Cr=L[fr].map;if(Ve-=$,0>Ve)$=Math.max(0,L[fr].g-100),rt=!1;else try{mH(Cr,ie,"req"+Ve+"_")}catch{U&&U(Cr)}}if(rt){U=ie.join("&");break e}}}return h=h.i.splice(0,E),b.D=h,U}function eI(h){if(!h.g&&!h.u){h.Y=1;var b=h.Fa;xe||ce(),Y||(xe(),Y=!0),ne.add(b,h),h.v=0}}function Dv(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ms(f(h.Fa,h),nI(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,tI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ms(f(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),qf(this),tI(this))};function jv(h){h.A!=null&&(o.clearTimeout(h.A),h.A=null)}function tI(h){h.g=new Vs(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var b=Ki(h.qa);lt(b,"RID","rpc"),lt(b,"SID",h.K),lt(b,"AID",h.T),lt(b,"CI",h.F?"0":"1"),!h.F&&h.ja&&lt(b,"TO",h.ja),lt(b,"TYPE","xmlhttp"),Ku(h,b),h.m&&h.o&&kv(b,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=zf(Ki(b)),E.m=null,E.P=!0,S_(E,h)}t.Za=function(){this.C!=null&&(this.C=null,qf(this),Dv(this),kt(19))};function Zf(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function rI(h,b){var E=null;if(h.g==b){Zf(h),jv(h),h.g=null;var U=2}else if(Qv(h.h,b))E=b.D,N_(h.h,b),U=1;else return;if(h.G!=0){if(b.o)if(U==1){E=b.m?b.m.length:0,b=Date.now()-b.F;var L=h.B;U=jr(),cr(U,new ln(U,E)),Jf(h)}else eI(h);else if(L=b.s,L==3||L==0&&0<b.X||!(U==1&&xH(h,b)||U==2&&Dv(h)))switch(E&&0<E.length&&(b=h.h,b.i=b.i.concat(E)),L){case 1:vo(h,5);break;case 4:vo(h,10);break;case 3:vo(h,6);break;default:vo(h,2)}}}function nI(h,b){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*b}function vo(h,b){if(h.j.info("Error code "+b),b==2){var E=f(h.fb,h),U=h.Xa;const L=!U;U=new mo(U||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||$f(U,"https"),zf(U),L?hH(U.toString(),E):gH(U.toString(),E)}else kt(2);h.G=0,h.l&&h.l.sa(b),iI(h),q_(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function iI(h){if(h.G=0,h.ka=[],h.l){const b=k_(h.h);(b.length!=0||h.i.length!=0)&&(v(h.ka,b),v(h.ka,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.ra()}}function sI(h,b,E){var U=E instanceof mo?Ki(E):new mo(E);if(U.g!="")b&&(U.g=b+"."+U.g),Gf(U,U.s);else{var L=o.location;U=L.protocol,b=b?b+"."+L.hostname:L.hostname,L=+L.port;var $=new mo(null);U&&$f($,U),b&&($.g=b),L&&Gf($,L),E&&($.l=E),U=$}return E=h.D,b=h.ya,E&&b&&lt(U,E,b),lt(U,"VER",h.la),Ku(h,U),U}function aI(h,b,E){if(b&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Ca&&!h.pa?new Ft(new Wf({eb:E})):new Ft(h.pa),b.Ha(h.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function oI(){}t=oI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function eh(){}eh.prototype.g=function(h,b){return new un(h,b)};function un(h,b){rr.call(this),this.g=new Y_(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(h?h["X-WebChannel-Client-Profile"]=b.va:h={"X-WebChannel-Client-Profile":b.va}),this.g.S=h,(h=b&&b.Sb)&&!w(h)&&(this.g.m=h),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!w(b)&&(this.g.D=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new OA(this)}m(un,rr),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Ov(this.g)},un.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=q(h),h=E);b.i.push(new iH(b.Ya++,h)),b.G==3&&Jf(b)},un.prototype.N=function(){this.g.l=null,delete this.j,Ov(this.g),delete this.g,un.aa.N.call(this)};function AI(h){Ne.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const E in b){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}m(AI,Ne);function lI(){Je.call(this),this.status=1}m(lI,Je);function OA(h){this.g=h}m(OA,oI),OA.prototype.ua=function(){cr(this.g,"a")},OA.prototype.ta=function(h){cr(this.g,new AI(h))},OA.prototype.sa=function(h){cr(this.g,new lI)},OA.prototype.ra=function(){cr(this.g,"b")},eh.prototype.createWebChannel=eh.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Gk=function(){return new eh},$k=function(){return jr()},Kk=dr,xx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hf.NO_ERROR=0,Hf.TIMEOUT=8,Hf.HTTP_ERROR=6,Cg=Hf,E_.COMPLETE="complete",Vk=E_,ze.EventType=Fe,Fe.OPEN="a",Fe.CLOSE="b",Fe.ERROR="c",Fe.MESSAGE="d",rr.prototype.listen=rr.prototype.K,Bc=ze,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Hk=Ft}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});const LS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=new lC("@firebase/firestore");function qA(){return oA.logLevel}function Z(t,...e){if(oA.logLevel<=je.DEBUG){const r=e.map(dC);oA.debug(`Firestore (${mu}): ${t}`,...r)}}function Mr(t,...e){if(oA.logLevel<=je.ERROR){const r=e.map(dC);oA.error(`Firestore (${mu}): ${t}`,...r)}}function La(t,...e){if(oA.logLevel<=je.WARN){const r=e.map(dC);oA.warn(`Firestore (${mu}): ${t}`,...r)}}function dC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${mu}) INTERNAL ASSERTION FAILED: `+t;throw Mr(e),new Error(e)}function Be(t,e){t||ye()}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ns{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(mr.UNAUTHENTICATED))}shutdown(){}}class N8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class k8{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Be(this.o===void 0);let n=this.i;const i=A=>this.i!==n?(n=this.i,r(A)):Promise.resolve();let s=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ni,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const A=s;e.enqueueRetryable(async()=>{await A.promise,await i(this.currentUser)})},o=A=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(A=>o(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?o(A):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ni)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Be(typeof n.accessToken=="string"),new zk(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new mr(e)}}class O8{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=mr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class D8{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new O8(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Be(this.o===void 0);const n=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Be(typeof r.token=="string"),this.R=r.token,new j8(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=L8(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function Qe(t,e){return t<e?-1:t>e?1:0}function Vl(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}function Xk(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new he(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new he(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new he(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new xt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new xt(0,0))}static max(){return new Ee(new xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,r,n){r===void 0?r=0:r>e.length&&ye(),n===void 0?n=e.length-r:n>e.length-r&&ye(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Sd.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Sd?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Ye extends Sd{construct(e,r,n){return new Ye(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new he(X.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Ye(r)}static emptyPath(){return new Ye([])}}const M8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Sd{construct(e,r,n){return new vt(e,r,n)}static isValidIdentifier(e){return M8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new he(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new he(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const A=e[i+1];if(A!=="\\"&&A!=="."&&A!=="`")throw new he(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=A,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new he(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(r)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(Ye.fromString(e))}static fromName(e){return new Ae(Ye.fromString(e).popFirst(5))}static empty(){return new Ae(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ye.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,r,n,i){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=i}}function bx(t){return t.fields.find(e=>e.kind===2)}function Co(t){return t.fields.filter(e=>e.kind!==2)}pp.UNKNOWN_ID=-1;class Eg{constructor(e,r){this.fieldPath=e,this.kind=r}}class Td{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Td(0,Cn.min())}}function H8(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ee.fromTimestamp(n===1e9?new xt(r+1,0):new xt(r,n));return new Cn(i,Ae.empty(),e)}function Yk(t){return new Cn(t.readTime,t.key,-1)}class Cn{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Cn(Ee.min(),Ae.empty(),-1)}static max(){return new Cn(Ee.max(),Ae.empty(),-1)}}function hC(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ae.comparator(t.documentKey,e.documentKey),r!==0?r:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==qk)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new M((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof M?r:M.resolve(r)}catch(r){return M.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):M.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):M.reject(r)}static resolve(e){return new M((r,n)=>{r(e)})}static reject(e){return new M((r,n)=>{n(e)})}static waitFor(e){return new M((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},A=>n(A))}),a=!0,s===i&&r()})}static or(e){let r=M.resolve(!1);for(const n of e)r=r.next(i=>i?M.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new M((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let A=0;A<s;A++){const l=A;r(e[l]).next(u=>{a[l]=u,++o,o===s&&n(a)},u=>i(u))}})}static doWhile(e,r){return new M((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Ni,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new $c(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{const i=gC(n.target.error);this.V.reject(new $c(e,i))}}static open(e,r,n,i){try{return new Ym(r,e.transaction(i,n))}catch(s){throw new $c(r,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Z("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new K8(r)}}class Fa{constructor(e,r,n){this.name=e,this.version=r,this.p=n,Fa.S(Yt())===12.2&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Z("SimpleDb","Removing database:",e),So(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Nk())return!1;if(Fa.v())return!0;const e=Yt(),r=Fa.S(e),n=0<r&&r<10,i=Zk(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(Z("SimpleDb","Opening database:",this.name),this.db=await new Promise((r,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;r(a)},i.onblocked=()=>{n(new $c(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?n(new he(X.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?n(new he(X.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):n(new $c(e,a))},i.onupgradeneeded=s=>{Z("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.O(a,i.transaction,s.oldVersion,this.version).next(()=>{Z("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=r=>this.N(r)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,i){const s=r==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const o=Ym.open(this.db,e,s?"readonly":"readwrite",n),A=i(o).next(l=>(o.g(),l)).catch(l=>(o.abort(l),M.reject(l))).toPromise();return A.catch(()=>{}),await o.m,A}catch(o){const A=o,l=A.name!=="FirebaseError"&&a<3;if(Z("SimpleDb","Transaction failed with error:",A.message,"Retrying:",l),this.close(),!l)return Promise.reject(A)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Zk(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class V8{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return So(this.B.delete())}}class $c extends he{constructor(e,r){super(X.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function ro(t){return t.name==="IndexedDbTransactionError"}class K8{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(Z("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(Z("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),So(n)}add(e){return Z("SimpleDb","ADD",this.store.name,e,e),So(this.store.add(e))}get(e){return So(this.store.get(e)).next(r=>(r===void 0&&(r=null),Z("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Z("SimpleDb","DELETE",this.store.name,e),So(this.store.delete(e))}count(){return Z("SimpleDb","COUNT",this.store.name),So(this.store.count())}U(e,r){const n=this.options(e,r),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(n.range);return new M((a,o)=>{s.onerror=A=>{o(A.target.error)},s.onsuccess=A=>{a(A.target.result)}})}{const s=this.cursor(n),a=[];return this.W(s,(o,A)=>{a.push(A)}).next(()=>a)}}G(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new M((i,s)=>{n.onerror=a=>{s(a.target.error)},n.onsuccess=a=>{i(a.target.result)}})}j(e,r){Z("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.H=!1;const i=this.cursor(n);return this.W(i,(s,a,o)=>o.delete())}J(e,r){let n;r?n=e:(n={},r=e);const i=this.cursor(n);return this.W(i,r)}Y(e){const r=this.cursor({});return new M((n,i)=>{r.onerror=s=>{const a=gC(s.target.error);i(a)},r.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(o=>{o?a.continue():n()}):n()}})}W(e,r){const n=[];return new M((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const A=new V8(o),l=r(o.primaryKey,o.value,A);if(l instanceof M){const u=l.catch(c=>(A.done(),M.reject(c)));n.push(u)}A.isDone?i():A.K===null?o.continue():o.continue(A.K)}}).next(()=>M.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function So(t){return new M((e,r)=>{t.onsuccess=n=>{const i=n.target.result;e(i)},t.onerror=n=>{const i=gC(n.target.error);r(i)}})}let MS=!1;function gC(t){const e=Fa.S(Yt());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new he("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return MS||(MS=!0,setTimeout(()=>{throw n},0)),n}}return t}class $8{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){Z("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{Z("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(r){ro(r)?Z("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):await bA(r)}await this.X(6e4)})}}class G8{constructor(e,r){this.localStore=e,this.persistence=r}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.te(r,e))}te(e,r){const n=new Set;let i=r,s=!0;return M.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!n.has(a))return Z("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next(o=>{i-=o,n.add(a)});s=!1})).next(()=>r-i)}ne(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(i=>this.localStore.localDocuments.getNextDocuments(e,r,i,n).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.re(i,s)).next(o=>(Z("IndexBackfiller",`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,r,o))).next(()=>a.size)}))}re(e,r){let n=e;return r.changes.forEach((i,s)=>{const a=Yk(s);hC(a,n)>0&&(n=a)}),new Cn(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Kn.oe=-1;function qm(t){return t==null}function Fd(t){return t===0&&1/t==-1/0}function z8(t){return typeof t=="number"&&Number.isInteger(t)&&!Fd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=HS(e)),e=W8(t.get(r),e);return HS(e)}function W8(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case"":r+="";break;default:r+=s}}return r}function HS(t){return t+""}function Ti(t){const e=t.length;if(Be(e>=2),e===2)return Be(t.charAt(0)===""&&t.charAt(1)===""),Ye.emptyPath();const r=e-2,n=[];let i="";for(let s=0;s<e;){const a=t.indexOf("",s);switch((a<0||a>r)&&ye(),t.charAt(a+1)){case"":const o=t.substring(s,a);let A;i.length===0?A=o:(i+=o,A=i,i=""),n.push(A);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:ye()}s=a+2}return new Ye(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t,e){return[t,Kr(e)]}function eO(t,e,r){return[t,Kr(e),r]}const X8={},Y8=["prefixPath","collectionGroup","readTime","documentId"],q8=["prefixPath","collectionGroup","documentId"],J8=["collectionGroup","readTime","prefixPath","documentId"],Z8=["canonicalId","targetId"],e9=["targetId","path"],t9=["path","targetId"],r9=["collectionId","parent"],n9=["indexId","uid"],i9=["uid","sequenceNumber"],s9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],a9=["indexId","uid","orderedDocumentKey"],o9=["userId","collectionPath","documentId"],A9=["userId","collectionPath","largestBatchId"],l9=["userId","collectionGroup","largestBatchId"],tO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],u9=[...tO,"documentOverlays"],rO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nO=rO,pC=[...nO,"indexConfiguration","indexState","indexEntries"],c9=pC,d9=[...pC,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx extends Jk{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function qt(t,e){const r=Ue(t);return Fa.F(r._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function vu(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function iO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,r){this.comparator=e,this.root=r||vr.EMPTY}insert(e,r){return new bt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,vr.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wh(this.root,e,this.comparator,!0)}}class wh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vr{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??vr.RED,this.left=i??vr.EMPTY,this.right=s??vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new vr(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return vr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}vr.EMPTY=null,vr.RED=!0,vr.BLACK=!1;vr.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,r,n,i,s){return this}insert(e,r,n){return new vr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new $S(this.data.getIterator())}getIteratorFrom(e){return new $S(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof tt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new tt(this.comparator);return r.data=e,r}}class $S{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function RA(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new $n([])}unionWith(e){let r=new tt(vt.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new $n(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sO("Invalid base64 string: "+s):s}}(e);return new Rt(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Rt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const f9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(t){if(Be(!!t),typeof t=="string"){let e=0;const r=f9.exec(t);if(Be(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ma(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function vC(t){const e=t.mapValue.fields.__previous_value__;return mC(e)?vC(e):e}function Ud(t){const e=Cs(t.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,r,n,i,s,a,o,A,l){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=A,this.useFetchStreams=l}}class Ha{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Ha("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ha&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ig={nullValue:"NULL_VALUE"};function AA(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mC(t)?4:aO(t)?9007199254740991:Jm(t)?10:11:ye()}function ji(t,e){if(t===e)return!0;const r=AA(t);if(r!==AA(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ud(t).isEqual(Ud(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Cs(i.timestampValue),o=Cs(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ma(i.bytesValue).isEqual(Ma(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return pt(i.geoPointValue.latitude)===pt(s.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return pt(i.integerValue)===pt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=pt(i.doubleValue),o=pt(s.doubleValue);return a===o?Fd(a)===Fd(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Vl(t.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(KS(a)!==KS(o))return!1;for(const A in a)if(a.hasOwnProperty(A)&&(o[A]===void 0||!ji(a[A],o[A])))return!1;return!0}(t,e);default:return ye()}}function Pd(t,e){return(t.values||[]).find(r=>ji(r,e))!==void 0}function Va(t,e){if(t===e)return 0;const r=AA(t),n=AA(e);if(r!==n)return Qe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=pt(s.integerValue||s.doubleValue),A=pt(a.integerValue||a.doubleValue);return o<A?-1:o>A?1:o===A?0:isNaN(o)?isNaN(A)?0:-1:1}(t,e);case 3:return GS(t.timestampValue,e.timestampValue);case 4:return GS(Ud(t),Ud(e));case 5:return Qe(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Ma(s),A=Ma(a);return o.compareTo(A)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),A=a.split("/");for(let l=0;l<o.length&&l<A.length;l++){const u=Qe(o[l],A[l]);if(u!==0)return u}return Qe(o.length,A.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Qe(pt(s.latitude),pt(a.latitude));return o!==0?o:Qe(pt(s.longitude),pt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zS(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,A,l,u;const c=s.fields||{},f=a.fields||{},g=(o=c.value)===null||o===void 0?void 0:o.arrayValue,m=(A=f.value)===null||A===void 0?void 0:A.arrayValue,p=Qe(((l=g==null?void 0:g.values)===null||l===void 0?void 0:l.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return p!==0?p:zS(g,m)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===da.mapValue&&a===da.mapValue)return 0;if(s===da.mapValue)return 1;if(a===da.mapValue)return-1;const o=s.fields||{},A=Object.keys(o),l=a.fields||{},u=Object.keys(l);A.sort(),u.sort();for(let c=0;c<A.length&&c<u.length;++c){const f=Qe(A[c],u[c]);if(f!==0)return f;const g=Va(o[A[c]],l[u[c]]);if(g!==0)return g}return Qe(A.length,u.length)}(t.mapValue,e.mapValue);default:throw ye()}}function GS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const r=Cs(t),n=Cs(e),i=Qe(r.seconds,n.seconds);return i!==0?i:Qe(r.nanos,n.nanos)}function zS(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Va(r[i],n[i]);if(s)return s}return Qe(r.length,n.length)}function Kl(t){return Cx(t)}function Cx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Cs(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Ma(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ae.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=Cx(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${Cx(r.fields[a])}`;return i+"}"}(t.mapValue):ye()}function yC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ex(t){return!!t&&"integerValue"in t}function Qd(t){return!!t&&"arrayValue"in t}function WS(t){return!!t&&"nullValue"in t}function XS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sg(t){return!!t&&"mapValue"in t}function Jm(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Gc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vu(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Gc(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Gc(t.arrayValue.values[r]);return e}return Object.assign({},t)}function aO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const oO={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function g9(t){return"nullValue"in t?Ig:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?yC(Ha.empty(),Ae.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Jm(t)?oO:{mapValue:{}}:ye()}function p9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?yC(Ha.empty(),Ae.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?oO:"mapValue"in t?Jm(t)?{mapValue:{}}:da:ye()}function YS(t,e){const r=Va(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function qS(t,e){const r=Va(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Sg(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gc(r)}setAll(e){let r=vt.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const A=this.getFieldsMap(r);this.applyChanges(A,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=Gc(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());Sg(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Sg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){vu(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new en(Gc(this.value))}}function AO(t){const e=[];return vu(t.fields,(r,n)=>{const i=new vt([r]);if(Sg(n)){const s=AO(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Nt(e,0,Ee.min(),Ee.min(),Ee.min(),en.empty(),0)}static newFoundDocument(e,r,n,i){return new Nt(e,1,r,Ee.min(),n,i,0)}static newNoDocument(e,r){return new Nt(e,2,r,Ee.min(),Ee.min(),en.empty(),0)}static newUnknownDocument(e,r){return new Nt(e,3,r,Ee.min(),Ee.min(),en.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,r){this.position=e,this.inclusive=r}}function JS(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=Ae.comparator(Ae.fromName(a.referenceValue),r.key):n=Va(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function ZS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ji(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,r="asc"){this.field=e,this.dir=r}}function m9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{}class Re extends lO{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new v9(e,r,n):r==="array-contains"?new x9(e,n):r==="in"?new gO(e,n):r==="not-in"?new b9(e,n):r==="array-contains-any"?new B9(e,n):new Re(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new y9(e,n):new w9(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Va(r,this.value)):r!==null&&AA(this.value)===AA(r)&&this.matchesComparison(Va(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class et extends lO{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new et(e,r)}matches(e){return Gl(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Gl(t){return t.op==="and"}function _x(t){return t.op==="or"}function wC(t){return uO(t)&&Gl(t)}function uO(t){for(const e of t.filters)if(e instanceof et)return!1;return!0}function Ix(t){if(t instanceof Re)return t.field.canonicalString()+t.op.toString()+Kl(t.value);if(wC(t))return t.filters.map(e=>Ix(e)).join(",");{const e=t.filters.map(r=>Ix(r)).join(",");return`${t.op}(${e})`}}function cO(t,e){return t instanceof Re?function(n,i){return i instanceof Re&&n.op===i.op&&n.field.isEqual(i.field)&&ji(n.value,i.value)}(t,e):t instanceof et?function(n,i){return i instanceof et&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&cO(a,i.filters[o]),!0):!1}(t,e):void ye()}function dO(t,e){const r=t.filters.concat(e);return et.create(r,t.op)}function fO(t){return t instanceof Re?function(r){return`${r.field.canonicalString()} ${r.op} ${Kl(r.value)}`}(t):t instanceof et?function(r){return r.op.toString()+" {"+r.getFilters().map(fO).join(" ,")+"}"}(t):"Filter"}class v9 extends Re{constructor(e,r,n){super(e,r,n),this.key=Ae.fromName(n.referenceValue)}matches(e){const r=Ae.comparator(e.key,this.key);return this.matchesComparison(r)}}class y9 extends Re{constructor(e,r){super(e,"in",r),this.keys=hO("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class w9 extends Re{constructor(e,r){super(e,"not-in",r),this.keys=hO("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function hO(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ae.fromName(n.referenceValue))}class x9 extends Re{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Qd(r)&&Pd(r.arrayValue,this.value)}}class gO extends Re{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Pd(this.value.arrayValue,r)}}class b9 extends Re{constructor(e,r){super(e,"not-in",r)}matches(e){if(Pd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Pd(this.value.arrayValue,r)}}class B9 extends Re{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Qd(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Pd(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function Sx(t,e=null,r=[],n=[],i=null,s=null,a=null){return new C9(t,e,r,n,i,s,a)}function lA(t){const e=Ue(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Ix(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),qm(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Kl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Kl(n)).join(",")),e.ue=r}return e.ue}function of(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!m9(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!cO(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZS(t.startAt,e.startAt)&&ZS(t.endAt,e.endAt)}function vp(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function yp(t,e){return t.filters.filter(r=>r instanceof Re&&r.field.isEqual(e))}function eT(t,e,r){let n=Ig,i=!0;for(const s of yp(t,e)){let a=Ig,o=!0;switch(s.op){case"<":case"<=":a=g9(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=Ig}YS({value:n,inclusive:i},{value:a,inclusive:o})<0&&(n=a,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=r.position[s];YS({value:n,inclusive:i},{value:a,inclusive:r.inclusive})<0&&(n=a,i=r.inclusive);break}}return{value:n,inclusive:i}}function tT(t,e,r){let n=da,i=!0;for(const s of yp(t,e)){let a=da,o=!0;switch(s.op){case">=":case">":a=p9(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=da}qS({value:n,inclusive:i},{value:a,inclusive:o})>0&&(n=a,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=r.position[s];qS({value:n,inclusive:i},{value:a,inclusive:r.inclusive})>0&&(n=a,i=r.inclusive);break}}return{value:n,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,A=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=A,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function E9(t,e,r,n,i,s,a,o){return new Zm(t,e,r,n,i,s,a,o)}function Af(t){return new Zm(t)}function rT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _9(t){return t.collectionGroup!==null}function zc(t){const e=Ue(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new tt(vt.comparator);return a.filters.forEach(A=>{A.getFlattenedFilters().forEach(l=>{l.isInequality()&&(o=o.add(l.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new mp(s,n))}),r.has(vt.keyField().canonicalString())||e.ce.push(new mp(vt.keyField(),n))}return e.ce}function Yn(t){const e=Ue(t);return e.le||(e.le=I9(e,zc(t))),e.le}function I9(t,e){if(t.limitType==="F")return Sx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new mp(i.field,s)});const r=t.endAt?new $l(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new $l(t.startAt.position,t.startAt.inclusive):null;return Sx(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function wp(t,e,r){return new Zm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function e0(t,e){return of(Yn(t),Yn(e))&&t.limitType===e.limitType}function pO(t){return`${lA(Yn(t))}|lt:${t.limitType}`}function JA(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>fO(i)).join(", ")}]`),qm(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Kl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Kl(i)).join(",")),`Target(${n})`}(Yn(t))}; limitType=${t.limitType})`}function lf(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Ae.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of zc(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,A){const l=JS(a,o,A);return a.inclusive?l<=0:l<0}(n.startAt,zc(n),i)||n.endAt&&!function(a,o,A){const l=JS(a,o,A);return a.inclusive?l>=0:l>0}(n.endAt,zc(n),i))}(t,e)}function S9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mO(t){return(e,r)=>{let n=!1;for(const i of zc(t)){const s=T9(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function T9(t,e,r){const n=t.field.isKeyField()?Ae.comparator(e.key,r.key):function(s,a,o){const A=a.data.field(s),l=o.data.field(s);return A!==null&&l!==null?Va(A,l):ye()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vu(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return iO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=new bt(Ae.comparator);function yn(){return F9}const vO=new bt(Ae.comparator);function Cc(...t){let e=vO;for(const r of t)e=e.insert(r.key,r);return e}function yO(t){let e=vO;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Fi(){return Wc()}function wO(){return Wc()}function Wc(){return new no(t=>t.toString(),(t,e)=>t.isEqual(e))}const U9=new bt(Ae.comparator),P9=new tt(Ae.comparator);function ke(...t){let e=P9;for(const r of t)e=e.add(r);return e}const Q9=new tt(Qe);function N9(){return Q9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fd(e)?"-0":e}}function xO(t){return{integerValue:""+t}}function k9(t,e){return z8(e)?xO(e):xC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(){this._=void 0}}function O9(t,e,r){return t instanceof zl?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&mC(s)&&(s=vC(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(r,e):t instanceof Wl?BO(t,e):t instanceof Xl?CO(t,e):function(i,s){const a=bO(i,s),o=nT(a)+nT(i.Pe);return Ex(a)&&Ex(i.Pe)?xO(o):xC(i.serializer,o)}(t,e)}function D9(t,e,r){return t instanceof Wl?BO(t,e):t instanceof Xl?CO(t,e):r}function bO(t,e){return t instanceof Nd?function(n){return Ex(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class zl extends t0{}class Wl extends t0{constructor(e){super(),this.elements=e}}function BO(t,e){const r=EO(e);for(const n of t.elements)r.some(i=>ji(i,n))||r.push(n);return{arrayValue:{values:r}}}class Xl extends t0{constructor(e){super(),this.elements=e}}function CO(t,e){let r=EO(e);for(const n of t.elements)r=r.filter(i=>!ji(i,n));return{arrayValue:{values:r}}}class Nd extends t0{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function nT(t){return pt(t.integerValue||t.doubleValue)}function EO(t){return Qd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,r){this.field=e,this.transform=r}}function j9(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Wl&&i instanceof Wl||n instanceof Xl&&i instanceof Xl?Vl(n.elements,i.elements,ji):n instanceof Nd&&i instanceof Nd?ji(n.Pe,i.Pe):n instanceof zl&&i instanceof zl}(t.transform,e.transform)}class R9{constructor(e,r){this.version=e,this.transformResults=r}}class wn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class r0{}function IO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bC(t.key,wn.none()):new yu(t.key,t.data,wn.none());{const r=t.data,n=en.empty();let i=new tt(vt.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new io(t.key,n,new $n(i.toArray()),wn.none())}}function L9(t,e,r){t instanceof yu?function(i,s,a){const o=i.value.clone(),A=sT(i.fieldTransforms,s,a.transformResults);o.setAll(A),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof io?function(i,s,a){if(!Tg(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=sT(i.fieldTransforms,s,a.transformResults),A=s.data;A.setAll(SO(i)),A.setAll(o),s.convertToFoundDocument(a.version,A).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function Xc(t,e,r,n){return t instanceof yu?function(s,a,o,A){if(!Tg(s.precondition,a))return o;const l=s.value.clone(),u=aT(s.fieldTransforms,A,a);return l.setAll(u),a.convertToFoundDocument(a.version,l).setHasLocalMutations(),null}(t,e,r,n):t instanceof io?function(s,a,o,A){if(!Tg(s.precondition,a))return o;const l=aT(s.fieldTransforms,A,a),u=a.data;return u.setAll(SO(s)),u.setAll(l),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(c=>c.field))}(t,e,r,n):function(s,a,o){return Tg(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function M9(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=bO(n.transform,i||null);s!=null&&(r===null&&(r=en.empty()),r.set(n.field,s))}return r||null}function iT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Vl(n,i,(s,a)=>j9(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yu extends r0{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class io extends r0{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function SO(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function sT(t,e,r){const n=new Map;Be(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,D9(a,o,r[i]))}return n}function aT(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,O9(s,a,e))}return n}class bC extends r0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TO extends r0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&L9(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Xc(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Xc(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=wO();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const A=IO(a,o);A!==null&&n.set(i.key,A),a.isValidDocument()||a.convertToNoDocument(Ee.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ke())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,(r,n)=>iT(r,n))&&Vl(this.baseMutations,e.baseMutations,(r,n)=>iT(r,n))}}class CC{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Be(e.mutations.length===n.length);let i=function(){return U9}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new CC(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Le;function V9(t){switch(t){default:return ye();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function FO(t){if(t===void 0)return Mr("GRPC error has no .code"),X.UNKNOWN;switch(t){case Mt.OK:return X.OK;case Mt.CANCELLED:return X.CANCELLED;case Mt.UNKNOWN:return X.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return X.INTERNAL;case Mt.UNAVAILABLE:return X.UNAVAILABLE;case Mt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Mt.NOT_FOUND:return X.NOT_FOUND;case Mt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Mt.ABORTED:return X.ABORTED;case Mt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Mt.DATA_LOSS:return X.DATA_LOSS;default:return ye()}}(Le=Mt||(Mt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=new Go([4294967295,4294967295],0);function oT(t){const e=K9().encode(t),r=new Mk;return r.update(e),new Uint8Array(r.digest())}function AT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Go([r,n],0),new Go([i,s],0)]}class _C{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Ec(`Invalid padding: ${r}`);if(n<0)throw new Ec(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Ec(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Ec(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Go.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Go.fromNumber(n)));return i.compare($9)===1&&(i=new Go([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=oT(e),[n,i]=AT(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new _C(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const r=oT(e),[n,i]=AT(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,uf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new n0(Ee.min(),i,new bt(Qe),yn(),ke())}}class uf{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new uf(n,r,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class UO{constructor(e,r){this.targetId=e,this.me=r}}class PO{constructor(e,r,n=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class lT{constructor(){this.fe=0,this.ge=cT(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),r=ke(),n=ke();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ye()}}),new uf(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=cT()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class G9{constructor(e){this.Le=e,this.Be=new Map,this.ke=yn(),this.qe=uT(),this.Qe=new bt(Qe)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(vp(s))if(n===0){const a=new Ae(s.path);this.Ue(r,a,Nt.newNoDocument(a,Ee.min()))}else Be(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),A=o?this.Xe(o,e,a):1;if(A!==0){this.je(r);const l=A===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,l)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=Ma(n).toUint8Array()}catch(A){if(A instanceof sO)return La("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw A}try{o=new _C(a,i,s)}catch(A){return La(A instanceof Ec?"BloomFilter error: ":"Applying bloom filter failed: ",A),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&vp(o.target)){const A=new Ae(o.target.path);this.ke.get(A)!==null||this.it(a,A)||this.Ue(a,A,Nt.newNoDocument(A,e))}s.be&&(r.set(a,s.ve()),s.Ce())}});let n=ke();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(A=>{const l=this.Je(A);return!l||l.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new n0(e,r,this.Qe,this.ke,n);return this.ke=yn(),this.qe=uT(),this.Qe=new bt(Qe),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new lT,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new tt(Qe),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Z("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new lT),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function uT(){return new bt(Ae.comparator)}function cT(){return new bt(Ae.comparator)}const z9={asc:"ASCENDING",desc:"DESCENDING"},W9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X9={and:"AND",or:"OR"};class Y9{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Tx(t,e){return t.useProto3Json||qm(e)?e:{value:e}}function Yl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function q9(t,e){return Yl(t,e.toTimestamp())}function $r(t){return Be(!!t),Ee.fromTimestamp(function(r){const n=Cs(r);return new xt(n.seconds,n.nanos)}(t))}function IC(t,e){return Fx(t,e).canonicalString()}function Fx(t,e){const r=function(i){return new Ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function NO(t){const e=Ye.fromString(t);return Be(VO(e)),e}function xp(t,e){return IC(t.databaseId,e.path)}function zo(t,e){const r=NO(e);if(r.get(1)!==t.databaseId.projectId)throw new he(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new he(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ae(DO(r))}function kO(t,e){return IC(t.databaseId,e)}function OO(t){const e=NO(t);return e.length===4?Ye.emptyPath():DO(e)}function Ux(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DO(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dT(t,e,r){return{name:xp(t,e),fields:r.value.mapValue.fields}}function J9(t,e,r){const n=zo(t,e.name),i=$r(e.updateTime),s=e.createTime?$r(e.createTime):Ee.min(),a=new en({mapValue:{fields:e.fields}}),o=Nt.newFoundDocument(n,i,s,a);return r&&o.setHasCommittedMutations(),r?o.setHasCommittedMutations():o}function Z9(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Be(u===void 0||typeof u=="string"),Rt.fromBase64String(u||"")):(Be(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Rt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(l){const u=l.code===void 0?X.UNKNOWN:FO(l.code);return new he(u,l.message||"")}(a);r=new PO(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=zo(t,n.document.name),s=$r(n.document.updateTime),a=n.document.createTime?$r(n.document.createTime):Ee.min(),o=new en({mapValue:{fields:n.document.fields}}),A=Nt.newFoundDocument(i,s,a,o),l=n.targetIds||[],u=n.removedTargetIds||[];r=new Fg(l,u,A.key,A)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=zo(t,n.document),s=n.readTime?$r(n.readTime):Ee.min(),a=Nt.newNoDocument(i,s),o=n.removedTargetIds||[];r=new Fg([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=zo(t,n.document),s=n.removedTargetIds||[];r=new Fg([],s,i,null)}else{if(!("filter"in e))return ye();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new H9(i,s),o=n.targetId;r=new UO(o,a)}}return r}function bp(t,e){let r;if(e instanceof yu)r={update:dT(t,e.key,e.value)};else if(e instanceof bC)r={delete:xp(t,e.key)};else if(e instanceof io)r={update:dT(t,e.key,e.data),updateMask:sG(e.fieldMask)};else{if(!(e instanceof TO))return ye();r={verify:xp(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof zl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Wl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Xl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Nd)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw ye()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:q9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ye()}(t,e.precondition)),r}function Px(t,e){const r=e.currentDocument?function(s){return s.updateTime!==void 0?wn.updateTime($r(s.updateTime)):s.exists!==void 0?wn.exists(s.exists):wn.none()}(e.currentDocument):wn.none(),n=e.updateTransforms?e.updateTransforms.map(i=>function(a,o){let A=null;if("setToServerValue"in o)Be(o.setToServerValue==="REQUEST_TIME"),A=new zl;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];A=new Wl(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];A=new Xl(u)}else"increment"in o?A=new Nd(a,o.increment):ye();const l=vt.fromServerFormat(o.fieldPath);return new _O(l,A)}(t,i)):[];if(e.update){e.update.name;const i=zo(t,e.update.name),s=new en({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(A){const l=A.fieldPaths||[];return new $n(l.map(u=>vt.fromServerFormat(u)))}(e.updateMask);return new io(i,s,a,r,n)}return new yu(i,s,r,n)}if(e.delete){const i=zo(t,e.delete);return new bC(i,r)}if(e.verify){const i=zo(t,e.verify);return new TO(i,r)}return ye()}function eG(t,e){return t&&t.length>0?(Be(e!==void 0),t.map(r=>function(i,s){let a=i.updateTime?$r(i.updateTime):$r(s);return a.isEqual(Ee.min())&&(a=$r(s)),new R9(a,i.transformResults||[])}(r,e))):[]}function jO(t,e){return{documents:[kO(t,e.path)]}}function RO(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=kO(t,i);const s=function(l){if(l.length!==0)return HO(et.create(l,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:ZA(f.field),direction:rG(f.dir)}}(u))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=Tx(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:r,parent:i}}function LO(t){let e=OO(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Be(n===1);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];r.where&&(s=function(c){const f=MO(c);return f instanceof et&&wC(f)?f.getFilters():[f]}(r.where));let a=[];r.orderBy&&(a=function(c){return c.map(f=>function(m){return new mp(el(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(r.orderBy));let o=null;r.limit&&(o=function(c){let f;return f=typeof c=="object"?c.value:c,qm(f)?null:f}(r.limit));let A=null;r.startAt&&(A=function(c){const f=!!c.before,g=c.values||[];return new $l(g,f)}(r.startAt));let l=null;return r.endAt&&(l=function(c){const f=!c.before,g=c.values||[];return new $l(g,f)}(r.endAt)),E9(e,i,a,s,o,"F",A,l)}function tG(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function MO(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=el(r.unaryFilter.field);return Re.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=el(r.unaryFilter.field);return Re.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=el(r.unaryFilter.field);return Re.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=el(r.unaryFilter.field);return Re.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(r){return Re.create(el(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return et.create(r.compositeFilter.filters.map(n=>MO(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye()}}(r.compositeFilter.op))}(t):ye()}function rG(t){return z9[t]}function nG(t){return W9[t]}function iG(t){return X9[t]}function ZA(t){return{fieldPath:t.canonicalString()}}function el(t){return vt.fromServerFormat(t.fieldPath)}function HO(t){return t instanceof Re?function(r){if(r.op==="=="){if(XS(r.value))return{unaryFilter:{field:ZA(r.field),op:"IS_NAN"}};if(WS(r.value))return{unaryFilter:{field:ZA(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(XS(r.value))return{unaryFilter:{field:ZA(r.field),op:"IS_NOT_NAN"}};if(WS(r.value))return{unaryFilter:{field:ZA(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ZA(r.field),op:nG(r.op),value:r.value}}}(t):t instanceof et?function(r){const n=r.getFilters().map(i=>HO(i));return n.length===1?n[0]:{compositeFilter:{op:iG(r.op),filters:n}}}(t):ye()}function sG(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function VO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,r,n,i,s=Ee.min(),a=Ee.min(),o=Rt.EMPTY_BYTE_STRING,A=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=A}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.ct=e}}function aG(t,e){let r;if(e.document)r=J9(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=Ae.fromSegments(e.noDocument.path),i=cA(e.noDocument.readTime);r=Nt.newNoDocument(n,i),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return ye();{const n=Ae.fromSegments(e.unknownDocument.path),i=cA(e.unknownDocument.version);r=Nt.newUnknownDocument(n,i)}}return e.readTime&&r.setReadTime(function(i){const s=new xt(i[0],i[1]);return Ee.fromTimestamp(s)}(e.readTime)),r}function fT(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Bp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(s,a){return{name:xp(s,a.key),fields:a.data.value.mapValue.fields,updateTime:Yl(s,a.version.toTimestamp()),createTime:Yl(s,a.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:uA(e.version)};else{if(!e.isUnknownDocument())return ye();n.unknownDocument={path:r.path.toArray(),version:uA(e.version)}}return n}function Bp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function uA(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function cA(t){const e=new xt(t.seconds,t.nanoseconds);return Ee.fromTimestamp(e)}function To(t,e){const r=(e.baseMutations||[]).map(s=>Px(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const n=e.mutations.map(s=>Px(t.ct,s)),i=xt.fromMillis(e.localWriteTimeMs);return new BC(e.batchId,i,r,n)}function _c(t){const e=cA(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?cA(t.lastLimboFreeSnapshotVersion):Ee.min();let n;return n=function(s){return s.documents!==void 0}(t.query)?function(s){return Be(s.documents.length===1),Yn(Af(OO(s.documents[0])))}(t.query):function(s){return Yn(LO(s))}(t.query),new As(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,Rt.fromBase64String(t.resumeToken))}function $O(t,e){const r=uA(e.snapshotVersion),n=uA(e.lastLimboFreeSnapshotVersion);let i;i=vp(e.target)?jO(t.ct,e.target):RO(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:lA(e.target),readTime:r,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function GO(t){const e=LO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wp(e,e.limit,"L"):e}function vy(t,e){return new EC(e.largestBatchId,Px(t.ct,e.overlayMutation))}function hT(t,e){const r=e.path.lastSegment();return[t,Kr(e.path.popLast()),r]}function gT(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:uA(n.readTime),documentKey:Kr(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{getBundleMetadata(e,r){return pT(e).get(r).next(n=>{if(n)return function(s){return{id:s.bundleId,createTime:cA(s.createTime),version:s.version}}(n)})}saveBundleMetadata(e,r){return pT(e).put(function(i){return{bundleId:i.id,createTime:uA($r(i.createTime)),version:i.version}}(r))}getNamedQuery(e,r){return mT(e).get(r).next(n=>{if(n)return function(s){return{name:s.name,query:GO(s.bundledQuery),readTime:cA(s.readTime)}}(n)})}saveNamedQuery(e,r){return mT(e).put(function(i){return{name:i.name,readTime:uA($r(i.readTime)),bundledQuery:i.bundledQuery}}(r))}}function pT(t){return qt(t,"bundles")}function mT(t){return qt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){const n=r.uid||"";return new i0(e,n)}getOverlay(e,r){return ec(e).get(hT(this.userId,r)).next(n=>n?vy(this.serializer,n):null)}getOverlays(e,r){const n=Fi();return M.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){const i=[];return n.forEach((s,a)=>{const o=new EC(r,a);i.push(this.ht(e,o))}),M.waitFor(i)}removeOverlaysForBatchId(e,r,n){const i=new Set;r.forEach(a=>i.add(Kr(a.getCollectionPath())));const s=[];return i.forEach(a=>{const o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,n+1],!1,!0);s.push(ec(e).j("collectionPathOverlayIndex",o))}),M.waitFor(s)}getOverlaysForCollection(e,r,n){const i=Fi(),s=Kr(r),a=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return ec(e).U("collectionPathOverlayIndex",a).next(o=>{for(const A of o){const l=vy(this.serializer,A);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,r,n,i){const s=Fi();let a;const o=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return ec(e).J({index:"collectionGroupOverlayIndex",range:o},(A,l,u)=>{const c=vy(this.serializer,l);s.size()<i||c.largestBatchId===a?(s.set(c.getKey(),c),a=c.largestBatchId):u.done()}).next(()=>s)}ht(e,r){return ec(e).put(function(i,s,a){const[o,A,l]=hT(s,a.mutation.key);return{userId:s,collectionPath:A,documentId:l,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:bp(i.ct,a.mutation)}}(this.serializer,this.userId,r))}}function ec(t){return qt(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{Pt(e){return qt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const n=r==null?void 0:r.value;return n?Rt.fromUint8Array(n):Rt.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(pt(e.integerValue));else if("doubleValue"in e){const n=pt(e.doubleValue);isNaN(n)?this.dt(r,13):(this.dt(r,15),Fd(n)?r.At(0):r.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(r,20),typeof n=="string"&&(n=Cs(n)),r.Rt(`${n.seconds||""}`),r.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Ma(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(r,45),r.At(n.latitude||0),r.At(n.longitude||0)}else"mapValue"in e?aO(e)?this.dt(r,Number.MAX_SAFE_INTEGER):Jm(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):ye()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const n=e.fields||{};this.dt(r,55);for(const i of Object.keys(n))this.Vt(i,r),this.Tt(n[i],r)}wt(e,r){var n,i;const s=e.fields||{};this.dt(r,53);const a="value",o=((i=(n=s[a].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.length)||0;this.dt(r,15),r.At(pt(o)),this.Vt(a,r),this.Tt(s[a],r)}bt(e,r){const n=e.values||[];this.dt(r,50);for(const i of n)this.Tt(i,r)}yt(e,r){this.dt(r,37),Ae.fromName(e).path.forEach(n=>{this.dt(r,60),this.Dt(n,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}Fo.vt=new Fo;function lG(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function vT(t){const e=64-function(n){let i=0;for(let s=0;s<8;++s){const a=lG(255&n[s]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class uG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ft(n.value),n=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ot(n.value),n=r.next();this.Nt()}Lt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const i=r.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const i=r.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const r=this.qt(e),n=vT(r);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=255&r[i]}Kt(e){const r=this.qt(e),n=vT(r);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=~(255&r[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)}(e),n=(128&r[0])!=0;r[0]^=n?255:128;for(let i=1;i<r.length;++i)r[i]^=n?255:0;return r}Ft(e){const r=255&e;r===0?(this.Ut(0),this.Ut(255)):r===255?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;r===0?(this.Gt(0),this.Gt(255)):r===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class cG{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class dG{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class tc{constructor(){this.jt=new uG,this.Ht=new cG(this.jt),this.Jt=new dG(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,r,n,i){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=i}Zt(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Uo(this.indexId,this.documentKey,this.arrayValue,n)}}function zs(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=yT(t.arrayValue,e.arrayValue),r!==0?r:(r=yT(t.directionalValue,e.directionalValue),r!==0?r:Ae.comparator(t.documentKey,e.documentKey)))}function yT(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.Xt=new tt((r,n)=>vt.comparator(r.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const n=r;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(Be(e.collectionGroup===this.collectionId),this.nn)return!1;const r=bx(e);if(r!==void 0&&!this.sn(r))return!1;const n=Co(e);let i=new Set,s=0,a=0;for(;s<n.length&&this.sn(n[s]);++s)i=i.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.Xt.size>0){const o=this.Xt.getIterator().getNext();if(!i.has(o.field.canonicalString())){const A=n[s];if(!this.on(o,A)||!this._n(this.en[a++],A))return!1}++s}for(;s<n.length;++s){const o=n[s];if(a>=this.en.length||!this._n(this.en[a++],o))return!1}return!0}an(){if(this.nn)return null;let e=new tt(vt.comparator);const r=[];for(const n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new Eg(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new Eg(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new Eg(n.field,n.dir==="asc"?0:1)));return new pp(pp.UNKNOWN_ID,this.collectionId,r,Td.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){var e,r;if(Be(t instanceof Re||t instanceof et),t instanceof Re){if(t instanceof gO){const i=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(s=>Re.create(t.field,"==",s)))||[];return et.create(i,"or")}return t}const n=t.filters.map(i=>zO(i));return et.create(n,t.op)}function fG(t){if(t.getFilters().length===0)return[];const e=kx(zO(t));return Be(WO(e)),Qx(e)||Nx(e)?[e]:e.getFilters()}function Qx(t){return t instanceof Re}function Nx(t){return t instanceof et&&wC(t)}function WO(t){return Qx(t)||Nx(t)||function(r){if(r instanceof et&&_x(r)){for(const n of r.getFilters())if(!Qx(n)&&!Nx(n))return!1;return!0}return!1}(t)}function kx(t){if(Be(t instanceof Re||t instanceof et),t instanceof Re)return t;if(t.filters.length===1)return kx(t.filters[0]);const e=t.filters.map(n=>kx(n));let r=et.create(e,t.op);return r=Cp(r),WO(r)?r:(Be(r instanceof et),Be(Gl(r)),Be(r.filters.length>1),r.filters.reduce((n,i)=>SC(n,i)))}function SC(t,e){let r;return Be(t instanceof Re||t instanceof et),Be(e instanceof Re||e instanceof et),r=t instanceof Re?e instanceof Re?function(i,s){return et.create([i,s],"and")}(t,e):xT(t,e):e instanceof Re?xT(e,t):function(i,s){if(Be(i.filters.length>0&&s.filters.length>0),Gl(i)&&Gl(s))return dO(i,s.getFilters());const a=_x(i)?i:s,o=_x(i)?s:i,A=a.filters.map(l=>SC(l,o));return et.create(A,"or")}(t,e),Cp(r)}function xT(t,e){if(Gl(e))return dO(e,t.getFilters());{const r=e.filters.map(n=>SC(t,n));return et.create(r,"or")}}function Cp(t){if(Be(t instanceof Re||t instanceof et),t instanceof Re)return t;const e=t.getFilters();if(e.length===1)return Cp(e[0]);if(uO(t))return t;const r=e.map(i=>Cp(i)),n=[];return r.forEach(i=>{i instanceof Re?n.push(i):i instanceof et&&(i.op===t.op?n.push(...i.filters):n.push(i))}),n.length===1?n[0]:et.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(){this.un=new TC}addToCollectionParentIndex(e,r){return this.un.add(r),M.resolve()}getCollectionParents(e,r){return M.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return M.resolve()}deleteFieldIndex(e,r){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,r){return M.resolve()}getDocumentsMatchingTarget(e,r){return M.resolve(null)}getIndexType(e,r){return M.resolve(0)}getFieldIndexes(e,r){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,r){return M.resolve(Cn.min())}getMinOffsetFromCollectionGroup(e,r){return M.resolve(Cn.min())}updateCollectionGroup(e,r,n){return M.resolve()}updateIndexEntries(e,r){return M.resolve()}}class TC{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new tt(Ye.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new tt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Uint8Array(0);class gG{constructor(e,r){this.databaseId=r,this.cn=new TC,this.ln=new no(n=>lA(n),(n,i)=>of(n,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const n=r.lastSegment(),i=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const s={collectionId:n,parent:Kr(i)};return bT(e).put(s)}return M.resolve()}getCollectionParents(e,r){const n=[],i=IDBKeyRange.bound([r,""],[Xk(r),""],!1,!0);return bT(e).U(i).next(s=>{for(const a of s){if(a.collectionId!==r)break;n.push(Ti(a.parent))}return n})}addFieldIndex(e,r){const n=rc(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])}}(r);delete i.indexId;const s=n.add(i);if(r.indexState){const a=MA(e);return s.next(o=>{a.put(gT(o,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return s.next()}deleteFieldIndex(e,r){const n=rc(e),i=MA(e),s=LA(e);return n.delete(r.indexId).next(()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=rc(e),n=LA(e),i=MA(e);return r.j().next(()=>n.j()).next(()=>i.j())}createTargetIndexes(e,r){return M.forEach(this.hn(r),n=>this.getIndexType(e,n).next(i=>{if(i===0||i===1){const s=new wT(n).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,r){const n=LA(e);let i=!0;const s=new Map;return M.forEach(this.hn(r),a=>this.Pn(e,a).next(o=>{i&&(i=!!o),s.set(a,o)})).next(()=>{if(i){let a=ke();const o=[];return M.forEach(s,(A,l)=>{Z("IndexedDbIndexManager",`Using index ${function(B){return`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map(I=>`${I.fieldPath}:${I.kind}`).join(",")}`}(A)} to execute ${lA(r)}`);const u=function(B,I){const T=bx(I);if(T===void 0)return null;for(const F of yp(B,T.fieldPath))switch(F.op){case"array-contains-any":return F.value.arrayValue.values||[];case"array-contains":return[F.value]}return null}(l,A),c=function(B,I){const T=new Map;for(const F of Co(I))for(const C of yp(B,F.fieldPath))switch(C.op){case"==":case"in":T.set(F.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return T.set(F.fieldPath.canonicalString(),C.value),Array.from(T.values())}return null}(l,A),f=function(B,I){const T=[];let F=!0;for(const C of Co(I)){const _=C.kind===0?eT(B,C.fieldPath,B.startAt):tT(B,C.fieldPath,B.startAt);T.push(_.value),F&&(F=_.inclusive)}return new $l(T,F)}(l,A),g=function(B,I){const T=[];let F=!0;for(const C of Co(I)){const _=C.kind===0?tT(B,C.fieldPath,B.endAt):eT(B,C.fieldPath,B.endAt);T.push(_.value),F&&(F=_.inclusive)}return new $l(T,F)}(l,A),m=this.In(A,l,f),p=this.In(A,l,g),v=this.Tn(A,l,c),y=this.En(A.indexId,u,m,f.inclusive,p,g.inclusive,v);return M.forEach(y,w=>n.G(w,r.limit).next(B=>{B.forEach(I=>{const T=Ae.fromSegments(I.documentKey);a.has(T)||(a=a.add(T),o.push(T))})}))}).next(()=>o)}return M.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(e.filters.length===0?r=[e]:r=fG(et.create(e.filters,"and")).map(n=>Sx(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,n,i,s,a,o){const A=(r!=null?r.length:1)*Math.max(n.length,s.length),l=A/(r!=null?r.length:1),u=[];for(let c=0;c<A;++c){const f=r?this.dn(r[c/l]):xh,g=this.An(e,f,n[c%l],i),m=this.Rn(e,f,s[c%l],a),p=o.map(v=>this.An(e,f,v,!0));u.push(...this.createRange(g,m,p))}return u}An(e,r,n,i){const s=new Uo(e,Ae.empty(),r,n);return i?s:s.Zt()}Rn(e,r,n,i){const s=new Uo(e,Ae.empty(),r,n);return i?s.Zt():s}Pn(e,r){const n=new wT(r),i=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let a=null;for(const o of s)n.rn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a})}getIndexType(e,r){let n=2;const i=this.hn(r);return M.forEach(i,s=>this.Pn(e,s).next(a=>{a?n!==0&&a.fields.length<function(A){let l=new tt(vt.comparator),u=!1;for(const c of A.filters)for(const f of c.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:l=l.add(f.field));for(const c of A.orderBy)c.field.isKeyField()||(l=l.add(c.field));return l.size+(u?1:0)}(s)&&(n=1):n=0})).next(()=>function(a){return a.limit!==null}(r)&&i.length>1&&n===2?1:n)}Vn(e,r){const n=new tc;for(const i of Co(e)){const s=r.data.field(i.fieldPath);if(s==null)return null;const a=n.Yt(i.kind);Fo.vt.It(s,a)}return n.zt()}dn(e){const r=new tc;return Fo.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const n=new tc;return Fo.vt.It(yC(this.databaseId,r),n.Yt(function(s){const a=Co(s);return a.length===0?0:a[a.length-1].kind}(e))),n.zt()}Tn(e,r,n){if(n===null)return[];let i=[];i.push(new tc);let s=0;for(const a of Co(e)){const o=n[s++];for(const A of i)if(this.fn(r,a.fieldPath)&&Qd(o))i=this.gn(i,a,o);else{const l=A.Yt(a.kind);Fo.vt.It(o,l)}}return this.pn(i)}In(e,r,n){return this.Tn(e,r,n.position)}pn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].zt();return r}gn(e,r,n){const i=[...e],s=[];for(const a of n.arrayValue.values||[])for(const o of i){const A=new tc;A.seed(o.zt()),Fo.vt.It(a,A.Yt(r.kind)),s.push(A)}return s}fn(e,r){return!!e.filters.find(n=>n instanceof Re&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,r){const n=rc(e),i=MA(e);return(r?n.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.U()).next(s=>{const a=[];return M.forEach(s,o=>i.get([o.indexId,this.uid]).next(A=>{a.push(function(u,c){const f=c?new Td(c.sequenceNumber,new Cn(cA(c.readTime),new Ae(Ti(c.documentKey)),c.largestBatchId)):Td.empty(),g=u.fields.map(([m,p])=>new Eg(vt.fromServerFormat(m),p));return new pp(u.indexId,u.collectionGroup,g,f)}(o,A))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((n,i)=>{const s=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Qe(n.collectionGroup,i.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const i=rc(e),s=MA(e);return this.yn(e).next(a=>i.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(o=>M.forEach(o,A=>s.put(gT(A.indexId,this.uid,a,n)))))}updateIndexEntries(e,r){const n=new Map;return M.forEach(r,(i,s)=>{const a=n.get(i.collectionGroup);return(a?M.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(o=>(n.set(i.collectionGroup,o),M.forEach(o,A=>this.wn(e,i,A).next(l=>{const u=this.Sn(s,A);return l.isEqual(u)?M.resolve():this.bn(e,s,A,l,u)}))))})}Dn(e,r,n,i){return LA(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(n,r.key),documentKey:r.key.path.toArray()})}vn(e,r,n,i){return LA(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(n,r.key),r.key.path.toArray()])}wn(e,r,n){const i=LA(e);let s=new tt(zs);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,r)])},(a,o)=>{s=s.add(new Uo(n.indexId,r,o.arrayValue,o.directionalValue))}).next(()=>s)}Sn(e,r){let n=new tt(zs);const i=this.Vn(r,e);if(i==null)return n;const s=bx(r);if(s!=null){const a=e.data.field(s.fieldPath);if(Qd(a))for(const o of a.arrayValue.values||[])n=n.add(new Uo(r.indexId,e.key,this.dn(o),i))}else n=n.add(new Uo(r.indexId,e.key,xh,i));return n}bn(e,r,n,i,s){Z("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const a=[];return function(A,l,u,c,f){const g=A.getIterator(),m=l.getIterator();let p=RA(g),v=RA(m);for(;p||v;){let y=!1,w=!1;if(p&&v){const B=u(p,v);B<0?w=!0:B>0&&(y=!0)}else p!=null?w=!0:y=!0;y?(c(v),v=RA(m)):w?(f(p),p=RA(g)):(p=RA(g),v=RA(m))}}(i,s,zs,o=>{a.push(this.Dn(e,r,n,o))},o=>{a.push(this.vn(e,r,n,o))}),M.waitFor(a)}yn(e){let r=1;return MA(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,i,s)=>{s.done(),r=i.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((a,o)=>zs(a,o)).filter((a,o,A)=>!o||zs(a,A[o-1])!==0);const i=[];i.push(e);for(const a of n){const o=zs(a,e),A=zs(a,r);if(o===0)i[0]=e.Zt();else if(o>0&&A<0)i.push(a),i.push(a.Zt());else if(A>0)break}i.push(r);const s=[];for(let a=0;a<i.length;a+=2){if(this.Cn(i[a],i[a+1]))return[];const o=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,xh,[]],A=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,xh,[]];s.push(IDBKeyRange.bound(o,A))}return s}Cn(e,r){return zs(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(BT)}getMinOffset(e,r){return M.mapArray(this.hn(r),n=>this.Pn(e,n).next(i=>i||ye())).next(BT)}}function bT(t){return qt(t,"collectionParents")}function LA(t){return qt(t,"indexEntries")}function rc(t){return qt(t,"indexConfiguration")}function MA(t){return qt(t,"indexState")}function BT(t){Be(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const i=t[n].indexState.offset;hC(i,e)<0&&(e=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new Cn(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qr{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new qr(e,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t,e,r){const n=t.store("mutations"),i=t.store("documentMutations"),s=[],a=IDBKeyRange.only(r.batchId);let o=0;const A=n.J({range:a},(u,c,f)=>(o++,f.delete()));s.push(A.next(()=>{Be(o===1)}));const l=[];for(const u of r.mutations){const c=eO(e,u.key.path,r.batchId);s.push(i.delete(c)),l.push(u.key)}return M.waitFor(s).next(()=>l)}function Ep(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ye();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr.DEFAULT_COLLECTION_PERCENTILE=10,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qr.DEFAULT=new qr(41943040,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qr.DISABLED=new qr(-1,0,0);class s0{constructor(e,r,n,i){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=i,this.Fn={}}static lt(e,r,n,i){Be(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new s0(s,r,n,i)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ws(e).J({index:"userMutationsIndex",range:n},(i,s,a)=>{r=!1,a.done()}).next(()=>r)}addMutationBatch(e,r,n,i){const s=tl(e),a=Ws(e);return a.add({}).next(o=>{Be(typeof o=="number");const A=new BC(o,r,n,i),l=function(g,m,p){const v=p.baseMutations.map(w=>bp(g.ct,w)),y=p.mutations.map(w=>bp(g.ct,w));return{userId:m,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:v,mutations:y}}(this.serializer,this.userId,A),u=[];let c=new tt((f,g)=>Qe(f.canonicalString(),g.canonicalString()));for(const f of i){const g=eO(this.userId,f.key.path,o);c=c.add(f.key.path.popLast()),u.push(a.put(l)),u.push(s.put(g,X8))}return c.forEach(f=>{u.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[o]=A.keys()}),M.waitFor(u).next(()=>A)})}lookupMutationBatch(e,r){return Ws(e).get(r).next(n=>n?(Be(n.userId===this.userId),To(this.serializer,n)):null)}Mn(e,r){return this.Fn[r]?M.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const i=n.keys();return this.Fn[r]=i,i}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return Ws(e).J({index:"userMutationsIndex",range:i},(a,o,A)=>{o.userId===this.userId&&(Be(o.batchId>=n),s=To(this.serializer,o)),A.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Ws(e).J({index:"userMutationsIndex",range:r,reverse:!0},(i,s,a)=>{n=s.batchId,a.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ws(e).U("userMutationsIndex",r).next(n=>n.map(i=>To(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=_g(this.userId,r.path),i=IDBKeyRange.lowerBound(n),s=[];return tl(e).J({range:i},(a,o,A)=>{const[l,u,c]=a,f=Ti(u);if(l===this.userId&&r.path.isEqual(f))return Ws(e).get(c).next(g=>{if(!g)throw ye();Be(g.userId===this.userId),s.push(To(this.serializer,g))});A.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new tt(Qe);const i=[];return r.forEach(s=>{const a=_g(this.userId,s.path),o=IDBKeyRange.lowerBound(a),A=tl(e).J({range:o},(l,u,c)=>{const[f,g,m]=l,p=Ti(g);f===this.userId&&s.path.isEqual(p)?n=n.add(m):c.done()});i.push(A)}),M.waitFor(i).next(()=>this.xn(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1,s=_g(this.userId,n),a=IDBKeyRange.lowerBound(s);let o=new tt(Qe);return tl(e).J({range:a},(A,l,u)=>{const[c,f,g]=A,m=Ti(f);c===this.userId&&n.isPrefixOf(m)?m.length===i&&(o=o.add(g)):u.done()}).next(()=>this.xn(e,o))}xn(e,r){const n=[],i=[];return r.forEach(s=>{i.push(Ws(e).get(s).next(a=>{if(a===null)throw ye();Be(a.userId===this.userId),n.push(To(this.serializer,a))}))}),M.waitFor(i).next(()=>n)}removeMutationBatch(e,r){return XO(e._e,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),M.forEach(n,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return M.resolve();const n=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return tl(e).J({range:n},(s,a,o)=>{if(s[0]===this.userId){const A=Ti(s[1]);i.push(A)}else o.done()}).next(()=>{Be(i.length===0)})})}containsKey(e,r){return YO(e,this.userId,r)}Nn(e){return qO(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function YO(t,e,r){const n=_g(e,r.path),i=n[1],s=IDBKeyRange.lowerBound(n);let a=!1;return tl(t).J({range:s,H:!0},(o,A,l)=>{const[u,c,f]=o;u===e&&c===i&&(a=!0),l.done()}).next(()=>a)}function Ws(t){return qt(t,"mutations")}function tl(t){return qt(t,"documentMutations")}function qO(t){return qt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new dA(0)}static kn(){return new dA(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const n=new dA(r.highestTargetId);return r.highestTargetId=n.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>Ee.fromTimestamp(new xt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.qn(e).next(i=>(i.highestListenSequenceNumber=r,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),r>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r),this.Qn(e,i)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(n=>(n.targetCount+=1,this.$n(r,n),this.Qn(e,n))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>HA(e).delete(r.targetId)).next(()=>this.qn(e)).next(n=>(Be(n.targetCount>0),n.targetCount-=1,this.Qn(e,n)))}removeTargets(e,r,n){let i=0;const s=[];return HA(e).J((a,o)=>{const A=_c(o);A.sequenceNumber<=r&&n.get(A.targetId)===null&&(i++,s.push(this.removeTargetData(e,A)))}).next(()=>M.waitFor(s)).next(()=>i)}forEachTarget(e,r){return HA(e).J((n,i)=>{const s=_c(i);r(s)})}qn(e){return ET(e).get("targetGlobalKey").next(r=>(Be(r!==null),r))}Qn(e,r){return ET(e).put("targetGlobalKey",r)}Kn(e,r){return HA(e).put($O(this.serializer,r))}$n(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const n=lA(r),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return HA(e).J({range:i,index:"queryTargetsIndex"},(a,o,A)=>{const l=_c(o);of(r,l.target)&&(s=l,A.done())}).next(()=>s)}addMatchingKeys(e,r,n){const i=[],s=aa(e);return r.forEach(a=>{const o=Kr(a.path);i.push(s.put({targetId:n,path:o})),i.push(this.referenceDelegate.addReference(e,n,a))}),M.waitFor(i)}removeMatchingKeys(e,r,n){const i=aa(e);return M.forEach(r,s=>{const a=Kr(s.path);return M.waitFor([i.delete([n,a]),this.referenceDelegate.removeReference(e,n,s)])})}removeMatchingKeysForTargetId(e,r){const n=aa(e),i=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),i=aa(e);let s=ke();return i.J({range:n,H:!0},(a,o,A)=>{const l=Ti(a[1]),u=new Ae(l);s=s.add(u)}).next(()=>s)}containsKey(e,r){const n=Kr(r.path),i=IDBKeyRange.bound([n],[Xk(n)],!1,!0);let s=0;return aa(e).J({index:"documentTargetsIndex",H:!0,range:i},([a,o],A,l)=>{a!==0&&(s++,l.done())}).next(()=>s>0)}ot(e,r){return HA(e).get(r).next(n=>n?_c(n):null)}}function HA(t){return qt(t,"targets")}function ET(t){return qt(t,"targetGlobal")}function aa(t){return qt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T([t,e],[r,n]){const i=Qe(t,r);return i===0?Qe(e,n):i}class mG{constructor(e){this.Un=e,this.buffer=new tt(_T),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();_T(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class vG{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Z("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ro(r)?Z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await bA(r)}await this.Hn(3e5)})}}class yG{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return M.resolve(Kn.oe);const n=new mG(r);return this.Jn.forEachTarget(e,i=>n.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>n.zn(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(CT)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CT):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let n,i,s,a,o,A,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(c=>(c>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${c}`),i=this.params.maximumSequenceNumbersToCollect):i=c,a=Date.now(),this.nthSequenceNumber(e,i))).next(c=>(n=c,o=Date.now(),this.removeTargets(e,n,r))).next(c=>(s=c,A=Date.now(),this.removeOrphanedDocuments(e,n))).next(c=>(l=Date.now(),qA()<=je.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(A-o)+`ms
	Removed ${c} documents in `+(l-A)+`ms
Total Duration: ${l-u}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:c})))}}function wG(t,e){return new yG(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(e,r){this.db=e,this.garbageCollector=wG(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}er(e){let r=0;return this.Zn(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(n,i)=>r(i))}addReference(e,r,n){return bh(e,n)}removeReference(e,r,n){return bh(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return bh(e,r)}nr(e,r){return function(i,s){let a=!1;return qO(i).Y(o=>YO(i,o,s).next(A=>(A&&(a=!0),M.resolve(!A)))).next(()=>a)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(a,o)=>{if(o<=r){const A=this.nr(e,a).next(l=>{if(!l)return s++,n.getEntry(e,a).next(()=>(n.removeEntry(a,Ee.min()),aa(e).delete(function(c){return[0,Kr(c.path)]}(a))))});i.push(A)}}).next(()=>M.waitFor(i)).next(()=>n.apply(e)).next(()=>s)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return bh(e,r)}tr(e,r){const n=aa(e);let i,s=Kn.oe;return n.J({index:"documentTargetsIndex"},([a,o],{path:A,sequenceNumber:l})=>{a===0?(s!==Kn.oe&&r(new Ae(Ti(i)),s),s=l,i=A):s=Kn.oe}).next(()=>{s!==Kn.oe&&r(new Ae(Ti(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bh(t,e){return aa(t).put(function(n,i){return{targetId:0,path:Kr(n.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.changes=new no(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?M.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return yo(e).put(n)}removeEntry(e,r,n){return yo(e).delete(function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Bp(a),o[o.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.rr(e,n)))}getEntry(e,r){let n=Nt.newInvalidDocument(r);return yo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(nc(r))},(i,s)=>{n=this.ir(r,s)}).next(()=>n)}sr(e,r){let n={size:0,document:Nt.newInvalidDocument(r)};return yo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(nc(r))},(i,s)=>{n={document:this.ir(r,s),size:Ep(s)}}).next(()=>n)}getEntries(e,r){let n=yn();return this._r(e,r,(i,s)=>{const a=this.ir(i,s);n=n.insert(i,a)}).next(()=>n)}ar(e,r){let n=yn(),i=new bt(Ae.comparator);return this._r(e,r,(s,a)=>{const o=this.ir(s,a);n=n.insert(s,o),i=i.insert(s,Ep(a))}).next(()=>({documents:n,ur:i}))}_r(e,r,n){if(r.isEmpty())return M.resolve();let i=new tt(TT);r.forEach(A=>i=i.add(A));const s=IDBKeyRange.bound(nc(i.first()),nc(i.last())),a=i.getIterator();let o=a.getNext();return yo(e).J({index:"documentKeyIndex",range:s},(A,l,u)=>{const c=Ae.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;o&&TT(o,c)<0;)n(o,null),o=a.getNext();o&&o.isEqual(c)&&(n(o,l),o=a.hasNext()?a.getNext():null),o?u.$(nc(o)):u.done()}).next(()=>{for(;o;)n(o,null),o=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,r,n,i,s){const a=r.path,o=[a.popLast().toArray(),a.lastSegment(),Bp(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],A=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return yo(e).U(IDBKeyRange.bound(o,A,!0)).next(l=>{s==null||s.incrementDocumentReadCount(l.length);let u=yn();for(const c of l){const f=this.ir(Ae.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);f.isFoundDocument()&&(lf(r,f)||i.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(e,r,n,i){let s=yn();const a=ST(r,n),o=ST(r,Cn.max());return yo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,o,!0)},(A,l,u)=>{const c=this.ir(Ae.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(c.key,c),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new BG(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return IT(e).get("remoteDocumentGlobalKey").next(r=>(Be(!!r),r))}rr(e,r){return IT(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const n=aG(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(Ee.min())))return n}return Nt.newInvalidDocument(e)}}function ZO(t){return new bG(t)}class BG extends JO{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new no(n=>n.toString(),(n,i)=>n.isEqual(i))}applyChanges(e){const r=[];let n=0,i=new tt((s,a)=>Qe(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const o=this.lr.get(s);if(r.push(this.cr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const A=fT(this.cr.serializer,a);i=i.add(s.path.popLast());const l=Ep(A);n+=l-o.size,r.push(this.cr.addEntry(e,s,A))}else if(n-=o.size,this.trackRemovals){const A=fT(this.cr.serializer,a.convertToNoDocument(Ee.min()));r.push(this.cr.addEntry(e,s,A))}}),i.forEach(s=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),r.push(this.cr.updateMetadata(e,n)),M.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(n=>(this.lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:n,ur:i})=>(i.forEach((s,a)=>{this.lr.set(s,{size:a,readTime:n.get(s).readTime})}),n))}}function IT(t){return qt(t,"remoteDocumentGlobal")}function yo(t){return qt(t,"remoteDocumentsV14")}function nc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ST(t,e){const r=e.documentKey.path.toArray();return[t,Bp(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function TT(t,e){const r=t.path.toArray(),n=e.path.toArray();let i=0;for(let s=0;s<r.length-2&&s<n.length-2;++s)if(i=Qe(r[s],n[s]),i)return i;return i=Qe(r.length,n.length),i||(i=Qe(r[r.length-2],n[n.length-2]),i||Qe(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Xc(n.mutation,i,$n.empty(),xt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,ke()).next(()=>n))}getLocalViewOfDocuments(e,r,n=ke()){const i=Fi();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=Cc();return s.forEach((o,A)=>{a=a.insert(o,A.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=Fi();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,ke()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=yn();const a=Wc(),o=function(){return Wc()}();return r.forEach((A,l)=>{const u=n.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof io)?s=s.insert(l.key,l):u!==void 0?(a.set(l.key,u.mutation.getFieldMask()),Xc(u.mutation,l,u.mutation.getFieldMask(),xt.now())):a.set(l.key,$n.empty())}),this.recalculateAndSaveOverlays(e,s).next(A=>(A.forEach((l,u)=>a.set(l,u)),r.forEach((l,u)=>{var c;return o.set(l,new CG(u,(c=a.get(l))!==null&&c!==void 0?c:null))}),o))}recalculateAndSaveOverlays(e,r){const n=Wc();let i=new bt((a,o)=>a-o),s=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(A=>{const l=r.get(A);if(l===null)return;let u=n.get(A)||$n.empty();u=o.applyToLocalView(l,u),n.set(A,u);const c=(i.get(o.batchId)||ke()).add(A);i=i.insert(o.batchId,c)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const A=o.getNext(),l=A.key,u=A.value,c=wO();u.forEach(f=>{if(!s.has(f)){const g=IO(r.get(f),n.get(f));g!==null&&c.set(f,g),s=s.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,l,c))}return M.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return Ae.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):_9(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):M.resolve(Fi());let o=-1,A=s;return a.next(l=>M.forEach(l,(u,c)=>(o<c.largestBatchId&&(o=c.largestBatchId),s.get(u)?M.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{A=A.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,A,l,ke())).next(u=>({batchId:o,changes:yO(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ae(r)).next(n=>{let i=Cc();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=Cc();return this.indexManager.getCollectionParents(e,s).next(o=>M.forEach(o,A=>{const l=function(c,f){return new Zm(f,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(r,A.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,n,i).next(u=>{u.forEach((c,f)=>{a=a.insert(c,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((A,l)=>{const u=l.getKey();a.get(u)===null&&(a=a.insert(u,Nt.newInvalidDocument(u)))});let o=Cc();return a.forEach((A,l)=>{const u=s.get(A);u!==void 0&&Xc(u.mutation,l,$n.empty(),xt.now()),lf(r,l)&&(o=o.insert(A,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return M.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:$r(i.createTime)}}(r)),M.resolve()}getNamedQuery(e,r){return M.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:GO(i.bundledQuery),readTime:$r(i.readTime)}}(r)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(){this.overlays=new bt(Ae.comparator),this.Ir=new Map}getOverlay(e,r){return M.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Fi();return M.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),M.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),M.resolve()}getOverlaysForCollection(e,r,n){const i=Fi(),s=r.length+1,a=new Ae(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const A=o.getNext().value,l=A.getKey();if(!r.isPrefixOf(l.path))break;l.path.length===s&&A.largestBatchId>n&&i.set(A.getKey(),A)}return M.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new bt((l,u)=>l-u);const a=this.overlays.getIterator();for(;a.hasNext();){const l=a.getNext().value;if(l.getKey().getCollectionGroup()===r&&l.largestBatchId>n){let u=s.get(l.largestBatchId);u===null&&(u=Fi(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const o=Fi(),A=s.getIterator();for(;A.hasNext()&&(A.getNext().value.forEach((l,u)=>o.set(l,u)),!(o.size()>=i)););return M.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new EC(r,n));let s=this.Ir.get(r);s===void 0&&(s=ke(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,M.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.Tr=new tt(ir.Er),this.dr=new tt(ir.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new ir(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new ir(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Ae(new Ye([])),n=new ir(r,e),i=new ir(r,e+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Ae(new Ye([])),n=new ir(r,e),i=new ir(r,e+1);let s=ke();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new ir(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class ir{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Ae.comparator(e.key,r.key)||Qe(e.wr,r.wr)}static Ar(e,r){return Qe(e.wr,r.wr)||Ae.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new tt(ir.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new BC(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new ir(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return M.resolve(a)}lookupMutationBatch(e,r){return M.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new ir(r,0),i=new ir(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const o=this.Dr(a.wr);s.push(o)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new tt(Qe);return r.forEach(i=>{const s=new ir(i,0),a=new ir(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{n=n.add(o.wr)})}),M.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Ae.isDocumentKey(s)||(s=s.child(""));const a=new ir(new Ae(s),0);let o=new tt(Qe);return this.br.forEachWhile(A=>{const l=A.key.path;return!!n.isPrefixOf(l)&&(l.length===i&&(o=o.add(A.wr)),!0)},a),M.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Be(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return M.forEach(r.mutations,i=>{const s=new ir(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new ir(r,0),i=this.br.firstAfterOrEqual(n);return M.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e){this.Mr=e,this.docs=function(){return new bt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return M.resolve(n?n.document.mutableCopy():Nt.newInvalidDocument(r))}getEntries(e,r){let n=yn();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Nt.newInvalidDocument(i))}),M.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=yn();const a=r.path,o=new Ae(a.child("")),A=this.docs.getIteratorFrom(o);for(;A.hasNext();){const{key:l,value:{document:u}}=A.getNext();if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||hC(Yk(u),n)<=0||(i.has(u.key)||lf(r,u))&&(s=s.insert(u.key,u.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,r,n,i){ye()}Or(e,r){return M.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new FG(this)}getSize(e){return M.resolve(this.size)}}class FG extends JO{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),M.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(e){this.persistence=e,this.Nr=new no(r=>lA(r),of),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new FC,this.targetCount=0,this.kr=dA.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),M.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new dA(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,M.resolve()}updateTargetData(e,r){return this.Kn(r),M.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return M.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),M.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),M.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return M.resolve(n)}containsKey(e,r){return M.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Kn(0),this.Kr=!1,this.Kr=!0,this.$r=new IG,this.referenceDelegate=e(this),this.Ur=new UG(this),this.indexManager=new hG,this.remoteDocumentCache=function(i){return new TG(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new KO(r),this.Gr=new EG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new _G,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new SG(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Z("MemoryPersistence","Starting transaction:",e);const i=new PG(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return M.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class PG extends Jk{constructor(e){super(),this.currentSequenceNumber=e}}class a0{constructor(e){this.persistence=e,this.Jr=new FC,this.Yr=null}static Zr(e){return new a0(e)}get Xr(){if(this.Yr)return this.Yr;throw ye()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),M.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),M.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),M.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,n=>{const i=Ae.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,Ee.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return M.or([()=>M.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(e){this.serializer=e}O(e,r,n,i){const s=new Ym("createOrUpgrade",r);n<1&&i>=1&&(function(A){A.createObjectStore("owner")}(e),function(A){A.createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VS,{unique:!0}),A.createObjectStore("documentMutations")}(e),FT(e),function(A){A.createObjectStore("remoteDocuments")}(e));let a=M.resolve();return n<3&&i>=3&&(n!==0&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),FT(e)),a=a.next(()=>function(A){const l=A.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ee.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),n<4&&i>=4&&(n!==0&&(a=a.next(()=>function(A,l){return l.store("mutations").U().next(u=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VS,{unique:!0});const c=l.store("mutations"),f=u.map(g=>c.put(g));return M.waitFor(f)})}(e,s))),a=a.next(()=>{(function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),n<5&&i>=5&&(a=a.next(()=>this.ni(s))),n<6&&i>=6&&(a=a.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),n<7&&i>=7&&(a=a.next(()=>this.ii(s))),n<8&&i>=8&&(a=a.next(()=>this.si(e,s))),n<9&&i>=9&&(a=a.next(()=>{(function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&i>=10&&(a=a.next(()=>this.oi(s))),n<11&&i>=11&&(a=a.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&i>=12&&(a=a.next(()=>{(function(A){const l=A.createObjectStore("documentOverlays",{keyPath:o9});l.createIndex("collectionPathOverlayIndex",A9,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",l9,{unique:!1})})(e)})),n<13&&i>=13&&(a=a.next(()=>function(A){const l=A.createObjectStore("remoteDocumentsV14",{keyPath:Y8});l.createIndex("documentKeyIndex",q8),l.createIndex("collectionGroupIndex",J8)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&i>=14&&(a=a.next(()=>this.ai(e,s))),n<15&&i>=15&&(a=a.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:n9}).createIndex("sequenceNumberIndex",i9,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:s9}).createIndex("documentKeyIndex",a9,{unique:!1})}(e))),n<16&&i>=16&&(a=a.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),n<17&&i>=17&&(a=a.next(()=>{(function(A){A.createObjectStore("globals",{keyPath:"name"})})(e)})),a}ri(e){let r=0;return e.store("remoteDocuments").J((n,i)=>{r+=Ep(i)}).next(()=>{const n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}ni(e){const r=e.store("mutationQueues"),n=e.store("mutations");return r.U().next(i=>M.forEach(i,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",a).next(o=>M.forEach(o,A=>{Be(A.userId===s.userId);const l=To(this.serializer,A);return XO(e,s.userId,l).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return n.J((a,o)=>{const A=new Ye(a),l=function(c){return[0,Kr(c)]}(A);s.push(r.get(l).next(u=>u?M.resolve():(c=>r.put({targetId:0,path:Kr(c),sequenceNumber:i.highestListenSequenceNumber}))(A)))}).next(()=>M.waitFor(s))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:r9});const n=r.store("collectionParents"),i=new TC,s=a=>{if(i.add(a)){const o=a.lastSegment(),A=a.popLast();return n.put({collectionId:o,parent:Kr(A)})}};return r.store("remoteDocuments").J({H:!0},(a,o)=>{const A=new Ye(a);return s(A.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([a,o,A],l)=>{const u=Ti(o);return s(u.popLast())}))}oi(e){const r=e.store("targets");return r.J((n,i)=>{const s=_c(i),a=$O(this.serializer,s);return r.put(a)})}_i(e,r){const n=r.store("remoteDocuments"),i=[];return n.J((s,a)=>{const o=r.store("remoteDocumentsV14"),A=function(c){return c.document?new Ae(Ye.fromString(c.document.name).popFirst(5)):c.noDocument?Ae.fromSegments(c.noDocument.path):c.unknownDocument?Ae.fromSegments(c.unknownDocument.path):ye()}(a).path.toArray(),l={prefixPath:A.slice(0,A.length-2),collectionGroup:A[A.length-2],documentId:A[A.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(l))}).next(()=>M.waitFor(i))}ai(e,r){const n=r.store("mutations"),i=ZO(this.serializer),s=new t4(a0.Zr,this.serializer.ct);return n.U().next(a=>{const o=new Map;return a.forEach(A=>{var l;let u=(l=o.get(A.userId))!==null&&l!==void 0?l:ke();To(this.serializer,A).keys().forEach(c=>u=u.add(c)),o.set(A.userId,u)}),M.forEach(o,(A,l)=>{const u=new mr(l),c=i0.lt(this.serializer,u),f=s.getIndexManager(u),g=s0.lt(u,this.serializer,f,s.referenceDelegate);return new e4(i,g,c,f).recalculateAndSaveOverlaysForDocumentKeys(new Bx(r,Kn.oe),A).next()})})}}function FT(t){t.createObjectStore("targetDocuments",{keyPath:e9}).createIndex("documentTargetsIndex",t9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Z8,{unique:!0}),t.createObjectStore("targetGlobal")}const yy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class UC{constructor(e,r,n,i,s,a,o,A,l,u,c=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ui=s,this.window=a,this.document=o,this.ci=l,this.li=u,this.hi=c,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!UC.D())throw new he(X.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xG(this,i),this.Ai=r+"main",this.serializer=new KO(A),this.Ri=new Fa(this.Ai,this.hi,new QG(this.serializer)),this.$r=new AG,this.Ur=new pG(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ZO(this.serializer),this.Gr=new oG,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,u===!1&&Mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new he(X.FAILED_PRECONDITION,yy);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Kn(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Bh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(ro(e))return Z("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Z("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return ic(e).get("owner").next(r=>M.resolve(this.vi(r)))}Ci(e){return Bh(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const n=qt(r,"clientMetadata");return n.U().next(i=>{const s=this.xi(i,18e5),a=i.filter(o=>s.indexOf(o)===-1);return M.forEach(a,o=>n.delete(o.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Vi)for(const r of e)this.Vi.removeItem(this.Oi(r.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?M.resolve(!0):ic(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new he(X.FAILED_PRECONDITION,yy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Bh(e).U().next(n=>this.xi(n,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&Z("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new Bx(e,Kn.oe);return this.bi(r).next(()=>this.Ci(r))}),this.Ri.close(),this.qi()}xi(e,r){return e.filter(n=>this.Mi(n.updateTimeMs,r)&&!this.Ni(n.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Bh(e).U().next(r=>this.xi(r,18e5).map(n=>n.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return s0.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new gG(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return i0.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,n){Z("IndexedDbPersistence","Starting transaction:",e);const i=r==="readonly"?"readonly":"readwrite",s=function(A){return A===17?d9:A===16?c9:A===15?pC:A===14?nO:A===13?rO:A===12?u9:A===11?tO:void ye()}(this.hi);let a;return this.Ri.runTransaction(e,i,s,o=>(a=new Bx(o,this.Qr?this.Qr.next():Kn.oe),r==="readwrite-primary"?this.wi(a).next(A=>!!A||this.Si(a)).next(A=>{if(!A)throw Mr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new he(X.FAILED_PRECONDITION,qk);return n(a)}).next(A=>this.Di(a).next(()=>A)):this.Ki(a).next(()=>n(a)))).then(o=>(a.raiseOnCommittedEvent(),o))}Ki(e){return ic(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new he(X.FAILED_PRECONDITION,yy)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ic(e).put("owner",r)}static D(){return Fa.D()}bi(e){const r=ic(e);return r.get("owner").next(n=>this.vi(n)?(Z("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):M.resolve())}Mi(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(Mr(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;Qk()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const n=((r=this.Vi)===null||r===void 0?void 0:r.getItem(this.Oi(e)))!==null;return Z("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Mr("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Mr("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ic(t){return qt(t,"owner")}function Bh(t){return qt(t,"clientMetadata")}function NG(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=ke(),i=ke();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new PC(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Qk()?8:Zk(Yt())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new kG;return this.Xi(e,r,a).next(o=>{if(s.result=o,this.zi)return this.es(e,r,a,o.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(qA()<=je.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",JA(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(qA()<=je.DEBUG&&Z("QueryEngine","Query:",JA(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(qA()<=je.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",JA(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(r))):M.resolve())}Yi(e,r){if(rT(r))return M.resolve(null);let n=Yn(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=wp(r,null,"F"),n=Yn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=ke(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(A=>{const l=this.ts(r,o);return this.ns(r,l,a,A.readTime)?this.Yi(e,wp(r,null,"F")):this.rs(e,l,r,A)}))})))}Zi(e,r,n,i){return rT(r)||i.isEqual(Ee.min())?M.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const a=this.ts(r,s);return this.ns(r,a,n,i)?M.resolve(null):(qA()<=je.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),JA(r)),this.rs(e,a,r,H8(i,-1)).next(o=>o))})}ts(e,r){let n=new tt(mO(e));return r.forEach((i,s)=>{lf(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return qA()<=je.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",JA(r)),this.Ji.getDocumentsMatchingQuery(e,r,Cn.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new bt(Qe),this._s=new no(s=>lA(s),of),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new e4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function n4(t,e,r,n){return new OG(t,e,r,n)}async function i4(t,e){const r=Ue(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let A=ke();for(const l of i){a.push(l.batchId);for(const u of l.mutations)A=A.add(u.key)}for(const l of s){o.push(l.batchId);for(const u of l.mutations)A=A.add(u.key)}return r.localDocuments.getDocuments(n,A).next(l=>({hs:l,removedBatchIds:a,addedBatchIds:o}))})})}function DG(t,e){const r=Ue(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,A,l,u){const c=l.batch,f=c.keys();let g=M.resolve();return f.forEach(m=>{g=g.next(()=>u.getEntry(A,m)).next(p=>{const v=l.docVersions.get(m);Be(v!==null),p.version.compareTo(v)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(A,c))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let A=ke();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(A=A.add(o.batch.mutations[l].key));return A}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function s4(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function jG(t,e){const r=Ue(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((u,c)=>{const f=i.get(c);if(!f)return;o.push(r.Ur.removeMatchingKeys(s,u.removedDocuments,c).next(()=>r.Ur.addMatchingKeys(s,u.addedDocuments,c)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(c)!==null?g=g.withResumeToken(Rt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,n)),i=i.insert(c,g),function(p,v,y){return p.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,g,u)&&o.push(r.Ur.updateTargetData(s,g))});let A=yn(),l=ke();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(RG(s,a,e.documentUpdates).next(u=>{A=u.Ps,l=u.Is})),!n.isEqual(Ee.min())){const u=r.Ur.getLastRemoteSnapshotVersion(s).next(c=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(u)}return M.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,A,l)).next(()=>A)}).then(s=>(r.os=i,s))}function RG(t,e,r){let n=ke(),i=ke();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=yn();return r.forEach((o,A)=>{const l=s.get(o);A.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(o)),A.isNoDocument()&&A.version.isEqual(Ee.min())?(e.removeEntry(o,A.readTime),a=a.insert(o,A)):!l.isValidDocument()||A.version.compareTo(l.version)>0||A.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(A),a=a.insert(o,A)):Z("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",A.version)}),{Ps:a,Is:i}})}function LG(t,e){const r=Ue(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function MG(t,e){const r=Ue(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,M.resolve(i)):r.Ur.allocateTargetId(n).next(a=>(i=new As(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Ox(t,e,r){const n=Ue(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!ro(a))throw a;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function UT(t,e,r){const n=Ue(t);let i=Ee.min(),s=ke();return n.persistence.runTransaction("Execute query","readwrite",a=>function(A,l,u){const c=Ue(A),f=c._s.get(u);return f!==void 0?M.resolve(c.os.get(f)):c.Ur.getTargetData(l,u)}(n,a,Yn(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(A=>{s=A})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:Ee.min(),r?s:ke())).next(o=>(HG(n,S9(e),o),{documents:o,Ts:s})))}function HG(t,e,r){let n=t.us.get(e)||Ee.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class PT{constructor(){this.activeTargetIds=N9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a4{constructor(){this.so=new PT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new PT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch=null;function wy(){return Ch===null?Ch=function(){return 268435456+Math.round(2147483648*Math.random())}():Ch++,"0x"+Ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="WebChannelConnection";class GG extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,a){const o=wy(),A=this.xo(r,n.toUriEncodedString());Z("RestConnection",`Sending RPC '${r}' ${o}:`,A,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,a),this.No(r,A,l,i).then(u=>(Z("RestConnection",`Received RPC '${r}' ${o}: `,u),u),u=>{throw La("RestConnection",`RPC '${r}' ${o} failed with error: `,u,"url: ",A,"request:",i),u})}Lo(r,n,i,s,a,o){return this.Mo(r,n,i,s,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mu}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>r[a]=s),i&&i.headers.forEach((s,a)=>r[a]=s)}xo(r,n){const i=KG[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=wy();return new Promise((a,o)=>{const A=new Hk;A.setWithCredentials(!0),A.listenOnce(Vk.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case Cg.NO_ERROR:const u=A.getResponseJson();Z(Sr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),a(u);break;case Cg.TIMEOUT:Z(Sr,`RPC '${e}' ${s} timed out`),o(new he(X.DEADLINE_EXCEEDED,"Request time out"));break;case Cg.HTTP_ERROR:const c=A.getStatus();if(Z(Sr,`RPC '${e}' ${s} failed with status:`,c,"response text:",A.getResponseText()),c>0){let f=A.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const m=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(y)>=0?y:X.UNKNOWN}(g.status);o(new he(m,g.message))}else o(new he(X.UNKNOWN,"Server responded with status "+A.getStatus()))}else o(new he(X.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{Z(Sr,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);Z(Sr,`RPC '${e}' ${s} sending request:`,i),A.send(r,"POST",l,n,15)})}Bo(e,r,n){const i=wy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Gk(),o=$k(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(A.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(A.useFetchStreams=!0),this.Oo(A.initMessageHeaders,r,n),A.encodeInitMessageHeaders=!0;const u=s.join("");Z(Sr,`Creating RPC '${e}' stream ${i}: ${u}`,A);const c=a.createWebChannel(u,A);let f=!1,g=!1;const m=new $G({Io:v=>{g?Z(Sr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(Z(Sr,`Opening RPC '${e}' stream ${i} transport.`),c.open(),f=!0),Z(Sr,`RPC '${e}' stream ${i} sending:`,v),c.send(v))},To:()=>c.close()}),p=(v,y,w)=>{v.listen(y,B=>{try{w(B)}catch(I){setTimeout(()=>{throw I},0)}})};return p(c,Bc.EventType.OPEN,()=>{g||(Z(Sr,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),p(c,Bc.EventType.CLOSE,()=>{g||(g=!0,Z(Sr,`RPC '${e}' stream ${i} transport closed`),m.So())}),p(c,Bc.EventType.ERROR,v=>{g||(g=!0,La(Sr,`RPC '${e}' stream ${i} transport errored:`,v),m.So(new he(X.UNAVAILABLE,"The operation could not be completed")))}),p(c,Bc.EventType.MESSAGE,v=>{var y;if(!g){const w=v.data[0];Be(!!w);const B=w,I=B.error||((y=B[0])===null||y===void 0?void 0:y.error);if(I){Z(Sr,`RPC '${e}' stream ${i} received error:`,I);const T=I.status;let F=function(S){const P=Mt[S];if(P!==void 0)return FO(P)}(T),C=I.message;F===void 0&&(F=X.INTERNAL,C="Unknown error status: "+T+" with message "+I.message),g=!0,m.So(new he(F,C)),c.close()}else Z(Sr,`RPC '${e}' stream ${i} received:`,w),m.bo(w)}}),p(o,Kk.STAT_EVENT,v=>{v.stat===xx.PROXY?Z(Sr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===xx.NOPROXY&&Z(Sr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zG(){return typeof window<"u"?window:null}function Ug(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t){return new Y9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,r,n,i,s,a,o,A){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=A,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new o4(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===X.RESOURCE_EXHAUSTED?(Mr(r.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new he(X.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WG extends A4{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=Z9(this.serializer,e),n=function(s){if(!("targetChange"in s))return Ee.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ee.min():a.readTime?$r(a.readTime):Ee.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Ux(this.serializer),r.addTarget=function(s,a){let o;const A=a.target;if(o=vp(A)?{documents:jO(s,A)}:{query:RO(s,A)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=QO(s,a.resumeToken);const l=Tx(s,a.expectedCount);l!==null&&(o.expectedCount=l)}else if(a.snapshotVersion.compareTo(Ee.min())>0){o.readTime=Yl(s,a.snapshotVersion.toTimestamp());const l=Tx(s,a.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const n=tG(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Ux(this.serializer),r.removeTarget=e,this.a_(r)}}class XG extends A4{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=eG(e.writeResults,e.commitTime),n=$r(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Ux(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>bp(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new he(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Fx(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he(X.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,Fx(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(X.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class qG{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Mr(r),this.D_=!1):Z("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{BA(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(A){const l=Ue(A);l.L_.add(4),await cf(l),l.q_.set("Unknown"),l.L_.delete(4),await A0(l)}(this))})}),this.q_=new qG(n,i)}}async function A0(t){if(BA(t))for(const e of t.B_)await e(!0)}async function cf(t){for(const e of t.B_)await e(!1)}function l4(t,e){const r=Ue(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),OC(r)?kC(r):wu(r).r_()&&NC(r,e))}function QC(t,e){const r=Ue(t),n=wu(r);r.N_.delete(e),n.r_()&&u4(r,e),r.N_.size===0&&(n.r_()?n.o_():BA(r)&&r.q_.set("Unknown"))}function NC(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}wu(t).A_(e)}function u4(t,e){t.Q_.xe(e),wu(t).R_(e)}function kC(t){t.Q_=new G9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),wu(t).start(),t.q_.v_()}function OC(t){return BA(t)&&!wu(t).n_()&&t.N_.size>0}function BA(t){return Ue(t).L_.size===0}function c4(t){t.Q_=void 0}async function ZG(t){t.q_.set("Online")}async function ez(t){t.N_.forEach((e,r)=>{NC(t,e)})}async function tz(t,e){c4(t),OC(t)?(t.q_.M_(e),kC(t)):t.q_.set("Unknown")}async function rz(t,e,r){if(t.q_.set("Online"),e instanceof PO&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await _p(t,n)}else if(e instanceof Fg?t.Q_.Ke(e):e instanceof UO?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ee.min()))try{const n=await s4(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((A,l)=>{if(A.resumeToken.approximateByteSize()>0){const u=s.N_.get(l);u&&s.N_.set(l,u.withResumeToken(A.resumeToken,a))}}),o.targetMismatches.forEach((A,l)=>{const u=s.N_.get(A);if(!u)return;s.N_.set(A,u.withResumeToken(Rt.EMPTY_BYTE_STRING,u.snapshotVersion)),u4(s,A);const c=new As(u.target,A,l,u.sequenceNumber);NC(s,c)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){Z("RemoteStore","Failed to raise snapshot:",n),await _p(t,n)}}async function _p(t,e,r){if(!ro(e))throw e;t.L_.add(1),await cf(t),t.q_.set("Offline"),r||(r=()=>s4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await A0(t)})}function d4(t,e){return e().catch(r=>_p(t,r,e))}async function df(t){const e=Ue(t),r=Ka(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;nz(e);)try{const i=await LG(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,iz(e,i)}catch(i){await _p(e,i)}f4(e)&&h4(e)}function nz(t){return BA(t)&&t.O_.length<10}function iz(t,e){t.O_.push(e);const r=Ka(t);r.r_()&&r.V_&&r.m_(e.mutations)}function f4(t){return BA(t)&&!Ka(t).n_()&&t.O_.length>0}function h4(t){Ka(t).start()}async function sz(t){Ka(t).p_()}async function az(t){const e=Ka(t);for(const r of t.O_)e.m_(r.mutations)}async function oz(t,e,r){const n=t.O_.shift(),i=CC.from(n,e,r);await d4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await df(t)}async function Az(t,e){e&&Ka(t).V_&&await async function(n,i){if(function(a){return V9(a)&&a!==X.ABORTED}(i.code)){const s=n.O_.shift();Ka(n).s_(),await d4(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await df(n)}}(t,e),f4(t)&&h4(t)}async function NT(t,e){const r=Ue(t);r.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const n=BA(r);r.L_.add(3),await cf(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await A0(r)}async function lz(t,e){const r=Ue(t);e?(r.L_.delete(2),await A0(r)):e||(r.L_.add(2),await cf(r),r.q_.set("Unknown"))}function wu(t){return t.K_||(t.K_=function(r,n,i){const s=Ue(r);return s.w_(),new WG(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:ZG.bind(null,t),Ro:ez.bind(null,t),mo:tz.bind(null,t),d_:rz.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),OC(t)?kC(t):t.q_.set("Unknown")):(await t.K_.stop(),c4(t))})),t.K_}function Ka(t){return t.U_||(t.U_=function(r,n,i){const s=Ue(r);return s.w_(),new XG(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:sz.bind(null,t),mo:Az.bind(null,t),f_:az.bind(null,t),g_:oz.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await df(t)):(await t.U_.stop(),t.O_.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new DC(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jC(t,e){if(Mr("AsyncQueue",`${e}: ${t}`),ro(t))return new he(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ae.comparator(r.key,n.key):(r,n)=>Ae.comparator(r.key,n.key),this.keyedMap=Cc(),this.sortedSet=new bt(this.comparator)}static emptySet(e){return new Il(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Il)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Il;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.W_=new bt(Ae.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):ye():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class ql{constructor(e,r,n,i,s,a,o,A,l){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=A,this.hasCachedResults=l}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new ql(e,r,Il.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&e0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class cz{constructor(){this.queries=OT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Ue(r),s=i.queries;i.queries=OT(),s.forEach((a,o)=>{for(const A of o.j_)A.onError(n)})})(this,new he(X.ABORTED,"Firestore shutting down"))}}function OT(){return new no(t=>pO(t),e0)}async function RC(t,e){const r=Ue(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new uz,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=jC(a,`Initialization of query '${JA(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&MC(r)}async function LC(t,e){const r=Ue(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function dz(t,e){const r=Ue(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&MC(r)}function fz(t,e,r){const n=Ue(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function MC(t){t.Y_.forEach(e=>{e.next()})}var Dx,DT;(DT=Dx||(Dx={})).ea="default",DT.Cache="cache";class HC{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ql(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Dx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.key=e}}class p4{constructor(e){this.key=e}}class hz{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ke(),this.mutatedKeys=ke(),this.Aa=mO(e),this.Ra=new Il(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new kT,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const A=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,c)=>{const f=i.get(u),g=lf(this.query,c)?c:null,m=!!f&&this.mutatedKeys.has(f.key),p=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let v=!1;f&&g?f.data.isEqual(g.data)?m!==p&&(n.track({type:3,doc:g}),v=!0):this.ga(f,g)||(n.track({type:2,doc:g}),v=!0,(A&&this.Aa(g,A)>0||l&&this.Aa(g,l)<0)&&(o=!0)):!f&&g?(n.track({type:0,doc:g}),v=!0):f&&!g&&(n.track({type:1,doc:f}),v=!0,(A||l)&&(o=!0)),v&&(g?(a=a.add(g),s=p?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),n.track({type:1,doc:u})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((u,c)=>function(g,m){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return p(g)-p(m)}(u.type,c.type)||this.Aa(u.doc,c.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],A=this.da.size===0&&this.current&&!i?1:0,l=A!==this.Ea;return this.Ea=A,a.length!==0||l?{snapshot:new ql(this.query,e.Ra,s,a,e.mutatedKeys,A===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new kT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ke(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new p4(n))}),this.da.forEach(n=>{e.has(n)||r.push(new g4(n))}),r}ba(e){this.Ta=e.Ts,this.da=ke();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return ql.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class gz{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class pz{constructor(e){this.key=e,this.va=!1}}class mz{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new no(o=>pO(o),e0),this.Ma=new Map,this.xa=new Set,this.Oa=new bt(Ae.comparator),this.Na=new Map,this.La=new FC,this.Ba={},this.ka=new Map,this.qa=dA.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function vz(t,e,r=!0){const n=b4(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await m4(n,e,r,!0),i}async function yz(t,e){const r=b4(t);await m4(r,e,!0,!1)}async function m4(t,e,r,n){const i=await MG(t.localStore,Yn(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await wz(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&l4(t.remoteStore,i),o}async function wz(t,e,r,n,i){t.Ka=(c,f,g)=>async function(p,v,y,w){let B=v.view.ma(y);B.ns&&(B=await UT(p.localStore,v.query,!1).then(({documents:C})=>v.view.ma(C,B)));const I=w&&w.targetChanges.get(v.targetId),T=w&&w.targetMismatches.get(v.targetId)!=null,F=v.view.applyChanges(B,p.isPrimaryClient,I,T);return RT(p,v.targetId,F.wa),F.snapshot}(t,c,f,g);const s=await UT(t.localStore,e,!0),a=new hz(e,s.Ts),o=a.ma(s.documents),A=uf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),l=a.applyChanges(o,t.isPrimaryClient,A);RT(t,r,l.wa);const u=new gz(e,r,a);return t.Fa.set(e,u),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),l.snapshot}async function xz(t,e,r){const n=Ue(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!e0(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Ox(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&QC(n.remoteStore,i.targetId),jx(n,i.targetId)}).catch(bA)):(jx(n,i.targetId),await Ox(n.localStore,i.targetId,!0))}async function bz(t,e){const r=Ue(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),QC(r.remoteStore,n.targetId))}async function Bz(t,e,r){const n=B4(t);try{const i=await function(a,o){const A=Ue(a),l=xt.now(),u=o.reduce((g,m)=>g.add(m.key),ke());let c,f;return A.persistence.runTransaction("Locally write mutations","readwrite",g=>{let m=yn(),p=ke();return A.cs.getEntries(g,u).next(v=>{m=v,m.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>A.localDocuments.getOverlayedDocuments(g,m)).next(v=>{c=v;const y=[];for(const w of o){const B=M9(w,c.get(w.key).overlayedDocument);B!=null&&y.push(new io(w.key,B,AO(B.value.mapValue),wn.exists(!0)))}return A.mutationQueue.addMutationBatch(g,l,y,o)}).next(v=>{f=v;const y=v.applyToLocalDocumentSet(c,p);return A.documentOverlayCache.saveOverlays(g,v.batchId,y)})}).then(()=>({batchId:f.batchId,changes:yO(c)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,A){let l=a.Ba[a.currentUser.toKey()];l||(l=new bt(Qe)),l=l.insert(o,A),a.Ba[a.currentUser.toKey()]=l}(n,i.batchId,r),await ff(n,i.changes),await df(n.remoteStore)}catch(i){const s=jC(i,"Failed to persist write");r.reject(s)}}async function v4(t,e){const r=Ue(t);try{const n=await jG(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Na.get(s);a&&(Be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Be(a.va):i.removedDocuments.size>0&&(Be(a.va),a.va=!1))}),await ff(r,n,e)}catch(n){await bA(n)}}function jT(t,e,r){const n=Ue(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const A=Ue(a);A.onlineState=o;let l=!1;A.queries.forEach((u,c)=>{for(const f of c.j_)f.Z_(o)&&(l=!0)}),l&&MC(A)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Cz(t,e,r){const n=Ue(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new bt(Ae.comparator);a=a.insert(s,Nt.newNoDocument(s,Ee.min()));const o=ke().add(s),A=new n0(Ee.min(),new Map,new bt(Qe),a,o);await v4(n,A),n.Oa=n.Oa.remove(s),n.Na.delete(e),VC(n)}else await Ox(n.localStore,e,!1).then(()=>jx(n,e,r)).catch(bA)}async function Ez(t,e){const r=Ue(t),n=e.batch.batchId;try{const i=await DG(r.localStore,e);w4(r,n,null),y4(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await ff(r,i)}catch(i){await bA(i)}}async function _z(t,e,r){const n=Ue(t);try{const i=await function(a,o){const A=Ue(a);return A.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return A.mutationQueue.lookupMutationBatch(l,o).next(c=>(Be(c!==null),u=c.keys(),A.mutationQueue.removeMutationBatch(l,c))).next(()=>A.mutationQueue.performConsistencyCheck(l)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>A.localDocuments.getDocuments(l,u))})}(n.localStore,e);w4(n,e,r),y4(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await ff(n,i)}catch(i){await bA(i)}}function y4(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function w4(t,e,r){const n=Ue(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function jx(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||x4(t,n)})}function x4(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(QC(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),VC(t))}function RT(t,e,r){for(const n of r)n instanceof g4?(t.La.addReference(n.key,e),Iz(t,n)):n instanceof p4?(Z("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||x4(t,n.key)):ye()}function Iz(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Z("SyncEngine","New document in limbo: "+r),t.xa.add(n),VC(t))}function VC(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Ae(Ye.fromString(e)),n=t.qa.next();t.Na.set(n,new pz(r)),t.Oa=t.Oa.insert(r,n),l4(t.remoteStore,new As(Yn(Af(r.path)),n,"TargetPurposeLimboResolution",Kn.oe))}}async function ff(t,e,r){const n=Ue(t),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,A)=>{a.push(n.Ka(A,e,r).then(l=>{var u;if((l||r)&&n.isPrimaryClient){const c=l?!l.fromCache:(u=r==null?void 0:r.targetChanges.get(A.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(A.targetId,c?"current":"not-current")}if(l){i.push(l);const c=PC.Wi(A.targetId,l);s.push(c)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(A,l){const u=Ue(A);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>M.forEach(l,f=>M.forEach(f.$i,g=>u.persistence.referenceDelegate.addReference(c,f.targetId,g)).next(()=>M.forEach(f.Ui,g=>u.persistence.referenceDelegate.removeReference(c,f.targetId,g)))))}catch(c){if(!ro(c))throw c;Z("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const f=c.targetId;if(!c.fromCache){const g=u.os.get(f),m=g.snapshotVersion,p=g.withLastLimboFreeSnapshotVersion(m);u.os=u.os.insert(f,p)}}}(n.localStore,s))}async function Sz(t,e){const r=Ue(t);if(!r.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const n=await i4(r.localStore,e);r.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(A=>{A.reject(new he(X.CANCELLED,a))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await ff(r,n.hs)}}function Tz(t,e){const r=Ue(t),n=r.Na.get(e);if(n&&n.va)return ke().add(n.key);{let i=ke();const s=r.Ma.get(e);if(!s)return i;for(const a of s){const o=r.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function b4(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=v4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cz.bind(null,e),e.Ca.d_=dz.bind(null,e.eventManager),e.Ca.$a=fz.bind(null,e.eventManager),e}function B4(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ez.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_z.bind(null,e),e}class kd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=o0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return n4(this.persistence,new r4,e.initialUser,this.serializer)}Ga(e){return new t4(a0.Zr,this.serializer)}Wa(e){return new a4}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kd.provider={build:()=>new kd};class Fz extends kd{constructor(e,r,n){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await B4(this.Ja.syncEngine),await df(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return n4(this.persistence,new r4,e.initialUser,this.serializer)}ja(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new vG(n,e.asyncQueue,r)}Ha(e,r){const n=new G8(r,this.persistence);return new $8(e.asyncQueue,n)}Ga(e){const r=NG(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?qr.withCacheSize(this.cacheSizeBytes):qr.DEFAULT;return new UC(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,zG(),Ug(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new a4}}class Ip{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>jT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sz.bind(null,this.syncEngine),await lz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cz}()}createDatastore(e){const r=o0(e.databaseInfo.databaseId),n=function(s){return new GG(s)}(e.databaseInfo);return function(s,a,o,A){return new YG(s,a,o,A)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new JG(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>jT(this.syncEngine,r,0),function(){return QT.D()?new QT:new VG}())}createSyncEngine(e,r){return function(i,s,a,o,A,l,u){const c=new mz(i,s,a,o,A,l);return u&&(c.Qa=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=Ue(i);Z("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await cf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Ip.provider={build:()=>new Ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=mr.UNAUTHENTICATED,this.clientId=fC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{Z("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(Z("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=jC(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function xy(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await i4(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function LT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Pz(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>NT(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>NT(e.remoteStore,i)),t._onlineComponents=e}async function Pz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await xy(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;La("Error using user provided cache. Falling back to memory cache: "+r),await xy(t,new kd)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await xy(t,new kd);return t._offlineComponents}async function C4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await LT(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await LT(t,new Ip))),t._onlineComponents}function Qz(t){return C4(t).then(e=>e.syncEngine)}async function Sp(t){const e=await C4(t),r=e.eventManager;return r.onListen=vz.bind(null,e.syncEngine),r.onUnlisten=xz.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=yz.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=bz.bind(null,e.syncEngine),r}function Nz(t,e,r={}){const n=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,A,l){const u=new KC({next:f=>{u.Za(),a.enqueueAndForget(()=>LC(s,c));const g=f.docs.has(o);!g&&f.fromCache?l.reject(new he(X.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&A&&A.source==="server"?l.reject(new he(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new HC(Af(o.path),u,{includeMetadataChanges:!0,_a:!0});return RC(s,c)}(await Sp(t),t.asyncQueue,e,r,n)),n.promise}function kz(t,e,r={}){const n=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,A,l){const u=new KC({next:f=>{u.Za(),a.enqueueAndForget(()=>LC(s,c)),f.fromCache&&A.source==="server"?l.reject(new he(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new HC(o,u,{includeMetadataChanges:!0,_a:!0});return RC(s,c)}(await Sp(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t,e,r){if(!r)throw new he(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function I4(t,e,r,n){if(e===!0&&n===!0)throw new he(X.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function HT(t){if(!Ae.isDocumentKey(t))throw new he(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VT(t){if(Ae.isDocumentKey(t))throw new he(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $C(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=$C(t);throw new he(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new he(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E4((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class l0{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Wk;switch(n.type){case"firstParty":return new D8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new he(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=MT.get(r);n&&(Z("ComponentProvider","Removing Datastore"),MT.delete(r),n.terminate())}(this),Promise.resolve()}}function S4(t,e,r,n={}){var i;const s=(t=qn(t,l0))._getSettings(),a=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,A;if(typeof n.mockUserToken=="string")o=n.mockUserToken,A=mr.MOCK_USER;else{o=d$(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new he(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new mr(l)}t._authCredentials=new N8(new zk(o,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new CA(this.firestore,e,this._query)}}class Gr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gr(this.firestore,e,this._key)}}class gs extends CA{constructor(e,r,n){super(e,r,Af(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gr(this.firestore,null,new Ae(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function Yc(t,e,...r){if(t=on(t),_4("collection","path",e),t instanceof l0){const n=Ye.fromString(e,...r);return VT(n),new gs(t,null,n)}{if(!(t instanceof Gr||t instanceof gs))throw new he(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ye.fromString(e,...r));return VT(n),new gs(t.firestore,null,n)}}function Ii(t,e,...r){if(t=on(t),arguments.length===1&&(e=fC.newId()),_4("doc","path",e),t instanceof l0){const n=Ye.fromString(e,...r);return HT(n),new Gr(t,null,new Ae(n))}{if(!(t instanceof Gr||t instanceof gs))throw new he(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ye.fromString(e,...r));return HT(n),new Gr(t.firestore,t instanceof gs?t.converter:null,new Ae(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new o4(this,"async_queue_retry"),this.Vu=()=>{const n=Ug();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Ug();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Ug();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Ni;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ro(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw Mr("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=DC.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ye()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function GT(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=-1;class $a extends l0{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new $T,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $T(e),this._firestoreClient=void 0,await e}}}function F4(t,e){const r=typeof t=="object"?t:jk(),n=typeof t=="string"?t:"(default)",i=cC(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=u$("firestore");s&&S4(i,...s)}return i}function hf(t){if(t._terminated)throw new he(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||U4(t),t._firestoreClient}function U4(t){var e,r,n;const i=t._freezeSettings(),s=function(o,A,l,u){return new h9(o,A,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,E4(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Uz(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const A=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(A),_online:A}}(t._componentsProvider))}function P4(t,e){La("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return Oz(t,Ip.provider,{build:n=>new Fz(n,r.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function Oz(t,e,r){if((t=qn(t,$a))._firestoreClient||t._terminated)throw new he(X.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new he(X.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},U4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fA(Rt.fromBase64String(e))}catch(r){throw new he(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new fA(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new he(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new he(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new he(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz=/^__.*__$/;class jz{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new io(e,this.data,this.fieldMask,r,this.fieldTransforms):new yu(e,this.data,r,this.fieldTransforms)}}function Q4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class GC{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new GC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Tp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Q4(this.Cu)&&Dz.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Rz{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||o0(e)}Qu(e,r,n,i=!1){return new GC({Cu:e,methodName:r,qu:n,path:vt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lz(t){const e=t._freezeSettings(),r=o0(t._databaseId);return new Rz(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Mz(t,e,r,n,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);D4("Data must be an object, but it was:",a,n);const o=k4(n,a);let A,l;if(s.merge)A=new $n(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const c of s.mergeFields){const f=Hz(e,c,r);if(!a.contains(f))throw new he(X.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Kz(u,f)||u.push(f)}A=new $n(u),l=a.fieldTransforms.filter(c=>A.covers(c.field))}else A=null,l=a.fieldTransforms;return new jz(new en(o),A,l)}class zC extends c0{_toFieldTransform(e){return new _O(e.path,new zl)}isEqual(e){return e instanceof zC}}function N4(t,e){if(O4(t=on(t)))return D4("Unsupported field value:",e,t),k4(t,e);if(t instanceof c0)return function(n,i){if(!Q4(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let A=N4(o,i.Lu(a));A==null&&(A={nullValue:"NULL_VALUE"}),s.push(A),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=on(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return k9(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=xt.fromDate(n);return{timestampValue:Yl(i.serializer,s)}}if(n instanceof xt){const s=new xt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Yl(i.serializer,s)}}if(n instanceof d0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof fA)return{bytesValue:QO(i.serializer,n._byteString)};if(n instanceof Gr){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:IC(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof f0)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(A=>{if(typeof A!="number")throw o.Bu("VectorValues must only contain numeric values.");return xC(o.serializer,A)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${$C(n)}`)}(t,e)}function k4(t,e){const r={};return iO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vu(t,(n,i)=>{const s=N4(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function O4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof d0||t instanceof fA||t instanceof Gr||t instanceof c0||t instanceof f0)}function D4(t,e,r){if(!O4(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=$C(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function Hz(t,e,r){if((e=on(e))instanceof u0)return e._internalPath;if(typeof e=="string")return j4(t,e);throw Tp("Field path arguments must be of type string or ",t,!1,void 0,r)}const Vz=new RegExp("[~\\*/\\[\\]]");function j4(t,e,r){if(e.search(Vz)>=0)throw Tp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new u0(...e.split("."))._internalPath}catch{throw Tp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Tp(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let A="";return(s||a)&&(A+=" (found",s&&(A+=` in field ${n}`),a&&(A+=` in document ${i}`),A+=")"),new he(X.INVALID_ARGUMENT,o+t+A)}function Kz(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $z(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(L4("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class $z extends R4{data(){return super.data()}}function L4(t,e){return typeof e=="string"?j4(t,e):e instanceof u0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gz{}class H4 extends Gz{}class h0 extends H4{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new h0(e,r,n)}_apply(e){return new CA(e.firestore,e.converter,wp(e._query,this._limit,this._limitType))}}function V4(t){return h0._create("limit",t,"F")}class K4{convertValue(e,r="none"){switch(AA(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return vu(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>pt(a.doubleValue));return new f0(s)}convertGeoPoint(e){return new d0(pt(e.latitude),pt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=vC(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Ud(e));default:return null}}convertTimestamp(e){const r=Cs(e);return new xt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Ye.fromString(e);Be(VO(n));const i=new Ha(n.get(1),n.get(3)),s=new Ae(n.popFirst(5));return i.isEqual(r)||Mr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class WC extends R4{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(L4("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class qc extends WC{data(e={}){return super.data(e)}}class XC{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new pl(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new qc(this._firestore,this._userDataWriter,n.key,n,new pl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new he(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const A=new qc(i._firestore,i._userDataWriter,o.doc.key,o.doc,new pl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:A,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const A=new qc(i._firestore,i._userDataWriter,o.doc.key,o.doc,new pl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return o.type!==0&&(l=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:Wz(o.type),doc:A,oldIndex:l,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Wz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(t){t=qn(t,Gr);const e=qn(t.firestore,$a);return Nz(hf(e),t._key).then(r=>G4(e,t,r))}class YC extends K4{constructor(e){super(),this.firestore=e}convertBytes(e){return new fA(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Gr(this.firestore,null,r)}}function Jc(t){t=qn(t,CA);const e=qn(t.firestore,$a),r=hf(e),n=new YC(e);return M4(t._query),kz(r,t._query).then(i=>new XC(e,n,t,i))}function Oo(t,e,r){t=qn(t,Gr);const n=qn(t.firestore,$a),i=zz(t.converter,e);return $4(n,[Mz(Lz(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,wn.none())])}function Od(t,...e){var r,n,i;t=on(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||GT(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(GT(e[a])){const c=e[a];e[a]=(r=c.next)===null||r===void 0?void 0:r.bind(c),e[a+1]=(n=c.error)===null||n===void 0?void 0:n.bind(c),e[a+2]=(i=c.complete)===null||i===void 0?void 0:i.bind(c)}let A,l,u;if(t instanceof Gr)l=qn(t.firestore,$a),u=Af(t._key.path),A={next:c=>{e[a]&&e[a](G4(l,t,c))},error:e[a+1],complete:e[a+2]};else{const c=qn(t,CA);l=qn(c.firestore,$a),u=c._query;const f=new YC(l);A={next:g=>{e[a]&&e[a](new XC(l,f,c,g))},error:e[a+1],complete:e[a+2]},M4(t._query)}return function(f,g,m,p){const v=new KC(p),y=new HC(g,v,m);return f.asyncQueue.enqueueAndForget(async()=>RC(await Sp(f),y)),()=>{v.Za(),f.asyncQueue.enqueueAndForget(async()=>LC(await Sp(f),y))}}(hf(l),u,o,A)}function $4(t,e){return function(n,i){const s=new Ni;return n.asyncQueue.enqueueAndForget(async()=>Bz(await Qz(n),i,s)),s.promise}(hf(t),e)}function G4(t,e,r){const n=r.docs.get(e._key),i=new YC(t);return new WC(t,i,e._key,n,new pl(r.hasPendingWrites,r.fromCache),e.converter)}function Yz(){return new zC("serverTimestamp")}(function(e,r=!0){(function(i){mu=i})(pu),Hl(new aA("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new $a(new k8(n.getProvider("auth-internal")),new R8(n.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new he(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ha(l.options.projectId,u)}(a,i),a);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Ta(LS,"4.7.3",e),Ta(LS,"4.7.3","esm2017")})();const Rx=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:K4,Bytes:fA,CACHE_SIZE_UNLIMITED:T4,CollectionReference:gs,DocumentReference:Gr,DocumentSnapshot:WC,FieldPath:u0,FieldValue:c0,Firestore:$a,FirestoreError:he,GeoPoint:d0,Query:CA,QueryConstraint:H4,QueryDocumentSnapshot:qc,QueryLimitConstraint:h0,QuerySnapshot:XC,SnapshotMetadata:pl,Timestamp:xt,VectorValue:f0,_AutoId:fC,_ByteString:Rt,_DatabaseId:Ha,_DocumentKey:Ae,_EmptyAuthCredentialsProvider:Wk,_FieldPath:vt,_cast:qn,_logWarn:La,_validateIsNotUsedTogether:I4,collection:Yc,connectFirestoreEmulator:S4,doc:Ii,enableIndexedDbPersistence:P4,ensureFirestoreConfigured:hf,executeWrite:$4,getDoc:Xz,getDocs:Jc,getFirestore:F4,limit:V4,onSnapshot:Od,serverTimestamp:Yz,setDoc:Oo},Symbol.toStringTag,{value:"Module"}));var qz="firebase",Jz="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ta(qz,Jz,"app");function qC(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function z4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W4=z4,X4=new sf("auth","Firebase",z4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=new lC("@firebase/auth");function Zz(t,...e){Fp.logLevel<=je.WARN&&Fp.warn(`Auth (${pu}): ${t}`,...e)}function Pg(t,...e){Fp.logLevel<=je.ERROR&&Fp.error(`Auth (${pu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,...e){throw JC(t,...e)}function ki(t,...e){return JC(t,...e)}function Y4(t,e,r){const n=Object.assign(Object.assign({},W4()),{[e]:r});return new sf("auth","Firebase",n).create(e,{appName:t.name})}function Ua(t){return Y4(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JC(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return X4.create(t,...e)}function Se(t,e,...r){if(!t)throw JC(e,...r)}function ls(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pg(e),new Error(e)}function Es(t,e){t||ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function eW(){return zT()==="http:"||zT()==="https:"}function zT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eW()||p$()||"connection"in navigator)?navigator.onLine:!0}function rW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,r){this.shortDelay=e,this.longDelay=r,Es(r>e,"Short delay should be less than long delay!"),this.isMobile=f$()||m$()}get(){return tW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(t,e){Es(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW=new gf(3e4,6e4);function EA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function so(t,e,r,n,i={}){return J4(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=af(Object.assign({key:t.config.apiKey},a)).slice(1),A=await t._getAdditionalHeaders();A["Content-Type"]="application/json",t.languageCode&&(A["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:A},s);return g$()||(l.referrerPolicy="no-referrer"),q4.fetch()(Z4(t,t.config.apiHost,r,o),l)})}async function J4(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},nW),e);try{const i=new aW(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Eh(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[A,l]=o.split(" : ");if(A==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eh(t,"credential-already-in-use",a);if(A==="EMAIL_EXISTS")throw Eh(t,"email-already-in-use",a);if(A==="USER_DISABLED")throw Eh(t,"user-disabled",a);const u=n[A]||A.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Y4(t,u,l);yi(t,u)}}catch(i){if(i instanceof Ns)throw i;yi(t,"network-request-failed",{message:String(i)})}}async function g0(t,e,r,n,i={}){const s=await so(t,e,r,n,i);return"mfaPendingCredential"in s&&yi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Z4(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?ZC(t.config,i):`${t.config.apiScheme}://${i}`}function sW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aW{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ki(this.auth,"network-request-failed")),iW.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Eh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=ki(t,e,n);return i.customData._tokenResponse=r,i}function WT(t){return t!==void 0&&t.enterprise!==void 0}class oW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return sW(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function AW(t,e){return so(t,"GET","/v2/recaptchaConfig",EA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lW(t,e){return so(t,"POST","/v1/accounts:delete",e)}async function eD(t,e){return so(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tD(t,e=!1){const r=on(t),n=await r.getIdToken(e),i=eE(n);Se(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Zc(by(i.auth_time)),issuedAtTime:Zc(by(i.iat)),expirationTime:Zc(by(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function by(t){return Number(t)*1e3}function eE(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Pg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Tk(r);return i?JSON.parse(i):(Pg("Failed to decode base64 JWT payload"),null)}catch(i){return Pg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function XT(t){const e=eE(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ns&&uW(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function uW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Dd(t,eD(r,{idToken:n}));Se(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?nD(s.providerUserInfo):[],o=dW(t.providerData,a),A=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=A?l:!1,c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Mx(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function rD(t){const e=on(t);await Up(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dW(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function nD(t){return t.map(e=>{var{providerId:r}=e,n=qC(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fW(t,e){const r=await J4(t,{},async()=>{const n=af({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=Z4(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",q4.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function hW(t,e){return so(t,"POST","/v2/accounts:revokeToken",EA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const r=XT(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await fW(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new Sl;return n&&(Se(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Se(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Se(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sl,this.toJSON())}_performRefresh(){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class us{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=qC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Mx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await Dd(this,this.stsTokenManager.getToken(this.auth,e));return Se(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return tD(this,e)}reload(){return rD(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new us(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Up(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(os(this.auth.app))return Promise.reject(Ua(this.auth));const e=await this.getIdToken();return await Dd(this,lW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,a,o,A,l,u;const c=(n=r.displayName)!==null&&n!==void 0?n:void 0,f=(i=r.email)!==null&&i!==void 0?i:void 0,g=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,m=(a=r.photoURL)!==null&&a!==void 0?a:void 0,p=(o=r.tenantId)!==null&&o!==void 0?o:void 0,v=(A=r._redirectEventId)!==null&&A!==void 0?A:void 0,y=(l=r.createdAt)!==null&&l!==void 0?l:void 0,w=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:B,emailVerified:I,isAnonymous:T,providerData:F,stsTokenManager:C}=r;Se(B&&C,e,"internal-error");const _=Sl.fromJSON(this.name,C);Se(typeof B=="string",e,"internal-error"),Xs(c,e.name),Xs(f,e.name),Se(typeof I=="boolean",e,"internal-error"),Se(typeof T=="boolean",e,"internal-error"),Xs(g,e.name),Xs(m,e.name),Xs(p,e.name),Xs(v,e.name),Xs(y,e.name),Xs(w,e.name);const S=new us({uid:B,auth:e,email:f,emailVerified:I,displayName:c,isAnonymous:T,photoURL:m,phoneNumber:g,tenantId:p,stsTokenManager:_,createdAt:y,lastLoginAt:w});return F&&Array.isArray(F)&&(S.providerData=F.map(P=>Object.assign({},P))),v&&(S._redirectEventId=v),S}static async _fromIdTokenResponse(e,r,n=!1){const i=new Sl;i.updateFromServerResponse(r);const s=new us({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Up(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Se(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?nD(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Sl;o.updateFromIdToken(n);const A=new us({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Mx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(A,l),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=new Map;function cs(t){Es(t instanceof Function,"Expected a class definition");let e=YT.get(t);return e?(Es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}iD.type="NONE";const Hx=iD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t,e,r){return`firebase:${t}:${e}:${r}`}class Tl{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Qg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qg("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?us._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Tl(cs(Hx),e,n);const i=(await Promise.all(r.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||cs(Hx);const a=Qg(n,e.config.apiKey,e.name);let o=null;for(const l of r)try{const u=await l._get(a);if(u){const c=us._fromJSON(e,u);l!==s&&(o=c),s=l;break}}catch{}const A=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!A.length?new Tl(s,e,n):(s=A[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async l=>{if(l!==s)try{await l._remove(a)}catch{}})),new Tl(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uD(e))return"Blackberry";if(cD(e))return"Webos";if(aD(e))return"Safari";if((e.includes("chrome/")||oD(e))&&!e.includes("edge/"))return"Chrome";if(lD(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function sD(t=Yt()){return/firefox\//i.test(t)}function aD(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oD(t=Yt()){return/crios\//i.test(t)}function AD(t=Yt()){return/iemobile/i.test(t)}function lD(t=Yt()){return/android/i.test(t)}function uD(t=Yt()){return/blackberry/i.test(t)}function cD(t=Yt()){return/webos/i.test(t)}function tE(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gW(t=Yt()){var e;return tE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pW(){return v$()&&document.documentMode===10}function dD(t=Yt()){return tE(t)||lD(t)||cD(t)||uD(t)||/windows phone/i.test(t)||AD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t,e=[]){let r;switch(t){case"Browser":r=qT(Yt());break;case"Worker":r=`${qT(Yt())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${pu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const A=e(s);a(A)}catch(A){o(A)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vW(t,e={}){return so(t,"GET","/v2/passwordPolicy",EA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW=6;class wW{constructor(e){var r,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:yW,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,a,o;const A={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,A),this.validatePasswordCharacterOptions(e,A),A.isValid&&(A.isValid=(r=A.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),A.isValid&&(A.isValid=(n=A.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),A.isValid&&(A.isValid=(i=A.containsLowercaseLetter)!==null&&i!==void 0?i:!0),A.isValid&&(A.isValid=(s=A.containsUppercaseLetter)!==null&&s!==void 0?s:!0),A.isValid&&(A.isValid=(a=A.containsNumericCharacter)!==null&&a!==void 0?a:!0),A.isValid&&(A.isValid=(o=A.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),A}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JT(this),this.idTokenSubscription=new JT(this),this.beforeStateQueue=new mW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=cs(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Tl.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await eD(this,{idToken:e}),n=await us._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(os(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,A=await this.tryRedirectSignIn(e);(!a||a===o)&&(A!=null&&A.user)&&(i=A.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Up(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(os(this.app))return Promise.reject(Ua(this));const r=e?on(e):null;return r&&Se(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return os(this.app)?Promise.reject(Ua(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return os(this.app)?Promise.reject(Ua(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vW(this),r=new wW(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await hW(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&cs(e)||this._popupRedirectResolver;Se(r,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[cs(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const A=e.addObserver(r,n,i);return()=>{a=!0,A()}}else{const A=e.addObserver(r);return()=>{a=!0,A()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&Zz(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function xu(t){return on(t)}class JT{constructor(e){this.auth=e,this.observer=null,this.addObserver=C$(r=>this.observer=r)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bW(t){p0=t}function hD(t){return p0.loadJS(t)}function BW(){return p0.recaptchaEnterpriseScript}function CW(){return p0.gapiScript}function EW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const _W="recaptcha-enterprise",IW="NO_RECAPTCHA";class SW{constructor(e){this.type=_W,this.auth=xu(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{AW(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(A=>{if(A.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const l=new oW(A);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,a(l.siteKey)}}).catch(A=>{o(A)})})}function i(s,a,o){const A=window.grecaptcha;WT(A)?A.enterprise.ready(()=>{A.enterprise.execute(s,{action:e}).then(l=>{a(l)}).catch(()=>{a(IW)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&WT(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let A=BW();A.length!==0&&(A+=o),hD(A).then(()=>{i(o,s,a)}).catch(l=>{a(l)})}}).catch(o=>{a(o)})})}}async function ZT(t,e,r,n=!1){const i=new SW(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function e2(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await ZT(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await ZT(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t,e){const r=cC(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(gp(s,e??{}))return i;yi(i,"already-initialized")}return r.initialize({options:e})}function TW(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(cs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function pD(t,e,r){const n=xu(t);Se(n._canInitEmulator,n,"emulator-config-failed"),Se(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=mD(e),{host:a,port:o}=FW(e),A=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${A}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),UW()}function mD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FW(t){const e=mD(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:t2(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:t2(a)}}}function t2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UW(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,r){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}async function PW(t,e){return so(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QW(t,e){return g0(t,"POST","/v1/accounts:signInWithPassword",EA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NW(t,e){return g0(t,"POST","/v1/accounts:signInWithEmailLink",EA(t,e))}async function kW(t,e){return g0(t,"POST","/v1/accounts:signInWithEmailLink",EA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends m0{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Jl(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Jl(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e2(e,r,"signInWithPassword",QW);case"emailLink":return NW(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e2(e,n,"signUpPassword",PW);case"emailLink":return kW(e,{idToken:r,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(t,e){return g0(t,"POST","/v1/accounts:signInWithIdp",EA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW="http://localhost";class Ga extends m0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):yi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=qC(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new Ga(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return Fl(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Fl(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Fl(e,r)}buildRequest(){const e={requestUri:OW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=af(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jW(t){const e=xc(bc(t)).link,r=e?xc(bc(e)).deep_link_id:null,n=xc(bc(t)).deep_link_id;return(n?xc(bc(n)).link:null)||n||r||e||t}class v0{constructor(e){var r,n,i,s,a,o;const A=xc(bc(e)),l=(r=A.apiKey)!==null&&r!==void 0?r:null,u=(n=A.oobCode)!==null&&n!==void 0?n:null,c=DW((i=A.mode)!==null&&i!==void 0?i:null);Se(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=(s=A.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=A.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=A.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=jW(e);try{return new v0(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.providerId=_A.PROVIDER_ID}static credential(e,r){return Jl._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=v0.parseLink(r);return Se(n,"argument-error"),Jl._fromEmailAndCode(e,n.code,n.tenantId)}}_A.PROVIDER_ID="password";_A.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_A.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends vD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends pf{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends pf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ga._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return es.credential(r,n)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends pf{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends pf{constructor(){super("twitter.com")}static credential(e,r){return Ga._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return rs.credential(r,n)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await us._fromIdTokenResponse(e,n,i),a=r2(n);return new Zl({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=r2(n);return new Zl({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function r2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends Ns{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Pp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Pp(e,r,n,i)}}function yD(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Pp._fromErrorAndOperation(t,s,e,n):s})}async function RW(t,e,r=!1){const n=await Dd(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Zl._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LW(t,e,r=!1){const{auth:n}=t;if(os(n.app))return Promise.reject(Ua(n));const i="reauthenticate";try{const s=await Dd(t,yD(n,i,e,t),r);Se(s.idToken,n,"internal-error");const a=eE(s.idToken);Se(a,n,"internal-error");const{sub:o}=a;return Se(t.uid===o,n,"user-mismatch"),Zl._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&yi(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t,e,r=!1){if(os(t.app))return Promise.reject(Ua(t));const n="signIn",i=await yD(t,n,e),s=await Zl._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function xD(t,e){return wD(xu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MW(t){const e=xu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function HW(t,e,r){return os(t.app)?Promise.reject(Ua(t)):xD(on(t),_A.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&MW(t),n})}function bD(t,e,r,n){return on(t).onIdTokenChanged(e,r,n)}function BD(t,e,r){return on(t).beforeAuthStateChanged(e,r)}function VW(t){return on(t).signOut()}const Qp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Qp,"1"),this.storage.removeItem(Qp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KW=1e3,$W=10;class ED extends CD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,A)=>{this.notifyListeners(a,A)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);pW()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$W):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},KW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}ED.type="LOCAL";const _D=ED;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID extends CD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}ID.type="SESSION";const rE=ID;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new y0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async l=>l(r.origin,s)),A=await GW(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:A})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}y0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,A)=>{const l=nE("",20);i.port1.start();const u=setTimeout(()=>{A(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(c){const f=c;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{A(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(f.data.response);break;default:clearTimeout(u),clearTimeout(s),A(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function WW(t){Oi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function XW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qW(){return SD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="firebaseLocalStorageDb",JW=1,Np="firebaseLocalStorage",FD="fbase_key";class mf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function w0(t,e){return t.transaction([Np],e?"readwrite":"readonly").objectStore(Np)}function ZW(){const t=indexedDB.deleteDatabase(TD);return new mf(t).toPromise()}function Vx(){const t=indexedDB.open(TD,JW);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Np,{keyPath:FD})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Np)?e(n):(n.close(),await ZW(),e(await Vx()))})})}async function n2(t,e,r){const n=w0(t,!0).put({[FD]:e,value:r});return new mf(n).toPromise()}async function e7(t,e){const r=w0(t,!1).get(e),n=await new mf(r).toPromise();return n===void 0?null:n.value}function i2(t,e){const r=w0(t,!0).delete(e);return new mf(r).toPromise()}const t7=800,r7=3;class UD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vx(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>r7)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=y0._getInstance(qW()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await XW(),!this.activeServiceWorker)return;this.sender=new zW(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vx();return await n2(e,Qp,"1"),await i2(e,Qp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>n2(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>e7(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>i2(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=w0(i,!1).getAll();return new mf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UD.type="LOCAL";const PD=UD;new gf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(t,e){return e?cs(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE extends m0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Fl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function i7(t){return wD(t.auth,new iE(t),t.bypassAuthState)}function s7(t){const{auth:e,user:r}=t;return Se(r,e,"internal-error"),LW(r,new iE(t),t.bypassAuthState)}async function a7(t){const{auth:e,user:r}=t;return Se(r,e,"internal-error"),RW(r,new iE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const A={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(A))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i7;case"linkViaPopup":case"linkViaRedirect":return a7;case"reauthViaPopup":case"reauthViaRedirect":return s7;default:yi(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7=new gf(2e3,1e4);class ml extends QD{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,ml.currentPopupAction&&ml.currentPopupAction.cancel(),ml.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const e=nE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ml.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,o7.get())};e()}}ml.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7="pendingRedirect",Ng=new Map;class l7 extends QD{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Ng.get(this.auth._key());if(!e){try{const n=await u7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Ng.set(this.auth._key(),e)}return this.bypassAuthState||Ng.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u7(t,e){const r=f7(e),n=d7(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function c7(t,e){Ng.set(t._key(),e)}function d7(t){return cs(t._redirectPersistence)}function f7(t){return Qg(A7,t.config.apiKey,t.name)}async function h7(t,e,r=!1){if(os(t.app))return Promise.reject(Ua(t));const n=xu(t),i=n7(n,e),a=await new l7(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=10*60*1e3;class p7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m7(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!ND(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(ki(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g7&&this.cachedEventUids.clear(),this.cachedEventUids.has(s2(e))}saveEventToCache(e){this.cachedEventUids.add(s2(e)),this.lastProcessedEventTime=Date.now()}}function s2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ND({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function m7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ND(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v7(t,e={}){return so(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w7=/^https?/;async function x7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await v7(t);for(const r of e)try{if(b7(r))return}catch{}yi(t,"unauthorized-domain")}function b7(t){const e=Lx(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!w7.test(r))return!1;if(y7.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7=new gf(3e4,6e4);function a2(){const t=Oi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function C7(t){return new Promise((e,r)=>{var n,i,s;function a(){a2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{a2(),r(ki(t,"network-request-failed"))},timeout:B7.get()})}if(!((i=(n=Oi().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Oi().gapi)===null||s===void 0)&&s.load)a();else{const o=EW("iframefcb");return Oi()[o]=()=>{gapi.load?a():r(ki(t,"network-request-failed"))},hD(`${CW()}?onload=${o}`).catch(A=>r(A))}}).catch(e=>{throw kg=null,e})}let kg=null;function E7(t){return kg=kg||C7(t),kg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=new gf(5e3,15e3),I7="__/auth/iframe",S7="emulator/auth/iframe",T7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U7(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?ZC(e,S7):`https://${t.config.authDomain}/${I7}`,n={apiKey:e.apiKey,appName:t.name,v:pu},i=F7.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${af(n).slice(1)}`}async function P7(t){const e=await E7(t),r=Oi().gapi;return Se(r,t,"internal-error"),e.open({where:document.body,url:U7(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T7,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=ki(t,"network-request-failed"),o=Oi().setTimeout(()=>{s(a)},_7.get());function A(){Oi().clearTimeout(o),i(n)}n.ping(A).then(A,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N7=500,k7=600,O7="_blank",D7="http://localhost";class o2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j7(t,e,r,n=N7,i=k7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const A=Object.assign(Object.assign({},Q7),{width:n.toString(),height:i.toString(),top:s,left:a}),l=Yt().toLowerCase();r&&(o=oD(l)?O7:r),sD(l)&&(e=e||D7,A.scrollbars="yes");const u=Object.entries(A).reduce((f,[g,m])=>`${f}${g}=${m},`,"");if(gW(l)&&o!=="_self")return R7(e||"",o),new o2(null);const c=window.open(e||"",o,u);Se(c,t,"popup-blocked");try{c.focus()}catch{}return new o2(c)}function R7(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7="__/auth/handler",M7="emulator/auth/handler",H7=encodeURIComponent("fac");async function A2(t,e,r,n,i,s){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:pu,eventId:i};if(e instanceof vD){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",B$(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries({}))a[u]=c}if(e instanceof pf){const u=e.getScopes().filter(c=>c!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const A=await t._getAppCheckToken(),l=A?`#${H7}=${encodeURIComponent(A)}`:"";return`${V7(t)}?${af(o).slice(1)}${l}`}function V7({config:t}){return t.emulator?ZC(t,M7):`https://${t.authDomain}/${L7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="webStorageSupport";class K7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rE,this._completeRedirectFn=h7,this._overrideRedirectResult=c7}async _openPopup(e,r,n,i){var s;Es((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await A2(e,r,n,Lx(),i);return j7(e,a,nE())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await A2(e,r,n,Lx(),i);return WW(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Es(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await P7(e),n=new p7(e);return r.register("authEvent",i=>(Se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(By,{type:By},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[By];a!==void 0&&r(!!a),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=x7(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return dD()||aD()||tE()}}const kD=K7;var l2="@firebase/auth",u2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z7(t){Hl(new aA("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;Se(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const A={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fD(t)},l=new xW(n,i,s,A);return TW(l,r),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Hl(new aA("auth-internal",e=>{const r=xu(e.getProvider("auth").getImmediate());return(n=>new $7(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ta(l2,u2,G7(t)),Ta(l2,u2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7=5*60,X7=Pk("authIdTokenMaxAge")||W7;let c2=null;const Y7=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>X7)return;const i=r==null?void 0:r.token;c2!==i&&(c2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function OD(t=jk()){const e=cC(t,"auth");if(e.isInitialized())return e.getImmediate();const r=gD(t,{popupRedirectResolver:kD,persistence:[PD,_D,rE]}),n=Pk("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=Y7(s.toString());BD(r,a,()=>a(r.currentUser)),bD(r,o=>a(o))}}const i=Fk("auth");return i&&pD(r,`http://${i}`),r}function q7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}bW({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=ki("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",q7().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z7("Browser");const J7=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:v0,AuthCredential:m0,EmailAuthCredential:Jl,EmailAuthProvider:_A,FacebookAuthProvider:Zi,GithubAuthProvider:ts,GoogleAuthProvider:es,OAuthCredential:Ga,TwitterAuthProvider:rs,beforeAuthStateChanged:BD,browserLocalPersistence:_D,browserPopupRedirectResolver:kD,browserSessionPersistence:rE,connectAuthEmulator:pD,getAuth:OD,getIdTokenResult:tD,inMemoryPersistence:Hx,indexedDBLocalPersistence:PD,initializeAuth:gD,onIdTokenChanged:bD,prodErrorMap:W4,reload:rD,signInWithCredential:xD,signInWithEmailAndPassword:HW,signOut:VW},Symbol.toStringTag,{value:"Module"})),Z7={apiKey:"AIzaSyBHzCLGD1E8mrp-iVaJ1P1t9cHe5QT8LN8",authDomain:"brainless-schedule.firebaseapp.com",projectId:"brainless-schedule",storageBucket:"brainless-schedule.appspot.com",messagingSenderId:"902167883215",appId:"1:902167883215:web:8dfc400a1035929c5bf6ba"};let kp;kS().length?kp=kS()[0]:kp=Dk(Z7);const sr=F4(kp),DD=OD(kp);try{P4(sr,{cacheSizeBytes:T4}).catch(t=>{t.code==="failed-precondition"?console.warn("離線持久性在多個標籤中失敗"):t.code==="unimplemented"&&console.warn("當前瀏覽器不支持離線持久性")})}catch(t){console.error("啟用離線功能時出錯:",t)}async function eX(){try{const t=await Jc(Yc(sr,"forecasts"),V4(1));return console.log("Firebase 連接成功"),!0}catch(t){return console.error("Firebase 連接失敗:",t),!1}}const tX=async t=>{try{const{doc:e,getDoc:r}=await $o(async()=>{const{doc:i,getDoc:s}=await Promise.resolve().then(()=>Rx);return{doc:i,getDoc:s}},void 0);return(await r(e(sr,"admins",t))).exists()}catch(e){return console.error("檢查管理員狀態失敗:",e),!1}},Kx=(t,e)=>{const r=new Date,n=r.getHours(),i=r.getMinutes(),s=n*60+i,[a,o]=t.split(":").map(Number),[A,l]=e.split(":").map(Number),u=a*60+o,c=A*60+l;return c<u?s>=u||s<=c:s>=u&&s<=c},rX=()=>["日","一","二","三","四","五","六"][new Date().getDay()],nX=(t,e)=>{const r=new Date;return r.getMonth()+1===t&&r.getDate()===e},iX=t=>{if(!t||typeof t!="object")return[];const e=[],r=new Date,n=r.getFullYear(),i=r.getMonth()+1,s=r.getDate();for(const[a,o]of Object.entries(t))if(a!=="_lastUpdated"&&o&&typeof o=="object"){for(const[A,l]of Object.entries(o))if(l&&l.trim()&&l!=="休假"&&l!=="特休"&&l!=="月休"&&l!=="休"){const u=parseInt(A);if(u===s){const c={id:`${a}_${u}`,date:`${n}-${String(i).padStart(2,"0")}-${String(u).padStart(2,"0")}`,shift:l,employee:a};e.push(c)}}}return e},sX=t=>{if(!t)return[];if(Array.isArray(t)){const r=new Date().toISOString().split("T")[0];return t.filter(i=>{const o=new Date(i.date).toISOString().split("T")[0]===r,A=i.shift!=="休假"&&i.shift!=="特休"&&i.shift!=="月休"&&i.shift!=="休";return o&&A})}else return iX(t)},aX=(t,e={})=>{const r={morning:[],afternoon:[],evening:[],all:[]};return t.forEach(n=>{const i=n.shift||"",s=n.employee||"未知",a=e[s]||s;r.all.push(a),i.includes("早班")||i.includes("早")||i.includes("Morning")||i.includes("K")||i.includes("KK")?r.morning.push(a):i.includes("中班")||i.includes("中")||i.includes("Mid")||i.includes("L")?r.afternoon.push(a):i.includes("晚班")||i.includes("晚")||i.includes("Evening")||i.includes("Y")?r.evening.push(a):r.all.push(a)}),r},oX=(t,e,r={})=>{if(!t||!e||t.timeRestriction&&!Kx(t.startTime,t.endTime))return null;const n=sX(e);if(n.length===0)return null;const i=aX(n,r);let s=t.message;return s=s.replace(/\{早班同事\}/g,i.morning.length>0?i.morning.join("、"):""),s=s.replace(/\{中班同事\}/g,i.afternoon.length>0?i.afternoon.join("、"):""),s=s.replace(/\{晚班同事\}/g,i.evening.length>0?i.evening.join("、"):""),s=s.replace(/\{所有同事\}/g,i.all.length>0?i.all.join("、"):""),s=s.replace(/\{早班人數\}/g,i.morning.length.toString()),s=s.replace(/\{中班人數\}/g,i.afternoon.length.toString()),s=s.replace(/\{晚班人數\}/g,i.evening.length.toString()),s=s.replace(/\{總人數\}/g,i.all.length.toString()),s=s.replace(/\s*[，、]\s*$/g,""),s=s.replace(/^\s*[，、]\s*/g,""),s=s.replace(/\s+/g," "),s},AX=t=>{if(!Array.isArray(t)||t.length===0)return"";const e=t.filter(r=>r&&typeof r=="string"&&r.trim()!=="");return e.length===0?"":e[Math.floor(Math.random()*e.length)]},lX=(t=null,e=[],r=[],n={})=>{const i=rX(),s=[];if(e&&Array.isArray(e)){const a=[];for(const o of e){if(!o.enabled)continue;let A=!1;o.type==="timeRange"?A=Kx(o.startTime,o.endTime):o.type==="dayOfWeek"?A=o.day===i&&Kx(o.startTime,o.endTime):o.type==="specificDate"&&(A=nX(o.month,o.date)),A&&o.messages&&Array.isArray(o.messages)&&o.messages.length>0&&o.messages.some(l=>l&&typeof l=="string"&&l.trim()!=="")&&a.push(o)}if(a.length>0){const o=a[Math.floor(Math.random()*a.length)],A=AX(o.messages);A&&A.trim()!==""&&s.push({type:"custom",priority:1,message:A,source:`自定義規則: ${o.name}`})}}if(t&&r&&Array.isArray(r)){const a=r.filter(o=>o.enabled);if(a.length>0)for(const o of a){const A=oX(o,t,n);if(A&&typeof A=="string"&&A.trim()!==""){const l={type:"schedule",priority:2,message:A,source:`班表模板: ${o.name}`};s.push(l)}}}return s},_h=t=>/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(t),Q0e=t=>{if(!t.type||!t.messages||!Array.isArray(t.messages)||t.messages.length===0)return!1;switch(t.type){case"timeRange":return _h(t.startTime)&&_h(t.endTime);case"dayOfWeek":return["日","一","二","三","四","五","六"].includes(t.day)&&_h(t.startTime)&&_h(t.endTime);case"specificDate":return t.month>=1&&t.month<=12&&t.date>=1&&t.date<=31;default:return!1}},N0e=t=>t.message&&t.message.trim()!=="",k0e=()=>[{id:"1",name:"早上問候",type:"timeRange",startTime:"08:00",endTime:"10:00",messages:["早安！新的一天開始了～","早上好！今天也要加油喔！","喵～早安！準備好迎接新的一天了嗎？"],enabled:!1},{id:"2",name:"午休提醒",type:"timeRange",startTime:"12:00",endTime:"13:00",messages:["午休時間到了，記得休息一下喔～","喵～該吃午餐了！","午休愉快！"],enabled:!1},{id:"3",name:"週三進貨提醒",type:"dayOfWeek",day:"三",startTime:"14:00",endTime:"16:00",messages:["週三下午進貨時間到了，加油！","喵～進貨時間！","週三進貨，辛苦了！"],enabled:!1},{id:"4",name:"週末問候",type:"dayOfWeek",day:"六",startTime:"09:00",endTime:"11:00",messages:["週末愉快！好好休息喔～","喵～週末快樂！","週末愉快！享受美好時光～"],enabled:!1}],O0e=()=>[{id:"1",name:"早班問候",message:"{早班同事}，早安！今天也要加油喔！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"2",name:"晚班問候",message:"{晚班同事}，晚安！今天辛苦了！",enabled:!1,timeRestriction:!1,startTime:"18:00",endTime:"20:00"},{id:"3",name:"全體問候",message:"{所有同事}，工作辛苦了！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"4",name:"人數統計",message:"今天有{總人數}位同事上班，加油！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"}],uX=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState([]),[i,s]=x.useState(0),[a,o]=x.useState(!1),[A,l]=x.useState(4),[u,c]=x.useState(""),[f,g]=x.useState(!0),[m,p]=x.useState(!1),[v,y]=x.useState(""),[w,B]=x.useState(""),[I,T]=x.useState(""),[F,C]=x.useState(!1),[_,S]=x.useState(!1),[P,N]=x.useState(null),[k,Q]=x.useState([]),[se,Ce]=x.useState([]),[ge,xe]=x.useState([]),[Y,ne]=x.useState({});x.useEffect(()=>Od(Ii(sr,"catSpeech","global"),z=>{if(z.exists()){const ve=z.data();e(ve.enabled||!1),n(ve.texts||[]),l(ve.intervalSeconds||4),S(ve.smartMode||!1),Q(ve.customRules||[]),Ce(ve.scheduleTemplates||[]),c("")}else e(!1),n([]),l(4),S(!1),Q([]),Ce([]);g(!1)},z=>{console.error("監聽設定失敗:",z),c("載入對話設定失敗"),g(!1)}),[]),x.useEffect(()=>{if(!_)return;(async()=>{try{const{collection:z,getDocs:ve}=await $o(async()=>{const{collection:j,getDocs:J}=await Promise.resolve().then(()=>Rx);return{collection:j,getDocs:J}},void 0),O=await ve(z(sr,"names")),R={};O.forEach(j=>{const J=j.data();R[j.id]=J.name}),ne(R)}catch(z){console.error("載入姓名資料失敗:",z)}})()},[_]),x.useEffect(()=>{if(!_)return;(async()=>{try{console.log("開始載入班表資料...");const{doc:z,getDoc:ve}=await $o(async()=>{const{doc:J,getDoc:re}=await Promise.resolve().then(()=>Rx);return{doc:J,getDoc:re}},void 0),O=await ve(z(sr,"schedule","currentMonth")),R=await ve(z(sr,"schedule","nextMonth"));console.log("currentMonthDoc.exists():",O.exists()),console.log("nextMonthDoc.exists():",R.exists());let j=null;O.exists()?j=O.data():R.exists()&&(j=R.data()),N(j)}catch{}})()},[_]),x.useEffect(()=>{if(!_||!t)return;const ae=()=>{const ve=lX(P,k,se,Y);if(ve.length>0){const O=ve.filter(G=>G.type==="custom").map(G=>G.message),R=ve.filter(G=>G.type==="schedule").map(G=>G.message),j=R.length>0?R[Math.floor(Math.random()*R.length)]:"",J=[...O,...j?[j]:[]].filter(G=>G&&G.trim()!==""),re=r.filter(G=>G&&typeof G=="string"&&G.trim()!==""&&!J.includes(G)),V=[...J,...re];if(V.length>0)xe(ve),n(V);else{const G=r.filter(ee=>ee&&typeof ee=="string"&&ee.trim()!=="");n(G)}}else{const O=r.filter(R=>R&&typeof R=="string"&&R.trim()!=="");n(O)}};ae();const z=setInterval(ae,60*1e3);return()=>clearInterval(z)},[_,t,P,k,se,Y]),x.useEffect(()=>{if(r.length>0){if(i>=r.length)s(0);else if(!r[i]||typeof r[i]!="string"||r[i].trim()===""){const ae=r.findIndex(z=>z&&typeof z=="string"&&z.trim()!=="");s(ae!==-1?ae:0)}}},[r,i]),x.useEffect(()=>{if(!t||r.length===0)return;const ae=setInterval(()=>{o(!0),setTimeout(()=>{s(z=>z>=r.length||z===r.length-1?0:z+1),o(!1)},300)},A*1e3);return()=>clearInterval(ae)},[t,r.length,A]),x.useEffect(()=>{const ae=z=>{z.ctrlKey&&z.altKey&&z.key==="A"&&p(!0)};return document.addEventListener("keydown",ae),()=>document.removeEventListener("keydown",ae)},[]);const ce=async()=>{if(!v.trim()||!w.trim()){T("請輸入信箱和密碼");return}try{C(!0),T("");const{signInWithEmailAndPassword:ae}=await $o(async()=>{const{signInWithEmailAndPassword:z}=await Promise.resolve().then(()=>J7);return{signInWithEmailAndPassword:z}},void 0);await ae(DD,v,w),p(!1),y(""),B("")}catch(ae){console.error("登入失敗:",ae);let z="登入失敗";switch(ae.code){case"auth/user-not-found":z="找不到此帳號";break;case"auth/wrong-password":z="密碼錯誤";break;case"auth/invalid-email":z="信箱格式錯誤";break;case"auth/too-many-requests":z="登入次數過多，請稍後再試";break;default:z="登入失敗："+ae.message}T(z)}finally{C(!1)}};return f?d.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:d.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}):u?d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:d.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),d.jsx("div",{className:"mt-2 mb-0 animate-fadeIn",children:d.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-2",children:d.jsx("div",{className:"text-red-400 text-center text-sm",children:u})})})]}):!t||r.length===0?d.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:d.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}):d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:d.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),d.jsx("div",{className:"mt-2 mb-0 animate-fadeIn",children:d.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-2xl p-2 border border-primary/20 backdrop-blur-sm shadow-lg",children:d.jsx("div",{className:"relative",children:d.jsx("div",{className:`text-white text-center text-lg leading-relaxed min-h-[1.2rem] flex items-center justify-center transition-all duration-300 ${a?"opacity-0 transform translate-y-2":"opacity-100 transform translate-y-0"}`,children:(()=>{const ae=r[i];if(ae&&typeof ae=="string"&&ae.trim()!=="")return ae;if(r.length===0)return"喵～";{const z=r.findIndex((ve,O)=>O>i&&ve&&typeof ve=="string"&&ve.trim()!=="");if(z!==-1)return r[z];{const ve=r.findIndex(O=>O&&typeof O=="string"&&O.trim()!=="");return ve!==-1?r[ve]:"喵～"}}})()})})})}),m&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-surface rounded-xl p-6 w-96 border border-primary/20",children:[d.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"管理員登入"}),d.jsx("input",{type:"email",placeholder:"管理員信箱",value:v,onChange:ae=>y(ae.target.value),disabled:F,className:"w-full mb-3 p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:opacity-50",onKeyPress:ae=>ae.key==="Enter"&&!F&&ce()}),d.jsx("input",{type:"password",placeholder:"密碼",value:w,onChange:ae=>B(ae.target.value),disabled:F,className:"w-full mb-4 p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:opacity-50",onKeyPress:ae=>ae.key==="Enter"&&!F&&ce()}),I&&d.jsx("div",{className:"text-red-400 text-sm mb-3 bg-red-500/10 border border-red-500/20 rounded-lg p-2",children:I}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:ce,disabled:F,className:"flex-1 bg-primary text-white p-3 rounded-lg hover:bg-primary/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:F?"登入中...":"登入"}),d.jsx("button",{onClick:()=>p(!1),disabled:F,className:"flex-1 bg-white/10 text-white p-3 rounded-lg hover:bg-white/20 transition-colors disabled:opacity-50",children:"取消"})]})]})})]})},cX="/Brainless/assets/logo-cat-CbWHoD5g.png";function dX(){return d.jsx("header",{className:"bg-surface text-white",children:d.jsx("div",{className:"container-custom py-4 md:py-6",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("div",{className:"flex items-center gap-4 relative",children:[d.jsx("img",{src:cX,alt:"Cat Logo",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full border-2 border-primary p-1 logo logo-glow logo-float"}),d.jsxs("div",{className:"flex flex-col items-start gap-1",children:[d.jsx("h1",{className:"text-2xl sm:text-4xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Brainless"}),d.jsx(r$,{})]})]}),d.jsx(uX,{})]})})})}function fX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const hX=x.forwardRef(fX);function gX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const pX=x.forwardRef(gX);function mX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const vX=x.forwardRef(mX);function yX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const wX=x.forwardRef(yX);function xX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))}const jd=x.forwardRef(xX);function bX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const sE=x.forwardRef(bX);function BX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const jD=x.forwardRef(BX);function CX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const EX=x.forwardRef(CX);function _X({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const $x=x.forwardRef(_X);function IX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Gx=x.forwardRef(IX);function SX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Cy=x.forwardRef(SX);function TX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const RD=x.forwardRef(TX);function FX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const UX=x.forwardRef(FX);function PX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Yi=x.forwardRef(PX);function QX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const qi=x.forwardRef(QX);function NX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const kX=x.forwardRef(NX);function OX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const LD=x.forwardRef(OX);function DX(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 20v-7m0 0l6-6.5H6L12 13zm-4-9h8m-8 0l-2-2m10 2l2-2"})})}const d2=[{path:"/sandwich",label:"三明治計算器",icon:d.jsx(jd,{className:"w-5 h-5"})},{path:"/cashier",label:"收銀管理",icon:d.jsx(vX,{className:"w-5 h-5"})},{path:"/coffee-beans",label:"咖啡豆管理",icon:d.jsx($x,{className:"w-5 h-5"})},{path:"/schedule",label:"班表管理",icon:d.jsx(sE,{className:"w-5 h-5"})},{path:"/daily-reports",label:"報表生成器",icon:d.jsx(RD,{className:"w-5 h-5"})},{path:"/poursteady",label:"手沖機調整",icon:d.jsx(wX,{className:"w-5 h-5"})},{path:"/alcohol",label:"酒精計算",icon:d.jsx(DX,{className:"w-5 h-5"})}];function jX(){const[t,e]=x.useState(!1),[r,n]=x.useState(!0),[i,s]=x.useState("");if(x.useEffect(()=>{let o=!0;const A=DD.onAuthStateChanged(async l=>{if(o){if(l)try{const u=await tX(l.uid);o&&(e(u),s(""))}catch(u){console.error("檢查管理員狀態失敗:",u),o&&(e(!1),s("權限檢查失敗"))}else o&&(e(!1),s(""));o&&n(!1)}});return()=>{o=!1,A()}},[]),r)return d.jsx("nav",{className:"bg-surface sticky top-0 z-50 shadow-lg",children:d.jsx("div",{className:"container-custom py-2 sm:py-4",children:d.jsxs("div",{className:"flex justify-center gap-2 sm:gap-4",children:[d2.map(({path:o,label:A,icon:l})=>d.jsxs("div",{className:"flex flex-col items-center w-[5.5rem] sm:w-28 min-h-[4.5rem] sm:min-h-20 p-2 sm:p-3 rounded-lg animate-pulse",children:[d.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-white/10 rounded mb-1.5 sm:mb-2"}),d.jsx("div",{className:"w-12 h-3 bg-white/10 rounded text-xs sm:text-sm"})]},o)),d.jsxs("div",{className:"flex flex-col items-center w-[5.5rem] sm:w-28 min-h-[4.5rem] sm:min-h-20 p-2 sm:p-3 rounded-lg animate-pulse",children:[d.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-white/10 rounded mb-1.5 sm:mb-2"}),d.jsx("div",{className:"w-12 h-3 bg-white/10 rounded text-xs sm:text-sm"})]})]})})});const a=[...d2,...t?[{path:"/admin",label:"管理設定",icon:d.jsx(Gx,{className:"w-5 h-5"})}]:[]];return d.jsx("nav",{className:"bg-surface sticky top-0 z-50 shadow-lg",children:d.jsxs("div",{className:"container-custom py-2 sm:py-4",children:[i&&d.jsx("div",{className:"mb-4 bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"text-amber-500",children:"⚠️"}),d.jsx("p",{className:"text-amber-400 text-sm",children:i})]})}),d.jsx("div",{className:"flex justify-center gap-2 sm:gap-4",children:a.map(({path:o,label:A,icon:l})=>d.jsxs(J6,{to:o,className:({isActive:u})=>`
                flex flex-col items-center
                w-[5.5rem] sm:w-28
                min-h-[4.5rem] sm:min-h-20
                p-2 sm:p-3
                rounded-lg
                transition-all duration-200
                ${u?"text-primary bg-primary/10":"text-text-secondary hover:text-text-primary hover:bg-white/5"}
              `,children:[d.jsx("div",{className:"mb-1.5 sm:mb-2",children:Fm.cloneElement(l,{className:"w-6 h-6 sm:w-7 sm:h-7"})}),d.jsx("div",{className:"text-xs sm:text-sm text-center leading-tight",children:A})]},o))})]})})}function RX({children:t}){return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx(dX,{}),d.jsx(jX,{}),d.jsx("main",{className:"py-6",children:d.jsx("div",{className:"container-custom",children:t})})]})}function LX(){return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary border-t-transparent"}),d.jsx("p",{className:"text-text-secondary animate-pulse",children:"載入中..."})]})})}function MX(){return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("h1",{className:"text-4xl font-bold text-red-500",children:"出錯了！"}),d.jsx("p",{className:"text-text-secondary",children:"抱歉，頁面載入時發生錯誤。"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"重新載入"})]})})}class HX extends Fm.Component{constructor(r){super(r);$u(this,"handleReload",()=>{window.location.reload()});$u(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){console.error("錯誤邊界捕獲到錯誤:",r,n),this.setState({error:r,errorInfo:n})}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsxs("div",{className:"text-center max-w-md mx-auto",children:[d.jsx("div",{className:"text-red-400 text-6xl mb-6",children:"😵"}),d.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"哎呀！發生了一些問題"}),d.jsx("p",{className:"text-text-secondary mb-6",children:"應用程序遇到了一個意外錯誤。請嘗試重新載入頁面或返回首頁。"}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("button",{onClick:this.handleReload,className:"w-full bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/80 transition-colors",children:"重新載入頁面"}),d.jsx("button",{onClick:this.handleGoHome,className:"w-full bg-white/10 text-white px-6 py-3 rounded-lg hover:bg-white/20 transition-colors",children:"返回首頁"})]}),!1]})}):this.props.children}}function VX(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 21.5c4.5 0 7.5-3 7.5-7.5C19.5 8.5 12 2.5 12 2.5S4.5 8.5 4.5 14c0 4.5 3 7.5 7.5 7.5z"})})}const Bi={hot:[40,78,120,162,200,230],cold:{"150ml":[40,58,80,102,120,150],"140ml":[40,58,80,102,120,140],"130ml":[40,58,80,102,120,130]}},Ih={hot:[40,38,42,42,38,30],cold:{"150ml":[40,18,22,22,18,30],"140ml":[40,18,22,22,18,20],"130ml":[40,18,22,22,18,10]}};function KX(){const[t,e]=x.useState("hot"),[r,n]=x.useState("150ml"),[i,s]=x.useState({hot:Array(6).fill(""),cold:Array(6).fill("")}),a=(u,c)=>{const f=[...i[t]];f[u]=c,f.map((g,m)=>g===""?Bi[t][m]:Number(g)),s({...i,[t]:f})},o=()=>{s({...i,[t]:Array(6).fill("")})},A=u=>{n(u),s({...i,cold:Array(6).fill("")})},l=u=>{const c=i[t][u];return t==="hot"?c===""?Bi.hot[u]:Number(c):c===""?Bi.cold[r][u]:Number(c)};return d.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6 sm:space-y-8",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:d.jsx(VX,{className:"w-6 h-6 text-primary"})}),d.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Poursteady 注水量調整"})]}),d.jsx("button",{onClick:o,className:`
            w-full sm:w-auto px-4 py-2 rounded-lg font-medium
            transition-all duration-200
            border border-white/10
            hover:bg-white/5
          `,children:"重設"})]}),d.jsxs("div",{className:"flex gap-2 bg-surface/30 p-1.5 rounded-xl w-full sm:w-fit",children:[d.jsx("button",{onClick:()=>e("hot"),className:`
            flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
            transition-all duration-200
            ${t==="hot"?"bg-gradient-to-br from-rose-500 to-amber-500 text-white shadow-lg shadow-rose-500/20":"text-text-secondary hover:bg-white/5"}
          `,children:"熱手沖"}),d.jsx("button",{onClick:()=>e("cold"),className:`
            flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
            transition-all duration-200
            ${t==="cold"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
          `,children:"冰手沖"})]}),t==="cold"&&d.jsxs("div",{className:"flex gap-2 bg-surface/30 p-1.5 rounded-xl w-full sm:w-fit",children:[d.jsx("button",{onClick:()=>A("150ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="150ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"150ml"}),d.jsx("button",{onClick:()=>A("140ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="140ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"140ml"}),d.jsx("button",{onClick:()=>A("130ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="130ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"130ml"})]}),d.jsx("div",{className:"grid gap-4",children:(t==="hot"?Bi.hot:Bi.cold[r]).map((u,c)=>{const f=l(c),g=c>0?l(c-1):0,m=c===0?f:f-g,p=t==="hot"?Ih.hot[c]:Ih.cold[r][c],v=Math.round(m-p);return d.jsx("div",{className:`
                bg-gradient-to-br from-surface/30 to-surface/20
                rounded-xl p-5 space-y-4 border border-white/5
                transition-all duration-300 hover:shadow-lg
                ${t==="hot"?"hover:border-rose-500/20":"hover:border-blue-500/20"}
              `,children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`
                    w-8 h-8 rounded-full flex items-center justify-center font-bold
                    ${t==="hot"?"bg-gradient-to-br from-rose-400/20 to-amber-400/20 text-rose-400":"bg-gradient-to-br from-blue-400/20 to-cyan-400/20 text-blue-400"}
                  `,children:c+1}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium",children:["第 ",c+1," 段注水"]}),d.jsxs("div",{className:"text-sm text-text-secondary",children:["累計標準: ",u," ml",d.jsxs("span",{className:"block sm:inline sm:ml-2",children:["單段標準: ",p," ml"]})]})]})]}),d.jsx("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-end",children:d.jsxs("div",{className:"w-full sm:w-32 text-center",children:[d.jsx("input",{type:"number",value:i[t][c],onChange:y=>a(c,y.target.value),placeholder:Bi[t][c],step:"0.1",className:`
                        w-full sm:w-24 text-center rounded-lg px-2 py-1.5 text-lg font-bold
                        bg-white/5 border border-white/10 focus:outline-none
                        focus:ring-1 ${t==="hot"?"focus:ring-rose-500":"focus:ring-blue-500"}
                      `}),v!==0&&d.jsxs("div",{className:`text-xs mt-1 ${v>0?"text-green-400":"text-red-400"}`,children:[v>0?`+${v}`:v," ml"]})]})})]})},c)})}),d.jsx("div",{className:`
        bg-gradient-to-br from-surface/30 to-surface/20
        rounded-xl p-5 border border-white/5
        ${t==="hot"?"hover:border-rose-500/20":"hover:border-blue-500/20"}
      `,children:d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-text-secondary",children:"總注水量"}),d.jsxs("div",{className:"text-2xl sm:text-3xl font-bold mt-1",children:[l(5)," ml"]}),(()=>{const u=l(5),c=t==="hot"?Bi.hot[5]:Bi.cold[r][5],f=Math.round(u-c);return f!==0?d.jsxs("div",{className:`text-sm mt-1 ${f>0?"text-green-400":"text-red-400"}`,children:[f>0?`+${f}`:f," ml"]}):null})()]}),d.jsxs("div",{className:"text-right w-full sm:w-auto",children:[d.jsx("div",{className:"text-sm text-text-secondary",children:"標準總量"}),d.jsxs("div",{className:"text-xl mt-1",children:[t==="hot"?Bi.hot[5]:Bi.cold[r][5]," ml"]}),d.jsx("div",{className:`
              text-xs mt-2 px-2 py-1 rounded-full w-fit ml-auto
              ${t==="hot"?"bg-rose-500/10 text-rose-400":"bg-blue-500/10 text-blue-400"}
            `,children:t==="hot"?"熱手沖":"冰手沖"})]})]})}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`
            w-1 h-5 rounded-full
            ${t==="hot"?"bg-rose-400":"bg-blue-400"}
          `}),d.jsx("h2",{className:"font-medium",children:"需調整水量"})]}),d.jsx("div",{className:"grid gap-2",children:(t==="hot"?Ih.hot:Ih.cold[r]).map((u,c)=>{const f=l(c),g=c>0?l(c-1):0,m=c===0?f:f-g,p=Math.round(u-m);return p===0?null:d.jsxs("div",{className:`
                  flex items-center justify-between
                  px-4 py-2 rounded-lg
                  ${t==="hot"?"bg-rose-500/5":"bg-blue-500/5"}
                `,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`
                    w-6 h-6 rounded-full 
                    flex items-center justify-center 
                    text-sm font-medium
                    ${t==="hot"?"bg-rose-400/10 text-rose-400":"bg-blue-400/10 text-blue-400"}
                  `,children:c+1}),d.jsxs("span",{children:["第 ",c+1," 段注水"]})]}),d.jsxs("span",{className:`
                  text-sm px-3 py-1 rounded-full font-medium
                  ${p>0?"bg-green-400/10 text-green-400":"bg-red-400/10 text-red-400"}
                `,children:[p>0?`+${p}`:p," ml"]})]},c)})})]})]})}function $X(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 20v-7m0 0l6-6.5H6L12 13zm-4-9h8m-8 0l-2-2m10 2l2-2"})})}function GX(){const[t,e]=x.useState([{volume:"",concentration:"",unit:"ml",id:Date.now()}]),[r,n]=x.useState({method:"volume",volume:"",cubes:"",cubeWeight:""}),[i,s]=x.useState(null),[a,o]=x.useState("ml"),A=(p,v,y)=>{if(!p)return"";const w=parseFloat(p);return v===y?w:v==="shot"?w*30:w/30},l=()=>{e([...t,{volume:"",concentration:"",unit:"ml",id:Date.now()}])},u=p=>{t.length>1&&e(t.filter(v=>v.id!==p))},c=(p,v,y)=>{e(t.map(w=>w.id===p?{...w,[v]:y}:w))},f=p=>{e(t.map(v=>{if(v.id!==p)return v;const y=v.unit==="shot"?"ml":"shot";return{...v,unit:y,volume:A(v.volume,v.unit,y).toString()}}))},g=()=>{const p=t.reduce((I,{volume:T,concentration:F,unit:C})=>{const _=parseFloat(T)||0,S=C==="shot"?_*30:_,P=parseFloat(F)||0;return I+S*(P/100)},0),v=t.reduce((I,{volume:T,unit:F})=>{const C=parseFloat(T)||0;return I+(F==="shot"?C*30:C)},0);let y=0;if(r.method==="volume")y=parseFloat(r.volume)||0;else{const I=parseFloat(r.cubes)||0,T=parseFloat(r.cubeWeight)||0;y=I*T}const w=v+y,B=p/w*100;s({originalConcentration:p/v*100,finalConcentration:B,totalVolume:w,pureAlcohol:p,meltedIceVolume:y})},m=()=>{e([{volume:"",concentration:"",unit:"ml",id:Date.now()}]),n({method:"volume",volume:"",cubes:"",cubeWeight:""}),s(null)};return d.jsx("div",{className:"container-custom py-8",children:d.jsx("div",{className:"max-w-2xl mx-auto px-4",children:d.jsxs("div",{className:"bg-surface rounded-2xl p-6 shadow-xl",children:[d.jsx("div",{className:"text-center mb-8",children:d.jsxs("div",{className:"inline-flex items-center justify-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-blue-500/20 to-cyan-500/20",children:d.jsx($X,{className:"w-8 h-8 text-blue-400"})}),d.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"酒精濃度計算器"})]})}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"bg-white/5 rounded-xl p-6 space-y-4",children:[d.jsxs("h2",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[d.jsx("span",{className:"w-1.5 h-5 bg-blue-400 rounded-full"}),"酒類清單"]}),d.jsx("div",{className:"space-y-4",children:t.map((p,v)=>d.jsxs("div",{className:"bg-white/5 rounded-lg p-4 transition-all duration-200 hover:bg-white/10",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"text-sm font-medium text-blue-400",children:["酒類 ",v+1]}),t.length>1&&d.jsx("button",{onClick:()=>u(p.id),className:"p-1 rounded-lg hover:bg-red-500/10 text-red-400 transition-colors",children:d.jsx(LD,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("label",{className:"text-sm text-text-secondary",children:"容量"}),d.jsx("button",{onClick:()=>f(p.id),className:`text-xs px-2 py-0.5 rounded-full bg-blue-500/10 
                                     hover:bg-blue-500/20 transition-colors text-blue-400`,children:p.unit==="shot"?"ml":"shot"})]}),d.jsx("input",{type:"number",value:p.volume,onChange:y=>c(p.id,"volume",y.target.value),className:"input-field w-full",placeholder:p.unit==="shot"?"1 shot = 30ml":"輸入毫升",min:"0",step:p.unit==="shot"?"0.5":"1"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"濃度 (%)"}),d.jsx("input",{type:"number",value:p.concentration,onChange:y=>c(p.id,"concentration",y.target.value),className:"input-field w-full",placeholder:"輸入濃度",min:"0",max:"100"})]})]})]},p.id))}),d.jsx("button",{onClick:l,className:`w-full py-3 rounded-lg border-2 border-dashed border-blue-500/30
                         hover:bg-blue-500/5 text-blue-400
                         transition-all duration-200 group`,children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(Yi,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),d.jsx("span",{className:"text-sm font-medium",children:"添加酒類"})]})})]}),d.jsxs("div",{className:"bg-white/5 rounded-xl p-6",children:[d.jsxs("h2",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[d.jsx("span",{className:"w-1.5 h-5 bg-blue-400 rounded-full"}),"融冰計算"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{onClick:()=>n(p=>({...p,method:"volume"})),className:`p-3 rounded-lg transition-all duration-200 ${r.method==="volume"?"bg-blue-500 text-white shadow-lg shadow-blue-500/25":"bg-white/5 hover:bg-white/10 text-text-secondary"}`,children:[d.jsx("div",{className:"text-sm font-medium",children:"直接輸入體積"}),d.jsx("div",{className:"text-xs mt-1 opacity-60",children:"手動輸入融冰量"})]}),d.jsxs("button",{onClick:()=>n(p=>({...p,method:"cubes"})),className:`p-3 rounded-lg transition-all duration-200 ${r.method==="cubes"?"bg-blue-500 text-white shadow-lg shadow-blue-500/25":"bg-white/5 hover:bg-white/10 text-text-secondary"}`,children:[d.jsx("div",{className:"text-sm font-medium",children:"計算冰塊體積"}),d.jsx("div",{className:"text-xs mt-1 opacity-60",children:"根據冰塊計算"})]})]}),d.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:r.method==="volume"?d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"融冰體積 (ml)"}),d.jsx("input",{type:"number",value:r.volume,onChange:p=>n(v=>({...v,volume:p.target.value})),className:"input-field w-full",placeholder:"輸入預計融化的體積",min:"0"})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"冰塊數量"}),d.jsx("input",{type:"number",value:r.cubes,onChange:p=>n(v=>({...v,cubes:p.target.value})),className:"input-field w-full",placeholder:"輸入數量",min:"0"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"每個冰塊重量 (g)"}),d.jsx("input",{type:"number",value:r.cubeWeight,onChange:p=>n(v=>({...v,cubeWeight:p.target.value})),className:"input-field w-full",placeholder:"輸入冰塊重量",min:"0"})]})]}),r.cubes&&r.cubeWeight&&d.jsxs("div",{className:"text-sm bg-blue-500/10 text-blue-400 rounded-lg p-3",children:["預計融化體積：",(parseFloat(r.cubes)*parseFloat(r.cubeWeight)).toFixed(0)," ml"]})]})})]})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("button",{onClick:g,className:`flex-1 py-3 rounded-lg bg-gradient-to-r from-blue-500 to-cyan-500
                         text-white font-medium shadow-lg shadow-blue-500/25
                         hover:shadow-xl hover:shadow-blue-500/40 
                         transition-all duration-200`,children:"計算結果"}),d.jsx("button",{onClick:m,className:`flex-1 py-3 rounded-lg bg-white/5 hover:bg-white/10 
                         text-text-secondary transition-all duration-200`,children:"重設"})]}),i&&d.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fade-in",children:[d.jsxs("div",{className:"col-span-2 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg p-4",children:[d.jsx("div",{className:"text-sm text-gray-300",children:i.meltedIceVolume>0?"加入融冰後濃度":"酒精濃度"}),d.jsxs("div",{className:"text-3xl font-bold text-blue-400 mt-1",children:[i.finalConcentration.toFixed(2),"%"]}),i.meltedIceVolume>0&&d.jsxs("div",{className:"text-sm text-gray-300 mt-2",children:["調酒前濃度：",i.originalConcentration.toFixed(2),"%"]})]}),d.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[d.jsx("div",{className:"text-sm text-text-secondary",children:"總容量"}),d.jsx("div",{className:"text-xl font-bold mt-1",children:a==="shot"?`${(i.totalVolume/30).toFixed(1)} shot`:`${i.totalVolume.toFixed(0)} ml`}),d.jsx("div",{className:"text-sm text-text-secondary mt-1",children:a==="shot"?`${i.totalVolume.toFixed(0)} ml`:`${(i.totalVolume/30).toFixed(1)} shot`}),i.meltedIceVolume>0&&d.jsxs("div",{className:"text-sm text-text-secondary mt-1",children:["含融冰：",i.meltedIceVolume.toFixed(0)," ml"]})]}),d.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[d.jsx("div",{className:"text-sm text-text-secondary",children:"純酒精含量"}),d.jsx("div",{className:"text-xl font-bold mt-1",children:a==="shot"?`${(i.pureAlcohol/30).toFixed(1)} shot`:`${i.pureAlcohol.toFixed(0)} ml`}),d.jsx("div",{className:"text-sm text-text-secondary mt-1",children:a==="shot"?`${i.pureAlcohol.toFixed(0)} ml`:`${(i.pureAlcohol/30).toFixed(1)} shot`})]})]})]})]})})})}function zX(t,e){const[r,n]=x.useState(()=>{try{const i=window.localStorage.getItem(t);return i?JSON.parse(i):e}catch(i){return console.error(i),e}});return x.useEffect(()=>{try{window.localStorage.setItem(t,JSON.stringify(r))}catch(i){console.error(i)}},[t,r]),[r,n]}const _e={common:{loading:"載入中...",error:"出錯了！",retry:"重試",save:"儲存",cancel:"取消",confirm:"確認",delete:"刪除",edit:"編輯"},sandwich:{title:"三明治計算器",subtitle:"選擇拉奶，選擇成功",inputsTitle:"計算輸入",inputsSubtitle:"輸入現有數量",existingHam:"現有的火腿三明治",existingSalami:"現有的臘腸三明治",distribution:"分配方式",distributionEven:"平均分配",distributionHam:"優先火腿",distributionSalami:"優先臘腸",extraBagsLabel:"額外需要的麵包包數",calculate:"計算結果",reset:"重設輸入",resultsTitle:"計算結果",resultsSubtitle:"製作需求總覽",needHam:"需製作的火腿三明治",needSalami:"需製作的臘腸三明治",needBags:"需要的麵包數量",totalNeed:"總計需求",emptyHint:"點擊計算按鈕查看結果"},sandwichUi:{summaryTarget:"目標",summaryExisting:"現有",summaryToMake:"需製作",unitPiece:"個",unitBag:"包",capacityTitle:"容量與分配資訊",capacityFormula:"容量 = 包數 × 每包數量",capacityLeftover:"剩餘切片 = 容量 − 需求",capacityDistributionTitle:"分配方式",capacityEvenDetail:"平均分配：多出的切片會均分到火腿與臘腸",capacityHamDetail:"優先火腿：多出的切片全分給火腿",capacitySalamiDetail:"優先臘腸：多出的切片全分給臘腸",capacityActual:"本次實際分配",hamProgress:"火腿達成度",salamiProgress:"臘腸達成度",inputPlaceholderNumber:"輸入個數",tooltipEven:"平均分配多出的切片",tooltipHam:"多出的切片優先給火腿",tooltipSalami:"多出的切片優先給臘腸"},settings:{title:"基本設定",subtitle:"調整計算參數",breadPerBag:"每包麵包的數量",targetHam:"目標火腿三明治數量",targetSalami:"目標臘腸三明治數量",done:"完成設定"}};function VA(t){const e=parseInt(t,10);return Number.isFinite(e)?e:0}function f2(t,e){const r=Math.max(1,VA(e.breadPerBag)),n=Math.max(0,VA(e.targetHam)),i=Math.max(0,VA(e.targetSalami)),s=Math.max(0,VA(t.existingHam)),a=Math.max(0,VA(t.existingSalami)),o=Math.max(0,VA(t.extraBags)),A=t.distribution||"even",l=Math.max(0,n-s),u=Math.max(0,i-a),c=l+u,g=Math.max(0,Math.ceil(c/r))+o,m=g*r,p=Math.max(0,m-c);let v=0,y=0;switch(A){case"ham":v=p;break;case"salami":y=p;break;default:v=Math.floor(p/2),y=p-v}const w=l+v,B=u+y;return{totalHamNeeded:w,totalSalamiNeeded:B,bagsNeeded:g,totalTarget:n+i,totalExisting:s+a,baseHamNeeded:l,baseSalamiNeeded:u,baseTotalNeeded:c,totalSlices:m,extraSlices:p,extraHam:v,extraSalami:y}}function WX(){const t={breadPerBag:8,targetHam:60,targetSalami:30},[e,r]=zX("sandwich_settings",t),[n,i]=x.useState({existingHam:"",existingSalami:"",extraBags:0,distribution:"even"}),[s,a]=x.useState(!1),[o,A]=x.useState(e),[l,u]=x.useState(null),[c,f]=x.useState(!0),[g,m]=x.useState(null),[p,v]=x.useState(!1);x.useEffect(()=>{let C;try{C=Od(Ii(sr,"settings","sandwich"),_=>{_.exists()?r(_.data()):Oo(_.ref,e).catch(S=>{console.error("創建設定文件失敗:",S)}),f(!1)},_=>{console.error("讀取設定錯誤:",_),m("無法連接到 Firebase，使用本地設定"),f(!1)})}catch(_){console.error("Firebase 初始化錯誤:",_),m("Firebase 連接失敗，使用本地設定"),f(!1)}return()=>{C&&C()}},[]),x.useEffect(()=>{s&&A(e)},[s,e]);const y=async C=>{r(C);try{await Oo(Ii(sr,"settings","sandwich"),C)}catch(_){console.error("更新設定錯誤:",_),m("無法同步到 Firebase，設定已保存到本地")}},w=async()=>{await y(o),a(!1)},B=()=>{const C=f2(n,e);u(C)},I=x.useMemo(()=>f2(n,e),[n,e]),T=()=>{i({existingHam:"",existingSalami:"",extraBags:0,distribution:"even"}),u(null)},F=[{value:"even",label:_e.sandwich.distributionEven},{value:"ham",label:_e.sandwich.distributionHam},{value:"salami",label:_e.sandwich.distributionSalami}];return d.jsx("div",{className:"container-custom py-8",children:d.jsxs("div",{className:"max-w-6xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent mb-2",children:_e.sandwich.title}),d.jsx("p",{className:"text-text-secondary",children:_e.sandwich.subtitle})]}),d.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 lg:gap-6",children:[d.jsxs("div",{className:"card bg-gradient-to-br from-surface/80 to-surface/60 border-primary/20",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:d.jsx(jd,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-primary",children:_e.sandwich.inputsTitle}),d.jsx("p",{className:"text-xs sm:text-sm text-text-secondary",children:_e.sandwich.inputsSubtitle})]})]}),d.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-lg bg-primary/20 hover:bg-primary/30 border border-primary/30 text-primary transition-all duration-200 hover:scale-110",title:_e.settings.title,children:d.jsx(Gx,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),c?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"})}):g?d.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 mb-4",children:d.jsxs("div",{className:"flex items-center gap-2 text-amber-400",children:[d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),d.jsx("span",{className:"text-sm font-medium",children:g})]})}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[d.jsxs("div",{className:"rounded-lg bg-white/5 border border-white/10 p-3 text-center",children:[d.jsx("div",{className:"text-xs text-text-secondary",children:_e.sandwichUi.summaryTarget}),d.jsx("div",{className:"text-base font-semibold",children:I.totalTarget})]}),d.jsxs("div",{className:"rounded-lg bg-white/5 border border-white/10 p-3 text-center",children:[d.jsx("div",{className:"text-xs text-text-secondary",children:_e.sandwichUi.summaryExisting}),d.jsx("div",{className:"text-base font-semibold text-text-secondary",children:I.totalExisting})]}),d.jsxs("div",{className:"rounded-lg bg-primary/10 border border-primary/30 p-3 text-center",children:[d.jsx("div",{className:"text-xs text-text-secondary",children:_e.sandwichUi.summaryToMake}),d.jsx("div",{className:"text-lg sm:text-xl font-bold text-primary",children:I.baseTotalNeeded})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:_e.sandwich.existingHam}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",className:"input-field w-full pr-10",placeholder:_e.sandwichUi.inputPlaceholderNumber,min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:n.existingHam,onChange:C=>i({...n,existingHam:C.target.value})}),d.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-text-secondary text-sm",children:_e.sandwichUi.unitPiece})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:_e.sandwich.existingSalami}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",className:"input-field w-full pr-10",placeholder:_e.sandwichUi.inputPlaceholderNumber,min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:n.existingSalami,onChange:C=>i({...n,existingSalami:C.target.value})}),d.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-text-secondary text-sm",children:_e.sandwichUi.unitPiece})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:_e.sandwich.distribution}),d.jsx("div",{role:"radiogroup","aria-label":_e.sandwich.distribution,className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:F.map(C=>d.jsx("button",{role:"radio","aria-checked":n.distribution===C.value,title:C.value==="even"?_e.sandwichUi.tooltipEven:C.value==="ham"?_e.sandwichUi.tooltipHam:_e.sandwichUi.tooltipSalami,onClick:()=>i({...n,distribution:C.value}),className:`px-3 py-2 sm:px-4 sm:py-3 rounded-lg transition-all duration-200 text-sm sm:text-base ${n.distribution===C.value?"bg-primary/20 border border-primary/30 text-primary":"bg-white/5 hover:bg-white/10 text-text-secondary border border-transparent"}`,children:d.jsx("span",{className:"font-medium",children:C.label})},C.value))})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm text-text-secondary mb-2",children:[_e.sandwich.extraBagsLabel,"：",n.extraBags]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"range",min:"0",max:"5",step:"1",value:n.extraBags,"aria-label":_e.sandwich.extraBagsLabel,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onTouchStart:()=>v(!0),onTouchEnd:()=>v(!1),onChange:C=>i(_=>({..._,extraBags:parseInt(C.target.value,10)||0})),className:`w-full h-3 bg-white/10 rounded-lg appearance-none cursor-pointer
                                touch-manipulation
                                [&::-webkit-slider-thumb]:appearance-none
                                [&::-webkit-slider-thumb]:w-6
                                [&::-webkit-slider-thumb]:h-6
                                [&::-webkit-slider-thumb]:rounded-full
                                [&::-webkit-slider-thumb]:bg-primary
                                [&::-webkit-slider-thumb]:cursor-pointer
                                [&::-webkit-slider-thumb]:hover:bg-primary/80
                                [&::-webkit-slider-thumb]:transition-all
                                [&::-webkit-slider-thumb]:shadow-lg
                                [&::-moz-range-thumb]:appearance-none
                                [&::-moz-range-thumb]:border-0
                                [&::-moz-range-thumb]:w-6
                                [&::-moz-range-thumb]:h-6
                                [&::-moz-range-thumb]:rounded-full
                                [&::-moz-range-thumb]:bg-primary
                                [&::-moz-range-thumb]:cursor-pointer
                                [&::-moz-range-thumb]:hover:bg-primary/80
                                [&::-moz-range-thumb]:transition-all
                                [&::-moz-range-thumb]:shadow-lg`}),p&&d.jsx("div",{className:"absolute -top-7",style:{left:`${n.extraBags/5*100}%`,transform:"translateX(-50%)"},children:d.jsx("div",{className:"px-2 py-0.5 rounded bg-primary/80 text-white text-xs shadow",children:n.extraBags})})]}),d.jsxs("div",{className:"flex justify-between text-xs text-text-secondary mt-2 px-1",children:[d.jsx("span",{children:"0"}),d.jsx("span",{children:"1"}),d.jsx("span",{children:"2"}),d.jsx("span",{children:"3"}),d.jsx("span",{children:"4"}),d.jsx("span",{children:"5"})]})]}),d.jsxs("div",{className:"space-y-3 pt-4",children:[d.jsx("button",{onClick:B,className:"btn-primary w-full py-3 sm:py-4 text-sm sm:text-base",children:_e.sandwich.calculate}),d.jsx("button",{onClick:T,className:`w-full px-3 py-2 sm:px-4 sm:py-3 bg-white/5 hover:bg-white/10 
                              text-text-secondary rounded-lg transition-all duration-200 text-sm sm:text-base`,children:_e.sandwich.reset})]})]})]}),d.jsxs("div",{className:"card bg-gradient-to-br from-surface/60 to-surface/40 border-primary/20",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:d.jsx(jD,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg sm:text-xl font-bold text-primary",children:_e.sandwich.resultsTitle}),d.jsx("p",{className:"text-xs sm:text-sm text-text-secondary",children:_e.sandwich.resultsSubtitle})]})]}),l?d.jsxs("div",{className:"space-y-4 animate-fade-in",children:[d.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[d.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalHamNeeded}),d.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[_e.sandwich.needHam,"（",_e.sandwichUi.unitPiece,"）"]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[d.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalSalamiNeeded}),d.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[_e.sandwich.needSalami,"（",_e.sandwichUi.unitPiece,"）"]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[d.jsx("div",{className:"text-2xl font-bold text-white",children:l.bagsNeeded}),d.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[_e.sandwich.needBags,"（",_e.sandwichUi.unitBag,"）"]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[d.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalHamNeeded+l.totalSalamiNeeded}),d.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[_e.sandwich.totalNeed,"（",_e.sandwichUi.unitPiece,"）"]})]}),d.jsxs("div",{className:"rounded-xl p-4 bg-white/5 border border-white/10 space-y-1.5",children:[d.jsx("div",{className:"text-sm font-semibold",children:_e.sandwichUi.capacityTitle}),d.jsxs("div",{className:"text-xs text-text-secondary",children:[_e.sandwichUi.capacityFormula,"：",l.bagsNeeded," × ",e.breadPerBag," = ",d.jsx("span",{className:"text-white font-medium",children:l.totalSlices})]}),d.jsxs("div",{className:"text-xs text-text-secondary",children:[_e.sandwichUi.capacityLeftover,"：",d.jsx("span",{className:"text-white font-medium",children:l.extraSlices})]}),d.jsxs("div",{className:"text-xs text-text-secondary mt-2",children:[_e.sandwichUi.capacityDistributionTitle,"：",d.jsxs("span",{className:"ml-1",children:[n.distribution==="even"&&_e.sandwichUi.capacityEvenDetail,n.distribution==="ham"&&_e.sandwichUi.capacityHamDetail,n.distribution==="salami"&&_e.sandwichUi.capacitySalamiDetail]})]}),d.jsxs("div",{className:"text-xs text-text-secondary",children:[_e.sandwichUi.capacityActual,"：",d.jsxs("span",{className:"ml-1 text-white font-medium",children:["火腿 +",l.extraHam]}),d.jsx("span",{className:"mx-2",children:"/"}),d.jsxs("span",{className:"text-white font-medium",children:["臘腸 +",l.extraSalami]})]})]})]}):d.jsxs("div",{className:"text-center py-12 text-text-secondary",children:[d.jsx(jd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),d.jsx("p",{children:_e.sandwich.emptyHint})]})]})]}),s&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-surface/95 backdrop-blur-md border border-white/20 rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[d.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:d.jsx(Gx,{className:"w-6 h-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-primary",children:_e.settings.title}),d.jsx("p",{className:"text-sm text-text-secondary",children:_e.settings.subtitle})]})]}),d.jsx("button",{onClick:()=>a(!1),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:_e.settings.breadPerBag}),d.jsx("input",{type:"number",className:"input-field w-full",min:1,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.breadPerBag,onChange:C=>A(_=>({..._,breadPerBag:parseInt(C.target.value,10)||1}))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:_e.settings.targetHam}),d.jsx("input",{type:"number",className:"input-field w-full",min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.targetHam,onChange:C=>A(_=>({..._,targetHam:parseInt(C.target.value,10)||0}))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:_e.settings.targetSalami}),d.jsx("input",{type:"number",className:"input-field w-full",min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.targetSalami,onChange:C=>A(_=>({..._,targetSalami:parseInt(C.target.value,10)||0}))})]})]}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsx("button",{className:"flex-1 px-4 py-2 bg-primary/20 hover:bg-primary/30 text-primary rounded-lg transition-colors",onClick:w,children:_e.settings.done}),d.jsx("button",{className:"flex-1 px-4 py-2 bg-white/5 hover:bg-white/10 text-text-secondary rounded-lg transition-colors",onClick:()=>a(!1),children:_e.common.cancel})]})]})})]})})}const Gi={brewing:{pourOver:["水洗","日曬","阿寶","台灣豆","Geisha"],espresso:["ESP","水洗"]},retail:["水洗","日曬","阿寶","季節","台灣豆","Geisha"]},Tr=["台灣豆","Geisha"],Sh={bagWeight:121,ikeaBoxWeight:365,beanWeightPerPack:19};function XX(){const[t,e]=x.useState(!1),r=x.useRef(null),[n,i]=x.useState({brewing:{pourOver:{},espresso:{}},retail:{}}),[s,a]=x.useState("bag"),[o,A]=x.useState(!1),[l,u]=x.useState({}),[c,f]=x.useState("brewing"),[g,m]=x.useState("original"),[p,v]=x.useState(()=>{const O=localStorage.getItem("coffeeBeanWeightSettings");if(O)try{return JSON.parse(O)}catch(R){return console.error("解析重量設定失敗:",R),Sh}return Sh}),[y,w]=x.useState(()=>{const O=localStorage.getItem("coffeeBeanCalculations");if(O)try{return JSON.parse(O)}catch(R){return console.error("解析計算欄位失敗:",R),[{id:1,totalWeight:"",estimatedPacks:0}]}return[{id:1,totalWeight:"",estimatedPacks:0}]});x.useEffect(()=>{const O=localStorage.getItem("coffeeBeanInventory");O&&i(JSON.parse(O));const R=localStorage.getItem("coffeeBeanWeightMode");R&&a(R)},[]),x.useEffect(()=>{localStorage.setItem("coffeeBeanWeightSettings",JSON.stringify(p))},[p]),x.useEffect(()=>{localStorage.setItem("coffeeBeanInventory",JSON.stringify(n))},[n]),x.useEffect(()=>{localStorage.setItem("coffeeBeanCalculations",JSON.stringify(y))},[y]),x.useEffect(()=>{localStorage.setItem("coffeeBeanWeightMode",s)},[s]),x.useEffect(()=>{const O=()=>{const R=document.getElementById("brewing-section"),j=document.getElementById("retail-section");if(R&&j){const J=R.getBoundingClientRect(),re=j.getBoundingClientRect();J.top<window.innerHeight/2&&J.bottom>window.innerHeight/2?f("brewing"):re.top<window.innerHeight/2&&re.bottom>window.innerHeight/2&&f("retail")}};return window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)},[]);const B=(O,R,j)=>{var J;if(!((J=n[O][R])!=null&&J[j])){const V=Tr.includes(j)?{store:[""]}:{store:[""],breakRoom:[""]};i(G=>{var ee;return{...G,[O]:{...G[O],[R]:{...(ee=G[O])==null?void 0:ee[R],[j]:V}}}})}},I=(O,R,j,J)=>{B(O,R,j),i(re=>{var V,G,ee;return{...re,[O]:{...re[O],[R]:{...re[O][R],[j]:{...(V=re[O][R])==null?void 0:V[j],[J]:[...((ee=(G=re[O][R])==null?void 0:G[j])==null?void 0:ee[J])||[""],""]}}}}})},T=(O,R,j,J,re,V)=>{B(O,R,j),i(G=>{var ee,W,Pe,Ie;return{...G,[O]:{...G[O],[R]:{...G[O][R],[j]:{...(ee=G[O][R])==null?void 0:ee[j],[J]:((Ie=(Pe=(W=G[O][R])==null?void 0:W[j])==null?void 0:Pe[J])==null?void 0:Ie.map((Ge,ht)=>ht===re?V:Ge))||[""]}}}}})},F=(O,R,j,J,re)=>{i(V=>{var G,ee,W,Pe;return{...V,[O]:{...V[O],[R]:{...V[O][R],[j]:{...(G=V[O][R])==null?void 0:G[j],[J]:((Pe=(W=(ee=V[O][R])==null?void 0:ee[j])==null?void 0:W[J])==null?void 0:Pe.filter((Ie,Ge)=>Ge!==re))||[""]}}}}})},C=O=>(O==null?void 0:O.reduce((R,j)=>R+(parseInt(j)||0),0))||0,_=O=>{if(!O)return 0;let R=0;return O.store&&(R+=C(O.store)),O.breakRoom&&(R+=C(O.breakRoom)),R},S=O=>{if(!O)return 0;const R=s==="bag"?p.bagWeight:p.ikeaBoxWeight,j=O-R;return j<=0?0:Math.round(j/p.beanWeightPerPack*10)/10},P=(O,R)=>{v(j=>({...j,[O]:parseFloat(R)||0}))},N=()=>{const O=Math.max(...y.map(R=>R.id),0)+1;w(R=>[...R,{id:O,totalWeight:"",estimatedPacks:0}])},k=O=>{y.length>1&&w(R=>R.filter(j=>j.id!==O))},Q=(O,R)=>{w(j=>j.map(J=>J.id===O?{...J,totalWeight:R,estimatedPacks:S(R)}:J))},se=()=>{A(!0);const O={};Gi.brewing.pourOver.forEach(R=>{const j=n.brewing.pourOver[R],J=C((j==null?void 0:j.store)||[]),re=Tr.includes(R)?0:C((j==null?void 0:j.breakRoom)||[]);O[`brewing-pourOver-${R}`]={store:J.toString(),breakRoom:re.toString(),category:"brewing",subCategory:"pourOver",beanType:R}}),Gi.brewing.espresso.forEach(R=>{const j=n.brewing.espresso[R],J=C((j==null?void 0:j.store)||[]),re=Tr.includes(R)?0:C((j==null?void 0:j.breakRoom)||[]);O[`brewing-espresso-${R}`]={store:J.toString(),breakRoom:re.toString(),category:"brewing",subCategory:"espresso",beanType:R}}),Gi.retail.forEach(R=>{const j=n.retail[R],J=C((j==null?void 0:j.store)||[]),re=Tr.includes(R)?0:C((j==null?void 0:j.breakRoom)||[]);O[`retail-${R}`]={store:J.toString(),breakRoom:re.toString(),category:"retail",subCategory:null,beanType:R}}),u(O)},Ce=()=>{Object.entries(l).forEach(([O,R])=>{const{category:j,subCategory:J,beanType:re,store:V,breakRoom:G}=R;i(j==="retail"?ee=>({...ee,retail:{...ee.retail,[re]:{store:[V],...Tr.includes(re)?{}:{breakRoom:[G]}}}}):ee=>({...ee,[j]:{...ee[j],[J]:{...ee[j][J],[re]:{store:[V],...Tr.includes(re)?{}:{breakRoom:[G]}}}}}))}),A(!1),u({})},ge=()=>{A(!1),u({})},xe=(O,R,j)=>{u(J=>({...J,[O]:{...J[O],[R]:j}}))},Y=()=>{confirm("確定要重置所有數據嗎？此操作無法復原。")&&(i({brewing:{pourOver:{},espresso:{}},retail:{}}),w([{id:1,totalWeight:"",estimatedPacks:0}]),v(Sh),a("bag"),A(!1),u({}),localStorage.removeItem("coffeeBeanInventory"),localStorage.removeItem("coffeeBeanWeightSettings"),localStorage.removeItem("coffeeBeanCalculations"),localStorage.removeItem("coffeeBeanWeightMode"))},ne=()=>{confirm("確定要回復原本的重量設定嗎？")&&(v(Sh),localStorage.removeItem("coffeeBeanWeightSettings"))},ce=()=>{const O=[];return Gi.brewing.pourOver.forEach(R=>{const j=n.brewing.pourOver[R],J=C((j==null?void 0:j.store)||[]),re=Tr.includes(R)?0:C((j==null?void 0:j.breakRoom)||[]),V=J+re;O.push({category:"出杯豆",beanType:R,storeTotal:J,breakRoomTotal:re,grandTotal:V})}),Gi.brewing.espresso.forEach(R=>{const j=n.brewing.espresso[R],J=C((j==null?void 0:j.store)||[]),re=Tr.includes(R)?0:C((j==null?void 0:j.breakRoom)||[]),V=J+re;O.push({category:"義式豆",beanType:R,storeTotal:J,breakRoomTotal:re,grandTotal:V})}),Gi.retail.forEach(R=>{const j=n.retail[R],J=C((j==null?void 0:j.store)||[]),re=Tr.includes(R)?0:C((j==null?void 0:j.breakRoom)||[]),V=J+re;O.push({category:"賣豆",beanType:R,storeTotal:J,breakRoomTotal:re,grandTotal:V})}),O},ae=()=>{const O=ce(),R=new Date().toLocaleDateString("zh-TW"),j={};return O.forEach(J=>{j[J.category]||(j[J.category]=[]),j[J.category].push(J)}),`
      <div style="font-family: 'Microsoft JhengHei', Arial, sans-serif; max-width: 900px; margin: 0 auto; padding: 30px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); color: #2c3e50; min-height: 100vh;">
        <div style="background: white; border-radius: 15px; padding: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
          <div style="text-align: center; margin-bottom: 40px;">
            <h1 style="color: #2c3e50; margin: 0; font-size: 32px; font-weight: 700; text-shadow: 2px 2px 4px rgba(0,0,0,0.1);">☕ 咖啡豆盤點表</h1>
            <p style="color: #7f8c8d; margin: 10px 0 0 0; font-size: 16px;">盤點日期：${R}</p>
          </div>
          
          ${Object.entries(j).map(([J,re])=>`
            <div style="margin-bottom: 30px;">
              <h2 style="color: white; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 12px 25px; border-radius: 10px 10px 0 0; margin: 0; font-size: 18px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                ${J}
              </h2>
              
              <table style="width: 100%; border-collapse: collapse; background: white; border-radius: 0 0 10px 10px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.08);">
                <thead>
                  <tr style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); height: 40px;">
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">豆種</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">店面庫存</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">員休室庫存</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">總計</th>
                  </tr>
                </thead>
                <tbody>
                  ${re.map((V,G)=>`
                    <tr style="${G%2===0?"background: #f8f9fa;":"background: white;"}">
                      <td style="padding: 12px 15px; text-align: center; font-weight: 600; color: #2c3e50; border-bottom: 1px solid #ecf0f1;">${V.beanType}</td>
                      <td style="padding: 12px 15px; text-align: center; color: #34495e; border-bottom: 1px solid #ecf0f1;">${V.storeTotal}</td>
                      <td style="padding: 12px 15px; text-align: center; color: #34495e; border-bottom: 1px solid #ecf0f1;">${V.breakRoomTotal}</td>
                      <td style="padding: 12px 15px; text-align: center; font-weight: 700; color: #27ae60; background: linear-gradient(135deg, #a8e6cf 0%, #dcedc1 100%); border-bottom: 1px solid #ecf0f1;">${V.grandTotal}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          `).join("")}
        </div>
      </div>
    `},z=()=>{const O=ce(),R=new Date().toLocaleDateString("zh-TW"),j={};return O.forEach(J=>{j[J.category]||(j[J.category]=[]),j[J.category].push(J)}),`
      <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 800px; margin: 0 auto; padding: 40px; background: #fafafa; color: #1d1d1f; min-height: 100vh;">
        <div style="background: white; border-radius: 20px; padding: 50px; box-shadow: 0 8px 32px rgba(0,0,0,0.08);">
          <div style="text-align: center; margin-bottom: 50px;">
            <h1 style="color: #1d1d1f; margin: 0; font-size: 36px; font-weight: 600; letter-spacing: -0.5px;">咖啡豆盤點表</h1>
            <p style="color: #86868b; margin: 12px 0 0 0; font-size: 17px; font-weight: 400;">盤點日期：${R}</p>
          </div>
          
          ${Object.entries(j).map(([J,re])=>`
            <div style="margin-bottom: 40px;">
              <h2 style="color: #1d1d1f; background: #f5f5f7; padding: 16px 24px; border-radius: 12px; margin: 0 0 24px 0; font-size: 20px; font-weight: 600; text-align: center; border: none;">
                ${J}
              </h2>
              
              <div style="background: white; border-radius: 16px; overflow: hidden; border: 1px solid #e5e5e7;">
                <table style="width: 100%; border-collapse: collapse; background: white;">
                  <thead>
                    <tr style="background: #f5f5f7; height: 48px;">
                      <th style="padding: 0 20px; text-align: left; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">豆種</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">店面庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">員休室庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">總計</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${re.map((V,G)=>`
                      <tr style="background: ${G%2===0?"#fafafa":"white"};">
                        <td style="padding: 16px 20px; text-align: left; font-weight: 500; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${V.beanType}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #515154; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${V.storeTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #515154; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${V.breakRoomTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; font-weight: 600; color: #007aff; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${V.grandTotal}</td>
                      </tr>
                    `).join("")}
                  </tbody>
                </table>
              </div>
            </div>
          `).join("")}
        </div>
      </div>
    `},ve=async()=>{try{let O;try{O=(await $o(async()=>{const{default:G}=await Promise.resolve().then(()=>Bte);return{default:G}},void 0)).default}catch(G){console.error("html2canvas 載入失敗:",G),alert("匯出功能暫時無法使用，請重新整理頁面後再試");return}const R=g==="minimalist"?z():ae(),j=document.createElement("div");j.innerHTML=R,j.style.position="absolute",j.style.left="-9999px",j.style.top="0",document.body.appendChild(j);const J=await O(j.firstElementChild,{backgroundColor:g==="minimalist"?"#fafafa":"#ffffff",scale:2,useCORS:!0,allowTaint:!0,logging:!1});document.body.removeChild(j);const re=document.createElement("a"),V=g==="minimalist"?"Minimalist":"原始風格";re.download=`咖啡豆盤點表_${V}_${new Date().toLocaleDateString("zh-TW")}.png`,re.href=J.toDataURL(),re.click()}catch(O){console.error("匯出圖片失敗:",O),alert("匯出圖片失敗，請稍後再試")}};return d.jsxs("div",{className:"container-custom py-6 space-y-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-primary/20 to-primary/10 border border-primary/20",children:d.jsx($x,{className:"w-6 h-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-primary to-purple-400 bg-clip-text text-transparent",children:"咖啡豆管理工具"}),d.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"庫存管理與重量換算"})]})]}),d.jsxs("div",{className:"flex gap-2",children:[o?d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:Ce,className:"px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-500/30 text-blue-400 hover:from-blue-500/30 hover:to-cyan-500/30 hover:border-blue-500/50 transition-all duration-200 flex items-center gap-2",children:[d.jsx($x,{className:"w-4 h-4"}),"儲存盤點"]}),d.jsx("button",{onClick:ge,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 hover:bg-red-500/20 hover:border-red-500/50 transition-all duration-200",children:"取消"})]}):d.jsxs("button",{onClick:se,className:"px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30 text-green-400 hover:from-green-500/30 hover:to-emerald-500/30 hover:border-green-500/50 transition-all duration-200 flex items-center gap-2",children:[d.jsx(jd,{className:"w-4 h-4"}),"快速盤點"]}),d.jsx("button",{onClick:Y,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 hover:bg-red-500/20 hover:border-red-500/50 transition-all duration-200",children:"重置數據"})]})]}),d.jsxs("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",ref:r,children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-primary mb-1",children:"咖啡豆盤點表"}),d.jsx("p",{className:"text-sm text-text-secondary",children:"即時更新庫存數量"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-surface/40 rounded-lg border border-white/10",children:[d.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[d.jsx("input",{type:"radio",value:"original",checked:g==="original",onChange:O=>m(O.target.value),className:"text-blue-400 w-3 h-3"}),d.jsx("span",{children:"原始風格"})]}),d.jsx("div",{className:"w-px h-4 bg-white/20"}),d.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[d.jsx("input",{type:"radio",value:"minimalist",checked:g==="minimalist",onChange:O=>m(O.target.value),className:"text-blue-400 w-3 h-3"}),d.jsx("span",{children:"Minimalist"})]})]}),d.jsxs("button",{onClick:ve,className:"px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-400/30 text-blue-400 hover:from-blue-500/30 hover:to-cyan-500/30 hover:border-blue-500/50 transition-all duration-200 flex items-center gap-2",children:[d.jsx(hX,{className:"w-4 h-4"}),"匯出圖片"]})]})]}),d.jsxs("div",{id:"brewing-section",className:"space-y-4",children:[d.jsxs("div",{className:"sticky top-0 z-30 flex items-center gap-3 mb-4 p-4 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-xl border border-blue-400/20 backdrop-blur-md",children:[d.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-blue-400 to-purple-400 rounded-full"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-blue-400",children:"出杯豆"}),d.jsx("p",{className:"text-sm text-blue-300/70",children:"用於製作飲品的咖啡豆"})]}),d.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 animate-pulse"}),d.jsx("span",{className:"text-xs text-blue-300 font-medium",children:"當前區域"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"sticky top-16 z-20 flex items-center gap-3 mb-3 p-3 bg-gradient-to-r from-blue-500/5 to-cyan-500/5 rounded-lg border border-blue-400/10 backdrop-blur-sm",children:[d.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),d.jsx("h4",{className:"text-md font-semibold text-blue-300",children:"手沖豆"}),d.jsx("span",{className:"text-xs text-blue-300/60",children:"手沖咖啡專用"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:Gi.brewing.pourOver.map(O=>{const R=Tr.includes(O),j=n.brewing.pourOver[O],J=`brewing-pourOver-${O}`,re=l[J];return d.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h5",{className:"font-semibold text-sm text-primary",children:O}),d.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),d.jsx("input",{type:"number",value:(re==null?void 0:re.store)||"0",onChange:V=>xe(J,"store",V.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!R&&d.jsxs("div",{children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),d.jsx("input",{type:"number",value:(re==null?void 0:re.breakRoom)||"0",onChange:V=>xe(J,"breakRoom",V.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),d.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:d.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt((re==null?void 0:re.store)||0)+parseInt((re==null?void 0:re.breakRoom)||0)," 包"]})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),d.jsx("button",{onClick:()=>I("brewing","pourOver",O,"store"),className:"p-1.5 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors hover:scale-110 transform",children:d.jsx(Yi,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.store)||[""]).map((V,G)=>d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("input",{type:"number",value:V,onChange:ee=>T("brewing","pourOver",O,"store",G,ee.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-2 px-3 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all",inputMode:"decimal"}),((j==null?void 0:j.store)||[]).length>1&&d.jsx("button",{onClick:()=>F("brewing","pourOver",O,"store",G),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:d.jsx(qi,{className:"w-3 h-3"})})]},G))})]}),!R&&d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),d.jsx("button",{onClick:()=>I("brewing","pourOver",O,"breakRoom"),className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:d.jsx(Yi,{className:"w-3 h-3"})})]}),d.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.breakRoom)||[""]).map((V,G)=>d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("input",{type:"number",value:V,onChange:ee=>T("brewing","pourOver",O,"breakRoom",G,ee.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.breakRoom)||[]).length>1&&d.jsx("button",{onClick:()=>F("brewing","pourOver",O,"breakRoom",G),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:d.jsx(qi,{className:"w-3 h-3"})})]},G))})]}),d.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-primary/10 to-transparent rounded-lg p-2",children:d.jsxs("span",{className:"text-xs font-semibold text-primary",children:[O,"：總共 ",_(j)," 包"]})})]})]},O)})})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"sticky top-16 z-20 flex items-center gap-3 mb-3 p-3 bg-gradient-to-r from-purple-500/5 to-pink-500/5 rounded-lg border border-purple-400/10 backdrop-blur-sm",children:[d.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),d.jsx("h4",{className:"text-md font-semibold text-purple-300",children:"義式豆"}),d.jsx("span",{className:"text-xs text-purple-300/60",children:"義式咖啡專用"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Gi.brewing.espresso.map(O=>{const R=Tr.includes(O),j=n.brewing.espresso[O],J=`brewing-espresso-${O}`,re=l[J];return d.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h5",{className:"font-semibold text-sm text-primary",children:O}),d.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),d.jsx("input",{type:"number",value:(re==null?void 0:re.store)||"0",onChange:V=>xe(J,"store",V.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!R&&d.jsxs("div",{children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),d.jsx("input",{type:"number",value:(re==null?void 0:re.breakRoom)||"0",onChange:V=>xe(J,"breakRoom",V.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),d.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:d.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt((re==null?void 0:re.store)||0)+parseInt((re==null?void 0:re.breakRoom)||0)," 包"]})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),d.jsx("button",{onClick:()=>I("brewing","espresso",O,"store"),className:"p-1 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors",children:d.jsx(Yi,{className:"w-3 h-3"})})]}),d.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.store)||[""]).map((V,G)=>d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("input",{type:"number",value:V,onChange:ee=>T("brewing","espresso",O,"store",G,ee.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.store)||[]).length>1&&d.jsx("button",{onClick:()=>F("brewing","espresso",O,"store",G),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:d.jsx(qi,{className:"w-3 h-3"})})]},G))})]}),!R&&d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),d.jsx("button",{onClick:()=>I("brewing","espresso",O,"breakRoom"),className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:d.jsx(Yi,{className:"w-3 h-3"})})]}),d.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.breakRoom)||[""]).map((V,G)=>d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("input",{type:"number",value:V,onChange:ee=>T("brewing","espresso",O,"breakRoom",G,ee.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.breakRoom)||[]).length>1&&d.jsx("button",{onClick:()=>F("brewing","espresso",O,"breakRoom",G),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:d.jsx(qi,{className:"w-3 h-3"})})]},G))})]}),d.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-primary/10 to-transparent rounded-lg p-2",children:d.jsxs("span",{className:"text-xs font-semibold text-primary",children:[O,"：總共 ",_(j)," 包"]})})]})]},O)})})]})]}),d.jsxs("div",{id:"retail-section",className:"space-y-4 mt-8",children:[d.jsxs("div",{className:"sticky top-0 z-30 flex items-center gap-3 mb-4 p-4 bg-gradient-to-r from-orange-500/10 to-yellow-500/10 rounded-xl border border-orange-400/20 backdrop-blur-md",children:[d.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-orange-400 to-yellow-400 rounded-full"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-orange-400",children:"賣豆"}),d.jsx("p",{className:"text-sm text-orange-300/70",children:"用於販售的咖啡豆"})]}),d.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-400 animate-pulse"}),d.jsx("span",{className:"text-xs text-orange-300 font-medium",children:"當前區域"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:Gi.retail.map(O=>{const R=Tr.includes(O),j=n.retail[O],J=`retail-${O}`,re=l[J];return d.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h5",{className:"font-semibold text-sm text-primary",children:O}),d.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),d.jsx("input",{type:"number",value:(re==null?void 0:re.store)||"0",onChange:V=>xe(J,"store",V.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!R&&d.jsxs("div",{children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),d.jsx("input",{type:"number",value:(re==null?void 0:re.breakRoom)||"0",onChange:V=>xe(J,"breakRoom",V.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),d.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:d.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt((re==null?void 0:re.store)||0)+parseInt((re==null?void 0:re.breakRoom)||0)," 包"]})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),d.jsx("button",{onClick:()=>{if(!n.retail[O]){const G=Tr.includes(O)?{store:[""]}:{store:[""],breakRoom:[""]};i(ee=>({...ee,retail:{...ee.retail,[O]:G}}))}i(V=>{var G;return{...V,retail:{...V.retail,[O]:{...V.retail[O],store:[...((G=V.retail[O])==null?void 0:G.store)||[""],""]}}}})},className:"p-1 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors",children:d.jsx(Yi,{className:"w-3 h-3"})})]}),d.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.store)||[""]).map((V,G)=>d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("input",{type:"number",value:V,onChange:ee=>{if(!n.retail[O]){const Pe=Tr.includes(O)?{store:[""]}:{store:[""],breakRoom:[""]};i(Ie=>({...Ie,retail:{...Ie.retail,[O]:Pe}}))}i(W=>{var Pe,Ie;return{...W,retail:{...W.retail,[O]:{...W.retail[O],store:((Ie=(Pe=W.retail[O])==null?void 0:Pe.store)==null?void 0:Ie.map((Ge,ht)=>ht===G?ee.target.value:Ge))||[""]}}}})},placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.store)||[]).length>1&&d.jsx("button",{onClick:()=>{i(ee=>{var W,Pe;return{...ee,retail:{...ee.retail,[O]:{...ee.retail[O],store:((Pe=(W=ee.retail[O])==null?void 0:W.store)==null?void 0:Pe.filter((Ie,Ge)=>Ge!==G))||[""]}}}})},className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:d.jsx(qi,{className:"w-3 h-3"})})]},G))})]}),!R&&d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),d.jsx("button",{onClick:()=>{if(!n.retail[O]){const G=Tr.includes(O)?{store:[""]}:{store:[""],breakRoom:[""]};i(ee=>({...ee,retail:{...ee.retail,[O]:G}}))}i(V=>{var G;return{...V,retail:{...V.retail,[O]:{...V.retail[O],breakRoom:[...((G=V.retail[O])==null?void 0:G.breakRoom)||[""],""]}}}})},className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:d.jsx(Yi,{className:"w-3 h-3"})})]}),d.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.breakRoom)||[""]).map((V,G)=>d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("input",{type:"number",value:V,onChange:ee=>{if(!n.retail[O]){const Pe=Tr.includes(O)?{store:[""]}:{store:[""],breakRoom:[""]};i(Ie=>({...Ie,retail:{...Ie.retail,[O]:Pe}}))}i(W=>{var Pe,Ie;return{...W,retail:{...W.retail,[O]:{...W.retail[O],breakRoom:((Ie=(Pe=W.retail[O])==null?void 0:Pe.breakRoom)==null?void 0:Ie.map((Ge,ht)=>ht===G?ee.target.value:Ge))||[""]}}}})},placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.breakRoom)||[]).length>1&&d.jsx("button",{onClick:()=>{i(ee=>{var W,Pe;return{...ee,retail:{...ee.retail,[O]:{...ee.retail[O],breakRoom:((Pe=(W=ee.retail[O])==null?void 0:W.breakRoom)==null?void 0:Pe.filter((Ie,Ge)=>Ge!==G))||[""]}}}})},className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:d.jsx(qi,{className:"w-3 h-3"})})]},G))})]}),d.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-primary/10 to-transparent rounded-lg p-2",children:d.jsxs("span",{className:"text-xs font-semibold text-primary",children:[O,"：總共 ",_(j)," 包"]})})]})]},O)})})]}),d.jsxs("div",{className:"mt-8 space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-primary to-purple-400 rounded-full"}),d.jsx("h3",{className:"text-xl font-bold text-primary",children:"豆種詳細總計"})]}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-5 border border-white/10 hover:border-primary/30 transition-all duration-200",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("h4",{className:"font-semibold text-primary text-lg",children:"出杯豆"}),d.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"})]}),d.jsx("div",{className:"space-y-3",children:ce().filter(R=>R.category==="出杯豆").map(R=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",children:[d.jsx("span",{className:"font-medium text-primary text-base",children:R.beanType}),d.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[d.jsxs("span",{className:"text-blue-400 font-medium",children:["店面 ",R.storeTotal,"包"]}),d.jsxs("span",{className:"text-green-400 font-medium",children:["員休 ",R.breakRoomTotal,"包"]}),d.jsxs("span",{className:"font-bold text-white bg-gradient-to-r from-primary/20 to-purple-500/20 px-3 py-1.5 rounded-lg",children:["總計 ",R.grandTotal,"包"]})]})]},R.beanType))})]}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-4 border border-white/10",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("h4",{className:"font-semibold text-primary",children:"義式豆"}),d.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400"})]}),d.jsx("div",{className:"space-y-2",children:ce().filter(R=>R.category==="義式豆").map(R=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/5 rounded-lg",children:[d.jsx("span",{className:"font-medium text-primary",children:R.beanType}),d.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[d.jsxs("span",{className:"text-blue-400",children:["店面 ",R.storeTotal,"包"]}),d.jsxs("span",{className:"text-green-400",children:["員休 ",R.breakRoomTotal,"包"]}),d.jsxs("span",{className:"font-bold text-white bg-gradient-to-r from-primary/20 to-purple-500/20 px-2 py-1 rounded",children:["總計 ",R.grandTotal,"包"]})]})]},R.beanType))})]}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-4 border border-white/10",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("h4",{className:"font-semibold text-primary",children:"賣豆"}),d.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-400"})]}),d.jsx("div",{className:"space-y-2",children:ce().filter(R=>R.category==="賣豆").map(R=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/5 rounded-lg",children:[d.jsx("span",{className:"font-medium text-primary",children:R.beanType}),d.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[d.jsxs("span",{className:"text-blue-400",children:["店面 ",R.storeTotal,"包"]}),d.jsxs("span",{className:"text-green-400",children:["員休 ",R.breakRoomTotal,"包"]}),d.jsxs("span",{className:"font-bold text-white bg-gradient-to-r from-primary/20 to-purple-500/20 px-2 py-1 rounded",children:["總計 ",R.grandTotal,"包"]})]})]},R.beanType))})]})]})]}),d.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50",children:d.jsx("div",{className:"bg-surface/90 backdrop-blur-md border border-white/20 rounded-full px-4 py-2 shadow-lg",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("button",{onClick:()=>{var O;return(O=document.getElementById("brewing-section"))==null?void 0:O.scrollIntoView({behavior:"smooth"})},className:`flex items-center gap-2 px-3 py-1 rounded-full transition-all duration-300 ${c==="brewing"?"bg-blue-400/20 text-blue-400":"text-gray-400 hover:text-blue-300"}`,children:[d.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${c==="brewing"?"bg-blue-400":"bg-gray-400"}`}),d.jsx("span",{className:"text-sm font-medium",children:"出杯豆"})]}),d.jsx("div",{className:"w-px h-4 bg-gray-600"}),d.jsxs("button",{onClick:()=>{var O;return(O=document.getElementById("retail-section"))==null?void 0:O.scrollIntoView({behavior:"smooth"})},className:`flex items-center gap-2 px-3 py-1 rounded-full transition-all duration-300 ${c==="retail"?"bg-orange-400/20 text-orange-400":"text-gray-400 hover:text-orange-300"}`,children:[d.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${c==="retail"?"bg-orange-400":"bg-gray-400"}`}),d.jsx("span",{className:"text-sm font-medium",children:"賣豆"})]})]})})}),d.jsx("button",{onClick:()=>e(!0),className:"fixed bottom-6 right-6 p-4 bg-gradient-to-r from-primary/20 to-purple-500/20 border border-primary/30 text-primary hover:from-primary/30 hover:to-purple-500/30 hover:border-primary/50 transition-all duration-200 rounded-full shadow-lg hover:shadow-xl z-50 hover:scale-110 transform",children:d.jsx(jd,{className:"w-6 h-6"})}),t&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-surface/95 backdrop-blur-md border border-white/20 rounded-2xl p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-primary mb-1",children:"重量換算計算器"}),d.jsx("p",{className:"text-sm text-text-secondary",children:"估算豆包數量"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:ne,className:"px-3 py-1.5 text-xs font-medium rounded-lg border border-amber-500/30 text-amber-400 hover:bg-amber-500/10 hover:border-amber-500/50 transition-all duration-200 flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-400"}),"回復設定"]}),d.jsx("button",{onClick:()=>e(!1),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:d.jsx(LD,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-amber-400 to-orange-400 rounded-full"}),d.jsx("h3",{className:"text-lg font-bold text-primary",children:"計算模式"})]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/10 hover:border-amber-400/30 transition-all duration-200 cursor-pointer bg-gradient-to-br from-surface/40 to-surface/20",children:[d.jsx("input",{type:"radio",value:"bag",checked:s==="bag",onChange:O=>a(O.target.value),className:"text-amber-400 w-4 h-4"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),d.jsx("span",{className:"font-medium",children:"外包裝袋"})]})]}),d.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/10 hover:border-amber-400/30 transition-all duration-200 cursor-pointer bg-gradient-to-br from-surface/40 to-surface/20",children:[d.jsx("input",{type:"radio",value:"ikea",checked:s==="ikea",onChange:O=>a(O.target.value),className:"text-amber-400 w-4 h-4"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),d.jsx("span",{className:"font-medium",children:"IKEA 盒子"})]})]})]})]}),d.jsxs("div",{className:"space-y-4 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-400 to-purple-400 rounded-full"}),d.jsx("h3",{className:"text-lg font-bold text-primary",children:"重量設定"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-xl p-4 border border-white/10",children:[d.jsxs("label",{className:"block text-sm font-semibold mb-3 text-primary flex items-center gap-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),s==="bag"?"外包裝袋重量":"IKEA 盒重量"," (g)"]}),d.jsx("input",{type:"number",value:s==="bag"?p.bagWeight:p.ikeaBoxWeight,onChange:O=>P(s==="bag"?"bagWeight":"ikeaBoxWeight",O.target.value),className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all",placeholder:"輸入重量",inputMode:"decimal"})]}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-xl p-4 border border-white/10",children:[d.jsxs("label",{className:"block text-sm font-semibold mb-3 text-primary flex items-center gap-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"每包豆子重量 (g)"]}),d.jsx("input",{type:"number",value:p.beanWeightPerPack,onChange:O=>P("beanWeightPerPack",O.target.value),className:"input-field w-full text-sm py-2.5 px-3 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",placeholder:"輸入重量",inputMode:"decimal"})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("button",{onClick:N,className:"px-4 py-2.5 text-sm font-medium rounded-lg bg-gradient-to-r from-primary/20 to-purple-500/20 border border-primary/30 text-primary hover:from-primary/30 hover:to-purple-500/30 hover:border-primary/50 transition-all duration-200 flex items-center gap-2",children:[d.jsx(Yi,{className:"w-4 h-4"}),"新增計算欄位"]})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-green-400 to-emerald-400 rounded-full"}),d.jsx("h3",{className:"text-lg font-bold text-primary",children:"計算結果"})]}),y.map(O=>d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-4 border border-white/10 hover:border-primary/30 transition-all duration-200 hover:shadow-lg hover:shadow-primary/10",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("h5",{className:"font-semibold text-primary",children:["計算欄位 #",O.id]}),d.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/60"})]}),y.length>1&&d.jsx("button",{onClick:()=>k(O.id),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:d.jsx(qi,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-lg p-3 border border-white/10",children:[d.jsxs("label",{className:"block text-sm font-semibold mb-2 text-text-secondary flex items-center gap-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"總重量 (g)"]}),d.jsx("input",{type:"number",value:O.totalWeight,onChange:R=>Q(O.id,R.target.value),placeholder:"輸入總重量",className:"input-field w-full text-sm py-2 px-3 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"})]}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-lg p-3 border border-white/10",children:[d.jsxs("label",{className:"block text-sm font-semibold mb-2 text-text-secondary flex items-center gap-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"估算包數"]}),d.jsxs("div",{className:"w-full text-sm py-3 px-4 rounded-lg bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-400/30 text-center font-bold text-green-400 hover:border-green-500/50 transition-all",children:[O.estimatedPacks," 包"]})]})]})]},O.id))]})]})})]})}function YX(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),d.jsx("polyline",{points:"14,2 14,8 20,8"})]})}function qX(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}function JX(){const[t,e]=x.useState("");x.useState(!1);const[r,n]=x.useState(0),[i,s]=x.useState(!1),[a,o]=x.useState(""),[A,l]=x.useState(!1),u=[{value:"1",label:"1月"},{value:"2",label:"2月"},{value:"3",label:"3月"},{value:"4",label:"4月"},{value:"5",label:"5月"},{value:"6",label:"6月"},{value:"7",label:"7月"},{value:"8",label:"8月"},{value:"9",label:"9月"},{value:"10",label:"10月"},{value:"11",label:"11月"},{value:"12",label:"12月"}],c=g=>[31,28,31,30,31,30,31,31,30,31,30,31][parseInt(g)-1],f=()=>{if(!t)return;const g=`DailyReport_${t}_Month.zip`,m=`https://raw.githubusercontent.com/greedysisyphus/Brainless/main/public/reports/${g}`,p=document.createElement("a");p.href=m,p.download=g,document.body.appendChild(p),p.click(),document.body.removeChild(p)};return d.jsx("div",{className:"container-custom py-6",children:d.jsxs("div",{className:"max-w-2xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[d.jsx(YX,{className:"w-8 h-8 text-primary"}),d.jsx("h1",{className:"text-2xl font-bold mb-2 text-center",children:"報表生成器"})]}),d.jsx("div",{className:"mb-6",children:d.jsxs("blockquote",{className:"italic text-gray-400 text-center text-base",children:["「我愛改檔名」",d.jsx("span",{className:"block text-xs text-gray-500 mt-1 text-center",children:"— 紅葉"})]})})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("h2",{className:"text-lg font-semibold text-primary mb-4 flex items-center gap-2",children:[d.jsx(sE,{className:"w-5 h-5"}),"選擇月份"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-text-secondary",children:"選擇要生成日報表的月份"}),d.jsxs("select",{value:t,onChange:g=>e(g.target.value),className:"input-field w-full max-w-xs",children:[d.jsx("option",{value:"",children:"請選擇月份"}),u.map(g=>d.jsxs("option",{value:g.value,children:[g.label," (",c(g.value),"天)"]},g.value))]}),t&&d.jsxs("div",{className:"text-sm text-text-secondary",children:["將生成 ",c(t)," 個日報表檔案"]})]})]})}),d.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("h2",{className:"text-lg font-semibold text-primary mb-4 flex items-center gap-2",children:[d.jsx(qX,{className:"w-5 h-5"}),"生成日報表"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("p",{className:"text-sm text-text-secondary",children:"點擊下方按鈕開始生成整月日報表"}),d.jsx("button",{onClick:f,disabled:!t,className:"btn-primary w-full max-w-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"下載日報表"})]})]})}),a&&d.jsx("div",{className:"card backdrop-blur-sm bg-red-500/10 border border-red-500/30",children:d.jsxs("div",{className:"p-4 flex items-center gap-3",children:[d.jsx(UX,{className:"w-5 h-5 text-red-400"}),d.jsx("span",{className:"text-red-400",children:a})]})}),A&&d.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h3",{className:"text-lg font-semibold text-primary",children:"生成進度"}),d.jsxs("span",{className:"text-sm text-text-secondary",children:[Math.round(r),"%"]})]}),d.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:d.jsx("div",{className:"bg-gradient-to-r from-primary to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${r}%`}})}),i&&d.jsxs("div",{className:"mt-4 flex items-center gap-2 text-green-400",children:[d.jsx(EX,{className:"w-5 h-5"}),d.jsx("span",{children:"日報表生成完成！"})]})]})})]})]})})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zx=function(t,e){return zx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},zx(t,e)};function wi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");zx(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Wx=function(){return Wx=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Wx.apply(this,arguments)};function Rr(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{l(n.next(u))}catch(c){a(c)}}function A(u){try{l(n.throw(u))}catch(c){a(c)}}function l(u){u.done?s(u.value):i(u.value).then(o,A)}l((n=n.apply(t,[])).next())})}function Fr(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(u){return A([l,u])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Th(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var _s=function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),x0=function(t,e){return _s.fromClientRect(t,e.getBoundingClientRect())},ZX=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new _s(0,0,n,i)},b0=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Dt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},h2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eY=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Fh=0;Fh<h2.length;Fh++)eY[h2.charCodeAt(Fh)]=Fh;var g2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ic=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Uh=0;Uh<g2.length;Uh++)Ic[g2.charCodeAt(Uh)]=Uh;var tY=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=Ic[t.charCodeAt(n)],a=Ic[t.charCodeAt(n+1)],o=Ic[t.charCodeAt(n+2)],A=Ic[t.charCodeAt(n+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|A&63;return l},rY=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},nY=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Wo=5,aE=11,Ey=2,iY=aE-Wo,MD=65536>>Wo,sY=1<<Wo,_y=sY-1,aY=1024>>Wo,oY=MD+aY,AY=oY,lY=32,uY=AY+lY,cY=65536>>aE,dY=1<<iY,fY=dY-1,p2=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},hY=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},gY=function(t,e){var r=tY(t),n=Array.isArray(r)?nY(r):new Uint32Array(r),i=Array.isArray(r)?rY(r):new Uint16Array(r),s=24,a=p2(i,s/2,n[4]/2),o=n[5]===2?p2(i,(s+n[4])/2):hY(n,Math.ceil((s+n[4])/4));return new pY(n[0],n[1],n[2],n[3],a,o)},pY=function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Wo],r=(r<<Ey)+(e&_y),this.data[r];if(e<=65535)return r=this.index[MD+(e-55296>>Wo)],r=(r<<Ey)+(e&_y),this.data[r];if(e<this.highStart)return r=uY-cY+(e>>aE),r=this.index[r],r+=e>>Wo&fY,r=this.index[r],r=(r<<Ey)+(e&_y),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),m2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mY=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ph=0;Ph<m2.length;Ph++)mY[m2.charCodeAt(Ph)]=Ph;var vY="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",v2=50,yY=1,HD=2,VD=3,wY=4,xY=5,y2=7,KD=8,w2=9,fa=10,Xx=11,x2=12,Yx=13,bY=14,Sc=15,qx=16,Qh=17,sc=18,BY=19,b2=20,Jx=21,ac=22,Iy=23,KA=24,cn=25,Tc=26,Fc=27,$A=28,CY=29,Po=30,EY=31,Nh=32,kh=33,Zx=34,eb=35,tb=36,Rd=37,rb=38,Og=39,Dg=40,Sy=41,$D=42,_Y=43,IY=[9001,65288],GD="!",De="×",Oh="÷",nb=gY(vY),zi=[Po,tb],ib=[yY,HD,VD,xY],zD=[fa,KD],B2=[Fc,Tc],SY=ib.concat(zD),C2=[rb,Og,Dg,Zx,eb],TY=[Sc,Yx],FY=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(s,a){var o=nb.get(s);if(o>v2?(i.push(!0),o-=v2):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),r.push(qx);if(o===wY||o===Xx){if(a===0)return n.push(a),r.push(Po);var A=r[a-1];return SY.indexOf(A)===-1?(n.push(n[a-1]),r.push(A)):(n.push(a),r.push(Po))}if(n.push(a),o===EY)return r.push(e==="strict"?Jx:Rd);if(o===$D||o===CY)return r.push(Po);if(o===_Y)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(Rd):r.push(Po);r.push(o)}),[n,r,i]},Ty=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=r;s<=n.length;){s++;var a=n[s];if(a===e)return!0;if(a!==fa)break}if(i===fa)for(var s=r;s>0;){s--;var o=n[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var A=r;A<=n.length;){A++;var a=n[A];if(a===e)return!0;if(a!==fa)break}if(o!==fa)break}return!1},E2=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===fa)r--;else return n}return 0},UY=function(t,e,r,n,i){if(r[n]===0)return De;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return De;var a=s-1,o=s+1,A=e[s],l=a>=0?e[a]:0,u=e[o];if(A===HD&&u===VD)return De;if(ib.indexOf(A)!==-1)return GD;if(ib.indexOf(u)!==-1||zD.indexOf(u)!==-1)return De;if(E2(s,e)===KD)return Oh;if(nb.get(t[s])===Xx||(A===Nh||A===kh)&&nb.get(t[o])===Xx||A===y2||u===y2||A===w2||[fa,Yx,Sc].indexOf(A)===-1&&u===w2||[Qh,sc,BY,KA,$A].indexOf(u)!==-1||E2(s,e)===ac||Ty(Iy,ac,s,e)||Ty([Qh,sc],Jx,s,e)||Ty(x2,x2,s,e))return De;if(A===fa)return Oh;if(A===Iy||u===Iy)return De;if(u===qx||A===qx)return Oh;if([Yx,Sc,Jx].indexOf(u)!==-1||A===bY||l===tb&&TY.indexOf(A)!==-1||A===$A&&u===tb||u===b2||zi.indexOf(u)!==-1&&A===cn||zi.indexOf(A)!==-1&&u===cn||A===Fc&&[Rd,Nh,kh].indexOf(u)!==-1||[Rd,Nh,kh].indexOf(A)!==-1&&u===Tc||zi.indexOf(A)!==-1&&B2.indexOf(u)!==-1||B2.indexOf(A)!==-1&&zi.indexOf(u)!==-1||[Fc,Tc].indexOf(A)!==-1&&(u===cn||[ac,Sc].indexOf(u)!==-1&&e[o+1]===cn)||[ac,Sc].indexOf(A)!==-1&&u===cn||A===cn&&[cn,$A,KA].indexOf(u)!==-1)return De;if([cn,$A,KA,Qh,sc].indexOf(u)!==-1)for(var c=s;c>=0;){var f=e[c];if(f===cn)return De;if([$A,KA].indexOf(f)!==-1)c--;else break}if([Fc,Tc].indexOf(u)!==-1)for(var c=[Qh,sc].indexOf(A)!==-1?a:s;c>=0;){var f=e[c];if(f===cn)return De;if([$A,KA].indexOf(f)!==-1)c--;else break}if(rb===A&&[rb,Og,Zx,eb].indexOf(u)!==-1||[Og,Zx].indexOf(A)!==-1&&[Og,Dg].indexOf(u)!==-1||[Dg,eb].indexOf(A)!==-1&&u===Dg||C2.indexOf(A)!==-1&&[b2,Tc].indexOf(u)!==-1||C2.indexOf(u)!==-1&&A===Fc||zi.indexOf(A)!==-1&&zi.indexOf(u)!==-1||A===KA&&zi.indexOf(u)!==-1||zi.concat(cn).indexOf(A)!==-1&&u===ac&&IY.indexOf(t[o])===-1||zi.concat(cn).indexOf(u)!==-1&&A===sc)return De;if(A===Sy&&u===Sy){for(var g=r[s],m=1;g>0&&(g--,e[g]===Sy);)m++;if(m%2!==0)return De}return A===Nh&&u===kh?De:Oh},PY=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=FY(t,e.lineBreak),n=r[0],i=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[cn,Po,$D].indexOf(o)!==-1?Rd:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,A){return o&&t[A]>=19968&&t[A]<=40959}):void 0;return[n,i,a]},QY=function(){function t(e,r,n,i){this.codePoints=e,this.required=r===GD,this.start=n,this.end=i}return t.prototype.slice=function(){return Dt.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),NY=function(t,e){var r=b0(t),n=PY(r,e),i=n[0],s=n[1],a=n[2],o=r.length,A=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var u=De;l<o&&(u=UY(r,s,i,++l,a))===De;);if(u!==De||l===o){var c=new QY(r,u,A,l);return A=l,{value:c,done:!1}}return{done:!0,value:null}}}},kY=1,OY=2,vf=4,_2=8,Op=10,I2=47,ed=92,DY=9,jY=32,Dh=34,oc=61,RY=35,LY=36,MY=37,jh=39,Rh=40,Ac=41,HY=95,Jr=45,VY=33,KY=60,$Y=62,GY=64,zY=91,WY=93,XY=61,YY=123,Lh=63,qY=125,S2=124,JY=126,ZY=128,T2=65533,Fy=42,Do=43,eq=44,tq=58,rq=59,Ld=46,nq=0,iq=8,sq=11,aq=14,oq=31,Aq=127,Ci=-1,WD=48,XD=97,YD=101,lq=102,uq=117,cq=122,qD=65,JD=69,ZD=70,dq=85,fq=90,Pr=function(t){return t>=WD&&t<=57},hq=function(t){return t>=55296&&t<=57343},GA=function(t){return Pr(t)||t>=qD&&t<=ZD||t>=XD&&t<=lq},gq=function(t){return t>=XD&&t<=cq},pq=function(t){return t>=qD&&t<=fq},mq=function(t){return gq(t)||pq(t)},vq=function(t){return t>=ZY},Mh=function(t){return t===Op||t===DY||t===jY},Dp=function(t){return mq(t)||vq(t)||t===HY},F2=function(t){return Dp(t)||Pr(t)||t===Jr},yq=function(t){return t>=nq&&t<=iq||t===sq||t>=aq&&t<=oq||t===Aq},ra=function(t,e){return t!==ed?!1:e!==Op},Hh=function(t,e,r){return t===Jr?Dp(e)||ra(e,r):Dp(t)?!0:!!(t===ed&&ra(t,e))},Uy=function(t,e,r){return t===Do||t===Jr?Pr(e)?!0:e===Ld&&Pr(r):Pr(t===Ld?e:t)},wq=function(t){var e=0,r=1;(t[e]===Do||t[e]===Jr)&&(t[e]===Jr&&(r=-1),e++);for(var n=[];Pr(t[e]);)n.push(t[e++]);var i=n.length?parseInt(Dt.apply(void 0,n),10):0;t[e]===Ld&&e++;for(var s=[];Pr(t[e]);)s.push(t[e++]);var a=s.length,o=a?parseInt(Dt.apply(void 0,s),10):0;(t[e]===JD||t[e]===YD)&&e++;var A=1;(t[e]===Do||t[e]===Jr)&&(t[e]===Jr&&(A=-1),e++);for(var l=[];Pr(t[e]);)l.push(t[e++]);var u=l.length?parseInt(Dt.apply(void 0,l),10):0;return r*(i+o*Math.pow(10,-a))*Math.pow(10,A*u)},xq={type:2},bq={type:3},Bq={type:4},Cq={type:13},Eq={type:8},_q={type:21},Iq={type:9},Sq={type:10},Tq={type:11},Fq={type:12},Uq={type:14},Vh={type:23},Pq={type:1},Qq={type:25},Nq={type:24},kq={type:26},Oq={type:27},Dq={type:28},jq={type:29},Rq={type:31},sb={type:32},ej=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(b0(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==sb;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Dh:return this.consumeStringToken(Dh);case RY:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(F2(r)||ra(n,i)){var s=Hh(r,n,i)?OY:kY,a=this.consumeName();return{type:5,value:a,flags:s}}break;case LY:if(this.peekCodePoint(0)===oc)return this.consumeCodePoint(),Cq;break;case jh:return this.consumeStringToken(jh);case Rh:return xq;case Ac:return bq;case Fy:if(this.peekCodePoint(0)===oc)return this.consumeCodePoint(),Uq;break;case Do:if(Uy(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case eq:return Bq;case Jr:var o=e,A=this.peekCodePoint(0),l=this.peekCodePoint(1);if(Uy(o,A,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Hh(o,A,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===Jr&&l===$Y)return this.consumeCodePoint(),this.consumeCodePoint(),Nq;break;case Ld:if(Uy(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case I2:if(this.peekCodePoint(0)===Fy)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===Fy&&(u=this.consumeCodePoint(),u===I2))return this.consumeToken();if(u===Ci)return this.consumeToken()}break;case tq:return kq;case rq:return Oq;case KY:if(this.peekCodePoint(0)===VY&&this.peekCodePoint(1)===Jr&&this.peekCodePoint(2)===Jr)return this.consumeCodePoint(),this.consumeCodePoint(),Qq;break;case GY:var c=this.peekCodePoint(0),f=this.peekCodePoint(1),g=this.peekCodePoint(2);if(Hh(c,f,g)){var a=this.consumeName();return{type:7,value:a}}break;case zY:return Dq;case ed:if(ra(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case WY:return jq;case XY:if(this.peekCodePoint(0)===oc)return this.consumeCodePoint(),Eq;break;case YY:return Tq;case qY:return Fq;case uq:case dq:var m=this.peekCodePoint(0),p=this.peekCodePoint(1);return m===Do&&(GA(p)||p===Lh)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case S2:if(this.peekCodePoint(0)===oc)return this.consumeCodePoint(),Iq;if(this.peekCodePoint(0)===S2)return this.consumeCodePoint(),_q;break;case JY:if(this.peekCodePoint(0)===oc)return this.consumeCodePoint(),Sq;break;case Ci:return sb}return Mh(e)?(this.consumeWhiteSpace(),Rq):Pr(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Dp(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Dt(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();GA(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===Lh&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Dt.apply(void 0,e.map(function(A){return A===Lh?WD:A})),16),s=parseInt(Dt.apply(void 0,e.map(function(A){return A===Lh?ZD:A})),16);return{type:30,start:i,end:s}}var a=parseInt(Dt.apply(void 0,e),16);if(this.peekCodePoint(0)===Jr&&GA(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];GA(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var s=parseInt(Dt.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Rh?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Rh?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ci)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===jh||r===Dh){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ci||this.peekCodePoint(0)===Ac)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Vh)}for(;;){var i=this.consumeCodePoint();if(i===Ci||i===Ac)return{type:22,value:Dt.apply(void 0,e)};if(Mh(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ci||this.peekCodePoint(0)===Ac?(this.consumeCodePoint(),{type:22,value:Dt.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Vh);if(i===Dh||i===jh||i===Rh||yq(i))return this.consumeBadUrlRemnants(),Vh;if(i===ed)if(ra(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Vh;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;Mh(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Ac||e===Ci)return;ra(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=Dt.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===Ci||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===Op)return this._value.splice(0,n),Pq;if(i===ed){var s=this._value[n+1];s!==Ci&&s!==void 0&&(s===Op?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):ra(i,s)&&(r+=this.consumeStringSlice(n),r+=Dt(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=vf,n=this.peekCodePoint(0);for((n===Do||n===Jr)&&e.push(this.consumeCodePoint());Pr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===Ld&&Pr(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=_2;Pr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===JD||n===YD)&&((i===Do||i===Jr)&&Pr(s)||Pr(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=_2;Pr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[wq(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(Hh(i,s,a)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return i===MY?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(GA(e)){for(var r=Dt(e);GA(this.peekCodePoint(0))&&r.length<6;)r+=Dt(this.consumeCodePoint());Mh(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||hq(n)||n>1114111?T2:n}return e===Ci?T2:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(F2(r))e+=Dt(r);else if(ra(r,this.peekCodePoint(0)))e+=Dt(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),tj=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new ej;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||Mq(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?sb:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),yf=function(t){return t.type===15},bu=function(t){return t.type===17},Ze=function(t){return t.type===20},Lq=function(t){return t.type===0},ab=function(t,e){return Ze(t)&&t.value===e},rj=function(t){return t.type!==31},eu=function(t){return t.type!==31&&t.type!==4},Hi=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},Mq=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},za=function(t){return t.type===17||t.type===15},Ht=function(t){return t.type===16||za(t)},nj=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},wr={type:17,number:0,flags:vf},oE={type:16,number:50,flags:vf},ha={type:16,number:100,flags:vf},Uc=function(t,e,r){var n=t[0],i=t[1];return[ot(n,e),ot(typeof i<"u"?i:n,r)]},ot=function(t,e){if(t.type===16)return t.number/100*e;if(yf(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},ij="deg",sj="grad",aj="rad",oj="turn",B0={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case ij:return Math.PI*e.number/180;case sj:return Math.PI/200*e.number;case aj:return e.number;case oj:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Aj=function(t){return t.type===15&&(t.unit===ij||t.unit===sj||t.unit===aj||t.unit===oj)},lj=function(t){var e=t.filter(Ze).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[wr,wr];case"to top":case"bottom":return Gn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[wr,ha];case"to right":case"left":return Gn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ha,ha];case"to bottom":case"top":return Gn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ha,wr];case"to left":case"right":return Gn(270)}return 0},Gn=function(t){return Math.PI*t/180},Pa={name:"color",parse:function(t,e){if(e.type===18){var r=Hq[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return ga(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return ga(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return ga(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return ga(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=ps[e.value.toUpperCase()];if(typeof o<"u")return o}return ps.TRANSPARENT}},Qa=function(t){return(255&t)===0},nr=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},ga=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},U2=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},P2=function(t,e){var r=e.filter(eu);if(r.length===3){var n=r.map(U2),i=n[0],s=n[1],a=n[2];return ga(i,s,a,1)}if(r.length===4){var o=r.map(U2),i=o[0],s=o[1],a=o[2],A=o[3];return ga(i,s,a,A)}return 0};function Py(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var Q2=function(t,e){var r=e.filter(eu),n=r[0],i=r[1],s=r[2],a=r[3],o=(n.type===17?Gn(n.number):B0.parse(t,n))/(Math.PI*2),A=Ht(i)?i.number/100:0,l=Ht(s)?s.number/100:0,u=typeof a<"u"&&Ht(a)?ot(a,1):1;if(A===0)return ga(l*255,l*255,l*255,1);var c=l<=.5?l*(A+1):l+A-l*A,f=l*2-c,g=Py(f,c,o+1/3),m=Py(f,c,o),p=Py(f,c,o-1/3);return ga(g*255,m*255,p*255,u)},Hq={hsl:Q2,hsla:Q2,rgb:P2,rgba:P2},td=function(t,e){return Pa.parse(t,tj.create(e).parseComponentValue())},ps={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Vq={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Ze(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Kq={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},C0=function(t,e){var r=Pa.parse(t,e[0]),n=e[1];return n&&Ht(n)?{color:r,stop:n}:{color:r,stop:null}},N2=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=wr),n.stop===null&&(n.stop=ha);for(var i=[],s=0,a=0;a<t.length;a++){var o=t[a].stop;if(o!==null){var A=ot(o,e);A>s?i.push(A):i.push(s),s=A}else i.push(null)}for(var l=null,a=0;a<i.length;a++){var u=i[a];if(u===null)l===null&&(l=a);else if(l!==null){for(var c=a-l,f=i[l-1],g=(u-f)/(c+1),m=1;m<=c;m++)i[l+m-1]=g*m;l=null}}return t.map(function(p,v){var y=p.color;return{color:y,stop:Math.max(Math.min(1,i[v]/e),0)}})},$q=function(t,e,r){var n=e/2,i=r/2,s=ot(t[0],e)-n,a=i-ot(t[1],r);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},Gq=function(t,e,r){var n=typeof t=="number"?t:$q(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,a=r/2,o=i/2,A=Math.sin(n-Math.PI/2)*o,l=Math.cos(n-Math.PI/2)*o;return[i,s-l,s+l,a-A,a+A]},Ai=function(t,e){return Math.sqrt(t*t+e*e)},k2=function(t,e,r,n,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(a,o){var A=o[0],l=o[1],u=Ai(r-A,n-l);return(i?u<a.optimumDistance:u>a.optimumDistance)?{optimumCorner:o,optimumDistance:u}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},zq=function(t,e,r,n,i){var s=0,a=0;switch(t.size){case 0:t.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)s=a=Math.min(Ai(e,r),Ai(e,r-i),Ai(e-n,r),Ai(e-n,r-i));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),A=k2(n,i,e,r,!0),l=A[0],u=A[1];s=Ai(l-e,(u-r)/o),a=o*s}break;case 1:t.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)s=a=Math.max(Ai(e,r),Ai(e,r-i),Ai(e-n,r),Ai(e-n,r-i));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),c=k2(n,i,e,r,!1),l=c[0],u=c[1];s=Ai(l-e,(u-r)/o),a=o*s}break}return Array.isArray(t.size)&&(s=ot(t.size[0],n),a=t.size.length===2?ot(t.size[1],i):s),[s,a]},Wq=function(t,e){var r=Gn(180),n=[];return Hi(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){r=lj(i);return}else if(Aj(a)){r=B0.parse(t,a);return}}var o=C0(t,i);n.push(o)}),{angle:r,stops:n,type:1}},Kh=function(t,e){var r=Gn(180),n=[];return Hi(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=lj(i);return}else if(Aj(a)){r=(B0.parse(t,a)+Gn(270))%Gn(360);return}}var o=C0(t,i);n.push(o)}),{angle:r,stops:n,type:1}},Xq=function(t,e){var r=Gn(180),n=[],i=1,s=0,a=3,o=[];return Hi(e).forEach(function(A,l){var u=A[0];if(l===0){if(Ze(u)&&u.value==="linear"){i=1;return}else if(Ze(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var c=Pa.parse(t,u.values[0]);n.push({stop:wr,color:c})}else if(u.name==="to"){var c=Pa.parse(t,u.values[0]);n.push({stop:ha,color:c})}else if(u.name==="color-stop"){var f=u.values.filter(eu);if(f.length===2){var c=Pa.parse(t,f[1]),g=f[0];bu(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:c})}}}}),i===1?{angle:(r+Gn(180))%Gn(360),stops:n,type:i}:{size:a,shape:s,stops:n,position:o,type:i}},uj="closest-side",cj="farthest-side",dj="closest-corner",fj="farthest-corner",hj="circle",gj="ellipse",pj="cover",mj="contain",Yq=function(t,e){var r=0,n=3,i=[],s=[];return Hi(e).forEach(function(a,o){var A=!0;if(o===0){var l=!1;A=a.reduce(function(c,f){if(l)if(Ze(f))switch(f.value){case"center":return s.push(oE),c;case"top":case"left":return s.push(wr),c;case"right":case"bottom":return s.push(ha),c}else(Ht(f)||za(f))&&s.push(f);else if(Ze(f))switch(f.value){case hj:return r=0,!1;case gj:return r=1,!1;case"at":return l=!0,!1;case uj:return n=0,!1;case pj:case cj:return n=1,!1;case mj:case dj:return n=2,!1;case fj:return n=3,!1}else if(za(f)||Ht(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return c},A)}if(A){var u=C0(t,a);i.push(u)}}),{size:n,shape:r,stops:i,position:s,type:2}},$h=function(t,e){var r=0,n=3,i=[],s=[];return Hi(e).forEach(function(a,o){var A=!0;if(o===0?A=a.reduce(function(u,c){if(Ze(c))switch(c.value){case"center":return s.push(oE),!1;case"top":case"left":return s.push(wr),!1;case"right":case"bottom":return s.push(ha),!1}else if(Ht(c)||za(c))return s.push(c),!1;return u},A):o===1&&(A=a.reduce(function(u,c){if(Ze(c))switch(c.value){case hj:return r=0,!1;case gj:return r=1,!1;case mj:case uj:return n=0,!1;case cj:return n=1,!1;case dj:return n=2,!1;case pj:case fj:return n=3,!1}else if(za(c)||Ht(c))return Array.isArray(n)||(n=[]),n.push(c),!1;return u},A)),A){var l=C0(t,a);i.push(l)}}),{size:n,shape:r,stops:i,position:s,type:2}},qq=function(t){return t.type===1},Jq=function(t){return t.type===2},AE={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=vj[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function Zq(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!vj[t.name])}var vj={"linear-gradient":Wq,"-moz-linear-gradient":Kh,"-ms-linear-gradient":Kh,"-o-linear-gradient":Kh,"-webkit-linear-gradient":Kh,"radial-gradient":Yq,"-moz-radial-gradient":$h,"-ms-radial-gradient":$h,"-o-radial-gradient":$h,"-webkit-radial-gradient":$h,"-webkit-gradient":Xq},eJ={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return eu(n)&&Zq(n)}).map(function(n){return AE.parse(t,n)})}},tJ={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Ze(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},rJ={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Hi(e).map(function(r){return r.filter(Ht)}).map(nj)}},nJ={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Hi(e).map(function(r){return r.filter(Ze).map(function(n){return n.value}).join(" ")}).map(iJ)}},iJ=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ul;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Ul||(Ul={}));var sJ={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Hi(e).map(function(r){return r.filter(aJ)})}},aJ=function(t){return Ze(t)||Ht(t)},E0=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},oJ=E0("top"),AJ=E0("right"),lJ=E0("bottom"),uJ=E0("left"),_0=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return nj(r.filter(Ht))}}},cJ=_0("top-left"),dJ=_0("top-right"),fJ=_0("bottom-right"),hJ=_0("bottom-left"),I0=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},gJ=I0("top"),pJ=I0("right"),mJ=I0("bottom"),vJ=I0("left"),S0=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return yf(r)?r.number:0}}},yJ=S0("top"),wJ=S0("right"),xJ=S0("bottom"),bJ=S0("left"),BJ={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},CJ={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},EJ={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Ze).reduce(function(r,n){return r|_J(n.value)},0)}},_J=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},IJ={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},SJ={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},jp;(function(t){t.NORMAL="normal",t.STRICT="strict"})(jp||(jp={}));var TJ={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return jp.STRICT;case"normal":default:return jp.NORMAL}}},FJ={name:"line-height",initialValue:"normal",prefix:!1,type:4},O2=function(t,e){return Ze(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Ht(t)?ot(t,e):e},UJ={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:AE.parse(t,e)}},PJ={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},ob={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},T0=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},QJ=T0("top"),NJ=T0("right"),kJ=T0("bottom"),OJ=T0("left"),DJ={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Ze).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},jJ={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},F0=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},RJ=F0("top"),LJ=F0("right"),MJ=F0("bottom"),HJ=F0("left"),VJ={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},KJ={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},$J={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&ab(e[0],"none")?[]:Hi(e).map(function(r){for(var n={color:ps.TRANSPARENT,offsetX:wr,offsetY:wr,blur:wr},i=0,s=0;s<r.length;s++){var a=r[s];za(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:n.blur=a,i++):n.color=Pa.parse(t,a)}return n})}},GJ={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},zJ={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=YJ[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},WJ=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},XJ=function(t){var e=t.filter(function(A){return A.type===17}).map(function(A){return A.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,i,s,a,o]:null},YJ={matrix:WJ,matrix3d:XJ},D2={type:16,number:50,flags:vf},qJ=[D2,D2],JJ={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Ht);return r.length!==2?qJ:[r[0],r[1]]}},ZJ={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},rd;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(rd||(rd={}));var eZ={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return rd.BREAK_ALL;case"keep-all":return rd.KEEP_ALL;case"normal":default:return rd.NORMAL}}},tZ={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(bu(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},yj={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},rZ={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return bu(e)?e.number:1}},nZ={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},iZ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Ze).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},sZ={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},aZ={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},oZ={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(bu(e))return e.number;if(Ze(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},AZ={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Ze).map(function(r){return r.value})}},lZ={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Wt=function(t,e){return(t&e)!==0},uZ={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},cZ={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(rj),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var A=o&&bu(o)?o.number:1;n.push({counter:a.value,increment:A})}}return n}},dZ={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(rj),i=0;i<n.length;i++){var s=n[i],a=n[i+1];if(Ze(s)&&s.value!=="none"){var o=a&&bu(a)?a.number:0;r.push({counter:s.value,reset:o})}}return r}},fZ={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(yf).map(function(r){return yj.parse(t,r)})}},hZ={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(Lq);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;n.push({open:a,close:o})}return n}},j2=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},gZ={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&ab(e[0],"none")?[]:Hi(e).map(function(r){for(var n={color:255,offsetX:wr,offsetY:wr,blur:wr,spread:wr,inset:!1},i=0,s=0;s<r.length;s++){var a=r[s];ab(a,"inset")?n.inset=!0:za(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:i===2?n.blur=a:n.spread=a,i++):n.color=Pa.parse(t,a)}return n})}},pZ={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(Ze).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},mZ={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},vZ={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return yf(e)?e.number:0}},yZ=function(){function t(e,r){var n,i;this.animationDuration=de(e,fZ,r.animationDuration),this.backgroundClip=de(e,Vq,r.backgroundClip),this.backgroundColor=de(e,Kq,r.backgroundColor),this.backgroundImage=de(e,eJ,r.backgroundImage),this.backgroundOrigin=de(e,tJ,r.backgroundOrigin),this.backgroundPosition=de(e,rJ,r.backgroundPosition),this.backgroundRepeat=de(e,nJ,r.backgroundRepeat),this.backgroundSize=de(e,sJ,r.backgroundSize),this.borderTopColor=de(e,oJ,r.borderTopColor),this.borderRightColor=de(e,AJ,r.borderRightColor),this.borderBottomColor=de(e,lJ,r.borderBottomColor),this.borderLeftColor=de(e,uJ,r.borderLeftColor),this.borderTopLeftRadius=de(e,cJ,r.borderTopLeftRadius),this.borderTopRightRadius=de(e,dJ,r.borderTopRightRadius),this.borderBottomRightRadius=de(e,fJ,r.borderBottomRightRadius),this.borderBottomLeftRadius=de(e,hJ,r.borderBottomLeftRadius),this.borderTopStyle=de(e,gJ,r.borderTopStyle),this.borderRightStyle=de(e,pJ,r.borderRightStyle),this.borderBottomStyle=de(e,mJ,r.borderBottomStyle),this.borderLeftStyle=de(e,vJ,r.borderLeftStyle),this.borderTopWidth=de(e,yJ,r.borderTopWidth),this.borderRightWidth=de(e,wJ,r.borderRightWidth),this.borderBottomWidth=de(e,xJ,r.borderBottomWidth),this.borderLeftWidth=de(e,bJ,r.borderLeftWidth),this.boxShadow=de(e,gZ,r.boxShadow),this.color=de(e,BJ,r.color),this.direction=de(e,CJ,r.direction),this.display=de(e,EJ,r.display),this.float=de(e,IJ,r.cssFloat),this.fontFamily=de(e,sZ,r.fontFamily),this.fontSize=de(e,aZ,r.fontSize),this.fontStyle=de(e,lZ,r.fontStyle),this.fontVariant=de(e,AZ,r.fontVariant),this.fontWeight=de(e,oZ,r.fontWeight),this.letterSpacing=de(e,SJ,r.letterSpacing),this.lineBreak=de(e,TJ,r.lineBreak),this.lineHeight=de(e,FJ,r.lineHeight),this.listStyleImage=de(e,UJ,r.listStyleImage),this.listStylePosition=de(e,PJ,r.listStylePosition),this.listStyleType=de(e,ob,r.listStyleType),this.marginTop=de(e,QJ,r.marginTop),this.marginRight=de(e,NJ,r.marginRight),this.marginBottom=de(e,kJ,r.marginBottom),this.marginLeft=de(e,OJ,r.marginLeft),this.opacity=de(e,rZ,r.opacity);var s=de(e,DJ,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=de(e,jJ,r.overflowWrap),this.paddingTop=de(e,RJ,r.paddingTop),this.paddingRight=de(e,LJ,r.paddingRight),this.paddingBottom=de(e,MJ,r.paddingBottom),this.paddingLeft=de(e,HJ,r.paddingLeft),this.paintOrder=de(e,pZ,r.paintOrder),this.position=de(e,KJ,r.position),this.textAlign=de(e,VJ,r.textAlign),this.textDecorationColor=de(e,nZ,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=de(e,iZ,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=de(e,$J,r.textShadow),this.textTransform=de(e,GJ,r.textTransform),this.transform=de(e,zJ,r.transform),this.transformOrigin=de(e,JJ,r.transformOrigin),this.visibility=de(e,ZJ,r.visibility),this.webkitTextStrokeColor=de(e,mZ,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=de(e,vZ,r.webkitTextStrokeWidth),this.wordBreak=de(e,eZ,r.wordBreak),this.zIndex=de(e,tZ,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Qa(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Wt(this.display,4)||Wt(this.display,33554432)||Wt(this.display,268435456)||Wt(this.display,536870912)||Wt(this.display,67108864)||Wt(this.display,134217728)},t}(),wZ=function(){function t(e,r){this.content=de(e,uZ,r.content),this.quotes=de(e,hZ,r.quotes)}return t}(),R2=function(){function t(e,r){this.counterIncrement=de(e,cZ,r.counterIncrement),this.counterReset=de(e,dZ,r.counterReset)}return t}(),de=function(t,e,r){var n=new ej,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var s=new tj(n.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(t,Ze(a)?a.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return B0.parse(t,s.parseComponentValue());case"color":return Pa.parse(t,s.parseComponentValue());case"image":return AE.parse(t,s.parseComponentValue());case"length":var o=s.parseComponentValue();return za(o)?o:wr;case"length-percentage":var A=s.parseComponentValue();return Ht(A)?A:wr;case"time":return yj.parse(t,s.parseComponentValue())}break}},xZ="data-html2canvas-debug",bZ=function(t){var e=t.getAttribute(xZ);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Ab=function(t,e){var r=bZ(t);return r===1||e===r},Vi=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Ab(r,3))debugger;this.styles=new yZ(e,window.getComputedStyle(r,null)),cb(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=x0(this.context,r),Ab(r,4)&&(this.flags|=16)}return t}(),BZ="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",L2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Gh=0;Gh<L2.length;Gh++)Pc[L2.charCodeAt(Gh)]=Gh;var CZ=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=Pc[t.charCodeAt(n)],a=Pc[t.charCodeAt(n+1)],o=Pc[t.charCodeAt(n+2)],A=Pc[t.charCodeAt(n+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|A&63;return l},EZ=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},_Z=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Xo=5,lE=11,Qy=2,IZ=lE-Xo,wj=65536>>Xo,SZ=1<<Xo,Ny=SZ-1,TZ=1024>>Xo,FZ=wj+TZ,UZ=FZ,PZ=32,QZ=UZ+PZ,NZ=65536>>lE,kZ=1<<IZ,OZ=kZ-1,M2=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},DZ=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},jZ=function(t,e){var r=CZ(t),n=Array.isArray(r)?_Z(r):new Uint32Array(r),i=Array.isArray(r)?EZ(r):new Uint16Array(r),s=24,a=M2(i,s/2,n[4]/2),o=n[5]===2?M2(i,(s+n[4])/2):DZ(n,Math.ceil((s+n[4])/4));return new RZ(n[0],n[1],n[2],n[3],a,o)},RZ=function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Xo],r=(r<<Qy)+(e&Ny),this.data[r];if(e<=65535)return r=this.index[wj+(e-55296>>Xo)],r=(r<<Qy)+(e&Ny),this.data[r];if(e<this.highStart)return r=QZ-NZ+(e>>lE),r=this.index[r],r+=e>>Xo&OZ,r=this.index[r],r=(r<<Qy)+(e&Ny),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),H2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",LZ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var zh=0;zh<H2.length;zh++)LZ[H2.charCodeAt(zh)]=zh;var MZ=1,ky=2,Oy=3,V2=4,K2=5,HZ=7,$2=8,Dy=9,jy=10,G2=11,z2=12,W2=13,X2=14,Ry=15,VZ=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},KZ=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},$Z=jZ(BZ),Dn="×",Ly="÷",GZ=function(t){return $Z.get(t)},zZ=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],a=e[r];if(s===ky&&a===Oy)return Dn;if(s===ky||s===Oy||s===V2||a===ky||a===Oy||a===V2)return Ly;if(s===$2&&[$2,Dy,G2,z2].indexOf(a)!==-1||(s===G2||s===Dy)&&(a===Dy||a===jy)||(s===z2||s===jy)&&a===jy||a===W2||a===K2||a===HZ||s===MZ)return Dn;if(s===W2&&a===X2){for(;i===K2;)i=e[--n];if(i===X2)return Dn}if(s===Ry&&a===Ry){for(var o=0;i===Ry;)o++,i=e[--n];if(o%2===0)return Dn}return Ly},WZ=function(t){var e=VZ(t),r=e.length,n=0,i=0,s=e.map(GZ);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=Dn;n<r&&(a=zZ(e,s,++n))===Dn;);if(a!==Dn||n===r){var o=KZ.apply(null,e.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},XZ=function(t){for(var e=WZ(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},YZ=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(n),s===e)return!0}}return!1},qZ=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=b0(n.data).map(function(A){return Dt(A)}),s=0,a={},o=i.every(function(A,l){r.setStart(n,s),r.setEnd(n,s+A.length);var u=r.getBoundingClientRect();s+=A.length;var c=u.x>a.x||u.y>a.y;return a=u,l===0?!0:c});return t.body.removeChild(e),o},JZ=function(){return typeof new Image().crossOrigin<"u"},ZZ=function(){return typeof new XMLHttpRequest().responseType=="string"},eee=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},Y2=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},tee=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var a=lb(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),q2(a).then(function(o){n.drawImage(o,0,0);var A=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var l=t.createElement("div");return l.style.backgroundImage="url("+s+")",l.style.height=r+"px",Y2(A)?q2(lb(r,r,0,0,l)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),Y2(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},lb=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},q2=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},pr={get SUPPORT_RANGE_BOUNDS(){var t=YZ(document);return Object.defineProperty(pr,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=pr.SUPPORT_RANGE_BOUNDS&&qZ(document);return Object.defineProperty(pr,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=eee(document);return Object.defineProperty(pr,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?tee(document):Promise.resolve(!1);return Object.defineProperty(pr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=JZ();return Object.defineProperty(pr,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=ZZ();return Object.defineProperty(pr,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(pr,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(pr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},nd=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),ree=function(t,e,r,n){var i=see(e,r),s=[],a=0;return i.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(pr.SUPPORT_RANGE_BOUNDS){var A=J2(n,a,o.length).getClientRects();if(A.length>1){var l=uE(o),u=0;l.forEach(function(f){s.push(new nd(f,_s.fromDOMRectList(t,J2(n,u+a,f.length).getClientRects()))),u+=f.length})}else s.push(new nd(o,_s.fromDOMRectList(t,A)))}else{var c=n.splitText(o.length);s.push(new nd(o,nee(t,n))),n=c}else pr.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),s},nee=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=x0(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return _s.EMPTY},J2=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},uE=function(t){if(pr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return XZ(t)},iee=function(t,e){if(pr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return oee(t,e)},see=function(t,e){return e.letterSpacing!==0?uE(t):iee(t,e)},aee=[32,160,4961,65792,65793,4153,4241],oee=function(t,e){for(var r=NY(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var a=i.value.slice(),o=b0(a),A="";o.forEach(function(l){aee.indexOf(l)===-1?A+=Dt(l):(A.length&&n.push(A),n.push(Dt(l)),A="")}),A.length&&n.push(A)}};!(i=r.next()).done;)s();return n},Aee=function(){function t(e,r,n){this.text=lee(r.data,n.textTransform),this.textBounds=ree(e,this.text,n,r)}return t}(),lee=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(uee,cee);case 2:return t.toUpperCase();default:return t}},uee=/(^|\s|:|-|\(|\))([a-z])/g,cee=function(t,e,r){return t.length>0?e+r.toUpperCase():t},xj=function(t){wi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Vi),bj=function(t){wi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(Vi),Bj=function(t){wi(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=new XMLSerializer,a=x0(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Vi),Cj=function(t){wi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Vi),ub=function(t){wi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(Vi),dee=[{type:15,flags:0,unit:"px",number:3}],fee=[{type:16,flags:0,number:50}],hee=function(t){return t.width>t.height?new _s(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new _s(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},gee=function(t){var e=t.type===pee?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},Rp="checkbox",Lp="radio",pee="password",Z2=707406591,cE=function(t){wi(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=gee(n),(i.type===Rp||i.type===Lp)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=hee(i.bounds)),i.type){case Rp:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=dee;break;case Lp:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=fee;break}return i}return e}(Vi),Ej=function(t){wi(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(Vi),_j=function(t){wi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Vi),Ij=function(t){wi(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=Tj(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?td(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):ps.TRANSPARENT,a=n.contentWindow.document.body?td(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):ps.TRANSPARENT;i.backgroundColor=Qa(s)?Qa(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e}(Vi),mee=["OL","UL","MENU"],jg=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,Fj(i)&&i.data.trim().length>0)r.textNodes.push(new Aee(t,i,r.styles));else if(vl(i))if(Nj(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return jg(t,o,r,n)});else{var a=Sj(t,i);a.styles.isVisible()&&(vee(i,a,n)?a.flags|=4:yee(a.styles)&&(a.flags|=2),mee.indexOf(i.tagName)!==-1&&(a.flags|=8),r.elements.push(a),i.slot,i.shadowRoot?jg(t,i.shadowRoot,a,n):!Mp(i)&&!Uj(i)&&!Hp(i)&&jg(t,i,a,n))}},Sj=function(t,e){return db(e)?new xj(t,e):Pj(e)?new bj(t,e):Uj(e)?new Bj(t,e):wee(e)?new Cj(t,e):xee(e)?new ub(t,e):bee(e)?new cE(t,e):Hp(e)?new Ej(t,e):Mp(e)?new _j(t,e):Qj(e)?new Ij(t,e):new Vi(t,e)},Tj=function(t,e){var r=Sj(t,e);return r.flags|=4,jg(t,e,r,r),r},vee=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||dE(t)&&r.styles.isTransparent()},yee=function(t){return t.isPositioned()||t.isFloating()},Fj=function(t){return t.nodeType===Node.TEXT_NODE},vl=function(t){return t.nodeType===Node.ELEMENT_NODE},cb=function(t){return vl(t)&&typeof t.style<"u"&&!Rg(t)},Rg=function(t){return typeof t.className=="object"},wee=function(t){return t.tagName==="LI"},xee=function(t){return t.tagName==="OL"},bee=function(t){return t.tagName==="INPUT"},Bee=function(t){return t.tagName==="HTML"},Uj=function(t){return t.tagName==="svg"},dE=function(t){return t.tagName==="BODY"},Pj=function(t){return t.tagName==="CANVAS"},eF=function(t){return t.tagName==="VIDEO"},db=function(t){return t.tagName==="IMG"},Qj=function(t){return t.tagName==="IFRAME"},tF=function(t){return t.tagName==="STYLE"},Cee=function(t){return t.tagName==="SCRIPT"},Mp=function(t){return t.tagName==="TEXTAREA"},Hp=function(t){return t.tagName==="SELECT"},Nj=function(t){return t.tagName==="SLOT"},rF=function(t){return t.tagName.indexOf("-")>0},Eee=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(o){var A=r.counters[o.counter];A&&o.increment!==0&&(s=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var A=r.counters[o.counter];a.push(o.counter),A||(A=r.counters[o.counter]=[]),A.push(o.reset)}),a},t}(),nF={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},iF={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},_ee={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Iee={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},zA=function(t,e,r,n,i,s){return t<e||t>r?Md(t,i,s.length>0):n.integers.reduce(function(a,o,A){for(;t>=o;)t-=o,a+=n.values[A];return a},"")+s},kj=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},Ot=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(kj(Math.abs(t),s,n,function(a){return Dt(Math.floor(a%s)+e)})+i)},wo=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return kj(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},rl=1,Js=2,Zs=4,Qc=8,Wi=function(t,e,r,n,i,s){if(t<-9999||t>9999)return Md(t,4,i.length>0);var a=Math.abs(t),o=i;if(a===0)return e[0]+o;for(var A=0;a>0&&A<=4;A++){var l=a%10;l===0&&Wt(s,rl)&&o!==""?o=e[l]+o:l>1||l===1&&A===0||l===1&&A===1&&Wt(s,Js)||l===1&&A===1&&Wt(s,Zs)&&t>100||l===1&&A>1&&Wt(s,Qc)?o=e[l]+(A>0?r[A-1]:"")+o:l===1&&A>0&&(o=r[A-1]+o),a=Math.floor(a/10)}return(t<0?n:"")+o},sF="十百千萬",aF="拾佰仟萬",oF="マイナス",My="마이너스",Md=function(t,e,r){var n=r?". ":"",i=r?"、":"",s=r?", ":"",a=r?" ":"";switch(e){case 0:return"•"+a;case 1:return"◦"+a;case 2:return"◾"+a;case 5:var o=Ot(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return wo(t,"〇一二三四五六七八九",i);case 6:return zA(t,1,3999,nF,3,n).toLowerCase();case 7:return zA(t,1,3999,nF,3,n);case 8:return Ot(t,945,969,!1,n);case 9:return Ot(t,97,122,!1,n);case 10:return Ot(t,65,90,!1,n);case 11:return Ot(t,1632,1641,!0,n);case 12:case 49:return zA(t,1,9999,iF,3,n);case 35:return zA(t,1,9999,iF,3,n).toLowerCase();case 13:return Ot(t,2534,2543,!0,n);case 14:case 30:return Ot(t,6112,6121,!0,n);case 15:return wo(t,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return wo(t,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return Wi(t,"零一二三四五六七八九",sF,"負",i,Js|Zs|Qc);case 47:return Wi(t,"零壹貳參肆伍陸柒捌玖",aF,"負",i,rl|Js|Zs|Qc);case 42:return Wi(t,"零一二三四五六七八九",sF,"负",i,Js|Zs|Qc);case 41:return Wi(t,"零壹贰叁肆伍陆柒捌玖",aF,"负",i,rl|Js|Zs|Qc);case 26:return Wi(t,"〇一二三四五六七八九","十百千万",oF,i,0);case 25:return Wi(t,"零壱弐参四伍六七八九","拾百千万",oF,i,rl|Js|Zs);case 31:return Wi(t,"영일이삼사오육칠팔구","십백천만",My,s,rl|Js|Zs);case 33:return Wi(t,"零一二三四五六七八九","十百千萬",My,s,0);case 32:return Wi(t,"零壹貳參四五六七八九","拾百千",My,s,rl|Js|Zs);case 18:return Ot(t,2406,2415,!0,n);case 20:return zA(t,1,19999,Iee,3,n);case 21:return Ot(t,2790,2799,!0,n);case 22:return Ot(t,2662,2671,!0,n);case 22:return zA(t,1,10999,_ee,3,n);case 23:return wo(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return wo(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Ot(t,3302,3311,!0,n);case 28:return wo(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return wo(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return Ot(t,3792,3801,!0,n);case 37:return Ot(t,6160,6169,!0,n);case 38:return Ot(t,4160,4169,!0,n);case 39:return Ot(t,2918,2927,!0,n);case 40:return Ot(t,1776,1785,!0,n);case 43:return Ot(t,3046,3055,!0,n);case 44:return Ot(t,3174,3183,!0,n);case 45:return Ot(t,3664,3673,!0,n);case 46:return Ot(t,3872,3881,!0,n);case 3:default:return Ot(t,48,57,!0,n)}},Oj="data-html2canvas-ignore",AF=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Eee,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=See(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,A=o.document,l=Uee(i).then(function(){return Rr(n,void 0,void 0,function(){var u,c;return Fr(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(kee),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),u=this.options.onclone,c=this.clonedReferenceElement,typeof c>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Fee(A)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(A,c)}).then(function(){return i})]:[2,i]}})})});return A.open(),A.write(Qee(document.doctype)+"<html></html>"),Nee(this.referenceElement.ownerDocument,s,a),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),l},t.prototype.createElementClone=function(e){if(Ab(e,2))debugger;if(Pj(e))return this.createCanvasClone(e);if(eF(e))return this.createVideoClone(e);if(tF(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return db(r)&&(db(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),rF(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return Hy(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var A=o.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!vl(r)||!Cee(r)&&!r.hasAttribute(Oj)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!vl(r)||!tF(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(vl(s)&&Nj(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(r,o,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(Fj(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&vl(e)&&(cb(e)||Rg(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&cb(i)&&(this.clonedReferenceElement=i),dE(i)&&jee(i);var A=this.counters.parse(new R2(this.context,s)),l=this.resolvePseudoContent(e,i,a,id.BEFORE);rF(e)&&(r=!0),eF(e)||this.cloneChildNodes(e,i,r),l&&i.insertBefore(l,i.firstChild);var u=this.resolvePseudoContent(e,i,o,id.AFTER);return u&&i.appendChild(u),this.counters.pop(A),(s&&(this.options.copyStyles||Rg(e))&&!Qj(e)||r)&&Hy(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(Mp(e)||Hp(e))&&(Mp(i)||Hp(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var s=this;if(n){var a=n.content,o=r.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new R2(this.context,n));var A=new wZ(this.context,n),l=o.createElement("html2canvaspseudoelement");Hy(n,l),A.content.forEach(function(c){if(c.type===0)l.appendChild(o.createTextNode(c.value));else if(c.type===22){var f=o.createElement("img");f.src=c.value,f.style.opacity="1",l.appendChild(f)}else if(c.type===18){if(c.name==="attr"){var g=c.values.filter(Ze);g.length&&l.appendChild(o.createTextNode(e.getAttribute(g[0].value)||""))}else if(c.name==="counter"){var m=c.values.filter(eu),p=m[0],v=m[1];if(p&&Ze(p)){var y=s.counters.getCounterValue(p.value),w=v&&Ze(v)?ob.parse(s.context,v.value):3;l.appendChild(o.createTextNode(Md(y,w,!1)))}}else if(c.name==="counters"){var B=c.values.filter(eu),p=B[0],I=B[1],v=B[2];if(p&&Ze(p)){var T=s.counters.getCounterValues(p.value),F=v&&Ze(v)?ob.parse(s.context,v.value):3,C=I&&I.type===0?I.value:"",_=T.map(function(N){return Md(N,F,!1)}).join(C);l.appendChild(o.createTextNode(_))}}}else if(c.type===20)switch(c.value){case"open-quote":l.appendChild(o.createTextNode(j2(A.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(j2(A.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(c.value))}}),l.className=fb+" "+hb;var u=i===id.BEFORE?" "+fb:" "+hb;return Rg(r)?r.className.baseValue+=u:r.className+=u,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),id;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(id||(id={}));var See=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(Oj,"true"),t.body.appendChild(r),r},Tee=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Fee=function(t){return Promise.all([].slice.call(t.images,0).map(Tee))},Uee=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},Pee=["all","d","content"],Hy=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);Pee.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},Qee=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Nee=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},kee=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},Oee=":before",Dee=":after",fb="___html2canvas___pseudoelement_before",hb="___html2canvas___pseudoelement_after",lF=`{
    content: "" !important;
    display: none !important;
}`,jee=function(t){Ree(t,"."+fb+Oee+lF+`
         .`+hb+Dee+lF)},Ree=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},Dj=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Lee=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(Ky(e)||Kee(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Rr(this,void 0,void 0,function(){var r,n,i,s,a=this;return Fr(this,function(o){switch(o.label){case 0:return r=Dj.isSameOrigin(e),n=!Vy(e)&&this._options.useCORS===!0&&pr.SUPPORT_CORS_IMAGES&&!r,i=!Vy(e)&&!r&&!Ky(e)&&typeof this._options.proxy=="string"&&pr.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!Vy(e)&&!Ky(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(A,l){var u=new Image;u.onload=function(){return A(u)},u.onerror=l,($ee(s)||n)&&(u.crossOrigin="anonymous"),u.src=s,u.complete===!0&&setTimeout(function(){return A(u)},500),a._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=pr.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(o==="text")s(A.response);else{var c=new FileReader;c.addEventListener("load",function(){return s(c.result)},!1),c.addEventListener("error",function(f){return a(f)},!1),c.readAsDataURL(A.response)}else a("Failed to proxy resource "+i+" with status code "+A.status)},A.onerror=a;var l=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=o),r._options.imageTimeout){var u=r._options.imageTimeout;A.timeout=u,A.ontimeout=function(){return a("Timed out ("+u+"ms) proxying "+i)}}A.send()})},t}(),Mee=/^data:image\/svg\+xml/i,Hee=/^data:image\/.*;base64,/i,Vee=/^data:image\/.*/i,Kee=function(t){return pr.SUPPORT_SVG_DRAWING||!Gee(t)},Vy=function(t){return Vee.test(t)},$ee=function(t){return Hee.test(t)},Ky=function(t){return t.substr(0,4)==="blob"},Gee=function(t){return t.substr(-3).toLowerCase()==="svg"||Mee.test(t)},ue=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),WA=function(t,e,r){return new ue(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Wh=function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=WA(this.start,this.startControl,e),i=WA(this.startControl,this.endControl,e),s=WA(this.endControl,this.end,e),a=WA(n,i,e),o=WA(i,s,e),A=WA(a,o,e);return r?new t(this.start,n,a,A):new t(A,o,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Ln=function(t){return t.type===1},zee=function(){function t(e){var r=e.styles,n=e.bounds,i=Uc(r.borderTopLeftRadius,n.width,n.height),s=i[0],a=i[1],o=Uc(r.borderTopRightRadius,n.width,n.height),A=o[0],l=o[1],u=Uc(r.borderBottomRightRadius,n.width,n.height),c=u[0],f=u[1],g=Uc(r.borderBottomLeftRadius,n.width,n.height),m=g[0],p=g[1],v=[];v.push((s+A)/n.width),v.push((m+c)/n.width),v.push((a+p)/n.height),v.push((l+f)/n.height);var y=Math.max.apply(Math,v);y>1&&(s/=y,a/=y,A/=y,l/=y,c/=y,f/=y,m/=y,p/=y);var w=n.width-A,B=n.height-f,I=n.width-c,T=n.height-p,F=r.borderTopWidth,C=r.borderRightWidth,_=r.borderBottomWidth,S=r.borderLeftWidth,P=ot(r.paddingTop,e.bounds.width),N=ot(r.paddingRight,e.bounds.width),k=ot(r.paddingBottom,e.bounds.width),Q=ot(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?gt(n.left+S/3,n.top+F/3,s-S/3,a-F/3,We.TOP_LEFT):new ue(n.left+S/3,n.top+F/3),this.topRightBorderDoubleOuterBox=s>0||a>0?gt(n.left+w,n.top+F/3,A-C/3,l-F/3,We.TOP_RIGHT):new ue(n.left+n.width-C/3,n.top+F/3),this.bottomRightBorderDoubleOuterBox=c>0||f>0?gt(n.left+I,n.top+B,c-C/3,f-_/3,We.BOTTOM_RIGHT):new ue(n.left+n.width-C/3,n.top+n.height-_/3),this.bottomLeftBorderDoubleOuterBox=m>0||p>0?gt(n.left+S/3,n.top+T,m-S/3,p-_/3,We.BOTTOM_LEFT):new ue(n.left+S/3,n.top+n.height-_/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?gt(n.left+S*2/3,n.top+F*2/3,s-S*2/3,a-F*2/3,We.TOP_LEFT):new ue(n.left+S*2/3,n.top+F*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?gt(n.left+w,n.top+F*2/3,A-C*2/3,l-F*2/3,We.TOP_RIGHT):new ue(n.left+n.width-C*2/3,n.top+F*2/3),this.bottomRightBorderDoubleInnerBox=c>0||f>0?gt(n.left+I,n.top+B,c-C*2/3,f-_*2/3,We.BOTTOM_RIGHT):new ue(n.left+n.width-C*2/3,n.top+n.height-_*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||p>0?gt(n.left+S*2/3,n.top+T,m-S*2/3,p-_*2/3,We.BOTTOM_LEFT):new ue(n.left+S*2/3,n.top+n.height-_*2/3),this.topLeftBorderStroke=s>0||a>0?gt(n.left+S/2,n.top+F/2,s-S/2,a-F/2,We.TOP_LEFT):new ue(n.left+S/2,n.top+F/2),this.topRightBorderStroke=s>0||a>0?gt(n.left+w,n.top+F/2,A-C/2,l-F/2,We.TOP_RIGHT):new ue(n.left+n.width-C/2,n.top+F/2),this.bottomRightBorderStroke=c>0||f>0?gt(n.left+I,n.top+B,c-C/2,f-_/2,We.BOTTOM_RIGHT):new ue(n.left+n.width-C/2,n.top+n.height-_/2),this.bottomLeftBorderStroke=m>0||p>0?gt(n.left+S/2,n.top+T,m-S/2,p-_/2,We.BOTTOM_LEFT):new ue(n.left+S/2,n.top+n.height-_/2),this.topLeftBorderBox=s>0||a>0?gt(n.left,n.top,s,a,We.TOP_LEFT):new ue(n.left,n.top),this.topRightBorderBox=A>0||l>0?gt(n.left+w,n.top,A,l,We.TOP_RIGHT):new ue(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||f>0?gt(n.left+I,n.top+B,c,f,We.BOTTOM_RIGHT):new ue(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=m>0||p>0?gt(n.left,n.top+T,m,p,We.BOTTOM_LEFT):new ue(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?gt(n.left+S,n.top+F,Math.max(0,s-S),Math.max(0,a-F),We.TOP_LEFT):new ue(n.left+S,n.top+F),this.topRightPaddingBox=A>0||l>0?gt(n.left+Math.min(w,n.width-C),n.top+F,w>n.width+C?0:Math.max(0,A-C),Math.max(0,l-F),We.TOP_RIGHT):new ue(n.left+n.width-C,n.top+F),this.bottomRightPaddingBox=c>0||f>0?gt(n.left+Math.min(I,n.width-S),n.top+Math.min(B,n.height-_),Math.max(0,c-C),Math.max(0,f-_),We.BOTTOM_RIGHT):new ue(n.left+n.width-C,n.top+n.height-_),this.bottomLeftPaddingBox=m>0||p>0?gt(n.left+S,n.top+Math.min(T,n.height-_),Math.max(0,m-S),Math.max(0,p-_),We.BOTTOM_LEFT):new ue(n.left+S,n.top+n.height-_),this.topLeftContentBox=s>0||a>0?gt(n.left+S+Q,n.top+F+P,Math.max(0,s-(S+Q)),Math.max(0,a-(F+P)),We.TOP_LEFT):new ue(n.left+S+Q,n.top+F+P),this.topRightContentBox=A>0||l>0?gt(n.left+Math.min(w,n.width+S+Q),n.top+F+P,w>n.width+S+Q?0:A-S+Q,l-(F+P),We.TOP_RIGHT):new ue(n.left+n.width-(C+N),n.top+F+P),this.bottomRightContentBox=c>0||f>0?gt(n.left+Math.min(I,n.width-(S+Q)),n.top+Math.min(B,n.height+F+P),Math.max(0,c-(C+N)),f-(_+k),We.BOTTOM_RIGHT):new ue(n.left+n.width-(C+N),n.top+n.height-(_+k)),this.bottomLeftContentBox=m>0||p>0?gt(n.left+S+Q,n.top+T,Math.max(0,m-(S+Q)),p-(_+k),We.BOTTOM_LEFT):new ue(n.left+S+Q,n.top+n.height-(_+k))}return t}(),We;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(We||(We={}));var gt=function(t,e,r,n,i){var s=4*((Math.sqrt(2)-1)/3),a=r*s,o=n*s,A=t+r,l=e+n;switch(i){case We.TOP_LEFT:return new Wh(new ue(t,l),new ue(t,l-o),new ue(A-a,e),new ue(A,e));case We.TOP_RIGHT:return new Wh(new ue(t,e),new ue(t+a,e),new ue(A,l-o),new ue(A,l));case We.BOTTOM_RIGHT:return new Wh(new ue(A,e),new ue(A,e+o),new ue(t+a,l),new ue(t,l));case We.BOTTOM_LEFT:default:return new Wh(new ue(A,l),new ue(A-a,l),new ue(t,e+o),new ue(t,e))}},Vp=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Wee=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Kp=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Xee=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),Xh=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),Yee=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),qee=function(t){return t.type===0},jj=function(t){return t.type===1},Jee=function(t){return t.type===2},uF=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},Zee=function(t,e,r,n,i){return t.map(function(s,a){switch(a){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+i);case 3:return s.add(e,r+i)}return s})},Rj=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),Lj=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new zee(this.container),this.container.styles.opacity<1&&this.effects.push(new Yee(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Xee(n,i,s))}if(this.container.styles.overflowX!==0){var a=Vp(this.curves),o=Kp(this.curves);uF(a,o)?this.effects.push(new Xh(a,6)):(this.effects.push(new Xh(a,2)),this.effects.push(new Xh(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(A){return!jj(A)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=Vp(n.curves),o=Kp(n.curves);uF(a,o)||i.unshift(new Xh(o,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(A){return Wt(A.target,e)})},t}(),gb=function(t,e,r,n){t.container.elements.forEach(function(i){var s=Wt(i.flags,4),a=Wt(i.flags,2),o=new Lj(i,t);Wt(i.styles.display,2048)&&n.push(o);var A=Wt(i.flags,8)?[]:n;if(s||a){var l=s||i.styles.isPositioned()?r:e,u=new Rj(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var c=i.styles.zIndex.order;if(c<0){var f=0;l.negativeZIndex.some(function(m,p){return c>m.element.container.styles.zIndex.order?(f=p,!1):f>0}),l.negativeZIndex.splice(f,0,u)}else if(c>0){var g=0;l.positiveZIndex.some(function(m,p){return c>=m.element.container.styles.zIndex.order?(g=p+1,!1):g>0}),l.positiveZIndex.splice(g,0,u)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?l.nonPositionedFloats.push(u):l.nonPositionedInlineLevel.push(u);gb(o,u,s?u:r,A)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),gb(o,e,r,A);Wt(i.flags,8)&&Mj(i,A)})},Mj=function(t,e){for(var r=t instanceof ub?t.start:1,n=t instanceof ub?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof Cj&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=Md(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},ete=function(t){var e=new Lj(t,null),r=new Rj(e),n=[];return gb(e,r,r,n),Mj(e.container,n),r},cF=function(t,e){switch(e){case 0:return zn(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return zn(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return zn(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return zn(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},tte=function(t,e){switch(e){case 0:return zn(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return zn(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return zn(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return zn(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},rte=function(t,e){switch(e){case 0:return zn(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return zn(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return zn(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return zn(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},nte=function(t,e){switch(e){case 0:return Yh(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Yh(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Yh(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Yh(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Yh=function(t,e){var r=[];return Ln(t)?r.push(t.subdivide(.5,!1)):r.push(t),Ln(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},zn=function(t,e,r,n){var i=[];return Ln(t)?i.push(t.subdivide(.5,!1)):i.push(t),Ln(r)?i.push(r.subdivide(.5,!0)):i.push(r),Ln(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Ln(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},Hj=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},$p=function(t){var e=t.styles,r=t.bounds,n=ot(e.paddingLeft,r.width),i=ot(e.paddingRight,r.width),s=ot(e.paddingTop,r.width),a=ot(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},ite=function(t,e){return t===0?e.bounds:t===2?$p(e):Hj(e)},ste=function(t,e){return t===0?e.bounds:t===2?$p(e):Hj(e)},$y=function(t,e,r){var n=ite(nl(t.styles.backgroundOrigin,e),t),i=ste(nl(t.styles.backgroundClip,e),t),s=ate(nl(t.styles.backgroundSize,e),r,n),a=s[0],o=s[1],A=Uc(nl(t.styles.backgroundPosition,e),n.width-a,n.height-o),l=ote(nl(t.styles.backgroundRepeat,e),A,s,n,i),u=Math.round(n.left+A[0]),c=Math.round(n.top+A[1]);return[l,u,c,a,o]},XA=function(t){return Ze(t)&&t.value===Ul.AUTO},qh=function(t){return typeof t=="number"},ate=function(t,e,r){var n=e[0],i=e[1],s=e[2],a=t[0],o=t[1];if(!a)return[0,0];if(Ht(a)&&o&&Ht(o))return[ot(a,r.width),ot(o,r.height)];var A=qh(s);if(Ze(a)&&(a.value===Ul.CONTAIN||a.value===Ul.COVER)){if(qh(s)){var l=r.width/r.height;return l<s!=(a.value===Ul.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var u=qh(n),c=qh(i),f=u||c;if(XA(a)&&(!o||XA(o))){if(u&&c)return[n,i];if(!A&&!f)return[r.width,r.height];if(f&&A){var g=u?n:i*s,m=c?i:n/s;return[g,m]}var p=u?n:r.width,v=c?i:r.height;return[p,v]}if(A){var y=0,w=0;return Ht(a)?y=ot(a,r.width):Ht(o)&&(w=ot(o,r.height)),XA(a)?y=w*s:(!o||XA(o))&&(w=y/s),[y,w]}var B=null,I=null;if(Ht(a)?B=ot(a,r.width):o&&Ht(o)&&(I=ot(o,r.height)),B!==null&&(!o||XA(o))&&(I=u&&c?B/n*i:r.height),I!==null&&XA(a)&&(B=u&&c?I/i*n:r.width),B!==null&&I!==null)return[B,I];throw new Error("Unable to calculate background-size for element")},nl=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},ote=function(t,e,r,n,i){var s=e[0],a=e[1],o=r[0],A=r[1];switch(t){case 2:return[new ue(Math.round(n.left),Math.round(n.top+a)),new ue(Math.round(n.left+n.width),Math.round(n.top+a)),new ue(Math.round(n.left+n.width),Math.round(A+n.top+a)),new ue(Math.round(n.left),Math.round(A+n.top+a))];case 3:return[new ue(Math.round(n.left+s),Math.round(n.top)),new ue(Math.round(n.left+s+o),Math.round(n.top)),new ue(Math.round(n.left+s+o),Math.round(n.height+n.top)),new ue(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new ue(Math.round(n.left+s),Math.round(n.top+a)),new ue(Math.round(n.left+s+o),Math.round(n.top+a)),new ue(Math.round(n.left+s+o),Math.round(n.top+a+A)),new ue(Math.round(n.left+s),Math.round(n.top+a+A))];default:return[new ue(Math.round(i.left),Math.round(i.top)),new ue(Math.round(i.left+i.width),Math.round(i.top)),new ue(Math.round(i.left+i.width),Math.round(i.height+i.top)),new ue(Math.round(i.left),Math.round(i.height+i.top))]}},Ate="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",dF="Hidden Text",lte=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),i.src=Ate,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(dF)),n.appendChild(s),n.appendChild(i);var o=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(dF)),n.style.lineHeight="normal",i.style.verticalAlign="super";var A=i.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:A}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),Vj=function(){function t(e,r){this.context=e,this.options=r}return t}(),ute=1e4,cte=function(t){wi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new lte(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),Jee(r)&&(this.ctx.globalAlpha=r.opacity),qee(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),jj(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Rr(this,void 0,void 0,function(){var n;return Fr(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Rr(this,void 0,void 0,function(){return Fr(this,function(n){switch(n.label){case 0:if(Wt(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var a=uE(r.text);a.reduce(function(o,A){return s.ctx.fillText(A,o,r.bounds.top+i),o+s.ctx.measureText(A).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=pte(r.fontFamily).join(", "),s=yf(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(r,n){return Rr(this,void 0,void 0,function(){var i,s,a,o,A,l,u,c,f=this;return Fr(this,function(g){return i=this.createFontStyle(n),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(a,o),l=A.baseline,u=A.middle,c=n.paintOrder,r.textBounds.forEach(function(m){c.forEach(function(p){switch(p){case 0:f.ctx.fillStyle=nr(n.color),f.renderTextWithLetterSpacing(m,n.letterSpacing,l);var v=n.textShadow;v.length&&m.text.trim().length&&(v.slice(0).reverse().forEach(function(y){f.ctx.shadowColor=nr(y.color),f.ctx.shadowOffsetX=y.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=y.offsetY.number*f.options.scale,f.ctx.shadowBlur=y.blur.number,f.renderTextWithLetterSpacing(m,n.letterSpacing,l)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=nr(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+l),m.bounds.width,1);break;case 2:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:f.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+u),m.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&m.text.trim().length&&(f.ctx.strokeStyle=nr(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+l)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=$p(r),a=Kp(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Rr(this,void 0,void 0,function(){var n,i,s,a,o,A,w,w,l,u,c,f,I,g,m,T,p,v,y,w,B,I,T;return Fr(this,function(F){switch(F.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,a=0,o=n.textNodes,F.label=1;case 1:return a<o.length?(A=o[a],[4,this.renderTextNode(A,s)]):[3,4];case 2:F.sent(),F.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof xj))return[3,8];F.label=5;case 5:return F.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return w=F.sent(),this.renderReplacedElement(n,i,w),[3,8];case 7:return F.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof bj&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof Bj))return[3,12];F.label=9;case 9:return F.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return w=F.sent(),this.renderReplacedElement(n,i,w),[3,12];case 11:return F.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Ij&&n.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,l.render(n.tree)]):[3,14];case 13:u=F.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),F.label=14;case 14:if(n instanceof cE&&(c=Math.min(n.bounds.width,n.bounds.height),n.type===Rp?n.checked&&(this.ctx.save(),this.path([new ue(n.bounds.left+c*.39363,n.bounds.top+c*.79),new ue(n.bounds.left+c*.16,n.bounds.top+c*.5549),new ue(n.bounds.left+c*.27347,n.bounds.top+c*.44071),new ue(n.bounds.left+c*.39694,n.bounds.top+c*.5649),new ue(n.bounds.left+c*.72983,n.bounds.top+c*.23),new ue(n.bounds.left+c*.84,n.bounds.top+c*.34085),new ue(n.bounds.left+c*.39363,n.bounds.top+c*.79)]),this.ctx.fillStyle=nr(Z2),this.ctx.fill(),this.ctx.restore()):n.type===Lp&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+c/2,n.bounds.top+c/2,c/4,0,Math.PI*2,!0),this.ctx.fillStyle=nr(Z2),this.ctx.fill(),this.ctx.restore())),dte(n)&&n.value.length){switch(f=this.createFontStyle(s),I=f[0],g=f[1],m=this.fontMetrics.getMetrics(I,g).baseline,this.ctx.font=I,this.ctx.fillStyle=nr(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=hte(n.styles.textAlign),T=$p(n),p=0,n.styles.textAlign){case 1:p+=T.width/2;break;case 2:p+=T.width;break}v=T.add(p,0,0,-T.height/2+1),this.ctx.save(),this.path([new ue(T.left,T.top),new ue(T.left+T.width,T.top),new ue(T.left+T.width,T.top+T.height),new ue(T.left,T.top+T.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new nd(n.value,v),s.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Wt(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];w=void 0,B=y.url,F.label=15;case 15:return F.trys.push([15,17,,18]),[4,this.context.cache.match(B)];case 16:return w=F.sent(),this.ctx.drawImage(w,n.bounds.left-(w.width+10),n.bounds.top),[3,18];case 17:return F.sent(),this.context.logger.error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(I=this.createFontStyle(s)[0],this.ctx.font=I,this.ctx.fillStyle=nr(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",T=new _s(n.bounds.left,n.bounds.top+ot(n.styles.paddingTop,n.bounds.width),n.bounds.width,O2(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new nd(r.listValue,T),s.letterSpacing,O2(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),F.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Rr(this,void 0,void 0,function(){var n,i,y,s,a,y,o,A,y,l,u,y,c,f,y,g,m,y,p,v,y;return Fr(this,function(w){switch(w.label){case 0:if(Wt(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:w.sent(),n=0,i=r.negativeZIndex,w.label=2;case 2:return n<i.length?(y=i[n],[4,this.renderStack(y)]):[3,5];case 3:w.sent(),w.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:w.sent(),s=0,a=r.nonInlineLevel,w.label=7;case 7:return s<a.length?(y=a[s],[4,this.renderNode(y)]):[3,10];case 8:w.sent(),w.label=9;case 9:return s++,[3,7];case 10:o=0,A=r.nonPositionedFloats,w.label=11;case 11:return o<A.length?(y=A[o],[4,this.renderStack(y)]):[3,14];case 12:w.sent(),w.label=13;case 13:return o++,[3,11];case 14:l=0,u=r.nonPositionedInlineLevel,w.label=15;case 15:return l<u.length?(y=u[l],[4,this.renderStack(y)]):[3,18];case 16:w.sent(),w.label=17;case 17:return l++,[3,15];case 18:c=0,f=r.inlineLevel,w.label=19;case 19:return c<f.length?(y=f[c],[4,this.renderNode(y)]):[3,22];case 20:w.sent(),w.label=21;case 21:return c++,[3,19];case 22:g=0,m=r.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return g<m.length?(y=m[g],[4,this.renderStack(y)]):[3,26];case 24:w.sent(),w.label=25;case 25:return g++,[3,23];case 26:p=0,v=r.positiveZIndex,w.label=27;case 27:return p<v.length?(y=v[p],[4,this.renderStack(y)]):[3,30];case 28:w.sent(),w.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var a=Ln(i)?i.start:i;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),Ln(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var A=o.getContext("2d");return A.drawImage(r,0,0,r.width,r.height,0,0,n,i),o},e.prototype.renderBackgroundImage=function(r){return Rr(this,void 0,void 0,function(){var n,i,s,a,o,A;return Fr(this,function(l){switch(l.label){case 0:n=r.styles.backgroundImage.length-1,i=function(u){var c,f,g,P,ge,xe,Q,se,_,m,P,ge,xe,Q,se,p,v,y,w,B,I,T,F,C,_,S,P,N,k,Q,se,Ce,ge,xe,Y,ne,ce,ae,z,ve,O,R;return Fr(this,function(j){switch(j.label){case 0:if(u.type!==0)return[3,5];c=void 0,f=u.url,j.label=1;case 1:return j.trys.push([1,3,,4]),[4,s.context.cache.match(f)];case 2:return c=j.sent(),[3,4];case 3:return j.sent(),s.context.logger.error("Error loading background-image "+f),[3,4];case 4:return c&&(g=$y(r,n,[c.width,c.height,c.width/c.height]),P=g[0],ge=g[1],xe=g[2],Q=g[3],se=g[4],_=s.ctx.createPattern(s.resizeImage(c,Q,se),"repeat"),s.renderRepeat(P,_,ge,xe)),[3,6];case 5:qq(u)?(m=$y(r,n,[null,null,null]),P=m[0],ge=m[1],xe=m[2],Q=m[3],se=m[4],p=Gq(u.angle,Q,se),v=p[0],y=p[1],w=p[2],B=p[3],I=p[4],T=document.createElement("canvas"),T.width=Q,T.height=se,F=T.getContext("2d"),C=F.createLinearGradient(y,B,w,I),N2(u.stops,v).forEach(function(J){return C.addColorStop(J.stop,nr(J.color))}),F.fillStyle=C,F.fillRect(0,0,Q,se),Q>0&&se>0&&(_=s.ctx.createPattern(T,"repeat"),s.renderRepeat(P,_,ge,xe))):Jq(u)&&(S=$y(r,n,[null,null,null]),P=S[0],N=S[1],k=S[2],Q=S[3],se=S[4],Ce=u.position.length===0?[oE]:u.position,ge=ot(Ce[0],Q),xe=ot(Ce[Ce.length-1],se),Y=zq(u,ge,xe,Q,se),ne=Y[0],ce=Y[1],ne>0&&ce>0&&(ae=s.ctx.createRadialGradient(N+ge,k+xe,0,N+ge,k+xe,ne),N2(u.stops,ne*2).forEach(function(J){return ae.addColorStop(J.stop,nr(J.color))}),s.path(P),s.ctx.fillStyle=ae,ne!==ce?(z=r.bounds.left+.5*r.bounds.width,ve=r.bounds.top+.5*r.bounds.height,O=ce/ne,R=1/O,s.ctx.save(),s.ctx.translate(z,ve),s.ctx.transform(1,0,0,O,0,0),s.ctx.translate(-z,-ve),s.ctx.fillRect(N,R*(k-ve)+ve,Q,se*R),s.ctx.restore()):s.ctx.fill())),j.label=6;case 6:return n--,[2]}})},s=this,a=0,o=r.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return a<o.length?(A=o[a],[5,i(A)]):[3,4];case 2:l.sent(),l.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return Rr(this,void 0,void 0,function(){return Fr(this,function(s){return this.path(cF(i,n)),this.ctx.fillStyle=nr(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,s){return Rr(this,void 0,void 0,function(){var a,o;return Fr(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return A.sent(),[2];case 2:return a=tte(s,i),this.path(a),this.ctx.fillStyle=nr(r),this.ctx.fill(),o=rte(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Rr(this,void 0,void 0,function(){var n,i,s,a,o,A,l,u,c=this;return Fr(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!Qa(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=fte(nl(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Qa(n.backgroundColor)||(this.ctx.fillStyle=nr(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){c.ctx.save();var m=Vp(r.curves),p=g.inset?0:ute,v=Zee(m,-p+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(c.path(m),c.ctx.clip(),c.mask(v)):(c.mask(m),c.ctx.clip(),c.path(v)),c.ctx.shadowOffsetX=g.offsetX.number+p,c.ctx.shadowOffsetY=g.offsetY.number,c.ctx.shadowColor=nr(g.color),c.ctx.shadowBlur=g.blur.number,c.ctx.fillStyle=g.inset?nr(g.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),f.label=2;case 2:o=0,A=0,l=s,f.label=3;case 3:return A<l.length?(u=l[A],u.style!==0&&!Qa(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,r.curves)];case 10:f.sent(),f.label=11;case 11:o++,f.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,s,a){return Rr(this,void 0,void 0,function(){var o,A,l,u,c,f,g,m,p,v,y,w,B,I,T,F,T,F;return Fr(this,function(C){return this.ctx.save(),o=nte(s,i),A=cF(s,i),a===2&&(this.path(A),this.ctx.clip()),Ln(A[0])?(l=A[0].start.x,u=A[0].start.y):(l=A[0].x,u=A[0].y),Ln(A[1])?(c=A[1].end.x,f=A[1].end.y):(c=A[1].x,f=A[1].y),i===0||i===2?g=Math.abs(l-c):g=Math.abs(u-f),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(A.slice(0,2)),m=n<3?n*3:n*2,p=n<3?n*2:n,a===3&&(m=n,p=n),v=!0,g<=m*2?v=!1:g<=m*2+p?(y=g/(2*m+p),m*=y,p*=y):(w=Math.floor((g+p)/(m+p)),B=(g-w*m)/(w-1),I=(g-(w+1)*m)/w,p=I<=0||Math.abs(p-B)<Math.abs(p-I)?B:I),v&&(a===3?this.ctx.setLineDash([0,m+p]):this.ctx.setLineDash([m,p])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=nr(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Ln(A[0])&&(T=A[3],F=A[0],this.ctx.beginPath(),this.formatPath([new ue(T.end.x,T.end.y),new ue(F.start.x,F.start.y)]),this.ctx.stroke()),Ln(A[1])&&(T=A[1],F=A[2],this.ctx.beginPath(),this.formatPath([new ue(T.end.x,T.end.y),new ue(F.start.x,F.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Rr(this,void 0,void 0,function(){var n;return Fr(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=nr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=ete(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(Vj),dte=function(t){return t instanceof _j||t instanceof Ej?!0:t instanceof cE&&t.type!==Lp&&t.type!==Rp},fte=function(t,e){switch(t){case 0:return Vp(e);case 2:return Wee(e);case 1:default:return Kp(e)}},hte=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},gte=["-apple-system","system-ui"],pte=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return gte.indexOf(e)===-1}):t},mte=function(t){wi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return Rr(this,void 0,void 0,function(){var n,i;return Fr(this,function(s){switch(s.label){case 0:return n=lb(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,vte(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=nr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(Vj),vte=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},yte=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Th([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Th([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Th([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Th([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),wte=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new yte({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new Lee(this,e)}return t.instanceCount=1,t}(),Kj=function(t,e){return e===void 0&&(e={}),xte(t,e)};typeof window<"u"&&Dj.setContext(window);var xte=function(t,e){return Rr(void 0,void 0,void 0,function(){var r,n,i,s,a,o,A,l,u,c,f,g,m,p,v,y,w,B,I,T,C,F,C,_,S,P,N,k,Q,se,Ce,ge,xe,Y,ne,ce,ae,z,ve,O;return Fr(this,function(R){switch(R.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(_=e.allowTaint)!==null&&_!==void 0?_:!1,imageTimeout:(S=e.imageTimeout)!==null&&S!==void 0?S:15e3,proxy:e.proxy,useCORS:(P=e.useCORS)!==null&&P!==void 0?P:!1},s=Wx({logging:(N=e.logging)!==null&&N!==void 0?N:!0,cache:e.cache},i),a={windowWidth:(k=e.windowWidth)!==null&&k!==void 0?k:n.innerWidth,windowHeight:(Q=e.windowHeight)!==null&&Q!==void 0?Q:n.innerHeight,scrollX:(se=e.scrollX)!==null&&se!==void 0?se:n.pageXOffset,scrollY:(Ce=e.scrollY)!==null&&Ce!==void 0?Ce:n.pageYOffset},o=new _s(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),A=new wte(s,o),l=(ge=e.foreignObjectRendering)!==null&&ge!==void 0?ge:!1,u={allowTaint:(xe=e.allowTaint)!==null&&xe!==void 0?xe:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},A.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),c=new AF(A,t,u),f=c.clonedReferenceElement,f?[4,c.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=R.sent(),m=dE(f)||Bee(f)?ZX(f.ownerDocument):x0(A,f),p=m.width,v=m.height,y=m.left,w=m.top,B=bte(A,f,e.backgroundColor),I={canvas:e.canvas,backgroundColor:B,scale:(ne=(Y=e.scale)!==null&&Y!==void 0?Y:n.devicePixelRatio)!==null&&ne!==void 0?ne:1,x:((ce=e.x)!==null&&ce!==void 0?ce:0)+y,y:((ae=e.y)!==null&&ae!==void 0?ae:0)+w,width:(z=e.width)!==null&&z!==void 0?z:Math.ceil(p),height:(ve=e.height)!==null&&ve!==void 0?ve:Math.ceil(v)},l?(A.logger.debug("Document cloned, using foreign object rendering"),C=new mte(A,I),[4,C.render(f)]):[3,3];case 2:return T=R.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+y+","+w+" with size "+p+"x"+v+" using computed rendering"),A.logger.debug("Starting DOM parsing"),F=Tj(A,f),B===F.styles.backgroundColor&&(F.styles.backgroundColor=ps.TRANSPARENT),A.logger.debug("Starting renderer for element at "+I.x+","+I.y+" with size "+I.width+"x"+I.height),C=new cte(A,I),[4,C.render(F)];case 4:T=R.sent(),R.label=5;case 5:return(!((O=e.removeContainer)!==null&&O!==void 0)||O)&&(AF.destroy(g)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,T]}})})},bte=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?td(t,getComputedStyle(n.documentElement).backgroundColor):ps.TRANSPARENT,s=n.body?td(t,getComputedStyle(n.body).backgroundColor):ps.TRANSPARENT,a=typeof r=="string"?td(t,r):r===null?ps.TRANSPARENT:4294967295;return e===n.documentElement?Qa(i)?Qa(s)?a:s:i:a};const Bte=Object.freeze(Object.defineProperty({__proto__:null,default:Kj},Symbol.toStringTag,{value:"Module"}));function $j(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=$j(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ke(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=$j(t))&&(n&&(n+=" "),n+=e);return n}var U0={},Gj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(Gj);var fE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(fE);var hE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(hE);var P0={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){const n=[],i=r.length;if(i===0)return n;let s=0,a="",o="",A=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const l=r[s];o?l==="\\"&&s+1<i?(s++,a+=r[s]):l===o?o="":a+=l:A?l==='"'||l==="'"?o=l:l==="]"?(A=!1,n.push(a),a=""):a+=l:l==="["?(A=!0,a&&(n.push(a),a="")):l==="."?a&&(n.push(a),a=""):a+=l,s++}return a&&n.push(a),n}t.toPath=e})(P0);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gj,r=fE,n=hE,i=P0;function s(o,A,l){if(o==null)return l;switch(typeof A){case"string":{if(e.isUnsafeProperty(A))return l;const u=o[A];return u===void 0?r.isDeepKey(A)?s(o,i.toPath(A),l):l:u}case"number":case"symbol":{typeof A=="number"&&(A=n.toKey(A));const u=o[A];return u===void 0?l:u}default:{if(Array.isArray(A))return a(o,A,l);if(Object.is(A==null?void 0:A.valueOf(),-0)?A="-0":A=String(A),e.isUnsafeProperty(A))return l;const u=o[A];return u===void 0?l:u}}}function a(o,A,l){if(A.length===0)return l;let u=o;for(let c=0;c<A.length;c++){if(u==null||e.isUnsafeProperty(A[c]))return l;u=u[A[c]]}return u===void 0?l:u}t.get=s})(U0);var Cte=U0.get;const Wa=Mi(Cte);var zj={exports:{}},st={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE=Symbol.for("react.transitional.element"),pE=Symbol.for("react.portal"),Q0=Symbol.for("react.fragment"),N0=Symbol.for("react.strict_mode"),k0=Symbol.for("react.profiler"),O0=Symbol.for("react.consumer"),D0=Symbol.for("react.context"),j0=Symbol.for("react.forward_ref"),R0=Symbol.for("react.suspense"),L0=Symbol.for("react.suspense_list"),M0=Symbol.for("react.memo"),H0=Symbol.for("react.lazy"),Ete=Symbol.for("react.view_transition"),_te=Symbol.for("react.client.reference");function ri(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case gE:switch(t=t.type,t){case Q0:case k0:case N0:case R0:case L0:case Ete:return t;default:switch(t=t&&t.$$typeof,t){case D0:case j0:case H0:case M0:return t;case O0:return t;default:return e}}case pE:return e}}}st.ContextConsumer=O0;st.ContextProvider=D0;st.Element=gE;st.ForwardRef=j0;st.Fragment=Q0;st.Lazy=H0;st.Memo=M0;st.Portal=pE;st.Profiler=k0;st.StrictMode=N0;st.Suspense=R0;st.SuspenseList=L0;st.isContextConsumer=function(t){return ri(t)===O0};st.isContextProvider=function(t){return ri(t)===D0};st.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===gE};st.isForwardRef=function(t){return ri(t)===j0};st.isFragment=function(t){return ri(t)===Q0};st.isLazy=function(t){return ri(t)===H0};st.isMemo=function(t){return ri(t)===M0};st.isPortal=function(t){return ri(t)===pE};st.isProfiler=function(t){return ri(t)===k0};st.isStrictMode=function(t){return ri(t)===N0};st.isSuspense=function(t){return ri(t)===R0};st.isSuspenseList=function(t){return ri(t)===L0};st.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Q0||t===k0||t===N0||t===R0||t===L0||typeof t=="object"&&t!==null&&(t.$$typeof===H0||t.$$typeof===M0||t.$$typeof===D0||t.$$typeof===O0||t.$$typeof===j0||t.$$typeof===_te||t.getModuleId!==void 0)};st.typeOf=ri;zj.exports=st;var Ite=zj.exports,Ar=t=>t===0?0:t>0?1:-1,En=t=>typeof t=="number"&&t!=+t,jo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,fe=t=>(typeof t=="number"||t instanceof Number)&&!En(t),Ri=t=>fe(t)||typeof t=="string",Ste=0,Hd=t=>{var e=++Ste;return"".concat(t||"").concat(e)},zr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(e)&&typeof e!="string")return n;var s;if(jo(e)){if(r==null)return n;var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return En(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},Wj=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1},fF=(t,e)=>fe(t)&&fe(e)?r=>t+r*(e-t):()=>e;function di(t,e,r){return fe(t)&&fe(e)?t+r*(e-t):e}function Xj(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):Wa(n,e))===r)}var ft=t=>t===null||typeof t>"u",wf=t=>ft(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Tte=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function mE(t){if(typeof t!="string")return!1;var e=Tte;return e.includes(t)}var Fte=["viewBox","children"],hF=["points","pathLength"],Gy={svg:Fte,polygon:hF,polyline:hF},vE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(x.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{mE(i)&&(n[i]=s=>r[i](r,s))}),n},Ute=(t,e,r)=>n=>(t(e,r,n),null),xf=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var s=t[i];mE(i)&&typeof s=="function"&&(n||(n={}),n[i]=Ute(s,e,r))}),n},Pte=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Yj(t){if(typeof t!="string")return!1;var e=Pte;return e.includes(t)}function ks(t){var e=Object.entries(t).filter(r=>{var[n]=r;return Yj(n)});return Object.fromEntries(e)}var gF=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",pF=null,zy=null,qj=t=>{if(t===pF&&Array.isArray(zy))return zy;var e=[];return x.Children.forEach(t,r=>{ft(r)||(Ite.isFragment(r)?e=e.concat(qj(r.props.children)):e.push(r))}),zy=e,pF=t,e};function bf(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>gF(i)):n=[gF(e)],qj(t).forEach(i=>{var s=Wa(i,"type.displayName")||Wa(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var Jj=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Qte=(t,e,r,n)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(i=n&&(Gy==null?void 0:Gy[n]))!==null&&i!==void 0?i:[],a=e.startsWith("data-"),o=typeof t!="function"&&(!!n&&s.includes(e)||Yj(e)),A=!!r&&mE(e);return a||o||A},yt=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var a;Qte((a=n)===null||a===void 0?void 0:a[s],s,e,r)&&(i[s]=n[s])}),i},Nte=["children","width","height","viewBox","className","style","title","desc"];function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pb.apply(null,arguments)}function kte(t,e){if(t==null)return{};var r,n,i=Ote(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ote(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var yE=x.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:o,title:A,desc:l}=t,u=kte(t,Nte),c=s||{width:n,height:i,x:0,y:0},f=Ke("recharts-surface",a);return x.createElement("svg",pb({},yt(u,!0,"svg"),{className:f,width:n,height:i,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height),ref:e}),x.createElement("title",null,A),x.createElement("desc",null,l),r)}),Dte=["children","className"];function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mb.apply(null,arguments)}function jte(t,e){if(t==null)return{};var r,n,i=Rte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Rte(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Dr=x.forwardRef((t,e)=>{var{children:r,className:n}=t,i=jte(t,Dte),s=Ke("recharts-layer",n);return x.createElement("g",mb({className:s},yt(i,!0),{ref:e}),r)}),Zj=x.createContext(null),Lte=()=>x.useContext(Zj);function at(t){return function(){return t}}const eR=Math.cos,Gp=Math.sin,xi=Math.sqrt,zp=Math.PI,V0=2*zp,vb=Math.PI,yb=2*vb,Eo=1e-6,Mte=yb-Eo;function tR(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Hte(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return tR;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Vte{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?tR:Hte(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,A=n-e,l=i-r,u=a-e,c=o-r,f=u*u+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>Eo)if(!(Math.abs(c*A-l*u)>Eo)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-a,m=i-o,p=A*A+l*l,v=g*g+m*m,y=Math.sqrt(p),w=Math.sqrt(f),B=s*Math.tan((vb-Math.acos((p+f-v)/(2*y*w)))/2),I=B/w,T=B/y;Math.abs(I-1)>Eo&&this._append`L${e+I*u},${r+I*c}`,this._append`A${s},${s},0,0,${+(c*g>u*m)},${this._x1=e+T*A},${this._y1=r+T*l}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),A=n*Math.sin(i),l=e+o,u=r+A,c=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>Eo||Math.abs(this._y1-u)>Eo)&&this._append`L${l},${u}`,n&&(f<0&&(f=f%yb+yb),f>Mte?this._append`A${n},${n},0,1,${c},${e-o},${r-A}A${n},${n},0,1,${c},${this._x1=l},${this._y1=u}`:f>Eo&&this._append`A${n},${n},0,${+(f>=vb)},${c},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function wE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Vte(e)}function xE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function rR(t){this._context=t}rR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function K0(t){return new rR(t)}function nR(t){return t[0]}function iR(t){return t[1]}function sR(t,e){var r=at(!0),n=null,i=K0,s=null,a=wE(o);t=typeof t=="function"?t:t===void 0?nR:at(t),e=typeof e=="function"?e:e===void 0?iR:at(e);function o(A){var l,u=(A=xE(A)).length,c,f=!1,g;for(n==null&&(s=i(g=a())),l=0;l<=u;++l)!(l<u&&r(c=A[l],l,A))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(c,l,A),+e(c,l,A));if(g)return s=null,g+""||null}return o.x=function(A){return arguments.length?(t=typeof A=="function"?A:at(+A),o):t},o.y=function(A){return arguments.length?(e=typeof A=="function"?A:at(+A),o):e},o.defined=function(A){return arguments.length?(r=typeof A=="function"?A:at(!!A),o):r},o.curve=function(A){return arguments.length?(i=A,n!=null&&(s=i(n)),o):i},o.context=function(A){return arguments.length?(A==null?n=s=null:s=i(n=A),o):n},o}function Jh(t,e,r){var n=null,i=at(!0),s=null,a=K0,o=null,A=wE(l);t=typeof t=="function"?t:t===void 0?nR:at(+t),e=typeof e=="function"?e:at(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?iR:at(+r);function l(c){var f,g,m,p=(c=xE(c)).length,v,y=!1,w,B=new Array(p),I=new Array(p);for(s==null&&(o=a(w=A())),f=0;f<=p;++f){if(!(f<p&&i(v=c[f],f,c))===y)if(y=!y)g=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=f-1;m>=g;--m)o.point(B[m],I[m]);o.lineEnd(),o.areaEnd()}y&&(B[f]=+t(v,f,c),I[f]=+e(v,f,c),o.point(n?+n(v,f,c):B[f],r?+r(v,f,c):I[f]))}if(w)return o=null,w+""||null}function u(){return sR().defined(i).curve(a).context(s)}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:at(+c),n=null,l):t},l.x0=function(c){return arguments.length?(t=typeof c=="function"?c:at(+c),l):t},l.x1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:at(+c),l):n},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:at(+c),r=null,l):e},l.y0=function(c){return arguments.length?(e=typeof c=="function"?c:at(+c),l):e},l.y1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:at(+c),l):r},l.lineX0=l.lineY0=function(){return u().x(t).y(e)},l.lineY1=function(){return u().x(t).y(r)},l.lineX1=function(){return u().x(n).y(e)},l.defined=function(c){return arguments.length?(i=typeof c=="function"?c:at(!!c),l):i},l.curve=function(c){return arguments.length?(a=c,s!=null&&(o=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=o=null:o=a(s=c),l):s},l}class aR{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Kte(t){return new aR(t,!0)}function $te(t){return new aR(t,!1)}const bE={draw(t,e){const r=xi(e/zp);t.moveTo(r,0),t.arc(0,0,r,0,V0)}},Gte={draw(t,e){const r=xi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},oR=xi(1/3),zte=oR*2,Wte={draw(t,e){const r=xi(e/zte),n=r*oR;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Xte={draw(t,e){const r=xi(e),n=-r/2;t.rect(n,n,r,r)}},Yte=.8908130915292852,AR=Gp(zp/10)/Gp(7*zp/10),qte=Gp(V0/10)*AR,Jte=-eR(V0/10)*AR,Zte={draw(t,e){const r=xi(e*Yte),n=qte*r,i=Jte*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=V0*s/5,o=eR(a),A=Gp(a);t.lineTo(A*r,-o*r),t.lineTo(o*n-A*i,A*n+o*i)}t.closePath()}},Wy=xi(3),ere={draw(t,e){const r=-xi(e/(Wy*3));t.moveTo(0,r*2),t.lineTo(-Wy*r,-r),t.lineTo(Wy*r,-r),t.closePath()}},Qn=-.5,Nn=xi(3)/2,wb=1/xi(12),tre=(wb/2+1)*3,rre={draw(t,e){const r=xi(e/tre),n=r/2,i=r*wb,s=n,a=r*wb+r,o=-s,A=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,A),t.lineTo(Qn*n-Nn*i,Nn*n+Qn*i),t.lineTo(Qn*s-Nn*a,Nn*s+Qn*a),t.lineTo(Qn*o-Nn*A,Nn*o+Qn*A),t.lineTo(Qn*n+Nn*i,Qn*i-Nn*n),t.lineTo(Qn*s+Nn*a,Qn*a-Nn*s),t.lineTo(Qn*o+Nn*A,Qn*A-Nn*o),t.closePath()}};function nre(t,e){let r=null,n=wE(i);t=typeof t=="function"?t:at(t||bE),e=typeof e=="function"?e:at(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:at(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:at(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Wp(){}function Xp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function lR(t){this._context=t}lR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ire(t){return new lR(t)}function uR(t){this._context=t}uR.prototype={areaStart:Wp,areaEnd:Wp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Xp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sre(t){return new uR(t)}function cR(t){this._context=t}cR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Xp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function are(t){return new cR(t)}function dR(t){this._context=t}dR.prototype={areaStart:Wp,areaEnd:Wp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ore(t){return new dR(t)}function mF(t){return t<0?-1:1}function vF(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(mF(s)+mF(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function yF(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Xy(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function Yp(t){this._context=t}Yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xy(this,this._t0,yF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Xy(this,yF(this,r=vF(this,t,e)),r);break;default:Xy(this,this._t0,r=vF(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function fR(t){this._context=new hR(t)}(fR.prototype=Object.create(Yp.prototype)).point=function(t,e){Yp.prototype.point.call(this,e,t)};function hR(t){this._context=t}hR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function Are(t){return new Yp(t)}function lre(t){return new fR(t)}function gR(t){this._context=t}gR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=wF(t),i=wF(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function wF(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function ure(t){return new gR(t)}function $0(t,e){this._context=t,this._t=e}$0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function cre(t){return new $0(t,.5)}function dre(t){return new $0(t,0)}function fre(t){return new $0(t,1)}function tu(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function xb(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function hre(t,e){return t[e]}function gre(t){const e=[];return e.key=t,e}function pre(){var t=at([]),e=xb,r=tu,n=hre;function i(s){var a=Array.from(t.apply(this,arguments),gre),o,A=a.length,l=-1,u;for(const c of s)for(o=0,++l;o<A;++o)(a[o][l]=[0,+n(c,a[o].key,l,s)]).data=c;for(o=0,u=xE(e(a));o<A;++o)a[u[o]].index=o;return r(a,u),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:at(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:at(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?xb:typeof s=="function"?s:at(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??tu,i):r},i}function mre(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}tu(t,e)}}function vre(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}tu(t,e)}}function yre(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,A=0,l=0;o<a;++o){for(var u=t[e[o]],c=u[n][1]||0,f=u[n-1][1]||0,g=(c-f)/2,m=0;m<o;++m){var p=t[e[m]],v=p[n][1]||0,y=p[n-1][1]||0;g+=v-y}A+=c,l+=g*c}i[n-1][1]+=i[n-1][0]=r,A&&(r-=l/A)}i[n-1][1]+=i[n-1][0]=r,tu(t,e)}}var wre=["type","size","sizeType"];function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bb.apply(null,arguments)}function xF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(r),!0).forEach(function(n){xre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xre(t,e,r){return(e=bre(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bre(t){var e=Bre(t,"string");return typeof e=="symbol"?e:e+""}function Bre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cre(t,e){if(t==null)return{};var r,n,i=Ere(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ere(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var pR={symbolCircle:bE,symbolCross:Gte,symbolDiamond:Wte,symbolSquare:Xte,symbolStar:Zte,symbolTriangle:ere,symbolWye:rre},_re=Math.PI/180,Ire=t=>{var e="symbol".concat(wf(t));return pR[e]||bE},Sre=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*_re;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Tre=(t,e)=>{pR["symbol".concat(wf(t))]=e},BE=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=Cre(t,wre),s=bF(bF({},i),{},{type:e,size:r,sizeType:n}),a=()=>{var c=Ire(e),f=nre().type(c).size(Sre(r,n,e));return f()},{className:o,cx:A,cy:l}=s,u=yt(s,!0);return A===+A&&l===+l&&r===+r?x.createElement("path",bb({},u,{className:Ke("recharts-symbols",o),transform:"translate(".concat(A,", ").concat(l,")"),d:a()})):null};BE.registerSymbol=Tre;function Bb(){return Bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bb.apply(null,arguments)}function BF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fre(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BF(Object(r),!0).forEach(function(n){CE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CE(t,e,r){return(e=Ure(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ure(t){var e=Pre(t,"string");return typeof e=="symbol"?e:e+""}function Pre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oi=32;class EE extends x.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,i=oi/2,s=oi/6,a=oi/3,o=e.inactive?n:e.color,A=r??e.type;if(A==="none")return null;if(A==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:oi,y2:i,className:"recharts-legend-icon"});if(A==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(oi,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(A==="rect")return x.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(oi/8,"h").concat(oi,"v").concat(oi*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(x.isValidElement(e.legendIcon)){var l=Fre({},e);return delete l.legendIcon,x.cloneElement(e.legendIcon,l)}return x.createElement(BE,{fill:o,cx:i,cy:i,size:oi,sizeType:"diameter",type:A})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:a}=this.props,o={x:0,y:0,width:oi,height:oi},A={display:n==="horizontal"?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,c)=>{var f=u.formatter||i,g=Ke({"recharts-legend-item":!0,["legend-item-".concat(c)]:!0,inactive:u.inactive});if(u.type==="none")return null;var m=u.inactive?s:u.color,p=f?f(u.value,u,c):u.value;return x.createElement("li",Bb({className:g,style:A,key:"legend-item-".concat(c)},xf(this.props,u,c)),x.createElement(yE,{width:r,height:r,viewBox:o,style:l,"aria-label":"".concat(p," legend icon")},this.renderIcon(u,a)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},p))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}CE(EE,"displayName","Legend");CE(EE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var mR={},vR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],o=n(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(vR);var _E={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(_E);var yR={},G0={},wR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(wR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wR;function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(G0);var xR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(xR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G0,r=xR;function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(yR);var bR={},BR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U0;function r(n){return function(i){return e.get(i,n)}}t.property=r})(BR);var CR={},Yy={},qy={},IE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(IE);var SE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(SE);var z0={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(z0);var CF;function Qre(){return CF||(CF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TE(),r=IE,n=SE,i=z0;function s(c,f,g){return typeof g!="function"?e.isMatch(c,f):a(c,f,function m(p,v,y,w,B,I){const T=g(p,v,y,w,B,I);return T!==void 0?!!T:a(p,v,m,I)},new Map)}function a(c,f,g,m){if(f===c)return!0;switch(typeof f){case"object":return o(c,f,g,m);case"function":return Object.keys(f).length>0?a(c,{...f},g,m):i.eq(c,f);default:return r.isObject(c)?typeof f=="string"?f==="":!0:i.eq(c,f)}}function o(c,f,g,m){if(f==null)return!0;if(Array.isArray(f))return l(c,f,g,m);if(f instanceof Map)return A(c,f,g,m);if(f instanceof Set)return u(c,f,g,m);const p=Object.keys(f);if(c==null)return p.length===0;if(p.length===0)return!0;if(m&&m.has(f))return m.get(f)===c;m&&m.set(f,c);try{for(let v=0;v<p.length;v++){const y=p[v];if(!n.isPrimitive(c)&&!(y in c)||f[y]===void 0&&c[y]!==void 0||f[y]===null&&c[y]!==null||!g(c[y],f[y],y,c,f,m))return!1}return!0}finally{m&&m.delete(f)}}function A(c,f,g,m){if(f.size===0)return!0;if(!(c instanceof Map))return!1;for(const[p,v]of f.entries()){const y=c.get(p);if(g(y,v,p,c,f,m)===!1)return!1}return!0}function l(c,f,g,m){if(f.length===0)return!0;if(!Array.isArray(c))return!1;const p=new Set;for(let v=0;v<f.length;v++){const y=f[v];let w=!1;for(let B=0;B<c.length;B++){if(p.has(B))continue;const I=c[B];let T=!1;if(g(I,y,v,c,f,m)&&(T=!0),T){p.add(B),w=!0;break}}if(!w)return!1}return!0}function u(c,f,g,m){return f.size===0?!0:c instanceof Set?l([...c],[...f],g,m):!1}t.isMatchWith=s,t.isSetMatch=u}(qy)),qy}var EF;function TE(){return EF||(EF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qre();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r}(Yy)),Yy}var ER={},FE={},UE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(UE);var W0={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(W0);var X0={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",A="[object Map]",l="[object Set]",u="[object Array]",c="[object Function]",f="[object ArrayBuffer]",g="[object Object]",m="[object Error]",p="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",w="[object Uint16Array]",B="[object Uint32Array]",I="[object BigUint64Array]",T="[object Int8Array]",F="[object Int16Array]",C="[object Int32Array]",_="[object BigInt64Array]",S="[object Float32Array]",P="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=f,t.arrayTag=u,t.bigInt64ArrayTag=_,t.bigUint64ArrayTag=I,t.booleanTag=i,t.dataViewTag=p,t.dateTag=o,t.errorTag=m,t.float32ArrayTag=S,t.float64ArrayTag=P,t.functionTag=c,t.int16ArrayTag=F,t.int32ArrayTag=C,t.int8ArrayTag=T,t.mapTag=A,t.numberTag=n,t.objectTag=g,t.regexpTag=e,t.setTag=l,t.stringTag=r,t.symbolTag=a,t.uint16ArrayTag=w,t.uint32ArrayTag=B,t.uint8ArrayTag=v,t.uint8ClampedArrayTag=y})(X0);var _R={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(_R);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UE,r=W0,n=X0,i=SE,s=_R;function a(u,c){return o(u,void 0,u,new Map,c)}function o(u,c,f,g=new Map,m=void 0){const p=m==null?void 0:m(u,c,f,g);if(p!=null)return p;if(i.isPrimitive(u))return u;if(g.has(u))return g.get(u);if(Array.isArray(u)){const v=new Array(u.length);g.set(u,v);for(let y=0;y<u.length;y++)v[y]=o(u[y],y,f,g,m);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;g.set(u,v);for(const[y,w]of u)v.set(y,o(w,y,f,g,m));return v}if(u instanceof Set){const v=new Set;g.set(u,v);for(const y of u)v.add(o(y,void 0,f,g,m));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(s.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);g.set(u,v);for(let y=0;y<u.length;y++)v[y]=o(u[y],y,f,g,m);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return g.set(u,v),A(v,u,f,g,m),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return g.set(u,v),A(v,u,f,g,m),v}if(u instanceof Blob){const v=new Blob([u],{type:u.type});return g.set(u,v),A(v,u,f,g,m),v}if(u instanceof Error){const v=new u.constructor;return g.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,A(v,u,f,g,m),v}if(typeof u=="object"&&l(u)){const v=Object.create(Object.getPrototypeOf(u));return g.set(u,v),A(v,u,f,g,m),v}return u}function A(u,c,f=u,g,m){const p=[...Object.keys(c),...e.getSymbols(c)];for(let v=0;v<p.length;v++){const y=p[v],w=Object.getOwnPropertyDescriptor(u,y);(w==null||w.writable)&&(u[y]=o(c[y],y,f,g,m))}}function l(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=A})(FE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FE;function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(ER);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TE(),r=ER;function n(i){return i=r.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=n})(CR);var IR={},SR={},TR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FE,r=X0;function n(i,s){return e.cloneDeepWith(i,(a,o,A,l)=>{const u=s==null?void 0:s(a,o,A,l);if(u!=null)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const c=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(c,i),c}case r.argumentsTag:{const c={};return e.copyProperties(c,i),c.length=i.length,c[Symbol.iterator]=i[Symbol.iterator],c}default:return}})}t.cloneDeepWith=n})(TR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TR;function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(SR);var FR={},PE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(PE);var UR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W0;function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(UR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fE,r=PE,n=UR,i=P0;function s(a,o){let A;if(Array.isArray(o)?A=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?A=i.toPath(o):A=[o],A.length===0)return!1;let l=a;for(let u=0;u<A.length;u++){const c=A[u];if((l==null||!Object.hasOwn(l,c))&&!((Array.isArray(l)||n.isArguments(l))&&r.isIndex(c)&&c<l.length))return!1;l=l[c]}return!0}t.has=s})(FR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TE(),r=hE,n=SR,i=U0,s=FR;function a(o,A){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return A=n.cloneDeep(A),function(l){const u=i.get(l,o);return u===void 0?s.has(l,o):A===void 0?u===void 0:e.isMatch(u,A)}}t.matchesProperty=a})(IR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_E,r=BR,n=CR,i=IR;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}t.iteratee=s})(bR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vR,r=_E,n=yR,i=bR;function s(a,o=r.identity){return n.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}t.uniqBy=s})(mR);var Nre=mR.uniqBy;const _F=Mi(Nre);function PR(t,e,r){return e===!0?_F(t,r):typeof e=="function"?_F(t,e):t}var QR={exports:{}},NR={},kR={exports:{}},OR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ru=x;function kre(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ore=typeof Object.is=="function"?Object.is:kre,Dre=ru.useState,jre=ru.useEffect,Rre=ru.useLayoutEffect,Lre=ru.useDebugValue;function Mre(t,e){var r=e(),n=Dre({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return Rre(function(){i.value=r,i.getSnapshot=e,Jy(i)&&s({inst:i})},[t,r,e]),jre(function(){return Jy(i)&&s({inst:i}),t(function(){Jy(i)&&s({inst:i})})},[t]),Lre(r),r}function Jy(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ore(t,r)}catch{return!0}}function Hre(t,e){return e()}var Vre=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Hre:Mre;OR.useSyncExternalStore=ru.useSyncExternalStore!==void 0?ru.useSyncExternalStore:Vre;kR.exports=OR;var Kre=kR.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0=x,$re=Kre;function Gre(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zre=typeof Object.is=="function"?Object.is:Gre,Wre=$re.useSyncExternalStore,Xre=Y0.useRef,Yre=Y0.useEffect,qre=Y0.useMemo,Jre=Y0.useDebugValue;NR.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=Xre(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=qre(function(){function A(g){if(!l){if(l=!0,u=g,g=n(g),i!==void 0&&a.hasValue){var m=a.value;if(i(m,g))return c=m}return c=g}if(m=c,zre(u,g))return m;var p=n(g);return i!==void 0&&i(m,p)?(u=g,m):(u=g,c=p)}var l=!1,u,c,f=r===void 0?null:r;return[function(){return A(e())},f===null?void 0:function(){return A(f())}]},[e,r,n,i]);var o=Wre(t,s[0],s[1]);return Yre(function(){a.hasValue=!0,a.value=o},[o]),Jre(o),o};QR.exports=NR;var Zre=QR.exports,QE=x.createContext(null),ene=t=>t,Tt=()=>{var t=x.useContext(QE);return t?t.store.dispatch:ene},Lg=()=>{},tne=()=>Lg,rne=(t,e)=>t===e;function we(t){var e=x.useContext(QE);return Zre.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:tne,e?e.store.getState:Lg,e?e.store.getState:Lg,e?t:Lg,rne)}function nne(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function ine(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function sne(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var IF=t=>Array.isArray(t)?t:[t];function ane(t){const e=Array.isArray(t[0])?t[0]:t;return sne(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function one(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var Ane=class{constructor(t){this.value=t}deref(){return this.value}},lne=typeof WeakRef<"u"?WeakRef:Ane,une=0,SF=1;function Zh(){return{s:une,v:void 0,o:null,p:null}}function DR(t,e={}){let r=Zh();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var c;let o=r;const{length:A}=arguments;for(let f=0,g=A;f<g;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let p=o.o;p===null&&(o.o=p=new WeakMap);const v=p.get(m);v===void 0?(o=Zh(),p.set(m,o)):o=v}else{let p=o.p;p===null&&(o.p=p=new Map);const v=p.get(m);v===void 0?(o=Zh(),p.set(m,o)):o=v}}const l=o;let u;if(o.s===SF)u=o.v;else if(u=t.apply(null,arguments),s++,n){const f=((c=i==null?void 0:i.deref)==null?void 0:c.call(i))??i;f!=null&&n(f,u)&&(u=f,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new lne(u):u}return l.s=SF,l.v=u,u}return a.clearCache=()=>{r=Zh(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function cne(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,o,A={},l=i.pop();typeof l=="object"&&(A=l,l=i.pop()),nne(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const u={...r,...A},{memoize:c,memoizeOptions:f=[],argsMemoize:g=DR,argsMemoizeOptions:m=[],devModeChecks:p={}}=u,v=IF(f),y=IF(m),w=ane(i),B=c(function(){return s++,l.apply(null,arguments)},...v),I=g(function(){a++;const F=one(w,arguments);return o=B.apply(null,F),o},...y);return Object.assign(I,{resultFunc:l,memoizedResultFunc:B,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:c,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var H=cne(DR),dne=Object.assign((t,e=H)=>{ine(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,o,A)=>(a[r[A]]=o,a),{}))},{withTypes:()=>dne}),jR={},RR={},LR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=e(n),o=e(i);if(a===o&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=r})(LR);var MR={},NE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(NE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NE,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(MR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LR,r=MR,n=P0;function i(s,a,o,A){if(s==null)return[];o=A?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(g=>String(g));const l=(g,m)=>{let p=g;for(let v=0;v<m.length&&p!=null;++v)p=p[m[v]];return p},u=(g,m)=>m==null||g==null?m:typeof g=="object"&&"key"in g?Object.hasOwn(m,g.key)?m[g.key]:l(m,g.path):typeof g=="function"?g(m):Array.isArray(g)?l(m,g):typeof m=="object"?m[g]:m,c=a.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return s.map(g=>({original:g,criteria:c.map(m=>u(m,g))})).slice().sort((g,m)=>{for(let p=0;p<c.length;p++){const v=e.compareValues(g.criteria[p],m.criteria[p],o[p]);if(v!==0)return v}return 0}).map(g=>g.original)}t.orderBy=i})(RR);var HR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],s=Math.floor(n),a=(o,A)=>{for(let l=0;l<o.length;l++){const u=o[l];Array.isArray(u)&&A<s?a(u,A+1):i.push(u)}};return a(r,0),i}t.flatten=e})(HR);var kE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PE,r=G0,n=IE,i=z0;function s(a,o,A){return n.isObject(A)&&(typeof o=="number"&&r.isArrayLike(A)&&e.isIndex(o)&&o<A.length||typeof o=="string"&&o in A)?i.eq(A[o],a):!1}t.isIterateeCall=s})(kE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RR,r=HR,n=kE;function i(s,...a){const o=a.length;return o>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,r.flatten(a),["asc"])}t.sortBy=i})(jR);var fne=jR.sortBy;const q0=Mi(fne);var VR=t=>t.legend.settings,hne=t=>t.legend.size,gne=t=>t.legend.payload,pne=H([gne,VR],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?q0(n,r):n});function mne(){return we(pne)}var eg=1;function KR(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>eg||Math.abs(a.left-e.left)>eg||Math.abs(a.top-e.top)>eg||Math.abs(a.width-e.width)>eg)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function hr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var vne=typeof Symbol=="function"&&Symbol.observable||"@@observable",TF=vne,Zy=()=>Math.random().toString(36).substring(7).split("").join("."),yne={INIT:`@@redux/INIT${Zy()}`,REPLACE:`@@redux/REPLACE${Zy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Zy()}`},qp=yne;function OE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function $R(t,e,r){if(typeof t!="function")throw new Error(hr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(hr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(hr(1));return r($R)(t,e)}let n=t,i=e,s=new Map,a=s,o=0,A=!1;function l(){a===s&&(a=new Map,s.forEach((v,y)=>{a.set(y,v)}))}function u(){if(A)throw new Error(hr(3));return i}function c(v){if(typeof v!="function")throw new Error(hr(4));if(A)throw new Error(hr(5));let y=!0;l();const w=o++;return a.set(w,v),function(){if(y){if(A)throw new Error(hr(6));y=!1,l(),a.delete(w),s=null}}}function f(v){if(!OE(v))throw new Error(hr(7));if(typeof v.type>"u")throw new Error(hr(8));if(typeof v.type!="string")throw new Error(hr(17));if(A)throw new Error(hr(9));try{A=!0,i=n(i,v)}finally{A=!1}return(s=a).forEach(w=>{w()}),v}function g(v){if(typeof v!="function")throw new Error(hr(10));n=v,f({type:qp.REPLACE})}function m(){const v=c;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(hr(11));function w(){const I=y;I.next&&I.next(u())}return w(),{unsubscribe:v(w)}},[TF](){return this}}}return f({type:qp.INIT}),{dispatch:f,subscribe:c,getState:u,replaceReducer:g,[TF]:m}}function wne(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:qp.INIT})>"u")throw new Error(hr(12));if(typeof r(void 0,{type:qp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hr(13))})}function GR(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{wne(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let A=!1;const l={};for(let u=0;u<n.length;u++){const c=n[u],f=r[c],g=a[c],m=f(g,o);if(typeof m>"u")throw o&&o.type,new Error(hr(14));l[c]=m,A=A||m!==g}return A=A||n.length!==Object.keys(a).length,A?l:a}}function Jp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function xne(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(hr(15))};const a={getState:i.getState,dispatch:(A,...l)=>s(A,...l)},o=t.map(A=>A(a));return s=Jp(...o)(i.dispatch),{...i,dispatch:s}}}function zR(t){return OE(t)&&"type"in t&&typeof t.type=="string"}var WR=Symbol.for("immer-nothing"),FF=Symbol.for("immer-draftable"),_n=Symbol.for("immer-state");function hi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var nu=Object.getPrototypeOf;function hA(t){return!!t&&!!t[_n]}function Is(t){var e;return t?XR(t)||Array.isArray(t)||!!t[FF]||!!((e=t.constructor)!=null&&e[FF])||Z0(t)||ev(t):!1}var bne=Object.prototype.constructor.toString();function XR(t){if(!t||typeof t!="object")return!1;const e=nu(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===bne}function Zp(t,e){J0(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function J0(t){const e=t[_n];return e?e.type_:Array.isArray(t)?1:Z0(t)?2:ev(t)?3:0}function Cb(t,e){return J0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function YR(t,e,r){const n=J0(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function Bne(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Z0(t){return t instanceof Map}function ev(t){return t instanceof Set}function _o(t){return t.copy_||t.base_}function Eb(t,e){if(Z0(t))return new Map(t);if(ev(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=XR(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[_n];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(nu(t),n)}else{const n=nu(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function DE(t,e=!1){return tv(t)||hA(t)||!Is(t)||(J0(t)>1&&(t.set=t.add=t.clear=t.delete=Cne),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>DE(n,!0))),t}function Cne(){hi(2)}function tv(t){return Object.isFrozen(t)}var Ene={};function gA(t){const e=Ene[t];return e||hi(0,t),e}var Vd;function qR(){return Vd}function _ne(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function UF(t,e){e&&(gA("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function _b(t){Ib(t),t.drafts_.forEach(Ine),t.drafts_=null}function Ib(t){t===Vd&&(Vd=t.parent_)}function PF(t){return Vd=_ne(Vd,t)}function Ine(t){const e=t[_n];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function QF(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[_n].modified_&&(_b(e),hi(4)),Is(t)&&(t=em(e,t),e.parent_||tm(e,t)),e.patches_&&gA("Patches").generateReplacementPatches_(r[_n].base_,t,e.patches_,e.inversePatches_)):t=em(e,r,[]),_b(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==WR?t:void 0}function em(t,e,r){if(tv(e))return e;const n=e[_n];if(!n)return Zp(e,(i,s)=>NF(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return tm(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),Zp(s,(o,A)=>NF(t,n,i,o,A,r,a)),tm(t,i,!1),r&&t.patches_&&gA("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function NF(t,e,r,n,i,s,a){if(hA(i)){const o=s&&e&&e.type_!==3&&!Cb(e.assigned_,n)?s.concat(n):void 0,A=em(t,i,o);if(YR(r,n,A),hA(A))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Is(i)&&!tv(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;em(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&tm(t,i)}}function tm(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&DE(e,r)}function Sne(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:qR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=jE;r&&(i=[n],s=Kd);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var jE={get(t,e){if(e===_n)return t;const r=_o(t);if(!Cb(r,e))return Tne(t,r,e);const n=r[e];return t.finalized_||!Is(n)?n:n===ew(t.base_,e)?(tw(t),t.copy_[e]=Tb(n,t)):n},has(t,e){return e in _o(t)},ownKeys(t){return Reflect.ownKeys(_o(t))},set(t,e,r){const n=JR(_o(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=ew(_o(t),e),s=i==null?void 0:i[_n];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(Bne(r,i)&&(r!==void 0||Cb(t.base_,e)))return!0;tw(t),Sb(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return ew(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,tw(t),Sb(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=_o(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){hi(11)},getPrototypeOf(t){return nu(t.base_)},setPrototypeOf(){hi(12)}},Kd={};Zp(jE,(t,e)=>{Kd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Kd.deleteProperty=function(t,e){return Kd.set.call(this,t,e,void 0)};Kd.set=function(t,e,r){return jE.set.call(this,t[0],e,r,t[0])};function ew(t,e){const r=t[_n];return(r?_o(r):t)[e]}function Tne(t,e,r){var i;const n=JR(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function JR(t,e){if(!(e in t))return;let r=nu(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=nu(r)}}function Sb(t){t.modified_||(t.modified_=!0,t.parent_&&Sb(t.parent_))}function tw(t){t.copy_||(t.copy_=Eb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Fne=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(A=s,...l){return a.produce(A,u=>r.call(this,u,...l))}}typeof r!="function"&&hi(6),n!==void 0&&typeof n!="function"&&hi(7);let i;if(Is(e)){const s=PF(this),a=Tb(e,void 0);let o=!0;try{i=r(a),o=!1}finally{o?_b(s):Ib(s)}return UF(s,n),QF(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===WR&&(i=void 0),this.autoFreeze_&&DE(i,!0),n){const s=[],a=[];gA("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else hi(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,A=>e(A,...o));let n,i;return[this.produce(e,r,(a,o)=>{n=a,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Is(t)||hi(8),hA(t)&&(t=ms(t));const e=PF(this),r=Tb(t,void 0);return r[_n].isManual_=!0,Ib(e),r}finishDraft(t,e){const r=t&&t[_n];(!r||!r.isManual_)&&hi(9);const{scope_:n}=r;return UF(n,e),QF(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=gA("Patches").applyPatches_;return hA(t)?n(t,e):this.produce(t,i=>n(i,e))}};function Tb(t,e){const r=Z0(t)?gA("MapSet").proxyMap_(t,e):ev(t)?gA("MapSet").proxySet_(t,e):Sne(t,e);return(e?e.scope_:qR()).drafts_.push(r),r}function ms(t){return hA(t)||hi(10,t),ZR(t)}function ZR(t){if(!Is(t)||tv(t))return t;const e=t[_n];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Eb(t,e.scope_.immer_.useStrictShallowCopy_)}else r=Eb(t,!0);return Zp(r,(n,i)=>{YR(r,n,ZR(i))}),e&&(e.finalized_=!1),r}var In=new Fne,eL=In.produce;In.produceWithPatches.bind(In);In.setAutoFreeze.bind(In);In.setUseStrictShallowCopy.bind(In);In.applyPatches.bind(In);In.createDraft.bind(In);In.finishDraft.bind(In);function tL(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var Une=tL(),Pne=tL,Qne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Jp:Jp.apply(null,arguments)};function ei(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(bn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>zR(n)&&n.type===t,r}var rL=class Nc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Nc.prototype)}static get[Symbol.species](){return Nc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Nc(...e[0].concat(this)):new Nc(...e.concat(this))}};function kF(t){return Is(t)?eL(t,()=>{}):t}function tg(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function Nne(t){return typeof t=="boolean"}var kne=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new rL;return r&&(Nne(r)?a.push(Une):a.push(Pne(r.extraArgument))),a},One="RTK_autoBatch",OF=t=>e=>{setTimeout(e,t)},Dne=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const o=new Set,A=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:OF(10):t.type==="callback"?t.queueNotification:OF(t.timeout),l=()=>{a=!1,s&&(s=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const c=()=>i&&u(),f=n.subscribe(c);return o.add(u),()=>{f(),o.delete(u)}},dispatch(u){var c;try{return i=!((c=u==null?void 0:u.meta)!=null&&c[One]),s=!i,s&&(a||(a=!0,A(l))),n.dispatch(u)}finally{i=!0}}})},jne=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new rL(t);return n&&i.push(Dne(typeof n=="object"?n:void 0)),i};function Rne(t){const e=kne(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:s=!0,preloadedState:a=void 0,enhancers:o=void 0}=t;let A;if(typeof r=="function")A=r;else if(OE(r))A=GR(r);else throw new Error(bn(1));let l;typeof n=="function"?l=n(e):l=e();let u=Jp;i&&(u=Qne({trace:!1,...typeof i=="object"&&i}));const c=xne(...l),f=jne(c);let g=typeof o=="function"?o(f):f();const m=u(...g);return $R(A,a,m)}function nL(t){const e={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(bn(28));if(o in e)throw new Error(bn(29));return e[o]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function Lne(t){return typeof t=="function"}function Mne(t,e){let[r,n,i]=nL(e),s;if(Lne(t))s=()=>kF(t());else{const o=kF(t);s=()=>o}function a(o=s(),A){let l=[r[A.type],...n.filter(({matcher:u})=>u(A)).map(({reducer:u})=>u)];return l.filter(u=>!!u).length===0&&(l=[i]),l.reduce((u,c)=>{if(c)if(hA(u)){const g=c(u,A);return g===void 0?u:g}else{if(Is(u))return eL(u,f=>c(f,A));{const f=c(u,A);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},o)}return a.getInitialState=s,a}var Hne="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Vne=(t=21)=>{let e="",r=t;for(;r--;)e+=Hne[Math.random()*64|0];return e},Kne=Symbol.for("rtk-slice-createasyncthunk");function $ne(t,e){return`${t}/${e}`}function Gne({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[Kne];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(bn(11));const o=(typeof i.reducers=="function"?i.reducers(Wne()):i.reducers)||{},A=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(I,T){const F=typeof I=="string"?I:I.type;if(!F)throw new Error(bn(12));if(F in l.sliceCaseReducersByType)throw new Error(bn(13));return l.sliceCaseReducersByType[F]=T,u},addMatcher(I,T){return l.sliceMatchers.push({matcher:I,reducer:T}),u},exposeAction(I,T){return l.actionCreators[I]=T,u},exposeCaseReducer(I,T){return l.sliceCaseReducersByName[I]=T,u}};A.forEach(I=>{const T=o[I],F={reducerName:I,type:$ne(s,I),createNotation:typeof i.reducers=="function"};Yne(T)?Jne(F,T,u,e):Xne(F,T,u)});function c(){const[I={},T=[],F=void 0]=typeof i.extraReducers=="function"?nL(i.extraReducers):[i.extraReducers],C={...I,...l.sliceCaseReducersByType};return Mne(i.initialState,_=>{for(let S in C)_.addCase(S,C[S]);for(let S of l.sliceMatchers)_.addMatcher(S.matcher,S.reducer);for(let S of T)_.addMatcher(S.matcher,S.reducer);F&&_.addDefaultCase(F)})}const f=I=>I,g=new Map,m=new WeakMap;let p;function v(I,T){return p||(p=c()),p(I,T)}function y(){return p||(p=c()),p.getInitialState()}function w(I,T=!1){function F(_){let S=_[I];return typeof S>"u"&&T&&(S=tg(m,F,y)),S}function C(_=f){const S=tg(g,T,()=>new WeakMap);return tg(S,_,()=>{const P={};for(const[N,k]of Object.entries(i.selectors??{}))P[N]=zne(k,_,()=>tg(m,_,y),T);return P})}return{reducerPath:I,getSelectors:C,get selectors(){return C(F)},selectSlice:F}}const B={name:s,reducer:v,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:y,...w(a),injectInto(I,{reducerPath:T,...F}={}){const C=T??a;return I.inject({reducerPath:C,reducer:v},F),{...B,...w(C,!0)}}};return B}}function zne(t,e,r,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=r()),t(o,...a)}return i.unwrapped=t,i}var Un=Gne();function Wne(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Xne({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!qne(n))throw new Error(bn(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?ei(t,a):ei(t))}function Yne(t){return t._reducerDefinitionType==="asyncThunk"}function qne(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Jne({type:t,reducerName:e},r,n,i){if(!i)throw new Error(bn(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:A,settled:l,options:u}=r,c=i(t,s,u);n.exposeAction(e,c),a&&n.addCase(c.fulfilled,a),o&&n.addCase(c.pending,o),A&&n.addCase(c.rejected,A),l&&n.addMatcher(c.settled,l),n.exposeCaseReducer(e,{fulfilled:a||rg,pending:o||rg,rejected:A||rg,settled:l||rg})}function rg(){}var Zne="task",iL="listener",sL="completed",RE="cancelled",eie=`task-${RE}`,tie=`task-${sL}`,Fb=`${iL}-${RE}`,rie=`${iL}-${sL}`,rv=class{constructor(t){$u(this,"name","TaskAbortError");$u(this,"message");this.code=t,this.message=`${Zne} ${RE} (reason: ${t})`}},LE=(t,e)=>{if(typeof t!="function")throw new TypeError(bn(32))},rm=()=>{},aL=(t,e=rm)=>(t.catch(e),t),oL=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Yo=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},qo=t=>{if(t.aborted){const{reason:e}=t;throw new rv(e)}};function AL(t,e){let r=rm;return new Promise((n,i)=>{const s=()=>i(new rv(t.reason));if(t.aborted){s();return}r=oL(t,s),e.finally(()=>r()).then(n,i)}).finally(()=>{r=rm})}var nie=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof rv?"cancelled":"rejected",error:r}}finally{e==null||e()}},nm=t=>e=>aL(AL(t,e).then(r=>(qo(t),r))),lL=t=>{const e=nm(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Pl}=Object,DF={},nv="listenerMiddleware",iie=(t,e)=>{const r=n=>oL(t,()=>Yo(n,t.reason));return(n,i)=>{LE(n);const s=new AbortController;r(s);const a=nie(async()=>{qo(t),qo(s.signal);const o=await n({pause:nm(s.signal),delay:lL(s.signal),signal:s.signal});return qo(s.signal),o},()=>Yo(s,tie));return i!=null&&i.autoJoin&&e.push(a.catch(rm)),{result:nm(t)(a),cancel(){Yo(s,eie)}}}},sie=(t,e)=>{const r=async(n,i)=>{qo(e);let s=()=>{};const o=[new Promise((A,l)=>{let u=t({predicate:n,effect:(c,f)=>{f.unsubscribe(),A([c,f.getState(),f.getOriginalState()])}});s=()=>{u(),l()}})];i!=null&&o.push(new Promise(A=>setTimeout(A,i,null)));try{const A=await AL(e,Promise.race(o));return qo(e),A}finally{s()}};return(n,i)=>aL(r(n,i))},uL=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=ei(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(bn(21));return LE(s),{predicate:i,type:e,effect:s}},cL=Pl(t=>{const{type:e,predicate:r,effect:n}=uL(t);return{id:Vne(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(bn(22))}}},{withTypes:()=>cL}),jF=(t,e)=>{const{type:r,effect:n,predicate:i}=uL(e);return Array.from(t.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},Ub=t=>{t.pending.forEach(e=>{Yo(e,Fb)})},aie=t=>()=>{t.forEach(Ub),t.clear()},RF=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},dL=Pl(ei(`${nv}/add`),{withTypes:()=>dL}),oie=ei(`${nv}/removeAll`),fL=Pl(ei(`${nv}/remove`),{withTypes:()=>fL}),Aie=(...t)=>{console.error(`${nv}/error`,...t)},Bf=(t={})=>{const e=new Map,{extra:r,onError:n=Aie}=t;LE(n);const i=u=>(u.unsubscribe=()=>e.delete(u.id),e.set(u.id,u),c=>{u.unsubscribe(),c!=null&&c.cancelActive&&Ub(u)}),s=u=>{const c=jF(e,u)??cL(u);return i(c)};Pl(s,{withTypes:()=>s});const a=u=>{const c=jF(e,u);return c&&(c.unsubscribe(),u.cancelActive&&Ub(c)),!!c};Pl(a,{withTypes:()=>a});const o=async(u,c,f,g)=>{const m=new AbortController,p=sie(s,m.signal),v=[];try{u.pending.add(m),await Promise.resolve(u.effect(c,Pl({},f,{getOriginalState:g,condition:(y,w)=>p(y,w).then(Boolean),take:p,delay:lL(m.signal),pause:nm(m.signal),extra:r,signal:m.signal,fork:iie(m.signal,v),unsubscribe:u.unsubscribe,subscribe:()=>{e.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((y,w,B)=>{y!==m&&(Yo(y,Fb),B.delete(y))})},cancel:()=>{Yo(m,Fb),u.pending.delete(m)},throwIfCancelled:()=>{qo(m.signal)}})))}catch(y){y instanceof rv||RF(n,y,{raisedBy:"effect"})}finally{await Promise.all(v),Yo(m,rie),u.pending.delete(m)}},A=aie(e);return{middleware:u=>c=>f=>{if(!zR(f))return c(f);if(dL.match(f))return s(f.payload);if(oie.match(f)){A();return}if(fL.match(f))return a(f.payload);let g=u.getState();const m=()=>{if(g===DF)throw new Error(bn(23));return g};let p;try{if(p=c(f),e.size>0){const v=u.getState(),y=Array.from(e.values());for(const w of y){let B=!1;try{B=w.predicate(f,v,g)}catch(I){B=!1,RF(n,I,{raisedBy:"predicate"})}B&&o(w,f,u,m)}}}finally{g=DF}return p},startListening:s,stopListening:a,clearListeners:A}};function bn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var lie={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},hL=Un({name:"chartLayout",initialState:lie,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:uie,setLayout:cie,setChartSize:die,setScale:fie}=hL.actions,hie=hL.reducer;function LF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LF(Object(r),!0).forEach(function(n){gie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gie(t,e,r){return(e=pie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pie(t){var e=mie(t,"string");return typeof e=="symbol"?e:e+""}function mie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var im=Math.PI/180,vie=t=>t*180/Math.PI,Kt=(t,e,r,n)=>({x:t+Math.cos(-im*n)*r,y:e+Math.sin(-im*n)*r}),gL=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},yie=(t,e)=>{var{x:r,y:n}=t,{x:i,y:s}=e;return Math.sqrt((r-i)**2+(n-s)**2)},wie=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:s}=e,a=yie({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(r-i)/a,A=Math.acos(o);return n>s&&(A=2*Math.PI-A),{radius:a,angle:vie(A),angleInRadian:A}},xie=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:e-s*360,endAngle:r-s*360}},bie=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return t+a*360},Bie=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:s}=wie({x:r,y:n},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:A,endAngle:l}=xie(e),u=s,c;if(A<=l){for(;u>l;)u-=360;for(;u<A;)u+=360;c=u>=A&&u<=l}else{for(;u>A;)u-=360;for(;u<l;)u+=360;c=u>=l&&u<=A}return c?MF(MF({},e),{},{radius:i,angle:bie(u,e)}):null};function pL(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function HF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HF(Object(r),!0).forEach(function(n){Cie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cie(t,e,r){return(e=Eie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eie(t){var e=_ie(t,"string");return typeof e=="symbol"?e:e+""}function _ie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nt(t,e,r){return ft(t)||ft(e)?r:Ri(e)?Wa(t,e,r):typeof e=="function"?e(t):r}var Iie=(t,e,r,n,i)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var A=0;A<o;A++){var l=A>0?r[A-1].coordinate:r[o-1].coordinate,u=r[A].coordinate,c=A>=o-1?r[0].coordinate:r[A+1].coordinate,f=void 0;if(Ar(u-l)!==Ar(c-u)){var g=[];if(Ar(c-u)===Ar(i[1]-i[0])){f=c;var m=u+i[1]-i[0];g[0]=Math.min(m,(m+l)/2),g[1]=Math.max(m,(m+l)/2)}else{f=l;var p=c+i[1]-i[0];g[0]=Math.min(u,(p+u)/2),g[1]=Math.max(u,(p+u)/2)}var v=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(t>v[0]&&t<=v[1]||t>=g[0]&&t<=g[1]){({index:a}=r[A]);break}}else{var y=Math.min(l,c),w=Math.max(l,c);if(t>(y+u)/2&&t<=(w+u)/2){({index:a}=r[A]);break}}}else if(e){for(var B=0;B<o;B++)if(B===0&&t<=(e[B].coordinate+e[B+1].coordinate)/2||B>0&&B<o-1&&t>(e[B].coordinate+e[B-1].coordinate)/2&&t<=(e[B].coordinate+e[B+1].coordinate)/2||B===o-1&&t>(e[B].coordinate+e[B-1].coordinate)/2){({index:a}=e[B]);break}}return a},Sie=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&fe(t[s]))return Mn(Mn({},t),{},{[s]:t[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&fe(t[a]))return Mn(Mn({},t),{},{[a]:t[a]+(i||0)})}return t},ao=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",mL=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var i,s,a=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===r&&(s=!0),o.coordinate));return i||a.push(e),s||a.push(r),a},vL=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:o,isCategorical:A,categoricalDomain:l,tickCount:u,ticks:c,niceTicks:f,axisType:g}=t;if(!a)return null;var m=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,p=i==="category"&&a.bandwidth?a.bandwidth()/m:0;if(p=g==="angleAxis"&&s&&s.length>=2?Ar(s[0]-s[1])*2*p:p,c||f){var v=(c||f||[]).map((y,w)=>{var B=n?n.indexOf(y):y;return{coordinate:a(B)+p,value:y,offset:p,index:w}});return v.filter(y=>!En(y.coordinate))}return A&&l?l.map((y,w)=>({coordinate:a(y)+p,value:y,index:w,offset:p})):a.ticks&&u!=null?a.ticks(u).map((y,w)=>({coordinate:a(y)+p,value:y,offset:p,index:w})):a.domain().map((y,w)=>({coordinate:a(y)+p,value:n?n[y]:y,index:w,offset:p}))},VF=1e-4,Tie=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-VF,s=Math.max(n[0],n[1])+VF,a=t(e[0]),o=t(e[r-1]);(a<i||a>s||o<i||o>s)&&t.domain([e[0],e[r-1]])}},Fie=(t,e)=>{if(!e||e.length!==2||!fe(e[0])||!fe(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!fe(t[0])||t[0]<r)&&(i[0]=r),(!fe(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},Uie=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0,a=0;a<e;++a){var o=En(t[a][r][1])?t[a][r][0]:t[a][r][1];o>=0?(t[a][r][0]=i,t[a][r][1]=i+o,i=t[a][r][1]):(t[a][r][0]=s,t[a][r][1]=s+o,s=t[a][r][1])}},Pie=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0;s<e;++s){var a=En(t[s][r][1])?t[s][r][0]:t[s][r][1];a>=0?(t[s][r][0]=i,t[s][r][1]=i+a,i=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},Qie={sign:Uie,expand:mre,none:tu,silhouette:vre,wiggle:yre,positive:Pie},Nie=(t,e,r)=>{var n=Qie[r],i=pre().keys(e).value((s,a)=>+nt(s,a,0)).order(xb).offset(n);return i(t)};function kie(t){return t==null?void 0:String(t)}function KF(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ft(i[e.dataKey])){var o=Xj(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var A=nt(i,ft(a)?e.dataKey:a);return ft(A)?null:e.scale(A)}var $F=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return r[a]?r[a].coordinate+n:null;var o=nt(s,e.dataKey,e.scale.domain()[a]);return ft(o)?null:e.scale(o)-i/2+n},Oie=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},Die=t=>{var e=t.flat(2).filter(fe);return[Math.min(...e),Math.max(...e)]},jie=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Rie=(t,e,r)=>{if(t!=null)return jie(Object.keys(t).reduce((n,i)=>{var s=t[i],{stackedData:a}=s,o=a.reduce((A,l)=>{var u=pL(l,e,r),c=Die(u);return[Math.min(A[0],c[0]),Math.max(A[1],c[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},GF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$d=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=q0(e,u=>u.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var A=i[a],l=i[a-1];s=Math.min((A.coordinate||0)-(l.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function WF(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:s}=t;return Mn(Mn({},e),{},{dataKey:r,payload:n,value:i,name:s})}function Bu(t,e){if(t)return String(t);if(typeof e=="string")return e}function Lie(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return n?Bie({x:t,y:e},n):null}var Mie=(t,e,r,n)=>{var i=e.find(l=>l&&l.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:a}=n;return Mn(Mn(Mn({},n),Kt(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:A}=n;return Mn(Mn(Mn({},n),Kt(n.cx,n.cy,o,A)),{},{angle:A,radius:o})}return{x:0,y:0}},Hie=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Os=t=>t.layout.width,Ds=t=>t.layout.height,Vie=t=>t.layout.scale,yL=t=>t.layout.margin,ME=H(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),HE=H(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),wL="data-recharts-item-index",xL="data-recharts-item-data-key",iv=60;function XF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ys(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XF(Object(r),!0).forEach(function(n){Kie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kie(t,e,r){return(e=$ie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ie(t){var e=Gie(t,"string");return typeof e=="symbol"?e:e+""}function Gie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zie=t=>t.brush.height,Jt=H([Os,Ds,yL,zie,ME,HE,VR,hne],(t,e,r,n,i,s,a,o)=>{var A=s.reduce((m,p)=>{var{orientation:v}=p;if(!p.mirror&&!p.hide){var y=typeof p.width=="number"?p.width:iv;return Ys(Ys({},m),{},{[v]:m[v]+y})}return m},{left:r.left||0,right:r.right||0}),l=i.reduce((m,p)=>{var{orientation:v}=p;return!p.mirror&&!p.hide?Ys(Ys({},m),{},{[v]:Wa(m,"".concat(v))+p.height}):m},{top:r.top||0,bottom:r.bottom||0}),u=Ys(Ys({},l),A),c=u.bottom;u.bottom+=n,u=Sie(u,a,o);var f=t-u.left-u.right,g=e-u.top-u.bottom;return Ys(Ys({brushBottom:c},u),{},{width:Math.max(f,0),height:Math.max(g,0)})}),Wie=H(Jt,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),bL=H(Os,Ds,(t,e)=>({x:0,y:0,width:t,height:e})),Xie=x.createContext(null),An=()=>x.useContext(Xie)!=null,sv=t=>t.brush,av=H([sv,Jt,yL],(t,e,r)=>({height:t.height,x:fe(t.x)?t.x:e.left,y:fe(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:fe(t.width)?t.width:e.width})),VE=()=>{var t,e=An(),r=we(Wie),n=we(av),i=(t=we(sv))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},Yie={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},BL=()=>{var t;return(t=we(Jt))!==null&&t!==void 0?t:Yie},KE=()=>we(Os),$E=()=>we(Ds),qie={top:0,right:0,bottom:0,left:0},Jie=()=>{var t;return(t=we(e=>e.layout.margin))!==null&&t!==void 0?t:qie},Me=t=>t.layout.layoutType,ov=()=>we(Me),Zie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},CL=Un({name:"legend",initialState:Zie,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=ms(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:YF,setLegendSettings:ese,addLegendPayload:EL,removeLegendPayload:_L}=CL.actions,tse=CL.reducer,rse=["contextPayload"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pb.apply(null,arguments)}function qF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(r),!0).forEach(function(n){GE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GE(t,e,r){return(e=nse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nse(t){var e=ise(t,"string");return typeof e=="symbol"?e:e+""}function ise(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sse(t,e){if(t==null)return{};var r,n,i=ase(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ase(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ose(t){return t.value}function Ase(t){var{contextPayload:e}=t,r=sse(t,rse),n=PR(e,t.payloadUniqBy,ose),i=iu(iu({},r),{},{payload:n});return x.isValidElement(t.content)?x.cloneElement(t.content,i):typeof t.content=="function"?x.createElement(t.content,i):x.createElement(EE,i)}function lse(t,e,r,n,i,s){var{layout:a,align:o,verticalAlign:A}=e,l,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&a==="vertical"?l={left:((n||0)-s.width)/2}:l=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(A==="middle"?u={top:((i||0)-s.height)/2}:u=A==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),iu(iu({},l),u)}function use(t){var e=Tt();return x.useEffect(()=>{e(ese(t))},[e,t]),null}function cse(t){var e=Tt();return x.useEffect(()=>(e(YF(t)),()=>{e(YF({width:0,height:0}))}),[e,t]),null}function dse(t){var e=mne(),r=Lte(),n=Jie(),{width:i,height:s,wrapperStyle:a,portal:o}=t,[A,l]=KR([e]),u=KE(),c=$E(),f=u-(n.left||0)-(n.right||0),g=pA.getWidthOrHeight(t.layout,s,i,f),m=o?a:iu(iu({position:"absolute",width:(g==null?void 0:g.width)||i||"auto",height:(g==null?void 0:g.height)||s||"auto"},lse(a,t,n,u,c,A)),a),p=o??r;if(p==null)return null;var v=x.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:l},x.createElement(use,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),x.createElement(cse,{width:A.width,height:A.height}),x.createElement(Ase,Pb({},t,g,{margin:n,chartWidth:u,chartHeight:c,contextPayload:e})));return sC.createPortal(v,p)}class pA extends x.PureComponent{static getWidthOrHeight(e,r,n,i){return e==="vertical"&&fe(r)?{height:r}:e==="horizontal"?{width:n||i}:null}render(){return x.createElement(dse,this.props)}}GE(pA,"displayName","Legend");GE(pA,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Qb(){return Qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qb.apply(null,arguments)}function JF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JF(Object(r),!0).forEach(function(n){fse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fse(t,e,r){return(e=hse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hse(t){var e=gse(t,"string");return typeof e=="symbol"?e:e+""}function gse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pse(t){return Array.isArray(t)&&Ri(t[0])&&Ri(t[1])?t.join(" ~ "):t}var mse=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:A,labelClassName:l,label:u,labelFormatter:c,accessibilityLayer:f=!1}=t,g=()=>{if(s&&s.length){var T={padding:0,margin:0},F=(o?q0(s,o):s).map((C,_)=>{if(C.type==="none")return null;var S=C.formatter||a||pse,{value:P,name:N}=C,k=P,Q=N;{var se=S(P,N,C,_,s);if(Array.isArray(se))[k,Q]=se;else if(se!=null)k=se;else return null}var Ce=rw({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:Ce},Ri(Q)?x.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Ri(Q)?x.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,x.createElement("span",{className:"recharts-tooltip-item-value"},k),x.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:T},F)}return null},m=rw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),p=rw({margin:0},i),v=!ft(u),y=v?u:"",w=Ke("recharts-default-tooltip",A),B=Ke("recharts-tooltip-label",l);v&&c&&s!==void 0&&s!==null&&(y=c(u,s));var I=f?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Qb({className:w,style:m},I),x.createElement("p",{className:B,style:p},x.isValidElement(y)?y:"".concat(y)),g())},lc="recharts-tooltip-wrapper",vse={visibility:"hidden"};function yse(t){var{coordinate:e,translateX:r,translateY:n}=t;return Ke(lc,{["".concat(lc,"-right")]:fe(r)&&e&&fe(e.x)&&r>=e.x,["".concat(lc,"-left")]:fe(r)&&e&&fe(e.x)&&r<e.x,["".concat(lc,"-bottom")]:fe(n)&&e&&fe(e.y)&&n>=e.y,["".concat(lc,"-top")]:fe(n)&&e&&fe(e.y)&&n<e.y})}function ZF(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:A,viewBoxDimension:l}=t;if(s&&fe(s[n]))return s[n];var u=r[n]-o-(i>0?i:0),c=r[n]+i;if(e[n])return a[n]?u:c;var f=A[n];if(f==null)return 0;if(a[n]){var g=u,m=f;return g<m?Math.max(c,f):Math.max(u,f)}if(l==null)return 0;var p=c+o,v=f+l;return p>v?Math.max(u,f):Math.max(c,f)}function wse(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function xse(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:A}=t,l,u,c;return a.height>0&&a.width>0&&r?(u=ZF({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:A,viewBoxDimension:A.width}),c=ZF({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:A,viewBoxDimension:A.height}),l=wse({translateX:u,translateY:c,useTranslate3d:o})):l=vse,{cssProperties:l,cssClasses:yse({translateX:u,translateY:c,coordinate:r})}}function eU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ng(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eU(Object(r),!0).forEach(function(n){Nb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nb(t,e,r){return(e=bse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bse(t){var e=Bse(t,"string");return typeof e=="symbol"?e:e+""}function Bse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Cse extends x.PureComponent{constructor(){super(...arguments),Nb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Nb(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:A,offset:l,position:u,reverseDirection:c,useTranslate3d:f,viewBox:g,wrapperStyle:m,lastBoundingBox:p,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:w,cssProperties:B}=xse({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:l,position:u,reverseDirection:c,tooltipBox:{height:p.height,width:p.width},useTranslate3d:f,viewBox:g}),I=y?{}:ng(ng({transition:A&&e?"transform ".concat(n,"ms ").concat(i):void 0},B),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),T=ng(ng({},I),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},m);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:T,ref:v},s)}}var Ese=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),IA={isSsr:Ese()},IL=()=>we(t=>t.rootProps.accessibilityLayer);function Sn(t){return Number.isFinite(t)}function su(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function kb(){return kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kb.apply(null,arguments)}function tU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tU(Object(r),!0).forEach(function(n){_se(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _se(t,e,r){return(e=Ise(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ise(t){var e=Sse(t,"string");return typeof e=="symbol"?e:e+""}function Sse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nU={curveBasisClosed:sre,curveBasisOpen:are,curveBasis:ire,curveBumpX:Kte,curveBumpY:$te,curveLinearClosed:ore,curveLinear:K0,curveMonotoneX:Are,curveMonotoneY:lre,curveNatural:ure,curveStep:cre,curveStepAfter:fre,curveStepBefore:dre},ig=t=>Sn(t.x)&&Sn(t.y),uc=t=>t.x,cc=t=>t.y,Tse=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(wf(t));return(r==="curveMonotone"||r==="curveBump")&&e?nU["".concat(r).concat(e==="vertical"?"Y":"X")]:nU[r]||K0},Fse=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=t,a=Tse(e,i),o=s?r.filter(ig):r,A;if(Array.isArray(n)){var l=s?n.filter(c=>ig(c)):n,u=o.map((c,f)=>rU(rU({},c),{},{base:l[f]}));return i==="vertical"?A=Jh().y(cc).x1(uc).x0(c=>c.base.x):A=Jh().x(uc).y1(cc).y0(c=>c.base.y),A.defined(ig).curve(a),A(u)}return i==="vertical"&&fe(n)?A=Jh().y(cc).x1(uc).x0(n):fe(n)?A=Jh().x(uc).y1(cc).y0(n):A=sR().x(uc).y(cc),A.defined(ig).curve(a),A(o)},zE=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var s=r&&r.length?Fse(t):n;return x.createElement("path",kb({},ks(t),vE(t),{className:Ke("recharts-curve",e),d:s===null?void 0:s,ref:i}))},Use=["x","y","top","left","width","height","className"];function Ob(){return Ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ob.apply(null,arguments)}function iU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pse(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iU(Object(r),!0).forEach(function(n){Qse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qse(t,e,r){return(e=Nse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nse(t){var e=kse(t,"string");return typeof e=="symbol"?e:e+""}function kse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ose(t,e){if(t==null)return{};var r,n,i=Dse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Dse(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var jse=(t,e,r,n,i,s)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(r),Rse=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:o}=t,A=Ose(t,Use),l=Pse({x:e,y:r,top:n,left:i,width:s,height:a},A);return!fe(e)||!fe(r)||!fe(s)||!fe(a)||!fe(n)||!fe(i)?null:x.createElement("path",Ob({},yt(l,!0),{className:Ke("recharts-cross",o),d:jse(e,r,s,a,n,i)}))};function Lse(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function sU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mse(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sU(Object(r),!0).forEach(function(n){Hse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hse(t,e,r){return(e=Vse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vse(t){var e=Kse(t,"string");return typeof e=="symbol"?e:e+""}function Kse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pn(t,e){var r=Mse({},t),n=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&n[o]!==void 0&&(a[o]=n[o]),a),r);return s}var SL={},TL={},FL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}t.isPlainObject=e})(FL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FL,r=UE,n=W0,i=X0,s=z0;function a(l,u,c){return o(l,u,void 0,void 0,void 0,void 0,c)}function o(l,u,c,f,g,m,p){const v=p(l,u,c,f,g,m);if(v!==void 0)return v;if(typeof l==typeof u)switch(typeof l){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return l===u;case"number":return l===u||Object.is(l,u);case"function":return l===u;case"object":return A(l,u,m,p)}return A(l,u,m,p)}function A(l,u,c,f){if(Object.is(l,u))return!0;let g=n.getTag(l),m=n.getTag(u);if(g===i.argumentsTag&&(g=i.objectTag),m===i.argumentsTag&&(m=i.objectTag),g!==m)return!1;switch(g){case i.stringTag:return l.toString()===u.toString();case i.numberTag:{const y=l.valueOf(),w=u.valueOf();return s.eq(y,w)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(l.valueOf(),u.valueOf());case i.regexpTag:return l.source===u.source&&l.flags===u.flags;case i.functionTag:return l===u}c=c??new Map;const p=c.get(l),v=c.get(u);if(p!=null&&v!=null)return p===u;c.set(l,u),c.set(u,l);try{switch(g){case i.mapTag:{if(l.size!==u.size)return!1;for(const[y,w]of l.entries())if(!u.has(y)||!o(w,u.get(y),y,l,u,c,f))return!1;return!0}case i.setTag:{if(l.size!==u.size)return!1;const y=Array.from(l.values()),w=Array.from(u.values());for(let B=0;B<y.length;B++){const I=y[B],T=w.findIndex(F=>o(I,F,void 0,l,u,c,f));if(T===-1)return!1;w.splice(T,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(l)!==Buffer.isBuffer(u)||l.length!==u.length)return!1;for(let y=0;y<l.length;y++)if(!o(l[y],u[y],y,l,u,c,f))return!1;return!0}case i.arrayBufferTag:return l.byteLength!==u.byteLength?!1:A(new Uint8Array(l),new Uint8Array(u),c,f);case i.dataViewTag:return l.byteLength!==u.byteLength||l.byteOffset!==u.byteOffset?!1:A(new Uint8Array(l),new Uint8Array(u),c,f);case i.errorTag:return l.name===u.name&&l.message===u.message;case i.objectTag:{if(!(A(l.constructor,u.constructor,c,f)||e.isPlainObject(l)&&e.isPlainObject(u)))return!1;const w=[...Object.keys(l),...r.getSymbols(l)],B=[...Object.keys(u),...r.getSymbols(u)];if(w.length!==B.length)return!1;for(let I=0;I<w.length;I++){const T=w[I],F=l[T];if(!Object.hasOwn(u,T))return!1;const C=u[T];if(!o(F,C,T,l,u,c,f))return!1}return!0}default:return!1}}finally{c.delete(l),c.delete(u)}}t.isEqualWith=a})(TL);var UL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(UL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TL,r=UL;function n(i,s){return e.isEqualWith(i,s,r.noop)}t.isEqual=n})(SL);var $se=SL.isEqual;const Gse=Mi($se);var sm=1e-4,PL=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],QL=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),aU=(t,e)=>r=>{var n=PL(t,e);return QL(n,r)},zse=(t,e)=>r=>{var n=PL(t,e),i=[...n.map((s,a)=>s*a).slice(1),0];return QL(i,r)},oU=function(){for(var e,r,n,i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var A=a[0].split("(");A[0]==="cubic-bezier"&&A[1].split(")")[0].split(",").length===4&&([e,n,r,i]=A[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else a.length===4&&([e,n,r,i]=a);var l=aU(e,r),u=aU(n,i),c=zse(e,r),f=m=>m>1?1:m<0?0:m,g=m=>{for(var p=m>1?1:m,v=p,y=0;y<8;++y){var w=l(v)-p,B=c(v);if(Math.abs(w-p)<sm||B<sm)return u(v);v=f(v-w/B)}return u(v)};return g.isStepper=!1,g},Wse=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,s=(a,o,A)=>{var l=-(a-o)*r,u=A*n,c=A+(l-u)*i/1e3,f=A*i/1e3+a;return Math.abs(f-o)<sm&&Math.abs(c)<sm?[o,0]:[f,c]};return s.isStepper=!0,s.dt=i,s},NL=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oU(t);case"spring":return Wse();default:if(t.split("(")[0]==="cubic-bezier")return oU(t)}return typeof t=="function"?t:null};function AU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AU(Object(r),!0).forEach(function(n){Xse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xse(t,e,r){return(e=Yse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yse(t){var e=qse(t,"string");return typeof e=="symbol"?e:e+""}function qse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jse=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Zse=(t,e,r)=>t.map(n=>"".concat(Jse(n)," ").concat(e,"ms ").concat(r)).join(","),eae=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),Gd=(t,e)=>Object.keys(e).reduce((r,n)=>lU(lU({},r),{},{[n]:t(n,e[n])}),{});function uU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uU(Object(r),!0).forEach(function(n){tae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tae(t,e,r){return(e=rae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rae(t){var e=nae(t,"string");return typeof e=="symbol"?e:e+""}function nae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var am=(t,e,r)=>t+(e-t)*r,Db=t=>{var{from:e,to:r}=t;return e!==r},kL=(t,e,r)=>{var n=Gd((i,s)=>{if(Db(s)){var[a,o]=t(s.from,s.to,s.velocity);return yr(yr({},s),{},{from:a,velocity:o})}return s},e);return r<1?Gd((i,s)=>Db(s)?yr(yr({},s),{},{velocity:am(s.velocity,n[i].velocity,r),from:am(s.from,n[i].from,r)}):s,e):kL(t,n,r-1)};function iae(t,e,r,n,i,s){var a,o=n.reduce((f,g)=>yr(yr({},f),{},{[g]:{from:t[g],velocity:0,to:e[g]}}),{}),A=()=>Gd((f,g)=>g.from,o),l=()=>!Object.values(o).filter(Db).length,u=null,c=f=>{a||(a=f);var g=f-a,m=g/r.dt;o=kL(r,o,m),i(yr(yr(yr({},t),e),A())),a=f,l()||(u=s.setTimeout(c))};return()=>(u=s.setTimeout(c),()=>{u()})}function sae(t,e,r,n,i,s,a){var o=null,A=i.reduce((c,f)=>yr(yr({},c),{},{[f]:[t[f],e[f]]}),{}),l,u=c=>{l||(l=c);var f=(c-l)/n,g=Gd((p,v)=>am(...v,r(f)),A);if(s(yr(yr(yr({},t),e),g)),f<1)o=a.setTimeout(u);else{var m=Gd((p,v)=>am(...v,r(1)),A);s(yr(yr(yr({},t),e),m))}};return()=>(o=a.setTimeout(u),()=>{o()})}const OL=(t,e,r,n,i,s)=>{var a=eae(t,e);return r.isStepper===!0?iae(t,e,r,a,i,s):sae(t,e,r,n,a,i,s)};function aae(t){var e,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[A,...l]=o;if(typeof A=="number"){i=t.setTimeout(s.bind(null,l),A);return}s(A),i=t.setTimeout(s.bind(null,l));return}typeof a=="string"&&(e=a,r(e)),typeof a=="object"&&(e=a,r(e)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>t}}class oae{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function Aae(){return aae(new oae)}var lae=x.createContext(Aae);function DL(t,e){var r=x.useContext(lae);return x.useMemo(()=>e??r(t),[t,e,r])}var uae=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jb.apply(null,arguments)}function cae(t,e){if(t==null)return{};var r,n,i=dae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function dae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function cU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cU(Object(r),!0).forEach(function(n){Ro(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ro(t,e,r){return(e=fae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fae(t){var e=hae(t,"string");return typeof e=="symbol"?e:e+""}function hae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class WE extends x.PureComponent{constructor(e,r){super(e,r),Ro(this,"mounted",!1),Ro(this,"manager",void 0),Ro(this,"stopJSAnimation",null),Ro(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:s,to:a,children:o,duration:A,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||A<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:a});return}if(s){if(typeof o=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:r}=this.props;this.mounted=!0,!(!e||!r)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:s,to:a,from:o}=this.props,{style:A}=this.state;if(n){if(!r){var l={style:i?{[i]:a}:a};this.state&&A&&(i&&A[i]!==a||!i&&A!==a)&&this.setState(l);return}if(!(Gse(e.to,a)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=u||s?o:e.to;if(this.state&&A){var f={style:i?{[i]:c}:c};(i&&A[i]!==c||!i&&A!==c)&&this.setState(f)}this.runAnimation(qs(qs({},this.props),{},{from:c,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:r,to:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:A}=e,l=OL(r,n,NL(s),i,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=l()};this.manager.start([A,a,u,i,o])}runAnimation(e){var{begin:r,duration:n,attributeName:i,to:s,easing:a,onAnimationStart:o,onAnimationEnd:A,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof l=="function"||a==="spring"){this.runJSAnimation(e);return}var u=i?{[i]:s}:s,c=Zse(Object.keys(u),n,a);this.manager.start([o,r,qs(qs({},u),{},{transition:c}),n,A])}render(){var e=this.props,{children:r,begin:n,duration:i,attributeName:s,easing:a,isActive:o,from:A,to:l,canBegin:u,onAnimationEnd:c,shouldReAnimate:f,onAnimationReStart:g,animationManager:m}=e,p=cae(e,uae),v=x.Children.count(r),y=this.state.style;if(typeof r=="function")return r(y);if(!o||v===0||i<=0)return r;var w=B=>{var{style:I={},className:T}=B.props,F=x.cloneElement(B,qs(qs({},p),{},{style:qs(qs({},I),y),className:T}));return F};return v===1?w(x.Children.only(r)):x.createElement("div",null,x.Children.map(r,B=>w(B)))}}Ro(WE,"displayName","Animate");Ro(WE,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function om(t){var e,r=DL((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return x.createElement(WE,jb({},t,{animationManager:r}))}function Am(){return Am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Am.apply(null,arguments)}var dU=(t,e,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,o=r>=0?1:-1,A=n>=0&&r>=0||n<0&&r<0?1:0,l;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],c=0,f=4;c<f;c++)u[c]=i[c]>s?s:i[c];l="M".concat(t,",").concat(e+a*u[0]),u[0]>0&&(l+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(A,",").concat(t+o*u[0],",").concat(e)),l+="L ".concat(t+r-o*u[1],",").concat(e),u[1]>0&&(l+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(A,`,
        `).concat(t+r,",").concat(e+a*u[1])),l+="L ".concat(t+r,",").concat(e+n-a*u[2]),u[2]>0&&(l+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(A,`,
        `).concat(t+r-o*u[2],",").concat(e+n)),l+="L ".concat(t+o*u[3],",").concat(e+n),u[3]>0&&(l+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(A,`,
        `).concat(t,",").concat(e+n-a*u[3])),l+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);l="M ".concat(t,",").concat(e+a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+o*g,",").concat(e,`
            L `).concat(t+r-o*g,",").concat(e,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+r,",").concat(e+a*g,`
            L `).concat(t+r,",").concat(e+n-a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+r-o*g,",").concat(e+n,`
            L `).concat(t+o*g,",").concat(e+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t,",").concat(e+n-a*g," Z")}else l="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return l},gae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jL=t=>{var e=Pn(t,gae),r=x.useRef(null),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&i(y)}catch{}},[]);var{x:s,y:a,width:o,height:A,radius:l,className:u}=e,{animationEasing:c,animationDuration:f,animationBegin:g,isAnimationActive:m,isUpdateAnimationActive:p}=e;if(s!==+s||a!==+a||o!==+o||A!==+A||o===0||A===0)return null;var v=Ke("recharts-rectangle",u);return p?x.createElement(om,{canBegin:n>0,from:{width:o,height:A,x:s,y:a},to:{width:o,height:A,x:s,y:a},duration:f,animationEasing:c,isActive:p},y=>{var{width:w,height:B,x:I,y:T}=y;return x.createElement(om,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,isActive:m,easing:c},x.createElement("path",Am({},yt(e,!0),{className:v,d:dU(I,T,w,B,l),ref:r})))}):x.createElement("path",Am({},yt(e,!0),{className:v,d:dU(s,a,o,A,l)}))};function RL(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:s}=t,a=Kt(e,r,n,i),o=Kt(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function Rb(){return Rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rb.apply(null,arguments)}var pae=(t,e)=>{var r=Ar(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},sg=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:A}=t,l=o*(a?1:-1)+n,u=Math.asin(o/l)/im,c=A?i:i+s*u,f=Kt(e,r,l,c),g=Kt(e,r,n,c),m=A?i-s*u:i,p=Kt(e,r,l*Math.cos(u*im),m);return{center:f,circleTangency:g,lineTangency:p,theta:u}},LL=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=t,o=pae(s,a),A=s+o,l=Kt(e,r,i,s),u=Kt(e,r,i,A),c="M ".concat(l.x,",").concat(l.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>A),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var f=Kt(e,r,n,s),g=Kt(e,r,n,A);c+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=A),`,
            `).concat(f.x,",").concat(f.y," Z")}else c+="L ".concat(e,",").concat(r," Z");return c},mae=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:A,endAngle:l}=t,u=Ar(l-A),{circleTangency:c,lineTangency:f,theta:g}=sg({cx:e,cy:r,radius:i,angle:A,sign:u,cornerRadius:s,cornerIsExternal:o}),{circleTangency:m,lineTangency:p,theta:v}=sg({cx:e,cy:r,radius:i,angle:l,sign:-u,cornerRadius:s,cornerIsExternal:o}),y=o?Math.abs(A-l):Math.abs(A-l)-g-v;if(y<0)return a?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):LL({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:A,endAngle:l});var w="M ".concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(c.x,",").concat(c.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
  `);if(n>0){var{circleTangency:B,lineTangency:I,theta:T}=sg({cx:e,cy:r,radius:n,angle:A,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:F,lineTangency:C,theta:_}=sg({cx:e,cy:r,radius:n,angle:l,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),S=o?Math.abs(A-l):Math.abs(A-l)-T-_;if(S<0&&s===0)return"".concat(w,"L").concat(e,",").concat(r,"Z");w+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(S>180),",").concat(+(u>0),",").concat(B.x,",").concat(B.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(I.x,",").concat(I.y,"Z")}else w+="L".concat(e,",").concat(r,"Z");return w},vae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ML=t=>{var e=Pn(t,vae),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:A,startAngle:l,endAngle:u,className:c}=e;if(s<i||l===u)return null;var f=Ke("recharts-sector",c),g=s-i,m=zr(a,g,0,!0),p;return m>0&&Math.abs(l-u)<360?p=mae({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:o,cornerIsExternal:A,startAngle:l,endAngle:u}):p=LL({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:l,endAngle:u}),x.createElement("path",Rb({},yt(e,!0),{className:f,d:p}))};function yae(t,e,r){var n,i,s,a;if(t==="horizontal")n=e.x,s=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:o,cy:A,innerRadius:l,outerRadius:u,angle:c}=e,f=Kt(o,A,l,c),g=Kt(o,A,u,c);n=f.x,i=f.y,s=g.x,a=g.y}else return RL(e);return[{x:n,y:i},{x:s,y:a}]}var HL={},VL={},KL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NE;function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(KL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KL;function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(VL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kE,r=VL;function n(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),A=new Array(o);for(let l=0;l<o;l++)A[l]=i,i+=a;return A}t.range=n})(HL);var wae=HL.range;const $L=Mi(wae);function Na(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function XE(t){let e,r,n;t.length!==2?(e=Na,r=(o,A)=>Na(t(o),A),n=(o,A)=>t(o)-A):(e=t===Na||t===xae?t:bae,r=t,n=t);function i(o,A,l=0,u=o.length){if(l<u){if(e(A,A)!==0)return u;do{const c=l+u>>>1;r(o[c],A)<0?l=c+1:u=c}while(l<u)}return l}function s(o,A,l=0,u=o.length){if(l<u){if(e(A,A)!==0)return u;do{const c=l+u>>>1;r(o[c],A)<=0?l=c+1:u=c}while(l<u)}return l}function a(o,A,l=0,u=o.length){const c=i(o,A,l,u-1);return c>l&&n(o[c-1],A)>-n(o[c],A)?c-1:c}return{left:i,center:a,right:s}}function bae(){return 0}function GL(t){return t===null?NaN:+t}function*Bae(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Cae=XE(Na),Cf=Cae.right;XE(GL).center;class fU extends Map{constructor(e,r=Iae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(hU(this,e))}has(e){return super.has(hU(this,e))}set(e,r){return super.set(Eae(this,e),r)}delete(e){return super.delete(_ae(this,e))}}function hU({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Eae({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function _ae({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Iae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Sae(t=Na){if(t===Na)return zL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function zL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Tae=Math.sqrt(50),Fae=Math.sqrt(10),Uae=Math.sqrt(2);function lm(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=Tae?10:s>=Fae?5:s>=Uae?2:1;let o,A,l;return i<0?(l=Math.pow(10,-i)/a,o=Math.round(t*l),A=Math.round(e*l),o/l<t&&++o,A/l>e&&--A,l=-l):(l=Math.pow(10,i)*a,o=Math.round(t/l),A=Math.round(e/l),o*l<t&&++o,A*l>e&&--A),A<o&&.5<=r&&r<2?lm(t,e,r*2):[o,A,l]}function Lb(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?lm(e,t,r):lm(t,e,r);if(!(s>=i))return[];const o=s-i+1,A=new Array(o);if(n)if(a<0)for(let l=0;l<o;++l)A[l]=(s-l)/-a;else for(let l=0;l<o;++l)A[l]=(s-l)*a;else if(a<0)for(let l=0;l<o;++l)A[l]=(i+l)/-a;else for(let l=0;l<o;++l)A[l]=(i+l)*a;return A}function Mb(t,e,r){return e=+e,t=+t,r=+r,lm(t,e,r)[2]}function Hb(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Mb(e,t,r):Mb(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function gU(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function pU(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function WL(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?zL:Sae(i);n>r;){if(n-r>600){const A=n-r+1,l=e-r+1,u=Math.log(A),c=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*c*(A-c)/A)*(l-A/2<0?-1:1),g=Math.max(r,Math.floor(e-l*c/A+f)),m=Math.min(n,Math.floor(e+(A-l)*c/A+f));WL(t,e,g,m,i)}const s=t[e];let a=r,o=n;for(dc(t,r,e),i(t[n],s)>0&&dc(t,r,n);a<o;){for(dc(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?dc(t,r,o):(++o,dc(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function dc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Pae(t,e,r){if(t=Float64Array.from(Bae(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return pU(t);if(e>=1)return gU(t);var n,i=(n-1)*e,s=Math.floor(i),a=gU(WL(t,s).subarray(0,s+1)),o=pU(t.subarray(s+1));return a+(o-a)*(i-s)}}function Qae(t,e,r=GL){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function Nae(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function ni(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function js(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Vb=Symbol("implicit");function YE(){var t=new fU,e=[],r=[],n=Vb;function i(s){let a=t.get(s);if(a===void 0){if(n!==Vb)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new fU;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return YE(e,r).unknown(n)},ni.apply(i,arguments),i}function qE(){var t=YE().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,A=0,l=0,u=.5;delete t.unknown;function c(){var f=e().length,g=i<n,m=g?i:n,p=g?n:i;s=(p-m)/Math.max(1,f-A+l*2),o&&(s=Math.floor(s)),m+=(p-m-s*(f-A))*u,a=s*(1-A),o&&(m=Math.round(m),a=Math.round(a));var v=Nae(f).map(function(y){return m+s*y});return r(g?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),c()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,c()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,o=!0,c()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(o=!!f,c()):o},t.padding=function(f){return arguments.length?(A=Math.min(1,l=+f),c()):A},t.paddingInner=function(f){return arguments.length?(A=Math.min(1,f),c()):A},t.paddingOuter=function(f){return arguments.length?(l=+f,c()):l},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},t.copy=function(){return qE(e(),[n,i]).round(o).paddingInner(A).paddingOuter(l).align(u)},ni.apply(c(),arguments)}function XL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return XL(e())},t}function kae(){return XL(qE.apply(null,arguments).paddingInner(1))}function JE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function YL(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ef(){}var zd=.7,um=1/zd,Ql="\\s*([+-]?\\d+)\\s*",Wd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Di="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Oae=/^#([0-9a-f]{3,8})$/,Dae=new RegExp(`^rgb\\(${Ql},${Ql},${Ql}\\)$`),jae=new RegExp(`^rgb\\(${Di},${Di},${Di}\\)$`),Rae=new RegExp(`^rgba\\(${Ql},${Ql},${Ql},${Wd}\\)$`),Lae=new RegExp(`^rgba\\(${Di},${Di},${Di},${Wd}\\)$`),Mae=new RegExp(`^hsl\\(${Wd},${Di},${Di}\\)$`),Hae=new RegExp(`^hsla\\(${Wd},${Di},${Di},${Wd}\\)$`),mU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};JE(Ef,Xd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vU,formatHex:vU,formatHex8:Vae,formatHsl:Kae,formatRgb:yU,toString:yU});function vU(){return this.rgb().formatHex()}function Vae(){return this.rgb().formatHex8()}function Kae(){return qL(this).formatHsl()}function yU(){return this.rgb().formatRgb()}function Xd(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Oae.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?wU(e):r===3?new rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ag(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ag(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Dae.exec(t))?new rn(e[1],e[2],e[3],1):(e=jae.exec(t))?new rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Rae.exec(t))?ag(e[1],e[2],e[3],e[4]):(e=Lae.exec(t))?ag(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Mae.exec(t))?BU(e[1],e[2]/100,e[3]/100,1):(e=Hae.exec(t))?BU(e[1],e[2]/100,e[3]/100,e[4]):mU.hasOwnProperty(t)?wU(mU[t]):t==="transparent"?new rn(NaN,NaN,NaN,0):null}function wU(t){return new rn(t>>16&255,t>>8&255,t&255,1)}function ag(t,e,r,n){return n<=0&&(t=e=r=NaN),new rn(t,e,r,n)}function $ae(t){return t instanceof Ef||(t=Xd(t)),t?(t=t.rgb(),new rn(t.r,t.g,t.b,t.opacity)):new rn}function Kb(t,e,r,n){return arguments.length===1?$ae(t):new rn(t,e,r,n??1)}function rn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}JE(rn,Kb,YL(Ef,{brighter(t){return t=t==null?um:Math.pow(um,t),new rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zd:Math.pow(zd,t),new rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rn(Jo(this.r),Jo(this.g),Jo(this.b),cm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xU,formatHex:xU,formatHex8:Gae,formatRgb:bU,toString:bU}));function xU(){return`#${Lo(this.r)}${Lo(this.g)}${Lo(this.b)}`}function Gae(){return`#${Lo(this.r)}${Lo(this.g)}${Lo(this.b)}${Lo((isNaN(this.opacity)?1:this.opacity)*255)}`}function bU(){const t=cm(this.opacity);return`${t===1?"rgb(":"rgba("}${Jo(this.r)}, ${Jo(this.g)}, ${Jo(this.b)}${t===1?")":`, ${t})`}`}function cm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Jo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Lo(t){return t=Jo(t),(t<16?"0":"")+t.toString(16)}function BU(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new gi(t,e,r,n)}function qL(t){if(t instanceof gi)return new gi(t.h,t.s,t.l,t.opacity);if(t instanceof Ef||(t=Xd(t)),!t)return new gi;if(t instanceof gi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,A=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=A<.5?s+i:2-s-i,a*=60):o=A>0&&A<1?0:a,new gi(a,o,A,t.opacity)}function zae(t,e,r,n){return arguments.length===1?qL(t):new gi(t,e,r,n??1)}function gi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}JE(gi,zae,YL(Ef,{brighter(t){return t=t==null?um:Math.pow(um,t),new gi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zd:Math.pow(zd,t),new gi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new rn(nw(t>=240?t-240:t+120,i,n),nw(t,i,n),nw(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new gi(CU(this.h),og(this.s),og(this.l),cm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cm(this.opacity);return`${t===1?"hsl(":"hsla("}${CU(this.h)}, ${og(this.s)*100}%, ${og(this.l)*100}%${t===1?")":`, ${t})`}`}}));function CU(t){return t=(t||0)%360,t<0?t+360:t}function og(t){return Math.max(0,Math.min(1,t||0))}function nw(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const ZE=t=>()=>t;function Wae(t,e){return function(r){return t+r*e}}function Xae(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Yae(t){return(t=+t)==1?JL:function(e,r){return r-e?Xae(e,r,t):ZE(isNaN(e)?r:e)}}function JL(t,e){var r=e-t;return r?Wae(t,r):ZE(isNaN(t)?e:t)}const EU=function t(e){var r=Yae(e);function n(i,s){var a=r((i=Kb(i)).r,(s=Kb(s)).r),o=r(i.g,s.g),A=r(i.b,s.b),l=JL(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=A(u),i.opacity=l(u),i+""}}return n.gamma=t,n}(1);function qae(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function Jae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Zae(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Cu(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function eoe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function dm(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function toe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Cu(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var $b=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iw=new RegExp($b.source,"g");function roe(t){return function(){return t}}function noe(t){return function(e){return t(e)+""}}function ioe(t,e){var r=$b.lastIndex=iw.lastIndex=0,n,i,s,a=-1,o=[],A=[];for(t=t+"",e=e+"";(n=$b.exec(t))&&(i=iw.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,A.push({i:a,x:dm(n,i)})),r=iw.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?A[0]?noe(A[0].x):roe(e):(e=A.length,function(l){for(var u=0,c;u<e;++u)o[(c=A[u]).i]=c.x(l);return o.join("")})}function Cu(t,e){var r=typeof e,n;return e==null||r==="boolean"?ZE(e):(r==="number"?dm:r==="string"?(n=Xd(e))?(e=n,EU):ioe:e instanceof Xd?EU:e instanceof Date?eoe:Jae(e)?qae:Array.isArray(e)?Zae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?toe:dm)(t,e)}function e1(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function soe(t,e){e===void 0&&(e=t,t=Cu);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function aoe(t){return function(){return t}}function fm(t){return+t}var _U=[0,1];function Hr(t){return t}function Gb(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:aoe(isNaN(e)?NaN:.5)}function ooe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Aoe(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=Gb(i,n),s=r(a,s)):(n=Gb(n,i),s=r(s,a)),function(o){return s(n(o))}}function loe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=Gb(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var A=Cf(t,o,1,n)-1;return s[A](i[A](o))}}function _f(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Av(){var t=_U,e=_U,r=Cu,n,i,s,a=Hr,o,A,l;function u(){var f=Math.min(t.length,e.length);return a!==Hr&&(a=ooe(t[0],t[f-1])),o=f>2?loe:Aoe,A=l=null,c}function c(f){return f==null||isNaN(f=+f)?s:(A||(A=o(t.map(n),e,r)))(n(a(f)))}return c.invert=function(f){return a(i((l||(l=o(e,t.map(n),dm)))(f)))},c.domain=function(f){return arguments.length?(t=Array.from(f,fm),u()):t.slice()},c.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},c.rangeRound=function(f){return e=Array.from(f),r=e1,u()},c.clamp=function(f){return arguments.length?(a=f?!0:Hr,u()):a!==Hr},c.interpolate=function(f){return arguments.length?(r=f,u()):r},c.unknown=function(f){return arguments.length?(s=f,c):s},function(f,g){return n=f,i=g,u()}}function t1(){return Av()(Hr,Hr)}function uoe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hm(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function au(t){return t=hm(Math.abs(t)),t?t[1]:NaN}function coe(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],A=0;i>0&&o>0&&(A+o+1>n&&(o=Math.max(1,n-A)),s.push(r.substring(i-=o,i+o)),!((A+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function doe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var foe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yd(t){if(!(e=foe.exec(t)))throw new Error("invalid format: "+t);var e;return new r1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Yd.prototype=r1.prototype;function r1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}r1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hoe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var ZL;function goe(t,e){var r=hm(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(ZL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+hm(t,Math.max(0,e+s-1))[0]}function IU(t,e){var r=hm(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const SU={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:uoe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>IU(t*100,e),r:IU,s:goe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function TU(t){return t}var FU=Array.prototype.map,UU=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function poe(t){var e=t.grouping===void 0||t.thousands===void 0?TU:coe(FU.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?TU:doe(FU.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",A=t.nan===void 0?"NaN":t.nan+"";function l(c){c=Yd(c);var f=c.fill,g=c.align,m=c.sign,p=c.symbol,v=c.zero,y=c.width,w=c.comma,B=c.precision,I=c.trim,T=c.type;T==="n"?(w=!0,T="g"):SU[T]||(B===void 0&&(B=12),I=!0,T="g"),(v||f==="0"&&g==="=")&&(v=!0,f="0",g="=");var F=p==="$"?r:p==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",C=p==="$"?n:/[%p]/.test(T)?a:"",_=SU[T],S=/[defgprs%]/.test(T);B=B===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function P(N){var k=F,Q=C,se,Ce,ge;if(T==="c")Q=_(N)+Q,N="";else{N=+N;var xe=N<0||1/N<0;if(N=isNaN(N)?A:_(Math.abs(N),B),I&&(N=hoe(N)),xe&&+N==0&&m!=="+"&&(xe=!1),k=(xe?m==="("?m:o:m==="-"||m==="("?"":m)+k,Q=(T==="s"?UU[8+ZL/3]:"")+Q+(xe&&m==="("?")":""),S){for(se=-1,Ce=N.length;++se<Ce;)if(ge=N.charCodeAt(se),48>ge||ge>57){Q=(ge===46?i+N.slice(se+1):N.slice(se))+Q,N=N.slice(0,se);break}}}w&&!v&&(N=e(N,1/0));var Y=k.length+N.length+Q.length,ne=Y<y?new Array(y-Y+1).join(f):"";switch(w&&v&&(N=e(ne+N,ne.length?y-Q.length:1/0),ne=""),g){case"<":N=k+N+Q+ne;break;case"=":N=k+ne+N+Q;break;case"^":N=ne.slice(0,Y=ne.length>>1)+k+N+Q+ne.slice(Y);break;default:N=ne+k+N+Q;break}return s(N)}return P.toString=function(){return c+""},P}function u(c,f){var g=l((c=Yd(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(au(f)/3)))*3,p=Math.pow(10,-m),v=UU[8+m/3];return function(y){return g(p*y)+v}}return{format:l,formatPrefix:u}}var Ag,n1,eM;moe({thousands:",",grouping:[3],currency:["$",""]});function moe(t){return Ag=poe(t),n1=Ag.format,eM=Ag.formatPrefix,Ag}function voe(t){return Math.max(0,-au(Math.abs(t)))}function yoe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(au(e)/3)))*3-au(Math.abs(t)))}function woe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,au(e)-au(t))+1}function tM(t,e,r,n){var i=Hb(t,e,r),s;switch(n=Yd(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=yoe(i,a))&&(n.precision=s),eM(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=woe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=voe(i))&&(n.precision=s-(n.type==="%")*2);break}}return n1(n)}function oo(t){var e=t.domain;return t.ticks=function(r){var n=e();return Lb(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return tM(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],A,l,u=10;for(o<a&&(l=a,a=o,o=l,l=i,i=s,s=l);u-- >0;){if(l=Mb(a,o,r),l===A)return n[i]=a,n[s]=o,e(n);if(l>0)a=Math.floor(a/l)*l,o=Math.ceil(o/l)*l;else if(l<0)a=Math.ceil(a*l)/l,o=Math.floor(o*l)/l;else break;A=l}return t},t}function rM(){var t=t1();return t.copy=function(){return _f(t,rM())},ni.apply(t,arguments),oo(t)}function nM(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,fm),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return nM(t).unknown(e)},t=arguments.length?Array.from(t,fm):[0,1],oo(r)}function iM(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function PU(t){return Math.log(t)}function QU(t){return Math.exp(t)}function xoe(t){return-Math.log(-t)}function boe(t){return-Math.exp(-t)}function Boe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Coe(t){return t===10?Boe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Eoe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function NU(t){return(e,r)=>-t(-e,r)}function i1(t){const e=t(PU,QU),r=e.domain;let n=10,i,s;function a(){return i=Eoe(n),s=Coe(n),r()[0]<0?(i=NU(i),s=NU(s),t(xoe,boe)):t(PU,QU),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const A=r();let l=A[0],u=A[A.length-1];const c=u<l;c&&([l,u]=[u,l]);let f=i(l),g=i(u),m,p;const v=o==null?10:+o;let y=[];if(!(n%1)&&g-f<v){if(f=Math.floor(f),g=Math.ceil(g),l>0){for(;f<=g;++f)for(m=1;m<n;++m)if(p=f<0?m/s(-f):m*s(f),!(p<l)){if(p>u)break;y.push(p)}}else for(;f<=g;++f)for(m=n-1;m>=1;--m)if(p=f>0?m/s(-f):m*s(f),!(p<l)){if(p>u)break;y.push(p)}y.length*2<v&&(y=Lb(l,u,v))}else y=Lb(f,g,Math.min(g-f,v)).map(s);return c?y.reverse():y},e.tickFormat=(o,A)=>{if(o==null&&(o=10),A==null&&(A=n===10?"s":","),typeof A!="function"&&(!(n%1)&&(A=Yd(A)).precision==null&&(A.trim=!0),A=n1(A)),o===1/0)return A;const l=Math.max(1,n*o/e.ticks().length);return u=>{let c=u/s(Math.round(i(u)));return c*n<n-.5&&(c*=n),c<=l?A(u):""}},e.nice=()=>r(iM(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function sM(){const t=i1(Av()).domain([1,10]);return t.copy=()=>_f(t,sM()).base(t.base()),ni.apply(t,arguments),t}function kU(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function OU(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function s1(t){var e=1,r=t(kU(e),OU(e));return r.constant=function(n){return arguments.length?t(kU(e=+n),OU(e)):e},oo(r)}function aM(){var t=s1(Av());return t.copy=function(){return _f(t,aM()).constant(t.constant())},ni.apply(t,arguments)}function DU(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function _oe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ioe(t){return t<0?-t*t:t*t}function a1(t){var e=t(Hr,Hr),r=1;function n(){return r===1?t(Hr,Hr):r===.5?t(_oe,Ioe):t(DU(r),DU(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},oo(e)}function o1(){var t=a1(Av());return t.copy=function(){return _f(t,o1()).exponent(t.exponent())},ni.apply(t,arguments),t}function Soe(){return o1.apply(null,arguments).exponent(.5)}function jU(t){return Math.sign(t)*t*t}function Toe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function oM(){var t=t1(),e=[0,1],r=!1,n;function i(s){var a=Toe(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(jU(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,fm)).map(jU)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return oM(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ni.apply(i,arguments),oo(i)}function AM(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=Qae(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[Cf(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Na),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return AM().domain(t).range(e).unknown(n)},ni.apply(s,arguments)}function lM(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(A){return A!=null&&A<=A?i[Cf(n,A,0,r)]:s}function o(){var A=-1;for(n=new Array(r);++A<r;)n[A]=((A+1)*e-(A-r)*t)/(r+1);return a}return a.domain=function(A){return arguments.length?([t,e]=A,t=+t,e=+e,o()):[t,e]},a.range=function(A){return arguments.length?(r=(i=Array.from(A)).length-1,o()):i.slice()},a.invertExtent=function(A){var l=i.indexOf(A);return l<0?[NaN,NaN]:l<1?[t,n[0]]:l>=r?[n[r-1],e]:[n[l-1],n[l]]},a.unknown=function(A){return arguments.length&&(s=A),a},a.thresholds=function(){return n.slice()},a.copy=function(){return lM().domain([t,e]).range(i).unknown(s)},ni.apply(oo(a),arguments)}function uM(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[Cf(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return uM().domain(t).range(e).unknown(r)},ni.apply(i,arguments)}const sw=new Date,aw=new Date;function Zt(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const A=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return A;let l;do A.push(l=new Date(+s)),e(s,o),t(s);while(l<s&&s<a);return A},i.filter=s=>Zt(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(sw.setTime(+s),aw.setTime(+a),t(sw),t(aw),Math.floor(r(sw,aw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const gm=Zt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);gm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):gm);gm.range;const ds=1e3,Wn=ds*60,fs=Wn*60,Ss=fs*24,A1=Ss*7,RU=Ss*30,ow=Ss*365,Mo=Zt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ds)},(t,e)=>(e-t)/ds,t=>t.getUTCSeconds());Mo.range;const l1=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ds)},(t,e)=>{t.setTime(+t+e*Wn)},(t,e)=>(e-t)/Wn,t=>t.getMinutes());l1.range;const u1=Zt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Wn)},(t,e)=>(e-t)/Wn,t=>t.getUTCMinutes());u1.range;const c1=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ds-t.getMinutes()*Wn)},(t,e)=>{t.setTime(+t+e*fs)},(t,e)=>(e-t)/fs,t=>t.getHours());c1.range;const d1=Zt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*fs)},(t,e)=>(e-t)/fs,t=>t.getUTCHours());d1.range;const If=Zt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wn)/Ss,t=>t.getDate()-1);If.range;const lv=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ss,t=>t.getUTCDate()-1);lv.range;const cM=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ss,t=>Math.floor(t/Ss));cM.range;function SA(t){return Zt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Wn)/A1)}const uv=SA(0),pm=SA(1),Foe=SA(2),Uoe=SA(3),ou=SA(4),Poe=SA(5),Qoe=SA(6);uv.range;pm.range;Foe.range;Uoe.range;ou.range;Poe.range;Qoe.range;function TA(t){return Zt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/A1)}const cv=TA(0),mm=TA(1),Noe=TA(2),koe=TA(3),Au=TA(4),Ooe=TA(5),Doe=TA(6);cv.range;mm.range;Noe.range;koe.range;Au.range;Ooe.range;Doe.range;const f1=Zt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());f1.range;const h1=Zt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());h1.range;const Ts=Zt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ts.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ts.range;const Fs=Zt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Fs.range;function dM(t,e,r,n,i,s){const a=[[Mo,1,ds],[Mo,5,5*ds],[Mo,15,15*ds],[Mo,30,30*ds],[s,1,Wn],[s,5,5*Wn],[s,15,15*Wn],[s,30,30*Wn],[i,1,fs],[i,3,3*fs],[i,6,6*fs],[i,12,12*fs],[n,1,Ss],[n,2,2*Ss],[r,1,A1],[e,1,RU],[e,3,3*RU],[t,1,ow]];function o(l,u,c){const f=u<l;f&&([l,u]=[u,l]);const g=c&&typeof c.range=="function"?c:A(l,u,c),m=g?g.range(l,+u+1):[];return f?m.reverse():m}function A(l,u,c){const f=Math.abs(u-l)/c,g=XE(([,,v])=>v).right(a,f);if(g===a.length)return t.every(Hb(l/ow,u/ow,c));if(g===0)return gm.every(Math.max(Hb(l,u,c),1));const[m,p]=a[f/a[g-1][2]<a[g][2]/f?g-1:g];return m.every(p)}return[o,A]}const[joe,Roe]=dM(Fs,h1,cv,cM,d1,u1),[Loe,Moe]=dM(Ts,f1,uv,If,c1,l1);function Aw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function lw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function fc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Hoe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,A=t.shortMonths,l=hc(i),u=gc(i),c=hc(s),f=gc(s),g=hc(a),m=gc(a),p=hc(o),v=gc(o),y=hc(A),w=gc(A),B={a:xe,A:Y,b:ne,B:ce,c:null,d:$U,e:$U,f:cAe,g:xAe,G:BAe,H:AAe,I:lAe,j:uAe,L:fM,m:dAe,M:fAe,p:ae,q:z,Q:WU,s:XU,S:hAe,u:gAe,U:pAe,V:mAe,w:vAe,W:yAe,x:null,X:null,y:wAe,Y:bAe,Z:CAe,"%":zU},I={a:ve,A:O,b:R,B:j,c:null,d:GU,e:GU,f:SAe,g:jAe,G:LAe,H:EAe,I:_Ae,j:IAe,L:gM,m:TAe,M:FAe,p:J,q:re,Q:WU,s:XU,S:UAe,u:PAe,U:QAe,V:NAe,w:kAe,W:OAe,x:null,X:null,y:DAe,Y:RAe,Z:MAe,"%":zU},T={a:P,A:N,b:k,B:Q,c:se,d:VU,e:VU,f:iAe,g:HU,G:MU,H:KU,I:KU,j:eAe,L:nAe,m:Zoe,M:tAe,p:S,q:Joe,Q:aAe,s:oAe,S:rAe,u:zoe,U:Woe,V:Xoe,w:Goe,W:Yoe,x:Ce,X:ge,y:HU,Y:MU,Z:qoe,"%":sAe};B.x=F(r,B),B.X=F(n,B),B.c=F(e,B),I.x=F(r,I),I.X=F(n,I),I.c=F(e,I);function F(V,G){return function(ee){var W=[],Pe=-1,Ie=0,Ge=V.length,ht,ii,UA;for(ee instanceof Date||(ee=new Date(+ee));++Pe<Ge;)V.charCodeAt(Pe)===37&&(W.push(V.slice(Ie,Pe)),(ii=LU[ht=V.charAt(++Pe)])!=null?ht=V.charAt(++Pe):ii=ht==="e"?" ":"0",(UA=G[ht])&&(ht=UA(ee,ii)),W.push(ht),Ie=Pe+1);return W.push(V.slice(Ie,Pe)),W.join("")}}function C(V,G){return function(ee){var W=fc(1900,void 0,1),Pe=_(W,V,ee+="",0),Ie,Ge;if(Pe!=ee.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(G&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(Ie=lw(fc(W.y,0,1)),Ge=Ie.getUTCDay(),Ie=Ge>4||Ge===0?mm.ceil(Ie):mm(Ie),Ie=lv.offset(Ie,(W.V-1)*7),W.y=Ie.getUTCFullYear(),W.m=Ie.getUTCMonth(),W.d=Ie.getUTCDate()+(W.w+6)%7):(Ie=Aw(fc(W.y,0,1)),Ge=Ie.getDay(),Ie=Ge>4||Ge===0?pm.ceil(Ie):pm(Ie),Ie=If.offset(Ie,(W.V-1)*7),W.y=Ie.getFullYear(),W.m=Ie.getMonth(),W.d=Ie.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Ge="Z"in W?lw(fc(W.y,0,1)).getUTCDay():Aw(fc(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Ge+5)%7:W.w+W.U*7-(Ge+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,lw(W)):Aw(W)}}function _(V,G,ee,W){for(var Pe=0,Ie=G.length,Ge=ee.length,ht,ii;Pe<Ie;){if(W>=Ge)return-1;if(ht=G.charCodeAt(Pe++),ht===37){if(ht=G.charAt(Pe++),ii=T[ht in LU?G.charAt(Pe++):ht],!ii||(W=ii(V,ee,W))<0)return-1}else if(ht!=ee.charCodeAt(W++))return-1}return W}function S(V,G,ee){var W=l.exec(G.slice(ee));return W?(V.p=u.get(W[0].toLowerCase()),ee+W[0].length):-1}function P(V,G,ee){var W=g.exec(G.slice(ee));return W?(V.w=m.get(W[0].toLowerCase()),ee+W[0].length):-1}function N(V,G,ee){var W=c.exec(G.slice(ee));return W?(V.w=f.get(W[0].toLowerCase()),ee+W[0].length):-1}function k(V,G,ee){var W=y.exec(G.slice(ee));return W?(V.m=w.get(W[0].toLowerCase()),ee+W[0].length):-1}function Q(V,G,ee){var W=p.exec(G.slice(ee));return W?(V.m=v.get(W[0].toLowerCase()),ee+W[0].length):-1}function se(V,G,ee){return _(V,e,G,ee)}function Ce(V,G,ee){return _(V,r,G,ee)}function ge(V,G,ee){return _(V,n,G,ee)}function xe(V){return a[V.getDay()]}function Y(V){return s[V.getDay()]}function ne(V){return A[V.getMonth()]}function ce(V){return o[V.getMonth()]}function ae(V){return i[+(V.getHours()>=12)]}function z(V){return 1+~~(V.getMonth()/3)}function ve(V){return a[V.getUTCDay()]}function O(V){return s[V.getUTCDay()]}function R(V){return A[V.getUTCMonth()]}function j(V){return o[V.getUTCMonth()]}function J(V){return i[+(V.getUTCHours()>=12)]}function re(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var G=F(V+="",B);return G.toString=function(){return V},G},parse:function(V){var G=C(V+="",!1);return G.toString=function(){return V},G},utcFormat:function(V){var G=F(V+="",I);return G.toString=function(){return V},G},utcParse:function(V){var G=C(V+="",!0);return G.toString=function(){return V},G}}}var LU={"-":"",_:" ",0:"0"},ur=/^\s*\d+/,Voe=/^%/,Koe=/[\\^$*+?|[\]().{}]/g;function $e(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function $oe(t){return t.replace(Koe,"\\$&")}function hc(t){return new RegExp("^(?:"+t.map($oe).join("|")+")","i")}function gc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Goe(t,e,r){var n=ur.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function zoe(t,e,r){var n=ur.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Woe(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Xoe(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Yoe(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function MU(t,e,r){var n=ur.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function HU(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function qoe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Joe(t,e,r){var n=ur.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Zoe(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function VU(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function eAe(t,e,r){var n=ur.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function KU(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function tAe(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function rAe(t,e,r){var n=ur.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function nAe(t,e,r){var n=ur.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function iAe(t,e,r){var n=ur.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function sAe(t,e,r){var n=Voe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function aAe(t,e,r){var n=ur.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function oAe(t,e,r){var n=ur.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function $U(t,e){return $e(t.getDate(),e,2)}function AAe(t,e){return $e(t.getHours(),e,2)}function lAe(t,e){return $e(t.getHours()%12||12,e,2)}function uAe(t,e){return $e(1+If.count(Ts(t),t),e,3)}function fM(t,e){return $e(t.getMilliseconds(),e,3)}function cAe(t,e){return fM(t,e)+"000"}function dAe(t,e){return $e(t.getMonth()+1,e,2)}function fAe(t,e){return $e(t.getMinutes(),e,2)}function hAe(t,e){return $e(t.getSeconds(),e,2)}function gAe(t){var e=t.getDay();return e===0?7:e}function pAe(t,e){return $e(uv.count(Ts(t)-1,t),e,2)}function hM(t){var e=t.getDay();return e>=4||e===0?ou(t):ou.ceil(t)}function mAe(t,e){return t=hM(t),$e(ou.count(Ts(t),t)+(Ts(t).getDay()===4),e,2)}function vAe(t){return t.getDay()}function yAe(t,e){return $e(pm.count(Ts(t)-1,t),e,2)}function wAe(t,e){return $e(t.getFullYear()%100,e,2)}function xAe(t,e){return t=hM(t),$e(t.getFullYear()%100,e,2)}function bAe(t,e){return $e(t.getFullYear()%1e4,e,4)}function BAe(t,e){var r=t.getDay();return t=r>=4||r===0?ou(t):ou.ceil(t),$e(t.getFullYear()%1e4,e,4)}function CAe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+$e(e/60|0,"0",2)+$e(e%60,"0",2)}function GU(t,e){return $e(t.getUTCDate(),e,2)}function EAe(t,e){return $e(t.getUTCHours(),e,2)}function _Ae(t,e){return $e(t.getUTCHours()%12||12,e,2)}function IAe(t,e){return $e(1+lv.count(Fs(t),t),e,3)}function gM(t,e){return $e(t.getUTCMilliseconds(),e,3)}function SAe(t,e){return gM(t,e)+"000"}function TAe(t,e){return $e(t.getUTCMonth()+1,e,2)}function FAe(t,e){return $e(t.getUTCMinutes(),e,2)}function UAe(t,e){return $e(t.getUTCSeconds(),e,2)}function PAe(t){var e=t.getUTCDay();return e===0?7:e}function QAe(t,e){return $e(cv.count(Fs(t)-1,t),e,2)}function pM(t){var e=t.getUTCDay();return e>=4||e===0?Au(t):Au.ceil(t)}function NAe(t,e){return t=pM(t),$e(Au.count(Fs(t),t)+(Fs(t).getUTCDay()===4),e,2)}function kAe(t){return t.getUTCDay()}function OAe(t,e){return $e(mm.count(Fs(t)-1,t),e,2)}function DAe(t,e){return $e(t.getUTCFullYear()%100,e,2)}function jAe(t,e){return t=pM(t),$e(t.getUTCFullYear()%100,e,2)}function RAe(t,e){return $e(t.getUTCFullYear()%1e4,e,4)}function LAe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Au(t):Au.ceil(t),$e(t.getUTCFullYear()%1e4,e,4)}function MAe(){return"+0000"}function zU(){return"%"}function WU(t){return+t}function XU(t){return Math.floor(+t/1e3)}var YA,mM,vM;HAe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function HAe(t){return YA=Hoe(t),mM=YA.format,YA.parse,vM=YA.utcFormat,YA.utcParse,YA}function VAe(t){return new Date(t)}function KAe(t){return t instanceof Date?+t:+new Date(+t)}function g1(t,e,r,n,i,s,a,o,A,l){var u=t1(),c=u.invert,f=u.domain,g=l(".%L"),m=l(":%S"),p=l("%I:%M"),v=l("%I %p"),y=l("%a %d"),w=l("%b %d"),B=l("%B"),I=l("%Y");function T(F){return(A(F)<F?g:o(F)<F?m:a(F)<F?p:s(F)<F?v:n(F)<F?i(F)<F?y:w:r(F)<F?B:I)(F)}return u.invert=function(F){return new Date(c(F))},u.domain=function(F){return arguments.length?f(Array.from(F,KAe)):f().map(VAe)},u.ticks=function(F){var C=f();return t(C[0],C[C.length-1],F??10)},u.tickFormat=function(F,C){return C==null?T:l(C)},u.nice=function(F){var C=f();return(!F||typeof F.range!="function")&&(F=e(C[0],C[C.length-1],F??10)),F?f(iM(C,F)):u},u.copy=function(){return _f(u,g1(t,e,r,n,i,s,a,o,A,l))},u}function $Ae(){return ni.apply(g1(Loe,Moe,Ts,f1,uv,If,c1,l1,Mo,mM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GAe(){return ni.apply(g1(joe,Roe,Fs,h1,cv,lv,d1,u1,Mo,vM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dv(){var t=0,e=1,r,n,i,s,a=Hr,o=!1,A;function l(c){return c==null||isNaN(c=+c)?A:a(i===0?.5:(c=(s(c)-r)*i,o?Math.max(0,Math.min(1,c)):c))}l.domain=function(c){return arguments.length?([t,e]=c,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),l):[t,e]},l.clamp=function(c){return arguments.length?(o=!!c,l):o},l.interpolator=function(c){return arguments.length?(a=c,l):a};function u(c){return function(f){var g,m;return arguments.length?([g,m]=f,a=c(g,m),l):[a(0),a(1)]}}return l.range=u(Cu),l.rangeRound=u(e1),l.unknown=function(c){return arguments.length?(A=c,l):A},function(c){return s=c,r=c(t),n=c(e),i=r===n?0:1/(n-r),l}}function Ao(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function yM(){var t=oo(dv()(Hr));return t.copy=function(){return Ao(t,yM())},js.apply(t,arguments)}function wM(){var t=i1(dv()).domain([1,10]);return t.copy=function(){return Ao(t,wM()).base(t.base())},js.apply(t,arguments)}function xM(){var t=s1(dv());return t.copy=function(){return Ao(t,xM()).constant(t.constant())},js.apply(t,arguments)}function p1(){var t=a1(dv());return t.copy=function(){return Ao(t,p1()).exponent(t.exponent())},js.apply(t,arguments)}function zAe(){return p1.apply(null,arguments).exponent(.5)}function bM(){var t=[],e=Hr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Cf(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Na),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Pae(t,s/n))},r.copy=function(){return bM(e).domain(t)},js.apply(r,arguments)}function fv(){var t=0,e=.5,r=1,n=1,i,s,a,o,A,l=Hr,u,c=!1,f;function g(p){return isNaN(p=+p)?f:(p=.5+((p=+u(p))-s)*(n*p<n*s?o:A),l(c?Math.max(0,Math.min(1,p)):p))}g.domain=function(p){return arguments.length?([t,e,r]=p,i=u(t=+t),s=u(e=+e),a=u(r=+r),o=i===s?0:.5/(s-i),A=s===a?0:.5/(a-s),n=s<i?-1:1,g):[t,e,r]},g.clamp=function(p){return arguments.length?(c=!!p,g):c},g.interpolator=function(p){return arguments.length?(l=p,g):l};function m(p){return function(v){var y,w,B;return arguments.length?([y,w,B]=v,l=soe(p,[y,w,B]),g):[l(0),l(.5),l(1)]}}return g.range=m(Cu),g.rangeRound=m(e1),g.unknown=function(p){return arguments.length?(f=p,g):f},function(p){return u=p,i=p(t),s=p(e),a=p(r),o=i===s?0:.5/(s-i),A=s===a?0:.5/(a-s),n=s<i?-1:1,g}}function BM(){var t=oo(fv()(Hr));return t.copy=function(){return Ao(t,BM())},js.apply(t,arguments)}function CM(){var t=i1(fv()).domain([.1,1,10]);return t.copy=function(){return Ao(t,CM()).base(t.base())},js.apply(t,arguments)}function EM(){var t=s1(fv());return t.copy=function(){return Ao(t,EM()).constant(t.constant())},js.apply(t,arguments)}function m1(){var t=a1(fv());return t.copy=function(){return Ao(t,m1()).exponent(t.exponent())},js.apply(t,arguments)}function WAe(){return m1.apply(null,arguments).exponent(.5)}const kc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:qE,scaleDiverging:BM,scaleDivergingLog:CM,scaleDivergingPow:m1,scaleDivergingSqrt:WAe,scaleDivergingSymlog:EM,scaleIdentity:nM,scaleImplicit:Vb,scaleLinear:rM,scaleLog:sM,scaleOrdinal:YE,scalePoint:kae,scalePow:o1,scaleQuantile:AM,scaleQuantize:lM,scaleRadial:oM,scaleSequential:yM,scaleSequentialLog:wM,scaleSequentialPow:p1,scaleSequentialQuantile:bM,scaleSequentialSqrt:zAe,scaleSequentialSymlog:xM,scaleSqrt:Soe,scaleSymlog:aM,scaleThreshold:uM,scaleTime:$Ae,scaleUtc:GAe,tickFormat:tM},Symbol.toStringTag,{value:"Module"}));var lo=t=>t.chartData,v1=H([lo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),hv=(t,e,r,n)=>n?v1(t):lo(t);function lu(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(Sn(e)&&Sn(r))return!0}return!1}function YU(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function XAe(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,s;if(Sn(r))i=r;else if(typeof r=="function")return;if(Sn(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(lu(a))return a}}function YAe(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(lu(n))return YU(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(fe(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&GF.test(i)){var A=GF.exec(i);if(A==null||e==null)a=void 0;else{var l=+A[1];a=e[0]-l}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(fe(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&zF.test(s)){var u=zF.exec(s);if(u==null||e==null)o=void 0;else{var c=+u[1];o=e[1]+c}}else o=e==null?void 0:e[1];var f=[a,o];if(lu(f))return e==null?f:YU(f,e,r)}}}var Eu=1e9,qAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},w1,wt=!0,ti="[DecimalError] ",Zo=ti+"Invalid argument: ",y1=ti+"Exponent out of range: ",_u=Math.floor,Io=Math.pow,JAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mn,ar=1e7,ct=7,_M=9007199254740991,vm=_u(_M/ct),me={};me.absoluteValue=me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};me.comparedTo=me.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};me.decimalPlaces=me.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ct;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};me.dividedBy=me.div=function(t){return vs(this,new this.constructor(t))};me.dividedToIntegerBy=me.idiv=function(t){var e=this,r=e.constructor;return it(vs(e,new r(t),0,1),r.precision)};me.equals=me.eq=function(t){return!this.cmp(t)};me.exponent=function(){return $t(this)};me.greaterThan=me.gt=function(t){return this.cmp(t)>0};me.greaterThanOrEqualTo=me.gte=function(t){return this.cmp(t)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(t){return this.cmp(t)<0};me.lessThanOrEqualTo=me.lte=function(t){return this.cmp(t)<1};me.logarithm=me.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(mn))throw Error(ti+"NaN");if(r.s<1)throw Error(ti+(r.s?"NaN":"-Infinity"));return r.eq(mn)?new n(0):(wt=!1,e=vs(qd(r,s),qd(t,s),s),wt=!0,it(e,i))};me.minus=me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?TM(e,t):IM(e,(t.s=-t.s,t))};me.modulo=me.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ti+"NaN");return r.s?(wt=!1,e=vs(r,t,0,1).times(t),wt=!0,r.minus(e)):it(new n(r),i)};me.naturalExponential=me.exp=function(){return SM(this)};me.naturalLogarithm=me.ln=function(){return qd(this)};me.negated=me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};me.plus=me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?IM(e,t):TM(e,(t.s=-t.s,t))};me.precision=me.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Zo+t);if(e=$t(i)+1,n=i.d.length-1,r=n*ct+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};me.squareRoot=me.sqrt=function(){var t,e,r,n,i,s,a,o=this,A=o.constructor;if(o.s<1){if(!o.s)return new A(0);throw Error(ti+"NaN")}for(t=$t(o),wt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Ui(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=_u((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new A(e)):n=new A(i.toString()),r=A.precision,i=a=r+3;;)if(s=n,n=s.plus(vs(o,s,a+2)).times(.5),Ui(s.d).slice(0,a)===(e=Ui(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(it(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return wt=!0,it(n,r)};me.times=me.mul=function(t){var e,r,n,i,s,a,o,A,l,u=this,c=u.constructor,f=u.d,g=(t=new c(t)).d;if(!u.s||!t.s)return new c(0);for(t.s*=u.s,r=u.e+t.e,A=f.length,l=g.length,A<l&&(s=f,f=g,g=s,a=A,A=l,l=a),s=[],a=A+l,n=a;n--;)s.push(0);for(n=l;--n>=0;){for(e=0,i=A+n;i>n;)o=s[i]+g[n]*f[i-n-1]+e,s[i--]=o%ar|0,e=o/ar|0;s[i]=(s[i]+e)%ar|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,wt?it(t,c.precision):t};me.toDecimalPlaces=me.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Li(t,0,Eu),e===void 0?e=n.rounding:Li(e,0,8),it(r,t+$t(r)+1,e))};me.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=mA(n,!0):(Li(t,0,Eu),e===void 0?e=i.rounding:Li(e,0,8),n=it(new i(n),t+1,e),r=mA(n,!0,t+1)),r};me.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?mA(i):(Li(t,0,Eu),e===void 0?e=s.rounding:Li(e,0,8),n=it(new s(i),t+$t(i)+1,e),r=mA(n.abs(),!1,t+$t(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};me.toInteger=me.toint=function(){var t=this,e=t.constructor;return it(new e(t),$t(t)+1,e.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(t){var e,r,n,i,s,a,o=this,A=o.constructor,l=12,u=+(t=new A(t));if(!t.s)return new A(mn);if(o=new A(o),!o.s){if(t.s<1)throw Error(ti+"Infinity");return o}if(o.eq(mn))return o;if(n=A.precision,t.eq(mn))return it(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=u<0?-u:u)<=_M){for(i=new A(mn),e=Math.ceil(n/ct+4),wt=!1;r%2&&(i=i.times(o),JU(i.d,e)),r=_u(r/2),r!==0;)o=o.times(o),JU(o.d,e);return wt=!0,t.s<0?new A(mn).div(i):it(i,n)}}else if(s<0)throw Error(ti+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,wt=!1,i=t.times(qd(o,n+l)),wt=!0,i=SM(i),i.s=s,i};me.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=$t(i),n=mA(i,r<=s.toExpNeg||r>=s.toExpPos)):(Li(t,1,Eu),e===void 0?e=s.rounding:Li(e,0,8),i=it(new s(i),t,e),r=$t(i),n=mA(i,t<=r||r<=s.toExpNeg,t)),n};me.toSignificantDigits=me.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Li(t,1,Eu),e===void 0?e=n.rounding:Li(e,0,8)),it(new n(r),t,e)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=$t(t),r=t.constructor;return mA(t,e<=r.toExpNeg||e>=r.toExpPos)};function IM(t,e){var r,n,i,s,a,o,A,l,u=t.constructor,c=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),wt?it(e,c):e;if(A=t.d,l=e.d,a=t.e,i=e.e,A=A.slice(),s=a-i,s){for(s<0?(n=A,s=-s,o=l.length):(n=l,i=a,o=A.length),a=Math.ceil(c/ct),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=A.length,s=l.length,o-s<0&&(s=o,n=l,l=A,A=n),r=0;s;)r=(A[--s]=A[s]+l[s]+r)/ar|0,A[s]%=ar;for(r&&(A.unshift(r),++i),o=A.length;A[--o]==0;)A.pop();return e.d=A,e.e=i,wt?it(e,c):e}function Li(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Zo+t)}function Ui(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=ct-n.length,r&&(s+=na(r)),s+=n;a=t[e],n=a+"",r=ct-n.length,r&&(s+=na(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var vs=function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%ar|0,a=s/ar|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,A;if(s!=a)A=s>a?1:-1;else for(o=A=0;o<s;o++)if(n[o]!=i[o]){A=n[o]>i[o]?1:-1;break}return A}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*ar+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,A,l,u,c,f,g,m,p,v,y,w,B,I,T,F,C,_,S=n.constructor,P=n.s==i.s?1:-1,N=n.d,k=i.d;if(!n.s)return new S(n);if(!i.s)throw Error(ti+"Division by zero");for(A=n.e-i.e,C=k.length,T=N.length,g=new S(P),m=g.d=[],l=0;k[l]==(N[l]||0);)++l;if(k[l]>(N[l]||0)&&--A,s==null?w=s=S.precision:a?w=s+($t(n)-$t(i))+1:w=s,w<0)return new S(0);if(w=w/ct+2|0,l=0,C==1)for(u=0,k=k[0],w++;(l<T||u)&&w--;l++)B=u*ar+(N[l]||0),m[l]=B/k|0,u=B%k|0;else{for(u=ar/(k[0]+1)|0,u>1&&(k=t(k,u),N=t(N,u),C=k.length,T=N.length),I=C,p=N.slice(0,C),v=p.length;v<C;)p[v++]=0;_=k.slice(),_.unshift(0),F=k[0],k[1]>=ar/2&&++F;do u=0,o=e(k,p,C,v),o<0?(y=p[0],C!=v&&(y=y*ar+(p[1]||0)),u=y/F|0,u>1?(u>=ar&&(u=ar-1),c=t(k,u),f=c.length,v=p.length,o=e(c,p,f,v),o==1&&(u--,r(c,C<f?_:k,f))):(u==0&&(o=u=1),c=k.slice()),f=c.length,f<v&&c.unshift(0),r(p,c,v),o==-1&&(v=p.length,o=e(k,p,C,v),o<1&&(u++,r(p,C<v?_:k,v))),v=p.length):o===0&&(u++,p=[0]),m[l++]=u,o&&p[0]?p[v++]=N[I]||0:(p=[N[I]],v=1);while((I++<T||p[0]!==void 0)&&w--)}return m[0]||m.shift(),g.e=A,it(g,a?s+$t(g)+1:s)}}();function SM(t,e){var r,n,i,s,a,o,A=0,l=0,u=t.constructor,c=u.precision;if($t(t)>16)throw Error(y1+$t(t));if(!t.s)return new u(mn);for(e==null?(wt=!1,o=c):o=e,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),l+=5;for(n=Math.log(Io(2,l))/Math.LN10*2+5|0,o+=n,r=i=s=new u(mn),u.precision=o;;){if(i=it(i.times(t),o),r=r.times(++A),a=s.plus(vs(i,r,o)),Ui(a.d).slice(0,o)===Ui(s.d).slice(0,o)){for(;l--;)s=it(s.times(s),o);return u.precision=c,e==null?(wt=!0,it(s,c)):s}s=a}}function $t(t){for(var e=t.e*ct,r=t.d[0];r>=10;r/=10)e++;return e}function uw(t,e,r){if(e>t.LN10.sd())throw wt=!0,r&&(t.precision=r),Error(ti+"LN10 precision limit exceeded");return it(new t(t.LN10),e)}function na(t){for(var e="";t--;)e+="0";return e}function qd(t,e){var r,n,i,s,a,o,A,l,u,c=1,f=10,g=t,m=g.d,p=g.constructor,v=p.precision;if(g.s<1)throw Error(ti+(g.s?"NaN":"-Infinity"));if(g.eq(mn))return new p(0);if(e==null?(wt=!1,l=v):l=e,g.eq(10))return e==null&&(wt=!0),uw(p,l);if(l+=f,p.precision=l,r=Ui(m),n=r.charAt(0),s=$t(g),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=Ui(g.d),n=r.charAt(0),c++;s=$t(g),n>1?(g=new p("0."+r),s++):g=new p(n+"."+r.slice(1))}else return A=uw(p,l+2,v).times(s+""),g=qd(new p(n+"."+r.slice(1)),l-f).plus(A),p.precision=v,e==null?(wt=!0,it(g,v)):g;for(o=a=g=vs(g.minus(mn),g.plus(mn),l),u=it(g.times(g),l),i=3;;){if(a=it(a.times(u),l),A=o.plus(vs(a,new p(i),l)),Ui(A.d).slice(0,l)===Ui(o.d).slice(0,l))return o=o.times(2),s!==0&&(o=o.plus(uw(p,l+2,v).times(s+""))),o=vs(o,new p(c),l),p.precision=v,e==null?(wt=!0,it(o,v)):o;o=A,i+=2}}function qU(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=_u(r/ct),t.d=[],n=(r+1)%ct,r<0&&(n+=ct),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ct;n<i;)t.d.push(+e.slice(n,n+=ct));e=e.slice(n),n=ct-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),wt&&(t.e>vm||t.e<-vm))throw Error(y1+r)}else t.s=0,t.e=0,t.d=[0];return t}function it(t,e,r){var n,i,s,a,o,A,l,u,c=t.d;for(a=1,s=c[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=ct,i=e,l=c[u=0];else{if(u=Math.ceil((n+1)/ct),s=c.length,u>=s)return t;for(l=s=c[u],a=1;s>=10;s/=10)a++;n%=ct,i=n-ct+a}if(r!==void 0&&(s=Io(10,a-i-1),o=l/s%10|0,A=e<0||c[u+1]!==void 0||l%s,A=r<4?(o||A)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||A||r==6&&(n>0?i>0?l/Io(10,a-i):0:c[u-1])%10&1||r==(t.s<0?8:7))),e<1||!c[0])return A?(s=$t(t),c.length=1,e=e-s-1,c[0]=Io(10,(ct-e%ct)%ct),t.e=_u(-e/ct)||0):(c.length=1,c[0]=t.e=t.s=0),t;if(n==0?(c.length=u,s=1,u--):(c.length=u+1,s=Io(10,ct-n),c[u]=i>0?(l/Io(10,a-i)%Io(10,i)|0)*s:0),A)for(;;)if(u==0){(c[0]+=s)==ar&&(c[0]=1,++t.e);break}else{if(c[u]+=s,c[u]!=ar)break;c[u--]=0,s=1}for(n=c.length;c[--n]===0;)c.pop();if(wt&&(t.e>vm||t.e<-vm))throw Error(y1+$t(t));return t}function TM(t,e){var r,n,i,s,a,o,A,l,u,c,f=t.constructor,g=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),wt?it(e,g):e;if(A=t.d,c=e.d,n=e.e,l=t.e,A=A.slice(),a=l-n,a){for(u=a<0,u?(r=A,a=-a,o=c.length):(r=c,n=l,o=A.length),i=Math.max(Math.ceil(g/ct),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=A.length,o=c.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(A[i]!=c[i]){u=A[i]<c[i];break}a=0}for(u&&(r=A,A=c,c=r,e.s=-e.s),o=A.length,i=c.length-o;i>0;--i)A[o++]=0;for(i=c.length;i>a;){if(A[--i]<c[i]){for(s=i;s&&A[--s]===0;)A[s]=ar-1;--A[s],A[i]+=ar}A[i]-=c[i]}for(;A[--o]===0;)A.pop();for(;A[0]===0;A.shift())--n;return A[0]?(e.d=A,e.e=n,wt?it(e,g):e):new f(0)}function mA(t,e,r){var n,i=$t(t),s=Ui(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+na(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+na(-i-1)+s,r&&(n=r-a)>0&&(s+=na(n))):i>=a?(s+=na(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+na(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=na(n))),t.s<0?"-"+s:s}function JU(t,e){if(t.length>e)return t.length=e,!0}function FM(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Zo+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return qU(a,s.toString())}else if(typeof s!="string")throw Error(Zo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,JAe.test(s))qU(a,s);else throw Error(Zo+s)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=FM,i.config=i.set=ZAe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function ZAe(t){if(!t||typeof t!="object")throw Error(ti+"Object expected");var e,r,n,i=["precision",1,Eu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(_u(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Zo+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Zo+r+": "+n);return this}var w1=FM(qAe);mn=new w1(1);const Xe=w1;var ele=t=>t,UM={"@@functional/placeholder":!0},PM=t=>t===UM,ZU=t=>function e(){return arguments.length===0||arguments.length===1&&PM(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},QM=(t,e)=>t===1?e:ZU(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==UM).length;return s>=t?e(...n):QM(t-s,ZU(function(){for(var a=arguments.length,o=new Array(a),A=0;A<a;A++)o[A]=arguments[A];var l=n.map(u=>PM(u)?o.shift():u);return e(...l,...o)}))}),gv=t=>QM(t.length,t),zb=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},tle=gv((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),rle=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return ele;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,A)=>A(o),s(...arguments))}},Wb=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),NM=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e&&i.every((a,o)=>{var A;return a===((A=e)===null||A===void 0?void 0:A[o])})||(e=i,r=t(...i)),r}};function kM(t){var e;return t===0?e=1:e=Math.floor(new Xe(t).abs().log(10).toNumber())+1,e}function OM(t,e,r){for(var n=new Xe(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}gv((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});gv((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});gv((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var DM=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},jM=(t,e,r)=>{if(t.lte(0))return new Xe(0);var n=kM(t.toNumber()),i=new Xe(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new Xe(Math.ceil(s.div(a).toNumber())).add(r).mul(a),A=o.mul(i);return e?new Xe(A.toNumber()):new Xe(Math.ceil(A.toNumber()))},nle=(t,e,r)=>{var n=new Xe(1),i=new Xe(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Xe(10).pow(kM(t)-1),i=new Xe(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Xe(Math.floor(t)))}else t===0?i=new Xe(Math.floor((e-1)/2)):r||(i=new Xe(Math.floor(t)));var a=Math.floor((e-1)/2),o=rle(tle(A=>i.add(new Xe(A-a).mul(n)).toNumber()),zb);return o(0,e)},RM=function(e,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var a=jM(new Xe(r).sub(e).div(n-1),i,s),o;e<=0&&r>=0?o=new Xe(0):(o=new Xe(e).add(r).div(2),o=o.sub(new Xe(o).mod(a)));var A=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new Xe(r).sub(o).div(a).toNumber()),u=A+l+1;return u>n?RM(e,r,n,i,s+1):(u<n&&(l=r>0?l+(n-u):l,A=r>0?A:A+(n-u)),{step:a,tickMin:o.sub(new Xe(A).mul(a)),tickMax:o.add(new Xe(l).mul(a))})};function ile(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,o]=DM([e,r]);if(a===-1/0||o===1/0){var A=o===1/0?[a,...zb(0,n-1).map(()=>1/0)]:[...zb(0,n-1).map(()=>-1/0),o];return e>r?Wb(A):A}if(a===o)return nle(a,n,i);var{step:l,tickMin:u,tickMax:c}=RM(a,o,s,i,0),f=OM(u,c.add(new Xe(.1).mul(l)),l);return e>r?Wb(f):f}function sle(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=DM([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var o=Math.max(e,2),A=jM(new Xe(a).sub(s).div(o-1),i,0),l=[...OM(new Xe(s),new Xe(a),A),a];return i===!1&&(l=l.map(u=>Math.round(u))),r>n?Wb(l):l}var ale=NM(ile),ole=NM(sle),LM=t=>t.rootProps.maxBarSize,Ale=t=>t.rootProps.barGap,MM=t=>t.rootProps.barCategoryGap,lle=t=>t.rootProps.barSize,Sf=t=>t.rootProps.stackOffset,x1=t=>t.options.chartName,b1=t=>t.rootProps.syncId,HM=t=>t.rootProps.syncMethod,B1=t=>t.options.eventEmitter,ns={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},gn={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},pv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},ule={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ns.angleAxisId,includeHidden:!1,name:void 0,reversed:ns.reversed,scale:ns.scale,tick:ns.tick,tickCount:void 0,ticks:void 0,type:ns.type,unit:void 0},cle={allowDataOverflow:gn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gn.scale,tick:gn.tick,tickCount:gn.tickCount,ticks:void 0,type:gn.type,unit:void 0},dle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ns.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ns.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ns.scale,tick:ns.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},fle={allowDataOverflow:gn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gn.scale,tick:gn.tick,tickCount:gn.tickCount,ticks:void 0,type:"category",unit:void 0},C1=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?dle:ule,E1=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?fle:cle,mv=t=>t.polarOptions,_1=H([Os,Ds,Jt],gL),VM=H([mv,_1],(t,e)=>{if(t!=null)return zr(t.innerRadius,e,0)}),KM=H([mv,_1],(t,e)=>{if(t!=null)return zr(t.outerRadius,e,e*.8)}),hle=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},$M=H([mv],hle);H([C1,$M],pv);var GM=H([_1,VM,KM],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});H([E1,GM],pv);var zM=H([Me,mv,VM,KM,Os,Ds],(t,e,r,n,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:a,cy:o,startAngle:A,endAngle:l}=e;return{cx:zr(a,i,i/2),cy:zr(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:A,endAngle:l,clockWise:!1}}}),Bt=(t,e)=>e,Tf=(t,e,r)=>r;function I1(t){return t==null?void 0:t.id}var er=t=>{var e=Me(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Iu=t=>t.tooltip.settings.axisId,tr=t=>{var e=er(t),r=Iu(t);return Ff(t,e,r)};function WM(t,e,r){var{chartData:n=[]}=e,i=r==null?void 0:r.dataKey,s=new Map;return t.forEach(a=>{var o,A=(o=a.data)!==null&&o!==void 0?o:n;if(!(A==null||A.length===0)){var l=I1(a);A.forEach((u,c)=>{var f=i==null?c:String(nt(u,i,null)),g=nt(u,a.dataKey,0),m;s.has(f)?m=s.get(f):m={},Object.assign(m,{[l]:g}),s.set(f,m)})}}),Array.from(s.values())}function vv(t){return t.stackId!=null&&t.dataKey!=null}function eP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ym(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(r),!0).forEach(function(n){gle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gle(t,e,r){return(e=ple(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ple(t){var e=mle(t,"string");return typeof e=="symbol"?e:e+""}function mle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xb=[0,"auto"],dn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Rs=(t,e)=>{var r=t.cartesianAxis.xAxis[e];return r??dn},fn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Xb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:iv},uo=(t,e)=>{var r=t.cartesianAxis.yAxis[e];return r??fn},vle={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},S1=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??vle},Lt=(t,e,r)=>{switch(e){case"xAxis":return Rs(t,r);case"yAxis":return uo(t,r);case"zAxis":return S1(t,r);case"angleAxis":return C1(t,r);case"radiusAxis":return E1(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},yle=(t,e,r)=>{switch(e){case"xAxis":return Rs(t,r);case"yAxis":return uo(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Ff=(t,e,r)=>{switch(e){case"xAxis":return Rs(t,r);case"yAxis":return uo(t,r);case"angleAxis":return C1(t,r);case"radiusAxis":return E1(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},XM=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function T1(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var yv=t=>t.graphicalItems.cartesianItems,wle=H([Bt,Tf],T1),F1=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),Uf=H([yv,Lt,wle],F1),YM=H([Uf],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(vv)),qM=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),JM=H([Uf],qM),U1=t=>t.map(e=>e.data).filter(Boolean).flat(1),xle=H([Uf],U1),P1=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},Q1=H([xle,hv],P1),N1=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:nt(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:nt(i,n)}))):t.map(n=>({value:n})),wv=H([Q1,Lt,Uf],N1);function ZM(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function FA(t){return t.filter(e=>Ri(e)||e instanceof Date).map(Number).filter(e=>En(e)===!1)}function ble(t,e,r){return!r||typeof e!="number"||En(e)?[]:r.length?FA(r.flatMap(n=>{var i=nt(t,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Sn(s)||!Sn(a)))return[e-s,e+a]})):[]}var Ble=H([YM,hv,tr],WM),e5=(t,e,r)=>{var n={},i=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,o]=s,A=o.map(I1);return[a,{stackedData:Nie(t,A,r),graphicalItems:o}]}))},Yb=H([Ble,YM,Sf],e5),t5=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var s=Rie(t,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Cle=H([Yb,lo,Bt],t5),r5=(t,e,r,n,i)=>r.length>0?t.flatMap(s=>r.flatMap(a=>{var o,A,l=(o=n[a.id])===null||o===void 0?void 0:o.filter(c=>ZM(i,c)),u=nt(s,(A=e.dataKey)!==null&&A!==void 0?A:a.dataKey);return{value:u,errorDomain:ble(s,u,l)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(s=>({value:nt(s,e.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]})),xv=t=>t.errorBars,n5=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>ZM(r,n));H([JM,xv,Bt],n5);var Ele=H([Q1,Lt,JM,xv,Bt],r5);function _le(t){var{value:e}=t;if(Ri(e)||e instanceof Date)return e}var tP=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=FA(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Ile=(t,e,r)=>{var n=t.map(_le).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&Wj(n))?$L(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},k1=t=>{var e;if(t==null||!("domain"in t))return Xb;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=FA(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Xb},wm=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},i5=t=>t.referenceElements.dots,Su=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),Sle=H([i5,Bt,Tf],Su),s5=t=>t.referenceElements.areas,Tle=H([s5,Bt,Tf],Su),a5=t=>t.referenceElements.lines,Fle=H([a5,Bt,Tf],Su),o5=(t,e)=>{var r=FA(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Ule=H(Sle,Bt,o5),A5=(t,e)=>{var r=FA(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Ple=H([Tle,Bt],A5),l5=(t,e)=>{var r=FA(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Qle=H(Fle,Bt,l5),Nle=H(Ule,Qle,Ple,(t,e,r)=>wm(t,r,e)),u5=H([Lt],k1),O1=(t,e,r,n,i,s,a)=>{var o=XAe(e,t.allowDataOverflow);if(o!=null)return o;var A=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",l=A?wm(r,i,tP(n)):wm(i,tP(n));return YAe(e,l,t.allowDataOverflow)},kle=H([Lt,u5,Cle,Ele,Nle,Me,Bt],O1),Ole=[0,1],D1=(t,e,r,n,i,s,a)=>{if(!((t==null||r==null||r.length===0)&&a===void 0)){var{dataKey:o,type:A}=t,l=ao(e,s);return l&&o==null?$L(0,r.length):A==="category"?Ile(n,t,l):i==="expand"?Ole:a}},j1=H([Lt,Me,Q1,wv,Sf,Bt,kle],D1),c5=(t,e,r,n,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(wf(s));return o in kc?o:"point"}}},Tu=H([Lt,Me,XM,x1,Bt],c5);function Dle(t){if(t!=null){if(t in kc)return kc[t]();var e="scale".concat(wf(t));if(e in kc)return kc[e]()}}function R1(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=Dle(e);if(i!=null){var s=i.domain(r).range(n);return Tie(s),s}}}var L1=(t,e,r)=>{var n=k1(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&lu(t))return ale(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&lu(t))return ole(t,e.tickCount,e.allowDecimals)}},M1=H([j1,Ff,Tu],L1),H1=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&lu(e)&&Array.isArray(r)&&r.length>0){var i=e[0],s=r[0],a=e[1],o=r[r.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},jle=H([Lt,j1,M1,Bt],H1),Rle=H(wv,Lt,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(FA(t.map(o=>o.value))).sort((o,A)=>o-A);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),d5=H(Rle,Me,MM,Jt,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!Sn(t))return 0;var s=e==="vertical"?n.height:n.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=zr(r,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),Lle=(t,e)=>{var r=Rs(t,e);return r==null||typeof r.padding!="string"?0:d5(t,"xAxis",e,r.padding)},Mle=(t,e)=>{var r=uo(t,e);return r==null||typeof r.padding!="string"?0:d5(t,"yAxis",e,r.padding)},Hle=H(Rs,Lle,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),Vle=H(uo,Mle,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),Kle=H([Jt,Hle,av,sv,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),$le=H([Jt,Me,Vle,av,sv,(t,e,r)=>r],(t,e,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Pf=(t,e,r,n)=>{var i;switch(e){case"xAxis":return Kle(t,r,n);case"yAxis":return $le(t,r,n);case"zAxis":return(i=S1(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return $M(t);case"radiusAxis":return GM(t,r);default:return}},f5=H([Lt,Pf],pv),Fu=H([Lt,Tu,jle,f5],R1);H([Uf,xv,Bt],n5);function h5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var bv=(t,e)=>e,Bv=(t,e,r)=>r,Gle=H(ME,bv,Bv,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(h5)),zle=H(HE,bv,Bv,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(h5)),g5=(t,e)=>({width:t.width,height:e.height}),Wle=(t,e)=>{var r=typeof e.width=="number"?e.width:iv;return{width:r,height:t.height}},p5=H(Jt,Rs,g5),Xle=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},Yle=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},qle=H(Ds,Jt,Gle,bv,Bv,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var A=g5(e,o);a==null&&(a=Xle(e,n,t));var l=n==="top"&&!i||n==="bottom"&&i;s[o.id]=a-Number(l)*A.height,a+=(l?-1:1)*A.height}),s}),Jle=H(Os,Jt,zle,bv,Bv,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var A=Wle(e,o);a==null&&(a=Yle(e,n,t));var l=n==="left"&&!i||n==="right"&&i;s[o.id]=a-Number(l)*A.width,a+=(l?-1:1)*A.width}),s}),Zle=(t,e)=>{var r=Jt(t),n=Rs(t,e);if(n!=null){var i=qle(t,n.orientation,n.mirror),s=i[e];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},eue=(t,e)=>{var r=Jt(t),n=uo(t,e);if(n!=null){var i=Jle(t,n.orientation,n.mirror),s=i[e];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},m5=H(Jt,uo,(t,e)=>{var r=typeof e.width=="number"?e.width:iv;return{width:r,height:t.height}}),rP=(t,e,r)=>{switch(e){case"xAxis":return p5(t,r).width;case"yAxis":return m5(t,r).height;default:return}},v5=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,o=ao(t,n),A=e.map(l=>l.value);if(a&&o&&s==="category"&&i&&Wj(A))return A}},V1=H([Me,wv,Lt,Bt],v5),y5=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=ao(t,n);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},K1=H([Me,wv,Ff,Bt],y5),nP=H([Me,yle,Tu,Fu,V1,K1,Pf,M1,Bt],(t,e,r,n,i,s,a,o,A)=>{if(e==null)return null;var l=ao(t,A);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:A,categoricalDomain:s,duplicateDomain:i,isCategorical:l,niceTicks:o,range:a,realScaleType:r,scale:n}}),tue=(t,e,r,n,i,s,a,o,A)=>{if(!(e==null||n==null)){var l=ao(t,A),{type:u,ticks:c,tickCount:f}=e,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/g:0;m=A==="angleAxis"&&s!=null&&s.length>=2?Ar(s[0]-s[1])*2*m:m;var p=c||i;if(p){var v=p.map((y,w)=>{var B=a?a.indexOf(y):y;return{index:w,coordinate:n(B)+m,value:y,offset:m}});return v.filter(y=>!En(y.coordinate))}return l&&o?o.map((y,w)=>({coordinate:n(y)+m,value:y,index:w,offset:m})):n.ticks?n.ticks(f).map(y=>({coordinate:n(y)+m,value:y,offset:m})):n.domain().map((y,w)=>({coordinate:n(y)+m,value:a?a[y]:y,index:w,offset:m}))}},w5=H([Me,Ff,Tu,Fu,M1,Pf,V1,K1,Bt],tue),rue=(t,e,r,n,i,s,a)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=ao(t,a),{tickCount:A}=e,l=0;return l=a==="angleAxis"&&(n==null?void 0:n.length)>=2?Ar(n[0]-n[1])*2*l:l,o&&s?s.map((u,c)=>({coordinate:r(u)+l,value:u,index:c,offset:l})):r.ticks?r.ticks(A).map(u=>({coordinate:r(u)+l,value:u,offset:l})):r.domain().map((u,c)=>({coordinate:r(u)+l,value:i?i[u]:u,index:c,offset:l}))}},Xa=H([Me,Ff,Fu,Pf,V1,K1,Bt],rue),Ya=H(Lt,Fu,(t,e)=>{if(!(t==null||e==null))return ym(ym({},t),{},{scale:e})}),nue=H([Lt,Tu,j1,f5],R1);H((t,e,r)=>S1(t,r),nue,(t,e)=>{if(!(t==null||e==null))return ym(ym({},t),{},{scale:e})});var iue=H([Me,ME,HE],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),x5=t=>t.options.defaultTooltipEventType,b5=t=>t.options.validateTooltipEventTypes;function B5(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function $1(t,e){var r=x5(t),n=b5(t);return B5(e,r,n)}function sue(t){return we(e=>$1(e,t))}var C5=(t,e)=>{var r,n=Number(e);if(!(En(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},aue=t=>t.tooltip.settings,oa={active:!1,index:null,dataKey:void 0,coordinate:void 0},oue={itemInteraction:{click:oa,hover:oa},axisInteraction:{click:oa,hover:oa},keyboardInteraction:oa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},E5=Un({name:"tooltip",initialState:oue,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=ms(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Aue,removeTooltipEntrySettings:lue,setTooltipSettingsState:uue,setActiveMouseOverItemIndex:_5,mouseLeaveItem:cue,mouseLeaveChart:I5,setActiveClickItemIndex:due,setMouseOverAxisIndex:S5,setMouseClickAxisIndex:fue,setSyncInteraction:qb,setKeyboardInteraction:Jb}=E5.actions,hue=E5.reducer;function iP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(r),!0).forEach(function(n){gue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gue(t,e,r){return(e=pue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pue(t){var e=mue(t,"string");return typeof e=="symbol"?e:e+""}function mue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vue(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function yue(t){return t.index!=null}var T5=(t,e,r,n)=>{if(e==null)return oa;var i=vue(t,e,r);if(i==null)return oa;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(yue(i)){if(s)return lg(lg({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return lg(lg({},oa),{},{coordinate:i.coordinate})},G1=(t,e)=>{var r=t==null?void 0:t.index;if(r==null)return null;var n=Number(r);if(!Sn(n))return r;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(n,s)))},F5=(t,e,r,n,i,s,a,o)=>{if(!(s==null||o==null)){var A=a[0],l=A==null?void 0:o(A.positions,s);if(l!=null)return l;var u=i==null?void 0:i[Number(s)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:u.coordinate}}}},U5=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Qf=t=>t.options.tooltipPayloadSearcher,Uu=t=>t.tooltip;function sP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(r),!0).forEach(function(n){wue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wue(t,e,r){return(e=xue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xue(t){var e=bue(t,"string");return typeof e=="symbol"?e:e+""}function bue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bue(t,e){return t??e}var P5=(t,e,r,n,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:A,dataStartIndex:l,dataEndIndex:u}=r,c=[];return t.reduce((f,g)=>{var m,{dataDefinedOnItem:p,settings:v}=g,y=Bue(p,o),w=Array.isArray(y)?pL(y,l,u):y,B=(m=v==null?void 0:v.dataKey)!==null&&m!==void 0?m:n==null?void 0:n.dataKey,I=v==null?void 0:v.nameKey,T;if(n!=null&&n.dataKey&&Array.isArray(w)&&!Array.isArray(w[0])&&a==="axis"?T=Xj(w,n.dataKey,i):T=s(w,e,A,I),Array.isArray(T))T.forEach(C=>{var _=aP(aP({},v),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});f.push(WF({tooltipEntrySettings:_,dataKey:C.dataKey,payload:C.payload,value:nt(C.payload,C.dataKey),name:C.name}))});else{var F;f.push(WF({tooltipEntrySettings:v,dataKey:B,payload:T,value:nt(T,B),name:(F=nt(T,I))!==null&&F!==void 0?F:v==null?void 0:v.name}))}return f},c)}},z1=H([tr,Me,XM,x1,er],c5),Cue=H([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Eue=H([er,Iu],T1),Nf=H([Cue,tr,Eue],F1),_ue=H([Nf],t=>t.filter(vv)),Iue=H([Nf],U1),Pu=H([Iue,lo],P1),Sue=H([_ue,lo,tr],WM),W1=H([Pu,tr,Nf],N1),Tue=H([tr],k1),Fue=H([Nf],t=>t.filter(vv)),Uue=H([Sue,Fue,Sf],e5),Pue=H([Uue,lo,er],t5),Que=H([Nf],qM),Nue=H([Pu,tr,Que,xv,er],r5),kue=H([i5,er,Iu],Su),Oue=H([kue,er],o5),Due=H([s5,er,Iu],Su),jue=H([Due,er],A5),Rue=H([a5,er,Iu],Su),Lue=H([Rue,er],l5),Mue=H([Oue,Lue,jue],wm),Hue=H([tr,Tue,Pue,Nue,Mue,Me,er],O1),Q5=H([tr,Me,Pu,W1,Sf,er,Hue],D1),Vue=H([Q5,tr,z1],L1),Kue=H([tr,Q5,Vue,er],H1),N5=t=>{var e=er(t),r=Iu(t),n=!1;return Pf(t,e,r,n)},k5=H([tr,N5],pv),O5=H([tr,z1,Kue,k5],R1),$ue=H([Me,W1,tr,er],v5),Gue=H([Me,W1,tr,er],y5),zue=(t,e,r,n,i,s,a,o)=>{if(e){var{type:A}=e,l=ao(t,o);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,c=A==="category"&&n.bandwidth?n.bandwidth()/u:0;return c=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ar(i[0]-i[1])*2*c:c,l&&a?a.map((f,g)=>({coordinate:n(f)+c,value:f,index:g,offset:c})):n.domain().map((f,g)=>({coordinate:n(f)+c,value:s?s[f]:f,index:g,offset:c}))}}},Ls=H([Me,tr,z1,O5,N5,$ue,Gue,er],zue),X1=H([x5,b5,aue],(t,e,r)=>B5(r.shared,t,e)),D5=t=>t.tooltip.settings.trigger,Y1=t=>t.tooltip.settings.defaultIndex,Cv=H([Uu,X1,D5,Y1],T5),qa=H([Cv,Pu],G1),j5=H([Ls,qa],C5),R5=H([Cv],t=>{if(t)return t.dataKey}),L5=H([Uu,X1,D5,Y1],U5),Wue=H([Os,Ds,Me,Jt,Ls,Y1,L5,Qf],F5),Xue=H([Cv,Wue],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Yue=H([Cv],t=>t.active),que=H([L5,qa,lo,tr,j5,Qf,X1],P5),Jue=H([que],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function oP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(r),!0).forEach(function(n){Zue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zue(t,e,r){return(e=ece(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ece(t){var e=tce(t,"string");return typeof e=="symbol"?e:e+""}function tce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rce=()=>we(tr),nce=()=>{var t=rce(),e=we(Ls),r=we(O5);return $d(AP(AP({},t),{},{scale:r}),e)},ice=()=>we(x1),q1=(t,e)=>e,M5=(t,e,r)=>r,J1=(t,e,r,n)=>n,sce=H(Ls,t=>q0(t,e=>e.coordinate)),Z1=H([Uu,q1,M5,J1],T5),H5=H([Z1,Pu],G1),ace=(t,e,r)=>{if(e!=null){var n=Uu(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},V5=H([Uu,q1,M5,J1],U5),xm=H([Os,Ds,Me,Jt,Ls,J1,V5,Qf],F5),oce=H([Z1,xm],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),K5=H(Ls,H5,C5),Ace=H([V5,H5,lo,tr,K5,Qf,q1],P5),lce=H([Z1],t=>({isActive:t.active,activeIndex:t.index})),uce=(t,e,r,n,i,s,a,o)=>{if(!(!t||!e||!n||!i||!s)){var A=Lie(t.chartX,t.chartY,e,r,o);if(A){var l=Hie(A,e),u=Iie(l,a,s,n,i),c=Mie(e,s,u,A);return{activeIndex:String(u),activeCoordinate:c}}}};function Zb(){return Zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zb.apply(null,arguments)}function lP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ug(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(r),!0).forEach(function(n){cce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cce(t,e,r){return(e=dce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dce(t){var e=fce(t,"string");return typeof e=="symbol"?e:e+""}function fce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hce(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:o,tooltipEventType:A,chartName:l}=t,u=e,c=r,f=n;if(!o||!u||l!=="ScatterChart"&&A!=="axis")return null;var g,m;if(l==="ScatterChart")g=u,m=Rse;else if(l==="BarChart")g=Lse(a,u,i,s),m=jL;else if(a==="radial"){var{cx:p,cy:v,radius:y,startAngle:w,endAngle:B}=RL(u);g={cx:p,cy:v,startAngle:w,endAngle:B,innerRadius:y,outerRadius:y},m=ML}else g={points:yae(a,u,i)},m=zE;var I=typeof o=="object"&&"className"in o?o.className:void 0,T=ug(ug(ug(ug({stroke:"#ccc",pointerEvents:"none"},i),g),yt(o,!1)),{},{payload:c,payloadIndex:f,className:Ke("recharts-tooltip-cursor",I)});return x.isValidElement(o)?x.cloneElement(o,T):x.createElement(m,T)}function gce(t){var e=nce(),r=BL(),n=ov(),i=ice();return x.createElement(hce,Zb({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var $5=x.createContext(null),pce=()=>x.useContext($5),G5={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(A,l,u){this.fn=A,this.context=l,this.once=u||!1}function s(A,l,u,c,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new i(u,c||A,f),m=r?r+l:l;return A._events[m]?A._events[m].fn?A._events[m]=[A._events[m],g]:A._events[m].push(g):(A._events[m]=g,A._eventsCount++),A}function a(A,l){--A._eventsCount===0?A._events=new n:delete A._events[l]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],u,c;if(this._eventsCount===0)return l;for(c in u=this._events)e.call(u,c)&&l.push(r?c.slice(1):c);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},o.prototype.listeners=function(l){var u=r?r+l:l,c=this._events[u];if(!c)return[];if(c.fn)return[c.fn];for(var f=0,g=c.length,m=new Array(g);f<g;f++)m[f]=c[f].fn;return m},o.prototype.listenerCount=function(l){var u=r?r+l:l,c=this._events[u];return c?c.fn?1:c.length:0},o.prototype.emit=function(l,u,c,f,g,m){var p=r?r+l:l;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,w,B;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,c),!0;case 4:return v.fn.call(v.context,u,c,f),!0;case 5:return v.fn.call(v.context,u,c,f,g),!0;case 6:return v.fn.call(v.context,u,c,f,g,m),!0}for(B=1,w=new Array(y-1);B<y;B++)w[B-1]=arguments[B];v.fn.apply(v.context,w)}else{var I=v.length,T;for(B=0;B<I;B++)switch(v[B].once&&this.removeListener(l,v[B].fn,void 0,!0),y){case 1:v[B].fn.call(v[B].context);break;case 2:v[B].fn.call(v[B].context,u);break;case 3:v[B].fn.call(v[B].context,u,c);break;case 4:v[B].fn.call(v[B].context,u,c,f);break;default:if(!w)for(T=1,w=new Array(y-1);T<y;T++)w[T-1]=arguments[T];v[B].fn.apply(v[B].context,w)}}return!0},o.prototype.on=function(l,u,c){return s(this,l,u,c,!1)},o.prototype.once=function(l,u,c){return s(this,l,u,c,!0)},o.prototype.removeListener=function(l,u,c,f){var g=r?r+l:l;if(!this._events[g])return this;if(!u)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===u&&(!f||m.once)&&(!c||m.context===c)&&a(this,g);else{for(var p=0,v=[],y=m.length;p<y;p++)(m[p].fn!==u||f&&!m[p].once||c&&m[p].context!==c)&&v.push(m[p]);v.length?this._events[g]=v.length===1?v[0]:v:a(this,g)}return this},o.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(G5);var mce=G5.exports;const vce=Mi(mce);var Jd=new vce,eB="recharts.syncEvent.tooltip",uP="recharts.syncEvent.brush";function e_(t,e){if(e){var r=Number.parseInt(e,10);if(!En(r))return t==null?void 0:t[r]}}var yce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},z5=Un({name:"options",initialState:yce,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),wce=z5.reducer,{createEventEmitter:xce}=z5.actions;function bce(t){return t.tooltip.syncInteraction}var Bce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},W5=Un({name:"chartData",initialState:Bce,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:cP,setDataStartEndIndexes:Cce,setComputedData:D0e}=W5.actions,Ece=W5.reducer,X5=()=>{};function _ce(){var t=we(b1),e=we(B1),r=Tt(),n=we(HM),i=we(Ls),s=ov(),a=VE(),o=we(A=>A.rootProps.className);x.useEffect(()=>{if(t==null)return X5;var A=(l,u,c)=>{if(e!==c&&t===l){if(n==="index"){r(u);return}if(i!=null){var f;if(typeof n=="function"){var g={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},m=n(i,g);f=i[m]}else n==="value"&&(f=i.find(F=>String(F.value)===u.payload.label));var{coordinate:p}=u.payload;if(f==null||u.payload.active===!1||p==null||a==null){r(qb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:v,y}=p,w=Math.min(v,a.x+a.width),B=Math.min(y,a.y+a.height),I={x:s==="horizontal"?f.coordinate:w,y:s==="horizontal"?B:f.coordinate},T=qb({active:u.payload.active,coordinate:I,dataKey:u.payload.dataKey,index:String(f.index),label:u.payload.label});r(T)}}};return Jd.on(eB,A),()=>{Jd.off(eB,A)}},[o,r,e,t,n,i,s,a])}function Ice(){var t=we(b1),e=we(B1),r=Tt();x.useEffect(()=>{if(t==null)return X5;var n=(i,s,a)=>{e!==a&&t===i&&r(Cce(s))};return Jd.on(uP,n),()=>{Jd.off(uP,n)}},[r,e,t])}function Sce(){var t=Tt();x.useEffect(()=>{t(xce())},[t]),_ce(),Ice()}function Tce(t,e,r,n,i,s){var a=we(f=>ace(f,t,e)),o=we(B1),A=we(b1),l=we(HM),u=we(bce),c=u==null?void 0:u.active;x.useEffect(()=>{if(!c&&A!=null&&o!=null){var f=qb({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});Jd.emit(eB,A,f,o)}},[c,r,a,i,n,o,A,l,s])}function dP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(r),!0).forEach(function(n){Fce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fce(t,e,r){return(e=Uce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uce(t){var e=Pce(t,"string");return typeof e=="symbol"?e:e+""}function Pce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qce(t){return t.dataKey}function Nce(t,e){return x.isValidElement(t)?x.cloneElement(t,e):typeof t=="function"?x.createElement(t,e):x.createElement(mse,e)}var hP=[],kce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!IA.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function pa(t){var e=Pn(t,kce),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:o,isAnimationActive:A,offset:l,payloadUniqBy:u,position:c,reverseDirection:f,useTranslate3d:g,wrapperStyle:m,cursor:p,shared:v,trigger:y,defaultIndex:w,portal:B,axisId:I}=e,T=Tt(),F=typeof w=="number"?String(w):w;x.useEffect(()=>{T(uue({shared:v,trigger:y,axisId:I,active:r,defaultIndex:F}))},[T,v,y,I,r,F]);var C=VE(),_=IL(),S=sue(v),{activeIndex:P,isActive:N}=we(R=>lce(R,S,y,F)),k=we(R=>Ace(R,S,y,F)),Q=we(R=>K5(R,S,y,F)),se=we(R=>oce(R,S,y,F)),Ce=k,ge=pce(),xe=r??N,[Y,ne]=KR([Ce,xe]),ce=S==="axis"?Q:void 0;Tce(S,y,se,ce,P,xe);var ae=B??ge;if(ae==null)return null;var z=Ce??hP;xe||(z=hP),o&&z.length&&(z=PR(Ce.filter(R=>R.value!=null&&(R.hide!==!0||e.includeHidden)),u,Qce));var ve=z.length>0,O=x.createElement(Cse,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:A,active:xe,coordinate:se,hasPayload:ve,offset:l,position:c,reverseDirection:f,useTranslate3d:g,viewBox:C,wrapperStyle:m,lastBoundingBox:Y,innerRef:ne,hasPortalFromProps:!!B},Nce(a,fP(fP({},e),{},{payload:z,label:ce,active:xe,coordinate:se,accessibilityLayer:_})));return x.createElement(x.Fragment,null,sC.createPortal(O,ae),xe&&x.createElement(gce,{cursor:p,tooltipEventType:S,coordinate:se,payload:Ce,index:P}))}var Y5={},q5={},J5={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:s}={}){let a,o=null;const A=s!=null&&s.includes("leading"),l=s==null||s.includes("trailing"),u=()=>{o!==null&&(r.apply(a,o),a=void 0,o=null)},c=()=>{l&&u(),p()};let f=null;const g=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,c()},n)},m=()=>{f!==null&&(clearTimeout(f),f=null)},p=()=>{m(),a=void 0,o=null},v=()=>{u()},y=function(...w){if(i!=null&&i.aborted)return;a=this,o=w;const B=f==null;g(),A&&B&&u()};return y.schedule=g,y.cancel=p,y.flush=v,i==null||i.addEventListener("abort",p,{once:!0}),y}t.debounce=e})(J5);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J5;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:A}=s,l=Array(2);a&&(l[0]="leading"),o&&(l[1]="trailing");let u,c=null;const f=e.debounce(function(...p){u=n.apply(this,p),c=null},i,{edges:l}),g=function(...p){return A!=null&&(c===null&&(c=Date.now()),Date.now()-c>=A)?(u=n.apply(this,p),c=Date.now(),f.cancel(),f.schedule(),u):(f.apply(this,p),u)},m=()=>(f.flush(),u);return g.cancel=f.cancel,g.flush=m,g}t.debounce=r})(q5);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q5;function r(n,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(n,i,{leading:a,maxWait:i,trailing:o})}t.throttle=r})(Y5);var Oce=Y5.throttle;const Dce=Mi(Oce);var sd=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function gP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(r),!0).forEach(function(n){jce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jce(t,e,r){return(e=Rce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rce(t){var e=Lce(t,"string");return typeof e=="symbol"?e:e+""}function Lce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ma=x.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:o,maxHeight:A,children:l,debounce:u=0,id:c,className:f,onResize:g,style:m={}}=t,p=x.useRef(null),v=x.useRef();v.current=g,x.useImperativeHandle(e,()=>p.current);var[y,w]=x.useState({containerWidth:n.width,containerHeight:n.height}),B=x.useCallback((T,F)=>{w(C=>{var _=Math.round(T),S=Math.round(F);return C.containerWidth===_&&C.containerHeight===S?C:{containerWidth:_,containerHeight:S}})},[]);x.useEffect(()=>{var T=S=>{var P,{width:N,height:k}=S[0].contentRect;B(N,k),(P=v.current)===null||P===void 0||P.call(v,N,k)};u>0&&(T=Dce(T,u,{trailing:!0,leading:!1}));var F=new ResizeObserver(T),{width:C,height:_}=p.current.getBoundingClientRect();return B(C,_),F.observe(p.current),()=>{F.disconnect()}},[B,u]);var I=x.useMemo(()=>{var{containerWidth:T,containerHeight:F}=y;if(T<0||F<0)return null;sd(jo(i)||jo(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),sd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var C=jo(i)?T:i,_=jo(s)?F:s;return r&&r>0&&(C?_=C/r:_&&(C=_*r),A&&_>A&&(_=A)),sd(C>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,_,i,s,a,o,r),x.Children.map(l,S=>x.cloneElement(S,{width:C,height:_,style:cw({width:C,height:_},S.props.style)}))},[r,l,s,A,o,a,y,i]);return x.createElement("div",{id:c?"".concat(c):void 0,className:Ke("recharts-responsive-container",f),style:cw(cw({},m),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:A}),ref:p},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},I))}),Qu=t=>null;Qu.displayName="Cell";function Mce(t,e,r){return(e=Hce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hce(t){var e=Vce(t,"string");return typeof e=="symbol"?e:e+""}function Vce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Kce{constructor(e){Mce(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function pP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $ce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(r),!0).forEach(function(n){Gce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gce(t,e,r){return(e=zce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zce(t){var e=Wce(t,"string");return typeof e=="symbol"?e:e+""}function Wce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xce={cacheSize:2e3,enableCache:!0},Z5=$ce({},Xce),mP=new Kce(Z5.cacheSize),Yce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vP="recharts_measurement_span";function qce(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var yP=(t,e)=>{try{var r=document.getElementById(vP);r||(r=document.createElement("span"),r.setAttribute("id",vP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Yce,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ad=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||IA.isSsr)return{width:0,height:0};if(!Z5.enableCache)return yP(e,r);var n=qce(e,r),i=mP.get(n);if(i)return i;var s=yP(e,r);return mP.set(n,s),s},wP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Jce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Zce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,e3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ede=Object.keys(e3),yl="NaN";function tde(t,e){return t*e3[e]}class Yr{static parse(e){var r,[,n,i]=(r=Zce.exec(e))!==null&&r!==void 0?r:[];return new Yr(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,En(e)&&(this.unit=""),r!==""&&!Jce.test(r)&&(this.num=NaN,this.unit=""),ede.includes(r)&&(this.num=tde(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new Yr(NaN,""):new Yr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Yr(NaN,""):new Yr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Yr(NaN,""):new Yr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Yr(NaN,""):new Yr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return En(this.num)}}function t3(t){if(t.includes(yl))return yl;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,s]=(r=wP.exec(e))!==null&&r!==void 0?r:[],a=Yr.parse(n??""),o=Yr.parse(s??""),A=i==="*"?a.multiply(o):a.divide(o);if(A.isNaN())return yl;e=e.replace(wP,A.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var l,[,u,c,f]=(l=xP.exec(e))!==null&&l!==void 0?l:[],g=Yr.parse(u??""),m=Yr.parse(f??""),p=c==="+"?g.add(m):g.subtract(m);if(p.isNaN())return yl;e=e.replace(xP,p.toString())}return e}var bP=/\(([^()]*)\)/;function rde(t){for(var e=t,r;(r=bP.exec(e))!=null;){var[,n]=r;e=e.replace(bP,t3(n))}return e}function nde(t){var e=t.replace(/\s+/g,"");return e=rde(e),e=t3(e),e}function ide(t){try{return nde(t)}catch{return yl}}function dw(t){var e=ide(t.slice(5,-1));return e===yl?"":e}var sde=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ade=["dx","dy","angle","className","breakAll"];function tB(){return tB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tB.apply(null,arguments)}function BP(t,e){if(t==null)return{};var r,n,i=ode(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ode(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var r3=/[ \f\n\r\t\v\u2028\u2029]+/,n3=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];ft(e)||(r?i=e.toString().split(""):i=e.toString().split(r3));var s=i.map(o=>({word:o,width:ad(o,n).width})),a=r?0:ad(" ",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Ade=(t,e,r,n,i)=>{var{maxLines:s,children:a,style:o,breakAll:A}=t,l=fe(s),u=a,c=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return N.reduce((k,Q)=>{var{word:se,width:Ce}=Q,ge=k[k.length-1];if(ge&&(n==null||i||ge.width+Ce+r<Number(n)))ge.words.push(se),ge.width+=Ce+r;else{var xe={words:[se],width:Ce};k.push(xe)}return k},[])},f=c(e),g=P=>P.reduce((N,k)=>N.width>k.width?N:k);if(!l||i)return f;var m=f.length>s||g(f).width>Number(n);if(!m)return f;for(var p="…",v=P=>{var N=u.slice(0,P),k=n3({breakAll:A,style:o,children:N+p}).wordsWithComputedWidth,Q=c(k),se=Q.length>s||g(Q).width>Number(n);return[se,Q]},y=0,w=u.length-1,B=0,I;y<=w&&B<=u.length-1;){var T=Math.floor((y+w)/2),F=T-1,[C,_]=v(F),[S]=v(T);if(!C&&!S&&(y=T+1),C&&S&&(w=T-1),!C&&S){I=_;break}B++}return I||f},CP=t=>{var e=ft(t)?[]:t.toString().split(r3);return[{words:e}]},lde=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=t;if((e||r)&&!IA.isSsr){var o,A,l=n3({breakAll:s,children:n,style:i});if(l){var{wordsWithComputedWidth:u,spaceWidth:c}=l;o=u,A=c}else return CP(n);return Ade({breakAll:s,children:n,maxLines:a,style:i},o,A,e,r)}return CP(n)},EP="#808080",Ev=x.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:A="end",fill:l=EP}=t,u=BP(t,sde),c=x.useMemo(()=>lde({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:a,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,a,u.style,u.width]),{dx:f,dy:g,angle:m,className:p,breakAll:v}=u,y=BP(u,ade);if(!Ri(r)||!Ri(n))return null;var w=r+(fe(f)?f:0),B=n+(fe(g)?g:0),I;switch(A){case"start":I=dw("calc(".concat(s,")"));break;case"middle":I=dw("calc(".concat((c.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:I=dw("calc(".concat(c.length-1," * -").concat(i,")"));break}var T=[];if(a){var F=c[0].width,{width:C}=u;T.push("scale(".concat(fe(C)?C/F:1,")"))}return m&&T.push("rotate(".concat(m,", ").concat(w,", ").concat(B,")")),T.length&&(y.transform=T.join(" ")),x.createElement("text",tB({},yt(y,!0),{ref:e,x:w,y:B,className:Ke("recharts-text",p),textAnchor:o,fill:l.includes("url")?EP:l}),c.map((_,S)=>{var P=_.words.join(v?"":" ");return x.createElement("tspan",{x:w,dy:S===0?I:i,key:"".concat(P,"-").concat(S)},P)}))});Ev.displayName="Text";var ude=["offset"],cde=["labelRef"];function _P(t,e){if(t==null)return{};var r,n,i=dde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function dde(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function IP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ut(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(r),!0).forEach(function(n){fde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fde(t,e,r){return(e=hde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hde(t){var e=gde(t,"string");return typeof e=="symbol"?e:e+""}function gde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function is(){return is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},is.apply(null,arguments)}var pde=t=>{var{value:e,formatter:r}=t,n=ft(t.children)?e:t.children;return typeof r=="function"?r(n):n},t_=t=>t!=null&&typeof t=="function",mde=(t,e)=>{var r=Ar(e-t),n=Math.min(Math.abs(e-t),360);return r*n},vde=(t,e,r,n)=>{var{position:i,offset:s,className:a}=t,{cx:o,cy:A,innerRadius:l,outerRadius:u,startAngle:c,endAngle:f,clockWise:g}=n,m=(l+u)/2,p=mde(c,f),v=p>=0?1:-1,y,w;i==="insideStart"?(y=c+v*s,w=g):i==="insideEnd"?(y=f-v*s,w=!g):i==="end"&&(y=f+v*s,w=g),w=p<=0?w:!w;var B=Kt(o,A,m,y),I=Kt(o,A,m,y+(w?1:-1)*359),T="M".concat(B.x,",").concat(B.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(w?0:1,`,
    `).concat(I.x,",").concat(I.y),F=ft(t.id)?Hd("recharts-radial-line-"):t.id;return x.createElement("text",is({},r,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",a)}),x.createElement("defs",null,x.createElement("path",{id:F,d:T})),x.createElement("textPath",{xlinkHref:"#".concat(F)},e))},yde=(t,e,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:A}=t,l=(o+A)/2;if(r==="outside"){var{x:u,y:c}=Kt(n,i,a+e,l);return{x:u,y:c,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(s+a)/2,{x:g,y:m}=Kt(n,i,f,l);return{x:g,y:m,textAnchor:"middle",verticalAnchor:"middle"}},wde=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,{x:s,y:a,width:o,height:A}=e,l=A>=0?1:-1,u=l*n,c=l>0?"end":"start",f=l>0?"start":"end",g=o>=0?1:-1,m=g*n,p=g>0?"end":"start",v=g>0?"start":"end";if(i==="top"){var y={x:s+o/2,y:a-l*n,textAnchor:"middle",verticalAnchor:c};return Ut(Ut({},y),r?{height:Math.max(a-r.y,0),width:o}:{})}if(i==="bottom"){var w={x:s+o/2,y:a+A+u,textAnchor:"middle",verticalAnchor:f};return Ut(Ut({},w),r?{height:Math.max(r.y+r.height-(a+A),0),width:o}:{})}if(i==="left"){var B={x:s-m,y:a+A/2,textAnchor:p,verticalAnchor:"middle"};return Ut(Ut({},B),r?{width:Math.max(B.x-r.x,0),height:A}:{})}if(i==="right"){var I={x:s+o+m,y:a+A/2,textAnchor:v,verticalAnchor:"middle"};return Ut(Ut({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:A}:{})}var T=r?{width:o,height:A}:{};return i==="insideLeft"?Ut({x:s+m,y:a+A/2,textAnchor:v,verticalAnchor:"middle"},T):i==="insideRight"?Ut({x:s+o-m,y:a+A/2,textAnchor:p,verticalAnchor:"middle"},T):i==="insideTop"?Ut({x:s+o/2,y:a+u,textAnchor:"middle",verticalAnchor:f},T):i==="insideBottom"?Ut({x:s+o/2,y:a+A-u,textAnchor:"middle",verticalAnchor:c},T):i==="insideTopLeft"?Ut({x:s+m,y:a+u,textAnchor:v,verticalAnchor:f},T):i==="insideTopRight"?Ut({x:s+o-m,y:a+u,textAnchor:p,verticalAnchor:f},T):i==="insideBottomLeft"?Ut({x:s+m,y:a+A-u,textAnchor:v,verticalAnchor:c},T):i==="insideBottomRight"?Ut({x:s+o-m,y:a+A-u,textAnchor:p,verticalAnchor:c},T):i&&typeof i=="object"&&(fe(i.x)||jo(i.x))&&(fe(i.y)||jo(i.y))?Ut({x:s+zr(i.x,o),y:a+zr(i.y,A),textAnchor:"end",verticalAnchor:"end"},T):Ut({x:s+o/2,y:a+A/2,textAnchor:"middle",verticalAnchor:"middle"},T)},xde=t=>"cx"in t&&fe(t.cx);function pn(t){var{offset:e=5}=t,r=_P(t,ude),n=Ut({offset:e},r),{viewBox:i,position:s,value:a,children:o,content:A,className:l="",textBreakAll:u,labelRef:c}=n,f=we(zM),g=VE(),m=s==="center"?g:f??g,p=i||m;if(!p||ft(a)&&ft(o)&&!x.isValidElement(A)&&typeof A!="function")return null;var v=Ut(Ut({},n),{},{viewBox:p});if(x.isValidElement(A)){var y=_P(v,cde);return x.cloneElement(A,y)}var w;if(typeof A=="function"){if(w=x.createElement(A,v),x.isValidElement(w))return w}else w=pde(n);var B=xde(p),I=yt(n,!0);if(B&&(s==="insideStart"||s==="insideEnd"||s==="end"))return vde(n,w,I,p);var T=B?yde(p,n.offset,n.position):wde(n,p);return x.createElement(Ev,is({ref:c,className:Ke("recharts-label",l)},I,T,{breakAll:u}),w)}pn.displayName="Label";var i3=t=>{var{cx:e,cy:r,angle:n,startAngle:i,endAngle:s,r:a,radius:o,innerRadius:A,outerRadius:l,x:u,y:c,top:f,left:g,width:m,height:p,clockWise:v,labelViewBox:y}=t;if(y)return y;if(fe(m)&&fe(p)){if(fe(u)&&fe(c))return{x:u,y:c,width:m,height:p};if(fe(f)&&fe(g))return{x:f,y:g,width:m,height:p}}if(fe(u)&&fe(c))return{x:u,y:c,width:0,height:0};if(fe(e)&&fe(r))return{cx:e,cy:r,startAngle:i||n||0,endAngle:s||n||0,innerRadius:A||0,outerRadius:l||o||a||0,clockWise:v};if(t.viewBox)return t.viewBox},bde=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?x.createElement(pn,is({key:"label-implicit"},n)):Ri(t)?x.createElement(pn,is({key:"label-implicit",value:t},n)):x.isValidElement(t)?t.type===pn?x.cloneElement(t,Ut({key:"label-implicit"},n)):x.createElement(pn,is({key:"label-implicit",content:t},n)):t_(t)?x.createElement(pn,is({key:"label-implicit",content:t},n)):t&&typeof t=="object"?x.createElement(pn,is({},t,{key:"label-implicit"},n)):null},Bde=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:i,labelRef:s}=e,a=i3(e),o=bf(i,pn).map((l,u)=>x.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)}));if(!n)return o;var A=bde(e.label,r||a,s);return[A,...o]};pn.parseViewBox=i3;pn.renderCallByParent=Bde;var s3={},a3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(a3);var o3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(o3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a3,r=o3,n=G0;function i(s){if(n.isArrayLike(s))return e.last(r.toArray(s))}t.last=i})(s3);var Cde=s3.last;const Ede=Mi(Cde);var _de=["valueAccessor"],Ide=["data","dataKey","clockWise","id","textBreakAll"];function bm(){return bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bm.apply(null,arguments)}function SP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(r),!0).forEach(function(n){Sde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sde(t,e,r){return(e=Tde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tde(t){var e=Fde(t,"string");return typeof e=="symbol"?e:e+""}function Fde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FP(t,e){if(t==null)return{};var r,n,i=Ude(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ude(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Pde=t=>Array.isArray(t.value)?Ede(t.value):t.value;function ka(t){var{valueAccessor:e=Pde}=t,r=FP(t,_de),{data:n,dataKey:i,clockWise:s,id:a,textBreakAll:o}=r,A=FP(r,Ide);return!n||!n.length?null:x.createElement(Dr,{className:"recharts-label-list"},n.map((l,u)=>{var c=ft(i)?e(l,u):nt(l&&l.payload,i),f=ft(a)?{}:{id:"".concat(a,"-").concat(u)};return x.createElement(pn,bm({},yt(l,!0),A,f,{parentViewBox:l.parentViewBox,value:c,textBreakAll:o,viewBox:pn.parseViewBox(ft(s)?l:TP(TP({},l),{},{clockWise:s})),key:"label-".concat(u),index:u}))}))}ka.displayName="LabelList";function Qde(t,e){return t?t===!0?x.createElement(ka,{key:"labelList-implicit",data:e}):x.isValidElement(t)||t_(t)?x.createElement(ka,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?x.createElement(ka,bm({data:e},t,{key:"labelList-implicit"})):null:null}function Nde(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:n}=t,i=bf(n,ka).map((a,o)=>x.cloneElement(a,{data:e,key:"labelList-".concat(o)}));if(!r)return i;var s=Qde(t.label,e);return[s,...i]}ka.renderCallByParent=Nde;function rB(){return rB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rB.apply(null,arguments)}var A3=t=>{var{cx:e,cy:r,r:n,className:i}=t,s=Ke("recharts-dot",i);return e===+e&&r===+r&&n===+n?x.createElement("circle",rB({},ks(t),vE(t),{className:s,cx:e,cy:r,r:n})):null},l3=t=>t.graphicalItems.polarItems,kde=H([Bt,Tf],T1),r_=H([l3,Lt,kde],F1),Ode=H([r_],U1),n_=H([Ode,v1],P1),Dde=H([n_,Lt,r_],N1),jde=H([n_,Lt,r_],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var s,a=nt(n,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:nt(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),UP=()=>{},Rde=H([Lt,u5,UP,jde,UP,Me,Bt],O1),u3=H([Lt,Me,n_,Dde,Sf,Bt,Rde],D1),Lde=H([u3,Lt,Tu],L1);H([Lt,u3,Lde,Bt],H1);var Mde={radiusAxis:{},angleAxis:{}},Hde=Un({name:"polarAxis",initialState:Mde,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),Vde=Hde.reducer;function PP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(r),!0).forEach(function(n){Kde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kde(t,e,r){return(e=$de(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $de(t){var e=Gde(t,"string");return typeof e=="symbol"?e:e+""}function Gde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zde=(t,e)=>e,i_=H([l3,zde],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),Wde=[],s_=(t,e,r)=>(r==null?void 0:r.length)===0?Wde:r,c3=H([v1,i_,s_],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>QP(QP({},e.presentationProps),s.props))),i!=null)return i}}),Xde=H([c3,i_,s_],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var s,a=nt(n,e.nameKey,e.name),o;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=e.fill,{value:Bu(a,e.dataKey),color:o,payload:n,type:e.legendType}})}),Yde=H([c3,i_,s_,Jt],(t,e,r,n)=>{if(!(e==null||t==null))return Mfe({offset:n,pieSettings:e,displayedData:t,cells:r})}),d3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(d3);var qde=d3.isPlainObject;const Jde=Mi(qde);function Bm(){return Bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bm.apply(null,arguments)}var NP=(t,e,r,n,i)=>{var s=r-n,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+r,",").concat(e),a+="L ".concat(t+r-s/2,",").concat(e+i),a+="L ".concat(t+r-s/2-n,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},Zde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},efe=t=>{var e=Pn(t,Zde),r=x.useRef(),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&i(v)}catch{}},[]);var{x:s,y:a,upperWidth:o,lowerWidth:A,height:l,className:u}=e,{animationEasing:c,animationDuration:f,animationBegin:g,isUpdateAnimationActive:m}=e;if(s!==+s||a!==+a||o!==+o||A!==+A||l!==+l||o===0&&A===0||l===0)return null;var p=Ke("recharts-trapezoid",u);return m?x.createElement(om,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:l,x:s,y:a},to:{upperWidth:o,lowerWidth:A,height:l,x:s,y:a},duration:f,animationEasing:c,isActive:m},v=>{var{upperWidth:y,lowerWidth:w,height:B,x:I,y:T}=v;return x.createElement(om,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,easing:c},x.createElement("path",Bm({},yt(e,!0),{className:p,d:NP(I,T,y,w,B),ref:r})))}):x.createElement("g",null,x.createElement("path",Bm({},yt(e,!0),{className:p,d:NP(s,a,o,A,l)})))},tfe=["option","shapeType","propTransformer","activeClassName","isActive"];function rfe(t,e){if(t==null)return{};var r,n,i=nfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function kP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(r),!0).forEach(function(n){ife(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ife(t,e,r){return(e=sfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sfe(t){var e=afe(t,"string");return typeof e=="symbol"?e:e+""}function afe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ofe(t,e){return Cm(Cm({},e),t)}function Afe(t,e){return t==="symbols"}function OP(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return x.createElement(jL,r);case"trapezoid":return x.createElement(efe,r);case"sector":return x.createElement(ML,r);case"symbols":if(Afe(e))return x.createElement(BE,r);break;default:return null}}function lfe(t){return x.isValidElement(t)?t.props:t}function f3(t){var{option:e,shapeType:r,propTransformer:n=ofe,activeClassName:i="recharts-active-shape",isActive:s}=t,a=rfe(t,tfe),o;if(x.isValidElement(e))o=x.cloneElement(e,Cm(Cm({},a),lfe(e)));else if(typeof e=="function")o=e(a);else if(Jde(e)&&typeof e!="boolean"){var A=n(e,a);o=x.createElement(OP,{shapeType:r,elementProps:A})}else{var l=a;o=x.createElement(OP,{shapeType:r,elementProps:l})}return s?x.createElement(Dr,{className:i},o):o}var a_=(t,e)=>{var r=Tt();return(n,i)=>s=>{t==null||t(n,i,s),r(_5({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},o_=t=>{var e=Tt();return(r,n)=>i=>{t==null||t(r,n,i),e(cue())}},A_=(t,e)=>{var r=Tt();return(n,i)=>s=>{t==null||t(n,i,s),r(due({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function l_(t){var{fn:e,args:r}=t,n=Tt(),i=An();return x.useEffect(()=>{if(!i){var s=e(r);return n(Aue(s)),()=>{n(lue(s))}}},[e,r,n,i]),null}var h3=()=>{};function g3(t){var{legendPayload:e}=t,r=Tt(),n=An();return x.useEffect(()=>n?h3:(r(EL(e)),()=>{r(_L(e))}),[r,n,e]),null}function ufe(t){var{legendPayload:e}=t,r=Tt(),n=we(Me);return x.useEffect(()=>n!=="centric"&&n!=="radial"?h3:(r(EL(e)),()=>{r(_L(e))}),[r,n,e]),null}function u_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(Hd(e)),n=x.useRef(t);return n.current!==t&&(r.current=Hd(e),n.current=t),r.current}var fw,cfe=()=>{var[t]=x.useState(()=>Hd("uid-"));return t},dfe=(fw=hQ.useId)!==null&&fw!==void 0?fw:cfe;function ffe(t,e){var r=dfe();return e||(t?"".concat(t,"-").concat(r):r)}var hfe=x.createContext(void 0),c_=t=>{var{id:e,type:r,children:n}=t,i=ffe("recharts-".concat(r),e);return x.createElement(hfe.Provider,{value:i},n(i))},gfe={cartesianItems:[],polarItems:[]},p3=Un({name:"graphicalItems",initialState:gfe,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=ms(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=ms(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=ms(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:pfe,replaceCartesianGraphicalItem:mfe,removeCartesianGraphicalItem:vfe,addPolarGraphicalItem:yfe,removePolarGraphicalItem:wfe}=p3.actions,xfe=p3.reducer;function m3(t){var e=Tt(),r=x.useRef(null);return x.useEffect(()=>{r.current===null?e(pfe(t)):r.current!==t&&e(mfe({prev:r.current,next:t})),r.current=t},[e,t]),x.useEffect(()=>()=>{r.current&&(e(vfe(r.current)),r.current=null)},[e]),null}function bfe(t){var e=Tt();return x.useEffect(()=>(e(yfe(t)),()=>{e(wfe(t))}),[e,t]),null}function Bfe(){}var Cfe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},DP={t:0},hw={t:1};function d_(t){var e=Pn(t,Cfe),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:A,children:l}=e,u=DL("JavascriptAnimate",e.animationManager),[c,f]=x.useState(r?DP:hw),g=x.useRef(null);return x.useEffect(()=>{r||f(hw)},[r]),x.useEffect(()=>{if(!r||!n)return Bfe;var m=OL(DP,hw,NL(s),i,f,u.getTimeoutController()),p=()=>{g.current=m()};return u.start([A,a,p,i,o]),()=>{u.stop(),g.current&&g.current(),o()}},[r,n,i,s,a,A,o,u]),l(c.t)}var Efe=["onMouseEnter","onClick","onMouseLeave"],_fe=["id"],Ife=["id"];function f_(t,e){if(t==null)return{};var r,n,i=Sfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Sfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function jP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(r),!0).forEach(function(n){Tfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tfe(t,e,r){return(e=Ffe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ffe(t){var e=Ufe(t,"string");return typeof e=="symbol"?e:e+""}function Ufe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Us(){return Us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Us.apply(null,arguments)}function Pfe(t){var e=x.useMemo(()=>bf(t.children,Qu),[t.children]),r=we(n=>Xde(n,t.id,e));return r==null?null:x.createElement(ufe,{legendPayload:r})}function Qfe(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:o,hide:A,tooltipType:l}=t;return{dataDefinedOnItem:n==null?void 0:n.map(u=>u.tooltipPayload),positions:n==null?void 0:n.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:r,name:Bu(o,e),hide:A,type:l,color:a,unit:""}}}var Nfe=(t,e)=>t>e?"start":t<e?"end":"middle",kfe=(t,e,r)=>typeof e=="function"?e(t):zr(e,r,r*.8),Ofe=(t,e,r)=>{var{top:n,left:i,width:s,height:a}=e,o=gL(s,a),A=i+zr(t.cx,s,s/2),l=n+zr(t.cy,a,a/2),u=zr(t.innerRadius,o,0),c=kfe(r,t.outerRadius,o),f=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:A,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}},Dfe=(t,e)=>{var r=Ar(e-t),n=Math.min(Math.abs(e-t),360);return r*n},jfe=(t,e)=>{if(x.isValidElement(t))return x.cloneElement(t,e);if(typeof t=="function")return t(e);var r=Ke("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return x.createElement(zE,Us({},e,{type:"linear",className:r}))},Rfe=(t,e,r)=>{if(x.isValidElement(t))return x.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),x.isValidElement(n)))return n;var i=Ke("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return x.createElement(Ev,Us({},e,{alignmentBaseline:"middle",className:i}),n)};function Lfe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!e)return null;var o=ks(r),A=yt(i,!1),l=yt(s,!1),u=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,c=e.map((f,g)=>{var m=(f.startAngle+f.endAngle)/2,p=Kt(f.cx,f.cy,f.outerRadius+u,m),v=Qt(Qt(Qt(Qt({},o),f),{},{stroke:"none"},A),{},{index:g,textAnchor:Nfe(p.x,f.cx)},p),y=Qt(Qt(Qt(Qt({},o),f),{},{fill:"none",stroke:f.fill},l),{},{index:g,points:[Kt(f.cx,f.cy,f.outerRadius,m),p],key:"line"});return x.createElement(Dr,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(g)},s&&jfe(s,y),Rfe(i,v,nt(f,a)))});return x.createElement(Dr,{className:"recharts-pie-labels"},c)}function v3(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:s}=t,a=we(qa),{onMouseEnter:o,onClick:A,onMouseLeave:l}=i,u=f_(i,Efe),c=a_(o,i.dataKey),f=o_(l),g=A_(A,i.dataKey);return e==null?null:x.createElement(x.Fragment,null,e.map((m,p)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&e.length!==1)return null;var v=r&&String(p)===a,y=a?n:null,w=v?r:y,B=Qt(Qt({},m),{},{stroke:m.stroke,tabIndex:-1,[wL]:p,[xL]:i.dataKey});return x.createElement(Dr,Us({tabIndex:-1,className:"recharts-pie-sector"},xf(u,m,p),{onMouseEnter:c(m,p),onMouseLeave:f(m,p),onClick:g(m,p),key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(p)}),x.createElement(f3,Us({option:w,isActive:v,shapeType:"sector"},B)))}),x.createElement(Lfe,{sectors:e,props:i,showLabels:s}))}function Mfe(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:s}=t,{cornerRadius:a,startAngle:o,endAngle:A,dataKey:l,nameKey:u,tooltipType:c}=r,f=Math.abs(r.minAngle),g=Dfe(o,A),m=Math.abs(g),p=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,v=n.filter(F=>nt(F,l,0)!==0).length,y=(m>=360?v:v-1)*p,w=m-v*f-y,B=n.reduce((F,C)=>{var _=nt(C,l,0);return F+(fe(_)?_:0)},0),I;if(B>0){var T;I=n.map((F,C)=>{var _=nt(F,l,0),S=nt(F,u,C),P=Ofe(r,s,F),N=(fe(_)?_:0)/B,k,Q=Qt(Qt({},F),i&&i[C]&&i[C].props);C?k=T.endAngle+Ar(g)*p*(_!==0?1:0):k=o;var se=k+Ar(g)*((_!==0?f:0)+N*w),Ce=(k+se)/2,ge=(P.innerRadius+P.outerRadius)/2,xe=[{name:S,value:_,payload:Q,dataKey:l,type:c}],Y=Kt(P.cx,P.cy,ge,Ce);return T=Qt(Qt(Qt(Qt({},r.presentationProps),{},{percent:N,cornerRadius:a,name:S,tooltipPayload:xe,midAngle:Ce,middleRadius:ge,tooltipPosition:Y},Q),P),{},{value:nt(F,l),startAngle:k,endAngle:se,payload:Q,paddingAngle:Ar(g)*p}),T})}return I}function Hfe(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:o,activeShape:A,inactiveShape:l,onAnimationStart:u,onAnimationEnd:c}=e,f=u_(e,"recharts-pie-"),g=r.current,[m,p]=x.useState(!0),v=x.useCallback(()=>{typeof c=="function"&&c(),p(!1)},[c]),y=x.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return x.createElement(d_,{begin:s,duration:a,isActive:i,easing:o,onAnimationStart:y,onAnimationEnd:v,key:f},w=>{var B=[],I=n&&n[0],T=I.startAngle;return n.forEach((F,C)=>{var _=g&&g[C],S=C>0?Wa(F,"paddingAngle",0):0;if(_){var P=fF(_.endAngle-_.startAngle,F.endAngle-F.startAngle),N=Qt(Qt({},F),{},{startAngle:T+S,endAngle:T+P(w)+S});B.push(N),T=N.endAngle}else{var{endAngle:k,startAngle:Q}=F,se=fF(0,k-Q),Ce=se(w),ge=Qt(Qt({},F),{},{startAngle:T+S,endAngle:T+Ce+S});B.push(ge),T=ge.endAngle}}),r.current=B,x.createElement(Dr,null,x.createElement(v3,{sectors:B,activeShape:A,inactiveShape:l,allOtherPieProps:e,showLabels:!m}))})}function Vfe(t){var{sectors:e,isAnimationActive:r,activeShape:n,inactiveShape:i}=t,s=x.useRef(null),a=s.current;return r&&e&&e.length&&(!a||a!==e)?x.createElement(Hfe,{props:t,previousSectorsRef:s}):x.createElement(v3,{sectors:e,activeShape:n,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function Kfe(t){var{hide:e,className:r,rootTabIndex:n}=t,i=Ke("recharts-pie",r);return e?null:x.createElement(Dr,{tabIndex:n,className:i},x.createElement(Vfe,t))}var $fe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!IA.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Gfe(t){var{id:e}=t,r=f_(t,_fe),n=x.useMemo(()=>bf(t.children,Qu),[t.children]),i=we(s=>Yde(s,e,n));return x.createElement(x.Fragment,null,x.createElement(l_,{fn:Qfe,args:Qt(Qt({},t),{},{sectors:i})}),x.createElement(Kfe,Us({},r,{sectors:i})))}function h_(t){var e=Pn(t,$fe),{id:r}=e,n=f_(e,Ife),i=ks(n);return x.createElement(c_,{id:r,type:"pie"},s=>x.createElement(x.Fragment,null,x.createElement(bfe,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),x.createElement(Pfe,Us({},n,{id:s})),x.createElement(Gfe,Us({},n,{id:s})),n.children))}h_.displayName="Pie";var zfe=H([Jt],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Wfe=H([zfe,Os,Ds],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),g_=()=>we(Wfe),Xfe=()=>we(Jue);function RP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(r),!0).forEach(function(n){Yfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yfe(t,e,r){return(e=qfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qfe(t){var e=Jfe(t,"string");return typeof e=="symbol"?e:e+""}function Jfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zfe=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var a=LP(LP({index:r,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},yt(i,!1)),vE(i)),o;return x.isValidElement(i)?o=x.cloneElement(i,a):typeof i=="function"?o=i(a):o=x.createElement(A3,a),x.createElement(Dr,{className:"recharts-active-dot"},o)};function ehe(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,s=we(qa),a=Xfe();if(e==null||a==null)return null;var o=e.find(A=>a.includes(A.payload));return ft(o)?null:Zfe({point:o,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n})}var the="Invariant failed";function rhe(t,e){throw new Error(the)}var nhe=["x","y"];function nB(){return nB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nB.apply(null,arguments)}function MP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(r),!0).forEach(function(n){ihe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ihe(t,e,r){return(e=she(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function she(t){var e=ahe(t,"string");return typeof e=="symbol"?e:e+""}function ahe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ohe(t,e){if(t==null)return{};var r,n,i=Ahe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ahe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function lhe(t,e){var{x:r,y:n}=t,i=ohe(t,nhe),s="".concat(r),a=parseInt(s,10),o="".concat(n),A=parseInt(o,10),l="".concat(e.height||i.height),u=parseInt(l,10),c="".concat(e.width||i.width),f=parseInt(c,10);return pc(pc(pc(pc(pc({},e),i),a?{x:a}:{}),A?{y:A}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function y3(t){return x.createElement(f3,nB({shapeType:"rectangle",propTransformer:lhe,activeClassName:"recharts-active-bar"},t))}var uhe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(fe(e))return e;var s=fe(n)||ft(n);return s?e(n,i):(s||rhe(),r)}},che={},dhe=Un({name:"errorBars",initialState:che,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),fhe=dhe.reducer,hhe=["children"];function ghe(t,e){if(t==null)return{};var r,n,i=phe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function phe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var mhe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},vhe=x.createContext(mhe);function w3(t){var{children:e}=t,r=ghe(t,hhe);return x.createElement(vhe.Provider,{value:r},e)}function p_(t,e){var r,n,i=we(l=>Rs(l,t)),s=we(l=>uo(l,e)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:dn.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:fn.allowDataOverflow,A=a||o;return{needClip:A,needClipX:a,needClipY:o}}function x3(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=g_(),{needClipX:s,needClipY:a,needClip:o}=p_(e,r);if(!o)return null;var{x:A,y:l,width:u,height:c}=i;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:s?A:A-u/2,y:a?l:l-c/2,width:s?u:u*2,height:a?c:c*2}))}var yhe=["onMouseEnter","onMouseLeave","onClick"],whe=["value","background","tooltipPosition"],xhe=["id"],bhe=["onMouseEnter","onClick","onMouseLeave"];function uu(){return uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uu.apply(null,arguments)}function HP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(r),!0).forEach(function(n){Bhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bhe(t,e,r){return(e=Che(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Che(t){var e=Ehe(t,"string");return typeof e=="symbol"?e:e+""}function Ehe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Em(t,e){if(t==null)return{};var r,n,i=_he(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function _he(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Ihe=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Bu(r,e),payload:t}]};function She(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:o}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:Bu(s,e),hide:a,type:t.tooltipType,color:t.fill,unit:o}}}function The(t){var e=we(qa),{data:r,dataKey:n,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:o,onClick:A}=s,l=Em(s,yhe),u=a_(a,n),c=o_(o),f=A_(A,n);if(!i||r==null)return null;var g=yt(i,!1);return x.createElement(x.Fragment,null,r.map((m,p)=>{var{value:v,background:y,tooltipPosition:w}=m,B=Em(m,whe);if(!y)return null;var I=u(m,p),T=c(m,p),F=f(m,p),C=Nr(Nr(Nr(Nr(Nr({option:i,isActive:String(p)===e},B),{},{fill:"#eee"},y),g),xf(l,m,p)),{},{onMouseEnter:I,onMouseLeave:T,onClick:F,dataKey:n,index:p,className:"recharts-bar-background-rectangle"});return x.createElement(y3,uu({key:"background-bar-".concat(p)},C))}))}function b3(t){var{data:e,props:r,showLabels:n}=t,i=ks(r),s=Em(i,xhe),{shape:a,dataKey:o,activeBar:A}=r,l=we(qa),u=we(R5),{onMouseEnter:c,onClick:f,onMouseLeave:g}=r,m=Em(r,bhe),p=a_(c,o),v=o_(g),y=A_(f,o);return e?x.createElement(x.Fragment,null,e.map((w,B)=>{var I=A&&String(B)===l&&(u==null||o===u),T=I?A:a,F=Nr(Nr(Nr({},s),w),{},{isActive:I,option:T,index:B,dataKey:o});return x.createElement(Dr,uu({className:"recharts-bar-rectangle"},xf(m,w,B),{onMouseEnter:p(w,B),onMouseLeave:v(w,B),onClick:y(w,B),key:"rectangle-".concat(w==null?void 0:w.x,"-").concat(w==null?void 0:w.y,"-").concat(w==null?void 0:w.value,"-").concat(B)}),x.createElement(y3,F))}),n&&ka.renderCallByParent(r,e)):null}function Fhe(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:A,onAnimationEnd:l,onAnimationStart:u}=e,c=r.current,f=u_(e,"recharts-bar-"),[g,m]=x.useState(!1),p=x.useCallback(()=>{typeof l=="function"&&l(),m(!1)},[l]),v=x.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return x.createElement(d_,{begin:a,duration:o,isActive:s,easing:A,onAnimationEnd:p,onAnimationStart:v,key:f},y=>{var w=y===1?n:n==null?void 0:n.map((B,I)=>{var T=c&&c[I];if(T)return Nr(Nr({},B),{},{x:di(T.x,B.x,y),y:di(T.y,B.y,y),width:di(T.width,B.width,y),height:di(T.height,B.height,y)});if(i==="horizontal"){var F=di(0,B.height,y);return Nr(Nr({},B),{},{y:B.y+B.height-F,height:F})}var C=di(0,B.width,y);return Nr(Nr({},B),{},{width:C})});return y>0&&(r.current=w??null),w==null?null:x.createElement(Dr,null,x.createElement(b3,{props:e,data:w,showLabels:!g}))})}function Uhe(t){var{data:e,isAnimationActive:r}=t,n=x.useRef(null);return r&&e&&e.length&&(n.current==null||n.current!==e)?x.createElement(Fhe,{previousRectanglesRef:n,props:t}):x.createElement(b3,{props:t,data:e,showLabels:!0})}var B3=0,Phe=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:nt(t,e)}};class Qhe extends x.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:o,background:A,id:l}=this.props;if(e)return null;var u=Ke("recharts-bar",i),c=l;return x.createElement(Dr,{className:u,id:l},o&&x.createElement("defs",null,x.createElement(x3,{clipPathId:c,xAxisId:s,yAxisId:a})),x.createElement(Dr,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(c,")"):void 0},x.createElement(The,{data:r,dataKey:n,background:A,allOtherBarProps:this.props}),x.createElement(Uhe,this.props)),this.props.children)}}var Nhe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!IA.isSsr,legendType:"rect",minPointSize:B3,xAxisId:0,yAxisId:0};function khe(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:A,animationEasing:l,isAnimationActive:u}=t,{needClip:c}=p_(e,r),f=ov(),g=An(),m=bf(t.children,Qu),p=we(w=>Age(w,e,r,g,t.id,m));if(f!=="vertical"&&f!=="horizontal")return null;var v,y=p==null?void 0:p[0];return y==null||y.height==null||y.width==null?v=0:v=f==="vertical"?y.height/2:y.width/2,x.createElement(w3,{xAxisId:e,yAxisId:r,data:p,dataPointFormatter:Phe,errorBarOffset:v},x.createElement(Qhe,uu({},t,{layout:f,needClip:c,data:p,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:A,animationEasing:l,isAnimationActive:u})))}function Ohe(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:A,yAxisTicks:l,stackedData:u,displayedData:c,offset:f,cells:g}=t,m=e==="horizontal"?o:a,p=u?m.scale.domain():null,v=Oie({numericAxis:m});return c.map((y,w)=>{var B,I,T,F,C,_;u?B=Fie(u[w],p):(B=nt(y,r),Array.isArray(B)||(B=[v,B]));var S=uhe(n,B3)(B[1],w);if(e==="horizontal"){var P,[N,k]=[o.scale(B[0]),o.scale(B[1])];I=$F({axis:a,ticks:A,bandSize:s,offset:i.offset,entry:y,index:w}),T=(P=k??N)!==null&&P!==void 0?P:void 0,F=i.size;var Q=N-k;if(C=En(Q)?0:Q,_={x:I,y:f.top,width:F,height:f.height},Math.abs(S)>0&&Math.abs(C)<Math.abs(S)){var se=Ar(C||S)*(Math.abs(S)-Math.abs(C));T-=se,C+=se}}else{var[Ce,ge]=[a.scale(B[0]),a.scale(B[1])];if(I=Ce,T=$F({axis:o,ticks:l,bandSize:s,offset:i.offset,entry:y,index:w}),F=ge-Ce,C=i.size,_={x:f.left,y:T,width:f.width,height:C},Math.abs(S)>0&&Math.abs(F)<Math.abs(S)){var xe=Ar(F||S)*(Math.abs(S)-Math.abs(F));F+=xe}}if(I==null||T==null||F==null||C==null)return null;var Y=Nr(Nr({},y),{},{x:I,y:T,width:F,height:C,value:u?B:B[1],payload:y,background:_,tooltipPosition:{x:I+F/2,y:T+C/2}},g&&g[w]&&g[w].props);return Y}).filter(Boolean)}function Aa(t){var e=Pn(t,Nhe),r=An();return x.createElement(c_,{id:e.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(g3,{legendPayload:Ihe(e)}),x.createElement(l_,{fn:She,args:e}),x.createElement(m3,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:kie(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),x.createElement(khe,uu({},e,{id:n}))))}Aa.displayName="Bar";function VP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(r),!0).forEach(function(n){Dhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dhe(t,e,r){return(e=jhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jhe(t){var e=Rhe(t,"string");return typeof e=="symbol"?e:e+""}function Rhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lhe=(t,e)=>e,Mhe=(t,e,r)=>r,Hhe=(t,e,r,n)=>n,Vhe=(t,e,r,n,i)=>i,kf=H([yv,Vhe],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),Khe=H([kf],t=>t==null?void 0:t.maxBarSize),$he=(t,e,r,n,i,s)=>s,KP=(t,e,r)=>{var n=r??t;if(!ft(n))return zr(n,e,0)},Ghe=H([Me,yv,Lhe,Mhe,Hhe],(t,e,r,n,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),zhe=(t,e,r,n)=>{var i=Me(t);return i==="horizontal"?Yb(t,"yAxis",r,n):Yb(t,"xAxis",e,n)},Whe=(t,e,r)=>{var n=Me(t);return n==="horizontal"?rP(t,"xAxis",e):rP(t,"yAxis",r)},Xhe=(t,e,r)=>{var n={},i=t.filter(vv),s=t.filter(l=>l.stackId==null),a=i.reduce((l,u)=>(l[u.stackId]||(l[u.stackId]=[]),l[u.stackId].push(u),l),n),o=Object.entries(a).map(l=>{var[u,c]=l,f=c.map(m=>m.dataKey),g=KP(e,r,c[0].barSize);return{stackId:u,dataKeys:f,barSize:g}}),A=s.map(l=>{var u=[l.dataKey].filter(f=>f!=null),c=KP(e,r,l.barSize);return{stackId:void 0,dataKeys:u,barSize:c}});return[...o,...A]},Yhe=H([Ghe,lle,Whe],Xhe),qhe=(t,e,r,n,i)=>{var s,a,o=kf(t,e,r,n,i);if(o!=null){var A=Me(t),l=LM(t),{maxBarSize:u}=o,c=ft(u)?l:u,f,g;return A==="horizontal"?(f=Ya(t,"xAxis",e,n),g=Xa(t,"xAxis",e,n)):(f=Ya(t,"yAxis",r,n),g=Xa(t,"yAxis",r,n)),(s=(a=$d(f,g,!0))!==null&&a!==void 0?a:c)!==null&&s!==void 0?s:0}},C3=(t,e,r,n)=>{var i=Me(t),s,a;return i==="horizontal"?(s=Ya(t,"xAxis",e,n),a=Xa(t,"xAxis",e,n)):(s=Ya(t,"yAxis",r,n),a=Xa(t,"yAxis",r,n)),$d(s,a)};function Jhe(t,e,r,n,i){var s=n.length;if(!(s<1)){var a=zr(t,r,0,!0),o,A=[];if(Sn(n[0].barSize)){var l=!1,u=r/s,c=n.reduce((y,w)=>y+(w.barSize||0),0);c+=(s-1)*a,c>=r&&(c-=(s-1)*a,a=0),c>=r&&u>0&&(l=!0,u*=.9,c=s*u);var f=(r-c)/2>>0,g={offset:f-a,size:0};o=n.reduce((y,w)=>{var B,I={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:g.offset+g.size+a,size:l?u:(B=w.barSize)!==null&&B!==void 0?B:0}},T=[...y,I];return g=T[T.length-1].position,T},A)}else{var m=zr(e,r,0,!0);r-2*m-(s-1)*a<=0&&(a=0);var p=(r-2*m-(s-1)*a)/s;p>1&&(p>>=0);var v=Sn(i)?Math.min(p,i):p;o=n.reduce((y,w,B)=>[...y,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m+(p+a)*B+(p-v)/2,size:v}}],A)}return o}}var Zhe=(t,e,r,n,i,s,a)=>{var o=ft(a)?e:a,A=Jhe(r,n,i!==s?i:s,t,o);return i!==s&&A!=null&&(A=A.map(l=>cg(cg({},l),{},{position:cg(cg({},l.position),{},{offset:l.position.offset-i/2})}))),A},ege=H([Yhe,LM,Ale,MM,qhe,C3,Khe],Zhe),tge=(t,e,r,n)=>Ya(t,"xAxis",e,n),rge=(t,e,r,n)=>Ya(t,"yAxis",r,n),nge=(t,e,r,n)=>Xa(t,"xAxis",e,n),ige=(t,e,r,n)=>Xa(t,"yAxis",r,n),sge=H([ege,kf],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),age=(t,e)=>{var r=I1(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},oge=H([zhe,kf],age),Age=H([Jt,tge,rge,nge,ige,sge,Me,hv,C3,oge,kf,$he],(t,e,r,n,i,s,a,o,A,l,u,c)=>{var{chartData:f,dataStartIndex:g,dataEndIndex:m}=o;if(!(u==null||s==null||a!=="horizontal"&&a!=="vertical"||e==null||r==null||n==null||i==null||A==null)){var{data:p}=u,v;if(p!=null&&p.length>0?v=p:v=f==null?void 0:f.slice(g,m+1),v!=null)return Ohe({layout:a,barSettings:u,pos:s,bandSize:A,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:l,displayedData:v,offset:t,cells:c})}}),E3=t=>{var{chartData:e}=t,r=Tt(),n=An();return x.useEffect(()=>n?()=>{}:(r(cP(e)),()=>{r(cP(void 0))}),[e,r,n]),null},$P={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},lge=Un({name:"brush",initialState:$P,reducers:{setBrushSettings(t,e){return e.payload==null?$P:e.payload}}}),uge=lge.reducer;function cge(t,e,r){return(e=dge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dge(t){var e=fge(t,"string");return typeof e=="symbol"?e:e+""}function fge(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class m_{static create(e){return new m_(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}cge(m_,"EPS",1e-4);function hge(t){return(t%180+180)%180}var gge=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=hge(i),a=s*Math.PI/180,o=Math.atan(n/r),A=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(A)},pge={dots:[],areas:[],lines:[]},mge=Un({name:"referenceElements",initialState:pge,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=ms(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=ms(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=ms(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),vge=mge.reducer,yge=x.createContext(void 0),wge=t=>{var{children:e}=t,[r]=x.useState("".concat(Hd("recharts"),"-clip")),n=g_();if(n==null)return null;var{x:i,y:s,width:a,height:o}=n;return x.createElement(yge.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function gw(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function _3(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function xge(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return gge(n,r)}function bge(t,e,r){var n=r==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function _m(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function Bge(t,e){return _3(t,e+1)}function Cge(t,e,r,n,i){for(var s=(n||[]).slice(),{start:a,end:o}=e,A=0,l=1,u=a,c=function(){var m=n==null?void 0:n[A];if(m===void 0)return{v:_3(n,l)};var p=A,v,y=()=>(v===void 0&&(v=r(m,p)),v),w=m.coordinate,B=A===0||_m(t,w,y,u,o);B||(A=0,u=a,l+=1),B&&(u=w+t*(y()/2+i),A+=l)},f;l<=s.length;)if(f=c(),f)return f.v;return[]}function GP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ur(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(r),!0).forEach(function(n){Ege(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ege(t,e,r){return(e=_ge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ge(t){var e=Ige(t,"string");return typeof e=="symbol"?e:e+""}function Ige(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sge(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:o}=e,{end:A}=e,l=function(f){var g=s[f],m,p=()=>(m===void 0&&(m=r(g,f)),m);if(f===a-1){var v=t*(g.coordinate+t*p()/2-A);s[f]=g=Ur(Ur({},g),{},{tickCoord:v>0?g.coordinate-v*t:g.coordinate})}else s[f]=g=Ur(Ur({},g),{},{tickCoord:g.coordinate});var y=_m(t,g.tickCoord,p,o,A);y&&(A=g.tickCoord-t*(p()/2+i),s[f]=Ur(Ur({},g),{},{isShow:!0}))},u=a-1;u>=0;u--)l(u);return s}function Tge(t,e,r,n,i,s){var a=(n||[]).slice(),o=a.length,{start:A,end:l}=e;if(s){var u=n[o-1],c=r(u,o-1),f=t*(u.coordinate+t*c/2-l);a[o-1]=u=Ur(Ur({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var g=_m(t,u.tickCoord,()=>c,A,l);g&&(l=u.tickCoord-t*(c/2+i),a[o-1]=Ur(Ur({},u),{},{isShow:!0}))}for(var m=s?o-1:o,p=function(w){var B=a[w],I,T=()=>(I===void 0&&(I=r(B,w)),I);if(w===0){var F=t*(B.coordinate-t*T()/2-A);a[w]=B=Ur(Ur({},B),{},{tickCoord:F<0?B.coordinate-F*t:B.coordinate})}else a[w]=B=Ur(Ur({},B),{},{tickCoord:B.coordinate});var C=_m(t,B.tickCoord,T,A,l);C&&(A=B.tickCoord+t*(T()/2+i),a[w]=Ur(Ur({},B),{},{isShow:!0}))},v=0;v<m;v++)p(v);return a}function v_(t,e,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:A,tickFormatter:l,unit:u,angle:c}=t;if(!i||!i.length||!n)return[];if(fe(A)||IA.isSsr){var f;return(f=Bge(i,fe(A)?A:0))!==null&&f!==void 0?f:[]}var g=[],m=o==="top"||o==="bottom"?"width":"height",p=u&&m==="width"?ad(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=(B,I)=>{var T=typeof l=="function"?l(B.value,I):B.value;return m==="width"?xge(ad(T,{fontSize:e,letterSpacing:r}),p,c):ad(T,{fontSize:e,letterSpacing:r})[m]},y=i.length>=2?Ar(i[1].coordinate-i[0].coordinate):1,w=bge(s,y,m);return A==="equidistantPreserveStart"?Cge(y,w,v,i,a):(A==="preserveStart"||A==="preserveStartEnd"?g=Tge(y,w,v,i,a,A==="preserveStartEnd"):g=Sge(y,w,v,i,a),g.filter(B=>B.isShow))}var Fge=["viewBox"],Uge=["viewBox"];function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wl.apply(null,arguments)}function zP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(r),!0).forEach(function(n){y_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WP(t,e){if(t==null)return{};var r,n,i=Pge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Pge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function y_(t,e,r){return(e=Qge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qge(t){var e=Nge(t,"string");return typeof e=="symbol"?e:e+""}function Nge(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class co extends x.Component{constructor(e){super(e),this.tickRefs=x.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,r){var{viewBox:n}=e,i=WP(e,Fge),s=this.props,{viewBox:a}=s,o=WP(s,Uge);return!gw(n,a)||!gw(i,o)||!gw(r,this.state)}getTickLineCoord(e){var{x:r,y:n,width:i,height:s,orientation:a,tickSize:o,mirror:A,tickMargin:l}=this.props,u,c,f,g,m,p,v=A?-1:1,y=e.tickSize||o,w=fe(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,g=n+ +!A*s,f=g-v*y,p=f-v*l,m=w;break;case"left":f=g=e.coordinate,c=r+ +!A*i,u=c-v*y,m=u-v*l,p=w;break;case"right":f=g=e.coordinate,c=r+ +A*i,u=c+v*y,m=u+v*l,p=w;break;default:u=c=e.coordinate,g=n+ +A*s,f=g+v*y,p=f+v*l,m=w;break}return{line:{x1:u,y1:f,x2:c,y2:g},tick:{x:m,y:p}}}getTickTextAnchor(){var{orientation:e,mirror:r}=this.props,n;switch(e){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:e,mirror:r}=this.props;switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:e,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:o}=this.props,A=Gt(Gt(Gt({},yt(this.props,!1)),yt(o,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var l=+(s==="top"&&!a||s==="bottom"&&a);A=Gt(Gt({},A),{},{x1:e,y1:r+l*i,x2:e+n,y2:r+l*i})}else{var u=+(s==="left"&&!a||s==="right"&&a);A=Gt(Gt({},A),{},{x1:e+u*n,y1:r,x2:e+u*n,y2:r+i})}return x.createElement("line",wl({},A,{className:Ke("recharts-cartesian-axis-line",Wa(o,"className"))}))}static renderTickItem(e,r,n){var i,s=Ke(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(e))i=x.cloneElement(e,Gt(Gt({},r),{},{className:s}));else if(typeof e=="function")i=e(Gt(Gt({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Ke(a,e.className)),i=x.createElement(Ev,wl({},r,{className:a}),n)}return i}renderTicks(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:o,unit:A,padding:l}=this.props,u=v_(Gt(Gt({},this.props),{},{ticks:n}),e,r),c=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),g=ks(this.props),m=yt(a,!1),p=Gt(Gt({},g),{},{fill:"none"},yt(i,!1)),v=u.map((y,w)=>{var{line:B,tick:I}=this.getTickLineCoord(y),T=Gt(Gt(Gt(Gt({textAnchor:c,verticalAnchor:f},g),{},{stroke:"none",fill:s},m),I),{},{index:w,payload:y,visibleTicksCount:u.length,tickFormatter:o,padding:l});return x.createElement(Dr,wl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},xf(this.props,y,w)),i&&x.createElement("line",wl({},p,B,{className:Ke("recharts-cartesian-axis-tick-line",Wa(i,"className"))})),a&&co.renderTickItem(a,T,"".concat(typeof o=="function"?o(y.value,w):y.value).concat(A||"")))});return v.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},v):null}render(){var{axisLine:e,width:r,height:n,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:x.createElement(Dr,{className:Ke("recharts-cartesian-axis",i),ref:o=>{if(o){var A=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(A);var l=A[0];if(l){var u=window.getComputedStyle(l).fontSize,c=window.getComputedStyle(l).letterSpacing;(u!==this.state.fontSize||c!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(l).fontSize,letterSpacing:window.getComputedStyle(l).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),pn.renderCallByParent(this.props))}}y_(co,"displayName","CartesianAxis");y_(co,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var kge=["x1","y1","x2","y2","key"],Oge=["offset"],Dge=["xAxisId","yAxisId"],jge=["xAxisId","yAxisId"];function XP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(r),!0).forEach(function(n){Rge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rge(t,e,r){return(e=Lge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lge(t){var e=Mge(t,"string");return typeof e=="symbol"?e:e+""}function Mge(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ho.apply(null,arguments)}function Im(t,e){if(t==null)return{};var r,n,i=Hge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Hge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Vge=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:o}=t;return x.createElement("rect",{x:n,y:i,ry:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function I3(t,e){var r;if(x.isValidElement(t))r=x.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:s,y2:a,key:o}=e,A=Im(e,kge),l=ks(A),u=Im(l,Oge);r=x.createElement("line",Ho({},u,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:o}))}return r}function Kge(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var s=Im(t,Dge),a=i.map((o,A)=>{var l=kr(kr({},s),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(A),index:A});return I3(n,l)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function $ge(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var s=Im(t,jge),a=i.map((o,A)=>{var l=kr(kr({},s),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(A),index:A});return I3(n,l)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Gge(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:o,horizontal:A=!0}=t;if(!A||!e||!e.length)return null;var l=o.map(c=>Math.round(c+i-i)).sort((c,f)=>c-f);i!==l[0]&&l.unshift(0);var u=l.map((c,f)=>{var g=!l[f+1],m=g?i+a-c:l[f+1]-c;if(m<=0)return null;var p=f%e.length;return x.createElement("rect",{key:"react-".concat(f),y:c,x:n,height:m,width:s,stroke:"none",fill:e[p],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function zge(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:o,verticalPoints:A}=t;if(!e||!r||!r.length)return null;var l=A.map(c=>Math.round(c+i-i)).sort((c,f)=>c-f);i!==l[0]&&l.unshift(0);var u=l.map((c,f)=>{var g=!l[f+1],m=g?i+a-c:l[f+1]-c;if(m<=0)return null;var p=f%r.length;return x.createElement("rect",{key:"react-".concat(f),x:c,y:s,width:m,height:o,stroke:"none",fill:r[p],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var Wge=(t,e)=>{var{xAxis:r,width:n,height:i,offset:s}=t;return mL(v_(kr(kr(kr({},co.defaultProps),r),{},{ticks:vL(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,e)},Xge=(t,e)=>{var{yAxis:r,width:n,height:i,offset:s}=t;return mL(v_(kr(kr(kr({},co.defaultProps),r),{},{ticks:vL(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,e)},Yge={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function eA(t){var e=KE(),r=$E(),n=BL(),i=kr(kr({},Pn(t,Yge)),{},{x:fe(t.x)?t.x:n.left,y:fe(t.y)?t.y:n.top,width:fe(t.width)?t.width:n.width,height:fe(t.height)?t.height:n.height}),{xAxisId:s,yAxisId:a,x:o,y:A,width:l,height:u,syncWithTicks:c,horizontalValues:f,verticalValues:g}=i,m=An(),p=we(S=>nP(S,"xAxis",s,m)),v=we(S=>nP(S,"yAxis",a,m));if(!fe(l)||l<=0||!fe(u)||u<=0||!fe(o)||o!==+o||!fe(A)||A!==+A)return null;var y=i.verticalCoordinatesGenerator||Wge,w=i.horizontalCoordinatesGenerator||Xge,{horizontalPoints:B,verticalPoints:I}=i;if((!B||!B.length)&&typeof w=="function"){var T=f&&f.length,F=w({yAxis:v?kr(kr({},v),{},{ticks:T?f:v.ticks}):void 0,width:e,height:r,offset:n},T?!0:c);sd(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(B=F)}if((!I||!I.length)&&typeof y=="function"){var C=g&&g.length,_=y({xAxis:p?kr(kr({},p),{},{ticks:C?g:p.ticks}):void 0,width:e,height:r,offset:n},C?!0:c);sd(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(I=_)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Vge,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(Gge,Ho({},i,{horizontalPoints:B})),x.createElement(zge,Ho({},i,{verticalPoints:I})),x.createElement(Kge,Ho({},i,{offset:n,horizontalPoints:B,xAxis:p,yAxis:v})),x.createElement($ge,Ho({},i,{offset:n,verticalPoints:I,xAxis:p,yAxis:v})))}eA.displayName="CartesianGrid";var S3=(t,e,r,n)=>Ya(t,"xAxis",e,n),T3=(t,e,r,n)=>Xa(t,"xAxis",e,n),F3=(t,e,r,n)=>Ya(t,"yAxis",r,n),U3=(t,e,r,n)=>Xa(t,"yAxis",r,n),qge=H([Me,S3,F3,T3,U3],(t,e,r,n,i)=>ao(t,"xAxis")?$d(e,n,!1):$d(r,i,!1)),Jge=(t,e,r,n,i)=>i;function Zge(t){return t.type==="line"}var epe=H([yv,Jge],(t,e)=>t.filter(Zge).find(r=>r.id===e)),tpe=H([Me,S3,F3,T3,U3,epe,qge,hv],(t,e,r,n,i,s,a,o)=>{var{chartData:A,dataStartIndex:l,dataEndIndex:u}=o;if(!(s==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||a==null)){var{dataKey:c,data:f}=s,g;if(f!=null&&f.length>0?g=f:g=A==null?void 0:A.slice(l,u+1),g!=null)return bpe({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:c,bandSize:a,displayedData:g})}}),rpe=["id"],npe=["type","layout","connectNulls","needClip"],ipe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function YP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(r),!0).forEach(function(n){spe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function spe(t,e,r){return(e=ape(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ape(t){var e=ope(t,"string");return typeof e=="symbol"?e:e+""}function ope(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w_(t,e){if(t==null)return{};var r,n,i=Ape(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ape(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function vA(){return vA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vA.apply(null,arguments)}var lpe=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Bu(r,e),payload:t}]};function upe(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:s,name:a,hide:o,unit:A}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Bu(a,e),hide:o,type:t.tooltipType,color:t.stroke,unit:A}}}var P3=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function cpe(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var dpe=(t,e,r)=>{var n=r.reduce((c,f)=>c+f);if(!n)return P3(e,t);for(var i=Math.floor(t/n),s=t%n,a=e-t,o=[],A=0,l=0;A<r.length;l+=r[A],++A)if(l+r[A]>s){o=[...r.slice(0,A),s-l];break}var u=o.length%2===0?[0,a]:[a];return[...cpe(r,i),...o,...u].map(c=>"".concat(c,"px")).join(", ")};function fpe(t,e){var r;if(x.isValidElement(t))r=x.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=Ke("recharts-line-dot",typeof t!="boolean"?t.className:"");r=x.createElement(A3,vA({},e,{className:n}))}return r}function hpe(t,e){return t==null?!1:e?!0:t.length===1}function gpe(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:s,needClip:a}=n;if(!hpe(r,i))return null;var o=w_(n,rpe),A=Jj(i),l=ks(o),u=yt(i,!0),c=r.map((g,m)=>{var p=fi(fi(fi({key:"dot-".concat(m),r:3},l),u),{},{index:m,cx:g.x,cy:g.y,dataKey:s,value:g.value,payload:g.payload,points:r});return fpe(i,p)}),f={clipPath:a?"url(#clipPath-".concat(A?"":"dots-").concat(e,")"):void 0};return x.createElement(Dr,vA({className:"recharts-line-dots",key:"dots"},f),c)}function iB(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:s,showLabels:a}=t,{type:o,layout:A,connectNulls:l,needClip:u}=s,c=w_(s,npe),f=fi(fi({},yt(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):void 0,points:n,type:o,layout:A,connectNulls:l,strokeDasharray:i??s.strokeDasharray});return x.createElement(x.Fragment,null,(n==null?void 0:n.length)>1&&x.createElement(zE,vA({},f,{pathRef:r})),x.createElement(gpe,{points:n,clipPathId:e,props:s}),a&&ka.renderCallByParent(s,n))}function ppe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function mpe(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:o,isAnimationActive:A,animationBegin:l,animationDuration:u,animationEasing:c,animateNewValues:f,width:g,height:m,onAnimationEnd:p,onAnimationStart:v}=r,y=i.current,w=u_(r,"recharts-line-"),[B,I]=x.useState(!1),T=x.useCallback(()=>{typeof p=="function"&&p(),I(!1)},[p]),F=x.useCallback(()=>{typeof v=="function"&&v(),I(!0)},[v]),C=ppe(n.current),_=s.current;return x.createElement(d_,{begin:l,duration:u,isActive:A,easing:c,onAnimationEnd:T,onAnimationStart:F,key:w},S=>{var P=di(_,C+_,S),N=Math.min(P,C),k;if(o){var Q="".concat(o).split(/[,\s]+/gim).map(ge=>parseFloat(ge));k=dpe(N,C,Q)}else k=P3(C,N);if(y){var se=y.length/a.length,Ce=S===1?a:a.map((ge,xe)=>{var Y=Math.floor(xe*se);if(y[Y]){var ne=y[Y];return fi(fi({},ge),{},{x:di(ne.x,ge.x,S),y:di(ne.y,ge.y,S)})}return f?fi(fi({},ge),{},{x:di(g*2,ge.x,S),y:di(m/2,ge.y,S)}):fi(fi({},ge),{},{x:ge.x,y:ge.y})});return i.current=Ce,x.createElement(iB,{props:r,points:Ce,clipPathId:e,pathRef:n,showLabels:!B,strokeDasharray:k})}return S>0&&C>0&&(i.current=a,s.current=N),x.createElement(iB,{props:r,points:a,clipPathId:e,pathRef:n,showLabels:!B,strokeDasharray:k})})}function vpe(t){var{clipPathId:e,props:r}=t,{points:n,isAnimationActive:i}=r,s=x.useRef(null),a=x.useRef(0),o=x.useRef(null),A=s.current;return i&&n&&n.length&&A!==n?x.createElement(mpe,{props:r,clipPathId:e,previousPointsRef:s,longestAnimatedLengthRef:a,pathRef:o}):x.createElement(iB,{props:r,points:n,clipPathId:e,pathRef:o,showLabels:!0})}var ype=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:nt(t.payload,e)});class wpe extends x.Component{render(){var e,{hide:r,dot:n,points:i,className:s,xAxisId:a,yAxisId:o,top:A,left:l,width:u,height:c,id:f,needClip:g}=this.props;if(r)return null;var m=Ke("recharts-line",s),p=f,{r:v=3,strokeWidth:y=2}=(e=yt(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},w=Jj(n),B=v*2+y;return x.createElement(x.Fragment,null,x.createElement(Dr,{className:m},g&&x.createElement("defs",null,x.createElement(x3,{clipPathId:p,xAxisId:a,yAxisId:o}),!w&&x.createElement("clipPath",{id:"clipPath-dots-".concat(p)},x.createElement("rect",{x:l-B/2,y:A-B/2,width:u+B,height:c+B}))),x.createElement(vpe,{props:this.props,clipPathId:p}),x.createElement(w3,{xAxisId:a,yAxisId:o,data:i,dataPointFormatter:ype,errorBarOffset:0},this.props.children)),x.createElement(ehe,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Q3={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!IA.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function xpe(t){var e=Pn(t,Q3),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:A,hide:l,isAnimationActive:u,label:c,legendType:f,xAxisId:g,yAxisId:m,id:p}=e,v=w_(e,ipe),{needClip:y}=p_(g,m),w=g_(),B=ov(),I=An(),T=we(P=>tpe(P,g,m,I,p));if(B!=="horizontal"&&B!=="vertical"||T==null||w==null)return null;var{height:F,width:C,x:_,y:S}=w;return x.createElement(wpe,vA({},v,{id:p,connectNulls:o,dot:A,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:u,hide:l,label:c,legendType:f,xAxisId:g,yAxisId:m,points:T,layout:B,height:F,width:C,left:_,top:S,needClip:y}))}function bpe(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:o,displayedData:A}=t;return A.map((l,u)=>{var c=nt(l,a);if(e==="horizontal"){var f=KF({axis:r,ticks:i,bandSize:o,entry:l,index:u}),g=ft(c)?null:n.scale(c);return{x:f,y:g,value:c,payload:l}}var m=ft(c)?null:r.scale(c),p=KF({axis:n,ticks:s,bandSize:o,entry:l,index:u});return m==null||p==null?null:{x:m,y:p,value:c,payload:l}}).filter(Boolean)}function Hn(t){var e=Pn(t,Q3),r=An();return x.createElement(c_,{id:e.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(g3,{legendPayload:lpe(e)}),x.createElement(l_,{fn:upe,args:e}),x.createElement(m3,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),x.createElement(xpe,vA({},e,{id:n}))))}Hn.displayName="Line";function qP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(r),!0).forEach(function(n){Bpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bpe(t,e,r){return(e=Cpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cpe(t){var e=Epe(t,"string");return typeof e=="symbol"?e:e+""}function Epe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _pe={xAxis:{},yAxis:{},zAxis:{}},N3=Un({name:"cartesianAxis",initialState:_pe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=JP(JP({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:Ipe,removeXAxis:Spe,addYAxis:Tpe,removeYAxis:Fpe,addZAxis:j0e,removeZAxis:R0e,updateYAxisWidth:Upe}=N3.actions,Ppe=N3.reducer,Qpe=["children"],Npe=["dangerouslySetInnerHTML","ticks"];function k3(t,e,r){return(e=kpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kpe(t){var e=Ope(t,"string");return typeof e=="symbol"?e:e+""}function Ope(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sB(){return sB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sB.apply(null,arguments)}function O3(t,e){if(t==null)return{};var r,n,i=Dpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Dpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function jpe(t){var e=Tt(),r=x.useMemo(()=>{var s=O3(t,Qpe);return s},[t]),n=we(s=>Rs(s,r.id)),i=r===n;return x.useEffect(()=>(e(Ipe(r)),()=>{e(Spe(r))}),[r,e]),i?t.children:null}var Rpe=t=>{var{xAxisId:e,className:r}=t,n=we(bL),i=An(),s="xAxis",a=we(c=>Fu(c,s,e,i)),o=we(c=>w5(c,s,e,i)),A=we(c=>p5(c,e)),l=we(c=>Zle(c,e));if(A==null||l==null)return null;var u=O3(t,Npe);return x.createElement(co,sB({},u,{scale:a,x:l.x,y:l.y,width:A.width,height:A.height,className:Ke("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o}))},Lpe=t=>{var e,r,n,i,s;return x.createElement(jpe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},x.createElement(Rpe,t))};class Oa extends x.Component{render(){return x.createElement(Lpe,this.props)}}k3(Oa,"displayName","XAxis");k3(Oa,"defaultProps",{allowDataOverflow:dn.allowDataOverflow,allowDecimals:dn.allowDecimals,allowDuplicatedCategory:dn.allowDuplicatedCategory,height:dn.height,hide:!1,mirror:dn.mirror,orientation:dn.orientation,padding:dn.padding,reversed:dn.reversed,scale:dn.scale,tickCount:dn.tickCount,type:dn.type,xAxisId:0});var Mpe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){e.forEach(u=>{if(u){var c=u.getBoundingClientRect();c.width>a&&(a=c.width)}});var o=r?r.getBoundingClientRect().width:0,A=i+s,l=a+A+o+(r?n:0);return Math.round(l)}return 0},Hpe=["dangerouslySetInnerHTML","ticks"];function D3(t,e,r){return(e=Vpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vpe(t){var e=Kpe(t,"string");return typeof e=="symbol"?e:e+""}function Kpe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aB(){return aB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aB.apply(null,arguments)}function $pe(t,e){if(t==null)return{};var r,n,i=Gpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Gpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function zpe(t){var e=Tt();return x.useEffect(()=>(e(Tpe(t)),()=>{e(Fpe(t))}),[t,e]),null}var Wpe=t=>{var e,{yAxisId:r,className:n,width:i,label:s}=t,a=x.useRef(null),o=x.useRef(null),A=we(bL),l=An(),u=Tt(),c="yAxis",f=we(y=>Fu(y,c,r,l)),g=we(y=>m5(y,r)),m=we(y=>eue(y,r)),p=we(y=>w5(y,c,r,l));if(x.useLayoutEffect(()=>{var y;if(!(i!=="auto"||!g||t_(s)||x.isValidElement(s))){var w=a.current,B=w==null||(y=w.tickRefs)===null||y===void 0?void 0:y.current,{tickSize:I,tickMargin:T}=w.props,F=Mpe({ticks:B,label:o.current,labelGapWithTick:5,tickSize:I,tickMargin:T});Math.round(g.width)!==Math.round(F)&&u(Upe({id:r,width:F}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,g==null?void 0:g.width,g,u,s,r,i]),g==null||m==null)return null;var v=$pe(t,Hpe);return x.createElement(co,aB({},v,{ref:a,labelRef:o,scale:f,x:m.x,y:m.y,width:g.width,height:g.height,className:Ke("recharts-".concat(c," ").concat(c),n),viewBox:A,ticks:p}))},Xpe=t=>{var e,r,n,i,s;return x.createElement(x.Fragment,null,x.createElement(zpe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),x.createElement(Wpe,t))},Ype={allowDataOverflow:fn.allowDataOverflow,allowDecimals:fn.allowDecimals,allowDuplicatedCategory:fn.allowDuplicatedCategory,hide:!1,mirror:fn.mirror,orientation:fn.orientation,padding:fn.padding,reversed:fn.reversed,scale:fn.scale,tickCount:fn.tickCount,type:fn.type,width:fn.width,yAxisId:0};class Da extends x.Component{render(){return x.createElement(Xpe,this.props)}}D3(Da,"displayName","YAxis");D3(Da,"defaultProps",Ype);var qpe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Of=x;function Jpe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zpe=typeof Object.is=="function"?Object.is:Jpe,eme=Of.useSyncExternalStore,tme=Of.useRef,rme=Of.useEffect,nme=Of.useMemo,ime=Of.useDebugValue;qpe.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=tme(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=nme(function(){function A(g){if(!l){if(l=!0,u=g,g=n(g),i!==void 0&&a.hasValue){var m=a.value;if(i(m,g))return c=m}return c=g}if(m=c,Zpe(u,g))return m;var p=n(g);return i!==void 0&&i(m,p)?(u=g,m):(u=g,c=p)}var l=!1,u,c,f=r===void 0?null:r;return[function(){return A(e())},f===null?void 0:function(){return A(f())}]},[e,r,n,i]);var o=eme(t,s[0],s[1]);return rme(function(){a.hasValue=!0,a.value=o},[o]),ime(o),o};function sme(t){t()}function ame(){let t=null,e=null;return{clear(){t=null,e=null},notify(){sme(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var ZP={notify(){},get:()=>[]};function ome(t,e){let r,n=ZP,i=0,s=!1;function a(p){u();const v=n.subscribe(p);let y=!1;return()=>{y||(y=!0,v(),c())}}function o(){n.notify()}function A(){m.onStateChange&&m.onStateChange()}function l(){return s}function u(){i++,r||(r=t.subscribe(A),n=ame())}function c(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=ZP)}function f(){s||(s=!0,u())}function g(){s&&(s=!1,c())}const m={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:A,isSubscribed:l,trySubscribe:f,tryUnsubscribe:g,getListeners:()=>n};return m}var Ame=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lme=Ame(),ume=()=>typeof navigator<"u"&&navigator.product==="ReactNative",cme=ume(),dme=()=>lme||cme?x.useLayoutEffect:x.useEffect,fme=dme(),pw=Symbol.for("react-redux-context"),mw=typeof globalThis<"u"?globalThis:{};function hme(){if(!x.createContext)return{};const t=mw[pw]??(mw[pw]=new Map);let e=t.get(x.createContext);return e||(e=x.createContext(null),t.set(x.createContext,e)),e}var gme=hme();function pme(t){const{children:e,context:r,serverState:n,store:i}=t,s=x.useMemo(()=>{const A=ome(i);return{store:i,subscription:A,getServerState:n?()=>n:void 0}},[i,n]),a=x.useMemo(()=>i.getState(),[i]);fme(()=>{const{subscription:A}=s;return A.onStateChange=A.notifyNestedSubs,A.trySubscribe(),a!==i.getState()&&A.notifyNestedSubs(),()=>{A.tryUnsubscribe(),A.onStateChange=void 0}},[s,a]);const o=r||gme;return x.createElement(o.Provider,{value:s},e)}var mme=pme,vme=(t,e)=>e,x_=H([vme,Me,zM,er,k5,Ls,sce,Jt],uce),b_=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},j3=ei("mouseClick"),R3=Bf();R3.startListening({actionCreator:j3,effect:(t,e)=>{var r=t.payload,n=x_(e.getState(),b_(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(fue({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var oB=ei("mouseMove"),L3=Bf();L3.startListening({actionCreator:oB,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=$1(n,n.tooltip.settings.shared),s=x_(n,b_(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(S5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(I5()))}});function yme(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var eQ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},M3=Un({name:"rootProps",initialState:eQ,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:eQ.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),wme=M3.reducer,{updateOptions:xme}=M3.actions,H3=Un({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:bme}=H3.actions,Bme=H3.reducer,V3=ei("keyDown"),K3=ei("focus"),B_=Bf();B_.startListening({actionCreator:V3,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(G1(i,Pu(r))),o=Ls(r);if(s==="Enter"){var A=xm(r,"axis","hover",String(i.index));e.dispatch(Jb({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:A}));return}var l=iue(r),u=l==="left-to-right"?1:-1,c=s==="ArrowRight"?1:-1,f=a+c*u;if(!(o==null||f>=o.length||f<0)){var g=xm(r,"axis","hover",String(f));e.dispatch(Jb({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});B_.startListening({actionCreator:K3,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=xm(r,"axis","hover",String(s));e.dispatch(Jb({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var On=ei("externalEvent"),$3=Bf();$3.startListening({actionCreator:On,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:Xue(r),activeDataKey:R5(r),activeIndex:qa(r),activeLabel:j5(r),activeTooltipIndex:qa(r),isTooltipActive:Yue(r)};t.payload.handler(n,t.payload.reactEvent)}}});var Cme=H([Uu],t=>t.tooltipItemPayloads),Eme=H([Cme,Qf,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,r);return a}}}),G3=ei("touchMove"),z3=Bf();z3.startListening({actionCreator:G3,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=$1(n,n.tooltip.settings.shared);if(i==="axis"){var s=x_(n,b_({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(S5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=r.touches[0],A=document.elementFromPoint(o.clientX,o.clientY);if(!A||!A.getAttribute)return;var l=A.getAttribute(wL),u=(a=A.getAttribute(xL))!==null&&a!==void 0?a:void 0,c=Eme(e.getState(),l,u);e.dispatch(_5({activeDataKey:u,activeIndex:l,activeCoordinate:c}))}}});var _me=GR({brush:uge,cartesianAxis:Ppe,chartData:Ece,errorBars:fhe,graphicalItems:xfe,layout:hie,legend:tse,options:wce,polarAxis:Vde,polarOptions:Bme,referenceElements:vge,rootProps:wme,tooltip:hue}),Ime=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Rne({reducer:_me,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([R3.middleware,L3.middleware,B_.middleware,$3.middleware,z3.middleware]),devTools:{serialize:{replacer:yme},name:"recharts-".concat(r)}})};function W3(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=An(),s=x.useRef(null);if(i)return r;s.current==null&&(s.current=Ime(e,n));var a=QE;return x.createElement(mme,{context:a,store:s.current},r)}function X3(t){var{layout:e,width:r,height:n,margin:i}=t,s=Tt(),a=An();return x.useEffect(()=>{a||(s(cie(e)),s(die({width:r,height:n})),s(uie(i)))},[s,a,e,r,n,i]),null}function Y3(t){var e=Tt();return x.useEffect(()=>{e(xme(t))},[e,t]),null}var Sme=["children"];function Tme(t,e){if(t==null)return{};var r,n,i=Fme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Fme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sm.apply(null,arguments)}var Ume={width:"100%",height:"100%"},Pme=x.forwardRef((t,e)=>{var r=KE(),n=$E(),i=IL();if(!su(r)||!su(n))return null;var{children:s,otherAttributes:a,title:o,desc:A}=t,l,u;return typeof a.tabIndex=="number"?l=a.tabIndex:l=i?0:void 0,typeof a.role=="string"?u=a.role:u=i?"application":void 0,x.createElement(yE,Sm({},a,{title:o,desc:A,role:u,tabIndex:l,width:r,height:n,style:Ume,ref:e}),s)}),Qme=t=>{var{children:e}=t,r=we(av);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return x.createElement(yE,{width:n,height:i,x:a,y:s},e)},tQ=x.forwardRef((t,e)=>{var{children:r}=t,n=Tme(t,Sme),i=An();return i?x.createElement(Qme,null,r):x.createElement(Pme,Sm({ref:e},n),r)});function Nme(){var t=Tt(),[e,r]=x.useState(null),n=we(Vie);return x.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Sn(s)&&s!==n&&t(fie(s))}},[e,t,n]),r}function rQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kme(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rQ(Object(r),!0).forEach(function(n){Ome(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ome(t,e,r){return(e=Dme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dme(t){var e=jme(t,"string");return typeof e=="symbol"?e:e+""}function jme(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rme=x.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:A,onMouseEnter:l,onMouseLeave:u,onMouseMove:c,onMouseUp:f,onTouchEnd:g,onTouchMove:m,onTouchStart:p,style:v,width:y}=t,w=Tt(),[B,I]=x.useState(null),[T,F]=x.useState(null);Sce();var C=Nme(),_=x.useCallback(z=>{C(z),typeof e=="function"&&e(z),I(z),F(z)},[C,e,I,F]),S=x.useCallback(z=>{w(j3(z)),w(On({handler:s,reactEvent:z}))},[w,s]),P=x.useCallback(z=>{w(oB(z)),w(On({handler:l,reactEvent:z}))},[w,l]),N=x.useCallback(z=>{w(I5()),w(On({handler:u,reactEvent:z}))},[w,u]),k=x.useCallback(z=>{w(oB(z)),w(On({handler:c,reactEvent:z}))},[w,c]),Q=x.useCallback(()=>{w(K3())},[w]),se=x.useCallback(z=>{w(V3(z.key))},[w]),Ce=x.useCallback(z=>{w(On({handler:a,reactEvent:z}))},[w,a]),ge=x.useCallback(z=>{w(On({handler:o,reactEvent:z}))},[w,o]),xe=x.useCallback(z=>{w(On({handler:A,reactEvent:z}))},[w,A]),Y=x.useCallback(z=>{w(On({handler:f,reactEvent:z}))},[w,f]),ne=x.useCallback(z=>{w(On({handler:p,reactEvent:z}))},[w,p]),ce=x.useCallback(z=>{w(G3(z)),w(On({handler:m,reactEvent:z}))},[w,m]),ae=x.useCallback(z=>{w(On({handler:g,reactEvent:z}))},[w,g]);return x.createElement($5.Provider,{value:B},x.createElement(Zj.Provider,{value:T},x.createElement("div",{className:Ke("recharts-wrapper",n),style:kme({position:"relative",cursor:"default",width:y,height:i},v),onClick:S,onContextMenu:Ce,onDoubleClick:ge,onFocus:Q,onKeyDown:se,onMouseDown:xe,onMouseEnter:P,onMouseLeave:N,onMouseMove:k,onMouseUp:Y,onTouchEnd:ae,onTouchMove:ce,onTouchStart:ne,ref:_},r)))}),Lme=["children","className","width","height","style","compact","title","desc"];function Mme(t,e){if(t==null)return{};var r,n,i=Hme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Hme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var q3=x.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:s,style:a,compact:o,title:A,desc:l}=t,u=Mme(t,Lme),c=ks(u);return o?x.createElement(tQ,{otherAttributes:c,title:A,desc:l},r):x.createElement(Rme,{className:n,style:a,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},x.createElement(tQ,{otherAttributes:c,title:A,desc:l,ref:e},x.createElement(wge,null,r)))}),Vme=["width","height"];function AB(){return AB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AB.apply(null,arguments)}function Kme(t,e){if(t==null)return{};var r,n,i=$me(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function $me(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Gme={top:5,right:5,bottom:5,left:5},zme={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Gme,reverseStackOrder:!1,syncMethod:"index"},J3=x.forwardRef(function(e,r){var n,i=Pn(e.categoricalChartProps,zme),{width:s,height:a}=i,o=Kme(i,Vme);if(!su(s)||!su(a))return null;var{chartName:A,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,categoricalChartProps:f}=e,g={chartName:A,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return x.createElement(W3,{preloadedState:{options:g},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:A},x.createElement(E3,{chartData:f.data}),x.createElement(X3,{width:s,height:a,layout:i.layout,margin:i.margin}),x.createElement(Y3,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(q3,AB({},o,{width:s,height:a,ref:r})))}),Wme=["axis"],C_=x.forwardRef((t,e)=>x.createElement(J3,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Wme,tooltipPayloadSearcher:e_,categoricalChartProps:t,ref:e})),Xme=["axis","item"],lB=x.forwardRef((t,e)=>x.createElement(J3,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Xme,tooltipPayloadSearcher:e_,categoricalChartProps:t,ref:e}));function Yme(t){var e=Tt();return x.useEffect(()=>{e(bme(t))},[e,t]),null}var qme=["width","height","layout"];function uB(){return uB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uB.apply(null,arguments)}function Jme(t,e){if(t==null)return{};var r,n,i=Zme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Zme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var e0e={top:5,right:5,bottom:5,left:5},t0e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:e0e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},r0e=x.forwardRef(function(e,r){var n,i=Pn(e.categoricalChartProps,t0e),{width:s,height:a,layout:o}=i,A=Jme(i,qme);if(!su(s)||!su(a))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:f}=e,g={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(W3,{preloadedState:{options:g},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:l},x.createElement(E3,{chartData:i.data}),x.createElement(X3,{width:s,height:a,layout:o,margin:i.margin}),x.createElement(Y3,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(Yme,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(q3,uB({width:s,height:a},A,{ref:r})))}),n0e=["item"],i0e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Z3=x.forwardRef((t,e)=>{var r=Pn(t,i0e);return x.createElement(r0e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:n0e,tooltipPayloadSearcher:e_,categoricalChartProps:r,ref:e})});const _i=["7-11 新街門市","A21 環北站","7-11 高萱門市","A18 桃園高鐵站","A16 橫山站","大園農會","不搭車"],nQ={"A21 環北站":{name:"A21 環北站",originalPrice:65,monthlyPass:{30:1260,90:3564,120:3888}},"A19 體育園區站":{name:"A19 體育園區站",originalPrice:40,monthlyPass:{30:735,90:2079,120:2268}},"7-11 高萱門市":{name:"A19 體育園區站",originalPrice:40,monthlyPass:{30:735,90:2079,120:2268}},"A18 桃園高鐵站":{name:"A18 桃園高鐵站",originalPrice:35,monthlyPass:{30:630,90:1782,120:1944}}},s0e={name:"TPass 799",price:799,days:30,description:"A7-A22 無限搭乘 30天"},vw={K:"早",L:"中",Y:"晚",月休:"休",SS:"特",R:"休",KK:"早",YY:"晚",早班:"早",中班:"中",晚班:"晚"};function a0e(){const[t,e]=x.useState("display"),[r,n]=x.useState({}),[i,s]=x.useState({}),[a,o]=x.useState("current"),[A,l]=x.useState({}),[u,c]=x.useState({}),[f,g]=x.useState({}),[m,p]=x.useState("date"),[v,y]=x.useState("all"),[w,B]=x.useState(null),[I,T]=x.useState("week1"),[F,C]=x.useState(null),[_,S]=x.useState(null),[P,N]=x.useState([]),[k,Q]=x.useState({start:1,end:31}),[se,Ce]=x.useState([]),[ge,xe]=x.useState("charts"),[Y,ne]=x.useState("chart"),[ce,ae]=x.useState(null),[z,ve]=x.useState(""),[O,R]=x.useState(null),[j,J]=x.useState(""),[re,V]=x.useState("current"),[G,ee]=x.useState({id:"",name:"",pickupLocation:_i[0]});x.useEffect(()=>{W(),Pe()},[]),x.useEffect(()=>{ge==="charts"?S(null):ge==="overlap"&&C(null)},[ge]),x.useEffect(()=>{const D=Od(Ii(sr,"schedule","currentMonth"),q=>{if(q.exists()){const le=q.data();n(le),l(oe=>({...oe,current:le._lastUpdated}))}}),K=Od(Ii(sr,"schedule","nextMonth"),q=>{if(q.exists()){const le=q.data();s(le),l(oe=>({...oe,next:le._lastUpdated}))}});return()=>{D(),K()}},[]);const W=async()=>{try{const D=await Jc(Yc(sr,"schedule")),K={};D.forEach(q=>{(q.id==="currentMonth"||q.id==="nextMonth")&&(K[q.id]=q.data())}),K.currentMonth&&(n(K.currentMonth),l(q=>({...q,current:K.currentMonth._lastUpdated}))),K.nextMonth&&(s(K.nextMonth),l(q=>({...q,next:K.nextMonth._lastUpdated})))}catch(D){console.error("載入班表資料失敗:",D)}},Pe=async()=>{try{const D=await Jc(Yc(sr,"names")),K={};D.forEach(oe=>{K[oe.id]=oe.data().name}),c(K);const q=await Jc(Yc(sr,"pickupLocations")),le={};q.forEach(oe=>{le[oe.id]=oe.data().location}),g(le)}catch(D){console.error("載入同事資料失敗:",D)}},Ie=async()=>{try{for(const[D,K]of Object.entries(u))await Oo(Ii(sr,"names",D),{name:K});for(const[D,K]of Object.entries(f))await Oo(Ii(sr,"pickupLocations",D),{location:K});alert("同事資料已儲存")}catch(D){console.error("儲存同事資料失敗:",D),alert("儲存失敗")}},Ge=()=>{confirm("確定要清空所有同事資料嗎？")&&(c({}),g({}))},ht=()=>{const{id:D,name:K,pickupLocation:q}=G;if(!D||!K){alert("請填寫職員編號和姓名");return}if(u[D]){alert("職員編號已存在");return}c(le=>({...le,[D]:K})),g(le=>({...le,[D]:q})),ee({id:"",name:"",pickupLocation:_i[0]})},ii=D=>{confirm(`確定要刪除 ${u[D]} 嗎？`)&&(c(K=>{const q={...K};return delete q[D],q}),g(K=>{const q={...K};return delete q[D],q}))},UA=(D,K)=>{c(q=>({...q,[D]:K}))},Df=(D,K)=>{g(q=>({...q,[D]:K}))},Nu=()=>{if(!z.trim()){J("請輸入資料");return}try{const D=z.trim().split(`
`),K={};let q=null,le=0;for(const oe of D){if(le++,!oe.trim())continue;console.log(`處理第 ${le} 行:`,oe);const be=oe.split("	");if(console.log("分割後的欄位:",be),le<=2){console.log("跳過標題行或日期行");continue}const Te=be[0].trim(),ze=be[1].trim();if(Te&&ze&&Te.match(/^A\d+$/)&&(console.log("發現同事資料行:",Te,ze),be[2]&&be[2].trim()==="班別排班")){q={id:Te,name:ze,schedule:[]};const Fe=be.slice(3);console.log("班表資料:",Fe);const Ne=Fe.map(dr=>{const Ct=dr.trim();return Ct?vw[Ct]?vw[Ct]:Ct:""});console.log("處理後的班表:",Ne);const Je=ze.replace(/\d+/g,"").trim();K[Te]={name:Je,schedule:Ne}}}R(K),J("")}catch{J("解析資料時發生錯誤")}},jf=async()=>{if(!O){alert("請先解析資料");return}try{const D=re==="current"?"currentMonth":"nextMonth",K={};for(const[q,le]of Object.entries(O)){if(!q||q.trim()===""){console.warn("跳過空的職員編號");continue}K[q]={},le.schedule.forEach((oe,be)=>{const Te=`${be+1}`;oe&&oe.trim()&&(K[q][Te]=oe)}),console.log(`同事 ${q}: ${Object.keys(K[q]).length} 個班次`)}K._lastUpdated=new Date().toISOString(),console.log("準備上傳資料:",K),console.log("資料結構檢查:");for(const[q,le]of Object.entries(K))q!=="_lastUpdated"&&console.log(`- ${q}: ${Object.keys(le).length} 個班次`);await Oo(Ii(sr,"schedule",D),K),console.log("班表上傳成功");for(const[q,le]of Object.entries(O))if(!u[q])try{await Oo(Ii(sr,"names",q),{name:le.name}),console.log(`同事 ${q} 姓名已更新`)}catch(oe){console.warn(`更新同事 ${q} 姓名失敗:`,oe)}alert("班表已上傳成功！"),ve(""),R(null)}catch(D){console.error("上傳班表失敗:",D);let K="上傳失敗";D.code==="permission-denied"?K="權限不足，請檢查 Firebase 安全規則":D.code==="unavailable"?K="網路連線問題，請檢查網路連線":D.message&&(K=`上傳失敗: ${D.message}`),alert(K)}},ku=()=>{const K=Object.keys(a==="current"?r:i).filter(oe=>oe!=="_lastUpdated"),q=(oe,be)=>{var Fe,Ne;const Te=parseInt(((Fe=oe.match(/\d+/))==null?void 0:Fe[0])||"0"),ze=parseInt(((Ne=be.match(/\d+/))==null?void 0:Ne[0])||"0");return Te-ze};let le=K;return w?le=[w]:se.length>0&&(le=se),le.sort(q)},Ou=()=>new Date().getDate(),PA=D=>{const K=new Date,q=[];for(let le=0;le<D;le++){const oe=new Date(K);oe.setDate(K.getDate()+le),q.push(oe.getDate())}return q},fo=()=>{switch(v){case"today":return[Ou()];case"3days":return PA(3);case"7days":return PA(7);case"custom":return Array.from({length:k.end-k.start+1},(D,K)=>k.start+K);default:return Array.from({length:31},(D,K)=>K+1)}},rr=D=>{const K=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),q=1,le=K;if(!D||!f[D])return null;const oe=f[D];if(oe==="不搭車"||!nQ[oe])return null;const Te=(a==="current"?r:i)[D];if(!Te)return null;let ze=0,Fe=0;for(let kt=q;kt<=le;kt++){const ln=Te[kt];ln&&ln!=="休"&&ln!=="特"&&(Fe++,ln==="早"?ze+=1:(ln==="中"||ln==="晚")&&(ze+=2))}if(ze===0)return null;const Ne=nQ[oe],Je=ze*Ne.originalPrice,dr=Math.ceil(Je*.7),Ct=[];Object.entries(Ne.monthlyPass).forEach(([kt,ln])=>{const Ms=parseInt(kt),Hs=ln,Iv=ln/(Ms/30);Ct.push({days:Ms,price:ln,totalCost:Hs,averagePricePerMonth:Iv,savings:Je-Hs})});const jr=s0e.price,go=jr/30,Br=Math.ceil((jr-Je)/Ne.originalPrice),Mf=()=>Je>=jr?{type:"recommended",text:"TPass比原價划算，強烈推薦！"}:Br<=5?{type:"consider",text:`只需額外搭乘${Br}次即可回本，建議考慮`}:Br<=10?{type:"maybe",text:`需要額外搭乘${Br}次才回本，可考慮其他方案`}:{type:"not-recommended",text:`需要額外搭乘${Br}次才回本，不建議`};return{employeeId:D,employeeName:u[D]||D,location:oe,workDays:Fe,totalTrips:ze,originalTotal:Je,citizenCardTotal:dr,monthlyPassOptions:Ct,tpassTotal:jr,tpassDailyCost:go,breakEvenTrips:Br,tpassRecommendation:Mf(),recommendations:[]}},cr=()=>{const D=ho();D&&(document.body.appendChild(D),setTimeout(()=>{Kj(D,{backgroundColor:"#ffffff",scale:2,useCORS:!0,allowTaint:!0}).then(K=>{const q=document.createElement("a");q.download=`乘車表_${a==="current"?"當月":"下個月"}_${new Date().toISOString().split("T")[0]}.png`,q.href=K.toDataURL(),q.click(),document.body.removeChild(D)}).catch(K=>{console.error("匯出失敗:",K),document.body.removeChild(D)})},500))},QA=()=>{const D=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),K=[];for(let q=1;q<=Math.ceil(D/7);q++){const le=(q-1)*7+1,oe=Math.min(q*7,D);K.push(d.jsxs("option",{value:`week${q}`,children:[new Date().getMonth()+1,"月",le,"日 - ",new Date().getMonth()+1,"月",oe,"日"]},`week${q}`))}return K},Rf=()=>{const D=a==="current"?r:i,K=parseInt(I.replace("week","")),q=(K-1)*7+1,le=Math.min(K*7,new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate());let oe="";for(let be=q;be<=le;be++){const Te={};Object.keys(D).forEach(ze=>{var Je;if(ze==="_lastUpdated")return;const Fe=f[ze];if(!Fe||Fe==="不搭車")return;((Je=D[ze])==null?void 0:Je[be])==="早"&&(Te[Fe]=(Te[Fe]||0)+1)}),oe+=`${new Date().getMonth()+1}/${be}
`,Object.keys(Te).length>0&&["A21 環北站","7-11 高萱門市","7-11 新街門市","A18 桃園高鐵站"].forEach(Fe=>{Te[Fe]&&(oe+=`${Fe}${Te[Fe]}人
`)}),oe+=`
`}navigator.clipboard.writeText(oe.trim()).then(()=>{alert("Line 群文字已複製到剪貼簿！")}).catch(()=>{prompt("請複製以下文字：",oe.trim())})},Lf=()=>{const D=a==="current"?r:i,K={};Object.keys(D).forEach(le=>{le!=="_lastUpdated"&&(K[le]={})});const q=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let le=1;le<=q;le++){const oe={};Object.keys(D).forEach(be=>{var ze;if(be==="_lastUpdated")return;const Te=(ze=D[be])==null?void 0:ze[le];Te&&Te!=="休"&&(oe[Te]||(oe[Te]=[]),oe[Te].push(be))}),Object.keys(oe).forEach(be=>{const Te=oe[be];for(let ze=0;ze<Te.length;ze++)for(let Fe=ze+1;Fe<Te.length;Fe++){const Ne=Te[ze],Je=Te[Fe];K[Ne][Je]||(K[Ne][Je]=0),K[Je][Ne]||(K[Je][Ne]=0),K[Ne][Je]++,K[Je][Ne]++}}),oe.早&&oe.中&&oe.早.forEach(be=>{oe.中.forEach(Te=>{K[be][Te]||(K[be][Te]=0),K[Te][be]||(K[Te][be]=0),K[be][Te]++,K[Te][be]++})}),oe.中&&oe.晚&&oe.中.forEach(be=>{oe.晚.forEach(Te=>{K[be][Te]||(K[be][Te]=0),K[Te][be]||(K[Te][be]=0),K[be][Te]++,K[Te][be]++})})}return K},_v=D=>{const q=Lf()[D]||{};return Object.entries(q).map(([le,oe])=>({employeeId:le,name:u[le]||le,count:oe})).sort((le,oe)=>oe.count-le.count).filter(le=>le.count>0)},ho=()=>{const D=a==="current"?r:i,K=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),q={};for(let Fe=1;Fe<=K;Fe++)q[Fe]={},_i.forEach(Ne=>{q[Fe][Ne]=0});Object.keys(D).forEach(Fe=>{var Je;if(Fe==="_lastUpdated")return;const Ne=f[Fe];if(!(!Ne||Ne==="不搭車"))for(let dr=1;dr<=K;dr++)((Je=D[Fe])==null?void 0:Je[dr])==="早"&&q[dr][Ne]++});const le=document.createElement("div");le.style.cssText=`
      position: fixed;
      top: -9999px;
      left: -9999px;
      width: 1200px;
      background: white;
      padding: 40px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      color: #333;
    `;const oe=document.createElement("h1");oe.textContent=`${new Date().getFullYear()}年${new Date().getMonth()+1}月 乘車統計表`,oe.style.cssText=`
      text-align: center;
      font-size: 32px;
      font-weight: bold;
      margin-bottom: 30px;
      color: #2c3e50;
    `,le.appendChild(oe);const be=document.createElement("div");be.style.cssText=`
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
      margin-top: 20px;
    `,["日","一","二","三","四","五","六"].forEach(Fe=>{const Ne=document.createElement("div");Ne.textContent=Fe,Ne.style.cssText=`
        text-align: center;
        font-weight: bold;
        font-size: 18px;
        padding: 15px 10px;
        background: #f8f9fa;
        border-radius: 8px;
        color: #495057;
      `,be.appendChild(Ne)});const ze=new Date(new Date().getFullYear(),new Date().getMonth(),1).getDay();for(let Fe=0;Fe<ze;Fe++){const Ne=document.createElement("div");Ne.style.cssText=`
        height: 120px;
        background: #f8f9fa;
        border-radius: 8px;
      `,be.appendChild(Ne)}for(let Fe=1;Fe<=K;Fe++){const Ne=document.createElement("div");Ne.style.cssText=`
        height: 120px;
        border: 2px solid #e9ecef;
        border-radius: 8px;
        padding: 8px;
        background: white;
        position: relative;
      `;const Je=document.createElement("div");if(Je.textContent=Fe,Je.style.cssText=`
        font-size: 16px;
        font-weight: bold;
        color: #495057;
        margin-bottom: 8px;
        text-align: center;
      `,Ne.appendChild(Je),_i.some(Ct=>{var jr;return Ct!=="不搭車"&&((jr=q[Fe])==null?void 0:jr[Ct])>0}))_i.filter(Ct=>Ct!=="不搭車").forEach(Ct=>{var go;const jr=((go=q[Fe])==null?void 0:go[Ct])||0;if(jr>0){const Br=document.createElement("div");Br.style.cssText=`
               font-size: 12px;
               margin: 2px 0;
               color: #333;
               text-align: center;
             `,Br.textContent=`${Ct}: ${jr}人`,Ne.appendChild(Br)}});else{const Ct=document.createElement("div");Ct.textContent="無乘車",Ct.style.cssText=`
           font-size: 12px;
           color: #6c757d;
           text-align: center;
           margin-top: 20px;
         `,Ne.appendChild(Ct)}be.appendChild(Ne)}return le.appendChild(be),le};return d.jsxs("div",{className:"container-custom py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"班表管理工具"}),d.jsx("p",{className:"text-center text-text-secondary",children:"早班好"})]}),d.jsx("div",{className:"flex justify-center mb-6",children:d.jsx("div",{className:"bg-surface/40 rounded-xl p-1 border border-white/10 w-full max-w-4xl",children:d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-1",children:[d.jsxs("button",{onClick:()=>e("display"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="display"?"bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-blue-400 border border-blue-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[d.jsx(sE,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),d.jsx("span",{className:"hidden sm:inline",children:"顯示班表"}),d.jsx("span",{className:"sm:hidden",children:"班表"})]}),d.jsxs("button",{onClick:()=>e("transport"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="transport"?"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 text-yellow-400 border border-yellow-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[d.jsx(kX,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),d.jsx("span",{className:"hidden sm:inline",children:"交通及車費試算"}),d.jsx("span",{className:"sm:hidden",children:"交通"})]}),d.jsxs("button",{onClick:()=>e("statistics"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="statistics"?"bg-gradient-to-r from-purple-500/20 to-pink-500/20 text-purple-400 border border-purple-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[d.jsx(jD,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),d.jsx("span",{className:"hidden sm:inline",children:"統計功能"}),d.jsx("span",{className:"sm:hidden",children:"統計"})]}),d.jsxs("button",{onClick:()=>e("import"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="import"?"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-400 border border-green-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[d.jsx(Cy,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),d.jsx("span",{className:"hidden sm:inline",children:"匯入與轉換班表"}),d.jsx("span",{className:"sm:hidden",children:"匯入"})]})]})})}),t==="display"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 md:p-6 lg:p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"月份"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:a,onChange:D=>o(D.target.value),className:"w-full px-3 py-2 md:px-4 md:py-3 bg-white/10 border border-white/20 rounded-xl focus:border-blue-400/50 focus:bg-white/20 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200 appearance-none cursor-pointer text-sm md:text-base",children:[d.jsx("option",{value:"current",children:"當月"}),d.jsx("option",{value:"next",children:"下個月"})]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx("svg",{className:"w-4 h-4 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"顯示模式"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:m,onChange:D=>p(D.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[d.jsx("option",{value:"date",children:"日期視圖"}),d.jsx("option",{value:"employee",children:"同事視圖"}),d.jsx("option",{value:"partner",children:"搭班視圖"})]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-green-300 group-hover:text-green-200 transition-colors",children:"篩選"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:v,onChange:D=>y(D.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-green-400/50 focus:bg-white/20 focus:ring-2 focus:ring-green-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[d.jsx("option",{value:"all",children:"全部"}),d.jsx("option",{value:"today",children:"今天"}),d.jsx("option",{value:"3days",children:"接下來 3 天"}),d.jsx("option",{value:"7days",children:"接下來 7 天"}),d.jsx("option",{value:"custom",children:"自定義範圍"})]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx("svg",{className:"w-4 h-4 text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300 group-hover:text-orange-200 transition-colors",children:"選擇同事"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:w||"",onChange:D=>B(D.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-orange-400/50 focus:bg-white/20 focus:ring-2 focus:ring-orange-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[d.jsx("option",{value:"",children:"顯示所有同事"}),Object.keys(a==="current"?r:i).filter(D=>D!=="_lastUpdated").sort((D,K)=>{var oe,be;const q=parseInt(((oe=D.match(/\d+/))==null?void 0:oe[0])||"0"),le=parseInt(((be=K.match(/\d+/))==null?void 0:be[0])||"0");return q-le}).map(D=>d.jsx("option",{value:D,children:u[D]||D},D))]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx("svg",{className:"w-4 h-4 text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),A[a]&&d.jsx("div",{className:"mt-6 flex items-center justify-center",children:d.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-surface/30 rounded-full border border-white/10",children:[d.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsxs("span",{className:"text-sm text-gray-300",children:["最後更新：",new Date(A[a]).toLocaleString()]})]})})]}),(v==="custom"||P.length>0||se.length>0)&&d.jsxs("div",{className:"bg-gradient-to-br from-surface/50 to-surface/30 rounded-2xl p-4 md:p-6 border border-white/15 shadow-lg backdrop-blur-sm",children:[d.jsx("h4",{className:"text-lg font-semibold mb-4 text-cyan-300",children:"進階篩選"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v==="custom"&&d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-cyan-300",children:"日期範圍"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"number",min:"1",max:"31",value:k.start,onChange:D=>Q(K=>({...K,start:parseInt(D.target.value)})),className:"w-1/2 px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:border-cyan-400/50 focus:bg-white/20 text-sm",placeholder:"開始日期"}),d.jsx("span",{className:"text-gray-400 self-center",children:"至"}),d.jsx("input",{type:"number",min:"1",max:"31",value:k.end,onChange:D=>Q(K=>({...K,end:parseInt(D.target.value)})),className:"w-1/2 px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:border-cyan-400/50 focus:bg-white/20 text-sm",placeholder:"結束日期"})]})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-pink-300",children:"班次篩選"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:["早","中","晚","休","特"].map(D=>d.jsx("button",{onClick:()=>{P.includes(D)?N(K=>K.filter(q=>q!==D)):N(K=>[...K,D])},className:`px-3 py-1 rounded-lg text-xs font-medium transition-all ${P.includes(D)?"bg-pink-500 text-white border border-pink-400":"bg-white/10 text-gray-300 border border-white/20 hover:bg-white/20"}`,children:D},D))})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300",children:"多同事選擇"}),d.jsx("div",{className:"max-h-32 overflow-y-auto",children:Object.keys(a==="current"?r:i).filter(D=>D!=="_lastUpdated").sort((D,K)=>{var oe,be;const q=parseInt(((oe=D.match(/\d+/))==null?void 0:oe[0])||"0"),le=parseInt(((be=K.match(/\d+/))==null?void 0:be[0])||"0");return q-le}).map(D=>d.jsxs("label",{className:"flex items-center gap-2 mb-1 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:se.includes(D),onChange:K=>{K.target.checked?Ce(q=>[...q,D]):Ce(q=>q.filter(le=>le!==D))},className:"w-4 h-4 text-orange-500 bg-white/10 border-white/20 rounded focus:ring-orange-400/50"}),d.jsx("span",{className:"text-sm text-gray-300",children:u[D]||D})]},D))})]})]}),d.jsx("div",{className:"mt-4 flex justify-end",children:d.jsx("button",{onClick:()=>{N([]),Ce([]),Q({start:1,end:31}),y("all")},className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-300 rounded-lg transition-all text-sm",children:"清除所有篩選"})})]}),d.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:m==="date"?d.jsx(o0e,{schedule:a==="current"?r:i,names:u,displayDates:fo(),filteredEmployees:ku(),selectedShifts:P}):m==="employee"?d.jsx(A0e,{schedule:a==="current"?r:i,names:u,displayDates:fo(),filteredEmployees:ku(),selectedShifts:P}):m==="partner"?d.jsx(b0e,{schedule:a==="current"?r:i,names:u,displayDates:fo(),selectedEmployee:w}):d.jsx(g0e,{schedule:a==="current"?r:i,names:u,displayDates:fo(),filteredEmployees:ku(),selectedShifts:P})})]}),t==="transport"&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-surface/60 rounded-2xl p-2 border border-white/20",children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>ne("chart"),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${Y==="chart"?"bg-blue-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"乘車表"}),d.jsx("button",{onClick:()=>ne("fare"),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${Y==="fare"?"bg-purple-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"車費試算"})]})}),Y==="chart"&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-yellow-300 group-hover:text-yellow-200 transition-colors",children:"月份"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:a,onChange:D=>o(D.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-yellow-400/50 focus:bg-white/20 focus:ring-2 focus:ring-yellow-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[d.jsx("option",{value:"current",children:"當月"}),d.jsx("option",{value:"next",children:"下個月"})]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx("svg",{className:"w-4 h-4 text-yellow-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300 group-hover:text-orange-200 transition-colors",children:"匯出"}),d.jsxs("button",{onClick:()=>cr(),className:"w-full px-4 py-3 bg-gradient-to-r from-blue-500/20 to-purple-500/20 hover:from-blue-500/30 hover:to-purple-500/30 border border-blue-400/30 text-blue-300 rounded-xl transition-all duration-200 font-medium",children:[d.jsx(Cy,{className:"w-4 h-4 inline mr-2"}),"匯出乘車表"]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-green-300 group-hover:text-green-200 transition-colors",children:"乘車文字生成 (一週)"}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx("select",{value:I,onChange:D=>T(D.target.value),className:"flex-1 px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-green-400/50 focus:bg-white/20 focus:ring-2 focus:ring-green-400/20 transition-all duration-200 appearance-none cursor-pointer",children:QA()}),d.jsxs("button",{onClick:()=>Rf(),className:"px-6 py-3 bg-gradient-to-r from-green-500/20 to-teal-500/20 hover:from-green-500/30 hover:to-teal-500/30 border border-green-400/30 text-green-300 rounded-xl transition-all duration-200 font-medium whitespace-nowrap",children:[d.jsx(RD,{className:"w-4 h-4 inline mr-2"}),"生成"]})]})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-gray-300 group-hover:text-gray-200 transition-colors",children:"更新時間"}),d.jsx("div",{className:"px-4 py-3 bg-surface/30 rounded-xl border border-white/10",children:d.jsx("span",{className:"text-sm text-gray-300",children:A[a]?new Date(A[a]).toLocaleString():"無資料"})})]})]})]})}),d.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:d.jsx(l0e,{schedule:a==="current"?r:i,names:u,pickupLocations:f})})]}),Y==="fare"&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"月份"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:a,onChange:D=>o(D.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[d.jsx("option",{value:"current",children:"當月"}),d.jsx("option",{value:"next",children:"下個月"})]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"選擇同事"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:ce||"",onChange:D=>ae(D.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-blue-400/50 focus:bg-white/20 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[d.jsx("option",{value:"",children:"請選擇同事"}),Object.keys(a==="current"?r:i).filter(D=>D!=="_lastUpdated").sort((D,K)=>{var oe,be;const q=parseInt(((oe=D.match(/\d+/))==null?void 0:oe[0])||"0"),le=parseInt(((be=K.match(/\d+/))==null?void 0:be[0])||"0");return q-le}).map(D=>d.jsx("option",{value:D,children:u[D]||D},D))]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx("svg",{className:"w-4 h-4 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]})}),d.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:d.jsx(x0e,{schedule:a==="current"?r:i,names:u,pickupLocations:f,selectedEmployee:ce,calculateFare:rr})})]})]}),t==="statistics"&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"月份"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:a,onChange:D=>o(D.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[d.jsx("option",{value:"current",children:"當月"}),d.jsx("option",{value:"next",children:"下個月"})]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"統計類型"}),d.jsx("div",{className:"bg-surface/40 rounded-xl p-1 border border-white/10",children:d.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[d.jsx("button",{onClick:()=>xe("charts"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${ge==="charts"?"bg-green-500/20 text-green-300 border border-green-400/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"圖表分析"}),d.jsx("button",{onClick:()=>xe("overlap"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${ge==="overlap"?"bg-blue-500/20 text-blue-300 border border-blue-400/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"搭班統計表"})]})})]}),d.jsxs("div",{className:"group",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-gray-300 group-hover:text-gray-200 transition-colors",children:"更新時間"}),d.jsx("div",{className:"px-4 py-3 bg-surface/30 rounded-xl border border-white/10",children:d.jsx("span",{className:"text-sm text-gray-300",children:A[a]?new Date(A[a]).toLocaleString():"無資料"})})]})]})}),ge==="overlap"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 md:p-6 lg:p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center justify-center mb-6 md:mb-8",children:[d.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 lg:w-12 lg:h-12 rounded-full bg-blue-500/20 border border-blue-400/30 flex items-center justify-center mr-2 md:mr-3",children:d.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),d.jsx("h3",{className:"text-lg md:text-xl lg:text-2xl font-bold text-blue-300",children:"搭班統計表"})]}),d.jsx(u0e,{schedule:a==="current"?r:i,names:u,onEmployeeClick:S})]}),_&&d.jsx(c0e,{employeeId:_,employeeName:u[_]||_,ranking:_v(_),onClose:()=>S(null)})]}),ge==="charts"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center justify-center mb-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-pink-500/20 border border-pink-400/30 flex items-center justify-center mr-3",children:d.jsx("svg",{className:"w-5 h-5 text-pink-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),d.jsx("h3",{className:"text-lg font-bold text-pink-300",children:"早班統計"})]}),d.jsx(f0e,{schedule:a==="current"?r:i,names:u})]}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center justify-center mb-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 border border-blue-400/30 flex items-center justify-center mr-3",children:d.jsx("svg",{className:"w-5 h-5 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),d.jsx("h3",{className:"text-lg font-bold text-blue-300",children:"晚班統計"})]}),d.jsx(h0e,{schedule:a==="current"?r:i,names:u})]}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center justify-center mb-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-500/20 border border-orange-400/30 flex items-center justify-center mr-3",children:d.jsx("svg",{className:"w-5 h-5 text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),d.jsx("h3",{className:"text-lg font-bold text-orange-300",children:"連續上班統計"})]}),d.jsx(d0e,{schedule:a==="current"?r:i,names:u})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[d.jsx(v0e,{schedule:a==="current"?r:i}),d.jsx(y0e,{schedule:a==="current"?r:i,names:u})]}),d.jsx(p0e,{schedule:a==="current"?r:i,names:u}),d.jsx(m0e,{schedule:a==="current"?r:i,names:u}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-300 text-center",children:"個人統計儀表板"}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300",children:"選擇同事"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:F||"",onChange:D=>C(D.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[d.jsx("option",{value:"",children:"請選擇一個同事查看個人統計"}),Object.keys(a==="current"?r:i).filter(D=>D!=="_lastUpdated").sort((D,K)=>{var oe,be;const q=parseInt(((oe=D.match(/\d+/))==null?void 0:oe[0])||"0"),le=parseInt(((be=K.match(/\d+/))==null?void 0:be[0])||"0");return q-le}).map(D=>d.jsx("option",{value:D,children:u[D]||D},D))]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),d.jsx(w0e,{schedule:a==="current"?r:i,names:u,selectedEmployee:F})]})]})]}),t==="import"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-green-300",children:"匯入班表"}),d.jsxs("div",{className:"mb-6 p-4 bg-surface/40 rounded-lg border border-white/10",children:[d.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-300",children:"班別代碼說明"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:Object.entries(vw).map(([D,K])=>d.jsxs("div",{className:"flex items-center gap-2 p-2 bg-surface/20 rounded border border-white/10",children:[d.jsx("span",{className:"font-mono bg-white/10 px-2 py-1 rounded text-green-300 font-medium",children:D}),d.jsxs("span",{className:"text-gray-300 font-medium",children:["= ",K]})]},D))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"目標月份"}),d.jsxs("select",{value:re,onChange:D=>V(D.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-green-400/50 focus:bg-white/10",children:[d.jsx("option",{value:"current",children:"當月"}),d.jsx("option",{value:"next",children:"下個月"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Excel 資料"}),d.jsx("textarea",{value:z,onChange:D=>ve(D.target.value),placeholder:"從 Excel 複製資料並貼上這裡...",className:"w-full h-32 px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-green-400/50 focus:bg-white/10 resize-none"})]})]}),j&&d.jsx("div",{className:"mt-6 p-4 bg-red-600/20 border border-red-500/30 rounded-xl text-red-300 font-medium",children:j}),d.jsxs("div",{className:"mt-4 flex gap-3",children:[d.jsx("button",{onClick:Nu,className:"px-6 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-300 rounded-lg transition-all font-medium",children:"解析資料"}),O&&d.jsx("button",{onClick:jf,className:"px-6 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-300 rounded-lg transition-all font-medium",children:"上傳班表"})]})]}),O&&d.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-300",children:"預覽表格"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0,border:"none"},children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[d.jsx("th",{className:"text-left p-3 text-blue-300 font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"職員編號"}),d.jsx("th",{className:"text-left p-3 text-purple-300 font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"姓名"}),Array.from({length:31},(D,K)=>d.jsx("th",{className:"text-center p-3 text-green-300 font-medium",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:K+1},K))]})}),d.jsx("tbody",{children:Object.entries(O).map(([D,K])=>d.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[d.jsx("td",{className:"p-3 text-gray-400 font-medium",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:D}),d.jsx("td",{className:"p-3 text-white font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:K.name}),K.schedule.map((q,le)=>d.jsx("td",{className:"p-2 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:q?d.jsx("div",{className:`
                                px-3 py-2 rounded-lg text-center text-xs font-bold
                                ${q==="早"?"bg-pink-500 text-white":q==="中"?"bg-cyan-500 text-white":q==="晚"?"bg-blue-500 text-white":q==="休"?"bg-gray-500 text-white":q==="特"?"bg-orange-500 text-white":q==="排"?"bg-yellow-500 text-white":"bg-gray-700 text-gray-300"}
                              `,children:q}):d.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})},le))]},D))})]})})]}),d.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-400",children:"同事基本資料管理"}),d.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[d.jsxs("button",{onClick:Pe,className:"px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-400 rounded-lg transition-all flex items-center gap-2",children:[d.jsx(pX,{className:"w-4 h-4"}),"從 Firebase 讀取資料"]}),d.jsxs("button",{onClick:Ie,className:"px-4 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-400 rounded-lg transition-all flex items-center gap-2",children:[d.jsx(Cy,{className:"w-4 h-4"}),"儲存姓名與上車地點"]}),d.jsxs("button",{onClick:Ge,className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-400 rounded-lg transition-all flex items-center gap-2",children:[d.jsx(qi,{className:"w-4 h-4"}),"清空所有資料"]})]}),d.jsxs("div",{className:"bg-surface/20 rounded-lg p-4 mb-6 border border-white/5",children:[d.jsx("h4",{className:"text-lg font-semibold mb-4 text-orange-400",children:"新增同事"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"職員編號"}),d.jsx("input",{type:"text",value:G.id,onChange:D=>ee(K=>({...K,id:D.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",placeholder:"例如：A45"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"姓名"}),d.jsx("input",{type:"text",value:G.name,onChange:D=>ee(K=>({...K,name:D.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",placeholder:"輸入姓名"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"上車地點"}),d.jsx("select",{value:G.pickupLocation,onChange:D=>ee(K=>({...K,pickupLocation:D.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",children:_i.map(D=>d.jsx("option",{value:D,children:D},D))})]})]}),d.jsxs("button",{onClick:ht,className:"mt-4 px-6 py-2 bg-orange-500/20 hover:bg-orange-500/30 border border-orange-400/30 text-orange-400 rounded-lg transition-all flex items-center gap-2",children:[d.jsx(Yi,{className:"w-4 h-4"}),"新增同事"]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-white/10",children:[d.jsx("th",{className:"text-left p-2 text-blue-400",children:"職員編號"}),d.jsx("th",{className:"text-left p-2 text-purple-400",children:"姓名"}),d.jsx("th",{className:"text-left p-2 text-green-400",children:"上車地點"}),d.jsx("th",{className:"text-center p-2 text-red-400",children:"操作"})]})}),d.jsx("tbody",{children:Object.keys(u).sort((D,K)=>{const q=parseInt(D.replace(/\D/g,""))||0,le=parseInt(K.replace(/\D/g,""))||0;return q-le}).map(D=>d.jsxs("tr",{className:"border-b border-white/5",children:[d.jsx("td",{className:"p-2 text-text-secondary",children:D}),d.jsx("td",{className:"p-2",children:d.jsx("input",{type:"text",value:u[D]||"",onChange:K=>UA(D,K.target.value),className:"w-full px-2 py-1 bg-white/5 border border-white/10 rounded focus:border-purple-400/50 focus:bg-white/10"})}),d.jsx("td",{className:"p-2",children:d.jsx("select",{value:f[D]||_i[0],onChange:K=>Df(D,K.target.value),className:"w-full px-2 py-1 bg-white/5 border border-white/10 rounded focus:border-green-400/50 focus:bg-white/10",children:_i.map(K=>d.jsx("option",{value:K,children:K},K))})}),d.jsx("td",{className:"p-2 text-center",children:d.jsx("button",{onClick:()=>ii(D),className:"px-3 py-1 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-400 rounded transition-all",children:d.jsx(qi,{className:"w-4 h-4"})})})]},D))})]})})]})]})]})}function o0e({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i}){return d.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:d.jsx("div",{className:"bg-surface/60 rounded-xl shadow-xl border border-white/20 backdrop-blur-sm min-w-full",children:d.jsx("div",{className:"w-full",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-xs md:text-sm",style:{borderCollapse:"collapse",borderSpacing:0,border:"none"},children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[d.jsx("th",{className:"text-center p-2 md:p-3 text-purple-300 font-semibold sticky left-0 z-10 bg-surface/95",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"姓名"}),r.map(s=>{const a=s===new Date().getDate();return d.jsxs("th",{className:`text-center p-1 md:p-3 font-medium relative ${a?"text-primary":"text-green-300"}`,style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},title:a?"今天":void 0,"data-today":a?"true":void 0,children:[d.jsx("div",{className:`relative text-xs font-semibold inline-flex items-center justify-center w-7 h-7 rounded ${a?"bg-primary/20 ring-2 ring-primary":""}`,children:s}),d.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),s).getDay()]})]},s)})]})}),d.jsx("tbody",{children:n.map((s,a)=>d.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200 group","data-employee-id":s,"data-row-index":a,children:[d.jsx("td",{className:"p-2 md:p-3 text-white font-semibold text-xs md:text-sm sticky left-0 z-10 bg-surface/95 group-hover:bg-surface/100 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:d.jsx("span",{className:"group-hover:text-primary transition-colors",children:e[s]||s})}),r.map(o=>{var u;const A=(u=t[s])==null?void 0:u[o],l=o===new Date().getDate();return i&&i.length>0&&(!A||!i.includes(A))?d.jsx("td",{className:"p-1 md:p-2 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:d.jsx("div",{className:`w-full h-6 md:h-8 rounded-lg border ${l?"bg-primary/5 border-primary/30":"bg-surface/10 border-white/5"} opacity-50`})},o):d.jsx("td",{className:`p-1 md:p-2 text-center ${l?"bg-primary/5":""}`,style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:A?d.jsx("div",{className:`
                                px-2 py-1 md:px-3 md:py-2 rounded-lg text-center text-xs font-bold
                                ${l?"ring-2 ring-primary/50 ":""}${A==="早"?"bg-pink-500 text-white":A==="中"?"bg-cyan-500 text-white":A==="晚"?"bg-blue-500 text-white":A==="休"?"bg-gray-500 text-white":A==="特"?"bg-orange-500 text-white":"bg-gray-700 text-gray-300"}
                              `,children:A}):d.jsx("div",{className:`w-full h-6 md:h-8 rounded-lg border ${l?"bg-primary/5 border-primary/30":"bg-surface/20 border-white/10"}`})},o)})]},s))})]})})})})})}function A0e({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i}){const s=a=>{switch(a){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}};return d.jsx("div",{className:"space-y-6",children:n.map(a=>d.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm hover:shadow-2xl transition-all duration-300",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h4",{className:"text-lg font-semibold text-white mb-1",children:e[a]||a}),d.jsxs("p",{className:"text-sm text-gray-400",children:["職員編號：",a]})]}),d.jsx("div",{className:"grid grid-cols-7 gap-3",children:r.map(o=>{var l;const A=(l=t[a])==null?void 0:l[o];return i&&i.length>0&&(!A||!i.includes(A))?d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-gray-400 mb-2 font-medium",children:o}),d.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/10 border border-white/5 opacity-50"})]},o):d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs text-gray-400 mb-2 font-medium",children:o}),A?d.jsx("div",{className:`
                      px-3 py-2 rounded-lg text-center text-xs font-bold
                      transition-all duration-200 hover:shadow-lg hover:scale-105
                      ${s(A)}
                    `,children:A}):d.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})]},o)})})]},a))})}function l0e({schedule:t,names:e,pickupLocations:r}){const n=()=>{const o=new Date,A=o.getFullYear(),l=o.getMonth()+1;return new Date(A,l,0).getDate()},s=(()=>{const o=n(),A={};for(let l=1;l<=o;l++)A[l]={},_i.forEach(u=>{A[l][u]=0});return Object.keys(t).forEach(l=>{var c;if(l==="_lastUpdated")return;const u=r[l];if(!(!u||u==="不搭車"))for(let f=1;f<=o;f++)((c=t[l])==null?void 0:c[f])==="早"&&A[f][u]++}),A})(),a=n();return d.jsxs("div",{id:"transport-chart",className:"bg-surface/60 rounded-xl p-6 border border-white/20",children:[d.jsx("h3",{className:"text-xl font-bold mb-6 text-yellow-300 text-center",children:"當月乘車統計表"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0},children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[d.jsx("th",{className:"text-left p-3 text-yellow-300 font-semibold",style:{border:"none !important"},children:"上車地點"}),Array.from({length:a},(o,A)=>A+1).map(o=>d.jsxs("th",{className:"text-center p-2 text-green-300 font-medium",style:{border:"none !important"},children:[d.jsx("div",{className:"text-xs font-semibold",children:o}),d.jsx("div",{className:"text-xs text-gray-400",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),o).getDay()]})]},o))]})}),d.jsx("tbody",{children:_i.filter(o=>o!=="不搭車").map(o=>d.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[d.jsx("td",{className:"p-3 text-white font-semibold",style:{border:"none !important"},children:o}),Array.from({length:a},(A,l)=>l+1).map(A=>{var u;const l=((u=s[A])==null?void 0:u[o])||0;return d.jsx("td",{className:"p-2 text-center",style:{border:"none !important"},children:l>0?d.jsx("div",{className:"px-3 py-2 rounded-lg text-center text-xs font-bold bg-yellow-500/20 border border-yellow-400/30 text-yellow-300",children:l}):d.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})},A)})]},o))})]})})]})}function u0e({schedule:t,names:e,onEmployeeClick:r}){const n=()=>{const u={},c={};Object.keys(t).forEach(g=>{g!=="_lastUpdated"&&(u[g]={},c[g]={})});const f=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let g=1;g<=f;g++){const m={};Object.keys(t).forEach(p=>{var y;if(p==="_lastUpdated")return;const v=(y=t[p])==null?void 0:y[g];v&&v!=="休"&&(m[v]||(m[v]=[]),m[v].push(p))}),Object.keys(m).forEach(p=>{const v=m[p];for(let y=0;y<v.length;y++)for(let w=y+1;w<v.length;w++){const B=v[y],I=v[w];u[B][I]||(u[B][I]=0),u[I][B]||(u[I][B]=0),c[B][I]||(c[B][I]=[]),c[I][B]||(c[I][B]=[]),u[B][I]++,u[I][B]++,c[B][I].push({day:g,shift:p}),c[I][B].push({day:g,shift:p})}}),m.早&&m.中&&m.早.forEach(p=>{m.中.forEach(v=>{u[p][v]||(u[p][v]=0),u[v][p]||(u[v][p]=0),c[p][v]||(c[p][v]=[]),c[v][p]||(c[v][p]=[]),u[p][v]++,u[v][p]++,c[p][v].push({day:g,shift:"早-中"}),c[v][p].push({day:g,shift:"中-早"})})}),m.中&&m.晚&&m.中.forEach(p=>{m.晚.forEach(v=>{u[p][v]||(u[p][v]=0),u[v][p]||(u[v][p]=0),c[p][v]||(c[p][v]=[]),c[v][p]||(c[v][p]=[]),u[p][v]++,u[v][p]++,c[p][v].push({day:g,shift:"中-晚"}),c[v][p].push({day:g,shift:"晚-中"})})})}return{overlapStats:u,overlapDetails:c}},{overlapStats:i,overlapDetails:s}=n(),a=Object.keys(t).filter(u=>u!=="_lastUpdated").sort((u,c)=>{var m,p;const f=parseInt(((m=u.match(/\d+/))==null?void 0:m[0])||"0"),g=parseInt(((p=c.match(/\d+/))==null?void 0:p[0])||"0");return f-g}),A=(()=>{let u=0,c=0,f=0;return a.forEach(g=>{a.forEach(m=>{var p;if(g!==m){const v=((p=i[g])==null?void 0:p[m])||0;v>0&&(u+=v,c=Math.max(c,v),f++)}})}),{totalOverlaps:u,maxOverlap:c,averageOverlap:f>0?(u/f).toFixed(1):0,totalPairs:f}})(),l=(u,c)=>{if(u===0)return"bg-surface/20 border-white/10 text-gray-400";const f=Math.min(u/c,1);return f>.7?"bg-purple-500/40 border-purple-400/50 text-purple-200":f>.4?"bg-purple-500/30 border-purple-400/40 text-purple-300":"bg-purple-500/20 border-purple-400/30 text-purple-300"};return d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold mb-6 text-purple-300 text-center",children:"搭班統計表"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0},children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[d.jsx("th",{className:"text-left p-3 text-purple-300 font-semibold",style:{border:"none !important"},children:"同事"}),a.map(u=>d.jsx("th",{className:"text-center p-3 text-purple-300 font-medium",style:{border:"none !important"},children:e[u]||u},u))]})}),d.jsx("tbody",{children:a.map(u=>d.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[d.jsx("td",{className:"p-3 text-white font-semibold cursor-pointer hover:text-purple-300 transition-colors",style:{border:"none !important"},onClick:()=>r(u),children:e[u]||u}),a.map(c=>{var g;const f=((g=i[u])==null?void 0:g[c])||0;return d.jsx("td",{className:"p-3 text-center",style:{border:"none !important"},children:u===c?d.jsx("div",{className:"w-8 h-8 rounded-lg bg-surface/20 border border-white/10 flex items-center justify-center text-gray-400",children:"-"}):f>0?d.jsx("div",{className:`px-3 py-2 rounded-lg text-center text-xs font-bold border cursor-pointer hover:scale-105 transition-all ${l(f,A.maxOverlap)}`,title:`${e[u]||u} 與 ${e[c]||c} 搭班 ${f} 次`,children:f}):d.jsx("div",{className:"w-8 h-8 rounded-lg bg-surface/10 border border-white/5 flex items-center justify-center text-gray-500 opacity-50",children:"-"})},c)})]},u))})]})})]})}function c0e({employeeId:t,employeeName:e,ranking:r,onClose:n}){const[i,s]=x.useState(null),o=(()=>{const A=r.reduce((c,f)=>c+f.count,0),l=r.length>0?(A/r.length).toFixed(1):0,u=r.length>0?r[0].count:0;return{totalOverlaps:A,avgOverlaps:l,maxOverlaps:u}})();return d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-surface/95 rounded-2xl p-8 border border-white/20 shadow-2xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h3",{className:"text-xl font-bold text-purple-300",children:[e," 的搭班詳情"]}),d.jsx("button",{onClick:n,className:"p-2 hover:bg-surface/30 rounded-lg text-gray-300 hover:text-white transition-all duration-200",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-300",children:o.totalOverlaps}),d.jsx("div",{className:"text-sm text-gray-400",children:"總搭班次數"})]}),d.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-300",children:o.avgOverlaps}),d.jsx("div",{className:"text-sm text-gray-400",children:"平均搭班次數"})]}),d.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[d.jsx("div",{className:"text-2xl font-bold text-green-300",children:o.maxOverlaps}),d.jsx("div",{className:"text-sm text-gray-400",children:"最高搭班次數"})]})]}),r.length>0?d.jsxs("div",{className:"space-y-3",children:[d.jsx("h4",{className:"text-lg font-semibold text-purple-300 mb-4",children:"搭班排行"}),r.map((A,l)=>d.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border cursor-pointer transition-all hover:scale-105 ${i===A.employeeId?"bg-purple-500/30 border-purple-400/50":"bg-surface/20 border-white/10 hover:bg-surface/30"}`,onClick:()=>s(i===A.employeeId?null:A.employeeId),children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:`w-8 h-8 rounded-full border flex items-center justify-center font-bold text-sm ${l===0?"bg-yellow-500/20 border-yellow-400/30 text-yellow-300":l===1?"bg-gray-500/20 border-gray-400/30 text-gray-300":l===2?"bg-orange-500/20 border-orange-400/30 text-orange-300":"bg-purple-500/20 border-purple-400/30 text-purple-300"}`,children:l+1}),d.jsx("div",{children:d.jsx("span",{className:"text-white font-medium",children:A.name})})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-purple-300 font-bold",children:[A.count," 次"]}),d.jsxs("div",{className:"text-xs text-gray-400",children:[(A.count/o.totalOverlaps*100).toFixed(1),"%"]})]})]},A.employeeId))]}):d.jsx("div",{className:"text-center py-8 text-gray-400",children:"本月無搭班記錄"})]})})}function d0e({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(a=>{var u;if(a==="_lastUpdated")return;let o=0,A=0,l=0;for(let c=1;c<=s;c++){const f=(u=t[a])==null?void 0:u[c];f&&f!=="休"?(l++,A=Math.max(A,l)):l=0}o=A,o>0&&(i[a]={name:e[a]||a,maxConsecutive:o})}),Object.values(i).sort((a,o)=>o.maxConsecutive-a.maxConsecutive)})();return d.jsx("div",{className:"space-y-3",children:n.slice(0,5).map((i,s)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-500/20 border border-orange-400/30 flex items-center justify-center text-orange-300 font-bold text-xs",children:s+1}),d.jsx("span",{className:"text-white font-medium",children:i.name})]}),d.jsxs("div",{className:"text-orange-300 font-bold",children:[i.maxConsecutive," 天"]})]},i.name))})}function f0e({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(a=>{var A;if(a==="_lastUpdated")return;let o=0;for(let l=1;l<=s;l++)((A=t[a])==null?void 0:A[l])==="早"&&o++;o>0&&(i[a]={name:e[a]||a,earlyCount:o})}),Object.values(i).sort((a,o)=>o.earlyCount-a.earlyCount)})();return d.jsx("div",{className:"space-y-3",children:n.slice(0,5).map((i,s)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500/20 border border-pink-400/30 flex items-center justify-center text-pink-300 font-bold text-xs",children:s+1}),d.jsx("span",{className:"text-white font-medium",children:i.name})]}),d.jsxs("div",{className:"text-pink-300 font-bold",children:[i.earlyCount," 次"]})]},i.name))})}function h0e({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(a=>{var A;if(a==="_lastUpdated")return;let o=0;for(let l=1;l<=s;l++)((A=t[a])==null?void 0:A[l])==="晚"&&o++;o>0&&(i[a]={name:e[a]||a,nightCount:o})}),Object.values(i).sort((a,o)=>o.nightCount-a.nightCount)})();return d.jsx("div",{className:"space-y-3",children:n.slice(0,5).map((i,s)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500/20 border border-blue-400/30 flex items-center justify-center text-blue-300 font-bold text-xs",children:s+1}),d.jsx("span",{className:"text-white font-medium",children:i.name})]}),d.jsxs("div",{className:"text-blue-300 font-bold",children:[i.nightCount," 次"]})]},i.name))})}function g0e({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i}){const s=a=>{switch(a){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}};return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"3D 班表視圖"}),d.jsx("p",{className:"text-gray-400",children:"立體展示班次安排"})]}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:n.map(a=>d.jsx("div",{className:"group perspective-1000",children:d.jsx("div",{className:"relative transform-style-preserve-3d transition-all duration-500 group-hover:rotate-y-12",children:d.jsxs("div",{className:"bg-gradient-to-br from-surface/80 to-surface/60 rounded-2xl p-6 border border-white/20 shadow-2xl backdrop-blur-sm transform-style-preserve-3d",children:[d.jsxs("div",{className:"transform-style-preserve-3d",children:[d.jsxs("div",{className:"mb-6 text-center",children:[d.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:e[a]||a}),d.jsxs("p",{className:"text-sm text-gray-400",children:["職員編號：",a]})]}),d.jsx("div",{className:"grid grid-cols-7 gap-2",children:r.map((o,A)=>{var u;const l=(u=t[a])==null?void 0:u[o];return i&&i.length>0&&(!l||!i.includes(l))?d.jsxs("div",{className:"relative group/item",children:[d.jsx("div",{className:"w-full h-16 rounded-lg bg-surface/10 border border-white/5 opacity-50 transform transition-all duration-300 group-hover/item:scale-110 group-hover/item:rotate-y-6"}),d.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-xs text-gray-500",children:d.jsx("span",{children:o})})]},o):d.jsx("div",{className:"relative group/item",children:d.jsx("div",{className:`
                            w-full h-16 rounded-lg text-center text-xs font-bold
                            transform transition-all duration-300 
                            group-hover/item:scale-110 group-hover/item:rotate-y-6 group-hover/item:shadow-xl
                            ${l?s(l):"bg-surface/20 border border-white/10"}
                          `,children:d.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[d.jsx("span",{className:"text-xs opacity-75",children:o}),d.jsx("span",{className:"font-bold",children:l||""})]})})},o)})})]}),d.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]})})},a))})]})}function p0e({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(a=>{var A;if(a==="_lastUpdated")return;const o=e[a]||a;i[o]={name:o,early:0,middle:0,night:0,rest:0,special:0,total:0};for(let l=1;l<=s;l++){const u=(A=t[a])==null?void 0:A[l];if(u)switch(i[o].total++,u){case"早":i[o].early++;break;case"中":i[o].middle++;break;case"晚":i[o].night++;break;case"休":i[o].rest++;break;case"特":i[o].special++;break}}}),Object.values(i).filter(a=>a.total>0)})();return d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-6 text-purple-300 text-center",children:"各同事班次分布"}),d.jsx(ma,{width:"100%",height:400,children:d.jsxs(lB,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[d.jsx(eA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),d.jsx(Oa,{dataKey:"name",stroke:"#ffffff80"}),d.jsx(Da,{stroke:"#ffffff80"}),d.jsx(pa,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}}),d.jsx(pA,{}),d.jsx(Aa,{dataKey:"early",stackId:"a",fill:"#ec4899",name:"早班"}),d.jsx(Aa,{dataKey:"middle",stackId:"a",fill:"#06b6d4",name:"中班"}),d.jsx(Aa,{dataKey:"night",stackId:"a",fill:"#3b82f6",name:"晚班"}),d.jsx(Aa,{dataKey:"rest",stackId:"a",fill:"#6b7280",name:"休假"}),d.jsx(Aa,{dataKey:"special",stackId:"a",fill:"#f97316",name:"特殊"})]})})]})}function m0e({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();let a={early:0,middle:0,night:0,rest:0,special:0};Object.keys(t).forEach(l=>{var u;if(l!=="_lastUpdated")for(let c=1;c<=s;c++){const f=(u=t[l])==null?void 0:u[c];if(f)switch(f){case"早":a.early++;break;case"中":a.middle++;break;case"晚":a.night++;break;case"休":a.rest++;break;case"特":a.special++;break}}});const o=Object.keys(t).filter(l=>l!=="_lastUpdated").length,A={early:a.early/o,middle:a.middle/o,night:a.night/o,rest:a.rest/o,special:a.special/o};return Object.keys(t).forEach(l=>{var g;if(l==="_lastUpdated")return;const u=e[l]||l,c={early:0,middle:0,night:0,rest:0,special:0};for(let m=1;m<=s;m++){const p=(g=t[l])==null?void 0:g[m];if(p)switch(p){case"早":c.early++;break;case"中":c.middle++;break;case"晚":c.night++;break;case"休":c.rest++;break;case"特":c.special++;break}}const f={name:u,earlyBias:((c.early-A.early)/A.early*100).toFixed(1),middleBias:((c.middle-A.middle)/A.middle*100).toFixed(1),nightBias:((c.night-A.night)/A.night*100).toFixed(1),restBias:((c.rest-A.rest)/A.rest*100).toFixed(1),specialBias:((c.special-A.special)/A.special*100).toFixed(1)};i[u]=f}),Object.values(i)})();return d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-6 text-orange-300 text-center",children:"班次分配偏差度分析"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-white/20",children:[d.jsx("th",{className:"text-left p-3 text-white font-semibold",children:"同事"}),d.jsx("th",{className:"text-center p-3 text-pink-300 font-semibold",children:"早班偏差"}),d.jsx("th",{className:"text-center p-3 text-cyan-300 font-semibold",children:"中班偏差"}),d.jsx("th",{className:"text-center p-3 text-blue-300 font-semibold",children:"晚班偏差"}),d.jsx("th",{className:"text-center p-3 text-gray-300 font-semibold",children:"休假偏差"}),d.jsx("th",{className:"text-center p-3 text-orange-300 font-semibold",children:"特殊偏差"})]})}),d.jsx("tbody",{children:n.map((i,s)=>d.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5",children:[d.jsx("td",{className:"p-3 text-white font-medium",children:i.name}),d.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.earlyBias)>0?"text-green-400":"text-red-400"}`,children:[i.earlyBias,"%"]}),d.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.middleBias)>0?"text-green-400":"text-red-400"}`,children:[i.middleBias,"%"]}),d.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.nightBias)>0?"text-green-400":"text-red-400"}`,children:[i.nightBias,"%"]}),d.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.restBias)>0?"text-green-400":"text-red-400"}`,children:[i.restBias,"%"]}),d.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.specialBias)>0?"text-green-400":"text-red-400"}`,children:[i.specialBias,"%"]})]},s))})]})})]})}function v0e({schedule:t}){const r=(()=>{const n={early:0,middle:0,night:0,rest:0,special:0},i=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(s=>{var a;if(s!=="_lastUpdated")for(let o=1;o<=i;o++){const A=(a=t[s])==null?void 0:a[o];if(A)switch(A){case"早":n.early++;break;case"中":n.middle++;break;case"晚":n.night++;break;case"休":n.rest++;break;case"特":n.special++;break}}}),[{name:"早班",value:n.early,color:"#ec4899"},{name:"中班",value:n.middle,color:"#06b6d4"},{name:"晚班",value:n.night,color:"#3b82f6"},{name:"休假",value:n.rest,color:"#6b7280"},{name:"特殊",value:n.special,color:"#f97316"}].filter(s=>s.value>0)})();return d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-6 text-green-300 text-center",children:"班次類型分布"}),d.jsx(ma,{width:"100%",height:300,children:d.jsxs(Z3,{children:[d.jsx(h_,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:n,percent:i})=>`${n} ${(i*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((n,i)=>d.jsx(Qu,{fill:n.color},`cell-${i}`))}),d.jsx(pa,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}})]})})]})}function y0e({schedule:t,names:e}){const n=(()=>{const i=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),s=[];for(let a=1;a<=i;a++){let o=0,A=0,l=0,u=0,c=0;Object.keys(t).forEach(f=>{var m;if(f==="_lastUpdated")return;switch((m=t[f])==null?void 0:m[a]){case"早":o++;break;case"中":A++;break;case"晚":l++;break;case"休":u++;break;case"特":c++;break}}),s.push({date:`${a}日`,early:o,middle:A,night:l,rest:u,special:c})}return s})();return d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-6 text-blue-300 text-center",children:"班次趨勢變化"}),d.jsx(ma,{width:"100%",height:400,children:d.jsxs(C_,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[d.jsx(eA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),d.jsx(Oa,{dataKey:"date",stroke:"#ffffff80"}),d.jsx(Da,{stroke:"#ffffff80"}),d.jsx(pa,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}}),d.jsx(pA,{}),d.jsx(Hn,{type:"monotone",dataKey:"early",stroke:"#ec4899",strokeWidth:2,name:"早班"}),d.jsx(Hn,{type:"monotone",dataKey:"middle",stroke:"#06b6d4",strokeWidth:2,name:"中班"}),d.jsx(Hn,{type:"monotone",dataKey:"night",stroke:"#3b82f6",strokeWidth:2,name:"晚班"}),d.jsx(Hn,{type:"monotone",dataKey:"rest",stroke:"#6b7280",strokeWidth:2,name:"休假"}),d.jsx(Hn,{type:"monotone",dataKey:"special",stroke:"#f97316",strokeWidth:2,name:"特殊"})]})})]})}function w0e({schedule:t,names:e,selectedEmployee:r}){if(!r)return d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-300 text-center",children:"個人統計儀表板"}),d.jsx("p",{className:"text-center text-gray-400",children:"請選擇一個同事查看個人統計"})]});const i=(()=>{var g;const c={name:e[r]||r,early:0,middle:0,night:0,rest:0,special:0,total:0},f=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let m=1;m<=f;m++){const p=(g=t[r])==null?void 0:g[m];if(p)switch(p){case"早":c.early++,c.total++;break;case"中":c.middle++,c.total++;break;case"晚":c.night++,c.total++;break;case"休":c.rest++;break;case"特":c.special++,c.total++;break}}return c})(),s=[{name:"早班",value:i.early,color:"#ec4899"},{name:"中班",value:i.middle,color:"#06b6d4"},{name:"晚班",value:i.night,color:"#3b82f6"},{name:"休假",value:i.rest,color:"#6b7280"},{name:"特殊",value:i.special,color:"#f97316"}].filter(c=>c.value>0),a=()=>{var p;const c=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),f=[];let g=0,m=0;for(let v=1;v<=c;v++){const y=(p=t[r])==null?void 0:p[v];y&&y!=="休"?g++:(g>0&&(m++,f.push({period:`期間${m}`,consecutiveDays:g,trend:g>=6?"高":g>=4?"中":"低"})),g=0)}return g>0&&(m++,f.push({period:`期間${m}`,consecutiveDays:g,trend:g>=6?"高":g>=4?"中":"低"})),f},o=()=>{var g;const c=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),f=[];for(let m=1;m<=c;m++){let p=0,v=0;for(let y=1;y<=m;y++){const w=(g=t[r])==null?void 0:g[y];w&&w!=="休"?p++:(p>0&&(p>=7?v=3:p>=5?v=2:v=1),p=0)}p>0&&(p>=7?v=3:p>=5?v=2:v=1),f.push({date:`${m}日`,consecutiveDays:p,riskLevel:v})}return f},A=()=>{var g,m;const c=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),f={};for(let p=1;p<c;p++){const v=(g=t[r])==null?void 0:g[p],y=(m=t[r])==null?void 0:m[p+1];if(v&&y){const w=`${v}→${y}`;f[w]=(f[w]||0)+1}}return Object.entries(f).sort(([,p],[,v])=>v-p).slice(0,10).map(([p,v])=>({transition:p,value:v}))},l=()=>{var g,m;const c=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),f={};for(let p=1;p<c;p++){const v=(g=t[r])==null?void 0:g[p],y=(m=t[r])==null?void 0:m[p+1];if(v&&y){const w=`${v}→${y}`;if(!f[w]){const[B,I]=w.split("→");f[w]={from:B,to:I,count:0}}f[w].count++}}return Object.values(f).sort((p,v)=>v.count-p.count)},u=c=>{switch(c){case"早":return"#ec4899";case"中":return"#06b6d4";case"晚":return"#3b82f6";case"休":return"#6b7280";case"特":return"#f97316";default:return"#9ca3af"}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[d.jsxs("div",{className:"text-center p-4 bg-pink-500/20 rounded-lg border border-pink-400/30",children:[d.jsx("div",{className:"text-2xl font-bold text-pink-300",children:i.early}),d.jsx("div",{className:"text-sm text-pink-200",children:"早班"})]}),d.jsxs("div",{className:"text-center p-4 bg-cyan-500/20 rounded-lg border border-cyan-400/30",children:[d.jsx("div",{className:"text-2xl font-bold text-cyan-300",children:i.middle}),d.jsx("div",{className:"text-sm text-cyan-200",children:"中班"})]}),d.jsxs("div",{className:"text-center p-4 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-300",children:i.night}),d.jsx("div",{className:"text-sm text-blue-200",children:"晚班"})]}),d.jsxs("div",{className:"text-center p-4 bg-gray-500/20 rounded-lg border border-gray-400/30",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-300",children:i.rest}),d.jsx("div",{className:"text-sm text-gray-200",children:"休假"})]}),d.jsxs("div",{className:"text-center p-4 bg-orange-500/20 rounded-lg border border-orange-400/30",children:[d.jsx("div",{className:"text-2xl font-bold text-orange-300",children:i.special}),d.jsx("div",{className:"text-sm text-orange-200",children:"特殊"})]})]}),d.jsxs("div",{className:"text-center p-4 bg-surface/40 rounded-lg border border-white/10",children:[d.jsxs("div",{className:"text-lg font-semibold text-white",children:["總工作天數：",i.total," 天"]}),d.jsxs("div",{className:"text-sm text-gray-400",children:["工作率：",(i.total/31*100).toFixed(1),"%"]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h4",{className:"text-lg font-bold mb-4 text-purple-300 text-center",children:"班次佔比"}),d.jsx(ma,{width:"100%",height:300,children:d.jsxs(Z3,{children:[d.jsx(h_,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:({name:c,percent:f})=>`${c} ${(f*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:s.map((c,f)=>d.jsx(Qu,{fill:c.color},`cell-${f}`))}),d.jsx(pa,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}})]})})]}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h4",{className:"text-lg font-bold mb-4 text-blue-300 text-center",children:"每日班次分布"}),d.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["日","一","二","三","四","五","六"].map(c=>d.jsx("div",{className:"text-center text-sm font-semibold text-gray-400 py-2",children:c},c))}),d.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:new Date(new Date().getFullYear(),new Date().getMonth(),1).getDay()},(c,f)=>d.jsx("div",{className:"h-8 bg-surface/20 rounded border border-white/5"},`empty-${f}`)),Array.from({length:new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate()},(c,f)=>{var y;const g=f+1,m=(y=t[r])==null?void 0:y[g],p=w=>{switch(w){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-surface/20 text-gray-400 border border-white/10"}},v=w=>{switch(w){case"早":return"早班";case"中":return"中班";case"晚":return"晚班";case"休":return"休假";case"特":return"特殊班";default:return"無班次"}};return d.jsx("div",{className:`h-8 rounded border flex items-center justify-center text-xs font-bold transition-all hover:scale-110 cursor-pointer ${p(m)}`,title:`${g}日 - ${v(m)}`,children:g},g)})]}),d.jsxs("div",{className:"mt-4 flex flex-wrap justify-center gap-3 text-xs",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded"}),d.jsx("span",{className:"text-gray-300",children:"早班"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 bg-cyan-500 rounded"}),d.jsx("span",{className:"text-gray-300",children:"中班"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),d.jsx("span",{className:"text-gray-300",children:"晚班"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded"}),d.jsx("span",{className:"text-gray-300",children:"休假"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded"}),d.jsx("span",{className:"text-gray-300",children:"特殊"})]})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h4",{className:"text-lg font-bold mb-4 text-orange-300 text-center",children:"連續上班天數分析"}),d.jsx(ma,{width:"100%",height:300,children:d.jsxs(lB,{data:a(),margin:{top:20,right:30,left:20,bottom:5},children:[d.jsx(eA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),d.jsx(Oa,{dataKey:"period",stroke:"#ffffff80"}),d.jsx(Da,{stroke:"#ffffff80"}),d.jsx(pa,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"},formatter:(c,f)=>[c,{highRisk:"高 (≥6天)",mediumRisk:"中 (4-5天)",lowRisk:"低 (1-3天)"}[f]||f]}),d.jsx(pA,{}),d.jsx(Aa,{dataKey:"consecutiveDays",fill:"#f97316",name:"連續天數"})]})}),d.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm",children:[d.jsxs("div",{className:"flex items-center justify-center p-2 bg-red-500/20 rounded-lg border border-red-400/30",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),d.jsx("span",{className:"text-red-300",children:"高 (≥6天)"})]}),d.jsxs("div",{className:"flex items-center justify-center p-2 bg-orange-500/20 rounded-lg border border-orange-400/30",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500 mr-2"}),d.jsx("span",{className:"text-orange-300",children:"中 (4-5天)"})]}),d.jsxs("div",{className:"flex items-center justify-center p-2 bg-green-500/20 rounded-lg border border-green-400/30",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),d.jsx("span",{className:"text-green-300",children:"低 (1-3天)"})]})]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h4",{className:"text-lg font-bold mb-4 text-blue-300 text-center",children:"連續上班頻率趨勢"}),d.jsx(ma,{width:"100%",height:300,children:d.jsxs(C_,{data:o(),margin:{top:20,right:30,left:20,bottom:5},children:[d.jsx(eA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),d.jsx(Oa,{dataKey:"date",stroke:"#ffffff80"}),d.jsx(Da,{stroke:"#ffffff80",domain:[0,6]}),d.jsx(pa,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}}),d.jsx(pA,{}),d.jsx(Hn,{type:"monotone",dataKey:"consecutiveDays",stroke:"#8b5cf6",strokeWidth:3,name:"連續天數"}),d.jsx(Hn,{type:"monotone",dataKey:"riskLevel",stroke:"#ef4444",strokeWidth:2,name:"等級"})]})})]})]}),d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[d.jsx("h4",{className:"text-lg font-bold mb-4 text-purple-300 text-center",children:"班次轉換關係圖"}),d.jsx(ma,{width:"100%",height:300,children:d.jsxs(lB,{data:A(),margin:{top:20,right:30,left:20,bottom:5},children:[d.jsx(eA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),d.jsx(Oa,{dataKey:"transition",stroke:"#ffffff80"}),d.jsx(Da,{stroke:"#ffffff80"}),d.jsx(pa,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"},formatter:(c,f,g)=>[`${g.payload.transition}: ${c}次`,"轉換次數"]}),d.jsx(Aa,{dataKey:"value",fill:"#8b5cf6"})]})}),d.jsx("div",{className:"mt-4 grid grid-cols-2 lg:grid-cols-4 gap-4",children:l().slice(0,8).map((c,f)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:u(c.from)},children:c.from}),d.jsx("span",{className:"text-gray-400",children:"→"}),d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:u(c.to)},children:c.to})]}),d.jsx("div",{className:"text-purple-300 font-bold",children:c.count})]},f))})]})})]})}function x0e({schedule:t,names:e,pickupLocations:r,selectedEmployee:n,calculateFare:i}){const[s,a]=x.useState(!1),[o,A]=x.useState(null);if(x.useEffect(()=>{n?(a(!0),setTimeout(()=>{const g=i(n);A(g),a(!1)},500)):A(null)},[n,i]),!n)return d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"請選擇一位同事來計算車費"}),d.jsx("div",{className:"text-gray-500 text-sm",children:"選擇同事後，將顯示該同事的車費分析"})]});if(s)return d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),d.jsx("div",{className:"text-gray-400 text-lg",children:"正在計算車費..."})]});if(!o)return d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"無法計算車費"}),d.jsx("div",{className:"text-gray-500 text-sm",children:"該同事可能不搭車或沒有班表資料"})]});const l=[{name:"原價",cost:o.originalTotal,type:"original"},{name:"桃園市民卡 7折",cost:o.citizenCardTotal,type:"citizen"},...o.monthlyPassOptions.map(g=>({name:`${g.days}天定期票`,cost:g.averagePricePerMonth,type:"monthly",days:g.days,savings:g.savings,averagePricePerMonth:g.averagePricePerMonth,price:g.price,originalPrice:g.totalCost})),{name:"TPass 799",cost:o.tpassTotal,type:"tpass"}],c=((g,m)=>{const p={bestValue:null,mostFlexible:null,bestForFrequent:null,bestForOccasional:null};return p.bestValue=m.reduce((v,y)=>y.cost<v.cost?y:v),p.mostFlexible=m.find(v=>v.type==="original"||v.type==="citizen")||p.bestValue,g.totalTrips>20?p.bestForFrequent=m.find(v=>v.type==="tpass")||p.bestValue:g.totalTrips<10?p.bestForOccasional=m.find(v=>v.type==="original"||v.type==="citizen")||p.bestValue:(p.bestForFrequent=p.bestValue,p.bestForOccasional=p.bestValue),p})(o,l),f=c.bestValue;return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-xl p-6 border border-blue-400/30",children:[d.jsx("h3",{className:"text-xl font-bold text-blue-300 mb-4",children:"車費試算結果"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-white",children:o.employeeName}),d.jsx("div",{className:"text-sm text-gray-400",children:"同事"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-300",children:o.location}),d.jsx("div",{className:"text-sm text-gray-400",children:"上車地點"})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-purple-300",children:[o.totalTrips," 次"]}),d.jsx("div",{className:"text-sm text-gray-400",children:"總搭乘次數"})]})]})]}),d.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/20",children:[d.jsx("h4",{className:"text-lg font-semibold text-purple-300 mb-4",children:"車費方案比較"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4",children:l.map((g,m)=>{var p,v,y;return d.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border transition-all duration-300 relative transform hover:scale-105 hover:shadow-lg animate-fade-in-up ${g.cost===f.cost?"bg-green-500/20 border-green-400/50 text-green-300 ring-2 ring-green-400/30":"bg-surface/20 border-white/20 text-white hover:bg-surface/30"}`,style:{animationDelay:`${m*100}ms`,animationFillMode:"both"},children:[d.jsxs("div",{className:"absolute -top-2 -right-2 flex flex-col gap-1",children:[g.cost===f.cost&&d.jsx("div",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg animate-pulse",children:"🏆 最划算"}),g.cost===((p=c.mostFlexible)==null?void 0:p.cost)&&g.type!=="original"&&d.jsx("div",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"🎯 最靈活"}),g.cost===((v=c.bestForFrequent)==null?void 0:v.cost)&&o.totalTrips>20&&d.jsx("div",{className:"bg-purple-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"⚡ 常搭推薦"}),g.cost===((y=c.bestForOccasional)==null?void 0:y.cost)&&o.totalTrips<10&&d.jsx("div",{className:"bg-orange-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"💡 偶爾搭"})]}),d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g.type==="original"&&d.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),g.type==="citizen"&&d.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V4a2 2 0 114 0v2m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})}),g.type==="monthly"&&d.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),g.type==="tpass"&&d.jsx("svg",{className:"w-5 h-5 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),d.jsx("span",{className:"font-semibold text-sm",children:g.name})]}),d.jsxs("div",{className:"text-xl sm:text-2xl font-bold mb-2 transition-all duration-300 animate-price-change",children:["$",g.cost]}),g.type==="monthly"&&d.jsx("div",{className:"text-xs text-gray-400 mb-1",children:d.jsxs("span",{className:"text-xs text-gray-500",children:["票券原價 $",g.originalPrice]})}),g.type==="tpass"&&d.jsx("div",{className:"text-xs text-gray-400",children:"A22-A7 坐到哭"})]},m)})})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gradient-to-r from-indigo-500/20 to-purple-500/20 rounded-xl p-6 border border-indigo-400/30",children:[d.jsx("h4",{className:"text-xl font-bold text-indigo-300 mb-6",children:"車費分析儀表板"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",Math.min(...l.map(g=>g.cost))]}),d.jsx("div",{className:"text-sm text-gray-400",children:"最低費用"})]}),d.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-red-400",children:["$",Math.max(...l.map(g=>g.cost))]}),d.jsx("div",{className:"text-sm text-gray-400",children:"最高費用"})]}),d.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-orange-400",children:["$",o.originalTotal-Math.min(...l.map(g=>g.cost))]}),d.jsx("div",{className:"text-sm text-gray-400",children:"最大節省"})]}),d.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-400",children:l.length}),d.jsx("div",{className:"text-sm text-gray-400",children:"方案數量"})]})]})]}),d.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 via-teal-500/5 to-cyan-500/10 rounded-xl p-6 border border-emerald-400/20 shadow-lg",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[d.jsx("h5",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-emerald-300 to-teal-300 bg-clip-text text-transparent",children:"搭乘次數 vs 費用效益分析"}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[d.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-emerald-400"}),d.jsx("span",{className:"hidden sm:inline",children:"即時分析"})]})]}),d.jsx(ma,{width:"100%",height:200,className:"sm:h-[250px]",children:d.jsxs(C_,{data:Array.from({length:40},(g,m)=>{const p=m+1,v=p*o.originalTotal/o.totalTrips,y=Math.ceil(v*.7),w=799,B=o.monthlyPassOptions.find(T=>T.days===120),I=B?B.averagePricePerMonth:486;return{trips:p,原價:Math.round(v),市民卡:y,TPass:w,"120天票":Math.round(I)}}),children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"originalGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.8}),d.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:.1})]}),d.jsxs("linearGradient",{id:"citizenGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),d.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),d.jsxs("linearGradient",{id:"tpassGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.8}),d.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:.1})]}),d.jsxs("linearGradient",{id:"monthlyGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),d.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})]}),d.jsx(eA,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),d.jsx(Oa,{dataKey:"trips",stroke:"#9ca3af",fontSize:10,className:"sm:text-xs",tickLine:!1,axisLine:{stroke:"#4b5563",strokeWidth:1},interval:"preserveStartEnd",label:{value:"搭乘次數",position:"insideBottom",offset:-5,style:{textAnchor:"middle",fill:"#9ca3af",fontSize:"11px",fontWeight:"500"}}}),d.jsx(Da,{stroke:"#9ca3af",fontSize:10,className:"sm:text-xs",tickLine:!1,axisLine:{stroke:"#4b5563",strokeWidth:1},tickFormatter:g=>`$${g}`,width:50,label:{value:"費用",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9ca3af",fontSize:"11px",fontWeight:"500"}}}),d.jsx(pa,{formatter:(g,m)=>[`$${g}`,m],labelFormatter:g=>`搭乘 ${g} 次`,contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"12px",color:"#fff",boxShadow:"0 10px 25px rgba(0,0,0,0.3)",padding:"12px"},cursor:{stroke:"#6b7280",strokeWidth:1,strokeDasharray:"3 3"}}),d.jsx(Hn,{type:"monotone",dataKey:"原價",stroke:"#ef4444",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#ef4444",strokeWidth:1,fill:"#fff"}}),d.jsx(Hn,{type:"monotone",dataKey:"市民卡",stroke:"#3b82f6",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#3b82f6",strokeWidth:1,fill:"#fff"}}),d.jsx(Hn,{type:"monotone",dataKey:"TPass",stroke:"#f59e0b",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#f59e0b",strokeWidth:1,fill:"#fff"}}),d.jsx(Hn,{type:"monotone",dataKey:"120天票",stroke:"#10b981",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#10b981",strokeWidth:1,fill:"#fff"}})]})}),d.jsx("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 bg-surface/20 rounded-lg border border-emerald-400/10",children:d.jsxs("div",{className:"text-xs sm:text-sm text-gray-300 leading-relaxed",children:["此圖顯示不同搭乘次數下各方案的費用變化，幫助您了解在什麼情況下哪種方案最划算。",d.jsx("span",{className:"text-emerald-300 font-medium",children:"交叉點"}),"表示方案間的轉換時機。"]})})]})]})]})}function b0e({schedule:t,names:e,displayDates:r,selectedEmployee:n}){if(!n)return d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"請選擇一位同事來查看搭班情況"}),d.jsx("div",{className:"text-gray-500 text-sm",children:"在左側選擇同事後，將顯示該同事每天的搭班同事"})]});const i=o=>{var u;const A=(u=t[n])==null?void 0:u[o];if(!A||A==="休")return[];const l=[];return Object.keys(t).forEach(c=>{var g;if(c==="_lastUpdated"||c===n)return;const f=(g=t[c])==null?void 0:g[o];!f||f==="休"||(f===A?l.push({id:c,name:e[c]||c,shift:f,type:"同班"}):(A==="早"&&f==="中"||A==="中"&&f==="晚"||A==="中"&&f==="早"||A==="晚"&&f==="中")&&l.push({id:c,name:e[c]||c,shift:f,type:"跨班"}))}),l},s=o=>{switch(o){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}},a=o=>{switch(o){case"同班":return"bg-green-500/20 border-green-400/30 text-green-300";case"跨班":return"bg-purple-500/20 border-purple-400/30 text-purple-300";default:return"bg-gray-500/20 border-gray-400/30 text-gray-300"}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-xl p-4 sm:p-6 border border-purple-400/30",children:[d.jsx("h3",{className:"text-lg sm:text-xl font-bold text-purple-300 mb-2",children:"每日搭班視圖"}),d.jsx("div",{className:"flex items-center gap-2 sm:gap-4",children:d.jsxs("div",{className:"text-white font-semibold text-sm sm:text-base",children:["同事：",d.jsx("span",{className:"text-purple-300",children:e[n]||n})]})})]}),d.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 gap-2 sm:gap-3 md:gap-4",children:r.map(o=>{var c;const A=o===new Date().getDate(),l=(c=t[n])==null?void 0:c[o],u=i(o);return d.jsxs("div",{className:`bg-surface/60 rounded-xl p-2 sm:p-3 md:p-4 border transition-all duration-200 ${A?"border-primary/50 bg-primary/10 ring-2 ring-primary/30":"border-white/20 hover:border-white/30"}`,children:[d.jsxs("div",{className:"text-center mb-2 sm:mb-3",children:[d.jsx("div",{className:`text-sm sm:text-base md:text-lg font-bold ${A?"text-primary":"text-white"}`,children:o}),d.jsx("div",{className:"text-xs text-gray-400 hidden sm:block",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),o).getDay()]})]}),d.jsxs("div",{className:"mb-2 sm:mb-3",children:[d.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"我的班次"}),l?d.jsx("div",{className:`px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-center text-xs sm:text-sm font-bold ${s(l)}`,children:l}):d.jsx("div",{className:"px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-center text-xs sm:text-sm text-gray-400 bg-surface/20 border border-white/10",children:"無班次"})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-xs text-gray-400 mb-1 sm:mb-2",children:["搭班同事 (",u.length,")"]}),u.length>0?d.jsx("div",{className:"space-y-1 sm:space-y-2",children:u.map(f=>d.jsxs("div",{className:`p-1 sm:p-2 rounded-lg border text-xs ${a(f.type)}`,children:[d.jsx("div",{className:"font-medium mb-0.5 sm:mb-1 text-xs sm:text-xs truncate",children:f.name}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-xs opacity-80 hidden sm:inline",children:f.type}),d.jsx("div",{className:`px-1 sm:px-2 py-0.5 sm:py-1 rounded text-xs font-bold ${s(f.shift)}`,children:f.shift})]})]},f.id))}):d.jsx("div",{className:"text-xs text-gray-500 text-center py-1 sm:py-2",children:l&&l!=="休"?"無搭班同事":"休息日"})]})]},o)})})]})}function B0e(){const[t,e]=x.useState(""),[r,n]=x.useState(""),i=()=>{if(!t.trim()){n("請輸入測試資料");return}const s=t.trim().split(`
`);let a=`資料格式分析結果：

`;a+=`總行數: ${s.length}

`,s.forEach((o,A)=>{if(!o.trim()){a+=`第 ${A+1} 行: 空白行
`;return}a+=`第 ${A+1} 行: "${o}"
`;const l=o.split("	"),u=o.split(/\s+/);a+=`  Tab 分隔: ${l.length} 個欄位
`,a+=`  空格分隔: ${u.length} 個欄位
`,l.length>=2?(a+=`  職員編號: "${l[0].trim()}"
`,a+=`  姓名: "${l[1].trim()}"
`,a+=`  班表欄位數: ${l.length-2}
`):u.length>=2?(a+=`  職員編號: "${u[0].trim()}"
`,a+=`  姓名: "${u[1].trim()}"
`,a+=`  班表欄位數: ${u.length-2}
`):a+=`  ❌ 格式錯誤：欄位數不足
`,a+=`
`}),n(a)};return d.jsxs("div",{className:"container-custom py-8",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"資料格式測試工具"}),d.jsx("p",{className:"text-center text-text-secondary",children:"檢查 Excel 資料格式是否正確"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-400",children:"輸入測試資料"}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",children:"從 Excel 複製的資料"}),d.jsx("textarea",{value:t,onChange:s=>e(s.target.value),placeholder:"請從 Excel 複製資料並貼上這裡...",className:"w-full h-64 px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-blue-400/50 focus:bg-white/10 resize-none"})]}),d.jsx("button",{onClick:i,className:"px-6 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-400 rounded-lg transition-all",children:"分析資料格式"})]}),d.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-green-400",children:"分析結果"}),d.jsx("div",{className:"bg-surface/20 rounded-lg p-4 border border-white/5",children:d.jsx("pre",{className:"text-sm text-text-secondary whitespace-pre-wrap font-mono",children:r||"請輸入資料並點擊「分析資料格式」"})})]})]}),d.jsxs("div",{className:"mt-8 bg-surface/40 rounded-xl p-6 border border-white/10",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-400",children:"正確的資料格式"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-semibold mb-2 text-orange-400",children:"Excel 格式要求"}),d.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary",children:[d.jsx("li",{children:"第一欄：職員編號（如 A45、A51）"}),d.jsx("li",{children:"第二欄：姓名（如 林小余、黃紅葉）"}),d.jsx("li",{children:"第三欄開始：每日班表（如 K、Y、L、月休）"}),d.jsx("li",{children:"欄位之間用 Tab 鍵分隔"}),d.jsx("li",{children:"每行代表一位同仁的完整班表"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-semibold mb-2 text-green-400",children:"範例資料"}),d.jsx("div",{className:"bg-surface/20 rounded-lg p-4 border border-white/5",children:d.jsx("pre",{className:"text-sm text-text-secondary font-mono",children:`A45	林小余	K	K	Y	L	月休	Y
A51	黃紅葉	K	K	Y	L	K	Y
A60	李Ashley	Y	L	K	Y	L	K`})})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-semibold mb-2 text-red-400",children:"常見問題"}),d.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary",children:[d.jsx("li",{children:"複製時沒有包含 Tab 分隔符"}),d.jsx("li",{children:"職員編號或姓名為空"}),d.jsx("li",{children:"資料行數不足"}),d.jsx("li",{children:"包含多餘的空格或特殊字符"})]})]})]})]})]})}const C0e=x.lazy(()=>$o(()=>import("./CashierManagement-BDCGLHX5.js"),[])),E0e=x.lazy(()=>$o(()=>import("./AdminPanel-CXZ8IekS.js"),[]));function _0e(){const[t,e]=x.useState({checked:!1,connected:!1,error:null});return x.useEffect(()=>{(async()=>{try{const n=await eX();e({checked:!0,connected:n,error:n?null:"無法連接到 Firebase"})}catch(n){console.error("檢查 Firebase 連接時出錯:",n),e({checked:!0,connected:!1,error:n.message||"無法連接到 Firebase"})}})()},[]),d.jsx(HX,{children:d.jsx(W6,{children:d.jsxs(RX,{children:[t.checked&&!t.connected&&d.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 m-4",children:[d.jsx("h3",{className:"text-amber-500 font-bold mb-2",children:"Firebase 連接警告"}),d.jsxs("p",{className:"text-sm text-text-secondary",children:["應用程序無法連接到 Firebase 服務。部分功能可能無法正常工作。",t.error&&d.jsxs("span",{className:"block mt-1",children:["錯誤: ",t.error]})]}),d.jsx("p",{className:"text-xs text-text-secondary mt-2",children:"您仍然可以使用應用程序，但數據將不會同步到雲端。"})]}),d.jsx(x.Suspense,{fallback:d.jsx(LX,{}),children:d.jsxs(L6,{children:[d.jsx(kn,{path:"/",element:d.jsx(j6,{to:"/sandwich",replace:!0})}),d.jsx(kn,{path:"/sandwich",element:d.jsx(WX,{})}),d.jsx(kn,{path:"/cashier",element:d.jsx(C0e,{})}),d.jsx(kn,{path:"/alcohol",element:d.jsx(GX,{})}),d.jsx(kn,{path:"/coffee-beans",element:d.jsx(XX,{})}),d.jsx(kn,{path:"/daily-reports",element:d.jsx(JX,{})}),d.jsx(kn,{path:"/schedule",element:d.jsx(a0e,{})}),d.jsx(kn,{path:"/data-tester",element:d.jsx(B0e,{})}),d.jsx(kn,{path:"/poursteady",element:d.jsx(KX,{})}),d.jsx(kn,{path:"/admin",element:d.jsx(E0e,{})}),d.jsx(kn,{path:"*",element:d.jsx(MX,{})})]})})]})})})}yw.createRoot(document.getElementById("root")).render(d.jsx(Fm.StrictMode,{children:d.jsx(_0e,{})}));export{jd as F,$o as _,Xz as a,sr as b,aX as c,Ii as d,Jc as e,Yc as f,lX as g,k0e as h,N0e as i,d as j,O0e as k,DD as l,tX as m,Yz as n,Od as o,oX as p,pX as q,x as r,Oo as s,LD as t,Bk as u,Q0e as v,J7 as w};
