var VH=Object.defineProperty;var KH=(t,e,r)=>e in t?VH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ay=(t,e,r)=>KH(t,typeof e!="symbol"?e+"":e,r);function $H(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function Ki(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var BN={exports:{}},Zp={},CN={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yf=Symbol.for("react.element"),GH=Symbol.for("react.portal"),zH=Symbol.for("react.fragment"),WH=Symbol.for("react.strict_mode"),YH=Symbol.for("react.profiler"),XH=Symbol.for("react.provider"),qH=Symbol.for("react.context"),JH=Symbol.for("react.forward_ref"),ZH=Symbol.for("react.suspense"),eV=Symbol.for("react.memo"),tV=Symbol.for("react.lazy"),_I=Symbol.iterator;function rV(t){return t===null||typeof t!="object"?null:(t=_I&&t[_I]||t["@@iterator"],typeof t=="function"?t:null)}var EN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_N=Object.assign,IN={};function Su(t,e,r){this.props=t,this.context=e,this.refs=IN,this.updater=r||EN}Su.prototype.isReactComponent={};Su.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Su.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function SN(){}SN.prototype=Su.prototype;function PB(t,e,r){this.props=t,this.context=e,this.refs=IN,this.updater=r||EN}var NB=PB.prototype=new SN;NB.constructor=PB;_N(NB,Su.prototype);NB.isPureReactComponent=!0;var II=Array.isArray,TN=Object.prototype.hasOwnProperty,QB={current:null},FN={key:!0,ref:!0,__self:!0,__source:!0};function UN(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)TN.call(e,n)&&!FN.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var A=Array(o),l=0;l<o;l++)A[l]=arguments[l+2];i.children=A}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:yf,type:t,key:s,ref:a,props:i,_owner:QB.current}}function nV(t,e){return{$$typeof:yf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kB(t){return typeof t=="object"&&t!==null&&t.$$typeof===yf}function iV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var SI=/\/+/g;function ly(t,e){return typeof t=="object"&&t!==null&&t.key!=null?iV(""+t.key):e.toString(36)}function Pg(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case yf:case GH:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+ly(a,0):n,II(i)?(r="",t!=null&&(r=t.replace(SI,"$&/")+"/"),Pg(i,e,r,"",function(l){return l})):i!=null&&(kB(i)&&(i=nV(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(SI,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",II(t))for(var o=0;o<t.length;o++){s=t[o];var A=n+ly(s,o);a+=Pg(s,e,r,A,i)}else if(A=rV(t),typeof A=="function")for(t=A.call(t),o=0;!(s=t.next()).done;)s=s.value,A=n+ly(s,o++),a+=Pg(s,e,r,A,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function wh(t,e,r){if(t==null)return t;var n=[],i=0;return Pg(t,n,"","",function(s){return e.call(r,s,i++)}),n}function sV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wr={current:null},Ng={transition:null},aV={ReactCurrentDispatcher:Wr,ReactCurrentBatchConfig:Ng,ReactCurrentOwner:QB};function PN(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:wh,forEach:function(t,e,r){wh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return wh(t,function(){e++}),e},toArray:function(t){return wh(t,function(e){return e})||[]},only:function(t){if(!kB(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=Su;ke.Fragment=zH;ke.Profiler=YH;ke.PureComponent=PB;ke.StrictMode=WH;ke.Suspense=ZH;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aV;ke.act=PN;ke.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=_N({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=QB.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(A in e)TN.call(e,A)&&!FN.hasOwnProperty(A)&&(n[A]=e[A]===void 0&&o!==void 0?o[A]:e[A])}var A=arguments.length-2;if(A===1)n.children=r;else if(1<A){o=Array(A);for(var l=0;l<A;l++)o[l]=arguments[l+2];n.children=o}return{$$typeof:yf,type:t.type,key:i,ref:s,props:n,_owner:a}};ke.createContext=function(t){return t={$$typeof:qH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:XH,_context:t},t.Consumer=t};ke.createElement=UN;ke.createFactory=function(t){var e=UN.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:JH,render:t}};ke.isValidElement=kB;ke.lazy=function(t){return{$$typeof:tV,_payload:{_status:-1,_result:t},_init:sV}};ke.memo=function(t,e){return{$$typeof:eV,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=Ng.transition;Ng.transition={};try{t()}finally{Ng.transition=e}};ke.unstable_act=PN;ke.useCallback=function(t,e){return Wr.current.useCallback(t,e)};ke.useContext=function(t){return Wr.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return Wr.current.useDeferredValue(t)};ke.useEffect=function(t,e){return Wr.current.useEffect(t,e)};ke.useId=function(){return Wr.current.useId()};ke.useImperativeHandle=function(t,e,r){return Wr.current.useImperativeHandle(t,e,r)};ke.useInsertionEffect=function(t,e){return Wr.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return Wr.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return Wr.current.useMemo(t,e)};ke.useReducer=function(t,e,r){return Wr.current.useReducer(t,e,r)};ke.useRef=function(t){return Wr.current.useRef(t)};ke.useState=function(t){return Wr.current.useState(t)};ke.useSyncExternalStore=function(t,e,r){return Wr.current.useSyncExternalStore(t,e,r)};ke.useTransition=function(){return Wr.current.useTransition()};ke.version="18.3.1";CN.exports=ke;var x=CN.exports;const lA=Ki(x),NN=$H({__proto__:null,default:lA},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oV=x,AV=Symbol.for("react.element"),lV=Symbol.for("react.fragment"),uV=Object.prototype.hasOwnProperty,cV=oV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dV={key:!0,ref:!0,__self:!0,__source:!0};function QN(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)uV.call(e,n)&&!dV.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:AV,type:t,key:s,ref:a,props:i,_owner:cV.current}}Zp.Fragment=lV;Zp.jsx=QN;Zp.jsxs=QN;BN.exports=Zp;var c=BN.exports,Lw={},kN={exports:{}},Un={},ON={exports:{}},DN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,ie){var ue=J.length;J.push(ie);e:for(;0<ue;){var Se=ue-1>>>1,ne=J[Se];if(0<i(ne,ie))J[Se]=ie,J[ue]=ne,ue=Se;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var ie=J[0],ue=J.pop();if(ue!==ie){J[0]=ue;e:for(var Se=0,ne=J.length,Pe=ne>>>1;Se<Pe;){var Ye=2*(Se+1)-1,D=J[Ye],V=Ye+1,j=J[V];if(0>i(D,ue))V<ne&&0>i(j,D)?(J[Se]=j,J[V]=ue,Se=V):(J[Se]=D,J[Ye]=ue,Se=Ye);else if(V<ne&&0>i(j,ue))J[Se]=j,J[V]=ue,Se=V;else break e}}return ie}function i(J,ie){var ue=J.sortIndex-ie.sortIndex;return ue!==0?ue:J.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var A=[],l=[],u=1,d=null,f=3,g=!1,m=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(J){for(var ie=r(l);ie!==null;){if(ie.callback===null)n(l);else if(ie.startTime<=J)n(l),ie.sortIndex=ie.expirationTime,e(A,ie);else break;ie=r(l)}}function I(J){if(p=!1,B(J),!m)if(r(A)!==null)m=!0,me(T);else{var ie=r(l);ie!==null&&pe(I,ie.startTime-J)}}function T(J,ie){m=!1,p&&(p=!1,y(_),_=-1),g=!0;var ue=f;try{for(B(ie),d=r(A);d!==null&&(!(d.expirationTime>ie)||J&&!Q());){var Se=d.callback;if(typeof Se=="function"){d.callback=null,f=d.priorityLevel;var ne=Se(d.expirationTime<=ie);ie=t.unstable_now(),typeof ne=="function"?d.callback=ne:d===r(A)&&n(A),B(ie)}else n(A);d=r(A)}if(d!==null)var Pe=!0;else{var Ye=r(l);Ye!==null&&pe(I,Ye.startTime-ie),Pe=!1}return Pe}finally{d=null,f=ue,g=!1}}var F=!1,C=null,_=-1,S=5,P=-1;function Q(){return!(t.unstable_now()-P<S)}function k(){if(C!==null){var J=t.unstable_now();P=J;var ie=!0;try{ie=C(!0,J)}finally{ie?N():(F=!1,C=null)}}else F=!1}var N;if(typeof w=="function")N=function(){w(k)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,be=ae.port2;ae.port1.onmessage=k,N=function(){be.postMessage(null)}}else N=function(){v(k,0)};function me(J){C=J,F||(F=!0,N())}function pe(J,ie){_=v(function(){J(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,me(T))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(A)},t.unstable_next=function(J){switch(f){case 1:case 2:case 3:var ie=3;break;default:ie=f}var ue=f;f=ie;try{return J()}finally{f=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,ie){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ue=f;f=J;try{return ie()}finally{f=ue}},t.unstable_scheduleCallback=function(J,ie,ue){var Se=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Se+ue:Se):ue=Se,J){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ue+ne,J={id:u++,callback:ie,priorityLevel:J,startTime:ue,expirationTime:ne,sortIndex:-1},ue>Se?(J.sortIndex=ue,e(l,J),r(A)===null&&J===r(l)&&(p?(y(_),_=-1):p=!0,pe(I,ue-Se))):(J.sortIndex=ne,e(A,J),m||g||(m=!0,me(T))),J},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(J){var ie=f;return function(){var ue=f;f=ie;try{return J.apply(this,arguments)}finally{f=ue}}}})(DN);ON.exports=DN;var fV=ON.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hV=x,En=fV;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jN=new Set,_d={};function SA(t,e){Xl(t,e),Xl(t+"Capture",e)}function Xl(t,e){for(_d[t]=e,t=0;t<e.length;t++)jN.add(e[t])}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hw=Object.prototype.hasOwnProperty,gV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TI={},FI={};function mV(t){return Hw.call(FI,t)?!0:Hw.call(TI,t)?!1:gV.test(t)?FI[t]=!0:(TI[t]=!0,!1)}function pV(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vV(t,e,r,n){if(e===null||typeof e>"u"||pV(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Br[t]=new Yr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Br[e]=new Yr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Br[t]=new Yr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Br[t]=new Yr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Br[t]=new Yr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Br[t]=new Yr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Br[t]=new Yr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Br[t]=new Yr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Br[t]=new Yr(t,5,!1,t.toLowerCase(),null,!1,!1)});var OB=/[\-:]([a-z])/g;function DB(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(OB,DB);Br[e]=new Yr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(OB,DB);Br[e]=new Yr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(OB,DB);Br[e]=new Yr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Br[t]=new Yr(t,1,!1,t.toLowerCase(),null,!1,!1)});Br.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Br[t]=new Yr(t,1,!1,t.toLowerCase(),null,!0,!0)});function jB(t,e,r,n){var i=Br.hasOwnProperty(e)?Br[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vV(e,r,i,n)&&(r=null),n||i===null?mV(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var js=hV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xh=Symbol.for("react.element"),yl=Symbol.for("react.portal"),wl=Symbol.for("react.fragment"),RB=Symbol.for("react.strict_mode"),Vw=Symbol.for("react.profiler"),RN=Symbol.for("react.provider"),MN=Symbol.for("react.context"),MB=Symbol.for("react.forward_ref"),Kw=Symbol.for("react.suspense"),$w=Symbol.for("react.suspense_list"),LB=Symbol.for("react.memo"),oa=Symbol.for("react.lazy"),LN=Symbol.for("react.offscreen"),UI=Symbol.iterator;function lc(t){return t===null||typeof t!="object"?null:(t=UI&&t[UI]||t["@@iterator"],typeof t=="function"?t:null)}var Tt=Object.assign,uy;function kc(t){if(uy===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);uy=e&&e[1]||""}return`
`+uy+t}var cy=!1;function dy(t,e){if(!t||cy)return"";cy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var A=`
`+i[a].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=a&&0<=o);break}}}finally{cy=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?kc(t):""}function yV(t){switch(t.tag){case 5:return kc(t.type);case 16:return kc("Lazy");case 13:return kc("Suspense");case 19:return kc("SuspenseList");case 0:case 2:case 15:return t=dy(t.type,!1),t;case 11:return t=dy(t.type.render,!1),t;case 1:return t=dy(t.type,!0),t;default:return""}}function Gw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wl:return"Fragment";case yl:return"Portal";case Vw:return"Profiler";case RB:return"StrictMode";case Kw:return"Suspense";case $w:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case MN:return(t.displayName||"Context")+".Consumer";case RN:return(t._context.displayName||"Context")+".Provider";case MB:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case LB:return e=t.displayName||null,e!==null?e:Gw(t.type)||"Memo";case oa:e=t._payload,t=t._init;try{return Gw(t(e))}catch{}}return null}function wV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gw(e);case 8:return e===RB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ga(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function HN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xV(t){var e=HN(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bh(t){t._valueTracker||(t._valueTracker=xV(t))}function VN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=HN(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function um(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zw(t,e){var r=e.checked;return Tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function PI(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ga(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function KN(t,e){e=e.checked,e!=null&&jB(t,"checked",e,!1)}function Ww(t,e){KN(t,e);var r=Ga(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yw(t,e.type,r):e.hasOwnProperty("defaultValue")&&Yw(t,e.type,Ga(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function NI(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Yw(t,e,r){(e!=="number"||um(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Oc=Array.isArray;function Dl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ga(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Xw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return Tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function QI(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(re(92));if(Oc(r)){if(1<r.length)throw Error(re(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ga(r)}}function $N(t,e){var r=Ga(e.value),n=Ga(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function kI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function GN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?GN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bh,zN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bh=Bh||document.createElement("div"),Bh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Id(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ed={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bV=["Webkit","ms","Moz","O"];Object.keys(ed).forEach(function(t){bV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ed[e]=ed[t]})});function WN(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ed.hasOwnProperty(t)&&ed[t]?(""+e).trim():e+"px"}function YN(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=WN(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var BV=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jw(t,e){if(e){if(BV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function Zw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ex=null;function HB(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tx=null,jl=null,Rl=null;function OI(t){if(t=bf(t)){if(typeof tx!="function")throw Error(re(280));var e=t.stateNode;e&&(e=i0(e),tx(t.stateNode,t.type,e))}}function XN(t){jl?Rl?Rl.push(t):Rl=[t]:jl=t}function qN(){if(jl){var t=jl,e=Rl;if(Rl=jl=null,OI(t),e)for(t=0;t<e.length;t++)OI(e[t])}}function JN(t,e){return t(e)}function ZN(){}var fy=!1;function eQ(t,e,r){if(fy)return t(e,r);fy=!0;try{return JN(t,e,r)}finally{fy=!1,(jl!==null||Rl!==null)&&(ZN(),qN())}}function Sd(t,e){var r=t.stateNode;if(r===null)return null;var n=i0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(re(231,e,typeof r));return r}var rx=!1;if(Es)try{var uc={};Object.defineProperty(uc,"passive",{get:function(){rx=!0}}),window.addEventListener("test",uc,uc),window.removeEventListener("test",uc,uc)}catch{rx=!1}function CV(t,e,r,n,i,s,a,o,A){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var td=!1,cm=null,dm=!1,nx=null,EV={onError:function(t){td=!0,cm=t}};function _V(t,e,r,n,i,s,a,o,A){td=!1,cm=null,CV.apply(EV,arguments)}function IV(t,e,r,n,i,s,a,o,A){if(_V.apply(this,arguments),td){if(td){var l=cm;td=!1,cm=null}else throw Error(re(198));dm||(dm=!0,nx=l)}}function TA(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function tQ(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function DI(t){if(TA(t)!==t)throw Error(re(188))}function SV(t){var e=t.alternate;if(!e){if(e=TA(t),e===null)throw Error(re(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return DI(i),t;if(s===n)return DI(i),e;s=s.sibling}throw Error(re(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?t:e}function rQ(t){return t=SV(t),t!==null?nQ(t):null}function nQ(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nQ(t);if(e!==null)return e;t=t.sibling}return null}var iQ=En.unstable_scheduleCallback,jI=En.unstable_cancelCallback,TV=En.unstable_shouldYield,FV=En.unstable_requestPaint,Rt=En.unstable_now,UV=En.unstable_getCurrentPriorityLevel,VB=En.unstable_ImmediatePriority,sQ=En.unstable_UserBlockingPriority,fm=En.unstable_NormalPriority,PV=En.unstable_LowPriority,aQ=En.unstable_IdlePriority,e0=null,ki=null;function NV(t){if(ki&&typeof ki.onCommitFiberRoot=="function")try{ki.onCommitFiberRoot(e0,t,void 0,(t.current.flags&128)===128)}catch{}}var vi=Math.clz32?Math.clz32:OV,QV=Math.log,kV=Math.LN2;function OV(t){return t>>>=0,t===0?32:31-(QV(t)/kV|0)|0}var Ch=64,Eh=4194304;function Dc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hm(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Dc(o):(s&=a,s!==0&&(n=Dc(s)))}else a=r&~i,a!==0?n=Dc(a):s!==0&&(n=Dc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-vi(e),i=1<<r,n|=t[r],e&=~i;return n}function DV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jV(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-vi(s),o=1<<a,A=i[a];A===-1?(!(o&r)||o&n)&&(i[a]=DV(o,e)):A<=e&&(t.expiredLanes|=o),s&=~o}}function ix(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oQ(){var t=Ch;return Ch<<=1,!(Ch&4194240)&&(Ch=64),t}function hy(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function wf(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vi(e),t[e]=r}function RV(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-vi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function KB(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-vi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Je=0;function AQ(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lQ,$B,uQ,cQ,dQ,sx=!1,_h=[],_a=null,Ia=null,Sa=null,Td=new Map,Fd=new Map,ca=[],MV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function RI(t,e){switch(t){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":Td.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fd.delete(e.pointerId)}}function cc(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=bf(e),e!==null&&$B(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LV(t,e,r,n,i){switch(e){case"focusin":return _a=cc(_a,t,e,r,n,i),!0;case"dragenter":return Ia=cc(Ia,t,e,r,n,i),!0;case"mouseover":return Sa=cc(Sa,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Td.set(s,cc(Td.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Fd.set(s,cc(Fd.get(s)||null,t,e,r,n,i)),!0}return!1}function fQ(t){var e=Ho(t.target);if(e!==null){var r=TA(e);if(r!==null){if(e=r.tag,e===13){if(e=tQ(r),e!==null){t.blockedOn=e,dQ(t.priority,function(){uQ(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ax(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ex=n,r.target.dispatchEvent(n),ex=null}else return e=bf(r),e!==null&&$B(e),t.blockedOn=r,!1;e.shift()}return!0}function MI(t,e,r){Qg(t)&&r.delete(e)}function HV(){sx=!1,_a!==null&&Qg(_a)&&(_a=null),Ia!==null&&Qg(Ia)&&(Ia=null),Sa!==null&&Qg(Sa)&&(Sa=null),Td.forEach(MI),Fd.forEach(MI)}function dc(t,e){t.blockedOn===e&&(t.blockedOn=null,sx||(sx=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,HV)))}function Ud(t){function e(i){return dc(i,t)}if(0<_h.length){dc(_h[0],t);for(var r=1;r<_h.length;r++){var n=_h[r];n.blockedOn===t&&(n.blockedOn=null)}}for(_a!==null&&dc(_a,t),Ia!==null&&dc(Ia,t),Sa!==null&&dc(Sa,t),Td.forEach(e),Fd.forEach(e),r=0;r<ca.length;r++)n=ca[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ca.length&&(r=ca[0],r.blockedOn===null);)fQ(r),r.blockedOn===null&&ca.shift()}var Ml=js.ReactCurrentBatchConfig,gm=!0;function VV(t,e,r,n){var i=Je,s=Ml.transition;Ml.transition=null;try{Je=1,GB(t,e,r,n)}finally{Je=i,Ml.transition=s}}function KV(t,e,r,n){var i=Je,s=Ml.transition;Ml.transition=null;try{Je=4,GB(t,e,r,n)}finally{Je=i,Ml.transition=s}}function GB(t,e,r,n){if(gm){var i=ax(t,e,r,n);if(i===null)Cy(t,e,n,mm,r),RI(t,n);else if(LV(i,t,e,r,n))n.stopPropagation();else if(RI(t,n),e&4&&-1<MV.indexOf(t)){for(;i!==null;){var s=bf(i);if(s!==null&&lQ(s),s=ax(t,e,r,n),s===null&&Cy(t,e,n,mm,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Cy(t,e,n,null,r)}}var mm=null;function ax(t,e,r,n){if(mm=null,t=HB(n),t=Ho(t),t!==null)if(e=TA(t),e===null)t=null;else if(r=e.tag,r===13){if(t=tQ(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mm=t,null}function hQ(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UV()){case VB:return 1;case sQ:return 4;case fm:case PV:return 16;case aQ:return 536870912;default:return 16}default:return 16}}var ma=null,zB=null,kg=null;function gQ(){if(kg)return kg;var t,e=zB,r=e.length,n,i="value"in ma?ma.value:ma.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return kg=i.slice(t,1<n?1-n:void 0)}function Og(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ih(){return!0}function LI(){return!1}function Pn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ih:LI,this.isPropagationStopped=LI,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ih)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ih)},persist:function(){},isPersistent:Ih}),e}var Tu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},WB=Pn(Tu),xf=Tt({},Tu,{view:0,detail:0}),$V=Pn(xf),gy,my,fc,t0=Tt({},xf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:YB,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fc&&(fc&&t.type==="mousemove"?(gy=t.screenX-fc.screenX,my=t.screenY-fc.screenY):my=gy=0,fc=t),gy)},movementY:function(t){return"movementY"in t?t.movementY:my}}),HI=Pn(t0),GV=Tt({},t0,{dataTransfer:0}),zV=Pn(GV),WV=Tt({},xf,{relatedTarget:0}),py=Pn(WV),YV=Tt({},Tu,{animationName:0,elapsedTime:0,pseudoElement:0}),XV=Pn(YV),qV=Tt({},Tu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JV=Pn(qV),ZV=Tt({},Tu,{data:0}),VI=Pn(ZV),eK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nK(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rK[t])?!!e[t]:!1}function YB(){return nK}var iK=Tt({},xf,{key:function(t){if(t.key){var e=eK[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Og(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tK[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:YB,charCode:function(t){return t.type==="keypress"?Og(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Og(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sK=Pn(iK),aK=Tt({},t0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KI=Pn(aK),oK=Tt({},xf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:YB}),AK=Pn(oK),lK=Tt({},Tu,{propertyName:0,elapsedTime:0,pseudoElement:0}),uK=Pn(lK),cK=Tt({},t0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dK=Pn(cK),fK=[9,13,27,32],XB=Es&&"CompositionEvent"in window,rd=null;Es&&"documentMode"in document&&(rd=document.documentMode);var hK=Es&&"TextEvent"in window&&!rd,mQ=Es&&(!XB||rd&&8<rd&&11>=rd),$I=" ",GI=!1;function pQ(t,e){switch(t){case"keyup":return fK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vQ(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xl=!1;function gK(t,e){switch(t){case"compositionend":return vQ(e);case"keypress":return e.which!==32?null:(GI=!0,$I);case"textInput":return t=e.data,t===$I&&GI?null:t;default:return null}}function mK(t,e){if(xl)return t==="compositionend"||!XB&&pQ(t,e)?(t=gQ(),kg=zB=ma=null,xl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mQ&&e.locale!=="ko"?null:e.data;default:return null}}var pK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pK[t.type]:e==="textarea"}function yQ(t,e,r,n){XN(n),e=pm(e,"onChange"),0<e.length&&(r=new WB("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var nd=null,Pd=null;function vK(t){FQ(t,0)}function r0(t){var e=Cl(t);if(VN(e))return t}function yK(t,e){if(t==="change")return e}var wQ=!1;if(Es){var vy;if(Es){var yy="oninput"in document;if(!yy){var WI=document.createElement("div");WI.setAttribute("oninput","return;"),yy=typeof WI.oninput=="function"}vy=yy}else vy=!1;wQ=vy&&(!document.documentMode||9<document.documentMode)}function YI(){nd&&(nd.detachEvent("onpropertychange",xQ),Pd=nd=null)}function xQ(t){if(t.propertyName==="value"&&r0(Pd)){var e=[];yQ(e,Pd,t,HB(t)),eQ(vK,e)}}function wK(t,e,r){t==="focusin"?(YI(),nd=e,Pd=r,nd.attachEvent("onpropertychange",xQ)):t==="focusout"&&YI()}function xK(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return r0(Pd)}function bK(t,e){if(t==="click")return r0(e)}function BK(t,e){if(t==="input"||t==="change")return r0(e)}function CK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wi=typeof Object.is=="function"?Object.is:CK;function Nd(t,e){if(wi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Hw.call(e,i)||!wi(t[i],e[i]))return!1}return!0}function XI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qI(t,e){var r=XI(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=XI(r)}}function bQ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bQ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function BQ(){for(var t=window,e=um();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=um(t.document)}return e}function qB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EK(t){var e=BQ(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&bQ(r.ownerDocument.documentElement,r)){if(n!==null&&qB(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=qI(r,s);var a=qI(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _K=Es&&"documentMode"in document&&11>=document.documentMode,bl=null,ox=null,id=null,Ax=!1;function JI(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ax||bl==null||bl!==um(n)||(n=bl,"selectionStart"in n&&qB(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),id&&Nd(id,n)||(id=n,n=pm(ox,"onSelect"),0<n.length&&(e=new WB("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=bl)))}function Sh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Bl={animationend:Sh("Animation","AnimationEnd"),animationiteration:Sh("Animation","AnimationIteration"),animationstart:Sh("Animation","AnimationStart"),transitionend:Sh("Transition","TransitionEnd")},wy={},CQ={};Es&&(CQ=document.createElement("div").style,"AnimationEvent"in window||(delete Bl.animationend.animation,delete Bl.animationiteration.animation,delete Bl.animationstart.animation),"TransitionEvent"in window||delete Bl.transitionend.transition);function n0(t){if(wy[t])return wy[t];if(!Bl[t])return t;var e=Bl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in CQ)return wy[t]=e[r];return t}var EQ=n0("animationend"),_Q=n0("animationiteration"),IQ=n0("animationstart"),SQ=n0("transitionend"),TQ=new Map,ZI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(t,e){TQ.set(t,e),SA(e,[t])}for(var xy=0;xy<ZI.length;xy++){var by=ZI[xy],IK=by.toLowerCase(),SK=by[0].toUpperCase()+by.slice(1);ao(IK,"on"+SK)}ao(EQ,"onAnimationEnd");ao(_Q,"onAnimationIteration");ao(IQ,"onAnimationStart");ao("dblclick","onDoubleClick");ao("focusin","onFocus");ao("focusout","onBlur");ao(SQ,"onTransitionEnd");Xl("onMouseEnter",["mouseout","mouseover"]);Xl("onMouseLeave",["mouseout","mouseover"]);Xl("onPointerEnter",["pointerout","pointerover"]);Xl("onPointerLeave",["pointerout","pointerover"]);SA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));SA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));SA("onBeforeInput",["compositionend","keypress","textInput","paste"]);SA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));SA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));SA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TK=new Set("cancel close invalid load scroll toggle".split(" ").concat(jc));function eS(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,IV(n,e,void 0,t),t.currentTarget=null}function FQ(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],A=o.instance,l=o.currentTarget;if(o=o.listener,A!==s&&i.isPropagationStopped())break e;eS(i,o,l),s=A}else for(a=0;a<n.length;a++){if(o=n[a],A=o.instance,l=o.currentTarget,o=o.listener,A!==s&&i.isPropagationStopped())break e;eS(i,o,l),s=A}}}if(dm)throw t=nx,dm=!1,nx=null,t}function ct(t,e){var r=e[fx];r===void 0&&(r=e[fx]=new Set);var n=t+"__bubble";r.has(n)||(UQ(e,t,2,!1),r.add(n))}function By(t,e,r){var n=0;e&&(n|=4),UQ(r,t,n,e)}var Th="_reactListening"+Math.random().toString(36).slice(2);function Qd(t){if(!t[Th]){t[Th]=!0,jN.forEach(function(r){r!=="selectionchange"&&(TK.has(r)||By(r,!1,t),By(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Th]||(e[Th]=!0,By("selectionchange",!1,e))}}function UQ(t,e,r,n){switch(hQ(e)){case 1:var i=VV;break;case 4:i=KV;break;default:i=GB}r=i.bind(null,e,r,t),i=void 0,!rx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Cy(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var A=a.tag;if((A===3||A===4)&&(A=a.stateNode.containerInfo,A===i||A.nodeType===8&&A.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ho(o),a===null)return;if(A=a.tag,A===5||A===6){n=s=a;continue e}o=o.parentNode}}n=n.return}eQ(function(){var l=s,u=HB(r),d=[];e:{var f=TQ.get(t);if(f!==void 0){var g=WB,m=t;switch(t){case"keypress":if(Og(r)===0)break e;case"keydown":case"keyup":g=sK;break;case"focusin":m="focus",g=py;break;case"focusout":m="blur",g=py;break;case"beforeblur":case"afterblur":g=py;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=HI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=zV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=AK;break;case EQ:case _Q:case IQ:g=XV;break;case SQ:g=uK;break;case"scroll":g=$V;break;case"wheel":g=dK;break;case"copy":case"cut":case"paste":g=JV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=KI}var p=(e&4)!==0,v=!p&&t==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var w=l,B;w!==null;){B=w;var I=B.stateNode;if(B.tag===5&&I!==null&&(B=I,y!==null&&(I=Sd(w,y),I!=null&&p.push(kd(w,I,B)))),v)break;w=w.return}0<p.length&&(f=new g(f,m,null,r,u),d.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==ex&&(m=r.relatedTarget||r.fromElement)&&(Ho(m)||m[_s]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=l,m=m?Ho(m):null,m!==null&&(v=TA(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=l),g!==m)){if(p=HI,I="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(p=KI,I="onPointerLeave",y="onPointerEnter",w="pointer"),v=g==null?f:Cl(g),B=m==null?f:Cl(m),f=new p(I,w+"leave",g,r,u),f.target=v,f.relatedTarget=B,I=null,Ho(u)===l&&(p=new p(y,w+"enter",m,r,u),p.target=B,p.relatedTarget=v,I=p),v=I,g&&m)t:{for(p=g,y=m,w=0,B=p;B;B=JA(B))w++;for(B=0,I=y;I;I=JA(I))B++;for(;0<w-B;)p=JA(p),w--;for(;0<B-w;)y=JA(y),B--;for(;w--;){if(p===y||y!==null&&p===y.alternate)break t;p=JA(p),y=JA(y)}p=null}else p=null;g!==null&&tS(d,f,g,p,!1),m!==null&&v!==null&&tS(d,v,m,p,!0)}}e:{if(f=l?Cl(l):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var T=yK;else if(zI(f))if(wQ)T=BK;else{T=xK;var F=wK}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=bK);if(T&&(T=T(t,l))){yQ(d,T,r,u);break e}F&&F(t,f,l),t==="focusout"&&(F=f._wrapperState)&&F.controlled&&f.type==="number"&&Yw(f,"number",f.value)}switch(F=l?Cl(l):window,t){case"focusin":(zI(F)||F.contentEditable==="true")&&(bl=F,ox=l,id=null);break;case"focusout":id=ox=bl=null;break;case"mousedown":Ax=!0;break;case"contextmenu":case"mouseup":case"dragend":Ax=!1,JI(d,r,u);break;case"selectionchange":if(_K)break;case"keydown":case"keyup":JI(d,r,u)}var C;if(XB)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else xl?pQ(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(mQ&&r.locale!=="ko"&&(xl||_!=="onCompositionStart"?_==="onCompositionEnd"&&xl&&(C=gQ()):(ma=u,zB="value"in ma?ma.value:ma.textContent,xl=!0)),F=pm(l,_),0<F.length&&(_=new VI(_,t,null,r,u),d.push({event:_,listeners:F}),C?_.data=C:(C=vQ(r),C!==null&&(_.data=C)))),(C=hK?gK(t,r):mK(t,r))&&(l=pm(l,"onBeforeInput"),0<l.length&&(u=new VI("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:l}),u.data=C))}FQ(d,e)})}function kd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function pm(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sd(t,r),s!=null&&n.unshift(kd(t,s,i)),s=Sd(t,e),s!=null&&n.push(kd(t,s,i))),t=t.return}return n}function JA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tS(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,A=o.alternate,l=o.stateNode;if(A!==null&&A===n)break;o.tag===5&&l!==null&&(o=l,i?(A=Sd(r,s),A!=null&&a.unshift(kd(r,A,o))):i||(A=Sd(r,s),A!=null&&a.push(kd(r,A,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var FK=/\r\n?/g,UK=/\u0000|\uFFFD/g;function rS(t){return(typeof t=="string"?t:""+t).replace(FK,`
`).replace(UK,"")}function Fh(t,e,r){if(e=rS(e),rS(t)!==e&&r)throw Error(re(425))}function vm(){}var lx=null,ux=null;function cx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dx=typeof setTimeout=="function"?setTimeout:void 0,PK=typeof clearTimeout=="function"?clearTimeout:void 0,nS=typeof Promise=="function"?Promise:void 0,NK=typeof queueMicrotask=="function"?queueMicrotask:typeof nS<"u"?function(t){return nS.resolve(null).then(t).catch(QK)}:dx;function QK(t){setTimeout(function(){throw t})}function Ey(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Ud(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ud(e)}function Ta(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function iS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Fu=Math.random().toString(36).slice(2),Ui="__reactFiber$"+Fu,Od="__reactProps$"+Fu,_s="__reactContainer$"+Fu,fx="__reactEvents$"+Fu,kK="__reactListeners$"+Fu,OK="__reactHandles$"+Fu;function Ho(t){var e=t[Ui];if(e)return e;for(var r=t.parentNode;r;){if(e=r[_s]||r[Ui]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=iS(t);t!==null;){if(r=t[Ui])return r;t=iS(t)}return e}t=r,r=t.parentNode}return null}function bf(t){return t=t[Ui]||t[_s],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function i0(t){return t[Od]||null}var hx=[],El=-1;function oo(t){return{current:t}}function ft(t){0>El||(t.current=hx[El],hx[El]=null,El--)}function At(t,e){El++,hx[El]=t.current,t.current=e}var za={},Or=oo(za),nn=oo(!1),uA=za;function ql(t,e){var r=t.type.contextTypes;if(!r)return za;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sn(t){return t=t.childContextTypes,t!=null}function ym(){ft(nn),ft(Or)}function sS(t,e,r){if(Or.current!==za)throw Error(re(168));At(Or,e),At(nn,r)}function PQ(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(re(108,wV(t)||"Unknown",i));return Tt({},r,n)}function wm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||za,uA=Or.current,At(Or,t),At(nn,nn.current),!0}function aS(t,e,r){var n=t.stateNode;if(!n)throw Error(re(169));r?(t=PQ(t,e,uA),n.__reactInternalMemoizedMergedChildContext=t,ft(nn),ft(Or),At(Or,t)):ft(nn),At(nn,r)}var ns=null,s0=!1,_y=!1;function NQ(t){ns===null?ns=[t]:ns.push(t)}function DK(t){s0=!0,NQ(t)}function Ao(){if(!_y&&ns!==null){_y=!0;var t=0,e=Je;try{var r=ns;for(Je=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ns=null,s0=!1}catch(i){throw ns!==null&&(ns=ns.slice(t+1)),iQ(VB,Ao),i}finally{Je=e,_y=!1}}return null}var _l=[],Il=0,xm=null,bm=0,Mn=[],Ln=0,cA=null,us=1,cs="";function Fo(t,e){_l[Il++]=bm,_l[Il++]=xm,xm=t,bm=e}function QQ(t,e,r){Mn[Ln++]=us,Mn[Ln++]=cs,Mn[Ln++]=cA,cA=t;var n=us;t=cs;var i=32-vi(n)-1;n&=~(1<<i),r+=1;var s=32-vi(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,us=1<<32-vi(e)+i|r<<i|n,cs=s+t}else us=1<<s|r<<i|n,cs=t}function JB(t){t.return!==null&&(Fo(t,1),QQ(t,1,0))}function ZB(t){for(;t===xm;)xm=_l[--Il],_l[Il]=null,bm=_l[--Il],_l[Il]=null;for(;t===cA;)cA=Mn[--Ln],Mn[Ln]=null,cs=Mn[--Ln],Mn[Ln]=null,us=Mn[--Ln],Mn[Ln]=null}var Bn=null,wn=null,pt=!1,fi=null;function kQ(t,e){var r=Kn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function oS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,wn=Ta(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=cA!==null?{id:us,overflow:cs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Kn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Bn=t,wn=null,!0):!1;default:return!1}}function gx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mx(t){if(pt){var e=wn;if(e){var r=e;if(!oS(t,e)){if(gx(t))throw Error(re(418));e=Ta(r.nextSibling);var n=Bn;e&&oS(t,e)?kQ(n,r):(t.flags=t.flags&-4097|2,pt=!1,Bn=t)}}else{if(gx(t))throw Error(re(418));t.flags=t.flags&-4097|2,pt=!1,Bn=t}}}function AS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function Uh(t){if(t!==Bn)return!1;if(!pt)return AS(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cx(t.type,t.memoizedProps)),e&&(e=wn)){if(gx(t))throw OQ(),Error(re(418));for(;e;)kQ(t,e),e=Ta(e.nextSibling)}if(AS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){wn=Ta(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=Bn?Ta(t.stateNode.nextSibling):null;return!0}function OQ(){for(var t=wn;t;)t=Ta(t.nextSibling)}function Jl(){wn=Bn=null,pt=!1}function eC(t){fi===null?fi=[t]:fi.push(t)}var jK=js.ReactCurrentBatchConfig;function hc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,t))}return t}function Ph(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lS(t){var e=t._init;return e(t._payload)}function DQ(t){function e(y,w){if(t){var B=y.deletions;B===null?(y.deletions=[w],y.flags|=16):B.push(w)}}function r(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=Na(y,w),y.index=0,y.sibling=null,y}function s(y,w,B){return y.index=B,t?(B=y.alternate,B!==null?(B=B.index,B<w?(y.flags|=2,w):B):(y.flags|=2,w)):(y.flags|=1048576,w)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,w,B,I){return w===null||w.tag!==6?(w=Ny(B,y.mode,I),w.return=y,w):(w=i(w,B),w.return=y,w)}function A(y,w,B,I){var T=B.type;return T===wl?u(y,w,B.props.children,I,B.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===oa&&lS(T)===w.type)?(I=i(w,B.props),I.ref=hc(y,w,B),I.return=y,I):(I=Vg(B.type,B.key,B.props,null,y.mode,I),I.ref=hc(y,w,B),I.return=y,I)}function l(y,w,B,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==B.containerInfo||w.stateNode.implementation!==B.implementation?(w=Qy(B,y.mode,I),w.return=y,w):(w=i(w,B.children||[]),w.return=y,w)}function u(y,w,B,I,T){return w===null||w.tag!==7?(w=Zo(B,y.mode,I,T),w.return=y,w):(w=i(w,B),w.return=y,w)}function d(y,w,B){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ny(""+w,y.mode,B),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xh:return B=Vg(w.type,w.key,w.props,null,y.mode,B),B.ref=hc(y,null,w),B.return=y,B;case yl:return w=Qy(w,y.mode,B),w.return=y,w;case oa:var I=w._init;return d(y,I(w._payload),B)}if(Oc(w)||lc(w))return w=Zo(w,y.mode,B,null),w.return=y,w;Ph(y,w)}return null}function f(y,w,B,I){var T=w!==null?w.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return T!==null?null:o(y,w,""+B,I);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case xh:return B.key===T?A(y,w,B,I):null;case yl:return B.key===T?l(y,w,B,I):null;case oa:return T=B._init,f(y,w,T(B._payload),I)}if(Oc(B)||lc(B))return T!==null?null:u(y,w,B,I,null);Ph(y,B)}return null}function g(y,w,B,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return y=y.get(B)||null,o(w,y,""+I,T);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case xh:return y=y.get(I.key===null?B:I.key)||null,A(w,y,I,T);case yl:return y=y.get(I.key===null?B:I.key)||null,l(w,y,I,T);case oa:var F=I._init;return g(y,w,B,F(I._payload),T)}if(Oc(I)||lc(I))return y=y.get(B)||null,u(w,y,I,T,null);Ph(w,I)}return null}function m(y,w,B,I){for(var T=null,F=null,C=w,_=w=0,S=null;C!==null&&_<B.length;_++){C.index>_?(S=C,C=null):S=C.sibling;var P=f(y,C,B[_],I);if(P===null){C===null&&(C=S);break}t&&C&&P.alternate===null&&e(y,C),w=s(P,w,_),F===null?T=P:F.sibling=P,F=P,C=S}if(_===B.length)return r(y,C),pt&&Fo(y,_),T;if(C===null){for(;_<B.length;_++)C=d(y,B[_],I),C!==null&&(w=s(C,w,_),F===null?T=C:F.sibling=C,F=C);return pt&&Fo(y,_),T}for(C=n(y,C);_<B.length;_++)S=g(C,y,_,B[_],I),S!==null&&(t&&S.alternate!==null&&C.delete(S.key===null?_:S.key),w=s(S,w,_),F===null?T=S:F.sibling=S,F=S);return t&&C.forEach(function(Q){return e(y,Q)}),pt&&Fo(y,_),T}function p(y,w,B,I){var T=lc(B);if(typeof T!="function")throw Error(re(150));if(B=T.call(B),B==null)throw Error(re(151));for(var F=T=null,C=w,_=w=0,S=null,P=B.next();C!==null&&!P.done;_++,P=B.next()){C.index>_?(S=C,C=null):S=C.sibling;var Q=f(y,C,P.value,I);if(Q===null){C===null&&(C=S);break}t&&C&&Q.alternate===null&&e(y,C),w=s(Q,w,_),F===null?T=Q:F.sibling=Q,F=Q,C=S}if(P.done)return r(y,C),pt&&Fo(y,_),T;if(C===null){for(;!P.done;_++,P=B.next())P=d(y,P.value,I),P!==null&&(w=s(P,w,_),F===null?T=P:F.sibling=P,F=P);return pt&&Fo(y,_),T}for(C=n(y,C);!P.done;_++,P=B.next())P=g(C,y,_,P.value,I),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?_:P.key),w=s(P,w,_),F===null?T=P:F.sibling=P,F=P);return t&&C.forEach(function(k){return e(y,k)}),pt&&Fo(y,_),T}function v(y,w,B,I){if(typeof B=="object"&&B!==null&&B.type===wl&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case xh:e:{for(var T=B.key,F=w;F!==null;){if(F.key===T){if(T=B.type,T===wl){if(F.tag===7){r(y,F.sibling),w=i(F,B.props.children),w.return=y,y=w;break e}}else if(F.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===oa&&lS(T)===F.type){r(y,F.sibling),w=i(F,B.props),w.ref=hc(y,F,B),w.return=y,y=w;break e}r(y,F);break}else e(y,F);F=F.sibling}B.type===wl?(w=Zo(B.props.children,y.mode,I,B.key),w.return=y,y=w):(I=Vg(B.type,B.key,B.props,null,y.mode,I),I.ref=hc(y,w,B),I.return=y,y=I)}return a(y);case yl:e:{for(F=B.key;w!==null;){if(w.key===F)if(w.tag===4&&w.stateNode.containerInfo===B.containerInfo&&w.stateNode.implementation===B.implementation){r(y,w.sibling),w=i(w,B.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else e(y,w);w=w.sibling}w=Qy(B,y.mode,I),w.return=y,y=w}return a(y);case oa:return F=B._init,v(y,w,F(B._payload),I)}if(Oc(B))return m(y,w,B,I);if(lc(B))return p(y,w,B,I);Ph(y,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,w!==null&&w.tag===6?(r(y,w.sibling),w=i(w,B),w.return=y,y=w):(r(y,w),w=Ny(B,y.mode,I),w.return=y,y=w),a(y)):r(y,w)}return v}var Zl=DQ(!0),jQ=DQ(!1),Bm=oo(null),Cm=null,Sl=null,tC=null;function rC(){tC=Sl=Cm=null}function nC(t){var e=Bm.current;ft(Bm),t._currentValue=e}function px(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ll(t,e){Cm=t,tC=Sl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function ei(t){var e=t._currentValue;if(tC!==t)if(t={context:t,memoizedValue:e,next:null},Sl===null){if(Cm===null)throw Error(re(308));Sl=t,Cm.dependencies={lanes:0,firstContext:t}}else Sl=Sl.next=t;return e}var Vo=null;function iC(t){Vo===null?Vo=[t]:Vo.push(t)}function RQ(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,iC(e)):(r.next=i.next,i.next=r),e.interleaved=r,Is(t,n)}function Is(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Aa=!1;function sC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MQ(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fa(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ve&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Is(t,r)}return i=n.interleaved,i===null?(e.next=e,iC(n)):(e.next=i.next,i.next=e),n.interleaved=e,Is(t,r)}function Dg(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,KB(t,r)}}function uS(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Em(t,e,r,n){var i=t.updateQueue;Aa=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var A=o,l=A.next;A.next=null,a===null?s=l:a.next=l,a=A;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=A))}if(s!==null){var d=i.baseState;a=0,u=l=A=null,o=s;do{var f=o.lane,g=o.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,p=o;switch(f=e,g=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(g,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,f=typeof m=="function"?m.call(g,d,f):m,f==null)break e;d=Tt({},d,f);break e;case 2:Aa=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else g={eventTime:g,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(l=u=g,A=d):u=u.next=g,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(A=d),i.baseState=A,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);fA|=a,t.lanes=a,t.memoizedState=d}}function cS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(re(191,i));i.call(n)}}}var Bf={},Oi=oo(Bf),Dd=oo(Bf),jd=oo(Bf);function Ko(t){if(t===Bf)throw Error(re(174));return t}function aC(t,e){switch(At(jd,e),At(Dd,t),At(Oi,Bf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qw(e,t)}ft(Oi),At(Oi,e)}function eu(){ft(Oi),ft(Dd),ft(jd)}function LQ(t){Ko(jd.current);var e=Ko(Oi.current),r=qw(e,t.type);e!==r&&(At(Dd,t),At(Oi,r))}function oC(t){Dd.current===t&&(ft(Oi),ft(Dd))}var _t=oo(0);function _m(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Iy=[];function AC(){for(var t=0;t<Iy.length;t++)Iy[t]._workInProgressVersionPrimary=null;Iy.length=0}var jg=js.ReactCurrentDispatcher,Sy=js.ReactCurrentBatchConfig,dA=0,It=null,Yt=null,lr=null,Im=!1,sd=!1,Rd=0,RK=0;function _r(){throw Error(re(321))}function lC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!wi(t[r],e[r]))return!1;return!0}function uC(t,e,r,n,i,s){if(dA=s,It=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jg.current=t===null||t.memoizedState===null?VK:KK,t=r(n,i),sd){s=0;do{if(sd=!1,Rd=0,25<=s)throw Error(re(301));s+=1,lr=Yt=null,e.updateQueue=null,jg.current=$K,t=r(n,i)}while(sd)}if(jg.current=Sm,e=Yt!==null&&Yt.next!==null,dA=0,lr=Yt=It=null,Im=!1,e)throw Error(re(300));return t}function cC(){var t=Rd!==0;return Rd=0,t}function Si(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?It.memoizedState=lr=t:lr=lr.next=t,lr}function ti(){if(Yt===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var e=lr===null?It.memoizedState:lr.next;if(e!==null)lr=e,Yt=t;else{if(t===null)throw Error(re(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},lr===null?It.memoizedState=lr=t:lr=lr.next=t}return lr}function Md(t,e){return typeof e=="function"?e(t):e}function Ty(t){var e=ti(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=Yt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,A=null,l=s;do{var u=l.lane;if((dA&u)===u)A!==null&&(A=A.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};A===null?(o=A=d,a=n):A=A.next=d,It.lanes|=u,fA|=u}l=l.next}while(l!==null&&l!==s);A===null?a=n:A.next=o,wi(n,e.memoizedState)||(tn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=A,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,It.lanes|=s,fA|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Fy(t){var e=ti(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);wi(s,e.memoizedState)||(tn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function HQ(){}function VQ(t,e){var r=It,n=ti(),i=e(),s=!wi(n.memoizedState,i);if(s&&(n.memoizedState=i,tn=!0),n=n.queue,dC(GQ.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||lr!==null&&lr.memoizedState.tag&1){if(r.flags|=2048,Ld(9,$Q.bind(null,r,n,i,e),void 0,null),cr===null)throw Error(re(349));dA&30||KQ(r,e,i)}return i}function KQ(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function $Q(t,e,r,n){e.value=r,e.getSnapshot=n,zQ(e)&&WQ(t)}function GQ(t,e,r){return r(function(){zQ(e)&&WQ(t)})}function zQ(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!wi(t,r)}catch{return!0}}function WQ(t){var e=Is(t,1);e!==null&&yi(e,t,1,-1)}function dS(t){var e=Si();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Md,lastRenderedState:t},e.queue=t,t=t.dispatch=HK.bind(null,It,t),[e.memoizedState,t]}function Ld(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function YQ(){return ti().memoizedState}function Rg(t,e,r,n){var i=Si();It.flags|=t,i.memoizedState=Ld(1|e,r,void 0,n===void 0?null:n)}function a0(t,e,r,n){var i=ti();n=n===void 0?null:n;var s=void 0;if(Yt!==null){var a=Yt.memoizedState;if(s=a.destroy,n!==null&&lC(n,a.deps)){i.memoizedState=Ld(e,r,s,n);return}}It.flags|=t,i.memoizedState=Ld(1|e,r,s,n)}function fS(t,e){return Rg(8390656,8,t,e)}function dC(t,e){return a0(2048,8,t,e)}function XQ(t,e){return a0(4,2,t,e)}function qQ(t,e){return a0(4,4,t,e)}function JQ(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ZQ(t,e,r){return r=r!=null?r.concat([t]):null,a0(4,4,JQ.bind(null,e,t),r)}function fC(){}function ek(t,e){var r=ti();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&lC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function tk(t,e){var r=ti();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&lC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function rk(t,e,r){return dA&21?(wi(r,e)||(r=oQ(),It.lanes|=r,fA|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=r)}function MK(t,e){var r=Je;Je=r!==0&&4>r?r:4,t(!0);var n=Sy.transition;Sy.transition={};try{t(!1),e()}finally{Je=r,Sy.transition=n}}function nk(){return ti().memoizedState}function LK(t,e,r){var n=Pa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ik(t))sk(e,r);else if(r=RQ(t,e,r,n),r!==null){var i=Vr();yi(r,t,n,i),ak(r,e,n)}}function HK(t,e,r){var n=Pa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ik(t))sk(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,wi(o,a)){var A=e.interleaved;A===null?(i.next=i,iC(e)):(i.next=A.next,A.next=i),e.interleaved=i;return}}catch{}finally{}r=RQ(t,e,i,n),r!==null&&(i=Vr(),yi(r,t,n,i),ak(r,e,n))}}function ik(t){var e=t.alternate;return t===It||e!==null&&e===It}function sk(t,e){sd=Im=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function ak(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,KB(t,r)}}var Sm={readContext:ei,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useInsertionEffect:_r,useLayoutEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useMutableSource:_r,useSyncExternalStore:_r,useId:_r,unstable_isNewReconciler:!1},VK={readContext:ei,useCallback:function(t,e){return Si().memoizedState=[t,e===void 0?null:e],t},useContext:ei,useEffect:fS,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Rg(4194308,4,JQ.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Rg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rg(4,2,t,e)},useMemo:function(t,e){var r=Si();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Si();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=LK.bind(null,It,t),[n.memoizedState,t]},useRef:function(t){var e=Si();return t={current:t},e.memoizedState=t},useState:dS,useDebugValue:fC,useDeferredValue:function(t){return Si().memoizedState=t},useTransition:function(){var t=dS(!1),e=t[0];return t=MK.bind(null,t[1]),Si().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=It,i=Si();if(pt){if(r===void 0)throw Error(re(407));r=r()}else{if(r=e(),cr===null)throw Error(re(349));dA&30||KQ(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,fS(GQ.bind(null,n,s,t),[t]),n.flags|=2048,Ld(9,$Q.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Si(),e=cr.identifierPrefix;if(pt){var r=cs,n=us;r=(n&~(1<<32-vi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Rd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=RK++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},KK={readContext:ei,useCallback:ek,useContext:ei,useEffect:dC,useImperativeHandle:ZQ,useInsertionEffect:XQ,useLayoutEffect:qQ,useMemo:tk,useReducer:Ty,useRef:YQ,useState:function(){return Ty(Md)},useDebugValue:fC,useDeferredValue:function(t){var e=ti();return rk(e,Yt.memoizedState,t)},useTransition:function(){var t=Ty(Md)[0],e=ti().memoizedState;return[t,e]},useMutableSource:HQ,useSyncExternalStore:VQ,useId:nk,unstable_isNewReconciler:!1},$K={readContext:ei,useCallback:ek,useContext:ei,useEffect:dC,useImperativeHandle:ZQ,useInsertionEffect:XQ,useLayoutEffect:qQ,useMemo:tk,useReducer:Fy,useRef:YQ,useState:function(){return Fy(Md)},useDebugValue:fC,useDeferredValue:function(t){var e=ti();return Yt===null?e.memoizedState=t:rk(e,Yt.memoizedState,t)},useTransition:function(){var t=Fy(Md)[0],e=ti().memoizedState;return[t,e]},useMutableSource:HQ,useSyncExternalStore:VQ,useId:nk,unstable_isNewReconciler:!1};function ci(t,e){if(t&&t.defaultProps){e=Tt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function vx(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Tt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var o0={isMounted:function(t){return(t=t._reactInternals)?TA(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Vr(),i=Pa(t),s=ws(n,i);s.payload=e,r!=null&&(s.callback=r),e=Fa(t,s,i),e!==null&&(yi(e,t,i,n),Dg(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Vr(),i=Pa(t),s=ws(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Fa(t,s,i),e!==null&&(yi(e,t,i,n),Dg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Vr(),n=Pa(t),i=ws(r,n);i.tag=2,e!=null&&(i.callback=e),e=Fa(t,i,n),e!==null&&(yi(e,t,n,r),Dg(e,t,n))}};function hS(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Nd(r,n)||!Nd(i,s):!0}function ok(t,e,r){var n=!1,i=za,s=e.contextType;return typeof s=="object"&&s!==null?s=ei(s):(i=sn(e)?uA:Or.current,n=e.contextTypes,s=(n=n!=null)?ql(t,i):za),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=o0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function gS(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&o0.enqueueReplaceState(e,e.state,null)}function yx(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},sC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ei(s):(s=sn(e)?uA:Or.current,i.context=ql(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vx(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&o0.enqueueReplaceState(i,i.state,null),Em(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function tu(t,e){try{var r="",n=e;do r+=yV(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Uy(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function wx(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var GK=typeof WeakMap=="function"?WeakMap:Map;function Ak(t,e,r){r=ws(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Fm||(Fm=!0,Fx=n),wx(t,e)},r}function lk(t,e,r){r=ws(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){wx(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){wx(t,e),typeof n!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function mS(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new GK;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=a6.bind(null,t,e,r),e.then(t,t))}function pS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vS(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ws(-1,1),e.tag=2,Fa(r,e,1))),r.lanes|=1),t)}var zK=js.ReactCurrentOwner,tn=!1;function Mr(t,e,r,n){e.child=t===null?jQ(e,null,r,n):Zl(e,t.child,r,n)}function yS(t,e,r,n,i){r=r.render;var s=e.ref;return Ll(e,i),n=uC(t,e,r,n,s,i),r=cC(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ss(t,e,i)):(pt&&r&&JB(e),e.flags|=1,Mr(t,e,n,i),e.child)}function wS(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!xC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,uk(t,e,s,n,i)):(t=Vg(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Nd,r(a,n)&&t.ref===e.ref)return Ss(t,e,i)}return e.flags|=1,t=Na(s,n),t.ref=e.ref,t.return=e,e.child=t}function uk(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Nd(s,n)&&t.ref===e.ref)if(tn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,Ss(t,e,i)}return xx(t,e,r,n,i)}function ck(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(Fl,gn),gn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,At(Fl,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,At(Fl,gn),gn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,At(Fl,gn),gn|=n;return Mr(t,e,i,r),e.child}function dk(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function xx(t,e,r,n,i){var s=sn(r)?uA:Or.current;return s=ql(e,s),Ll(e,i),r=uC(t,e,r,n,s,i),n=cC(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ss(t,e,i)):(pt&&n&&JB(e),e.flags|=1,Mr(t,e,r,i),e.child)}function xS(t,e,r,n,i){if(sn(r)){var s=!0;wm(e)}else s=!1;if(Ll(e,i),e.stateNode===null)Mg(t,e),ok(e,r,n),yx(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var A=a.context,l=r.contextType;typeof l=="object"&&l!==null?l=ei(l):(l=sn(r)?uA:Or.current,l=ql(e,l));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||A!==l)&&gS(e,a,n,l),Aa=!1;var f=e.memoizedState;a.state=f,Em(e,n,a,i),A=e.memoizedState,o!==n||f!==A||nn.current||Aa?(typeof u=="function"&&(vx(e,r,u,n),A=e.memoizedState),(o=Aa||hS(e,r,o,n,f,A,l))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=A),a.props=n,a.state=A,a.context=l,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,MQ(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:ci(e.type,o),a.props=l,d=e.pendingProps,f=a.context,A=r.contextType,typeof A=="object"&&A!==null?A=ei(A):(A=sn(r)?uA:Or.current,A=ql(e,A));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==A)&&gS(e,a,n,A),Aa=!1,f=e.memoizedState,a.state=f,Em(e,n,a,i);var m=e.memoizedState;o!==d||f!==m||nn.current||Aa?(typeof g=="function"&&(vx(e,r,g,n),m=e.memoizedState),(l=Aa||hS(e,r,l,n,f,m,A)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,A),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,A)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=A,n=l):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return bx(t,e,r,n,s,i)}function bx(t,e,r,n,i,s){dk(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&aS(e,r,!1),Ss(t,e,s);n=e.stateNode,zK.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Zl(e,t.child,null,s),e.child=Zl(e,null,o,s)):Mr(t,e,o,s),e.memoizedState=n.state,i&&aS(e,r,!0),e.child}function fk(t){var e=t.stateNode;e.pendingContext?sS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sS(t,e.context,!1),aC(t,e.containerInfo)}function bS(t,e,r,n,i){return Jl(),eC(i),e.flags|=256,Mr(t,e,r,n),e.child}var Bx={dehydrated:null,treeContext:null,retryLane:0};function Cx(t){return{baseLanes:t,cachePool:null,transitions:null}}function hk(t,e,r){var n=e.pendingProps,i=_t.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),At(_t,i&1),t===null)return mx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=u0(a,n,0,null),t=Zo(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Cx(r),e.memoizedState=Bx,t):hC(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return WK(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var A={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=A,e.deletions=null):(n=Na(i,A),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Na(o,s):(s=Zo(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Cx(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=Bx,n}return s=t.child,t=s.sibling,n=Na(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function hC(t,e){return e=u0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nh(t,e,r,n){return n!==null&&eC(n),Zl(e,t.child,null,r),t=hC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WK(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Uy(Error(re(422))),Nh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=u0({mode:"visible",children:n.children},i,0,null),s=Zo(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Zl(e,t.child,null,a),e.child.memoizedState=Cx(a),e.memoizedState=Bx,s);if(!(e.mode&1))return Nh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(re(419)),n=Uy(s,n,void 0),Nh(t,e,a,n)}if(o=(a&t.childLanes)!==0,tn||o){if(n=cr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Is(t,i),yi(n,t,i,-1))}return wC(),n=Uy(Error(re(421))),Nh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=o6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,wn=Ta(i.nextSibling),Bn=e,pt=!0,fi=null,t!==null&&(Mn[Ln++]=us,Mn[Ln++]=cs,Mn[Ln++]=cA,us=t.id,cs=t.overflow,cA=e),e=hC(e,n.children),e.flags|=4096,e)}function BS(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),px(t.return,e,r)}function Py(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function gk(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Mr(t,e,n.children,r),n=_t.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&BS(t,r,e);else if(t.tag===19)BS(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(At(_t,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&_m(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Py(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_m(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Py(e,!0,r,null,s);break;case"together":Py(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ss(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),fA|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,r=Na(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Na(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function YK(t,e,r){switch(e.tag){case 3:fk(e),Jl();break;case 5:LQ(e);break;case 1:sn(e.type)&&wm(e);break;case 4:aC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;At(Bm,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(At(_t,_t.current&1),e.flags|=128,null):r&e.child.childLanes?hk(t,e,r):(At(_t,_t.current&1),t=Ss(t,e,r),t!==null?t.sibling:null);At(_t,_t.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return gk(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),At(_t,_t.current),n)break;return null;case 22:case 23:return e.lanes=0,ck(t,e,r)}return Ss(t,e,r)}var mk,Ex,pk,vk;mk=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ex=function(){};pk=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ko(Oi.current);var s=null;switch(r){case"input":i=zw(t,i),n=zw(t,n),s=[];break;case"select":i=Tt({},i,{value:void 0}),n=Tt({},n,{value:void 0}),s=[];break;case"textarea":i=Xw(t,i),n=Xw(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=vm)}Jw(r,n);var a;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var o=i[l];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(_d.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var A=n[l];if(o=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&A!==o&&(A!=null||o!=null))if(l==="style")if(o){for(a in o)!o.hasOwnProperty(a)||A&&A.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in A)A.hasOwnProperty(a)&&o[a]!==A[a]&&(r||(r={}),r[a]=A[a])}else r||(s||(s=[]),s.push(l,r)),r=A;else l==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,o=o?o.__html:void 0,A!=null&&o!==A&&(s=s||[]).push(l,A)):l==="children"?typeof A!="string"&&typeof A!="number"||(s=s||[]).push(l,""+A):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(_d.hasOwnProperty(l)?(A!=null&&l==="onScroll"&&ct("scroll",t),s||o===A||(s=[])):(s=s||[]).push(l,A))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};vk=function(t,e,r,n){r!==n&&(e.flags|=4)};function gc(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ir(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function XK(t,e,r){var n=e.pendingProps;switch(ZB(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(e),null;case 1:return sn(e.type)&&ym(),Ir(e),null;case 3:return n=e.stateNode,eu(),ft(nn),ft(Or),AC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Uh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fi!==null&&(Nx(fi),fi=null))),Ex(t,e),Ir(e),null;case 5:oC(e);var i=Ko(jd.current);if(r=e.type,t!==null&&e.stateNode!=null)pk(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(re(166));return Ir(e),null}if(t=Ko(Oi.current),Uh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ui]=e,n[Od]=s,t=(e.mode&1)!==0,r){case"dialog":ct("cancel",n),ct("close",n);break;case"iframe":case"object":case"embed":ct("load",n);break;case"video":case"audio":for(i=0;i<jc.length;i++)ct(jc[i],n);break;case"source":ct("error",n);break;case"img":case"image":case"link":ct("error",n),ct("load",n);break;case"details":ct("toggle",n);break;case"input":PI(n,s),ct("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ct("invalid",n);break;case"textarea":QI(n,s),ct("invalid",n)}Jw(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Fh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Fh(n.textContent,o,t),i=["children",""+o]):_d.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ct("scroll",n)}switch(r){case"input":bh(n),NI(n,s,!0);break;case"textarea":bh(n),kI(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=vm)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=GN(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Ui]=e,t[Od]=n,mk(t,e,!1,!1),e.stateNode=t;e:{switch(a=Zw(r,n),r){case"dialog":ct("cancel",t),ct("close",t),i=n;break;case"iframe":case"object":case"embed":ct("load",t),i=n;break;case"video":case"audio":for(i=0;i<jc.length;i++)ct(jc[i],t);i=n;break;case"source":ct("error",t),i=n;break;case"img":case"image":case"link":ct("error",t),ct("load",t),i=n;break;case"details":ct("toggle",t),i=n;break;case"input":PI(t,n),i=zw(t,n),ct("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Tt({},n,{value:void 0}),ct("invalid",t);break;case"textarea":QI(t,n),i=Xw(t,n),ct("invalid",t);break;default:i=n}Jw(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var A=o[s];s==="style"?YN(t,A):s==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&zN(t,A)):s==="children"?typeof A=="string"?(r!=="textarea"||A!=="")&&Id(t,A):typeof A=="number"&&Id(t,""+A):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_d.hasOwnProperty(s)?A!=null&&s==="onScroll"&&ct("scroll",t):A!=null&&jB(t,s,A,a))}switch(r){case"input":bh(t),NI(t,n,!1);break;case"textarea":bh(t),kI(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ga(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Dl(t,!!n.multiple,s,!1):n.defaultValue!=null&&Dl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ir(e),null;case 6:if(t&&e.stateNode!=null)vk(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(re(166));if(r=Ko(jd.current),Ko(Oi.current),Uh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ui]=e,(s=n.nodeValue!==r)&&(t=Bn,t!==null))switch(t.tag){case 3:Fh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ui]=e,e.stateNode=n}return Ir(e),null;case 13:if(ft(_t),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&wn!==null&&e.mode&1&&!(e.flags&128))OQ(),Jl(),e.flags|=98560,s=!1;else if(s=Uh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[Ui]=e}else Jl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ir(e),s=!1}else fi!==null&&(Nx(fi),fi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||_t.current&1?qt===0&&(qt=3):wC())),e.updateQueue!==null&&(e.flags|=4),Ir(e),null);case 4:return eu(),Ex(t,e),t===null&&Qd(e.stateNode.containerInfo),Ir(e),null;case 10:return nC(e.type._context),Ir(e),null;case 17:return sn(e.type)&&ym(),Ir(e),null;case 19:if(ft(_t),s=e.memoizedState,s===null)return Ir(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)gc(s,!1);else{if(qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=_m(t),a!==null){for(e.flags|=128,gc(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return At(_t,_t.current&1|2),e.child}t=t.sibling}s.tail!==null&&Rt()>ru&&(e.flags|=128,n=!0,gc(s,!1),e.lanes=4194304)}else{if(!n)if(t=_m(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),gc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!pt)return Ir(e),null}else 2*Rt()-s.renderingStartTime>ru&&r!==1073741824&&(e.flags|=128,n=!0,gc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Rt(),e.sibling=null,r=_t.current,At(_t,n?r&1|2:r&1),e):(Ir(e),null);case 22:case 23:return yC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?gn&1073741824&&(Ir(e),e.subtreeFlags&6&&(e.flags|=8192)):Ir(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function qK(t,e){switch(ZB(e),e.tag){case 1:return sn(e.type)&&ym(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return eu(),ft(nn),ft(Or),AC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return oC(e),null;case 13:if(ft(_t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Jl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(_t),null;case 4:return eu(),null;case 10:return nC(e.type._context),null;case 22:case 23:return yC(),null;case 24:return null;default:return null}}var Qh=!1,Nr=!1,JK=typeof WeakSet=="function"?WeakSet:Set,he=null;function Tl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Nt(t,e,n)}else r.current=null}function _x(t,e,r){try{r()}catch(n){Nt(t,e,n)}}var CS=!1;function ZK(t,e){if(lx=gm,t=BQ(),qB(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,A=-1,l=0,u=0,d=t,f=null;t:for(;;){for(var g;d!==r||i!==0&&d.nodeType!==3||(o=a+i),d!==s||n!==0&&d.nodeType!==3||(A=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===r&&++l===i&&(o=a),f===s&&++u===n&&(A=a),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}r=o===-1||A===-1?null:{start:o,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(ux={focusedElem:t,selectionRange:r},gm=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,v=m.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:ci(e.type,p),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var B=e.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(I){Nt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return m=CS,CS=!1,m}function ad(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&_x(e,r,s)}i=i.next}while(i!==n)}}function A0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ix(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function yk(t){var e=t.alternate;e!==null&&(t.alternate=null,yk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ui],delete e[Od],delete e[fx],delete e[kK],delete e[OK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wk(t){return t.tag===5||t.tag===3||t.tag===4}function ES(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=vm));else if(n!==4&&(t=t.child,t!==null))for(Sx(t,e,r),t=t.sibling;t!==null;)Sx(t,e,r),t=t.sibling}function Tx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Tx(t,e,r),t=t.sibling;t!==null;)Tx(t,e,r),t=t.sibling}var mr=null,di=!1;function Zs(t,e,r){for(r=r.child;r!==null;)xk(t,e,r),r=r.sibling}function xk(t,e,r){if(ki&&typeof ki.onCommitFiberUnmount=="function")try{ki.onCommitFiberUnmount(e0,r)}catch{}switch(r.tag){case 5:Nr||Tl(r,e);case 6:var n=mr,i=di;mr=null,Zs(t,e,r),mr=n,di=i,mr!==null&&(di?(t=mr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):mr.removeChild(r.stateNode));break;case 18:mr!==null&&(di?(t=mr,r=r.stateNode,t.nodeType===8?Ey(t.parentNode,r):t.nodeType===1&&Ey(t,r),Ud(t)):Ey(mr,r.stateNode));break;case 4:n=mr,i=di,mr=r.stateNode.containerInfo,di=!0,Zs(t,e,r),mr=n,di=i;break;case 0:case 11:case 14:case 15:if(!Nr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&_x(r,e,a),i=i.next}while(i!==n)}Zs(t,e,r);break;case 1:if(!Nr&&(Tl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Nt(r,e,o)}Zs(t,e,r);break;case 21:Zs(t,e,r);break;case 22:r.mode&1?(Nr=(n=Nr)||r.memoizedState!==null,Zs(t,e,r),Nr=n):Zs(t,e,r);break;default:Zs(t,e,r)}}function _S(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new JK),e.forEach(function(n){var i=A6.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ai(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:mr=o.stateNode,di=!1;break e;case 3:mr=o.stateNode.containerInfo,di=!0;break e;case 4:mr=o.stateNode.containerInfo,di=!0;break e}o=o.return}if(mr===null)throw Error(re(160));xk(s,a,i),mr=null,di=!1;var A=i.alternate;A!==null&&(A.return=null),i.return=null}catch(l){Nt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bk(e,t),e=e.sibling}function bk(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ai(e,t),Ei(t),n&4){try{ad(3,t,t.return),A0(3,t)}catch(p){Nt(t,t.return,p)}try{ad(5,t,t.return)}catch(p){Nt(t,t.return,p)}}break;case 1:Ai(e,t),Ei(t),n&512&&r!==null&&Tl(r,r.return);break;case 5:if(Ai(e,t),Ei(t),n&512&&r!==null&&Tl(r,r.return),t.flags&32){var i=t.stateNode;try{Id(i,"")}catch(p){Nt(t,t.return,p)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&KN(i,s),Zw(o,a);var l=Zw(o,s);for(a=0;a<A.length;a+=2){var u=A[a],d=A[a+1];u==="style"?YN(i,d):u==="dangerouslySetInnerHTML"?zN(i,d):u==="children"?Id(i,d):jB(i,u,d,l)}switch(o){case"input":Ww(i,s);break;case"textarea":$N(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Dl(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Dl(i,!!s.multiple,s.defaultValue,!0):Dl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Od]=s}catch(p){Nt(t,t.return,p)}}break;case 6:if(Ai(e,t),Ei(t),n&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){Nt(t,t.return,p)}}break;case 3:if(Ai(e,t),Ei(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ud(e.containerInfo)}catch(p){Nt(t,t.return,p)}break;case 4:Ai(e,t),Ei(t);break;case 13:Ai(e,t),Ei(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(pC=Rt())),n&4&&_S(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Nr=(l=Nr)||u,Ai(e,t),Nr=l):Ai(e,t),Ei(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(he=t,u=t.child;u!==null;){for(d=he=u;he!==null;){switch(f=he,g=f.child,f.tag){case 0:case 11:case 14:case 15:ad(4,f,f.return);break;case 1:Tl(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){Nt(n,r,p)}}break;case 5:Tl(f,f.return);break;case 22:if(f.memoizedState!==null){SS(d);continue}}g!==null?(g.return=f,he=g):SS(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,A=d.memoizedProps.style,a=A!=null&&A.hasOwnProperty("display")?A.display:null,o.style.display=WN("display",a))}catch(p){Nt(t,t.return,p)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(p){Nt(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ai(e,t),Ei(t),n&4&&_S(t);break;case 21:break;default:Ai(e,t),Ei(t)}}function Ei(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(wk(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Id(i,""),n.flags&=-33);var s=ES(t);Tx(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=ES(t);Sx(t,o,a);break;default:throw Error(re(161))}}catch(A){Nt(t,t.return,A)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function e6(t,e,r){he=t,Bk(t)}function Bk(t,e,r){for(var n=(t.mode&1)!==0;he!==null;){var i=he,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Qh;if(!a){var o=i.alternate,A=o!==null&&o.memoizedState!==null||Nr;o=Qh;var l=Nr;if(Qh=a,(Nr=A)&&!l)for(he=i;he!==null;)a=he,A=a.child,a.tag===22&&a.memoizedState!==null?TS(i):A!==null?(A.return=a,he=A):TS(i);for(;s!==null;)he=s,Bk(s),s=s.sibling;he=i,Qh=o,Nr=l}IS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,he=s):IS(t)}}function IS(t){for(;he!==null;){var e=he;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nr||A0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Nr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ci(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&cS(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}cS(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var A=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&r.focus();break;case"img":A.src&&(r.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ud(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Nr||e.flags&512&&Ix(e)}catch(f){Nt(e,e.return,f)}}if(e===t){he=null;break}if(r=e.sibling,r!==null){r.return=e.return,he=r;break}he=e.return}}function SS(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var r=e.sibling;if(r!==null){r.return=e.return,he=r;break}he=e.return}}function TS(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{A0(4,e)}catch(A){Nt(e,r,A)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(A){Nt(e,i,A)}}var s=e.return;try{Ix(e)}catch(A){Nt(e,s,A)}break;case 5:var a=e.return;try{Ix(e)}catch(A){Nt(e,a,A)}}}catch(A){Nt(e,e.return,A)}if(e===t){he=null;break}var o=e.sibling;if(o!==null){o.return=e.return,he=o;break}he=e.return}}var t6=Math.ceil,Tm=js.ReactCurrentDispatcher,gC=js.ReactCurrentOwner,qn=js.ReactCurrentBatchConfig,Ve=0,cr=null,Kt=null,br=0,gn=0,Fl=oo(0),qt=0,Hd=null,fA=0,l0=0,mC=0,od=null,Zr=null,pC=0,ru=1/0,es=null,Fm=!1,Fx=null,Ua=null,kh=!1,pa=null,Um=0,Ad=0,Ux=null,Lg=-1,Hg=0;function Vr(){return Ve&6?Rt():Lg!==-1?Lg:Lg=Rt()}function Pa(t){return t.mode&1?Ve&2&&br!==0?br&-br:jK.transition!==null?(Hg===0&&(Hg=oQ()),Hg):(t=Je,t!==0||(t=window.event,t=t===void 0?16:hQ(t.type)),t):1}function yi(t,e,r,n){if(50<Ad)throw Ad=0,Ux=null,Error(re(185));wf(t,r,n),(!(Ve&2)||t!==cr)&&(t===cr&&(!(Ve&2)&&(l0|=r),qt===4&&da(t,br)),an(t,n),r===1&&Ve===0&&!(e.mode&1)&&(ru=Rt()+500,s0&&Ao()))}function an(t,e){var r=t.callbackNode;jV(t,e);var n=hm(t,t===cr?br:0);if(n===0)r!==null&&jI(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&jI(r),e===1)t.tag===0?DK(FS.bind(null,t)):NQ(FS.bind(null,t)),NK(function(){!(Ve&6)&&Ao()}),r=null;else{switch(AQ(n)){case 1:r=VB;break;case 4:r=sQ;break;case 16:r=fm;break;case 536870912:r=aQ;break;default:r=fm}r=Uk(r,Ck.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Ck(t,e){if(Lg=-1,Hg=0,Ve&6)throw Error(re(327));var r=t.callbackNode;if(Hl()&&t.callbackNode!==r)return null;var n=hm(t,t===cr?br:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Pm(t,n);else{e=n;var i=Ve;Ve|=2;var s=_k();(cr!==t||br!==e)&&(es=null,ru=Rt()+500,Jo(t,e));do try{i6();break}catch(o){Ek(t,o)}while(!0);rC(),Tm.current=s,Ve=i,Kt!==null?e=0:(cr=null,br=0,e=qt)}if(e!==0){if(e===2&&(i=ix(t),i!==0&&(n=i,e=Px(t,i))),e===1)throw r=Hd,Jo(t,0),da(t,n),an(t,Rt()),r;if(e===6)da(t,n);else{if(i=t.current.alternate,!(n&30)&&!r6(i)&&(e=Pm(t,n),e===2&&(s=ix(t),s!==0&&(n=s,e=Px(t,s))),e===1))throw r=Hd,Jo(t,0),da(t,n),an(t,Rt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(re(345));case 2:Uo(t,Zr,es);break;case 3:if(da(t,n),(n&130023424)===n&&(e=pC+500-Rt(),10<e)){if(hm(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Vr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=dx(Uo.bind(null,t,Zr,es),e);break}Uo(t,Zr,es);break;case 4:if(da(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-vi(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Rt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*t6(n/1960))-n,10<n){t.timeoutHandle=dx(Uo.bind(null,t,Zr,es),n);break}Uo(t,Zr,es);break;case 5:Uo(t,Zr,es);break;default:throw Error(re(329))}}}return an(t,Rt()),t.callbackNode===r?Ck.bind(null,t):null}function Px(t,e){var r=od;return t.current.memoizedState.isDehydrated&&(Jo(t,e).flags|=256),t=Pm(t,e),t!==2&&(e=Zr,Zr=r,e!==null&&Nx(e)),t}function Nx(t){Zr===null?Zr=t:Zr.push.apply(Zr,t)}function r6(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!wi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function da(t,e){for(e&=~mC,e&=~l0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-vi(e),n=1<<r;t[r]=-1,e&=~n}}function FS(t){if(Ve&6)throw Error(re(327));Hl();var e=hm(t,0);if(!(e&1))return an(t,Rt()),null;var r=Pm(t,e);if(t.tag!==0&&r===2){var n=ix(t);n!==0&&(e=n,r=Px(t,n))}if(r===1)throw r=Hd,Jo(t,0),da(t,e),an(t,Rt()),r;if(r===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Uo(t,Zr,es),an(t,Rt()),null}function vC(t,e){var r=Ve;Ve|=1;try{return t(e)}finally{Ve=r,Ve===0&&(ru=Rt()+500,s0&&Ao())}}function hA(t){pa!==null&&pa.tag===0&&!(Ve&6)&&Hl();var e=Ve;Ve|=1;var r=qn.transition,n=Je;try{if(qn.transition=null,Je=1,t)return t()}finally{Je=n,qn.transition=r,Ve=e,!(Ve&6)&&Ao()}}function yC(){gn=Fl.current,ft(Fl)}function Jo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,PK(r)),Kt!==null)for(r=Kt.return;r!==null;){var n=r;switch(ZB(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ym();break;case 3:eu(),ft(nn),ft(Or),AC();break;case 5:oC(n);break;case 4:eu();break;case 13:ft(_t);break;case 19:ft(_t);break;case 10:nC(n.type._context);break;case 22:case 23:yC()}r=r.return}if(cr=t,Kt=t=Na(t.current,null),br=gn=e,qt=0,Hd=null,mC=l0=fA=0,Zr=od=null,Vo!==null){for(e=0;e<Vo.length;e++)if(r=Vo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Vo=null}return t}function Ek(t,e){do{var r=Kt;try{if(rC(),jg.current=Sm,Im){for(var n=It.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Im=!1}if(dA=0,lr=Yt=It=null,sd=!1,Rd=0,gC.current=null,r===null||r.return===null){qt=1,Hd=e,Kt=null;break}e:{var s=t,a=r.return,o=r,A=e;if(e=br,o.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var l=A,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=pS(a);if(g!==null){g.flags&=-257,vS(g,a,o,s,e),g.mode&1&&mS(s,l,e),e=g,A=l;var m=e.updateQueue;if(m===null){var p=new Set;p.add(A),e.updateQueue=p}else m.add(A);break e}else{if(!(e&1)){mS(s,l,e),wC();break e}A=Error(re(426))}}else if(pt&&o.mode&1){var v=pS(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),vS(v,a,o,s,e),eC(tu(A,o));break e}}s=A=tu(A,o),qt!==4&&(qt=2),od===null?od=[s]:od.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=Ak(s,A,e);uS(s,y);break e;case 1:o=A;var w=s.type,B=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Ua===null||!Ua.has(B)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=lk(s,o,e);uS(s,I);break e}}s=s.return}while(s!==null)}Sk(r)}catch(T){e=T,Kt===r&&r!==null&&(Kt=r=r.return);continue}break}while(!0)}function _k(){var t=Tm.current;return Tm.current=Sm,t===null?Sm:t}function wC(){(qt===0||qt===3||qt===2)&&(qt=4),cr===null||!(fA&268435455)&&!(l0&268435455)||da(cr,br)}function Pm(t,e){var r=Ve;Ve|=2;var n=_k();(cr!==t||br!==e)&&(es=null,Jo(t,e));do try{n6();break}catch(i){Ek(t,i)}while(!0);if(rC(),Ve=r,Tm.current=n,Kt!==null)throw Error(re(261));return cr=null,br=0,qt}function n6(){for(;Kt!==null;)Ik(Kt)}function i6(){for(;Kt!==null&&!TV();)Ik(Kt)}function Ik(t){var e=Fk(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?Sk(t):Kt=e,gC.current=null}function Sk(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=qK(r,e),r!==null){r.flags&=32767,Kt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qt=6,Kt=null;return}}else if(r=XK(r,e,gn),r!==null){Kt=r;return}if(e=e.sibling,e!==null){Kt=e;return}Kt=e=t}while(e!==null);qt===0&&(qt=5)}function Uo(t,e,r){var n=Je,i=qn.transition;try{qn.transition=null,Je=1,s6(t,e,r,n)}finally{qn.transition=i,Je=n}return null}function s6(t,e,r,n){do Hl();while(pa!==null);if(Ve&6)throw Error(re(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(RV(t,s),t===cr&&(Kt=cr=null,br=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||kh||(kh=!0,Uk(fm,function(){return Hl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=qn.transition,qn.transition=null;var a=Je;Je=1;var o=Ve;Ve|=4,gC.current=null,ZK(t,r),bk(r,t),EK(ux),gm=!!lx,ux=lx=null,t.current=r,e6(r),FV(),Ve=o,Je=a,qn.transition=s}else t.current=r;if(kh&&(kh=!1,pa=t,Um=i),s=t.pendingLanes,s===0&&(Ua=null),NV(r.stateNode),an(t,Rt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Fm)throw Fm=!1,t=Fx,Fx=null,t;return Um&1&&t.tag!==0&&Hl(),s=t.pendingLanes,s&1?t===Ux?Ad++:(Ad=0,Ux=t):Ad=0,Ao(),null}function Hl(){if(pa!==null){var t=AQ(Um),e=qn.transition,r=Je;try{if(qn.transition=null,Je=16>t?16:t,pa===null)var n=!1;else{if(t=pa,pa=null,Um=0,Ve&6)throw Error(re(331));var i=Ve;for(Ve|=4,he=t.current;he!==null;){var s=he,a=s.child;if(he.flags&16){var o=s.deletions;if(o!==null){for(var A=0;A<o.length;A++){var l=o[A];for(he=l;he!==null;){var u=he;switch(u.tag){case 0:case 11:case 15:ad(8,u,s)}var d=u.child;if(d!==null)d.return=u,he=d;else for(;he!==null;){u=he;var f=u.sibling,g=u.return;if(yk(u),u===l){he=null;break}if(f!==null){f.return=g,he=f;break}he=g}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}he=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,he=a;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ad(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,he=y;break e}he=s.return}}var w=t.current;for(he=w;he!==null;){a=he;var B=a.child;if(a.subtreeFlags&2064&&B!==null)B.return=a,he=B;else e:for(a=w;he!==null;){if(o=he,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:A0(9,o)}}catch(T){Nt(o,o.return,T)}if(o===a){he=null;break e}var I=o.sibling;if(I!==null){I.return=o.return,he=I;break e}he=o.return}}if(Ve=i,Ao(),ki&&typeof ki.onPostCommitFiberRoot=="function")try{ki.onPostCommitFiberRoot(e0,t)}catch{}n=!0}return n}finally{Je=r,qn.transition=e}}return!1}function US(t,e,r){e=tu(r,e),e=Ak(t,e,1),t=Fa(t,e,1),e=Vr(),t!==null&&(wf(t,1,e),an(t,e))}function Nt(t,e,r){if(t.tag===3)US(t,t,r);else for(;e!==null;){if(e.tag===3){US(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ua===null||!Ua.has(n))){t=tu(r,t),t=lk(e,t,1),e=Fa(e,t,1),t=Vr(),e!==null&&(wf(e,1,t),an(e,t));break}}e=e.return}}function a6(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Vr(),t.pingedLanes|=t.suspendedLanes&r,cr===t&&(br&r)===r&&(qt===4||qt===3&&(br&130023424)===br&&500>Rt()-pC?Jo(t,0):mC|=r),an(t,e)}function Tk(t,e){e===0&&(t.mode&1?(e=Eh,Eh<<=1,!(Eh&130023424)&&(Eh=4194304)):e=1);var r=Vr();t=Is(t,e),t!==null&&(wf(t,e,r),an(t,r))}function o6(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Tk(t,r)}function A6(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(e),Tk(t,r)}var Fk;Fk=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)tn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return tn=!1,YK(t,e,r);tn=!!(t.flags&131072)}else tn=!1,pt&&e.flags&1048576&&QQ(e,bm,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Mg(t,e),t=e.pendingProps;var i=ql(e,Or.current);Ll(e,r),i=uC(null,e,n,t,i,r);var s=cC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(n)?(s=!0,wm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sC(e),i.updater=o0,e.stateNode=i,i._reactInternals=e,yx(e,n,t,r),e=bx(null,e,n,!0,s,r)):(e.tag=0,pt&&s&&JB(e),Mr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Mg(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=u6(n),t=ci(n,t),i){case 0:e=xx(null,e,n,t,r);break e;case 1:e=xS(null,e,n,t,r);break e;case 11:e=yS(null,e,n,t,r);break e;case 14:e=wS(null,e,n,ci(n.type,t),r);break e}throw Error(re(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ci(n,i),xx(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ci(n,i),xS(t,e,n,i,r);case 3:e:{if(fk(e),t===null)throw Error(re(387));n=e.pendingProps,s=e.memoizedState,i=s.element,MQ(t,e),Em(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=tu(Error(re(423)),e),e=bS(t,e,n,r,i);break e}else if(n!==i){i=tu(Error(re(424)),e),e=bS(t,e,n,r,i);break e}else for(wn=Ta(e.stateNode.containerInfo.firstChild),Bn=e,pt=!0,fi=null,r=jQ(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jl(),n===i){e=Ss(t,e,r);break e}Mr(t,e,n,r)}e=e.child}return e;case 5:return LQ(e),t===null&&mx(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,cx(n,i)?a=null:s!==null&&cx(n,s)&&(e.flags|=32),dk(t,e),Mr(t,e,a,r),e.child;case 6:return t===null&&mx(e),null;case 13:return hk(t,e,r);case 4:return aC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Zl(e,null,n,r):Mr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ci(n,i),yS(t,e,n,i,r);case 7:return Mr(t,e,e.pendingProps,r),e.child;case 8:return Mr(t,e,e.pendingProps.children,r),e.child;case 12:return Mr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,At(Bm,n._currentValue),n._currentValue=a,s!==null)if(wi(s.value,a)){if(s.children===i.children&&!nn.current){e=Ss(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var A=o.firstContext;A!==null;){if(A.context===n){if(s.tag===1){A=ws(-1,r&-r),A.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?A.next=A:(A.next=u.next,u.next=A),l.pending=A}}s.lanes|=r,A=s.alternate,A!==null&&(A.lanes|=r),px(s.return,r,e),o.lanes|=r;break}A=A.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(re(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),px(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Mr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ll(e,r),i=ei(i),n=n(i),e.flags|=1,Mr(t,e,n,r),e.child;case 14:return n=e.type,i=ci(n,e.pendingProps),i=ci(n.type,i),wS(t,e,n,i,r);case 15:return uk(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ci(n,i),Mg(t,e),e.tag=1,sn(n)?(t=!0,wm(e)):t=!1,Ll(e,r),ok(e,n,i),yx(e,n,i,r),bx(null,e,n,!0,t,r);case 19:return gk(t,e,r);case 22:return ck(t,e,r)}throw Error(re(156,e.tag))};function Uk(t,e){return iQ(t,e)}function l6(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,r,n){return new l6(t,e,r,n)}function xC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function u6(t){if(typeof t=="function")return xC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===MB)return 11;if(t===LB)return 14}return 2}function Na(t,e){var r=t.alternate;return r===null?(r=Kn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Vg(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")xC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case wl:return Zo(r.children,i,s,e);case RB:a=8,i|=8;break;case Vw:return t=Kn(12,r,e,i|2),t.elementType=Vw,t.lanes=s,t;case Kw:return t=Kn(13,r,e,i),t.elementType=Kw,t.lanes=s,t;case $w:return t=Kn(19,r,e,i),t.elementType=$w,t.lanes=s,t;case LN:return u0(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RN:a=10;break e;case MN:a=9;break e;case MB:a=11;break e;case LB:a=14;break e;case oa:a=16,n=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Kn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Zo(t,e,r,n){return t=Kn(7,t,n,e),t.lanes=r,t}function u0(t,e,r,n){return t=Kn(22,t,n,e),t.elementType=LN,t.lanes=r,t.stateNode={isHidden:!1},t}function Ny(t,e,r){return t=Kn(6,t,null,e),t.lanes=r,t}function Qy(t,e,r){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function c6(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hy(0),this.expirationTimes=hy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hy(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bC(t,e,r,n,i,s,a,o,A){return t=new c6(t,e,r,o,A),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Kn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sC(s),t}function d6(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Pk(t){if(!t)return za;t=t._reactInternals;e:{if(TA(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var r=t.type;if(sn(r))return PQ(t,r,e)}return e}function Nk(t,e,r,n,i,s,a,o,A){return t=bC(r,n,!0,t,i,s,a,o,A),t.context=Pk(null),r=t.current,n=Vr(),i=Pa(r),s=ws(n,i),s.callback=e??null,Fa(r,s,i),t.current.lanes=i,wf(t,i,n),an(t,n),t}function c0(t,e,r,n){var i=e.current,s=Vr(),a=Pa(i);return r=Pk(r),e.context===null?e.context=r:e.pendingContext=r,e=ws(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Fa(i,e,a),t!==null&&(yi(t,i,a,s),Dg(t,i,a)),a}function Nm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function PS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function BC(t,e){PS(t,e),(t=t.alternate)&&PS(t,e)}var Qk=typeof reportError=="function"?reportError:function(t){console.error(t)};function CC(t){this._internalRoot=t}d0.prototype.render=CC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));c0(t,e,null,null)};d0.prototype.unmount=CC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hA(function(){c0(null,t,null,null)}),e[_s]=null}};function d0(t){this._internalRoot=t}d0.prototype.unstable_scheduleHydration=function(t){if(t){var e=cQ();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ca.length&&e!==0&&e<ca[r].priority;r++);ca.splice(r,0,t),r===0&&fQ(t)}};function EC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function NS(){}function f6(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=Nm(a);s.call(l)}}var a=Nk(e,n,t,0,null,!1,!1,"",NS);return t._reactRootContainer=a,t[_s]=a.current,Qd(t.nodeType===8?t.parentNode:t),hA(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var l=Nm(A);o.call(l)}}var A=bC(t,0,!1,null,null,!1,!1,"",NS);return t._reactRootContainer=A,t[_s]=A.current,Qd(t.nodeType===8?t.parentNode:t),hA(function(){c0(e,A,r,n)}),A}function h0(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var A=Nm(a);o.call(A)}}c0(e,a,t,i)}else a=f6(r,e,t,i,n);return Nm(a)}lQ=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Dc(e.pendingLanes);r!==0&&(KB(e,r|1),an(e,Rt()),!(Ve&6)&&(ru=Rt()+500,Ao()))}break;case 13:hA(function(){var n=Is(t,1);if(n!==null){var i=Vr();yi(n,t,1,i)}}),BC(t,1)}};$B=function(t){if(t.tag===13){var e=Is(t,134217728);if(e!==null){var r=Vr();yi(e,t,134217728,r)}BC(t,134217728)}};uQ=function(t){if(t.tag===13){var e=Pa(t),r=Is(t,e);if(r!==null){var n=Vr();yi(r,t,e,n)}BC(t,e)}};cQ=function(){return Je};dQ=function(t,e){var r=Je;try{return Je=t,e()}finally{Je=r}};tx=function(t,e,r){switch(e){case"input":if(Ww(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=i0(n);if(!i)throw Error(re(90));VN(n),Ww(n,i)}}}break;case"textarea":$N(t,r);break;case"select":e=r.value,e!=null&&Dl(t,!!r.multiple,e,!1)}};JN=vC;ZN=hA;var h6={usingClientEntryPoint:!1,Events:[bf,Cl,i0,XN,qN,vC]},mc={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g6={bundleType:mc.bundleType,version:mc.version,rendererPackageName:mc.rendererPackageName,rendererConfig:mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:js.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rQ(t),t===null?null:t.stateNode},findFiberByHostInstance:mc.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{e0=Oh.inject(g6),ki=Oh}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h6;Un.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!EC(e))throw Error(re(200));return d6(t,e,null,r)};Un.createRoot=function(t,e){if(!EC(t))throw Error(re(299));var r=!1,n="",i=Qk;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bC(t,1,!1,null,null,r,!1,n,i),t[_s]=e.current,Qd(t.nodeType===8?t.parentNode:t),new CC(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=rQ(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return hA(t)};Un.hydrate=function(t,e,r){if(!f0(e))throw Error(re(200));return h0(null,t,e,!0,r)};Un.hydrateRoot=function(t,e,r){if(!EC(t))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Qk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Nk(e,null,t,1,r??null,i,!1,s,a),t[_s]=e.current,Qd(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new d0(e)};Un.render=function(t,e,r){if(!f0(e))throw Error(re(200));return h0(null,t,e,!1,r)};Un.unmountComponentAtNode=function(t){if(!f0(t))throw Error(re(40));return t._reactRootContainer?(hA(function(){h0(null,null,t,!1,function(){t._reactRootContainer=null,t[_s]=null})}),!0):!1};Un.unstable_batchedUpdates=vC;Un.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!f0(r))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return h0(t,e,r,!1,n)};Un.version="18.3.1-next-f1338f8080-20240426";function kk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kk)}catch(t){console.error(t)}}kk(),kN.exports=Un;var _C=kN.exports,QS=_C;Lw.createRoot=QS.createRoot,Lw.hydrateRoot=QS.hydrateRoot;const m6="modulepreload",p6=function(t){return"/Brainless/"+t},kS={},ds=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(A=>{if(A=p6(A),A in kS)return;kS[A]=!0;const l=A.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":m6,l||(d.as="script"),d.crossOrigin="",d.href=A,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((f,g)=>{d.addEventListener("load",f),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${A}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vd.apply(this,arguments)}var va;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(va||(va={}));const OS="popstate";function v6(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:o="",hash:A=""}=FA(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Qx("",{pathname:a,search:o,hash:A},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let A=i.location.href,l=A.indexOf("#");o=l===-1?A:A.slice(0,l)}return o+"#"+(typeof s=="string"?s:Qm(s))}function n(i,s){IC(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return w6(e,r,n,t)}function St(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function IC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y6(){return Math.random().toString(36).substr(2,8)}function DS(t,e){return{usr:t.state,key:t.key,idx:e}}function Qx(t,e,r,n){return r===void 0&&(r=null),Vd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?FA(e):e,{state:r,key:e&&e.key||n||y6()})}function Qm(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function FA(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function w6(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=va.Pop,A=null,l=u();l==null&&(l=0,a.replaceState(Vd({},a.state,{idx:l}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=va.Pop;let v=u(),y=v==null?null:v-l;l=v,A&&A({action:o,location:p.location,delta:y})}function f(v,y){o=va.Push;let w=Qx(p.location,v,y);r(w,v),l=u()+1;let B=DS(w,l),I=p.createHref(w);try{a.pushState(B,"",I)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(I)}s&&A&&A({action:o,location:p.location,delta:1})}function g(v,y){o=va.Replace;let w=Qx(p.location,v,y);r(w,v),l=u();let B=DS(w,l),I=p.createHref(w);a.replaceState(B,"",I),s&&A&&A({action:o,location:p.location,delta:0})}function m(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:Qm(v);return w=w.replace(/ $/,"%20"),St(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let p={get action(){return o},get location(){return t(i,a)},listen(v){if(A)throw new Error("A history only accepts one active listener");return i.addEventListener(OS,d),A=v,()=>{i.removeEventListener(OS,d),A=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(v){return a.go(v)}};return p}var jS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jS||(jS={}));function x6(t,e,r){return r===void 0&&(r="/"),b6(t,e,r)}function b6(t,e,r,n){let i=typeof e=="string"?FA(e):e,s=nu(i.pathname||"/",r);if(s==null)return null;let a=Ok(t);B6(a);let o=null;for(let A=0;o==null&&A<a.length;++A){let l=Q6(s);o=P6(a[A],l)}return o}function Ok(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let A={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};A.relativePath.startsWith("/")&&(St(A.relativePath.startsWith(n),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(n.length));let l=Qa([n,A.relativePath]),u=r.concat(A);s.children&&s.children.length>0&&(St(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Ok(s.children,e,u,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:F6(l,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let A of Dk(s.path))i(s,a,A)}),e}function Dk(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=Dk(n.join("/")),o=[];return o.push(...a.map(A=>A===""?s:[s,A].join("/"))),i&&o.push(...a),o.map(A=>t.startsWith("/")&&A===""?"/":A)}function B6(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:U6(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const C6=/^:[\w-]+$/,E6=3,_6=2,I6=1,S6=10,T6=-2,RS=t=>t==="*";function F6(t,e){let r=t.split("/"),n=r.length;return r.some(RS)&&(n+=T6),e&&(n+=_6),r.filter(i=>!RS(i)).reduce((i,s)=>i+(C6.test(s)?E6:s===""?I6:S6),n)}function U6(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function P6(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let A=n[o],l=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=kx({path:A.relativePath,caseSensitive:A.caseSensitive,end:l},u),f=A.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:Qa([s,d.pathname]),pathnameBase:j6(Qa([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Qa([s,d.pathnameBase]))}return a}function kx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=N6(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((l,u,d)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let p=o[d]||"";a=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const m=o[d];return g&&!m?l[f]=void 0:l[f]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:a,pattern:t}}function N6(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),IC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,A)=>(n.push({paramName:o,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Q6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return IC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function nu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function k6(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?FA(t):t;return{pathname:r?r.startsWith("/")?r:O6(r,e):e,search:R6(n),hash:M6(i)}}function O6(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ky(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function D6(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function SC(t,e){let r=D6(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function TC(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=FA(t):(i=Vd({},t),St(!i.pathname||!i.pathname.includes("?"),ky("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),ky("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),ky("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}o=d>=0?e[d]:"/"}let A=k6(i,o),l=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&r.endsWith("/");return!A.pathname.endsWith("/")&&(l||u)&&(A.pathname+="/"),A}const Qa=t=>t.join("/").replace(/\/\/+/g,"/"),j6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),R6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,M6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function L6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jk=["post","put","patch","delete"];new Set(jk);const H6=["get",...jk];new Set(H6);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kd(){return Kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kd.apply(this,arguments)}const g0=x.createContext(null),Rk=x.createContext(null),Rs=x.createContext(null),m0=x.createContext(null),lo=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Mk=x.createContext(null);function V6(t,e){let{relative:r}=e===void 0?{}:e;Uu()||St(!1);let{basename:n,navigator:i}=x.useContext(Rs),{hash:s,pathname:a,search:o}=p0(t,{relative:r}),A=a;return n!=="/"&&(A=a==="/"?n:Qa([n,a])),i.createHref({pathname:A,search:o,hash:s})}function Uu(){return x.useContext(m0)!=null}function Pu(){return Uu()||St(!1),x.useContext(m0).location}function Lk(t){x.useContext(Rs).static||x.useLayoutEffect(t)}function Hk(){let{isDataRoute:t}=x.useContext(lo);return t?r$():K6()}function K6(){Uu()||St(!1);let t=x.useContext(g0),{basename:e,future:r,navigator:n}=x.useContext(Rs),{matches:i}=x.useContext(lo),{pathname:s}=Pu(),a=JSON.stringify(SC(i,r.v7_relativeSplatPath)),o=x.useRef(!1);return Lk(()=>{o.current=!0}),x.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=TC(l,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Qa([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,s,t])}function p0(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=x.useContext(Rs),{matches:i}=x.useContext(lo),{pathname:s}=Pu(),a=JSON.stringify(SC(i,n.v7_relativeSplatPath));return x.useMemo(()=>TC(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function $6(t,e){return G6(t,e)}function G6(t,e,r,n){Uu()||St(!1);let{navigator:i}=x.useContext(Rs),{matches:s}=x.useContext(lo),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let A=a?a.pathnameBase:"/";a&&a.route;let l=Pu(),u;if(e){var d;let v=typeof e=="string"?FA(e):e;A==="/"||(d=v.pathname)!=null&&d.startsWith(A)||St(!1),u=v}else u=l;let f=u.pathname||"/",g=f;if(A!=="/"){let v=A.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=x6(t,{pathname:g}),p=q6(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Qa([A,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?A:Qa([A,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return e&&p?x.createElement(m0.Provider,{value:{location:Kd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:va.Pop}},p):p}function z6(){let t=t$(),e=L6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),r?x.createElement("pre",{style:i},r):null,null)}const W6=x.createElement(z6,null);class Y6 extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?x.createElement(lo.Provider,{value:this.props.routeContext},x.createElement(Mk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function X6(t){let{routeContext:e,match:r,children:n}=t,i=x.useContext(g0);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(lo.Provider,{value:e},n)}function q6(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||St(!1),a=a.slice(0,Math.min(a.length,u+1))}let A=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:f,errors:g}=r,m=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||m){A=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let g,m=!1,p=null,v=null;r&&(g=o&&d.route.id?o[d.route.id]:void 0,p=d.route.errorElement||W6,A&&(l<0&&f===0?(m=!0,v=null):l===f&&(m=!0,v=d.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,f+1)),w=()=>{let B;return g?B=p:m?B=v:d.route.Component?B=x.createElement(d.route.Component,null):d.route.element?B=d.route.element:B=u,x.createElement(X6,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:B})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?x.createElement(Y6,{location:r.location,revalidation:r.revalidation,component:p,error:g,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var Vk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Vk||{}),km=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(km||{});function J6(t){let e=x.useContext(g0);return e||St(!1),e}function Z6(t){let e=x.useContext(Rk);return e||St(!1),e}function e$(t){let e=x.useContext(lo);return e||St(!1),e}function Kk(t){let e=e$(),r=e.matches[e.matches.length-1];return r.route.id||St(!1),r.route.id}function t$(){var t;let e=x.useContext(Mk),r=Z6(km.UseRouteError),n=Kk(km.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function r$(){let{router:t}=J6(Vk.UseNavigateStable),e=Kk(km.UseNavigateStable),r=x.useRef(!1);return Lk(()=>{r.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Kd({fromRouteId:e},s)))},[t,e])}const MS={};function n$(t,e){MS[e]||(MS[e]=!0,console.warn(e))}const LS=(t,e,r)=>n$(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function i$(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&LS("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&LS("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function s$(t){let{to:e,replace:r,state:n,relative:i}=t;Uu()||St(!1);let{future:s,static:a}=x.useContext(Rs),{matches:o}=x.useContext(lo),{pathname:A}=Pu(),l=Hk(),u=TC(e,SC(o,s.v7_relativeSplatPath),A,i==="path"),d=JSON.stringify(u);return x.useEffect(()=>l(JSON.parse(d),{replace:r,state:n,relative:i}),[l,d,i,r,n]),null}function Dn(t){St(!1)}function a$(t){let{basename:e="/",children:r=null,location:n,navigationType:i=va.Pop,navigator:s,static:a=!1,future:o}=t;Uu()&&St(!1);let A=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:A,navigator:s,static:a,future:Kd({v7_relativeSplatPath:!1},o)}),[A,o,s,a]);typeof n=="string"&&(n=FA(n));let{pathname:u="/",search:d="",hash:f="",state:g=null,key:m="default"}=n,p=x.useMemo(()=>{let v=nu(u,A);return v==null?null:{location:{pathname:v,search:d,hash:f,state:g,key:m},navigationType:i}},[A,u,d,f,g,m,i]);return p==null?null:x.createElement(Rs.Provider,{value:l},x.createElement(m0.Provider,{children:r,value:p}))}function o$(t){let{children:e,location:r}=t;return $6(Ox(e),r)}new Promise(()=>{});function Ox(t,e){e===void 0&&(e=[]);let r=[];return x.Children.forEach(t,(n,i)=>{if(!x.isValidElement(n))return;let s=[...e,i];if(n.type===x.Fragment){r.push.apply(r,Ox(n.props.children,s));return}n.type!==Dn&&St(!1),!n.props.index||!n.props.children||St(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Ox(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Om(){return Om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Om.apply(this,arguments)}function $k(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function A$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function l$(t,e){return t.button===0&&(!e||e==="_self")&&!A$(t)}const u$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],c$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],d$="6";try{window.__reactRouterVersion=d$}catch{}const f$=x.createContext({isTransitioning:!1}),h$="startTransition",HS=NN[h$];function g$(t){let{basename:e,children:r,future:n,window:i}=t,s=x.useRef();s.current==null&&(s.current=v6({window:i,v5Compat:!0}));let a=s.current,[o,A]=x.useState({action:a.action,location:a.location}),{v7_startTransition:l}=n||{},u=x.useCallback(d=>{l&&HS?HS(()=>A(d)):A(d)},[A,l]);return x.useLayoutEffect(()=>a.listen(u),[a,u]),x.useEffect(()=>i$(n),[n]),x.createElement(a$,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const m$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v$=x.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:A,to:l,preventScrollReset:u,viewTransition:d}=e,f=$k(e,u$),{basename:g}=x.useContext(Rs),m,p=!1;if(typeof l=="string"&&p$.test(l)&&(m=l,m$))try{let B=new URL(window.location.href),I=l.startsWith("//")?new URL(B.protocol+l):new URL(l),T=nu(I.pathname,g);I.origin===B.origin&&T!=null?l=T+I.search+I.hash:p=!0}catch{}let v=V6(l,{relative:i}),y=x$(l,{replace:a,state:o,target:A,preventScrollReset:u,relative:i,viewTransition:d});function w(B){n&&n(B),B.defaultPrevented||y(B)}return x.createElement("a",Om({},f,{href:m||v,onClick:p||s?n:w,ref:r,target:A}))}),y$=x.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:A,viewTransition:l,children:u}=e,d=$k(e,c$),f=p0(A,{relative:d.relative}),g=Pu(),m=x.useContext(Rk),{navigator:p,basename:v}=x.useContext(Rs),y=m!=null&&b$(f)&&l===!0,w=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,B=g.pathname,I=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(B=B.toLowerCase(),I=I?I.toLowerCase():null,w=w.toLowerCase()),I&&v&&(I=nu(I,v)||I);const T=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let F=B===w||!a&&B.startsWith(w)&&B.charAt(T)==="/",C=I!=null&&(I===w||!a&&I.startsWith(w)&&I.charAt(w.length)==="/"),_={isActive:F,isPending:C,isTransitioning:y},S=F?n:void 0,P;typeof s=="function"?P=s(_):P=[s,F?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let Q=typeof o=="function"?o(_):o;return x.createElement(v$,Om({},d,{"aria-current":S,className:P,ref:r,style:Q,to:A,viewTransition:l}),typeof u=="function"?u(_):u)});var Dx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Dx||(Dx={}));var VS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(VS||(VS={}));function w$(t){let e=x.useContext(g0);return e||St(!1),e}function x$(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,A=Hk(),l=Pu(),u=p0(t,{relative:a});return x.useCallback(d=>{if(l$(d,r)){d.preventDefault();let f=n!==void 0?n:Qm(l)===Qm(u);A(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[l,A,u,n,i,r,t,s,a,o])}function b$(t,e){e===void 0&&(e={});let r=x.useContext(f$);r==null&&St(!1);let{basename:n}=w$(Dx.useViewTransitionState),i=p0(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=nu(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=nu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return kx(i.pathname,a)!=null||kx(i.pathname,s)!=null}function B$(){const[t,e]=x.useState(null),[r,n]=x.useState(null),[i,s]=x.useState(null);x.useEffect(()=>{const A=setInterval(()=>{const l=new Date,u=l.getHours(),d=l.getMinutes(),f=u*60+d,g=4*60+30,m=13*60,p=21*60+30;let v=null;f>=g&&f<m?(v=m-f,n("workEnd"),s("morning")):f>=m&&f<p?(v=p-f,n("workEnd"),s("afternoon")):(f<g?v=g-f:v=1440-f+g,n("workStart"),s("morning")),e(v)},1e3);return()=>clearInterval(A)},[]);const a=A=>A===null?"text-text-secondary":A<=30?"text-red-400 bg-red-400/10 ring-1 ring-red-400":A<=120?"text-orange-400 bg-orange-400/10 ring-1 ring-orange-400":"text-primary bg-primary/10 ring-1 ring-primary",o=A=>{if(A===null)return"";const l=Math.floor(A/60),u=A%60;return`${l}小時 ${u}分鐘`};return c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx("span",{className:"text-text-secondary",children:r==="workEnd"?`${i==="morning"?"早班":"晚班"}離下班還有 `:"早班離上班還有 "}),c.jsx("span",{className:`
        font-medium px-3 py-1 rounded-full
        ${a(t)}
        transition-all duration-300
      `,children:o(t)})]})}var KS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},C$=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],A=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(A>>10)),e[n++]=String.fromCharCode(56320+(A&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},zk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,A=i+2<t.length,l=A?t[i+2]:0,u=s>>2,d=(s&3)<<4|o>>4;let f=(o&15)<<2|l>>6,g=l&63;A||(g=64,a||(f=64)),n.push(r[u],r[d],r[f],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Gk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const l=i<t.length?r[t.charAt(i)]:64;++i;const d=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||l==null||d==null)throw new E$;const f=s<<2|o>>4;if(n.push(f),l!==64){const g=o<<4&240|l>>2;if(n.push(g),d!==64){const m=l<<6&192|d;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class E$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _$=function(t){const e=Gk(t);return zk.encodeByteArray(e,!0)},Dm=function(t){return _$(t).replace(/\./g,"")},Wk=function(t){try{return zk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=()=>I$().__FIREBASE_DEFAULTS__,T$=()=>{if(typeof process>"u"||typeof KS>"u")return;const t=KS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},F$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Wk(t[1]);return e&&JSON.parse(e)},v0=()=>{try{return S$()||T$()||F$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Yk=t=>{var e,r;return(r=(e=v0())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},U$=t=>{const e=Yk(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Xk=()=>{var t;return(t=v0())===null||t===void 0?void 0:t.config},qk=t=>{var e;return(e=v0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dm(JSON.stringify(r)),Dm(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function k$(){var t;const e=(t=v0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function D$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function j$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R$(){const t=Jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Jk(){return!k$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zk(){try{return typeof indexedDB=="object"}catch{return!1}}function M$(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$="FirebaseError";class Ms extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=L$,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cf.prototype.create)}}class Cf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?H$(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ms(i,o,n)}}function H$(t,e){return t.replace(V$,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const V$=/\{\$([^}]+)}/g;function K$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jm(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if($S(s)&&$S(a)){if(!jm(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function $S(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Rc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Mc(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function $$(t,e){const r=new G$(t,e);return r.subscribe.bind(r)}class G${constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");z$(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Oy),i.error===void 0&&(i.error=Oy),i.complete===void 0&&(i.complete=Oy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z$(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Oy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){return t&&t._delegate?t._delegate:t}class gA{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W$=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new P$;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X$(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Y$(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Y$(t){return t===Po?void 0:t}function X$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new W$(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const J$={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},Z$=De.INFO,e8={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},t8=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=e8[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let FC=class{constructor(e){this.name=e,this._logLevel=Z$,this._logHandler=t8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}};const r8=(t,e)=>e.some(r=>t instanceof r);let GS,zS;function n8(){return GS||(GS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i8(){return zS||(zS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eO=new WeakMap,jx=new WeakMap,tO=new WeakMap,Dy=new WeakMap,UC=new WeakMap;function s8(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(ka(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&eO.set(r,t)}).catch(()=>{}),UC.set(e,t),e}function a8(t){if(jx.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});jx.set(t,e)}let Rx={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return jx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tO.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ka(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function o8(t){Rx=t(Rx)}function A8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(jy(this),e,...r);return tO.set(n,e.sort?e.sort():[e]),ka(n)}:i8().includes(t)?function(...e){return t.apply(jy(this),e),ka(eO.get(this))}:function(...e){return ka(t.apply(jy(this),e))}}function l8(t){return typeof t=="function"?A8(t):(t instanceof IDBTransaction&&a8(t),r8(t,n8())?new Proxy(t,Rx):t)}function ka(t){if(t instanceof IDBRequest)return s8(t);if(Dy.has(t))return Dy.get(t);const e=l8(t);return e!==t&&(Dy.set(t,e),UC.set(e,t)),e}const jy=t=>UC.get(t);function u8(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=ka(a);return n&&a.addEventListener("upgradeneeded",A=>{n(ka(a.result),A.oldVersion,A.newVersion,ka(a.transaction),A)}),r&&a.addEventListener("blocked",A=>r(A.oldVersion,A.newVersion,A)),o.then(A=>{s&&A.addEventListener("close",()=>s()),i&&A.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}const c8=["get","getKey","getAll","getAllKeys","count"],d8=["put","add","delete","clear"],Ry=new Map;function WS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ry.get(e))return Ry.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=d8.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||c8.includes(r)))return;const s=async function(a,...o){const A=this.transaction(a,i?"readwrite":"readonly");let l=A.store;return n&&(l=l.index(o.shift())),(await Promise.all([l[r](...o),i&&A.done]))[0]};return Ry.set(e,s),s}o8(t=>({...t,get:(e,r,n)=>WS(e,r)||t.get(e,r,n),has:(e,r)=>!!WS(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(h8(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function h8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mx="@firebase/app",YS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new FC("@firebase/app"),g8="@firebase/app-compat",m8="@firebase/analytics-compat",p8="@firebase/analytics",v8="@firebase/app-check-compat",y8="@firebase/app-check",w8="@firebase/auth",x8="@firebase/auth-compat",b8="@firebase/database",B8="@firebase/data-connect",C8="@firebase/database-compat",E8="@firebase/functions",_8="@firebase/functions-compat",I8="@firebase/installations",S8="@firebase/installations-compat",T8="@firebase/messaging",F8="@firebase/messaging-compat",U8="@firebase/performance",P8="@firebase/performance-compat",N8="@firebase/remote-config",Q8="@firebase/remote-config-compat",k8="@firebase/storage",O8="@firebase/storage-compat",D8="@firebase/firestore",j8="@firebase/vertexai-preview",R8="@firebase/firestore-compat",M8="firebase",L8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="[DEFAULT]",H8={[Mx]:"fire-core",[g8]:"fire-core-compat",[p8]:"fire-analytics",[m8]:"fire-analytics-compat",[y8]:"fire-app-check",[v8]:"fire-app-check-compat",[w8]:"fire-auth",[x8]:"fire-auth-compat",[b8]:"fire-rtdb",[B8]:"fire-data-connect",[C8]:"fire-rtdb-compat",[E8]:"fire-fn",[_8]:"fire-fn-compat",[I8]:"fire-iid",[S8]:"fire-iid-compat",[T8]:"fire-fcm",[F8]:"fire-fcm-compat",[U8]:"fire-perf",[P8]:"fire-perf-compat",[N8]:"fire-rc",[Q8]:"fire-rc-compat",[k8]:"fire-gcs",[O8]:"fire-gcs-compat",[D8]:"fire-fst",[R8]:"fire-fst-compat",[j8]:"fire-vertex","fire-js":"fire-js",[M8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=new Map,V8=new Map,Hx=new Map;function XS(t,e){try{t.container.addComponent(e)}catch(r){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function iu(t){const e=t.name;if(Hx.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;Hx.set(e,t);for(const r of $d.values())XS(r,t);for(const r of V8.values())XS(r,t);return!0}function PC(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function fs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oa=new Cf("app","Firebase",K8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new gA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=L8;function rO(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Lx,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Oa.create("bad-app-name",{appName:String(i)});if(r||(r=Xk()),!r)throw Oa.create("no-options");const s=$d.get(i);if(s){if(jm(r,s.options)&&jm(n,s.config))return s;throw Oa.create("duplicate-app",{appName:i})}const a=new q$(i);for(const A of Hx.values())a.addComponent(A);const o=new $8(r,n,a);return $d.set(i,o),o}function nO(t=Lx){const e=$d.get(t);if(!e&&t===Lx&&Xk())return rO();if(!e)throw Oa.create("no-app",{appName:t});return e}function qS(){return Array.from($d.values())}function Da(t,e,r){var n;let i=(n=H8[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(o.join(" "));return}iu(new gA(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8="firebase-heartbeat-database",z8=1,Gd="firebase-heartbeat-store";let My=null;function iO(){return My||(My=u8(G8,z8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gd)}catch(r){console.warn(r)}}}}).catch(t=>{throw Oa.create("idb-open",{originalErrorMessage:t.message})})),My}async function W8(t){try{const r=(await iO()).transaction(Gd),n=await r.objectStore(Gd).get(sO(t));return await r.done,n}catch(e){if(e instanceof Ms)Ts.warn(e.message);else{const r=Oa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ts.warn(r.message)}}}async function JS(t,e){try{const n=(await iO()).transaction(Gd,"readwrite");await n.objectStore(Gd).put(e,sO(t)),await n.done}catch(r){if(r instanceof Ms)Ts.warn(r.message);else{const n=Oa.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ts.warn(n.message)}}}function sO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=1024,X8=30*24*60*60*1e3;class q8{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Z8(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ZS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=X8}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ts.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=ZS(),{heartbeatsToSend:n,unsentEntries:i}=J8(this._heartbeatsCache.heartbeats),s=Dm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Ts.warn(r),""}}}function ZS(){return new Date().toISOString().substring(0,10)}function J8(t,e=Y8){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),eT(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),eT(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Z8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zk()?M$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await W8(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return JS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return JS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function eT(t){return Dm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){iu(new gA("platform-logger",e=>new f8(e),"PRIVATE")),iu(new gA("heartbeat",e=>new q8(e),"PRIVATE")),Da(Mx,YS,t),Da(Mx,YS,"esm2017"),Da("fire-js","")}e9("");var tT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eA,aO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function S(){}S.prototype=_.prototype,C.D=_.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(P,Q,k){for(var N=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)N[ae-2]=arguments[ae];return _.prototype[Q].apply(P,N)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,_,S){S||(S=0);var P=Array(16);if(typeof _=="string")for(var Q=0;16>Q;++Q)P[Q]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(Q=0;16>Q;++Q)P[Q]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=C.g[0],S=C.g[1],Q=C.g[2];var k=C.g[3],N=_+(k^S&(Q^k))+P[0]+3614090360&4294967295;_=S+(N<<7&4294967295|N>>>25),N=k+(Q^_&(S^Q))+P[1]+3905402710&4294967295,k=_+(N<<12&4294967295|N>>>20),N=Q+(S^k&(_^S))+P[2]+606105819&4294967295,Q=k+(N<<17&4294967295|N>>>15),N=S+(_^Q&(k^_))+P[3]+3250441966&4294967295,S=Q+(N<<22&4294967295|N>>>10),N=_+(k^S&(Q^k))+P[4]+4118548399&4294967295,_=S+(N<<7&4294967295|N>>>25),N=k+(Q^_&(S^Q))+P[5]+1200080426&4294967295,k=_+(N<<12&4294967295|N>>>20),N=Q+(S^k&(_^S))+P[6]+2821735955&4294967295,Q=k+(N<<17&4294967295|N>>>15),N=S+(_^Q&(k^_))+P[7]+4249261313&4294967295,S=Q+(N<<22&4294967295|N>>>10),N=_+(k^S&(Q^k))+P[8]+1770035416&4294967295,_=S+(N<<7&4294967295|N>>>25),N=k+(Q^_&(S^Q))+P[9]+2336552879&4294967295,k=_+(N<<12&4294967295|N>>>20),N=Q+(S^k&(_^S))+P[10]+4294925233&4294967295,Q=k+(N<<17&4294967295|N>>>15),N=S+(_^Q&(k^_))+P[11]+2304563134&4294967295,S=Q+(N<<22&4294967295|N>>>10),N=_+(k^S&(Q^k))+P[12]+1804603682&4294967295,_=S+(N<<7&4294967295|N>>>25),N=k+(Q^_&(S^Q))+P[13]+4254626195&4294967295,k=_+(N<<12&4294967295|N>>>20),N=Q+(S^k&(_^S))+P[14]+2792965006&4294967295,Q=k+(N<<17&4294967295|N>>>15),N=S+(_^Q&(k^_))+P[15]+1236535329&4294967295,S=Q+(N<<22&4294967295|N>>>10),N=_+(Q^k&(S^Q))+P[1]+4129170786&4294967295,_=S+(N<<5&4294967295|N>>>27),N=k+(S^Q&(_^S))+P[6]+3225465664&4294967295,k=_+(N<<9&4294967295|N>>>23),N=Q+(_^S&(k^_))+P[11]+643717713&4294967295,Q=k+(N<<14&4294967295|N>>>18),N=S+(k^_&(Q^k))+P[0]+3921069994&4294967295,S=Q+(N<<20&4294967295|N>>>12),N=_+(Q^k&(S^Q))+P[5]+3593408605&4294967295,_=S+(N<<5&4294967295|N>>>27),N=k+(S^Q&(_^S))+P[10]+38016083&4294967295,k=_+(N<<9&4294967295|N>>>23),N=Q+(_^S&(k^_))+P[15]+3634488961&4294967295,Q=k+(N<<14&4294967295|N>>>18),N=S+(k^_&(Q^k))+P[4]+3889429448&4294967295,S=Q+(N<<20&4294967295|N>>>12),N=_+(Q^k&(S^Q))+P[9]+568446438&4294967295,_=S+(N<<5&4294967295|N>>>27),N=k+(S^Q&(_^S))+P[14]+3275163606&4294967295,k=_+(N<<9&4294967295|N>>>23),N=Q+(_^S&(k^_))+P[3]+4107603335&4294967295,Q=k+(N<<14&4294967295|N>>>18),N=S+(k^_&(Q^k))+P[8]+1163531501&4294967295,S=Q+(N<<20&4294967295|N>>>12),N=_+(Q^k&(S^Q))+P[13]+2850285829&4294967295,_=S+(N<<5&4294967295|N>>>27),N=k+(S^Q&(_^S))+P[2]+4243563512&4294967295,k=_+(N<<9&4294967295|N>>>23),N=Q+(_^S&(k^_))+P[7]+1735328473&4294967295,Q=k+(N<<14&4294967295|N>>>18),N=S+(k^_&(Q^k))+P[12]+2368359562&4294967295,S=Q+(N<<20&4294967295|N>>>12),N=_+(S^Q^k)+P[5]+4294588738&4294967295,_=S+(N<<4&4294967295|N>>>28),N=k+(_^S^Q)+P[8]+2272392833&4294967295,k=_+(N<<11&4294967295|N>>>21),N=Q+(k^_^S)+P[11]+1839030562&4294967295,Q=k+(N<<16&4294967295|N>>>16),N=S+(Q^k^_)+P[14]+4259657740&4294967295,S=Q+(N<<23&4294967295|N>>>9),N=_+(S^Q^k)+P[1]+2763975236&4294967295,_=S+(N<<4&4294967295|N>>>28),N=k+(_^S^Q)+P[4]+1272893353&4294967295,k=_+(N<<11&4294967295|N>>>21),N=Q+(k^_^S)+P[7]+4139469664&4294967295,Q=k+(N<<16&4294967295|N>>>16),N=S+(Q^k^_)+P[10]+3200236656&4294967295,S=Q+(N<<23&4294967295|N>>>9),N=_+(S^Q^k)+P[13]+681279174&4294967295,_=S+(N<<4&4294967295|N>>>28),N=k+(_^S^Q)+P[0]+3936430074&4294967295,k=_+(N<<11&4294967295|N>>>21),N=Q+(k^_^S)+P[3]+3572445317&4294967295,Q=k+(N<<16&4294967295|N>>>16),N=S+(Q^k^_)+P[6]+76029189&4294967295,S=Q+(N<<23&4294967295|N>>>9),N=_+(S^Q^k)+P[9]+3654602809&4294967295,_=S+(N<<4&4294967295|N>>>28),N=k+(_^S^Q)+P[12]+3873151461&4294967295,k=_+(N<<11&4294967295|N>>>21),N=Q+(k^_^S)+P[15]+530742520&4294967295,Q=k+(N<<16&4294967295|N>>>16),N=S+(Q^k^_)+P[2]+3299628645&4294967295,S=Q+(N<<23&4294967295|N>>>9),N=_+(Q^(S|~k))+P[0]+4096336452&4294967295,_=S+(N<<6&4294967295|N>>>26),N=k+(S^(_|~Q))+P[7]+1126891415&4294967295,k=_+(N<<10&4294967295|N>>>22),N=Q+(_^(k|~S))+P[14]+2878612391&4294967295,Q=k+(N<<15&4294967295|N>>>17),N=S+(k^(Q|~_))+P[5]+4237533241&4294967295,S=Q+(N<<21&4294967295|N>>>11),N=_+(Q^(S|~k))+P[12]+1700485571&4294967295,_=S+(N<<6&4294967295|N>>>26),N=k+(S^(_|~Q))+P[3]+2399980690&4294967295,k=_+(N<<10&4294967295|N>>>22),N=Q+(_^(k|~S))+P[10]+4293915773&4294967295,Q=k+(N<<15&4294967295|N>>>17),N=S+(k^(Q|~_))+P[1]+2240044497&4294967295,S=Q+(N<<21&4294967295|N>>>11),N=_+(Q^(S|~k))+P[8]+1873313359&4294967295,_=S+(N<<6&4294967295|N>>>26),N=k+(S^(_|~Q))+P[15]+4264355552&4294967295,k=_+(N<<10&4294967295|N>>>22),N=Q+(_^(k|~S))+P[6]+2734768916&4294967295,Q=k+(N<<15&4294967295|N>>>17),N=S+(k^(Q|~_))+P[13]+1309151649&4294967295,S=Q+(N<<21&4294967295|N>>>11),N=_+(Q^(S|~k))+P[4]+4149444226&4294967295,_=S+(N<<6&4294967295|N>>>26),N=k+(S^(_|~Q))+P[11]+3174756917&4294967295,k=_+(N<<10&4294967295|N>>>22),N=Q+(_^(k|~S))+P[2]+718787259&4294967295,Q=k+(N<<15&4294967295|N>>>17),N=S+(k^(Q|~_))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(Q+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+Q&4294967295,C.g[3]=C.g[3]+k&4294967295}n.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var S=_-this.blockSize,P=this.B,Q=this.h,k=0;k<_;){if(Q==0)for(;k<=S;)i(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<_;)if(P[Q++]=C.charCodeAt(k++),Q==this.blockSize){i(this,P),Q=0;break}}else for(;k<_;)if(P[Q++]=C[k++],Q==this.blockSize){i(this,P),Q=0;break}}this.h=Q,this.o+=_},n.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var S=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=S&255,S/=256;for(this.u(C),C=Array(16),_=S=0;4>_;++_)for(var P=0;32>P;P+=8)C[S++]=this.g[_]>>>P&255;return C};function s(C,_){var S=o;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=_(C)}function a(C,_){this.h=_;for(var S=[],P=!0,Q=C.length-1;0<=Q;Q--){var k=C[Q]|0;P&&k==_||(S[Q]=k,P=!1)}this.g=S}var o={};function A(C){return-128<=C&&128>C?s(C,function(_){return new a([_|0],0>_?-1:0)}):new a([C|0],0>C?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return v(l(-C));for(var _=[],S=1,P=0;C>=S;P++)_[P]=C/S|0,S*=4294967296;return new a(_,0)}function u(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return v(u(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=l(Math.pow(_,8)),P=d,Q=0;Q<C.length;Q+=8){var k=Math.min(8,C.length-Q),N=parseInt(C.substring(Q,Q+k),_);8>k?(k=l(Math.pow(_,k)),P=P.j(k).add(l(N))):(P=P.j(S),P=P.add(l(N)))}return P}var d=A(0),f=A(1),g=A(16777216);t=a.prototype,t.m=function(){if(p(this))return-v(this).m();for(var C=0,_=1,S=0;S<this.g.length;S++){var P=this.i(S);C+=(0<=P?P:4294967296+P)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(m(this))return"0";if(p(this))return"-"+v(this).toString(C);for(var _=l(Math.pow(C,6)),S=this,P="";;){var Q=I(S,_).g;S=y(S,Q.j(_));var k=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=Q,m(S))return k+P;for(;6>k.length;)k="0"+k;P=k+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function m(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function p(C){return C.h==-1}t.l=function(C){return C=y(this,C),p(C)?-1:m(C)?0:1};function v(C){for(var _=C.g.length,S=[],P=0;P<_;P++)S[P]=~C.g[P];return new a(S,~C.h).add(f)}t.abs=function(){return p(this)?v(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0,Q=0;Q<=_;Q++){var k=P+(this.i(Q)&65535)+(C.i(Q)&65535),N=(k>>>16)+(this.i(Q)>>>16)+(C.i(Q)>>>16);P=N>>>16,k&=65535,N&=65535,S[Q]=N<<16|k}return new a(S,S[S.length-1]&-2147483648?-1:0)};function y(C,_){return C.add(v(_))}t.j=function(C){if(m(this)||m(C))return d;if(p(this))return p(C)?v(this).j(v(C)):v(v(this).j(C));if(p(C))return v(this.j(v(C)));if(0>this.l(g)&&0>C.l(g))return l(this.m()*C.m());for(var _=this.g.length+C.g.length,S=[],P=0;P<2*_;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var Q=0;Q<C.g.length;Q++){var k=this.i(P)>>>16,N=this.i(P)&65535,ae=C.i(Q)>>>16,be=C.i(Q)&65535;S[2*P+2*Q]+=N*be,w(S,2*P+2*Q),S[2*P+2*Q+1]+=k*be,w(S,2*P+2*Q+1),S[2*P+2*Q+1]+=N*ae,w(S,2*P+2*Q+1),S[2*P+2*Q+2]+=k*ae,w(S,2*P+2*Q+2)}for(P=0;P<_;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=_;P<2*_;P++)S[P]=0;return new a(S,0)};function w(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function B(C,_){this.g=C,this.h=_}function I(C,_){if(m(_))throw Error("division by zero");if(m(C))return new B(d,d);if(p(C))return _=I(v(C),_),new B(v(_.g),v(_.h));if(p(_))return _=I(C,v(_)),new B(v(_.g),_.h);if(30<C.g.length){if(p(C)||p(_))throw Error("slowDivide_ only works with positive integers.");for(var S=f,P=_;0>=P.l(C);)S=T(S),P=T(P);var Q=F(S,1),k=F(P,1);for(P=F(P,2),S=F(S,2);!m(P);){var N=k.add(P);0>=N.l(C)&&(Q=Q.add(S),k=N),P=F(P,1),S=F(S,1)}return _=y(C,Q.j(_)),new B(Q,_)}for(Q=d;0<=C.l(_);){for(S=Math.max(1,Math.floor(C.m()/_.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),k=l(S),N=k.j(_);p(N)||0<N.l(C);)S-=P,k=l(S),N=k.j(_);m(k)&&(k=f),Q=Q.add(k),C=y(C,N)}return new B(Q,C)}t.A=function(C){return I(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0;P<_;P++)S[P]=this.i(P)&C.i(P);return new a(S,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0;P<_;P++)S[P]=this.i(P)|C.i(P);return new a(S,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],P=0;P<_;P++)S[P]=this.i(P)^C.i(P);return new a(S,this.h^C.h)};function T(C){for(var _=C.g.length+1,S=[],P=0;P<_;P++)S[P]=C.i(P)<<1|C.i(P-1)>>>31;return new a(S,C.h)}function F(C,_){var S=_>>5;_%=32;for(var P=C.g.length-S,Q=[],k=0;k<P;k++)Q[k]=0<_?C.i(k+S)>>>_|C.i(k+S+1)<<32-_:C.i(k+S);return new a(Q,C.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,aO=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=u,eA=a}).apply(typeof tT<"u"?tT:typeof self<"u"?self:typeof window<"u"?window:{});var Dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oO,Lc,AO,Kg,Vx,lO,uO,cO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,b,E){return h==Array.prototype||h==Object.prototype||(h[b]=E.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dh=="object"&&Dh];for(var b=0;b<h.length;++b){var E=h[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=r(this);function i(h,b){if(b)e:{var E=n;h=h.split(".");for(var U=0;U<h.length-1;U++){var H=h[U];if(!(H in E))break e;E=E[H]}h=h[h.length-1],U=E[h],b=b(U),b!=U&&b!=null&&e(E,h,{configurable:!0,writable:!0,value:b})}}function s(h,b){h instanceof String&&(h+="");var E=0,U=!1,H={next:function(){if(!U&&E<h.length){var z=E++;return{value:b(z,h[z]),done:!1}}return U=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(h){return h||function(){return s(this,function(b,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function A(h){var b=typeof h;return b=b!="object"?b:h?Array.isArray(h)?"array":b:"null",b=="array"||b=="object"&&typeof h.length=="number"}function l(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function u(h,b,E){return h.call.apply(h.bind,arguments)}function d(h,b,E){if(!h)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,U),h.apply(b,H)}}return function(){return h.apply(b,arguments)}}function f(h,b,E){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,f.apply(null,arguments)}function g(h,b){var E=Array.prototype.slice.call(arguments,1);return function(){var U=E.slice();return U.push.apply(U,arguments),h.apply(this,U)}}function m(h,b){function E(){}E.prototype=b.prototype,h.aa=b.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(U,H,z){for(var se=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)se[rt-2]=arguments[rt];return b.prototype[H].apply(U,se)}}function p(h){const b=h.length;if(0<b){const E=Array(b);for(let U=0;U<b;U++)E[U]=h[U];return E}return[]}function v(h,b){for(let E=1;E<arguments.length;E++){const U=arguments[E];if(A(U)){const H=h.length||0,z=U.length||0;h.length=H+z;for(let se=0;se<z;se++)h[H+se]=U[se]}else h.push(U)}}class y{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function w(h){return/^[\s\xa0]*$/.test(h)}function B(){var h=o.navigator;return h&&(h=h.userAgent)?h:""}function I(h){return I[" "](h),h}I[" "]=function(){};var T=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function F(h,b,E){for(const U in h)b.call(E,h[U],U,h)}function C(h,b){for(const E in h)b.call(void 0,h[E],E,h)}function _(h){const b={};for(const E in h)b[E]=h[E];return b}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,b){let E,U;for(let H=1;H<arguments.length;H++){U=arguments[H];for(E in U)h[E]=U[E];for(let z=0;z<S.length;z++)E=S[z],Object.prototype.hasOwnProperty.call(U,E)&&(h[E]=U[E])}}function Q(h){var b=1;h=h.split(":");const E=[];for(;0<b&&h.length;)E.push(h.shift()),b--;return h.length&&E.push(h.join(":")),E}function k(h){o.setTimeout(()=>{throw h},0)}function N(){var h=ie;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class ae{constructor(){this.h=this.g=null}add(b,E){const U=be.get();U.set(b,E),this.h?this.h.next=U:this.g=U,this.h=U}}var be=new y(()=>new me,h=>h.reset());class me{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,J=!1,ie=new ae,ue=()=>{const h=o.Promise.resolve(void 0);pe=()=>{h.then(Se)}};var Se=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(E){k(E)}var b=be;b.j(h),100>b.h&&(b.h++,h.next=b.g,b.g=h)}J=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pe(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}Pe.prototype.h=function(){this.defaultPrevented=!0};var Ye=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};o.addEventListener("test",E,b),o.removeEventListener("test",E,b)}catch{}return h}();function D(h,b){if(Pe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,U=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget){if(T){e:{try{I(b.nodeName);var H=!0;break e}catch{}H=!1}H||(b=null)}}else E=="mouseover"?b=h.fromElement:E=="mouseout"&&(b=h.toElement);this.relatedTarget=b,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:V[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&D.aa.h.call(this)}}m(D,Pe);var V={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),Y=0;function M(h,b,E,U,H){this.listener=h,this.proxy=null,this.src=b,this.type=E,this.capture=!!U,this.ha=H,this.key=++Y,this.da=this.fa=!1}function G(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function W(h){this.src=h,this.g={},this.h=0}W.prototype.add=function(h,b,E,U,H){var z=h.toString();h=this.g[z],h||(h=this.g[z]=[],this.h++);var se=Be(h,b,U,H);return-1<se?(b=h[se],E||(b.fa=!1)):(b=new M(b,this.src,z,!!U,H),b.fa=E,h.push(b)),b};function L(h,b){var E=b.type;if(E in h.g){var U=h.g[E],H=Array.prototype.indexOf.call(U,b,void 0),z;(z=0<=H)&&Array.prototype.splice.call(U,H,1),z&&(G(b),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Be(h,b,E,U){for(var H=0;H<h.length;++H){var z=h[H];if(!z.da&&z.listener==b&&z.capture==!!E&&z.ha==U)return H}return-1}var we="closure_lm_"+(1e6*Math.random()|0),Qe={};function ze(h,b,E,U,H){if(Array.isArray(b)){for(var z=0;z<b.length;z++)ze(h,b[z],E,U,H);return null}return E=Zu(E),h&&h[j]?h.K(b,E,l(U)?!!U.capture:!1,H):zt(h,b,E,!1,U,H)}function zt(h,b,E,U,H,z){if(!b)throw Error("Invalid event type");var se=l(H)?!!H.capture:!!H,rt=Ws(h);if(rt||(h[we]=rt=new W(h)),E=rt.add(b,E,U,se,z),E.proxy)return E;if(U=zi(),E.proxy=U,U.src=h,U.listener=E,h.addEventListener)Ye||(H=se),H===void 0&&(H=!1),h.addEventListener(b.toString(),U,H);else if(h.attachEvent)h.attachEvent(Ju(b.toString()),U);else if(h.addListener&&h.removeListener)h.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return E}function zi(){function h(E){return b.call(h.src,h.listener,E)}const b=LA;return h}function qu(h,b,E,U,H){if(Array.isArray(b))for(var z=0;z<b.length;z++)qu(h,b[z],E,U,H);else U=l(U)?!!U.capture:!!U,E=Zu(E),h&&h[j]?(h=h.i,b=String(b).toString(),b in h.g&&(z=h.g[b],E=Be(z,E,U,H),-1<E&&(G(z[E]),Array.prototype.splice.call(z,E,1),z.length==0&&(delete h.g[b],h.h--)))):h&&(h=Ws(h))&&(b=h.g[b.toString()],h=-1,b&&(h=Be(b,E,U,H)),(E=-1<h?b[h]:null)&&zs(E))}function zs(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[j])L(b.i,h);else{var E=h.type,U=h.proxy;b.removeEventListener?b.removeEventListener(E,U,h.capture):b.detachEvent?b.detachEvent(Ju(E),U):b.addListener&&b.removeListener&&b.removeListener(U),(E=Ws(b))?(L(E,h),E.h==0&&(E.src=null,b[we]=null)):G(h)}}}function Ju(h){return h in Qe?Qe[h]:Qe[h]="on"+h}function LA(h,b){if(h.da)h=!0;else{b=new D(b,this);var E=h.listener,U=h.ha||h.src;h.fa&&zs(h),h=E.call(U,b)}return h}function Ws(h){return h=h[we],h instanceof W?h:null}var xo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zu(h){return typeof h=="function"?h:(h[xo]||(h[xo]=function(b){return h.handleEvent(b)}),h[xo])}function ir(){ne.call(this),this.i=new W(this),this.M=this,this.F=null}m(ir,ne),ir.prototype[j]=!0,ir.prototype.removeEventListener=function(h,b,E,U){qu(this,h,b,E,U)};function fr(h,b){var E,U=h.F;if(U)for(E=[];U;U=U.F)E.push(U);if(h=h.M,U=b.type||b,typeof b=="string")b=new Pe(b,h);else if(b instanceof Pe)b.target=b.target||h;else{var H=b;b=new Pe(U,h),P(b,H)}if(H=!0,E)for(var z=E.length-1;0<=z;z--){var se=b.g=E[z];H=HA(se,U,!0,b)&&H}if(se=b.g=h,H=HA(se,U,!0,b)&&H,H=HA(se,U,!1,b)&&H,E)for(z=0;z<E.length;z++)se=b.g=E[z],H=HA(se,U,!1,b)&&H}ir.prototype.N=function(){if(ir.aa.N.call(this),this.i){var h=this.i,b;for(b in h.g){for(var E=h.g[b],U=0;U<E.length;U++)G(E[U]);delete h.g[b],h.h--}}this.F=null},ir.prototype.K=function(h,b,E,U){return this.i.add(String(h),b,!1,E,U)},ir.prototype.L=function(h,b,E,U){return this.i.add(String(h),b,!0,E,U)};function HA(h,b,E,U){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();for(var H=!0,z=0;z<b.length;++z){var se=b[z];if(se&&!se.da&&se.capture==E){var rt=se.listener,hr=se.ha||se.src;se.fa&&L(h.i,se),H=rt.call(hr,U)!==!1&&H}}return H&&!U.defaultPrevented}function rh(h,b,E){if(typeof h=="function")E&&(h=f(h,E));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:o.setTimeout(h,b||0)}function nh(h){h.g=rh(()=>{h.g=null,h.i&&(h.i=!1,nh(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class Xv extends ne{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:nh(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bo(h){ne.call(this),this.h=h,this.g={}}m(bo,ne);var ih=[];function VA(h){F(h.g,function(b,E){this.g.hasOwnProperty(E)&&zs(b)},h),h.g={}}bo.prototype.N=function(){bo.aa.N.call(this),VA(this)},bo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ct=o.JSON.stringify,qv=o.JSON.parse,Jv=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function KA(){}KA.prototype.h=null;function Bo(h){return h.h||(h.h=h.i())}function sh(){}var Co={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ec(){Pe.call(this,"d")}m(ec,Pe);function $A(){Pe.call(this,"c")}m($A,Pe);var Wi={},ah=null;function GA(){return ah=ah||new ir}Wi.La="serverreachability";function O(h){Pe.call(this,Wi.La,h)}m(O,Pe);function R(h){const b=GA();fr(b,new O(b))}Wi.STAT_EVENT="statevent";function Z(h,b){Pe.call(this,Wi.STAT_EVENT,h),this.stat=b}m(Z,Pe);function X(h){const b=GA();fr(b,new Z(b,h))}Wi.Ma="timingevent";function ee(h,b){Pe.call(this,Wi.Ma,h),this.size=b}m(ee,Pe);function oe(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},b)}function _e(){this.g=!0}_e.prototype.xa=function(){this.g=!1};function He(h,b,E,U,H,z){h.info(function(){if(h.g)if(z)for(var se="",rt=z.split("&"),hr=0;hr<rt.length;hr++){var Ke=rt[hr].split("=");if(1<Ke.length){var Cr=Ke[0];Ke=Ke[1];var Er=Cr.split("_");se=2<=Er.length&&Er[1]=="type"?se+(Cr+"="+Ke+"&"):se+(Cr+"=redacted&")}}else se=null;else se=z;return"XMLHTTP REQ ("+U+") [attempt "+H+"]: "+b+`
`+E+`
`+se})}function je(h,b,E,U,H,z,se){h.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+H+"]: "+b+`
`+E+`
`+z+" "+se})}function Te(h,b,E,U){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+ai(h,E)+(U?" "+U:"")})}function Et(h,b){h.info(function(){return"TIMEOUT: "+b})}_e.prototype.info=function(){};function ai(h,b){if(!h.g)return b;if(!b)return null;try{var E=JSON.parse(b);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var U=E[h];if(!(2>U.length)){var H=U[1];if(Array.isArray(H)&&!(1>H.length)){var z=H[0];if(z!="noop"&&z!="stop"&&z!="close")for(var se=1;se<H.length;se++)H[se]=""}}}}return Ct(E)}catch{return b}}var lt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ln={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ys;function jr(){}m(jr,KA),jr.prototype.g=function(){return new XMLHttpRequest},jr.prototype.i=function(){return{}},Ys=new jr;function Ci(h,b,E,U){this.j=h,this.i=b,this.l=E,this.R=U||1,this.U=new bo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xs}function Xs(){this.i=null,this.g="",this.h=!1}var un={},zA={};function WA(h,b,E){h.L=1,h.v=ch(Yi(b)),h.m=E,h.P=!0,oh(h,null)}function oh(h,b){h.F=Date.now(),Ah(h),h.A=Yi(h.v);var E=h.A,U=h.R;Array.isArray(U)||(U=[String(U)]),iI(E.i,"t",U),h.C=0,E=h.j.J,h.h=new Xs,h.g=bI(h.j,E?b:null,!h.m),0<h.O&&(h.M=new Xv(f(h.Y,h,h.g),h.O)),b=h.U,E=h.g,U=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(ih[0]=H.toString()),H=ih);for(var z=0;z<H.length;z++){var se=ze(E,H[z],U||b.handleEvent,!1,b.h||b);if(!se)break;b.g[se.key]=se}b=h.H?_(h.H):{},h.m?(h.u||(h.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,b)):(h.u="GET",h.g.ea(h.A,h.u,null,b)),R(),He(h.i,h.u,h.A,h.l,h.R,h.m)}Ci.prototype.ca=function(h){h=h.target;const b=this.M;b&&Xi(h)==3?b.j():this.Y(h)},Ci.prototype.Y=function(h){try{if(h==this.g)e:{const Er=Xi(this.g);var b=this.g.Ba();const qA=this.g.Z();if(!(3>Er)&&(Er!=3||this.g&&(this.h.h||this.g.oa()||cI(this.g)))){this.J||Er!=4||b==7||(b==8||0>=qA?R(3):R(2)),Zv(this);var E=this.g.Z();this.X=E;t:if($_(this)){var U=cI(this.g);h="";var H=U.length,z=Xi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Eo(this),tc(this);var se="";break t}this.h.i=new o.TextDecoder}for(b=0;b<H;b++)this.h.h=!0,h+=this.h.i.decode(U[b],{stream:!(z&&b==H-1)});U.length=0,this.h.g+=h,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=E==200,je(this.i,this.u,this.A,this.l,this.R,Er,E),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,hr=this.g;if((rt=hr.g?hr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(rt)){var Ke=rt;break t}}Ke=null}if(E=Ke)Te(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ey(this,E);else{this.o=!1,this.s=3,X(12),Eo(this),tc(this);break e}}if(this.P){E=!0;let oi;for(;!this.J&&this.C<se.length;)if(oi=CH(this,se),oi==zA){Er==4&&(this.s=4,X(14),E=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}else if(oi==un){this.s=4,X(15),Te(this.i,this.l,se,"[Invalid Chunk]"),E=!1;break}else Te(this.i,this.l,oi,null),ey(this,oi);if($_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Er!=4||se.length!=0||this.h.h||(this.s=1,X(16),E=!1),this.o=this.o&&E,!E)Te(this.i,this.l,se,"[Invalid Chunked Response]"),Eo(this),tc(this);else if(0<se.length&&!this.W){this.W=!0;var Cr=this.j;Cr.g==this&&Cr.ba&&!Cr.M&&(Cr.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),ay(Cr),Cr.M=!0,X(11))}}else Te(this.i,this.l,se,null),ey(this,se);Er==4&&Eo(this),this.o&&!this.J&&(Er==4?vI(this.j,this):(this.o=!1,Ah(this)))}else LH(this.g),E==400&&0<se.indexOf("Unknown SID")?(this.s=3,X(12)):(this.s=0,X(13)),Eo(this),tc(this)}}}catch{}finally{}};function $_(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function CH(h,b){var E=h.C,U=b.indexOf(`
`,E);return U==-1?zA:(E=Number(b.substring(E,U)),isNaN(E)?un:(U+=1,U+E>b.length?zA:(b=b.slice(U,U+E),h.C=U+E,b)))}Ci.prototype.cancel=function(){this.J=!0,Eo(this)};function Ah(h){h.S=Date.now()+h.I,G_(h,h.I)}function G_(h,b){if(h.B!=null)throw Error("WatchDog timer not null");h.B=oe(f(h.ba,h),b)}function Zv(h){h.B&&(o.clearTimeout(h.B),h.B=null)}Ci.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Et(this.i,this.A),this.L!=2&&(R(),X(17)),Eo(this),this.s=2,tc(this)):G_(this,this.S-h)};function tc(h){h.j.G==0||h.J||vI(h.j,h)}function Eo(h){Zv(h);var b=h.M;b&&typeof b.ma=="function"&&b.ma(),h.M=null,VA(h.U),h.g&&(b=h.g,h.g=null,b.abort(),b.ma())}function ey(h,b){try{var E=h.j;if(E.G!=0&&(E.g==h||ty(E.h,h))){if(!h.K&&ty(E.h,h)&&E.G==3){try{var U=E.Da.g.parse(b)}catch{U=null}if(Array.isArray(U)&&U.length==3){var H=U;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)ph(E),gh(E);else break e;sy(E),X(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=oe(f(E.Za,E),6e3));if(1>=Y_(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Io(E,11)}else if((h.K||E.g==h)&&ph(E),!w(b))for(H=E.Da.g.parse(b),b=0;b<H.length;b++){let Ke=H[b];if(E.T=Ke[0],Ke=Ke[1],E.G==2)if(Ke[0]=="c"){E.K=Ke[1],E.ia=Ke[2];const Cr=Ke[3];Cr!=null&&(E.la=Cr,E.j.info("VER="+E.la));const Er=Ke[4];Er!=null&&(E.Aa=Er,E.j.info("SVER="+E.Aa));const qA=Ke[5];qA!=null&&typeof qA=="number"&&0<qA&&(U=1.5*qA,E.L=U,E.j.info("backChannelRequestTimeoutMs_="+U)),U=E;const oi=h.g;if(oi){const yh=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yh){var z=U.h;z.g||yh.indexOf("spdy")==-1&&yh.indexOf("quic")==-1&&yh.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(ry(z,z.h),z.h=null))}if(U.D){const oy=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;oy&&(U.ya=oy,ut(U.I,U.D,oy))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),U=E;var se=h;if(U.qa=xI(U,U.J?U.ia:null,U.W),se.K){X_(U.h,se);var rt=se,hr=U.L;hr&&(rt.I=hr),rt.B&&(Zv(rt),Ah(rt)),U.g=se}else mI(U);0<E.i.length&&mh(E)}else Ke[0]!="stop"&&Ke[0]!="close"||Io(E,7);else E.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Io(E,7):iy(E):Ke[0]!="noop"&&E.l&&E.l.ta(Ke),E.v=0)}}R(4)}catch{}}var EH=class{constructor(h,b){this.g=h,this.map=b}};function z_(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function W_(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Y_(h){return h.h?1:h.g?h.g.size:0}function ty(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function ry(h,b){h.g?h.g.add(b):h.h=b}function X_(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}z_.prototype.cancel=function(){if(this.i=q_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function q_(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const E of h.g.values())b=b.concat(E.D);return b}return p(h.i)}function _H(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(A(h)){for(var b=[],E=h.length,U=0;U<E;U++)b.push(h[U]);return b}b=[],E=0;for(U in h)b[E++]=h[U];return b}function IH(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(A(h)||typeof h=="string"){var b=[];h=h.length;for(var E=0;E<h;E++)b.push(E);return b}b=[],E=0;for(const U in h)b[E++]=U;return b}}}function J_(h,b){if(h.forEach&&typeof h.forEach=="function")h.forEach(b,void 0);else if(A(h)||typeof h=="string")Array.prototype.forEach.call(h,b,void 0);else for(var E=IH(h),U=_H(h),H=U.length,z=0;z<H;z++)b.call(void 0,U[z],E&&E[z],h)}var Z_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SH(h,b){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var U=h[E].indexOf("="),H=null;if(0<=U){var z=h[E].substring(0,U);H=h[E].substring(U+1)}else z=h[E];b(z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function _o(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof _o){this.h=h.h,lh(this,h.j),this.o=h.o,this.g=h.g,uh(this,h.s),this.l=h.l;var b=h.i,E=new ic;E.i=b.i,b.g&&(E.g=new Map(b.g),E.h=b.h),eI(this,E),this.m=h.m}else h&&(b=String(h).match(Z_))?(this.h=!1,lh(this,b[1]||"",!0),this.o=rc(b[2]||""),this.g=rc(b[3]||"",!0),uh(this,b[4]),this.l=rc(b[5]||"",!0),eI(this,b[6]||"",!0),this.m=rc(b[7]||"")):(this.h=!1,this.i=new ic(null,this.h))}_o.prototype.toString=function(){var h=[],b=this.j;b&&h.push(nc(b,tI,!0),":");var E=this.g;return(E||b=="file")&&(h.push("//"),(b=this.o)&&h.push(nc(b,tI,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(nc(E,E.charAt(0)=="/"?UH:FH,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",nc(E,NH)),h.join("")};function Yi(h){return new _o(h)}function lh(h,b,E){h.j=E?rc(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function uh(h,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);h.s=b}else h.s=null}function eI(h,b,E){b instanceof ic?(h.i=b,QH(h.i,h.h)):(E||(b=nc(b,PH)),h.i=new ic(b,h.h))}function ut(h,b,E){h.i.set(b,E)}function ch(h){return ut(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function rc(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function nc(h,b,E){return typeof h=="string"?(h=encodeURI(h).replace(b,TH),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function TH(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var tI=/[#\/\?@]/g,FH=/[#\?:]/g,UH=/[#\?]/g,PH=/[#\?@]/g,NH=/#/g;function ic(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function qs(h){h.g||(h.g=new Map,h.h=0,h.i&&SH(h.i,function(b,E){h.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}t=ic.prototype,t.add=function(h,b){qs(this),this.i=null,h=YA(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(b),this.h+=1,this};function rI(h,b){qs(h),b=YA(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function nI(h,b){return qs(h),b=YA(h,b),h.g.has(b)}t.forEach=function(h,b){qs(this),this.g.forEach(function(E,U){E.forEach(function(H){h.call(b,H,U,this)},this)},this)},t.na=function(){qs(this);const h=Array.from(this.g.values()),b=Array.from(this.g.keys()),E=[];for(let U=0;U<b.length;U++){const H=h[U];for(let z=0;z<H.length;z++)E.push(b[U])}return E},t.V=function(h){qs(this);let b=[];if(typeof h=="string")nI(this,h)&&(b=b.concat(this.g.get(YA(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)b=b.concat(h[E])}return b},t.set=function(h,b){return qs(this),this.i=null,h=YA(this,h),nI(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=this.V(h),0<h.length?String(h[0]):b):b};function iI(h,b,E){rI(h,b),0<E.length&&(h.i=null,h.g.set(YA(h,b),p(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(var E=0;E<b.length;E++){var U=b[E];const z=encodeURIComponent(String(U)),se=this.V(U);for(U=0;U<se.length;U++){var H=z;se[U]!==""&&(H+="="+encodeURIComponent(String(se[U]))),h.push(H)}}return this.i=h.join("&")};function YA(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function QH(h,b){b&&!h.j&&(qs(h),h.i=null,h.g.forEach(function(E,U){var H=U.toLowerCase();U!=H&&(rI(this,U),iI(this,H,E))},h)),h.j=b}function kH(h,b){const E=new _e;if(o.Image){const U=new Image;U.onload=g(Js,E,"TestLoadImage: loaded",!0,b,U),U.onerror=g(Js,E,"TestLoadImage: error",!1,b,U),U.onabort=g(Js,E,"TestLoadImage: abort",!1,b,U),U.ontimeout=g(Js,E,"TestLoadImage: timeout",!1,b,U),o.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=h}else b(!1)}function OH(h,b){const E=new _e,U=new AbortController,H=setTimeout(()=>{U.abort(),Js(E,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:U.signal}).then(z=>{clearTimeout(H),z.ok?Js(E,"TestPingServer: ok",!0,b):Js(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(H),Js(E,"TestPingServer: error",!1,b)})}function Js(h,b,E,U,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),U(E)}catch{}}function DH(){this.g=new Jv}function jH(h,b,E){const U=E||"";try{J_(h,function(H,z){let se=H;l(H)&&(se=Ct(H)),b.push(U+z+"="+encodeURIComponent(se))})}catch(H){throw b.push(U+"type="+encodeURIComponent("_badmap")),H}}function dh(h){this.l=h.Ub||null,this.j=h.eb||!1}m(dh,KA),dh.prototype.g=function(){return new fh(this.l,this.j)},dh.prototype.i=function(h){return function(){return h}}({});function fh(h,b){ir.call(this),this.D=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(fh,ir),t=fh.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=b,this.readyState=1,ac(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(b.body=h),(this.D||o).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sc(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ac(this)),this.g&&(this.readyState=3,ac(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sI(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function sI(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?sc(this):ac(this),this.readyState==3&&sI(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,sc(this))},t.Qa=function(h){this.g&&(this.response=h,sc(this))},t.ga=function(){this.g&&sc(this)};function sc(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ac(h)}t.setRequestHeader=function(h,b){this.u.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=b.next();return h.join(`\r
`)};function ac(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(fh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function aI(h){let b="";return F(h,function(E,U){b+=U,b+=":",b+=E,b+=`\r
`}),b}function ny(h,b,E){e:{for(U in E){var U=!1;break e}U=!0}U||(E=aI(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):ut(h,b,E))}function Ut(h){ir.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Ut,ir);var RH=/^https?$/i,MH=["POST","PUT"];t=Ut.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,b,E,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ys.g(),this.v=this.o?Bo(this.o):Bo(Ys),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(z){oI(this,z);return}if(h=E||"",E=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var H in U)E.set(H,U[H]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const z of U.keys())E.set(z,U.get(z));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(E.keys()).find(z=>z.toLowerCase()=="content-type"),H=o.FormData&&h instanceof o.FormData,!(0<=Array.prototype.indexOf.call(MH,b,void 0))||U||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,se]of E)this.g.setRequestHeader(z,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uI(this),this.u=!0,this.g.send(h),this.u=!1}catch(z){oI(this,z)}};function oI(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.m=5,AI(h),hh(h)}function AI(h){h.A||(h.A=!0,fr(h,"complete"),fr(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,fr(this,"complete"),fr(this,"abort"),hh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hh(this,!0)),Ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?lI(this):this.bb())},t.bb=function(){lI(this)};function lI(h){if(h.h&&typeof a<"u"&&(!h.v[1]||Xi(h)!=4||h.Z()!=2)){if(h.u&&Xi(h)==4)rh(h.Ea,0,h);else if(fr(h,"readystatechange"),Xi(h)==4){h.h=!1;try{const se=h.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var U;if(U=se===0){var H=String(h.D).match(Z_)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),U=!RH.test(H?H.toLowerCase():"")}E=U}if(E)fr(h,"complete"),fr(h,"success");else{h.m=6;try{var z=2<Xi(h)?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.Z()+"]",AI(h)}}finally{hh(h)}}}}function hh(h,b){if(h.g){uI(h);const E=h.g,U=h.v[0]?()=>{}:null;h.g=null,h.v=null,b||fr(h,"ready");try{E.onreadystatechange=U}catch{}}}function uI(h){h.I&&(o.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Xi(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Xi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),qv(b)}};function cI(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function LH(h){const b={};h=(h.g&&2<=Xi(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<h.length;U++){if(w(h[U]))continue;var E=Q(h[U]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const z=b[H]||[];b[H]=z,z.push(E)}C(b,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oc(h,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||b}function dI(h){this.Aa=0,this.i=[],this.j=new _e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oc("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oc("baseRetryDelayMs",5e3,h),this.cb=oc("retryDelaySeedMs",1e4,h),this.Wa=oc("forwardChannelMaxRetries",2,h),this.wa=oc("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new z_(h&&h.concurrentRequestLimit),this.Da=new DH,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=dI.prototype,t.la=8,t.G=1,t.connect=function(h,b,E,U){X(0),this.W=h,this.H=b||{},E&&U!==void 0&&(this.H.OSID=E,this.H.OAID=U),this.F=this.X,this.I=xI(this,null,this.W),mh(this)};function iy(h){if(fI(h),h.G==3){var b=h.U++,E=Yi(h.I);if(ut(E,"SID",h.K),ut(E,"RID",b),ut(E,"TYPE","terminate"),Ac(h,E),b=new Ci(h,h.j,b),b.L=2,b.v=ch(Yi(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(b.v.toString(),"")}catch{}!E&&o.Image&&(new Image().src=b.v,E=!0),E||(b.g=bI(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Ah(b)}wI(h)}function gh(h){h.g&&(ay(h),h.g.cancel(),h.g=null)}function fI(h){gh(h),h.u&&(o.clearTimeout(h.u),h.u=null),ph(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&o.clearTimeout(h.s),h.s=null)}function mh(h){if(!W_(h.h)&&!h.s){h.s=!0;var b=h.Ga;pe||ue(),J||(pe(),J=!0),ie.add(b,h),h.B=0}}function HH(h,b){return Y_(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=b.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=oe(f(h.Ga,h,b),yI(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new Ci(this,this.j,h);let z=this.o;if(this.S&&(z?(z=_(z),P(z,this.S)):z=this.S),this.m!==null||this.O||(H.H=z,z=null),this.P)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var U=this.i[E];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(b+=U,4096<b){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=gI(this,H,b),E=Yi(this.I),ut(E,"RID",h),ut(E,"CVER",22),this.D&&ut(E,"X-HTTP-Session-Id",this.D),Ac(this,E),z&&(this.O?b="headers="+encodeURIComponent(String(aI(z)))+"&"+b:this.m&&ny(E,this.m,z)),ry(this.h,H),this.Ua&&ut(E,"TYPE","init"),this.P?(ut(E,"$req",b),ut(E,"SID","null"),H.T=!0,WA(H,E,null)):WA(H,E,b),this.G=2}}else this.G==3&&(h?hI(this,h):this.i.length==0||W_(this.h)||hI(this))};function hI(h,b){var E;b?E=b.l:E=h.U++;const U=Yi(h.I);ut(U,"SID",h.K),ut(U,"RID",E),ut(U,"AID",h.T),Ac(h,U),h.m&&h.o&&ny(U,h.m,h.o),E=new Ci(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),b&&(h.i=b.D.concat(h.i)),b=gI(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ry(h.h,E),WA(E,U,b)}function Ac(h,b){h.H&&F(h.H,function(E,U){ut(b,U,E)}),h.l&&J_({},function(E,U){ut(b,U,E)})}function gI(h,b,E){E=Math.min(h.i.length,E);var U=h.l?f(h.l.Na,h.l,h):null;e:{var H=h.i;let z=-1;for(;;){const se=["count="+E];z==-1?0<E?(z=H[0].g,se.push("ofs="+z)):z=0:se.push("ofs="+z);let rt=!0;for(let hr=0;hr<E;hr++){let Ke=H[hr].g;const Cr=H[hr].map;if(Ke-=z,0>Ke)z=Math.max(0,H[hr].g-100),rt=!1;else try{jH(Cr,se,"req"+Ke+"_")}catch{U&&U(Cr)}}if(rt){U=se.join("&");break e}}}return h=h.i.splice(0,E),b.D=h,U}function mI(h){if(!h.g&&!h.u){h.Y=1;var b=h.Fa;pe||ue(),J||(pe(),J=!0),ie.add(b,h),h.v=0}}function sy(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=oe(f(h.Fa,h),yI(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,pI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=oe(f(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,X(10),gh(this),pI(this))};function ay(h){h.A!=null&&(o.clearTimeout(h.A),h.A=null)}function pI(h){h.g=new Ci(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var b=Yi(h.qa);ut(b,"RID","rpc"),ut(b,"SID",h.K),ut(b,"AID",h.T),ut(b,"CI",h.F?"0":"1"),!h.F&&h.ja&&ut(b,"TO",h.ja),ut(b,"TYPE","xmlhttp"),Ac(h,b),h.m&&h.o&&ny(b,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=ch(Yi(b)),E.m=null,E.P=!0,oh(E,h)}t.Za=function(){this.C!=null&&(this.C=null,gh(this),sy(this),X(19))};function ph(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function vI(h,b){var E=null;if(h.g==b){ph(h),ay(h),h.g=null;var U=2}else if(ty(h.h,b))E=b.D,X_(h.h,b),U=1;else return;if(h.G!=0){if(b.o)if(U==1){E=b.m?b.m.length:0,b=Date.now()-b.F;var H=h.B;U=GA(),fr(U,new ee(U,E)),mh(h)}else mI(h);else if(H=b.s,H==3||H==0&&0<b.X||!(U==1&&HH(h,b)||U==2&&sy(h)))switch(E&&0<E.length&&(b=h.h,b.i=b.i.concat(E)),H){case 1:Io(h,5);break;case 4:Io(h,10);break;case 3:Io(h,6);break;default:Io(h,2)}}}function yI(h,b){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*b}function Io(h,b){if(h.j.info("Error code "+b),b==2){var E=f(h.fb,h),U=h.Xa;const H=!U;U=new _o(U||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||lh(U,"https"),ch(U),H?kH(U.toString(),E):OH(U.toString(),E)}else X(2);h.G=0,h.l&&h.l.sa(b),wI(h),fI(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),X(2)):(this.j.info("Failed to ping google.com"),X(1))};function wI(h){if(h.G=0,h.ka=[],h.l){const b=q_(h.h);(b.length!=0||h.i.length!=0)&&(v(h.ka,b),v(h.ka,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.ra()}}function xI(h,b,E){var U=E instanceof _o?Yi(E):new _o(E);if(U.g!="")b&&(U.g=b+"."+U.g),uh(U,U.s);else{var H=o.location;U=H.protocol,b=b?b+"."+H.hostname:H.hostname,H=+H.port;var z=new _o(null);U&&lh(z,U),b&&(z.g=b),H&&uh(z,H),E&&(z.l=E),U=z}return E=h.D,b=h.ya,E&&b&&ut(U,E,b),ut(U,"VER",h.la),Ac(h,U),U}function bI(h,b,E){if(b&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Ca&&!h.pa?new Ut(new dh({eb:E})):new Ut(h.pa),b.Ha(h.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function BI(){}t=BI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vh(){}vh.prototype.g=function(h,b){return new cn(h,b)};function cn(h,b){ir.call(this),this.g=new dI(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(h?h["X-WebChannel-Client-Profile"]=b.va:h={"X-WebChannel-Client-Profile":b.va}),this.g.S=h,(h=b&&b.Sb)&&!w(h)&&(this.g.m=h),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!w(b)&&(this.g.D=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new XA(this)}m(cn,ir),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){iy(this.g)},cn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Ct(h),h=E);b.i.push(new EH(b.Ya++,h)),b.G==3&&mh(b)},cn.prototype.N=function(){this.g.l=null,delete this.j,iy(this.g),delete this.g,cn.aa.N.call(this)};function CI(h){ec.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const E in b){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}m(CI,ec);function EI(){$A.call(this),this.status=1}m(EI,$A);function XA(h){this.g=h}m(XA,BI),XA.prototype.ua=function(){fr(this.g,"a")},XA.prototype.ta=function(h){fr(this.g,new CI(h))},XA.prototype.sa=function(h){fr(this.g,new EI)},XA.prototype.ra=function(){fr(this.g,"b")},vh.prototype.createWebChannel=vh.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,cO=function(){return new vh},uO=function(){return GA()},lO=Wi,Vx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lt.NO_ERROR=0,lt.TIMEOUT=8,lt.HTTP_ERROR=6,Kg=lt,ln.COMPLETE="complete",AO=ln,sh.EventType=Co,Co.OPEN="a",Co.CLOSE="b",Co.ERROR="c",Co.MESSAGE="d",ir.prototype.listen=ir.prototype.K,Lc=sh,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,oO=Ut}).apply(typeof Dh<"u"?Dh:typeof self<"u"?self:typeof window<"u"?window:{});const rT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=new FC("@firebase/firestore");function dl(){return mA.logLevel}function te(t,...e){if(mA.logLevel<=De.DEBUG){const r=e.map(NC);mA.debug(`Firestore (${Qu}): ${t}`,...r)}}function Lr(t,...e){if(mA.logLevel<=De.ERROR){const r=e.map(NC);mA.error(`Firestore (${Qu}): ${t}`,...r)}}function Wa(t,...e){if(mA.logLevel<=De.WARN){const r=e.map(NC);mA.warn(`Firestore (${Qu}): ${t}`,...r)}}function NC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${Qu}) INTERNAL ASSERTION FAILED: `+t;throw Lr(e),new Error(e)}function xe(t,e){t||ve()}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ms{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(vr.UNAUTHENTICATED))}shutdown(){}}class t9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class r9{constructor(e){this.t=e,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){xe(this.o===void 0);let n=this.i;const i=A=>this.i!==n?(n=this.i,r(A)):Promise.resolve();let s=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Di,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const A=s;e.enqueueRetryable(async()=>{await A.promise,await i(this.currentUser)})},o=A=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(A=>o(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?o(A):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Di)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(xe(typeof n.accessToken=="string"),new dO(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new vr(e)}}class n9{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=vr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class i9{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new n9(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){xe(this.o===void 0);const n=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(xe(typeof r.token=="string"),this.R=r.token,new s9(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=o9(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function Ue(t,e){return t<e?-1:t>e?1:0}function su(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}function hO(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new fe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new fe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new fe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new xt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new xt(0,0))}static max(){return new Ce(new xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,r,n){r===void 0?r=0:r>e.length&&ve(),n===void 0?n=e.length-r:n>e.length-r&&ve(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return zd.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof zd?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class qe extends zd{construct(e,r,n){return new qe(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new fe(q.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new qe(r)}static emptyPath(){return new qe([])}}const A9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends zd{construct(e,r,n){return new vt(e,r,n)}static isValidIdentifier(e){return A9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new fe(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new fe(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const A=e[i+1];if(A!=="\\"&&A!=="."&&A!=="`")throw new fe(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=A,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new fe(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(r)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(qe.fromString(e))}static fromName(e){return new Ae(qe.fromString(e).popFirst(5))}static empty(){return new Ae(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return qe.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,r,n,i){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=i}}function Kx(t){return t.fields.find(e=>e.kind===2)}function No(t){return t.fields.filter(e=>e.kind!==2)}Rm.UNKNOWN_ID=-1;class $g{constructor(e,r){this.fieldPath=e,this.kind=r}}class Wd{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Wd(0,_n.min())}}function l9(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(n===1e9?new xt(r+1,0):new xt(r,n));return new _n(i,Ae.empty(),e)}function gO(t){return new _n(t.readTime,t.key,-1)}class _n{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new _n(Ce.min(),Ae.empty(),-1)}static max(){return new _n(Ce.max(),Ae.empty(),-1)}}function kC(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ae.comparator(t.documentKey,e.documentKey),r!==0?r:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==mO)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new K((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof K?r:K.resolve(r)}catch(r){return K.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):K.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):K.reject(r)}static resolve(e){return new K((r,n)=>{r(e)})}static reject(e){return new K((r,n)=>{n(e)})}static waitFor(e){return new K((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},A=>n(A))}),a=!0,s===i&&r()})}static or(e){let r=K.resolve(!1);for(const n of e)r=r.next(i=>i?K.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new K((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let A=0;A<s;A++){const l=A;r(e[l]).next(u=>{a[l]=u,++o,o===s&&n(a)},u=>i(u))}})}static doWhile(e,r){return new K((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Di,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new ld(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{const i=OC(n.target.error);this.V.reject(new ld(e,i))}}static open(e,r,n,i){try{return new y0(r,e.transaction(i,n))}catch(s){throw new ld(r,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(te("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new c9(r)}}class ja{constructor(e,r,n){this.name=e,this.version=r,this.p=n,ja.S(Jt())===12.2&&Lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return te("SimpleDb","Removing database:",e),Do(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Zk())return!1;if(ja.v())return!0;const e=Jt(),r=ja.S(e),n=0<r&&r<10,i=vO(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(te("SimpleDb","Opening database:",this.name),this.db=await new Promise((r,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;r(a)},i.onblocked=()=>{n(new ld(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?n(new fe(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?n(new fe(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):n(new ld(e,a))},i.onupgradeneeded=s=>{te("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.O(a,i.transaction,s.oldVersion,this.version).next(()=>{te("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=r=>this.N(r)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,i){const s=r==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const o=y0.open(this.db,e,s?"readonly":"readwrite",n),A=i(o).next(l=>(o.g(),l)).catch(l=>(o.abort(l),K.reject(l))).toPromise();return A.catch(()=>{}),await o.m,A}catch(o){const A=o,l=A.name!=="FirebaseError"&&a<3;if(te("SimpleDb","Transaction failed with error:",A.message,"Retrying:",l),this.close(),!l)return Promise.reject(A)}}}close(){this.db&&this.db.close(),this.db=void 0}}function vO(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class u9{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Do(this.B.delete())}}class ld extends fe{constructor(e,r){super(q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function uo(t){return t.name==="IndexedDbTransactionError"}class c9{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(te("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(te("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Do(n)}add(e){return te("SimpleDb","ADD",this.store.name,e,e),Do(this.store.add(e))}get(e){return Do(this.store.get(e)).next(r=>(r===void 0&&(r=null),te("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return te("SimpleDb","DELETE",this.store.name,e),Do(this.store.delete(e))}count(){return te("SimpleDb","COUNT",this.store.name),Do(this.store.count())}U(e,r){const n=this.options(e,r),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(n.range);return new K((a,o)=>{s.onerror=A=>{o(A.target.error)},s.onsuccess=A=>{a(A.target.result)}})}{const s=this.cursor(n),a=[];return this.W(s,(o,A)=>{a.push(A)}).next(()=>a)}}G(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new K((i,s)=>{n.onerror=a=>{s(a.target.error)},n.onsuccess=a=>{i(a.target.result)}})}j(e,r){te("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.H=!1;const i=this.cursor(n);return this.W(i,(s,a,o)=>o.delete())}J(e,r){let n;r?n=e:(n={},r=e);const i=this.cursor(n);return this.W(i,r)}Y(e){const r=this.cursor({});return new K((n,i)=>{r.onerror=s=>{const a=OC(s.target.error);i(a)},r.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(o=>{o?a.continue():n()}):n()}})}W(e,r){const n=[];return new K((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const A=new u9(o),l=r(o.primaryKey,o.value,A);if(l instanceof K){const u=l.catch(d=>(A.done(),K.reject(d)));n.push(u)}A.isDone?i():A.K===null?o.continue():o.continue(A.K)}}).next(()=>K.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Do(t){return new K((e,r)=>{t.onsuccess=n=>{const i=n.target.result;e(i)},t.onerror=n=>{const i=OC(n.target.error);r(i)}})}let nT=!1;function OC(t){const e=ja.S(Jt());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nT||(nT=!0,setTimeout(()=>{throw n},0)),n}}return t}class d9{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){te("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{te("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(r){uo(r)?te("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):await UA(r)}await this.X(6e4)})}}class f9{constructor(e,r){this.localStore=e,this.persistence=r}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.te(r,e))}te(e,r){const n=new Set;let i=r,s=!0;return K.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!n.has(a))return te("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next(o=>{i-=o,n.add(a)});s=!1})).next(()=>r-i)}ne(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(i=>this.localStore.localDocuments.getNextDocuments(e,r,i,n).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.re(i,s)).next(o=>(te("IndexBackfiller",`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,r,o))).next(()=>a.size)}))}re(e,r){let n=e;return r.changes.forEach((i,s)=>{const a=gO(s);kC(a,n)>0&&(n=a)}),new _n(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}$n.oe=-1;function w0(t){return t==null}function Yd(t){return t===0&&1/t==-1/0}function h9(t){return typeof t=="number"&&Number.isInteger(t)&&!Yd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=iT(e)),e=g9(t.get(r),e);return iT(e)}function g9(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case"":r+="";break;default:r+=s}}return r}function iT(t){return t+""}function Pi(t){const e=t.length;if(xe(e>=2),e===2)return xe(t.charAt(0)===""&&t.charAt(1)===""),qe.emptyPath();const r=e-2,n=[];let i="";for(let s=0;s<e;){const a=t.indexOf("",s);switch((a<0||a>r)&&ve(),t.charAt(a+1)){case"":const o=t.substring(s,a);let A;i.length===0?A=o:(i+=o,A=i,i=""),n.push(A);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:ve()}s=a+2}return new qe(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t,e){return[t,Kr(e)]}function yO(t,e,r){return[t,Kr(e),r]}const m9={},p9=["prefixPath","collectionGroup","readTime","documentId"],v9=["prefixPath","collectionGroup","documentId"],y9=["collectionGroup","readTime","prefixPath","documentId"],w9=["canonicalId","targetId"],x9=["targetId","path"],b9=["path","targetId"],B9=["collectionId","parent"],C9=["indexId","uid"],E9=["uid","sequenceNumber"],_9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],I9=["indexId","uid","orderedDocumentKey"],S9=["userId","collectionPath","documentId"],T9=["userId","collectionPath","largestBatchId"],F9=["userId","collectionGroup","largestBatchId"],wO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],U9=[...wO,"documentOverlays"],xO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bO=xO,DC=[...bO,"indexConfiguration","indexState","indexEntries"],P9=DC,N9=[...DC,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x extends pO{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function Zt(t,e){const r=Fe(t);return ja.F(r._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ku(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function BO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,r){this.comparator=e,this.root=r||yr.EMPTY}insert(e,r){return new bt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jh(this.root,e,this.comparator,!0)}}class jh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yr{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??yr.RED,this.left=i??yr.EMPTY,this.right=s??yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new yr(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return yr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1;yr.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,r,n,i,s){return this}insert(e,r,n){return new yr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new oT(this.data.getIterator())}getIteratorFrom(e){return new oT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof tt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new tt(this.comparator);return r.data=e,r}}class oT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ZA(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new Gn([])}unionWith(e){let r=new tt(vt.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Gn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return su(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new CO("Invalid base64 string: "+s):s}}(e);return new Mt(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Mt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const Q9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(t){if(xe(!!t),typeof t=="string"){let e=0;const r=Q9.exec(t);if(xe(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ya(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function RC(t){const e=t.mapValue.fields.__previous_value__;return jC(e)?RC(e):e}function Xd(t){const e=Fs(t.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,r,n,i,s,a,o,A,l){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=A,this.useFetchStreams=l}}class Xa{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Xa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Xa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zg={nullValue:"NULL_VALUE"};function pA(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jC(t)?4:EO(t)?9007199254740991:x0(t)?10:11:ve()}function Li(t,e){if(t===e)return!0;const r=pA(t);if(r!==pA(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xd(t).isEqual(Xd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Fs(i.timestampValue),o=Fs(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ya(i.bytesValue).isEqual(Ya(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return mt(i.geoPointValue.latitude)===mt(s.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return mt(i.integerValue)===mt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=mt(i.doubleValue),o=mt(s.doubleValue);return a===o?Yd(a)===Yd(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return su(t.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(aT(a)!==aT(o))return!1;for(const A in a)if(a.hasOwnProperty(A)&&(o[A]===void 0||!Li(a[A],o[A])))return!1;return!0}(t,e);default:return ve()}}function qd(t,e){return(t.values||[]).find(r=>Li(r,e))!==void 0}function qa(t,e){if(t===e)return 0;const r=pA(t),n=pA(e);if(r!==n)return Ue(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=mt(s.integerValue||s.doubleValue),A=mt(a.integerValue||a.doubleValue);return o<A?-1:o>A?1:o===A?0:isNaN(o)?isNaN(A)?0:-1:1}(t,e);case 3:return AT(t.timestampValue,e.timestampValue);case 4:return AT(Xd(t),Xd(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Ya(s),A=Ya(a);return o.compareTo(A)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),A=a.split("/");for(let l=0;l<o.length&&l<A.length;l++){const u=Ue(o[l],A[l]);if(u!==0)return u}return Ue(o.length,A.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Ue(mt(s.latitude),mt(a.latitude));return o!==0?o:Ue(mt(s.longitude),mt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lT(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,A,l,u;const d=s.fields||{},f=a.fields||{},g=(o=d.value)===null||o===void 0?void 0:o.arrayValue,m=(A=f.value)===null||A===void 0?void 0:A.arrayValue,p=Ue(((l=g==null?void 0:g.values)===null||l===void 0?void 0:l.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return p!==0?p:lT(g,m)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===ya.mapValue&&a===ya.mapValue)return 0;if(s===ya.mapValue)return 1;if(a===ya.mapValue)return-1;const o=s.fields||{},A=Object.keys(o),l=a.fields||{},u=Object.keys(l);A.sort(),u.sort();for(let d=0;d<A.length&&d<u.length;++d){const f=Ue(A[d],u[d]);if(f!==0)return f;const g=qa(o[A[d]],l[u[d]]);if(g!==0)return g}return Ue(A.length,u.length)}(t.mapValue,e.mapValue);default:throw ve()}}function AT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const r=Fs(t),n=Fs(e),i=Ue(r.seconds,n.seconds);return i!==0?i:Ue(r.nanos,n.nanos)}function lT(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=qa(r[i],n[i]);if(s)return s}return Ue(r.length,n.length)}function au(t){return Gx(t)}function Gx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Fs(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Ya(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ae.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=Gx(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${Gx(r.fields[a])}`;return i+"}"}(t.mapValue):ve()}function MC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zx(t){return!!t&&"integerValue"in t}function Jd(t){return!!t&&"arrayValue"in t}function uT(t){return!!t&&"nullValue"in t}function cT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wg(t){return!!t&&"mapValue"in t}function x0(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function ud(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ku(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=ud(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ud(t.arrayValue.values[r]);return e}return Object.assign({},t)}function EO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const _O={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function O9(t){return"nullValue"in t?zg:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?MC(Xa.empty(),Ae.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?x0(t)?_O:{mapValue:{}}:ve()}function D9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?MC(Xa.empty(),Ae.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?_O:"mapValue"in t?x0(t)?{mapValue:{}}:ya:ve()}function dT(t,e){const r=qa(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function fT(t,e){const r=qa(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Wg(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ud(r)}setAll(e){let r=vt.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const A=this.getFieldsMap(r);this.applyChanges(A,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=ud(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());Wg(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Wg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){ku(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new en(ud(this.value))}}function IO(t){const e=[];return ku(t.fields,(r,n)=>{const i=new vt([r]);if(Wg(n)){const s=IO(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Ot(e,0,Ce.min(),Ce.min(),Ce.min(),en.empty(),0)}static newFoundDocument(e,r,n,i){return new Ot(e,1,r,Ce.min(),n,i,0)}static newNoDocument(e,r){return new Ot(e,2,r,Ce.min(),Ce.min(),en.empty(),0)}static newUnknownDocument(e,r){return new Ot(e,3,r,Ce.min(),Ce.min(),en.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,r){this.position=e,this.inclusive=r}}function hT(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=Ae.comparator(Ae.fromName(a.referenceValue),r.key):n=qa(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function gT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Li(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,r="asc"){this.field=e,this.dir=r}}function j9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{}class Re extends SO{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new R9(e,r,n):r==="array-contains"?new H9(e,n):r==="in"?new QO(e,n):r==="not-in"?new V9(e,n):r==="array-contains-any"?new K9(e,n):new Re(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new M9(e,n):new L9(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(qa(r,this.value)):r!==null&&pA(this.value)===pA(r)&&this.matchesComparison(qa(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class et extends SO{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new et(e,r)}matches(e){return Au(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Au(t){return t.op==="and"}function Wx(t){return t.op==="or"}function LC(t){return TO(t)&&Au(t)}function TO(t){for(const e of t.filters)if(e instanceof et)return!1;return!0}function Yx(t){if(t instanceof Re)return t.field.canonicalString()+t.op.toString()+au(t.value);if(LC(t))return t.filters.map(e=>Yx(e)).join(",");{const e=t.filters.map(r=>Yx(r)).join(",");return`${t.op}(${e})`}}function FO(t,e){return t instanceof Re?function(n,i){return i instanceof Re&&n.op===i.op&&n.field.isEqual(i.field)&&Li(n.value,i.value)}(t,e):t instanceof et?function(n,i){return i instanceof et&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&FO(a,i.filters[o]),!0):!1}(t,e):void ve()}function UO(t,e){const r=t.filters.concat(e);return et.create(r,t.op)}function PO(t){return t instanceof Re?function(r){return`${r.field.canonicalString()} ${r.op} ${au(r.value)}`}(t):t instanceof et?function(r){return r.op.toString()+" {"+r.getFilters().map(PO).join(" ,")+"}"}(t):"Filter"}class R9 extends Re{constructor(e,r,n){super(e,r,n),this.key=Ae.fromName(n.referenceValue)}matches(e){const r=Ae.comparator(e.key,this.key);return this.matchesComparison(r)}}class M9 extends Re{constructor(e,r){super(e,"in",r),this.keys=NO("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class L9 extends Re{constructor(e,r){super(e,"not-in",r),this.keys=NO("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function NO(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ae.fromName(n.referenceValue))}class H9 extends Re{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Jd(r)&&qd(r.arrayValue,this.value)}}class QO extends Re{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&qd(this.value.arrayValue,r)}}class V9 extends Re{constructor(e,r){super(e,"not-in",r)}matches(e){if(qd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!qd(this.value.arrayValue,r)}}class K9 extends Re{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Jd(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>qd(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function Xx(t,e=null,r=[],n=[],i=null,s=null,a=null){return new $9(t,e,r,n,i,s,a)}function vA(t){const e=Fe(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Yx(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),w0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>au(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>au(n)).join(",")),e.ue=r}return e.ue}function _f(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!j9(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!FO(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gT(t.startAt,e.startAt)&&gT(t.endAt,e.endAt)}function Lm(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Hm(t,e){return t.filters.filter(r=>r instanceof Re&&r.field.isEqual(e))}function mT(t,e,r){let n=zg,i=!0;for(const s of Hm(t,e)){let a=zg,o=!0;switch(s.op){case"<":case"<=":a=O9(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=zg}dT({value:n,inclusive:i},{value:a,inclusive:o})<0&&(n=a,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=r.position[s];dT({value:n,inclusive:i},{value:a,inclusive:r.inclusive})<0&&(n=a,i=r.inclusive);break}}return{value:n,inclusive:i}}function pT(t,e,r){let n=ya,i=!0;for(const s of Hm(t,e)){let a=ya,o=!0;switch(s.op){case">=":case">":a=D9(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=ya}fT({value:n,inclusive:i},{value:a,inclusive:o})>0&&(n=a,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=r.position[s];fT({value:n,inclusive:i},{value:a,inclusive:r.inclusive})>0&&(n=a,i=r.inclusive);break}}return{value:n,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,A=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=A,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function G9(t,e,r,n,i,s,a,o){return new b0(t,e,r,n,i,s,a,o)}function If(t){return new b0(t)}function vT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function z9(t){return t.collectionGroup!==null}function cd(t){const e=Fe(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new tt(vt.comparator);return a.filters.forEach(A=>{A.getFlattenedFilters().forEach(l=>{l.isInequality()&&(o=o.add(l.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Mm(s,n))}),r.has(vt.keyField().canonicalString())||e.ce.push(new Mm(vt.keyField(),n))}return e.ce}function Jn(t){const e=Fe(t);return e.le||(e.le=W9(e,cd(t))),e.le}function W9(t,e){if(t.limitType==="F")return Xx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Mm(i.field,s)});const r=t.endAt?new ou(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new ou(t.startAt.position,t.startAt.inclusive):null;return Xx(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Vm(t,e,r){return new b0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function B0(t,e){return _f(Jn(t),Jn(e))&&t.limitType===e.limitType}function kO(t){return`${vA(Jn(t))}|lt:${t.limitType}`}function fl(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>PO(i)).join(", ")}]`),w0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>au(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>au(i)).join(",")),`Target(${n})`}(Jn(t))}; limitType=${t.limitType})`}function Sf(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Ae.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of cd(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,A){const l=hT(a,o,A);return a.inclusive?l<=0:l<0}(n.startAt,cd(n),i)||n.endAt&&!function(a,o,A){const l=hT(a,o,A);return a.inclusive?l>=0:l>0}(n.endAt,cd(n),i))}(t,e)}function Y9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OO(t){return(e,r)=>{let n=!1;for(const i of cd(t)){const s=X9(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function X9(t,e,r){const n=t.field.isKeyField()?Ae.comparator(e.key,r.key):function(s,a,o){const A=a.data.field(s),l=o.data.field(s);return A!==null&&l!==null?qa(A,l):ve()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ku(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return BO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=new bt(Ae.comparator);function xn(){return q9}const DO=new bt(Ae.comparator);function Hc(...t){let e=DO;for(const r of t)e=e.insert(r.key,r);return e}function jO(t){let e=DO;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Ni(){return dd()}function RO(){return dd()}function dd(){return new co(t=>t.toString(),(t,e)=>t.isEqual(e))}const J9=new bt(Ae.comparator),Z9=new tt(Ae.comparator);function Ne(...t){let e=Z9;for(const r of t)e=e.add(r);return e}const eG=new tt(Ue);function tG(){return eG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function MO(t){return{integerValue:""+t}}function rG(t,e){return h9(e)?MO(e):HC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this._=void 0}}function nG(t,e,r){return t instanceof lu?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jC(s)&&(s=RC(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(r,e):t instanceof uu?HO(t,e):t instanceof cu?VO(t,e):function(i,s){const a=LO(i,s),o=yT(a)+yT(i.Pe);return zx(a)&&zx(i.Pe)?MO(o):HC(i.serializer,o)}(t,e)}function iG(t,e,r){return t instanceof uu?HO(t,e):t instanceof cu?VO(t,e):r}function LO(t,e){return t instanceof Zd?function(n){return zx(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class lu extends C0{}class uu extends C0{constructor(e){super(),this.elements=e}}function HO(t,e){const r=KO(e);for(const n of t.elements)r.some(i=>Li(i,n))||r.push(n);return{arrayValue:{values:r}}}class cu extends C0{constructor(e){super(),this.elements=e}}function VO(t,e){let r=KO(e);for(const n of t.elements)r=r.filter(i=>!Li(i,n));return{arrayValue:{values:r}}}class Zd extends C0{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function yT(t){return mt(t.integerValue||t.doubleValue)}function KO(t){return Jd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,r){this.field=e,this.transform=r}}function sG(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof uu&&i instanceof uu||n instanceof cu&&i instanceof cu?su(n.elements,i.elements,Li):n instanceof Zd&&i instanceof Zd?Li(n.Pe,i.Pe):n instanceof lu&&i instanceof lu}(t.transform,e.transform)}class aG{constructor(e,r){this.version=e,this.transformResults=r}}class bn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class E0{}function GO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new VC(t.key,bn.none()):new Ou(t.key,t.data,bn.none());{const r=t.data,n=en.empty();let i=new tt(vt.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new fo(t.key,n,new Gn(i.toArray()),bn.none())}}function oG(t,e,r){t instanceof Ou?function(i,s,a){const o=i.value.clone(),A=xT(i.fieldTransforms,s,a.transformResults);o.setAll(A),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof fo?function(i,s,a){if(!Yg(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=xT(i.fieldTransforms,s,a.transformResults),A=s.data;A.setAll(zO(i)),A.setAll(o),s.convertToFoundDocument(a.version,A).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function fd(t,e,r,n){return t instanceof Ou?function(s,a,o,A){if(!Yg(s.precondition,a))return o;const l=s.value.clone(),u=bT(s.fieldTransforms,A,a);return l.setAll(u),a.convertToFoundDocument(a.version,l).setHasLocalMutations(),null}(t,e,r,n):t instanceof fo?function(s,a,o,A){if(!Yg(s.precondition,a))return o;const l=bT(s.fieldTransforms,A,a),u=a.data;return u.setAll(zO(s)),u.setAll(l),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(s,a,o){return Yg(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function AG(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=LO(n.transform,i||null);s!=null&&(r===null&&(r=en.empty()),r.set(n.field,s))}return r||null}function wT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&su(n,i,(s,a)=>sG(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ou extends E0{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fo extends E0{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function zO(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function xT(t,e,r){const n=new Map;xe(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,iG(a,o,r[i]))}return n}function bT(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,nG(s,a,e))}return n}class VC extends E0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WO extends E0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&oG(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=fd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=fd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=RO();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const A=GO(a,o);A!==null&&n.set(i.key,A),a.isValidDocument()||a.convertToNoDocument(Ce.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ne())}isEqual(e){return this.batchId===e.batchId&&su(this.mutations,e.mutations,(r,n)=>wT(r,n))&&su(this.baseMutations,e.baseMutations,(r,n)=>wT(r,n))}}class $C{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){xe(e.mutations.length===n.length);let i=function(){return J9}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new $C(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,Me;function uG(t){switch(t){default:return ve();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function YO(t){if(t===void 0)return Lr("GRPC error has no .code"),q.UNKNOWN;switch(t){case Ht.OK:return q.OK;case Ht.CANCELLED:return q.CANCELLED;case Ht.UNKNOWN:return q.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return q.INTERNAL;case Ht.UNAVAILABLE:return q.UNAVAILABLE;case Ht.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Ht.NOT_FOUND:return q.NOT_FOUND;case Ht.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Ht.ABORTED:return q.ABORTED;case Ht.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Ht.DATA_LOSS:return q.DATA_LOSS;default:return ve()}}(Me=Ht||(Ht={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=new eA([4294967295,4294967295],0);function BT(t){const e=cG().encode(t),r=new aO;return r.update(e),new Uint8Array(r.digest())}function CT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new eA([r,n],0),new eA([i,s],0)]}class zC{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Vc(`Invalid padding: ${r}`);if(n<0)throw new Vc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Vc(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Vc(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=eA.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(eA.fromNumber(n)));return i.compare(dG)===1&&(i=new eA([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=BT(e),[n,i]=CT(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new zC(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const r=BT(e),[n,i]=CT(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Tf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new _0(Ce.min(),i,new bt(Ue),xn(),Ne())}}class Tf{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Tf(n,r,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class XO{constructor(e,r){this.targetId=e,this.me=r}}class qO{constructor(e,r,n=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class ET{constructor(){this.fe=0,this.ge=IT(),this.pe=Mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ne(),r=Ne(),n=Ne();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ve()}}),new Tf(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=IT()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fG{constructor(e){this.Le=e,this.Be=new Map,this.ke=xn(),this.qe=_T(),this.Qe=new bt(Ue)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(Lm(s))if(n===0){const a=new Ae(s.path);this.Ue(r,a,Ot.newNoDocument(a,Ce.min()))}else xe(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),A=o?this.Xe(o,e,a):1;if(A!==0){this.je(r);const l=A===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,l)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=Ya(n).toUint8Array()}catch(A){if(A instanceof CO)return Wa("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw A}try{o=new zC(a,i,s)}catch(A){return Wa(A instanceof Vc?"BloomFilter error: ":"Applying bloom filter failed: ",A),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&Lm(o.target)){const A=new Ae(o.target.path);this.ke.get(A)!==null||this.it(a,A)||this.Ue(a,A,Ot.newNoDocument(A,e))}s.be&&(r.set(a,s.ve()),s.Ce())}});let n=Ne();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(A=>{const l=this.Je(A);return!l||l.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new _0(e,r,this.Qe,this.ke,n);return this.ke=xn(),this.qe=_T(),this.Qe=new bt(Ue),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new ET,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new tt(Ue),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||te("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ET),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function _T(){return new bt(Ae.comparator)}function IT(){return new bt(Ae.comparator)}const hG={asc:"ASCENDING",desc:"DESCENDING"},gG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mG={and:"AND",or:"OR"};class pG{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function qx(t,e){return t.useProto3Json||w0(e)?e:{value:e}}function du(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vG(t,e){return du(t,e.toTimestamp())}function $r(t){return xe(!!t),Ce.fromTimestamp(function(r){const n=Fs(r);return new xt(n.seconds,n.nanos)}(t))}function WC(t,e){return Jx(t,e).canonicalString()}function Jx(t,e){const r=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function ZO(t){const e=qe.fromString(t);return xe(A4(e)),e}function Km(t,e){return WC(t.databaseId,e.path)}function tA(t,e){const r=ZO(e);if(r.get(1)!==t.databaseId.projectId)throw new fe(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new fe(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ae(r4(r))}function e4(t,e){return WC(t.databaseId,e)}function t4(t){const e=ZO(t);return e.length===4?qe.emptyPath():r4(e)}function Zx(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function r4(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ST(t,e,r){return{name:Km(t,e),fields:r.value.mapValue.fields}}function yG(t,e,r){const n=tA(t,e.name),i=$r(e.updateTime),s=e.createTime?$r(e.createTime):Ce.min(),a=new en({mapValue:{fields:e.fields}}),o=Ot.newFoundDocument(n,i,s,a);return r&&o.setHasCommittedMutations(),r?o.setHasCommittedMutations():o}function wG(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(xe(u===void 0||typeof u=="string"),Mt.fromBase64String(u||"")):(xe(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Mt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(l){const u=l.code===void 0?q.UNKNOWN:YO(l.code);return new fe(u,l.message||"")}(a);r=new qO(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=tA(t,n.document.name),s=$r(n.document.updateTime),a=n.document.createTime?$r(n.document.createTime):Ce.min(),o=new en({mapValue:{fields:n.document.fields}}),A=Ot.newFoundDocument(i,s,a,o),l=n.targetIds||[],u=n.removedTargetIds||[];r=new Xg(l,u,A.key,A)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=tA(t,n.document),s=n.readTime?$r(n.readTime):Ce.min(),a=Ot.newNoDocument(i,s),o=n.removedTargetIds||[];r=new Xg([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=tA(t,n.document),s=n.removedTargetIds||[];r=new Xg([],s,i,null)}else{if(!("filter"in e))return ve();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new lG(i,s),o=n.targetId;r=new XO(o,a)}}return r}function $m(t,e){let r;if(e instanceof Ou)r={update:ST(t,e.key,e.value)};else if(e instanceof VC)r={delete:Km(t,e.key)};else if(e instanceof fo)r={update:ST(t,e.key,e.data),updateMask:_G(e.fieldMask)};else{if(!(e instanceof WO))return ve();r={verify:Km(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof lu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof uu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof cu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Zd)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw ve()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:vG(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ve()}(t,e.precondition)),r}function eb(t,e){const r=e.currentDocument?function(s){return s.updateTime!==void 0?bn.updateTime($r(s.updateTime)):s.exists!==void 0?bn.exists(s.exists):bn.none()}(e.currentDocument):bn.none(),n=e.updateTransforms?e.updateTransforms.map(i=>function(a,o){let A=null;if("setToServerValue"in o)xe(o.setToServerValue==="REQUEST_TIME"),A=new lu;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];A=new uu(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];A=new cu(u)}else"increment"in o?A=new Zd(a,o.increment):ve();const l=vt.fromServerFormat(o.fieldPath);return new $O(l,A)}(t,i)):[];if(e.update){e.update.name;const i=tA(t,e.update.name),s=new en({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(A){const l=A.fieldPaths||[];return new Gn(l.map(u=>vt.fromServerFormat(u)))}(e.updateMask);return new fo(i,s,a,r,n)}return new Ou(i,s,r,n)}if(e.delete){const i=tA(t,e.delete);return new VC(i,r)}if(e.verify){const i=tA(t,e.verify);return new WO(i,r)}return ve()}function xG(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(r=>function(i,s){let a=i.updateTime?$r(i.updateTime):$r(s);return a.isEqual(Ce.min())&&(a=$r(s)),new aG(a,i.transformResults||[])}(r,e))):[]}function n4(t,e){return{documents:[e4(t,e.path)]}}function i4(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=e4(t,i);const s=function(l){if(l.length!==0)return o4(et.create(l,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:hl(f.field),direction:BG(f.dir)}}(u))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=qx(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:r,parent:i}}function s4(t){let e=t4(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){xe(n===1);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];r.where&&(s=function(d){const f=a4(d);return f instanceof et&&LC(f)?f.getFilters():[f]}(r.where));let a=[];r.orderBy&&(a=function(d){return d.map(f=>function(m){return new Mm(gl(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(r.orderBy));let o=null;r.limit&&(o=function(d){let f;return f=typeof d=="object"?d.value:d,w0(f)?null:f}(r.limit));let A=null;r.startAt&&(A=function(d){const f=!!d.before,g=d.values||[];return new ou(g,f)}(r.startAt));let l=null;return r.endAt&&(l=function(d){const f=!d.before,g=d.values||[];return new ou(g,f)}(r.endAt)),G9(e,i,a,s,o,"F",A,l)}function bG(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function a4(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=gl(r.unaryFilter.field);return Re.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=gl(r.unaryFilter.field);return Re.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=gl(r.unaryFilter.field);return Re.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=gl(r.unaryFilter.field);return Re.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(r){return Re.create(gl(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return et.create(r.compositeFilter.filters.map(n=>a4(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ve()}}(r.compositeFilter.op))}(t):ve()}function BG(t){return hG[t]}function CG(t){return gG[t]}function EG(t){return mG[t]}function hl(t){return{fieldPath:t.canonicalString()}}function gl(t){return vt.fromServerFormat(t.fieldPath)}function o4(t){return t instanceof Re?function(r){if(r.op==="=="){if(cT(r.value))return{unaryFilter:{field:hl(r.field),op:"IS_NAN"}};if(uT(r.value))return{unaryFilter:{field:hl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(cT(r.value))return{unaryFilter:{field:hl(r.field),op:"IS_NOT_NAN"}};if(uT(r.value))return{unaryFilter:{field:hl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hl(r.field),op:CG(r.op),value:r.value}}}(t):t instanceof et?function(r){const n=r.getFilters().map(i=>o4(i));return n.length===1?n[0]:{compositeFilter:{op:EG(r.op),filters:n}}}(t):ve()}function _G(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function A4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,r,n,i,s=Ce.min(),a=Ce.min(),o=Mt.EMPTY_BYTE_STRING,A=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=A}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.ct=e}}function IG(t,e){let r;if(e.document)r=yG(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=Ae.fromSegments(e.noDocument.path),i=wA(e.noDocument.readTime);r=Ot.newNoDocument(n,i),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return ve();{const n=Ae.fromSegments(e.unknownDocument.path),i=wA(e.unknownDocument.version);r=Ot.newUnknownDocument(n,i)}}return e.readTime&&r.setReadTime(function(i){const s=new xt(i[0],i[1]);return Ce.fromTimestamp(s)}(e.readTime)),r}function TT(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Gm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(s,a){return{name:Km(s,a.key),fields:a.data.value.mapValue.fields,updateTime:du(s,a.version.toTimestamp()),createTime:du(s,a.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:yA(e.version)};else{if(!e.isUnknownDocument())return ve();n.unknownDocument={path:r.path.toArray(),version:yA(e.version)}}return n}function Gm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function yA(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wA(t){const e=new xt(t.seconds,t.nanoseconds);return Ce.fromTimestamp(e)}function jo(t,e){const r=(e.baseMutations||[]).map(s=>eb(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const n=e.mutations.map(s=>eb(t.ct,s)),i=xt.fromMillis(e.localWriteTimeMs);return new KC(e.batchId,i,r,n)}function Kc(t){const e=wA(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?wA(t.lastLimboFreeSnapshotVersion):Ce.min();let n;return n=function(s){return s.documents!==void 0}(t.query)?function(s){return xe(s.documents.length===1),Jn(If(t4(s.documents[0])))}(t.query):function(s){return Jn(s4(s))}(t.query),new hs(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,Mt.fromBase64String(t.resumeToken))}function u4(t,e){const r=yA(e.snapshotVersion),n=yA(e.lastLimboFreeSnapshotVersion);let i;i=Lm(e.target)?n4(t.ct,e.target):i4(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:vA(e.target),readTime:r,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function c4(t){const e=s4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vm(e,e.limit,"L"):e}function Ly(t,e){return new GC(e.largestBatchId,eb(t.ct,e.overlayMutation))}function FT(t,e){const r=e.path.lastSegment();return[t,Kr(e.path.popLast()),r]}function UT(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:yA(n.readTime),documentKey:Kr(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{getBundleMetadata(e,r){return PT(e).get(r).next(n=>{if(n)return function(s){return{id:s.bundleId,createTime:wA(s.createTime),version:s.version}}(n)})}saveBundleMetadata(e,r){return PT(e).put(function(i){return{bundleId:i.id,createTime:yA($r(i.createTime)),version:i.version}}(r))}getNamedQuery(e,r){return NT(e).get(r).next(n=>{if(n)return function(s){return{name:s.name,query:c4(s.bundledQuery),readTime:wA(s.readTime)}}(n)})}saveNamedQuery(e,r){return NT(e).put(function(i){return{name:i.name,readTime:yA($r(i.readTime)),bundledQuery:i.bundledQuery}}(r))}}function PT(t){return Zt(t,"bundles")}function NT(t){return Zt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){const n=r.uid||"";return new I0(e,n)}getOverlay(e,r){return pc(e).get(FT(this.userId,r)).next(n=>n?Ly(this.serializer,n):null)}getOverlays(e,r){const n=Ni();return K.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){const i=[];return n.forEach((s,a)=>{const o=new GC(r,a);i.push(this.ht(e,o))}),K.waitFor(i)}removeOverlaysForBatchId(e,r,n){const i=new Set;r.forEach(a=>i.add(Kr(a.getCollectionPath())));const s=[];return i.forEach(a=>{const o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,n+1],!1,!0);s.push(pc(e).j("collectionPathOverlayIndex",o))}),K.waitFor(s)}getOverlaysForCollection(e,r,n){const i=Ni(),s=Kr(r),a=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return pc(e).U("collectionPathOverlayIndex",a).next(o=>{for(const A of o){const l=Ly(this.serializer,A);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,r,n,i){const s=Ni();let a;const o=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return pc(e).J({index:"collectionGroupOverlayIndex",range:o},(A,l,u)=>{const d=Ly(this.serializer,l);s.size()<i||d.largestBatchId===a?(s.set(d.getKey(),d),a=d.largestBatchId):u.done()}).next(()=>s)}ht(e,r){return pc(e).put(function(i,s,a){const[o,A,l]=FT(s,a.mutation.key);return{userId:s,collectionPath:A,documentId:l,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:$m(i.ct,a.mutation)}}(this.serializer,this.userId,r))}}function pc(t){return Zt(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{Pt(e){return Zt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const n=r==null?void 0:r.value;return n?Mt.fromUint8Array(n):Mt.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(mt(e.integerValue));else if("doubleValue"in e){const n=mt(e.doubleValue);isNaN(n)?this.dt(r,13):(this.dt(r,15),Yd(n)?r.At(0):r.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(r,20),typeof n=="string"&&(n=Fs(n)),r.Rt(`${n.seconds||""}`),r.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Ya(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(r,45),r.At(n.latitude||0),r.At(n.longitude||0)}else"mapValue"in e?EO(e)?this.dt(r,Number.MAX_SAFE_INTEGER):x0(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):ve()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const n=e.fields||{};this.dt(r,55);for(const i of Object.keys(n))this.Vt(i,r),this.Tt(n[i],r)}wt(e,r){var n,i;const s=e.fields||{};this.dt(r,53);const a="value",o=((i=(n=s[a].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.length)||0;this.dt(r,15),r.At(mt(o)),this.Vt(a,r),this.Tt(s[a],r)}bt(e,r){const n=e.values||[];this.dt(r,50);for(const i of n)this.Tt(i,r)}yt(e,r){this.dt(r,37),Ae.fromName(e).path.forEach(n=>{this.dt(r,60),this.Dt(n,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}Ro.vt=new Ro;function FG(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function QT(t){const e=64-function(n){let i=0;for(let s=0;s<8;++s){const a=FG(255&n[s]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class UG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ft(n.value),n=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ot(n.value),n=r.next();this.Nt()}Lt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const i=r.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const i=r.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const r=this.qt(e),n=QT(r);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=255&r[i]}Kt(e){const r=this.qt(e),n=QT(r);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=~(255&r[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)}(e),n=(128&r[0])!=0;r[0]^=n?255:128;for(let i=1;i<r.length;++i)r[i]^=n?255:0;return r}Ft(e){const r=255&e;r===0?(this.Ut(0),this.Ut(255)):r===255?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;r===0?(this.Gt(0),this.Gt(255)):r===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class PG{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class NG{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class vc{constructor(){this.jt=new UG,this.Ht=new PG(this.jt),this.Jt=new NG(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,r,n,i){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=i}Zt(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Mo(this.indexId,this.documentKey,this.arrayValue,n)}}function ea(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=kT(t.arrayValue,e.arrayValue),r!==0?r:(r=kT(t.directionalValue,e.directionalValue),r!==0?r:Ae.comparator(t.documentKey,e.documentKey)))}function kT(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.Xt=new tt((r,n)=>vt.comparator(r.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const n=r;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(xe(e.collectionGroup===this.collectionId),this.nn)return!1;const r=Kx(e);if(r!==void 0&&!this.sn(r))return!1;const n=No(e);let i=new Set,s=0,a=0;for(;s<n.length&&this.sn(n[s]);++s)i=i.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.Xt.size>0){const o=this.Xt.getIterator().getNext();if(!i.has(o.field.canonicalString())){const A=n[s];if(!this.on(o,A)||!this._n(this.en[a++],A))return!1}++s}for(;s<n.length;++s){const o=n[s];if(a>=this.en.length||!this._n(this.en[a++],o))return!1}return!0}an(){if(this.nn)return null;let e=new tt(vt.comparator);const r=[];for(const n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new $g(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new $g(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new $g(n.field,n.dir==="asc"?0:1)));return new Rm(Rm.UNKNOWN_ID,this.collectionId,r,Wd.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t){var e,r;if(xe(t instanceof Re||t instanceof et),t instanceof Re){if(t instanceof QO){const i=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(s=>Re.create(t.field,"==",s)))||[];return et.create(i,"or")}return t}const n=t.filters.map(i=>d4(i));return et.create(n,t.op)}function QG(t){if(t.getFilters().length===0)return[];const e=nb(d4(t));return xe(f4(e)),tb(e)||rb(e)?[e]:e.getFilters()}function tb(t){return t instanceof Re}function rb(t){return t instanceof et&&LC(t)}function f4(t){return tb(t)||rb(t)||function(r){if(r instanceof et&&Wx(r)){for(const n of r.getFilters())if(!tb(n)&&!rb(n))return!1;return!0}return!1}(t)}function nb(t){if(xe(t instanceof Re||t instanceof et),t instanceof Re)return t;if(t.filters.length===1)return nb(t.filters[0]);const e=t.filters.map(n=>nb(n));let r=et.create(e,t.op);return r=zm(r),f4(r)?r:(xe(r instanceof et),xe(Au(r)),xe(r.filters.length>1),r.filters.reduce((n,i)=>YC(n,i)))}function YC(t,e){let r;return xe(t instanceof Re||t instanceof et),xe(e instanceof Re||e instanceof et),r=t instanceof Re?e instanceof Re?function(i,s){return et.create([i,s],"and")}(t,e):DT(t,e):e instanceof Re?DT(e,t):function(i,s){if(xe(i.filters.length>0&&s.filters.length>0),Au(i)&&Au(s))return UO(i,s.getFilters());const a=Wx(i)?i:s,o=Wx(i)?s:i,A=a.filters.map(l=>YC(l,o));return et.create(A,"or")}(t,e),zm(r)}function DT(t,e){if(Au(e))return UO(e,t.getFilters());{const r=e.filters.map(n=>YC(t,n));return et.create(r,"or")}}function zm(t){if(xe(t instanceof Re||t instanceof et),t instanceof Re)return t;const e=t.getFilters();if(e.length===1)return zm(e[0]);if(TO(t))return t;const r=e.map(i=>zm(i)),n=[];return r.forEach(i=>{i instanceof Re?n.push(i):i instanceof et&&(i.op===t.op?n.push(...i.filters):n.push(i))}),n.length===1?n[0]:et.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(){this.un=new XC}addToCollectionParentIndex(e,r){return this.un.add(r),K.resolve()}getCollectionParents(e,r){return K.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return K.resolve()}deleteFieldIndex(e,r){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,r){return K.resolve()}getDocumentsMatchingTarget(e,r){return K.resolve(null)}getIndexType(e,r){return K.resolve(0)}getFieldIndexes(e,r){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,r){return K.resolve(_n.min())}getMinOffsetFromCollectionGroup(e,r){return K.resolve(_n.min())}updateCollectionGroup(e,r,n){return K.resolve()}updateIndexEntries(e,r){return K.resolve()}}class XC{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new tt(qe.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new tt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Uint8Array(0);class OG{constructor(e,r){this.databaseId=r,this.cn=new XC,this.ln=new co(n=>vA(n),(n,i)=>_f(n,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const n=r.lastSegment(),i=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const s={collectionId:n,parent:Kr(i)};return jT(e).put(s)}return K.resolve()}getCollectionParents(e,r){const n=[],i=IDBKeyRange.bound([r,""],[hO(r),""],!1,!0);return jT(e).U(i).next(s=>{for(const a of s){if(a.collectionId!==r)break;n.push(Pi(a.parent))}return n})}addFieldIndex(e,r){const n=yc(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])}}(r);delete i.indexId;const s=n.add(i);if(r.indexState){const a=tl(e);return s.next(o=>{a.put(UT(o,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return s.next()}deleteFieldIndex(e,r){const n=yc(e),i=tl(e),s=el(e);return n.delete(r.indexId).next(()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=yc(e),n=el(e),i=tl(e);return r.j().next(()=>n.j()).next(()=>i.j())}createTargetIndexes(e,r){return K.forEach(this.hn(r),n=>this.getIndexType(e,n).next(i=>{if(i===0||i===1){const s=new OT(n).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,r){const n=el(e);let i=!0;const s=new Map;return K.forEach(this.hn(r),a=>this.Pn(e,a).next(o=>{i&&(i=!!o),s.set(a,o)})).next(()=>{if(i){let a=Ne();const o=[];return K.forEach(s,(A,l)=>{te("IndexedDbIndexManager",`Using index ${function(B){return`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map(I=>`${I.fieldPath}:${I.kind}`).join(",")}`}(A)} to execute ${vA(r)}`);const u=function(B,I){const T=Kx(I);if(T===void 0)return null;for(const F of Hm(B,T.fieldPath))switch(F.op){case"array-contains-any":return F.value.arrayValue.values||[];case"array-contains":return[F.value]}return null}(l,A),d=function(B,I){const T=new Map;for(const F of No(I))for(const C of Hm(B,F.fieldPath))switch(C.op){case"==":case"in":T.set(F.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return T.set(F.fieldPath.canonicalString(),C.value),Array.from(T.values())}return null}(l,A),f=function(B,I){const T=[];let F=!0;for(const C of No(I)){const _=C.kind===0?mT(B,C.fieldPath,B.startAt):pT(B,C.fieldPath,B.startAt);T.push(_.value),F&&(F=_.inclusive)}return new ou(T,F)}(l,A),g=function(B,I){const T=[];let F=!0;for(const C of No(I)){const _=C.kind===0?pT(B,C.fieldPath,B.endAt):mT(B,C.fieldPath,B.endAt);T.push(_.value),F&&(F=_.inclusive)}return new ou(T,F)}(l,A),m=this.In(A,l,f),p=this.In(A,l,g),v=this.Tn(A,l,d),y=this.En(A.indexId,u,m,f.inclusive,p,g.inclusive,v);return K.forEach(y,w=>n.G(w,r.limit).next(B=>{B.forEach(I=>{const T=Ae.fromSegments(I.documentKey);a.has(T)||(a=a.add(T),o.push(T))})}))}).next(()=>o)}return K.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(e.filters.length===0?r=[e]:r=QG(et.create(e.filters,"and")).map(n=>Xx(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,n,i,s,a,o){const A=(r!=null?r.length:1)*Math.max(n.length,s.length),l=A/(r!=null?r.length:1),u=[];for(let d=0;d<A;++d){const f=r?this.dn(r[d/l]):Rh,g=this.An(e,f,n[d%l],i),m=this.Rn(e,f,s[d%l],a),p=o.map(v=>this.An(e,f,v,!0));u.push(...this.createRange(g,m,p))}return u}An(e,r,n,i){const s=new Mo(e,Ae.empty(),r,n);return i?s:s.Zt()}Rn(e,r,n,i){const s=new Mo(e,Ae.empty(),r,n);return i?s.Zt():s}Pn(e,r){const n=new OT(r),i=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let a=null;for(const o of s)n.rn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a})}getIndexType(e,r){let n=2;const i=this.hn(r);return K.forEach(i,s=>this.Pn(e,s).next(a=>{a?n!==0&&a.fields.length<function(A){let l=new tt(vt.comparator),u=!1;for(const d of A.filters)for(const f of d.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:l=l.add(f.field));for(const d of A.orderBy)d.field.isKeyField()||(l=l.add(d.field));return l.size+(u?1:0)}(s)&&(n=1):n=0})).next(()=>function(a){return a.limit!==null}(r)&&i.length>1&&n===2?1:n)}Vn(e,r){const n=new vc;for(const i of No(e)){const s=r.data.field(i.fieldPath);if(s==null)return null;const a=n.Yt(i.kind);Ro.vt.It(s,a)}return n.zt()}dn(e){const r=new vc;return Ro.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const n=new vc;return Ro.vt.It(MC(this.databaseId,r),n.Yt(function(s){const a=No(s);return a.length===0?0:a[a.length-1].kind}(e))),n.zt()}Tn(e,r,n){if(n===null)return[];let i=[];i.push(new vc);let s=0;for(const a of No(e)){const o=n[s++];for(const A of i)if(this.fn(r,a.fieldPath)&&Jd(o))i=this.gn(i,a,o);else{const l=A.Yt(a.kind);Ro.vt.It(o,l)}}return this.pn(i)}In(e,r,n){return this.Tn(e,r,n.position)}pn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].zt();return r}gn(e,r,n){const i=[...e],s=[];for(const a of n.arrayValue.values||[])for(const o of i){const A=new vc;A.seed(o.zt()),Ro.vt.It(a,A.Yt(r.kind)),s.push(A)}return s}fn(e,r){return!!e.filters.find(n=>n instanceof Re&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,r){const n=yc(e),i=tl(e);return(r?n.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.U()).next(s=>{const a=[];return K.forEach(s,o=>i.get([o.indexId,this.uid]).next(A=>{a.push(function(u,d){const f=d?new Wd(d.sequenceNumber,new _n(wA(d.readTime),new Ae(Pi(d.documentKey)),d.largestBatchId)):Wd.empty(),g=u.fields.map(([m,p])=>new $g(vt.fromServerFormat(m),p));return new Rm(u.indexId,u.collectionGroup,g,f)}(o,A))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((n,i)=>{const s=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Ue(n.collectionGroup,i.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const i=yc(e),s=tl(e);return this.yn(e).next(a=>i.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(o=>K.forEach(o,A=>s.put(UT(A.indexId,this.uid,a,n)))))}updateIndexEntries(e,r){const n=new Map;return K.forEach(r,(i,s)=>{const a=n.get(i.collectionGroup);return(a?K.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(o=>(n.set(i.collectionGroup,o),K.forEach(o,A=>this.wn(e,i,A).next(l=>{const u=this.Sn(s,A);return l.isEqual(u)?K.resolve():this.bn(e,s,A,l,u)}))))})}Dn(e,r,n,i){return el(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(n,r.key),documentKey:r.key.path.toArray()})}vn(e,r,n,i){return el(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(n,r.key),r.key.path.toArray()])}wn(e,r,n){const i=el(e);let s=new tt(ea);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,r)])},(a,o)=>{s=s.add(new Mo(n.indexId,r,o.arrayValue,o.directionalValue))}).next(()=>s)}Sn(e,r){let n=new tt(ea);const i=this.Vn(r,e);if(i==null)return n;const s=Kx(r);if(s!=null){const a=e.data.field(s.fieldPath);if(Jd(a))for(const o of a.arrayValue.values||[])n=n.add(new Mo(r.indexId,e.key,this.dn(o),i))}else n=n.add(new Mo(r.indexId,e.key,Rh,i));return n}bn(e,r,n,i,s){te("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const a=[];return function(A,l,u,d,f){const g=A.getIterator(),m=l.getIterator();let p=ZA(g),v=ZA(m);for(;p||v;){let y=!1,w=!1;if(p&&v){const B=u(p,v);B<0?w=!0:B>0&&(y=!0)}else p!=null?w=!0:y=!0;y?(d(v),v=ZA(m)):w?(f(p),p=ZA(g)):(p=ZA(g),v=ZA(m))}}(i,s,ea,o=>{a.push(this.Dn(e,r,n,o))},o=>{a.push(this.vn(e,r,n,o))}),K.waitFor(a)}yn(e){let r=1;return tl(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,i,s)=>{s.done(),r=i.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((a,o)=>ea(a,o)).filter((a,o,A)=>!o||ea(a,A[o-1])!==0);const i=[];i.push(e);for(const a of n){const o=ea(a,e),A=ea(a,r);if(o===0)i[0]=e.Zt();else if(o>0&&A<0)i.push(a),i.push(a.Zt());else if(A>0)break}i.push(r);const s=[];for(let a=0;a<i.length;a+=2){if(this.Cn(i[a],i[a+1]))return[];const o=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,Rh,[]],A=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,Rh,[]];s.push(IDBKeyRange.bound(o,A))}return s}Cn(e,r){return ea(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(RT)}getMinOffset(e,r){return K.mapArray(this.hn(r),n=>this.Pn(e,n).next(i=>i||ve())).next(RT)}}function jT(t){return Zt(t,"collectionParents")}function el(t){return Zt(t,"indexEntries")}function yc(t){return Zt(t,"indexConfiguration")}function tl(t){return Zt(t,"indexState")}function RT(t){xe(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const i=t[n].indexState.offset;kC(i,e)<0&&(e=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new _n(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qr{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new qr(e,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t,e,r){const n=t.store("mutations"),i=t.store("documentMutations"),s=[],a=IDBKeyRange.only(r.batchId);let o=0;const A=n.J({range:a},(u,d,f)=>(o++,f.delete()));s.push(A.next(()=>{xe(o===1)}));const l=[];for(const u of r.mutations){const d=yO(e,u.key.path,r.batchId);s.push(i.delete(d)),l.push(u.key)}return K.waitFor(s).next(()=>l)}function Wm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ve();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr.DEFAULT_COLLECTION_PERCENTILE=10,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qr.DEFAULT=new qr(41943040,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qr.DISABLED=new qr(-1,0,0);class S0{constructor(e,r,n,i){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=i,this.Fn={}}static lt(e,r,n,i){xe(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new S0(s,r,n,i)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ta(e).J({index:"userMutationsIndex",range:n},(i,s,a)=>{r=!1,a.done()}).next(()=>r)}addMutationBatch(e,r,n,i){const s=ml(e),a=ta(e);return a.add({}).next(o=>{xe(typeof o=="number");const A=new KC(o,r,n,i),l=function(g,m,p){const v=p.baseMutations.map(w=>$m(g.ct,w)),y=p.mutations.map(w=>$m(g.ct,w));return{userId:m,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:v,mutations:y}}(this.serializer,this.userId,A),u=[];let d=new tt((f,g)=>Ue(f.canonicalString(),g.canonicalString()));for(const f of i){const g=yO(this.userId,f.key.path,o);d=d.add(f.key.path.popLast()),u.push(a.put(l)),u.push(s.put(g,m9))}return d.forEach(f=>{u.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[o]=A.keys()}),K.waitFor(u).next(()=>A)})}lookupMutationBatch(e,r){return ta(e).get(r).next(n=>n?(xe(n.userId===this.userId),jo(this.serializer,n)):null)}Mn(e,r){return this.Fn[r]?K.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const i=n.keys();return this.Fn[r]=i,i}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return ta(e).J({index:"userMutationsIndex",range:i},(a,o,A)=>{o.userId===this.userId&&(xe(o.batchId>=n),s=jo(this.serializer,o)),A.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return ta(e).J({index:"userMutationsIndex",range:r,reverse:!0},(i,s,a)=>{n=s.batchId,a.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ta(e).U("userMutationsIndex",r).next(n=>n.map(i=>jo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=Gg(this.userId,r.path),i=IDBKeyRange.lowerBound(n),s=[];return ml(e).J({range:i},(a,o,A)=>{const[l,u,d]=a,f=Pi(u);if(l===this.userId&&r.path.isEqual(f))return ta(e).get(d).next(g=>{if(!g)throw ve();xe(g.userId===this.userId),s.push(jo(this.serializer,g))});A.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new tt(Ue);const i=[];return r.forEach(s=>{const a=Gg(this.userId,s.path),o=IDBKeyRange.lowerBound(a),A=ml(e).J({range:o},(l,u,d)=>{const[f,g,m]=l,p=Pi(g);f===this.userId&&s.path.isEqual(p)?n=n.add(m):d.done()});i.push(A)}),K.waitFor(i).next(()=>this.xn(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1,s=Gg(this.userId,n),a=IDBKeyRange.lowerBound(s);let o=new tt(Ue);return ml(e).J({range:a},(A,l,u)=>{const[d,f,g]=A,m=Pi(f);d===this.userId&&n.isPrefixOf(m)?m.length===i&&(o=o.add(g)):u.done()}).next(()=>this.xn(e,o))}xn(e,r){const n=[],i=[];return r.forEach(s=>{i.push(ta(e).get(s).next(a=>{if(a===null)throw ve();xe(a.userId===this.userId),n.push(jo(this.serializer,a))}))}),K.waitFor(i).next(()=>n)}removeMutationBatch(e,r){return h4(e._e,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),K.forEach(n,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return K.resolve();const n=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return ml(e).J({range:n},(s,a,o)=>{if(s[0]===this.userId){const A=Pi(s[1]);i.push(A)}else o.done()}).next(()=>{xe(i.length===0)})})}containsKey(e,r){return g4(e,this.userId,r)}Nn(e){return m4(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function g4(t,e,r){const n=Gg(e,r.path),i=n[1],s=IDBKeyRange.lowerBound(n);let a=!1;return ml(t).J({range:s,H:!0},(o,A,l)=>{const[u,d,f]=o;u===e&&d===i&&(a=!0),l.done()}).next(()=>a)}function ta(t){return Zt(t,"mutations")}function ml(t){return Zt(t,"documentMutations")}function m4(t){return Zt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new xA(0)}static kn(){return new xA(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const n=new xA(r.highestTargetId);return r.highestTargetId=n.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>Ce.fromTimestamp(new xt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.qn(e).next(i=>(i.highestListenSequenceNumber=r,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),r>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r),this.Qn(e,i)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(n=>(n.targetCount+=1,this.$n(r,n),this.Qn(e,n))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>rl(e).delete(r.targetId)).next(()=>this.qn(e)).next(n=>(xe(n.targetCount>0),n.targetCount-=1,this.Qn(e,n)))}removeTargets(e,r,n){let i=0;const s=[];return rl(e).J((a,o)=>{const A=Kc(o);A.sequenceNumber<=r&&n.get(A.targetId)===null&&(i++,s.push(this.removeTargetData(e,A)))}).next(()=>K.waitFor(s)).next(()=>i)}forEachTarget(e,r){return rl(e).J((n,i)=>{const s=Kc(i);r(s)})}qn(e){return LT(e).get("targetGlobalKey").next(r=>(xe(r!==null),r))}Qn(e,r){return LT(e).put("targetGlobalKey",r)}Kn(e,r){return rl(e).put(u4(this.serializer,r))}$n(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const n=vA(r),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return rl(e).J({range:i,index:"queryTargetsIndex"},(a,o,A)=>{const l=Kc(o);_f(r,l.target)&&(s=l,A.done())}).next(()=>s)}addMatchingKeys(e,r,n){const i=[],s=fa(e);return r.forEach(a=>{const o=Kr(a.path);i.push(s.put({targetId:n,path:o})),i.push(this.referenceDelegate.addReference(e,n,a))}),K.waitFor(i)}removeMatchingKeys(e,r,n){const i=fa(e);return K.forEach(r,s=>{const a=Kr(s.path);return K.waitFor([i.delete([n,a]),this.referenceDelegate.removeReference(e,n,s)])})}removeMatchingKeysForTargetId(e,r){const n=fa(e),i=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),i=fa(e);let s=Ne();return i.J({range:n,H:!0},(a,o,A)=>{const l=Pi(a[1]),u=new Ae(l);s=s.add(u)}).next(()=>s)}containsKey(e,r){const n=Kr(r.path),i=IDBKeyRange.bound([n],[hO(n)],!1,!0);let s=0;return fa(e).J({index:"documentTargetsIndex",H:!0,range:i},([a,o],A,l)=>{a!==0&&(s++,l.done())}).next(()=>s>0)}ot(e,r){return rl(e).get(r).next(n=>n?Kc(n):null)}}function rl(t){return Zt(t,"targets")}function LT(t){return Zt(t,"targetGlobal")}function fa(t){return Zt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT([t,e],[r,n]){const i=Ue(t,r);return i===0?Ue(e,n):i}class jG{constructor(e){this.Un=e,this.buffer=new tt(HT),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();HT(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class RG{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){uo(r)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await UA(r)}await this.Hn(3e5)})}}class MG{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return K.resolve($n.oe);const n=new jG(r);return this.Jn.forEachTarget(e,i=>n.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>n.zn(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(MT)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MT):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let n,i,s,a,o,A,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,a=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(n=d,o=Date.now(),this.removeTargets(e,n,r))).next(d=>(s=d,A=Date.now(),this.removeOrphanedDocuments(e,n))).next(d=>(l=Date.now(),dl()<=De.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(A-o)+`ms
	Removed ${d} documents in `+(l-A)+`ms
Total Duration: ${l-u}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function LG(t,e){return new MG(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(e,r){this.db=e,this.garbageCollector=LG(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}er(e){let r=0;return this.Zn(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(n,i)=>r(i))}addReference(e,r,n){return Mh(e,n)}removeReference(e,r,n){return Mh(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return Mh(e,r)}nr(e,r){return function(i,s){let a=!1;return m4(i).Y(o=>g4(i,o,s).next(A=>(A&&(a=!0),K.resolve(!A)))).next(()=>a)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(a,o)=>{if(o<=r){const A=this.nr(e,a).next(l=>{if(!l)return s++,n.getEntry(e,a).next(()=>(n.removeEntry(a,Ce.min()),fa(e).delete(function(d){return[0,Kr(d.path)]}(a))))});i.push(A)}}).next(()=>K.waitFor(i)).next(()=>n.apply(e)).next(()=>s)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return Mh(e,r)}tr(e,r){const n=fa(e);let i,s=$n.oe;return n.J({index:"documentTargetsIndex"},([a,o],{path:A,sequenceNumber:l})=>{a===0?(s!==$n.oe&&r(new Ae(Pi(i)),s),s=l,i=A):s=$n.oe}).next(()=>{s!==$n.oe&&r(new Ae(Pi(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mh(t,e){return fa(t).put(function(n,i){return{targetId:0,path:Kr(n.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.changes=new co(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?K.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return So(e).put(n)}removeEntry(e,r,n){return So(e).delete(function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Gm(a),o[o.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.rr(e,n)))}getEntry(e,r){let n=Ot.newInvalidDocument(r);return So(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(wc(r))},(i,s)=>{n=this.ir(r,s)}).next(()=>n)}sr(e,r){let n={size:0,document:Ot.newInvalidDocument(r)};return So(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(wc(r))},(i,s)=>{n={document:this.ir(r,s),size:Wm(s)}}).next(()=>n)}getEntries(e,r){let n=xn();return this._r(e,r,(i,s)=>{const a=this.ir(i,s);n=n.insert(i,a)}).next(()=>n)}ar(e,r){let n=xn(),i=new bt(Ae.comparator);return this._r(e,r,(s,a)=>{const o=this.ir(s,a);n=n.insert(s,o),i=i.insert(s,Wm(a))}).next(()=>({documents:n,ur:i}))}_r(e,r,n){if(r.isEmpty())return K.resolve();let i=new tt($T);r.forEach(A=>i=i.add(A));const s=IDBKeyRange.bound(wc(i.first()),wc(i.last())),a=i.getIterator();let o=a.getNext();return So(e).J({index:"documentKeyIndex",range:s},(A,l,u)=>{const d=Ae.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;o&&$T(o,d)<0;)n(o,null),o=a.getNext();o&&o.isEqual(d)&&(n(o,l),o=a.hasNext()?a.getNext():null),o?u.$(wc(o)):u.done()}).next(()=>{for(;o;)n(o,null),o=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,r,n,i,s){const a=r.path,o=[a.popLast().toArray(),a.lastSegment(),Gm(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],A=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return So(e).U(IDBKeyRange.bound(o,A,!0)).next(l=>{s==null||s.incrementDocumentReadCount(l.length);let u=xn();for(const d of l){const f=this.ir(Ae.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);f.isFoundDocument()&&(Sf(r,f)||i.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(e,r,n,i){let s=xn();const a=KT(r,n),o=KT(r,_n.max());return So(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,o,!0)},(A,l,u)=>{const d=this.ir(Ae.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new KG(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return VT(e).get("remoteDocumentGlobalKey").next(r=>(xe(!!r),r))}rr(e,r){return VT(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const n=IG(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(Ce.min())))return n}return Ot.newInvalidDocument(e)}}function v4(t){return new VG(t)}class KG extends p4{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new co(n=>n.toString(),(n,i)=>n.isEqual(i))}applyChanges(e){const r=[];let n=0,i=new tt((s,a)=>Ue(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const o=this.lr.get(s);if(r.push(this.cr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const A=TT(this.cr.serializer,a);i=i.add(s.path.popLast());const l=Wm(A);n+=l-o.size,r.push(this.cr.addEntry(e,s,A))}else if(n-=o.size,this.trackRemovals){const A=TT(this.cr.serializer,a.convertToNoDocument(Ce.min()));r.push(this.cr.addEntry(e,s,A))}}),i.forEach(s=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),r.push(this.cr.updateMetadata(e,n)),K.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(n=>(this.lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:n,ur:i})=>(i.forEach((s,a)=>{this.lr.set(s,{size:a,readTime:n.get(s).readTime})}),n))}}function VT(t){return Zt(t,"remoteDocumentGlobal")}function So(t){return Zt(t,"remoteDocumentsV14")}function wc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function KT(t,e){const r=e.documentKey.path.toArray();return[t,Gm(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function $T(t,e){const r=t.path.toArray(),n=e.path.toArray();let i=0;for(let s=0;s<r.length-2&&s<n.length-2;++s)if(i=Ue(r[s],n[s]),i)return i;return i=Ue(r.length,n.length),i||(i=Ue(r[r.length-2],n[n.length-2]),i||Ue(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&fd(n.mutation,i,Gn.empty(),xt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ne()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ne()){const i=Ni();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=Hc();return s.forEach((o,A)=>{a=a.insert(o,A.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=Ni();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ne()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=xn();const a=dd(),o=function(){return dd()}();return r.forEach((A,l)=>{const u=n.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof fo)?s=s.insert(l.key,l):u!==void 0?(a.set(l.key,u.mutation.getFieldMask()),fd(u.mutation,l,u.mutation.getFieldMask(),xt.now())):a.set(l.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(A=>(A.forEach((l,u)=>a.set(l,u)),r.forEach((l,u)=>{var d;return o.set(l,new $G(u,(d=a.get(l))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(e,r){const n=dd();let i=new bt((a,o)=>a-o),s=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(A=>{const l=r.get(A);if(l===null)return;let u=n.get(A)||Gn.empty();u=o.applyToLocalView(l,u),n.set(A,u);const d=(i.get(o.batchId)||Ne()).add(A);i=i.insert(o.batchId,d)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const A=o.getNext(),l=A.key,u=A.value,d=RO();u.forEach(f=>{if(!s.has(f)){const g=GO(r.get(f),n.get(f));g!==null&&d.set(f,g),s=s.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,l,d))}return K.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return Ae.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):z9(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):K.resolve(Ni());let o=-1,A=s;return a.next(l=>K.forEach(l,(u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),s.get(u)?K.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{A=A.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,A,l,Ne())).next(u=>({batchId:o,changes:jO(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ae(r)).next(n=>{let i=Hc();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=Hc();return this.indexManager.getCollectionParents(e,s).next(o=>K.forEach(o,A=>{const l=function(d,f){return new b0(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,A.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,n,i).next(u=>{u.forEach((d,f)=>{a=a.insert(d,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((A,l)=>{const u=l.getKey();a.get(u)===null&&(a=a.insert(u,Ot.newInvalidDocument(u)))});let o=Hc();return a.forEach((A,l)=>{const u=s.get(A);u!==void 0&&fd(u.mutation,l,Gn.empty(),xt.now()),Sf(r,l)&&(o=o.insert(A,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return K.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:$r(i.createTime)}}(r)),K.resolve()}getNamedQuery(e,r){return K.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:c4(i.bundledQuery),readTime:$r(i.readTime)}}(r)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(){this.overlays=new bt(Ae.comparator),this.Ir=new Map}getOverlay(e,r){return K.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ni();return K.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),K.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),K.resolve()}getOverlaysForCollection(e,r,n){const i=Ni(),s=r.length+1,a=new Ae(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const A=o.getNext().value,l=A.getKey();if(!r.isPrefixOf(l.path))break;l.path.length===s&&A.largestBatchId>n&&i.set(A.getKey(),A)}return K.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new bt((l,u)=>l-u);const a=this.overlays.getIterator();for(;a.hasNext();){const l=a.getNext().value;if(l.getKey().getCollectionGroup()===r&&l.largestBatchId>n){let u=s.get(l.largestBatchId);u===null&&(u=Ni(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const o=Ni(),A=s.getIterator();for(;A.hasNext()&&(A.getNext().value.forEach((l,u)=>o.set(l,u)),!(o.size()>=i)););return K.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new GC(r,n));let s=this.Ir.get(r);s===void 0&&(s=Ne(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.Tr=new tt(ar.Er),this.dr=new tt(ar.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new ar(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new ar(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Ae(new qe([])),n=new ar(r,e),i=new ar(r,e+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Ae(new qe([])),n=new ar(r,e),i=new ar(r,e+1);let s=Ne();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new ar(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class ar{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Ae.comparator(e.key,r.key)||Ue(e.wr,r.wr)}static Ar(e,r){return Ue(e.wr,r.wr)||Ae.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new tt(ar.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new KC(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new ar(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,r){return K.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new ar(r,0),i=new ar(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const o=this.Dr(a.wr);s.push(o)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new tt(Ue);return r.forEach(i=>{const s=new ar(i,0),a=new ar(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{n=n.add(o.wr)})}),K.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Ae.isDocumentKey(s)||(s=s.child(""));const a=new ar(new Ae(s),0);let o=new tt(Ue);return this.br.forEachWhile(A=>{const l=A.key.path;return!!n.isPrefixOf(l)&&(l.length===i&&(o=o.add(A.wr)),!0)},a),K.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){xe(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return K.forEach(r.mutations,i=>{const s=new ar(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new ar(r,0),i=this.br.firstAfterOrEqual(n);return K.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(e){this.Mr=e,this.docs=function(){return new bt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return K.resolve(n?n.document.mutableCopy():Ot.newInvalidDocument(r))}getEntries(e,r){let n=xn();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Ot.newInvalidDocument(i))}),K.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=xn();const a=r.path,o=new Ae(a.child("")),A=this.docs.getIteratorFrom(o);for(;A.hasNext();){const{key:l,value:{document:u}}=A.getNext();if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||kC(gO(u),n)<=0||(i.has(u.key)||Sf(r,u))&&(s=s.insert(u.key,u.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,r,n,i){ve()}Or(e,r){return K.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new qG(this)}getSize(e){return K.resolve(this.size)}}class qG extends p4{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),K.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(e){this.persistence=e,this.Nr=new co(r=>vA(r),_f),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new qC,this.targetCount=0,this.kr=xA.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),K.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new xA(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,K.resolve()}updateTargetData(e,r){return this.Kn(r),K.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return K.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),K.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),K.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return K.resolve(n)}containsKey(e,r){return K.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,r){this.qr={},this.overlays={},this.Qr=new $n(0),this.Kr=!1,this.Kr=!0,this.$r=new WG,this.referenceDelegate=e(this),this.Ur=new JG(this),this.indexManager=new kG,this.remoteDocumentCache=function(i){return new XG(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new l4(r),this.Gr=new GG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new zG,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new YG(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){te("MemoryPersistence","Starting transaction:",e);const i=new ZG(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return K.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class ZG extends pO{constructor(e){super(),this.currentSequenceNumber=e}}class T0{constructor(e){this.persistence=e,this.Jr=new qC,this.Yr=null}static Zr(e){return new T0(e)}get Xr(){if(this.Yr)return this.Yr;throw ve()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),K.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),K.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),K.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,n=>{const i=Ae.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,Ce.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return K.or([()=>K.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e){this.serializer=e}O(e,r,n,i){const s=new y0("createOrUpgrade",r);n<1&&i>=1&&(function(A){A.createObjectStore("owner")}(e),function(A){A.createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sT,{unique:!0}),A.createObjectStore("documentMutations")}(e),GT(e),function(A){A.createObjectStore("remoteDocuments")}(e));let a=K.resolve();return n<3&&i>=3&&(n!==0&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),GT(e)),a=a.next(()=>function(A){const l=A.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ce.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),n<4&&i>=4&&(n!==0&&(a=a.next(()=>function(A,l){return l.store("mutations").U().next(u=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sT,{unique:!0});const d=l.store("mutations"),f=u.map(g=>d.put(g));return K.waitFor(f)})}(e,s))),a=a.next(()=>{(function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),n<5&&i>=5&&(a=a.next(()=>this.ni(s))),n<6&&i>=6&&(a=a.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),n<7&&i>=7&&(a=a.next(()=>this.ii(s))),n<8&&i>=8&&(a=a.next(()=>this.si(e,s))),n<9&&i>=9&&(a=a.next(()=>{(function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&i>=10&&(a=a.next(()=>this.oi(s))),n<11&&i>=11&&(a=a.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&i>=12&&(a=a.next(()=>{(function(A){const l=A.createObjectStore("documentOverlays",{keyPath:S9});l.createIndex("collectionPathOverlayIndex",T9,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",F9,{unique:!1})})(e)})),n<13&&i>=13&&(a=a.next(()=>function(A){const l=A.createObjectStore("remoteDocumentsV14",{keyPath:p9});l.createIndex("documentKeyIndex",v9),l.createIndex("collectionGroupIndex",y9)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&i>=14&&(a=a.next(()=>this.ai(e,s))),n<15&&i>=15&&(a=a.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:C9}).createIndex("sequenceNumberIndex",E9,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:_9}).createIndex("documentKeyIndex",I9,{unique:!1})}(e))),n<16&&i>=16&&(a=a.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),n<17&&i>=17&&(a=a.next(()=>{(function(A){A.createObjectStore("globals",{keyPath:"name"})})(e)})),a}ri(e){let r=0;return e.store("remoteDocuments").J((n,i)=>{r+=Wm(i)}).next(()=>{const n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}ni(e){const r=e.store("mutationQueues"),n=e.store("mutations");return r.U().next(i=>K.forEach(i,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",a).next(o=>K.forEach(o,A=>{xe(A.userId===s.userId);const l=jo(this.serializer,A);return h4(e,s.userId,l).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return n.J((a,o)=>{const A=new qe(a),l=function(d){return[0,Kr(d)]}(A);s.push(r.get(l).next(u=>u?K.resolve():(d=>r.put({targetId:0,path:Kr(d),sequenceNumber:i.highestListenSequenceNumber}))(A)))}).next(()=>K.waitFor(s))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:B9});const n=r.store("collectionParents"),i=new XC,s=a=>{if(i.add(a)){const o=a.lastSegment(),A=a.popLast();return n.put({collectionId:o,parent:Kr(A)})}};return r.store("remoteDocuments").J({H:!0},(a,o)=>{const A=new qe(a);return s(A.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([a,o,A],l)=>{const u=Pi(o);return s(u.popLast())}))}oi(e){const r=e.store("targets");return r.J((n,i)=>{const s=Kc(i),a=u4(this.serializer,s);return r.put(a)})}_i(e,r){const n=r.store("remoteDocuments"),i=[];return n.J((s,a)=>{const o=r.store("remoteDocumentsV14"),A=function(d){return d.document?new Ae(qe.fromString(d.document.name).popFirst(5)):d.noDocument?Ae.fromSegments(d.noDocument.path):d.unknownDocument?Ae.fromSegments(d.unknownDocument.path):ve()}(a).path.toArray(),l={prefixPath:A.slice(0,A.length-2),collectionGroup:A[A.length-2],documentId:A[A.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(l))}).next(()=>K.waitFor(i))}ai(e,r){const n=r.store("mutations"),i=v4(this.serializer),s=new w4(T0.Zr,this.serializer.ct);return n.U().next(a=>{const o=new Map;return a.forEach(A=>{var l;let u=(l=o.get(A.userId))!==null&&l!==void 0?l:Ne();jo(this.serializer,A).keys().forEach(d=>u=u.add(d)),o.set(A.userId,u)}),K.forEach(o,(A,l)=>{const u=new vr(l),d=I0.lt(this.serializer,u),f=s.getIndexManager(u),g=S0.lt(u,this.serializer,f,s.referenceDelegate);return new y4(i,g,d,f).recalculateAndSaveOverlaysForDocumentKeys(new $x(r,$n.oe),A).next()})})}}function GT(t){t.createObjectStore("targetDocuments",{keyPath:x9}).createIndex("documentTargetsIndex",b9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",w9,{unique:!0}),t.createObjectStore("targetGlobal")}const Hy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class JC{constructor(e,r,n,i,s,a,o,A,l,u,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ui=s,this.window=a,this.document=o,this.ci=l,this.li=u,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!JC.D())throw new fe(q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new HG(this,i),this.Ai=r+"main",this.serializer=new l4(A),this.Ri=new ja(this.Ai,this.hi,new ez(this.serializer)),this.$r=new TG,this.Ur=new DG(this.referenceDelegate,this.serializer),this.remoteDocumentCache=v4(this.serializer),this.Gr=new SG,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,u===!1&&Lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(q.FAILED_PRECONDITION,Hy);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new $n(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Lh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(uo(e))return te("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return xc(e).get("owner").next(r=>K.resolve(this.vi(r)))}Ci(e){return Lh(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const n=Zt(r,"clientMetadata");return n.U().next(i=>{const s=this.xi(i,18e5),a=i.filter(o=>s.indexOf(o)===-1);return K.forEach(a,o=>n.delete(o.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Vi)for(const r of e)this.Vi.removeItem(this.Oi(r.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?K.resolve(!0):xc(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new fe(q.FAILED_PRECONDITION,Hy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lh(e).U().next(n=>this.xi(n,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&te("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new $x(e,$n.oe);return this.bi(r).next(()=>this.Ci(r))}),this.Ri.close(),this.qi()}xi(e,r){return e.filter(n=>this.Mi(n.updateTimeMs,r)&&!this.Ni(n.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Lh(e).U().next(r=>this.xi(r,18e5).map(n=>n.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return S0.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new OG(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return I0.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,n){te("IndexedDbPersistence","Starting transaction:",e);const i=r==="readonly"?"readonly":"readwrite",s=function(A){return A===17?N9:A===16?P9:A===15?DC:A===14?bO:A===13?xO:A===12?U9:A===11?wO:void ve()}(this.hi);let a;return this.Ri.runTransaction(e,i,s,o=>(a=new $x(o,this.Qr?this.Qr.next():$n.oe),r==="readwrite-primary"?this.wi(a).next(A=>!!A||this.Si(a)).next(A=>{if(!A)throw Lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new fe(q.FAILED_PRECONDITION,mO);return n(a)}).next(A=>this.Di(a).next(()=>A)):this.Ki(a).next(()=>n(a)))).then(o=>(a.raiseOnCommittedEvent(),o))}Ki(e){return xc(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new fe(q.FAILED_PRECONDITION,Hy)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xc(e).put("owner",r)}static D(){return ja.D()}bi(e){const r=xc(e);return r.get("owner").next(n=>this.vi(n)?(te("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):K.resolve())}Mi(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(Lr(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;Jk()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const n=((r=this.Vi)===null||r===void 0?void 0:r.getItem(this.Oi(e)))!==null;return te("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Lr("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Lr("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xc(t){return Zt(t,"owner")}function Lh(t){return Zt(t,"clientMetadata")}function tz(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Ne(),i=Ne();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ZC(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Jk()?8:vO(Jt())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new rz;return this.Xi(e,r,a).next(o=>{if(s.result=o,this.zi)return this.es(e,r,a,o.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(dl()<=De.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",fl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(dl()<=De.DEBUG&&te("QueryEngine","Query:",fl(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(dl()<=De.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",fl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(r))):K.resolve())}Yi(e,r){if(vT(r))return K.resolve(null);let n=Jn(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Vm(r,null,"F"),n=Jn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=Ne(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(A=>{const l=this.ts(r,o);return this.ns(r,l,a,A.readTime)?this.Yi(e,Vm(r,null,"F")):this.rs(e,l,r,A)}))})))}Zi(e,r,n,i){return vT(r)||i.isEqual(Ce.min())?K.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const a=this.ts(r,s);return this.ns(r,a,n,i)?K.resolve(null):(dl()<=De.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fl(r)),this.rs(e,a,r,l9(i,-1)).next(o=>o))})}ts(e,r){let n=new tt(OO(e));return r.forEach((i,s)=>{Sf(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return dl()<=De.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",fl(r)),this.Ji.getDocumentsMatchingQuery(e,r,_n.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new bt(Ue),this._s=new co(s=>vA(s),_f),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function b4(t,e,r,n){return new nz(t,e,r,n)}async function B4(t,e){const r=Fe(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let A=Ne();for(const l of i){a.push(l.batchId);for(const u of l.mutations)A=A.add(u.key)}for(const l of s){o.push(l.batchId);for(const u of l.mutations)A=A.add(u.key)}return r.localDocuments.getDocuments(n,A).next(l=>({hs:l,removedBatchIds:a,addedBatchIds:o}))})})}function iz(t,e){const r=Fe(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,A,l,u){const d=l.batch,f=d.keys();let g=K.resolve();return f.forEach(m=>{g=g.next(()=>u.getEntry(A,m)).next(p=>{const v=l.docVersions.get(m);xe(v!==null),p.version.compareTo(v)<0&&(d.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(A,d))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let A=Ne();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(A=A.add(o.batch.mutations[l].key));return A}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function C4(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function sz(t,e){const r=Fe(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;o.push(r.Ur.removeMatchingKeys(s,u.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(s,u.addedDocuments,d)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Mt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,n)),i=i.insert(d,g),function(p,v,y){return p.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,g,u)&&o.push(r.Ur.updateTargetData(s,g))});let A=xn(),l=Ne();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(az(s,a,e.documentUpdates).next(u=>{A=u.Ps,l=u.Is})),!n.isEqual(Ce.min())){const u=r.Ur.getLastRemoteSnapshotVersion(s).next(d=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(u)}return K.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,A,l)).next(()=>A)}).then(s=>(r.os=i,s))}function az(t,e,r){let n=Ne(),i=Ne();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=xn();return r.forEach((o,A)=>{const l=s.get(o);A.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(o)),A.isNoDocument()&&A.version.isEqual(Ce.min())?(e.removeEntry(o,A.readTime),a=a.insert(o,A)):!l.isValidDocument()||A.version.compareTo(l.version)>0||A.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(A),a=a.insert(o,A)):te("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",A.version)}),{Ps:a,Is:i}})}function oz(t,e){const r=Fe(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Az(t,e){const r=Fe(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,K.resolve(i)):r.Ur.allocateTargetId(n).next(a=>(i=new hs(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function ib(t,e,r){const n=Fe(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!uo(a))throw a;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function zT(t,e,r){const n=Fe(t);let i=Ce.min(),s=Ne();return n.persistence.runTransaction("Execute query","readwrite",a=>function(A,l,u){const d=Fe(A),f=d._s.get(u);return f!==void 0?K.resolve(d.os.get(f)):d.Ur.getTargetData(l,u)}(n,a,Jn(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(A=>{s=A})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:Ce.min(),r?s:Ne())).next(o=>(lz(n,Y9(e),o),{documents:o,Ts:s})))}function lz(t,e,r){let n=t.us.get(e)||Ce.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class WT{constructor(){this.activeTargetIds=tG()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E4{constructor(){this.so=new WT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new WT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh=null;function Vy(){return Hh===null?Hh=function(){return 268435456+Math.round(2147483648*Math.random())}():Hh++,"0x"+Hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="WebChannelConnection";class fz extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,a){const o=Vy(),A=this.xo(r,n.toUriEncodedString());te("RestConnection",`Sending RPC '${r}' ${o}:`,A,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,a),this.No(r,A,l,i).then(u=>(te("RestConnection",`Received RPC '${r}' ${o}: `,u),u),u=>{throw Wa("RestConnection",`RPC '${r}' ${o} failed with error: `,u,"url: ",A,"request:",i),u})}Lo(r,n,i,s,a,o){return this.Mo(r,n,i,s,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qu}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>r[a]=s),i&&i.headers.forEach((s,a)=>r[a]=s)}xo(r,n){const i=cz[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=Vy();return new Promise((a,o)=>{const A=new oO;A.setWithCredentials(!0),A.listenOnce(AO.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case Kg.NO_ERROR:const u=A.getResponseJson();te(Sr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),a(u);break;case Kg.TIMEOUT:te(Sr,`RPC '${e}' ${s} timed out`),o(new fe(q.DEADLINE_EXCEEDED,"Request time out"));break;case Kg.HTTP_ERROR:const d=A.getStatus();if(te(Sr,`RPC '${e}' ${s} failed with status:`,d,"response text:",A.getResponseText()),d>0){let f=A.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const m=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(y)>=0?y:q.UNKNOWN}(g.status);o(new fe(m,g.message))}else o(new fe(q.UNKNOWN,"Server responded with status "+A.getStatus()))}else o(new fe(q.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{te(Sr,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);te(Sr,`RPC '${e}' ${s} sending request:`,i),A.send(r,"POST",l,n,15)})}Bo(e,r,n){const i=Vy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=cO(),o=uO(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(A.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(A.useFetchStreams=!0),this.Oo(A.initMessageHeaders,r,n),A.encodeInitMessageHeaders=!0;const u=s.join("");te(Sr,`Creating RPC '${e}' stream ${i}: ${u}`,A);const d=a.createWebChannel(u,A);let f=!1,g=!1;const m=new dz({Io:v=>{g?te(Sr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(te(Sr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),te(Sr,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),p=(v,y,w)=>{v.listen(y,B=>{try{w(B)}catch(I){setTimeout(()=>{throw I},0)}})};return p(d,Lc.EventType.OPEN,()=>{g||(te(Sr,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),p(d,Lc.EventType.CLOSE,()=>{g||(g=!0,te(Sr,`RPC '${e}' stream ${i} transport closed`),m.So())}),p(d,Lc.EventType.ERROR,v=>{g||(g=!0,Wa(Sr,`RPC '${e}' stream ${i} transport errored:`,v),m.So(new fe(q.UNAVAILABLE,"The operation could not be completed")))}),p(d,Lc.EventType.MESSAGE,v=>{var y;if(!g){const w=v.data[0];xe(!!w);const B=w,I=B.error||((y=B[0])===null||y===void 0?void 0:y.error);if(I){te(Sr,`RPC '${e}' stream ${i} received error:`,I);const T=I.status;let F=function(S){const P=Ht[S];if(P!==void 0)return YO(P)}(T),C=I.message;F===void 0&&(F=q.INTERNAL,C="Unknown error status: "+T+" with message "+I.message),g=!0,m.So(new fe(F,C)),d.close()}else te(Sr,`RPC '${e}' stream ${i} received:`,w),m.bo(w)}}),p(o,lO.STAT_EVENT,v=>{v.stat===Vx.PROXY?te(Sr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Vx.NOPROXY&&te(Sr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(){return typeof window<"u"?window:null}function qg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t){return new pG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,r,n,i,s,a,o,A){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=A,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new _4(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===q.RESOURCE_EXHAUSTED?(Lr(r.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new fe(q.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gz extends I4{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=wG(this.serializer,e),n=function(s){if(!("targetChange"in s))return Ce.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ce.min():a.readTime?$r(a.readTime):Ce.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Zx(this.serializer),r.addTarget=function(s,a){let o;const A=a.target;if(o=Lm(A)?{documents:n4(s,A)}:{query:i4(s,A)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=JO(s,a.resumeToken);const l=qx(s,a.expectedCount);l!==null&&(o.expectedCount=l)}else if(a.snapshotVersion.compareTo(Ce.min())>0){o.readTime=du(s,a.snapshotVersion.toTimestamp());const l=qx(s,a.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const n=bG(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Zx(this.serializer),r.removeTarget=e,this.a_(r)}}class mz extends I4{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=xG(e.writeResults,e.commitTime),n=$r(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Zx(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>$m(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new fe(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Jx(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(q.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,Jx(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(q.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class vz{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Lr(r),this.D_=!1):te("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{PA(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(A){const l=Fe(A);l.L_.add(4),await Ff(l),l.q_.set("Unknown"),l.L_.delete(4),await U0(l)}(this))})}),this.q_=new vz(n,i)}}async function U0(t){if(PA(t))for(const e of t.B_)await e(!0)}async function Ff(t){for(const e of t.B_)await e(!1)}function S4(t,e){const r=Fe(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),nE(r)?rE(r):Du(r).r_()&&tE(r,e))}function eE(t,e){const r=Fe(t),n=Du(r);r.N_.delete(e),n.r_()&&T4(r,e),r.N_.size===0&&(n.r_()?n.o_():PA(r)&&r.q_.set("Unknown"))}function tE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Du(t).A_(e)}function T4(t,e){t.Q_.xe(e),Du(t).R_(e)}function rE(t){t.Q_=new fG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Du(t).start(),t.q_.v_()}function nE(t){return PA(t)&&!Du(t).n_()&&t.N_.size>0}function PA(t){return Fe(t).L_.size===0}function F4(t){t.Q_=void 0}async function wz(t){t.q_.set("Online")}async function xz(t){t.N_.forEach((e,r)=>{tE(t,e)})}async function bz(t,e){F4(t),nE(t)?(t.q_.M_(e),rE(t)):t.q_.set("Unknown")}async function Bz(t,e,r){if(t.q_.set("Online"),e instanceof qO&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Ym(t,n)}else if(e instanceof Xg?t.Q_.Ke(e):e instanceof XO?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ce.min()))try{const n=await C4(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((A,l)=>{if(A.resumeToken.approximateByteSize()>0){const u=s.N_.get(l);u&&s.N_.set(l,u.withResumeToken(A.resumeToken,a))}}),o.targetMismatches.forEach((A,l)=>{const u=s.N_.get(A);if(!u)return;s.N_.set(A,u.withResumeToken(Mt.EMPTY_BYTE_STRING,u.snapshotVersion)),T4(s,A);const d=new hs(u.target,A,l,u.sequenceNumber);tE(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){te("RemoteStore","Failed to raise snapshot:",n),await Ym(t,n)}}async function Ym(t,e,r){if(!uo(e))throw e;t.L_.add(1),await Ff(t),t.q_.set("Offline"),r||(r=()=>C4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await U0(t)})}function U4(t,e){return e().catch(r=>Ym(t,r,e))}async function Uf(t){const e=Fe(t),r=Ja(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Cz(e);)try{const i=await oz(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,Ez(e,i)}catch(i){await Ym(e,i)}P4(e)&&N4(e)}function Cz(t){return PA(t)&&t.O_.length<10}function Ez(t,e){t.O_.push(e);const r=Ja(t);r.r_()&&r.V_&&r.m_(e.mutations)}function P4(t){return PA(t)&&!Ja(t).n_()&&t.O_.length>0}function N4(t){Ja(t).start()}async function _z(t){Ja(t).p_()}async function Iz(t){const e=Ja(t);for(const r of t.O_)e.m_(r.mutations)}async function Sz(t,e,r){const n=t.O_.shift(),i=$C.from(n,e,r);await U4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Uf(t)}async function Tz(t,e){e&&Ja(t).V_&&await async function(n,i){if(function(a){return uG(a)&&a!==q.ABORTED}(i.code)){const s=n.O_.shift();Ja(n).s_(),await U4(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Uf(n)}}(t,e),P4(t)&&N4(t)}async function XT(t,e){const r=Fe(t);r.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const n=PA(r);r.L_.add(3),await Ff(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await U0(r)}async function Fz(t,e){const r=Fe(t);e?(r.L_.delete(2),await U0(r)):e||(r.L_.add(2),await Ff(r),r.q_.set("Unknown"))}function Du(t){return t.K_||(t.K_=function(r,n,i){const s=Fe(r);return s.w_(),new gz(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:wz.bind(null,t),Ro:xz.bind(null,t),mo:bz.bind(null,t),d_:Bz.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),nE(t)?rE(t):t.q_.set("Unknown")):(await t.K_.stop(),F4(t))})),t.K_}function Ja(t){return t.U_||(t.U_=function(r,n,i){const s=Fe(r);return s.w_(),new mz(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_z.bind(null,t),mo:Tz.bind(null,t),f_:Iz.bind(null,t),g_:Sz.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Uf(t)):(await t.U_.stop(),t.O_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new iE(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sE(t,e){if(Lr("AsyncQueue",`${e}: ${t}`),uo(t))return new fe(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ae.comparator(r.key,n.key):(r,n)=>Ae.comparator(r.key,n.key),this.keyedMap=Hc(),this.sortedSet=new bt(this.comparator)}static emptySet(e){return new Vl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Vl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Vl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.W_=new bt(Ae.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):ve():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class fu{constructor(e,r,n,i,s,a,o,A,l){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=A,this.hasCachedResults=l}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new fu(e,r,Vl.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&B0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Pz{constructor(){this.queries=JT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Fe(r),s=i.queries;i.queries=JT(),s.forEach((a,o)=>{for(const A of o.j_)A.onError(n)})})(this,new fe(q.ABORTED,"Firestore shutting down"))}}function JT(){return new co(t=>kO(t),B0)}async function aE(t,e){const r=Fe(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new Uz,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=sE(a,`Initialization of query '${fl(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&AE(r)}async function oE(t,e){const r=Fe(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Nz(t,e){const r=Fe(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&AE(r)}function Qz(t,e,r){const n=Fe(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function AE(t){t.Y_.forEach(e=>{e.next()})}var sb,ZT;(ZT=sb||(sb={})).ea="default",ZT.Cache="cache";class lE{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new fu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=fu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==sb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.key=e}}class k4{constructor(e){this.key=e}}class kz{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ne(),this.mutatedKeys=Ne(),this.Aa=OO(e),this.Ra=new Vl(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new qT,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const A=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),g=Sf(this.query,d)?d:null,m=!!f&&this.mutatedKeys.has(f.key),p=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let v=!1;f&&g?f.data.isEqual(g.data)?m!==p&&(n.track({type:3,doc:g}),v=!0):this.ga(f,g)||(n.track({type:2,doc:g}),v=!0,(A&&this.Aa(g,A)>0||l&&this.Aa(g,l)<0)&&(o=!0)):!f&&g?(n.track({type:0,doc:g}),v=!0):f&&!g&&(n.track({type:1,doc:f}),v=!0,(A||l)&&(o=!0)),v&&(g?(a=a.add(g),s=p?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),n.track({type:1,doc:u})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((u,d)=>function(g,m){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return p(g)-p(m)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],A=this.da.size===0&&this.current&&!i?1:0,l=A!==this.Ea;return this.Ea=A,a.length!==0||l?{snapshot:new fu(this.query,e.Ra,s,a,e.mutatedKeys,A===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new qT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ne(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new k4(n))}),this.da.forEach(n=>{e.has(n)||r.push(new Q4(n))}),r}ba(e){this.Ta=e.Ts,this.da=Ne();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return fu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Oz{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Dz{constructor(e){this.key=e,this.va=!1}}class jz{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new co(o=>kO(o),B0),this.Ma=new Map,this.xa=new Set,this.Oa=new bt(Ae.comparator),this.Na=new Map,this.La=new qC,this.Ba={},this.ka=new Map,this.qa=xA.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Rz(t,e,r=!0){const n=L4(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await O4(n,e,r,!0),i}async function Mz(t,e){const r=L4(t);await O4(r,e,!0,!1)}async function O4(t,e,r,n){const i=await Az(t.localStore,Jn(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await Lz(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&S4(t.remoteStore,i),o}async function Lz(t,e,r,n,i){t.Ka=(d,f,g)=>async function(p,v,y,w){let B=v.view.ma(y);B.ns&&(B=await zT(p.localStore,v.query,!1).then(({documents:C})=>v.view.ma(C,B)));const I=w&&w.targetChanges.get(v.targetId),T=w&&w.targetMismatches.get(v.targetId)!=null,F=v.view.applyChanges(B,p.isPrimaryClient,I,T);return t2(p,v.targetId,F.wa),F.snapshot}(t,d,f,g);const s=await zT(t.localStore,e,!0),a=new kz(e,s.Ts),o=a.ma(s.documents),A=Tf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),l=a.applyChanges(o,t.isPrimaryClient,A);t2(t,r,l.wa);const u=new Oz(e,r,a);return t.Fa.set(e,u),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),l.snapshot}async function Hz(t,e,r){const n=Fe(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!B0(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await ib(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&eE(n.remoteStore,i.targetId),ab(n,i.targetId)}).catch(UA)):(ab(n,i.targetId),await ib(n.localStore,i.targetId,!0))}async function Vz(t,e){const r=Fe(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),eE(r.remoteStore,n.targetId))}async function Kz(t,e,r){const n=H4(t);try{const i=await function(a,o){const A=Fe(a),l=xt.now(),u=o.reduce((g,m)=>g.add(m.key),Ne());let d,f;return A.persistence.runTransaction("Locally write mutations","readwrite",g=>{let m=xn(),p=Ne();return A.cs.getEntries(g,u).next(v=>{m=v,m.forEach((y,w)=>{w.isValidDocument()||(p=p.add(y))})}).next(()=>A.localDocuments.getOverlayedDocuments(g,m)).next(v=>{d=v;const y=[];for(const w of o){const B=AG(w,d.get(w.key).overlayedDocument);B!=null&&y.push(new fo(w.key,B,IO(B.value.mapValue),bn.exists(!0)))}return A.mutationQueue.addMutationBatch(g,l,y,o)}).next(v=>{f=v;const y=v.applyToLocalDocumentSet(d,p);return A.documentOverlayCache.saveOverlays(g,v.batchId,y)})}).then(()=>({batchId:f.batchId,changes:jO(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,A){let l=a.Ba[a.currentUser.toKey()];l||(l=new bt(Ue)),l=l.insert(o,A),a.Ba[a.currentUser.toKey()]=l}(n,i.batchId,r),await Pf(n,i.changes),await Uf(n.remoteStore)}catch(i){const s=sE(i,"Failed to persist write");r.reject(s)}}async function D4(t,e){const r=Fe(t);try{const n=await sz(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Na.get(s);a&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?xe(a.va):i.removedDocuments.size>0&&(xe(a.va),a.va=!1))}),await Pf(r,n,e)}catch(n){await UA(n)}}function e2(t,e,r){const n=Fe(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const A=Fe(a);A.onlineState=o;let l=!1;A.queries.forEach((u,d)=>{for(const f of d.j_)f.Z_(o)&&(l=!0)}),l&&AE(A)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function $z(t,e,r){const n=Fe(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new bt(Ae.comparator);a=a.insert(s,Ot.newNoDocument(s,Ce.min()));const o=Ne().add(s),A=new _0(Ce.min(),new Map,new bt(Ue),a,o);await D4(n,A),n.Oa=n.Oa.remove(s),n.Na.delete(e),uE(n)}else await ib(n.localStore,e,!1).then(()=>ab(n,e,r)).catch(UA)}async function Gz(t,e){const r=Fe(t),n=e.batch.batchId;try{const i=await iz(r.localStore,e);R4(r,n,null),j4(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Pf(r,i)}catch(i){await UA(i)}}async function zz(t,e,r){const n=Fe(t);try{const i=await function(a,o){const A=Fe(a);return A.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return A.mutationQueue.lookupMutationBatch(l,o).next(d=>(xe(d!==null),u=d.keys(),A.mutationQueue.removeMutationBatch(l,d))).next(()=>A.mutationQueue.performConsistencyCheck(l)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>A.localDocuments.getDocuments(l,u))})}(n.localStore,e);R4(n,e,r),j4(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Pf(n,i)}catch(i){await UA(i)}}function j4(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function R4(t,e,r){const n=Fe(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function ab(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||M4(t,n)})}function M4(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(eE(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),uE(t))}function t2(t,e,r){for(const n of r)n instanceof Q4?(t.La.addReference(n.key,e),Wz(t,n)):n instanceof k4?(te("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||M4(t,n.key)):ve()}function Wz(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(te("SyncEngine","New document in limbo: "+r),t.xa.add(n),uE(t))}function uE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Ae(qe.fromString(e)),n=t.qa.next();t.Na.set(n,new Dz(r)),t.Oa=t.Oa.insert(r,n),S4(t.remoteStore,new hs(Jn(If(r.path)),n,"TargetPurposeLimboResolution",$n.oe))}}async function Pf(t,e,r){const n=Fe(t),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,A)=>{a.push(n.Ka(A,e,r).then(l=>{var u;if((l||r)&&n.isPrimaryClient){const d=l?!l.fromCache:(u=r==null?void 0:r.targetChanges.get(A.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(A.targetId,d?"current":"not-current")}if(l){i.push(l);const d=ZC.Wi(A.targetId,l);s.push(d)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(A,l){const u=Fe(A);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>K.forEach(l,f=>K.forEach(f.$i,g=>u.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>K.forEach(f.Ui,g=>u.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!uo(d))throw d;te("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const f=d.targetId;if(!d.fromCache){const g=u.os.get(f),m=g.snapshotVersion,p=g.withLastLimboFreeSnapshotVersion(m);u.os=u.os.insert(f,p)}}}(n.localStore,s))}async function Yz(t,e){const r=Fe(t);if(!r.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const n=await B4(r.localStore,e);r.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(A=>{A.reject(new fe(q.CANCELLED,a))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Pf(r,n.hs)}}function Xz(t,e){const r=Fe(t),n=r.Na.get(e);if(n&&n.va)return Ne().add(n.key);{let i=Ne();const s=r.Ma.get(e);if(!s)return i;for(const a of s){const o=r.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function L4(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=D4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$z.bind(null,e),e.Ca.d_=Nz.bind(null,e.eventManager),e.Ca.$a=Qz.bind(null,e.eventManager),e}function H4(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zz.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=F0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return b4(this.persistence,new x4,e.initialUser,this.serializer)}Ga(e){return new w4(T0.Zr,this.serializer)}Wa(e){return new E4}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class qz extends ef{constructor(e,r,n){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await H4(this.Ja.syncEngine),await Uf(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return b4(this.persistence,new x4,e.initialUser,this.serializer)}ja(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new RG(n,e.asyncQueue,r)}Ha(e,r){const n=new f9(r,this.persistence);return new d9(e.asyncQueue,n)}Ga(e){const r=tz(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?qr.withCacheSize(this.cacheSizeBytes):qr.DEFAULT;return new JC(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,hz(),qg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new E4}}class Xm{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>e2(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yz.bind(null,this.syncEngine),await Fz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Pz}()}createDatastore(e){const r=F0(e.databaseInfo.databaseId),n=function(s){return new fz(s)}(e.databaseInfo);return function(s,a,o,A){return new pz(s,a,o,A)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new yz(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>e2(this.syncEngine,r,0),function(){return YT.D()?new YT:new uz}())}createSyncEngine(e,r){return function(i,s,a,o,A,l,u){const d=new jz(i,s,a,o,A,l);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=Fe(i);te("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Ff(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Xm.provider={build:()=>new Xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=vr.UNAUTHENTICATED,this.clientId=QC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{te("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(te("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=sE(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Ky(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await B4(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function r2(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Zz(t);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>XT(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>XT(e.remoteStore,i)),t._onlineComponents=e}async function Zz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ky(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Wa("Error using user provided cache. Falling back to memory cache: "+r),await Ky(t,new ef)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await Ky(t,new ef);return t._offlineComponents}async function V4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await r2(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await r2(t,new Xm))),t._onlineComponents}function eW(t){return V4(t).then(e=>e.syncEngine)}async function qm(t){const e=await V4(t),r=e.eventManager;return r.onListen=Rz.bind(null,e.syncEngine),r.onUnlisten=Hz.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Mz.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Vz.bind(null,e.syncEngine),r}function tW(t,e,r={}){const n=new Di;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,A,l){const u=new cE({next:f=>{u.Za(),a.enqueueAndForget(()=>oE(s,d));const g=f.docs.has(o);!g&&f.fromCache?l.reject(new fe(q.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&A&&A.source==="server"?l.reject(new fe(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new lE(If(o.path),u,{includeMetadataChanges:!0,_a:!0});return aE(s,d)}(await qm(t),t.asyncQueue,e,r,n)),n.promise}function rW(t,e,r={}){const n=new Di;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,A,l){const u=new cE({next:f=>{u.Za(),a.enqueueAndForget(()=>oE(s,d)),f.fromCache&&A.source==="server"?l.reject(new fe(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new lE(o,u,{includeMetadataChanges:!0,_a:!0});return aE(s,d)}(await qm(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t,e,r){if(!r)throw new fe(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function G4(t,e,r,n){if(e===!0&&n===!0)throw new fe(q.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function i2(t){if(!Ae.isDocumentKey(t))throw new fe(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function s2(t){if(Ae.isDocumentKey(t))throw new fe(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function Zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=dE(t);throw new fe(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K4((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class P0{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a2(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new fO;switch(n.type){case"firstParty":return new i9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new fe(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=n2.get(r);n&&(te("ComponentProvider","Removing Datastore"),n2.delete(r),n.terminate())}(this),Promise.resolve()}}function z4(t,e,r,n={}){var i;const s=(t=Zn(t,P0))._getSettings(),a=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,A;if(typeof n.mockUserToken=="string")o=n.mockUserToken,A=vr.MOCK_USER;else{o=N$(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new fe(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new vr(l)}t._authCredentials=new t9(new dO(o,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new NA(this.firestore,e,this._query)}}class Gr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gr(this.firestore,e,this._key)}}class xs extends NA{constructor(e,r,n){super(e,r,If(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gr(this.firestore,null,new Ae(e))}withConverter(e){return new xs(this.firestore,e,this._path)}}function hd(t,e,...r){if(t=on(t),$4("collection","path",e),t instanceof P0){const n=qe.fromString(e,...r);return s2(n),new xs(t,null,n)}{if(!(t instanceof Gr||t instanceof xs))throw new fe(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(qe.fromString(e,...r));return s2(n),new xs(t.firestore,null,n)}}function Fi(t,e,...r){if(t=on(t),arguments.length===1&&(e=QC.newId()),$4("doc","path",e),t instanceof P0){const n=qe.fromString(e,...r);return i2(n),new Gr(t,null,new Ae(n))}{if(!(t instanceof Gr||t instanceof xs))throw new fe(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(qe.fromString(e,...r));return i2(n),new Gr(t.firestore,t instanceof xs?t.converter:null,new Ae(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new _4(this,"async_queue_retry"),this.Vu=()=>{const n=qg();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=qg();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=qg();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Di;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!uo(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw Lr("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=iE.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function A2(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=-1;class Za extends P0{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new o2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new o2(e),this._firestoreClient=void 0,await e}}}function Y4(t,e){const r=typeof t=="object"?t:nO(),n=typeof t=="string"?t:"(default)",i=PC(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=U$("firestore");s&&z4(i,...s)}return i}function Nf(t){if(t._terminated)throw new fe(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||X4(t),t._firestoreClient}function X4(t){var e,r,n;const i=t._freezeSettings(),s=function(o,A,l,u){return new k9(o,A,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,K4(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Jz(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const A=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(A),_online:A}}(t._componentsProvider))}function q4(t,e){Wa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return nW(t,Xm.provider,{build:n=>new qz(n,r.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function nW(t,e,r){if((t=Zn(t,Za))._firestoreClient||t._terminated)throw new fe(q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new fe(q.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},X4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bA(Mt.fromBase64String(e))}catch(r){throw new fe(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new bA(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new fe(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new fe(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new fe(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW=/^__.*__$/;class sW{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new fo(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ou(e,this.data,r,this.fieldTransforms)}}function J4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class fE{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new fE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Jm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(J4(this.Cu)&&iW.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class aW{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||F0(e)}Qu(e,r,n,i=!1){return new fE({Cu:e,methodName:r,qu:n,path:vt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oW(t){const e=t._freezeSettings(),r=F0(t._databaseId);return new aW(t._databaseId,!!e.ignoreUndefinedProperties,r)}function AW(t,e,r,n,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);rD("Data must be an object, but it was:",a,n);const o=eD(n,a);let A,l;if(s.merge)A=new Gn(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=lW(e,d,r);if(!a.contains(f))throw new fe(q.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);cW(u,f)||u.push(f)}A=new Gn(u),l=a.fieldTransforms.filter(d=>A.covers(d.field))}else A=null,l=a.fieldTransforms;return new sW(new en(o),A,l)}class hE extends Q0{_toFieldTransform(e){return new $O(e.path,new lu)}isEqual(e){return e instanceof hE}}function Z4(t,e){if(tD(t=on(t)))return rD("Unsupported field value:",e,t),eD(t,e);if(t instanceof Q0)return function(n,i){if(!J4(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let A=Z4(o,i.Lu(a));A==null&&(A={nullValue:"NULL_VALUE"}),s.push(A),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=on(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return rG(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=xt.fromDate(n);return{timestampValue:du(i.serializer,s)}}if(n instanceof xt){const s=new xt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:du(i.serializer,s)}}if(n instanceof k0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof bA)return{bytesValue:JO(i.serializer,n._byteString)};if(n instanceof Gr){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:WC(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof O0)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(A=>{if(typeof A!="number")throw o.Bu("VectorValues must only contain numeric values.");return HC(o.serializer,A)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${dE(n)}`)}(t,e)}function eD(t,e){const r={};return BO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ku(t,(n,i)=>{const s=Z4(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function tD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof k0||t instanceof bA||t instanceof Gr||t instanceof Q0||t instanceof O0)}function rD(t,e,r){if(!tD(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=dE(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function lW(t,e,r){if((e=on(e))instanceof N0)return e._internalPath;if(typeof e=="string")return nD(t,e);throw Jm("Field path arguments must be of type string or ",t,!1,void 0,r)}const uW=new RegExp("[~\\*/\\[\\]]");function nD(t,e,r){if(e.search(uW)>=0)throw Jm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new N0(...e.split("."))._internalPath}catch{throw Jm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Jm(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let A="";return(s||a)&&(A+=" (found",s&&(A+=` in field ${n}`),a&&(A+=` in document ${i}`),A+=")"),new fe(q.INVALID_ARGUMENT,o+t+A)}function cW(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(sD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class dW extends iD{data(){return super.data()}}function sD(t,e){return typeof e=="string"?nD(t,e):e instanceof N0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fW{}class oD extends fW{}class D0 extends oD{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new D0(e,r,n)}_apply(e){return new NA(e.firestore,e.converter,Vm(e._query,this._limit,this._limitType))}}function AD(t){return D0._create("limit",t,"F")}class lD{convertValue(e,r="none"){switch(pA(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ku(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>mt(a.doubleValue));return new O0(s)}convertGeoPoint(e){return new k0(mt(e.latitude),mt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=RC(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Xd(e));default:return null}}convertTimestamp(e){const r=Fs(e);return new xt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=qe.fromString(e);xe(A4(n));const i=new Xa(n.get(1),n.get(3)),s=new Ae(n.popFirst(5));return i.isEqual(r)||Lr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gE extends iD{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(sD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class gd extends gE{data(e={}){return super.data(e)}}class mE{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Ul(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new gd(this._firestore,this._userDataWriter,n.key,n,new Ul(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new fe(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const A=new gd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ul(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:A,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const A=new gd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ul(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return o.type!==0&&(l=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:gW(o.type),doc:A,oldIndex:l,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function gW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(t){t=Zn(t,Gr);const e=Zn(t.firestore,Za);return tW(Nf(e),t._key).then(r=>cD(e,t,r))}class pE extends lD{constructor(e){super(),this.firestore=e}convertBytes(e){return new bA(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Gr(this.firestore,null,r)}}function md(t){t=Zn(t,NA);const e=Zn(t.firestore,Za),r=Nf(e),n=new pE(e);return aD(t._query),rW(r,t._query).then(i=>new mE(e,n,t,i))}function $o(t,e,r){t=Zn(t,Gr);const n=Zn(t.firestore,Za),i=hW(t.converter,e);return uD(n,[AW(oW(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,bn.none())])}function tf(t,...e){var r,n,i;t=on(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||A2(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(A2(e[a])){const d=e[a];e[a]=(r=d.next)===null||r===void 0?void 0:r.bind(d),e[a+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),e[a+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let A,l,u;if(t instanceof Gr)l=Zn(t.firestore,Za),u=If(t._key.path),A={next:d=>{e[a]&&e[a](cD(l,t,d))},error:e[a+1],complete:e[a+2]};else{const d=Zn(t,NA);l=Zn(d.firestore,Za),u=d._query;const f=new pE(l);A={next:g=>{e[a]&&e[a](new mE(l,f,d,g))},error:e[a+1],complete:e[a+2]},aD(t._query)}return function(f,g,m,p){const v=new cE(p),y=new lE(g,v,m);return f.asyncQueue.enqueueAndForget(async()=>aE(await qm(f),y)),()=>{v.Za(),f.asyncQueue.enqueueAndForget(async()=>oE(await qm(f),y))}}(Nf(l),u,o,A)}function uD(t,e){return function(n,i){const s=new Di;return n.asyncQueue.enqueueAndForget(async()=>Kz(await eW(n),i,s)),s.promise}(Nf(t),e)}function cD(t,e,r){const n=r.docs.get(e._key),i=new pE(t);return new gE(t,i,e._key,n,new Ul(r.hasPendingWrites,r.fromCache),e.converter)}function pW(){return new hE("serverTimestamp")}(function(e,r=!0){(function(i){Qu=i})(Nu),iu(new gA("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new Za(new r9(n.getProvider("auth-internal")),new a9(n.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new fe(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xa(l.options.projectId,u)}(a,i),a);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Da(rT,"4.7.3",e),Da(rT,"4.7.3","esm2017")})();const Jg=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:lD,Bytes:bA,CACHE_SIZE_UNLIMITED:W4,CollectionReference:xs,DocumentReference:Gr,DocumentSnapshot:gE,FieldPath:N0,FieldValue:Q0,Firestore:Za,FirestoreError:fe,GeoPoint:k0,Query:NA,QueryConstraint:oD,QueryDocumentSnapshot:gd,QueryLimitConstraint:D0,QuerySnapshot:mE,SnapshotMetadata:Ul,Timestamp:xt,VectorValue:O0,_AutoId:QC,_ByteString:Mt,_DatabaseId:Xa,_DocumentKey:Ae,_EmptyAuthCredentialsProvider:fO,_FieldPath:vt,_cast:Zn,_logWarn:Wa,_validateIsNotUsedTogether:G4,collection:hd,connectFirestoreEmulator:z4,doc:Fi,enableIndexedDbPersistence:q4,ensureFirestoreConfigured:Nf,executeWrite:uD,getDoc:mW,getDocs:md,getFirestore:Y4,limit:AD,onSnapshot:tf,serverTimestamp:pW,setDoc:$o},Symbol.toStringTag,{value:"Module"}));var vW="firebase",yW="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Da(vW,yW,"app");function vE(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function dD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fD=dD,hD=new Cf("auth","Firebase",dD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=new FC("@firebase/auth");function wW(t,...e){Zm.logLevel<=De.WARN&&Zm.warn(`Auth (${Nu}): ${t}`,...e)}function Zg(t,...e){Zm.logLevel<=De.ERROR&&Zm.error(`Auth (${Nu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t,...e){throw yE(t,...e)}function ji(t,...e){return yE(t,...e)}function gD(t,e,r){const n=Object.assign(Object.assign({},fD()),{[e]:r});return new Cf("auth","Firebase",n).create(e,{appName:t.name})}function Ra(t){return gD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yE(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return hD.create(t,...e)}function Ie(t,e,...r){if(!t)throw yE(e,...r)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zg(e),new Error(e)}function Us(t,e){t||gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xW(){return l2()==="http:"||l2()==="https:"}function l2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xW()||D$()||"connection"in navigator)?navigator.onLine:!0}function BW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,r){this.shortDelay=e,this.longDelay=r,Us(r>e,"Short delay should be less than long delay!"),this.isMobile=Q$()||j$()}get(){return bW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t,e){Us(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW=new Qf(3e4,6e4);function QA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ho(t,e,r,n,i={}){return pD(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=Ef(Object.assign({key:t.config.apiKey},a)).slice(1),A=await t._getAdditionalHeaders();A["Content-Type"]="application/json",t.languageCode&&(A["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:A},s);return O$()||(l.referrerPolicy="no-referrer"),mD.fetch()(vD(t,t.config.apiHost,r,o),l)})}async function pD(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},CW),e);try{const i=new IW(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Vh(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[A,l]=o.split(" : ");if(A==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vh(t,"credential-already-in-use",a);if(A==="EMAIL_EXISTS")throw Vh(t,"email-already-in-use",a);if(A==="USER_DISABLED")throw Vh(t,"user-disabled",a);const u=n[A]||A.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw gD(t,u,l);xi(t,u)}}catch(i){if(i instanceof Ms)throw i;xi(t,"network-request-failed",{message:String(i)})}}async function j0(t,e,r,n,i={}){const s=await ho(t,e,r,n,i);return"mfaPendingCredential"in s&&xi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function vD(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?wE(t.config,i):`${t.config.apiScheme}://${i}`}function _W(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IW{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ji(this.auth,"network-request-failed")),EW.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=ji(t,e,n);return i.customData._tokenResponse=r,i}function u2(t){return t!==void 0&&t.enterprise!==void 0}class SW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return _W(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function TW(t,e){return ho(t,"GET","/v2/recaptchaConfig",QA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FW(t,e){return ho(t,"POST","/v1/accounts:delete",e)}async function yD(t,e){return ho(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wD(t,e=!1){const r=on(t),n=await r.getIdToken(e),i=xE(n);Ie(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:pd($y(i.auth_time)),issuedAtTime:pd($y(i.iat)),expirationTime:pd($y(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function $y(t){return Number(t)*1e3}function xE(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Zg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Wk(r);return i?JSON.parse(i):(Zg("Failed to decode base64 JWT payload"),null)}catch(i){return Zg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function c2(t){const e=xE(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rf(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ms&&UW(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function UW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=pd(this.lastLoginAt),this.creationTime=pd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ep(t){var e;const r=t.auth,n=await t.getIdToken(),i=await rf(t,yD(r,{idToken:n}));Ie(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?bD(s.providerUserInfo):[],o=NW(t.providerData,a),A=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=A?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ab(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function xD(t){const e=on(t);await ep(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NW(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function bD(t){return t.map(e=>{var{providerId:r}=e,n=vE(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QW(t,e){const r=await pD(t,{},async()=>{const n=Ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=vD(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",mD.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function kW(t,e){return ho(t,"POST","/v2/accounts:revokeToken",QA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const r=c2(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await QW(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new Kl;return n&&(Ie(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Ie(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ie(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kl,this.toJSON())}_performRefresh(){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ms{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=vE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ab(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await rf(this,this.stsTokenManager.getToken(this.auth,e));return Ie(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return wD(this,e)}reload(){return xD(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await ep(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fs(this.auth.app))return Promise.reject(Ra(this.auth));const e=await this.getIdToken();return await rf(this,FW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,a,o,A,l,u;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,f=(i=r.email)!==null&&i!==void 0?i:void 0,g=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,m=(a=r.photoURL)!==null&&a!==void 0?a:void 0,p=(o=r.tenantId)!==null&&o!==void 0?o:void 0,v=(A=r._redirectEventId)!==null&&A!==void 0?A:void 0,y=(l=r.createdAt)!==null&&l!==void 0?l:void 0,w=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:B,emailVerified:I,isAnonymous:T,providerData:F,stsTokenManager:C}=r;Ie(B&&C,e,"internal-error");const _=Kl.fromJSON(this.name,C);Ie(typeof B=="string",e,"internal-error"),ra(d,e.name),ra(f,e.name),Ie(typeof I=="boolean",e,"internal-error"),Ie(typeof T=="boolean",e,"internal-error"),ra(g,e.name),ra(m,e.name),ra(p,e.name),ra(v,e.name),ra(y,e.name),ra(w,e.name);const S=new ms({uid:B,auth:e,email:f,emailVerified:I,displayName:d,isAnonymous:T,photoURL:m,phoneNumber:g,tenantId:p,stsTokenManager:_,createdAt:y,lastLoginAt:w});return F&&Array.isArray(F)&&(S.providerData=F.map(P=>Object.assign({},P))),v&&(S._redirectEventId=v),S}static async _fromIdTokenResponse(e,r,n=!1){const i=new Kl;i.updateFromServerResponse(r);const s=new ms({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await ep(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ie(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?bD(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Kl;o.updateFromIdToken(n);const A=new ms({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ab(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(A,l),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new Map;function ps(t){Us(t instanceof Function,"Expected a class definition");let e=d2.get(t);return e?(Us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,d2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}BD.type="NONE";const lb=BD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t,e,r){return`firebase:${t}:${e}:${r}`}class $l{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=em(this.userKey,i.apiKey,s),this.fullPersistenceKey=em("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ms._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new $l(ps(lb),e,n);const i=(await Promise.all(r.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||ps(lb);const a=em(n,e.config.apiKey,e.name);let o=null;for(const l of r)try{const u=await l._get(a);if(u){const d=ms._fromJSON(e,u);l!==s&&(o=d),s=l;break}}catch{}const A=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!A.length?new $l(s,e,n):(s=A[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async l=>{if(l!==s)try{await l._remove(a)}catch{}})),new $l(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ID(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TD(e))return"Blackberry";if(FD(e))return"Webos";if(ED(e))return"Safari";if((e.includes("chrome/")||_D(e))&&!e.includes("edge/"))return"Chrome";if(SD(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function CD(t=Jt()){return/firefox\//i.test(t)}function ED(t=Jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _D(t=Jt()){return/crios\//i.test(t)}function ID(t=Jt()){return/iemobile/i.test(t)}function SD(t=Jt()){return/android/i.test(t)}function TD(t=Jt()){return/blackberry/i.test(t)}function FD(t=Jt()){return/webos/i.test(t)}function bE(t=Jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function OW(t=Jt()){var e;return bE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DW(){return R$()&&document.documentMode===10}function UD(t=Jt()){return bE(t)||SD(t)||FD(t)||TD(t)||/windows phone/i.test(t)||ID(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t,e=[]){let r;switch(t){case"Browser":r=f2(Jt());break;case"Worker":r=`${f2(Jt())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Nu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const A=e(s);a(A)}catch(A){o(A)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RW(t,e={}){return ho(t,"GET","/v2/passwordPolicy",QA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MW=6;class LW{constructor(e){var r,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:MW,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,a,o;const A={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,A),this.validatePasswordCharacterOptions(e,A),A.isValid&&(A.isValid=(r=A.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),A.isValid&&(A.isValid=(n=A.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),A.isValid&&(A.isValid=(i=A.containsLowercaseLetter)!==null&&i!==void 0?i:!0),A.isValid&&(A.isValid=(s=A.containsUppercaseLetter)!==null&&s!==void 0?s:!0),A.isValid&&(A.isValid=(a=A.containsNumericCharacter)!==null&&a!==void 0?a:!0),A.isValid&&(A.isValid=(o=A.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),A}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h2(this),this.idTokenSubscription=new h2(this),this.beforeStateQueue=new jW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ps(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await $l.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await yD(this,{idToken:e}),n=await ms._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(fs(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,A=await this.tryRedirectSignIn(e);(!a||a===o)&&(A!=null&&A.user)&&(i=A.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await ep(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fs(this.app))return Promise.reject(Ra(this));const r=e?on(e):null;return r&&Ie(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fs(this.app)?Promise.reject(Ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fs(this.app)?Promise.reject(Ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RW(this),r=new LW(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await kW(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ps(e)||this._popupRedirectResolver;Ie(r,this,"argument-error"),this.redirectPersistenceManager=await $l.create(this,[ps(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const A=e.addObserver(r,n,i);return()=>{a=!0,A()}}else{const A=e.addObserver(r);return()=>{a=!0,A()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&wW(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function ju(t){return on(t)}class h2{constructor(e){this.auth=e,this.observer=null,this.addObserver=$$(r=>this.observer=r)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VW(t){R0=t}function ND(t){return R0.loadJS(t)}function KW(){return R0.recaptchaEnterpriseScript}function $W(){return R0.gapiScript}function GW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const zW="recaptcha-enterprise",WW="NO_RECAPTCHA";class YW{constructor(e){this.type=zW,this.auth=ju(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{TW(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(A=>{if(A.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const l=new SW(A);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,a(l.siteKey)}}).catch(A=>{o(A)})})}function i(s,a,o){const A=window.grecaptcha;u2(A)?A.enterprise.ready(()=>{A.enterprise.execute(s,{action:e}).then(l=>{a(l)}).catch(()=>{a(WW)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&u2(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let A=KW();A.length!==0&&(A+=o),ND(A).then(()=>{i(o,s,a)}).catch(l=>{a(l)})}}).catch(o=>{a(o)})})}}async function g2(t,e,r,n=!1){const i=new YW(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function m2(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await g2(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await g2(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t,e){const r=PC(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(jm(s,e??{}))return i;xi(i,"already-initialized")}return r.initialize({options:e})}function XW(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ps);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function kD(t,e,r){const n=ju(t);Ie(n._canInitEmulator,n,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=OD(e),{host:a,port:o}=qW(e),A=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${A}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),JW()}function OD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qW(t){const e=OD(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:p2(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:p2(a)}}}function p2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JW(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,r){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function ZW(t,e){return ho(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e7(t,e){return j0(t,"POST","/v1/accounts:signInWithPassword",QA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t7(t,e){return j0(t,"POST","/v1/accounts:signInWithEmailLink",QA(t,e))}async function r7(t,e){return j0(t,"POST","/v1/accounts:signInWithEmailLink",QA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends M0{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new hu(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new hu(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return m2(e,r,"signInWithPassword",e7);case"emailLink":return t7(e,{email:this._email,oobCode:this._password});default:xi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return m2(e,n,"signUpPassword",ZW);case"emailLink":return r7(e,{idToken:r,email:this._email,oobCode:this._password});default:xi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(t,e){return j0(t,"POST","/v1/accounts:signInWithIdp",QA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7="http://localhost";class eo extends M0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):xi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=vE(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new eo(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return Gl(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Gl(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Gl(e,r)}buildRequest(){const e={requestUri:n7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Ef(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s7(t){const e=Rc(Mc(t)).link,r=e?Rc(Mc(e)).deep_link_id:null,n=Rc(Mc(t)).deep_link_id;return(n?Rc(Mc(n)).link:null)||n||r||e||t}class L0{constructor(e){var r,n,i,s,a,o;const A=Rc(Mc(e)),l=(r=A.apiKey)!==null&&r!==void 0?r:null,u=(n=A.oobCode)!==null&&n!==void 0?n:null,d=i7((i=A.mode)!==null&&i!==void 0?i:null);Ie(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(s=A.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=A.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=A.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=s7(e);try{return new L0(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.providerId=kA.PROVIDER_ID}static credential(e,r){return hu._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=L0.parseLink(r);return Ie(n,"argument-error"),hu._fromEmailAndCode(e,n.code,n.tenantId)}}kA.PROVIDER_ID="password";kA.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kA.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf extends DD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends kf{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends kf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return eo._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ss.credential(r,n)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends kf{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends kf{constructor(){super("twitter.com")}static credential(e,r){return eo._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return os.credential(r,n)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await ms._fromIdTokenResponse(e,n,i),a=v2(n);return new gu({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=v2(n);return new gu({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function v2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends Ms{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,tp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new tp(e,r,n,i)}}function jD(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?tp._fromErrorAndOperation(t,s,e,n):s})}async function a7(t,e,r=!1){const n=await rf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return gu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o7(t,e,r=!1){const{auth:n}=t;if(fs(n.app))return Promise.reject(Ra(n));const i="reauthenticate";try{const s=await rf(t,jD(n,i,e,t),r);Ie(s.idToken,n,"internal-error");const a=xE(s.idToken);Ie(a,n,"internal-error");const{sub:o}=a;return Ie(t.uid===o,n,"user-mismatch"),gu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&xi(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(t,e,r=!1){if(fs(t.app))return Promise.reject(Ra(t));const n="signIn",i=await jD(t,n,e),s=await gu._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function MD(t,e){return RD(ju(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A7(t){const e=ju(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function l7(t,e,r){return fs(t.app)?Promise.reject(Ra(t)):MD(on(t),kA.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&A7(t),n})}function LD(t,e,r,n){return on(t).onIdTokenChanged(e,r,n)}function HD(t,e,r){return on(t).beforeAuthStateChanged(e,r)}function u7(t){return on(t).signOut()}const rp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(rp,"1"),this.storage.removeItem(rp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7=1e3,d7=10;class KD extends VD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,A)=>{this.notifyListeners(a,A)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);DW()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,d7):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},c7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}KD.type="LOCAL";const $D=KD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD extends VD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}GD.type="SESSION";const BE=GD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new H0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async l=>l(r.origin,s)),A=await f7(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:A})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}H0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,A)=>{const l=CE("",20);i.port1.start();const u=setTimeout(()=>{A(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{A(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(f.data.response);break;default:clearTimeout(u),clearTimeout(s),A(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function g7(t){Ri().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function m7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function v7(){return zD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="firebaseLocalStorageDb",y7=1,np="firebaseLocalStorage",YD="fbase_key";class Of{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function V0(t,e){return t.transaction([np],e?"readwrite":"readonly").objectStore(np)}function w7(){const t=indexedDB.deleteDatabase(WD);return new Of(t).toPromise()}function ub(){const t=indexedDB.open(WD,y7);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(np,{keyPath:YD})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(np)?e(n):(n.close(),await w7(),e(await ub()))})})}async function y2(t,e,r){const n=V0(t,!0).put({[YD]:e,value:r});return new Of(n).toPromise()}async function x7(t,e){const r=V0(t,!1).get(e),n=await new Of(r).toPromise();return n===void 0?null:n.value}function w2(t,e){const r=V0(t,!0).delete(e);return new Of(r).toPromise()}const b7=800,B7=3;class XD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ub(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>B7)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=H0._getInstance(v7()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await m7(),!this.activeServiceWorker)return;this.sender=new h7(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||p7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ub();return await y2(e,rp,"1"),await w2(e,rp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>y2(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>x7(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>w2(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=V0(i,!1).getAll();return new Of(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XD.type="LOCAL";const qD=XD;new Qf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(t,e){return e?ps(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE extends M0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Gl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function E7(t){return RD(t.auth,new EE(t),t.bypassAuthState)}function _7(t){const{auth:e,user:r}=t;return Ie(r,e,"internal-error"),o7(r,new EE(t),t.bypassAuthState)}async function I7(t){const{auth:e,user:r}=t;return Ie(r,e,"internal-error"),a7(r,new EE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const A={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(A))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E7;case"linkViaPopup":case"linkViaRedirect":return I7;case"reauthViaPopup":case"reauthViaRedirect":return _7;default:xi(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7=new Qf(2e3,1e4);class Pl extends JD{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Pl.currentPopupAction&&Pl.currentPopupAction.cancel(),Pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=CE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S7.get())};e()}}Pl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7="pendingRedirect",tm=new Map;class F7 extends JD{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=tm.get(this.auth._key());if(!e){try{const n=await U7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}tm.set(this.auth._key(),e)}return this.bypassAuthState||tm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U7(t,e){const r=Q7(e),n=N7(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function P7(t,e){tm.set(t._key(),e)}function N7(t){return ps(t._redirectPersistence)}function Q7(t){return em(T7,t.config.apiKey,t.name)}async function k7(t,e,r=!1){if(fs(t.app))return Promise.reject(Ra(t));const n=ju(t),i=C7(n,e),a=await new F7(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7=10*60*1e3;class D7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j7(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!ZD(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(ji(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O7&&this.cachedEventUids.clear(),this.cachedEventUids.has(x2(e))}saveEventToCache(e){this.cachedEventUids.add(x2(e)),this.lastProcessedEventTime=Date.now()}}function x2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function j7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R7(t,e={}){return ho(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L7=/^https?/;async function H7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await R7(t);for(const r of e)try{if(V7(r))return}catch{}xi(t,"unauthorized-domain")}function V7(t){const e=ob(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!L7.test(r))return!1;if(M7.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7=new Qf(3e4,6e4);function b2(){const t=Ri().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function $7(t){return new Promise((e,r)=>{var n,i,s;function a(){b2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b2(),r(ji(t,"network-request-failed"))},timeout:K7.get()})}if(!((i=(n=Ri().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ri().gapi)===null||s===void 0)&&s.load)a();else{const o=GW("iframefcb");return Ri()[o]=()=>{gapi.load?a():r(ji(t,"network-request-failed"))},ND(`${$W()}?onload=${o}`).catch(A=>r(A))}}).catch(e=>{throw rm=null,e})}let rm=null;function G7(t){return rm=rm||$7(t),rm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7=new Qf(5e3,15e3),W7="__/auth/iframe",Y7="emulator/auth/iframe",X7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},q7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J7(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?wE(e,Y7):`https://${t.config.authDomain}/${W7}`,n={apiKey:e.apiKey,appName:t.name,v:Nu},i=q7.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Ef(n).slice(1)}`}async function Z7(t){const e=await G7(t),r=Ri().gapi;return Ie(r,t,"internal-error"),e.open({where:document.body,url:J7(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X7,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=ji(t,"network-request-failed"),o=Ri().setTimeout(()=>{s(a)},z7.get());function A(){Ri().clearTimeout(o),i(n)}n.ping(A).then(A,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tY=500,rY=600,nY="_blank",iY="http://localhost";class B2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sY(t,e,r,n=tY,i=rY){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const A=Object.assign(Object.assign({},eY),{width:n.toString(),height:i.toString(),top:s,left:a}),l=Jt().toLowerCase();r&&(o=_D(l)?nY:r),CD(l)&&(e=e||iY,A.scrollbars="yes");const u=Object.entries(A).reduce((f,[g,m])=>`${f}${g}=${m},`,"");if(OW(l)&&o!=="_self")return aY(e||"",o),new B2(null);const d=window.open(e||"",o,u);Ie(d,t,"popup-blocked");try{d.focus()}catch{}return new B2(d)}function aY(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY="__/auth/handler",AY="emulator/auth/handler",lY=encodeURIComponent("fac");async function C2(t,e,r,n,i,s){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Nu,eventId:i};if(e instanceof DD){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",K$(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))a[u]=d}if(e instanceof kf){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const A=await t._getAppCheckToken(),l=A?`#${lY}=${encodeURIComponent(A)}`:"";return`${uY(t)}?${Ef(o).slice(1)}${l}`}function uY({config:t}){return t.emulator?wE(t,AY):`https://${t.authDomain}/${oY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="webStorageSupport";class cY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BE,this._completeRedirectFn=k7,this._overrideRedirectResult=P7}async _openPopup(e,r,n,i){var s;Us((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await C2(e,r,n,ob(),i);return sY(e,a,CE())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await C2(e,r,n,ob(),i);return g7(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Us(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Z7(e),n=new D7(e);return r.register("authEvent",i=>(Ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Gy,{type:Gy},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Gy];a!==void 0&&r(!!a),xi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=H7(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return UD()||ED()||bE()}}const ej=cY;var E2="@firebase/auth",_2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hY(t){iu(new gA("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;Ie(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const A={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PD(t)},l=new HW(n,i,s,A);return XW(l,r),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),iu(new gA("auth-internal",e=>{const r=ju(e.getProvider("auth").getImmediate());return(n=>new dY(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Da(E2,_2,fY(t)),Da(E2,_2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY=5*60,mY=qk("authIdTokenMaxAge")||gY;let I2=null;const pY=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>mY)return;const i=r==null?void 0:r.token;I2!==i&&(I2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tj(t=nO()){const e=PC(t,"auth");if(e.isInitialized())return e.getImmediate();const r=QD(t,{popupRedirectResolver:ej,persistence:[qD,$D,BE]}),n=qk("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=pY(s.toString());HD(r,a,()=>a(r.currentUser)),LD(r,o=>a(o))}}const i=Yk("auth");return i&&kD(r,`http://${i}`),r}function vY(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}VW({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=ji("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",vY().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hY("Browser");const yY=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:L0,AuthCredential:M0,EmailAuthCredential:hu,EmailAuthProvider:kA,FacebookAuthProvider:is,GithubAuthProvider:as,GoogleAuthProvider:ss,OAuthCredential:eo,TwitterAuthProvider:os,beforeAuthStateChanged:HD,browserLocalPersistence:$D,browserPopupRedirectResolver:ej,browserSessionPersistence:BE,connectAuthEmulator:kD,getAuth:tj,getIdTokenResult:wD,inMemoryPersistence:lb,indexedDBLocalPersistence:qD,initializeAuth:QD,onIdTokenChanged:LD,prodErrorMap:fD,reload:xD,signInWithCredential:MD,signInWithEmailAndPassword:l7,signOut:u7},Symbol.toStringTag,{value:"Module"})),wY={apiKey:"AIzaSyBHzCLGD1E8mrp-iVaJ1P1t9cHe5QT8LN8",authDomain:"brainless-schedule.firebaseapp.com",projectId:"brainless-schedule",storageBucket:"brainless-schedule.appspot.com",messagingSenderId:"902167883215",appId:"1:902167883215:web:8dfc400a1035929c5bf6ba"};let ip;qS().length?ip=qS()[0]:ip=rO(wY);const or=Y4(ip),rj=tj(ip);try{q4(or,{cacheSizeBytes:W4}).catch(t=>{t.code==="failed-precondition"?console.warn("離線持久性在多個標籤中失敗"):t.code==="unimplemented"&&console.warn("當前瀏覽器不支持離線持久性")})}catch(t){console.error("啟用離線功能時出錯:",t)}async function xY(){try{const t=await md(hd(or,"forecasts"),AD(1));return console.log("Firebase 連接成功"),!0}catch(t){return console.error("Firebase 連接失敗:",t),!1}}const S2=new Map,bY=5*60*1e3,BY=async t=>{try{const e=`admin_${t}`,r=S2.get(e);if(r&&Date.now()-r.timestamp<bY)return r.isAdmin;const{doc:n,getDoc:i}=await ds(async()=>{const{doc:o,getDoc:A}=await Promise.resolve().then(()=>Jg);return{doc:o,getDoc:A}},void 0),a=(await i(n(or,"admins",t))).exists();return S2.set(e,{isAdmin:a,timestamp:Date.now()}),a}catch(e){return console.error("檢查管理員狀態失敗:",e),!1}},zn={MAX_CONSECUTIVE_DAYS_CHECK:30,MIN_CONSECUTIVE_DAYS:4,MAX_CONSECUTIVE_DAYS:6,REST_SHIFTS:["休假","特休","月休","休","特"],TIME_SLOTS:{MORNING:{start:5,end:12},AFTERNOON:{start:12,end:18},EVENING:{start:18,end:22}},SHIFT_KEYWORDS:{MORNING:["早班","早","Morning","K","KK"],AFTERNOON:["中班","中","Mid","L"],EVENING:["晚班","晚","Evening","Y"]}};let nm={};const CY=t=>{nm=t},Qt={consecutiveDays:new Map,todayWorkers:new Map,todayString:null,todayDate:null,lastCacheTime:0,smartMessages:new Map,lastGenerationTime:0},K0=(t=!1)=>{const e=Date.now(),r=new Date().toDateString();(t||Qt.lastCacheTime===0||new Date(Qt.lastCacheTime).toDateString()!==r)&&(Qt.consecutiveDays.clear(),Qt.todayWorkers.clear(),Qt.smartMessages.clear(),Qt.todayString=null,Qt.todayDate=null,Qt.lastCacheTime=e,Qt.lastGenerationTime=0)},EY=()=>{K0(!0)},nj=()=>(K0(),Qt.todayString||(Qt.todayString=new Date().toISOString().split("T")[0]),Qt.todayString),ij=()=>{if(K0(),!Qt.todayDate){const t=new Date;Qt.todayDate={year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate(),day:t.getDay()}}return Qt.todayDate},_Y=t=>!t||typeof t!="string"?!1:zn.REST_SHIFTS.includes(t.trim()),Nl=t=>{if(!t||typeof t!="string")return!1;const e=t.trim();return e!==""&&!_Y(e)},IY=(t,e,r)=>`${t}-${String(e).padStart(2,"0")}-${String(r).padStart(2,"0")}`,SY=t=>t.timeRestriction?im(t.startTime,t.endTime):!0,TY=(t,e)=>(t=t.replace(/\{早班同事\}/g,e.morning.length>0?e.morning.join("、"):""),t=t.replace(/\{中班同事\}/g,e.afternoon.length>0?e.afternoon.join("、"):""),t=t.replace(/\{晚班同事\}/g,e.evening.length>0?e.evening.join("、"):""),t=t.replace(/\{所有同事\}/g,e.all.length>0?e.all.join("、"):""),t),FY=(t,e)=>(t=t.replace(/\{早班人數\}/g,e.morning.length.toString()),t=t.replace(/\{中班人數\}/g,e.afternoon.length.toString()),t=t.replace(/\{晚班人數\}/g,e.evening.length.toString()),t=t.replace(/\{總人數\}/g,e.all.length.toString()),t),UY=(t,e,r)=>(t=t.replace(/\{([^}]+)\}連續上班\{(\d+)\}/g,(n,i,s)=>{const a=Object.keys(r).find(o=>r[o]===i);if(a){const o=sp(e,a,r);return`${i}連續上班${o}天`}return n}),t=t.replace(/\{([^}]+)\}連續上班天數/g,(n,i)=>{const s=Object.keys(r).find(a=>r[a]===i);if(s){const a=sp(e,s,r);return`${i}連續上班${a}天`}return n}),t),PY=(t,e,r)=>(t=t.replace(/\{連續上班同事\}/g,()=>{const n=mu(e,r,zn.MIN_CONSECUTIVE_DAYS,zn.MAX_CONSECUTIVE_DAYS);if(n.length>0){const i={};return n.forEach(a=>{i[a.consecutiveDays]||(i[a.consecutiveDays]=[]),i[a.consecutiveDays].push(a.name)}),Object.entries(i).map(([a,o])=>o.length===1?`${o[0]}連續上班${a}天`:`${o.join("、")}連續上班${a}天`).join("、")}return""}),t=t.replace(/\{連續上班同事數量\}/g,()=>mu(e,r,zn.MIN_CONSECUTIVE_DAYS,zn.MAX_CONSECUTIVE_DAYS).length.toString()),t),NY=(t,e,r)=>(t=t.replace(/\{連續上班(\d+)天同事\}/g,(n,i)=>{const s=parseInt(i),a=mu(e,r,s,s);if(a.length>0){const o=a.map(A=>A.name);return o.length===1?o[0]:o.join("、")}return""}),t=t.replace(/\{連續上班(\d+)天同事數量\}/g,(n,i)=>{const s=parseInt(i);return mu(e,r,s,s).length.toString()}),t),QY=t=>(t=t.replace(/\s*[，、]\s*$/g,""),t=t.replace(/^\s*[，、]\s*/g,""),t=t.replace(/\s+/g," "),t),kY=(t,e,r)=>{if((t.message.includes("{連續上班同事}")||t.message.includes("{連續上班同事數量}"))&&mu(e,r,zn.MIN_CONSECUTIVE_DAYS,zn.MAX_CONSECUTIVE_DAYS).length===0)return!1;const n=t.message.match(/\{連續上班(\d+)天同事\}/g);if(n)for(const i of n){const s=i.match(/\{連續上班(\d+)天同事\}/);if(s){const a=parseInt(s[1]);if(mu(e,r,a,a).length===0)return!1}}return!0},OY=(t,e,r)=>{if(!t||!Array.isArray(t)||t.length===0)return[];const n=sj(e);return n.length>0&&aj(n,r),t.filter(i=>i.enabled).map(i=>{const s=LY(i,e,r);return s&&typeof s=="string"&&s.trim()!==""?{id:`schedule-${i.id||i.name}`,type:"schedule",priority:2,message:s,source:`班表模板: ${i.name}`}:null}).filter(Boolean)},im=(t,e)=>{const r=new Date,n=r.getHours(),i=r.getMinutes(),s=n*60+i,[a,o]=t.split(":").map(Number),[A,l]=e.split(":").map(Number),u=a*60+o,d=A*60+l;return d<u?s>=u||s<=d:s>=u&&s<=d},DY=()=>["日","一","二","三","四","五","六"][new Date().getDay()],jY=(t,e)=>{const r=new Date;return r.getMonth()+1===t&&r.getDate()===e},RY=t=>new Date().getDate()===t,MY=t=>{if(!t||typeof t!="object")return[];const e=[],r=ij();for(const[n,i]of Object.entries(t))if(n!=="_lastUpdated"&&i&&typeof i=="object"){for(const[s,a]of Object.entries(i))if(Nl(a)){const o=parseInt(s);if(o===r.date){const A={id:`${n}_${o}`,date:IY(r.year,r.month,o),shift:a,employee:n};e.push(A)}}}return e},sj=t=>{if(!t)return[];if(Array.isArray(t)){const e=nj();return t.filter(n=>{const a=new Date(n.date).toISOString().split("T")[0]===e,o=Nl(n.shift);return a&&o})}else return MY(t)},sp=(t,e,r={})=>{var i,s,a;if(!t||!e)return 0;K0();const n=`${e}_${JSON.stringify(t)}`;if(Qt.consecutiveDays.has(n))return Qt.consecutiveDays.get(n);if(r[e],Array.isArray(t)){const o=nj();if(!t.find(d=>d.employee===e&&new Date(d.date).toISOString().split("T")[0]===o))return 0;let l=0,u=new Date;for(;;){const d=u.toISOString().split("T")[0],f=t.find(g=>g.employee===e&&new Date(g.date).toISOString().split("T")[0]===d);if(f&&Nl(f.shift))l++,u.setDate(u.getDate()-1);else break}return Qt.consecutiveDays.set(n,l),l}else{const o=ij(),A=(i=t[e])==null?void 0:i[o.date];if(!Nl(A))return 0;let l=0,u=o.date;for(;u>=1;){const d=(s=t[e])==null?void 0:s[u];if(Nl(d))l++,u--;else break}if(u<1){const d=new Date,f=d.getFullYear(),g=d.getMonth()+1;let m,p;g===1?(m=f-1,p=12):(m=f,p=g-1);const v=`${m}-${p.toString().padStart(2,"0")}`;if(nm&&nm[v]){const y=nm[v],w=new Date(m,p,0).getDate(),B=7;for(let I=w;I>=Math.max(1,w-B+1);I--){const T=(a=y[e])==null?void 0:a[I];if(Nl(T))l++;else break}}}return Qt.consecutiveDays.set(n,l),l}},mu=(t,e={},r=zn.MIN_CONSECUTIVE_DAYS,n=zn.MAX_CONSECUTIVE_DAYS)=>{if(!t)return[];const i=[];return Array.isArray(t)?[...new Set(t.map(a=>a.employee))].forEach(a=>{const o=sp(t,a,e);if(o>=r&&o<=n){const A=e[a]||a;i.push({id:a,name:A,consecutiveDays:o})}}):Object.keys(t).filter(a=>a!=="_lastUpdated").forEach(a=>{const o=sp(t,a,e);if(o>=r&&o<=n){const A=e[a]||a;i.push({id:a,name:A,consecutiveDays:o})}}),i},aj=(t,e={})=>{const r={morning:[],afternoon:[],evening:[],all:[]};return t.forEach(n=>{const i=n.shift||"",s=n.employee||"未知",a=e[s]||s;r.all.push(a),zn.SHIFT_KEYWORDS.MORNING.some(o=>i.includes(o))?r.morning.push(a):zn.SHIFT_KEYWORDS.AFTERNOON.some(o=>i.includes(o))?r.afternoon.push(a):zn.SHIFT_KEYWORDS.EVENING.some(o=>i.includes(o))?r.evening.push(a):r.all.push(a)}),r},LY=(t,e,r={})=>{if(!t||!e||!SY(t))return null;const n=sj(e);if(n.length===0)return null;const i=aj(n,r);let s=t.message;return s=TY(s,i),s=FY(s,i),s=UY(s,e,r),s=PY(s,e,r),s=NY(s,e,r),s=QY(s),kY(t,e,r)?s:null},HY=t=>{if(!Array.isArray(t)||t.length===0)return"";const e=t.filter(r=>r&&typeof r=="string"&&r.trim()!=="");return e.length===0?"":e[Math.floor(Math.random()*e.length)]},VY=(t=null,e=[],r=[],n={})=>{const i=JSON.stringify({scheduleData:t?Object.keys(t).length:0,customRules:e.length,scheduleTemplates:r.length,namesData:Object.keys(n).length,time:new Date().toDateString()});if(Qt.smartMessages.has(i)){const o=Qt.smartMessages.get(i);if(Date.now()-o.timestamp<5*60*1e3)return o.messages}const s=DY(),a=[];if(e&&Array.isArray(e)){const o=[];for(const A of e){if(!A.enabled)continue;let l=!1;A.type==="timeRange"?l=A.allDay||im(A.startTime,A.endTime):A.type==="dayOfWeek"?l=A.day===s&&(A.allDay||im(A.startTime,A.endTime)):A.type==="specificDate"?l=jY(A.month,A.date):A.type==="monthlyDate"&&(l=RY(A.date)&&(A.allDay||im(A.startTime,A.endTime))),l&&A.messages&&Array.isArray(A.messages)&&A.messages.length>0&&A.messages.some(u=>u&&typeof u=="string"&&u.trim()!=="")&&o.push(A)}if(o.length>0){const A=o[Math.floor(Math.random()*o.length)],l=HY(A.messages);l&&l.trim()!==""&&a.push({id:`custom-${A.id||A.name}`,type:"custom",priority:1,message:l,source:`自定義規則: ${A.name}`})}}if(t&&r&&Array.isArray(r)){const o=OY(r,t,n);a.push(...o)}return Qt.smartMessages.set(i,{messages:a,timestamp:Date.now()}),a},nl=t=>/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(t),vve=t=>{if(!t.type||!t.messages||!Array.isArray(t.messages)||t.messages.length===0)return!1;switch(t.type){case"timeRange":return t.allDay||nl(t.startTime)&&nl(t.endTime);case"dayOfWeek":return["日","一","二","三","四","五","六"].includes(t.day)&&(t.allDay||nl(t.startTime)&&nl(t.endTime));case"specificDate":return t.month>=1&&t.month<=12&&t.date>=1&&t.date<=31;case"monthlyDate":return t.date>=1&&t.date<=31&&(t.allDay||nl(t.startTime)&&nl(t.endTime));default:return!1}},yve=t=>t.message&&t.message.trim()!=="",wve=()=>[{id:"1",name:"早上問候",type:"timeRange",startTime:"08:00",endTime:"10:00",allDay:!1,messages:["早安！新的一天開始了～","早上好！今天也要加油喔！","喵～早安！準備好迎接新的一天了嗎？"],enabled:!1},{id:"2",name:"午休提醒",type:"timeRange",startTime:"12:00",endTime:"13:00",allDay:!1,messages:["午休時間到了，記得休息一下喔～","喵～該吃午餐了！","午休愉快！"],enabled:!1},{id:"3",name:"週三進貨提醒",type:"dayOfWeek",day:"三",startTime:"14:00",endTime:"16:00",allDay:!1,messages:["週三下午進貨時間到了，加油！","喵～進貨時間！","週三進貨，辛苦了！"],enabled:!1},{id:"4",name:"週末問候",type:"dayOfWeek",day:"六",startTime:"09:00",endTime:"11:00",allDay:!1,messages:["週末愉快！好好休息喔～","喵～週末快樂！","週末愉快！享受美好時光～"],enabled:!1},{id:"5",name:"每月1號提醒",type:"monthlyDate",date:1,startTime:"08:00",endTime:"10:00",allDay:!1,messages:["新的月份開始了！大家加油！","喵～新的月份，新的開始！","每月1號，重新出發！"],enabled:!1},{id:"6",name:"週末全天問候",type:"dayOfWeek",day:"六",startTime:"08:00",endTime:"10:00",allDay:!0,messages:["週末愉快！好好享受假期～","喵～週末快樂！全天陪伴你！","週末愉快！放鬆心情～"],enabled:!1}],xve=()=>[{id:"1",name:"早班問候",message:"{早班同事}，早安！今天也要加油喔！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"2",name:"晚班問候",message:"{晚班同事}，晚安！今天辛苦了！",enabled:!1,timeRestriction:!1,startTime:"18:00",endTime:"20:00"},{id:"3",name:"全體問候",message:"{所有同事}，工作辛苦了！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"4",name:"人數統計",message:"今天有{總人數}位同事上班，加油！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"5",name:"連續上班關心",message:"{連續上班同事}，辛苦了！記得適時休息喔～",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"6",name:"連續上班鼓勵",message:"{連續上班同事}，真是勤奮！繼續保持！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"7",name:"連續上班提醒",message:"提醒：{連續上班同事}，請注意工作時數安排",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"8",name:"連續上班統計",message:"今天有{連續上班同事數量}位同事連續上班4天以上，大家辛苦了！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"9",name:"連續上班6天提醒",message:"{連續上班6天同事}，已經連續上班6天，請務必安排休息！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"10",name:"連續上班5天關心",message:"{連續上班5天同事}，連續上班5天辛苦了，記得適時休息喔～",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"11",name:"連續上班4天鼓勵",message:"{連續上班4天同事}，連續上班4天，工作態度值得肯定！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"12",name:"連續上班6天簡潔提醒",message:"{連續上班6天同事}，請務必安排休息！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"13",name:"連續上班5天簡潔關心",message:"{連續上班5天同事}，辛苦了，記得適時休息喔～",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"}],KY=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState([]),[i,s]=x.useState(0),[a,o]=x.useState(!1),[A,l]=x.useState(4),[u,d]=x.useState(""),[f,g]=x.useState(!0),[m,p]=x.useState(!1),[v,y]=x.useState(""),[w,B]=x.useState(""),[I,T]=x.useState(""),[F,C]=x.useState(!1),[_,S]=x.useState(!1),[P,Q]=x.useState(null),[k,N]=x.useState([]),[ae,be]=x.useState([]),[me,pe]=x.useState([]),[J,ie]=x.useState({}),[ue,Se]=x.useState(Date.now()),[ne,Pe]=x.useState([]);x.useEffect(()=>tf(Fi(or,"catSpeech","global"),j=>{if(j.exists()){const Y=j.data();e(Y.enabled||!1),n(Y.texts||[]),l(Y.intervalSeconds||4),S(Y.smartMode||!1),N(Y.customRules||[]),be(Y.scheduleTemplates||[]),d("")}else e(!1),n([]),l(4),S(!1),N([]),be([]);g(!1)},j=>{console.error("監聽設定失敗:",j),d("載入對話設定失敗"),g(!1)}),[]),x.useEffect(()=>{(async()=>{try{const{doc:j,getDoc:Y}=await ds(async()=>{const{doc:G,getDoc:W}=await Promise.resolve().then(()=>Jg);return{doc:G,getDoc:W}},void 0),M=await Y(j(or,"catSpeech","dialogueOrder"));if(M.exists()){const G=M.data();G.dialogues&&Array.isArray(G.dialogues)&&(Pe(G.dialogues),console.log("載入排序後的對話列表:",G.dialogues.length,"個對話"))}}catch(j){console.error("載入排序對話列表失敗:",j)}})()},[]),x.useEffect(()=>{if(!_)return;(async()=>{try{const{collection:j,getDocs:Y}=await ds(async()=>{const{collection:W,getDocs:L}=await Promise.resolve().then(()=>Jg);return{collection:W,getDocs:L}},void 0),M=await Y(j(or,"names")),G={};M.forEach(W=>{const L=W.data();G[W.id]=L.name}),ie(G)}catch(j){console.error("載入姓名資料失敗:",j)}})()},[_]),x.useEffect(()=>{if(!_)return;(async()=>{try{console.log("開始載入班表資料...");const{collection:j,getDocs:Y}=await ds(async()=>{const{collection:L,getDocs:Be}=await Promise.resolve().then(()=>Jg);return{collection:L,getDocs:Be}},void 0),M=await Y(j(or,"schedule")),G={};let W=null;M.forEach(L=>{const Be=L.data();G[L.id]=Be,(L.id==="currentMonth"&&!W||L.id==="nextMonth"&&!W)&&(W=Be)}),console.log("載入的班表資料:",Object.keys(G)),CY(G),Q(W)}catch(j){console.error("載入班表資料失敗:",j)}})()},[_]),x.useEffect(()=>{if(console.log("=== 智能對話生成檢查 ==="),console.log("智能模式:",_),console.log("顯示氣泡:",t),console.log("班表資料:",P?"已載入":"未載入"),console.log("班表模板:",ae.length,"個"),console.log("自定義規則:",k.length,"個"),console.log("姓名資料:",Object.keys(J).length,"個"),!_||!t){console.log("智能模式或顯示氣泡未開啟，跳過智能對話生成");return}const V=()=>{console.log("=== 開始生成智能對話 ==="),EY();const Y=VY(P,k,ae,J);if(console.log("生成的智能對話數量:",Y.length),console.log("智能對話詳情:",Y.map(M=>{var G;return{id:M.id,type:M.type,message:(G=M.message)==null?void 0:G.substring(0,30),source:M.source}})),Y.length>0){console.log("=== 簡化邏輯：直接使用智能對話 ===");const M=Y.map(L=>L.message).filter(L=>L&&L.trim()!=="");console.log("智能對話訊息:",M);const G=r.filter(L=>L&&typeof L=="string"&&L.trim()!==""&&!M.includes(L)),W=[...M,...G];if(console.log("原始普通對話:",G),console.log("合併後的對話:",W),W.length>0)console.log("設置合併後的對話:",W.length,"個"),console.log("最終對話內容:",W),pe(Y),n(W);else{const L=r.filter(Be=>Be&&typeof Be=="string"&&Be.trim()!=="");console.log("沒有有效對話，使用原始對話:",L),n(L)}}else{const M=r.filter(G=>G&&typeof G=="string"&&G.trim()!=="");console.log("沒有智能對話，使用原始對話:",M),n(M)}};V();const j=setInterval(V,30*1e3);return()=>clearInterval(j)},[_,t,P,k,ae,J,ue,ne]),x.useEffect(()=>{if(r.length>0){if(i>=r.length)s(0);else if(!r[i]||typeof r[i]!="string"||r[i].trim()===""){const V=r.findIndex(j=>j&&typeof j=="string"&&j.trim()!=="");s(V!==-1?V:0)}}},[r,i]),x.useEffect(()=>{if(!t||r.length===0)return;const V=setInterval(()=>{o(!0),setTimeout(()=>{s(j=>j>=r.length||j===r.length-1?0:j+1),o(!1)},300)},A*1e3);return()=>clearInterval(V)},[t,r.length,A]);const Ye=()=>{Se(Date.now())};x.useEffect(()=>{const V=j=>{j.ctrlKey&&j.altKey&&j.key==="A"&&p(!0),j.ctrlKey&&j.key==="R"&&_&&(j.preventDefault(),Ye())};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[_]);const D=async()=>{if(!v.trim()||!w.trim()){T("請輸入信箱和密碼");return}try{C(!0),T("");const{signInWithEmailAndPassword:V}=await ds(async()=>{const{signInWithEmailAndPassword:j}=await Promise.resolve().then(()=>yY);return{signInWithEmailAndPassword:j}},void 0);await V(rj,v,w),p(!1),y(""),B("")}catch(V){console.error("登入失敗:",V);let j="登入失敗";switch(V.code){case"auth/user-not-found":j="找不到此帳號";break;case"auth/wrong-password":j="密碼錯誤";break;case"auth/invalid-email":j="信箱格式錯誤";break;case"auth/too-many-requests":j="登入次數過多，請稍後再試";break;default:j="登入失敗："+V.message}T(j)}finally{C(!1)}};return f?c.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:c.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}):u?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:c.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),c.jsx("div",{className:"mt-2 mb-0 animate-fadeIn",children:c.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-2",children:c.jsx("div",{className:"text-red-400 text-center text-sm",children:u})})})]}):!t||r.length===0?c.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:c.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}):c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:c.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),c.jsx("div",{className:"mt-2 mb-0 animate-fadeIn",children:c.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-2xl p-2 border border-primary/20 backdrop-blur-sm shadow-lg relative",children:[_&&c.jsx("button",{onClick:Ye,className:"absolute top-1 right-1 w-6 h-6 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100 z-10",title:"刷新智能對話 (Ctrl+R)",children:c.jsx("svg",{className:"w-3 h-3 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),c.jsx("div",{className:"relative",children:c.jsx("div",{className:`text-white text-center text-lg leading-relaxed min-h-[1.2rem] flex items-center justify-center transition-all duration-300 ${a?"opacity-0 transform translate-y-2":"opacity-100 transform translate-y-0"}`,children:(()=>{const V=r[i];if(V&&typeof V=="string"&&V.trim()!=="")return V;if(r.length===0)return"喵～";{const j=r.findIndex((Y,M)=>M>i&&Y&&typeof Y=="string"&&Y.trim()!=="");if(j!==-1)return r[j];{const Y=r.findIndex(M=>M&&typeof M=="string"&&M.trim()!=="");return Y!==-1?r[Y]:"喵～"}}})()})})]})}),m&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-surface rounded-xl p-6 w-96 border border-primary/20",children:[c.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"管理員登入"}),c.jsx("input",{type:"email",placeholder:"管理員信箱",value:v,onChange:V=>y(V.target.value),disabled:F,className:"w-full mb-3 p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:opacity-50",onKeyPress:V=>V.key==="Enter"&&!F&&D()}),c.jsx("input",{type:"password",placeholder:"密碼",value:w,onChange:V=>B(V.target.value),disabled:F,className:"w-full mb-4 p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:opacity-50",onKeyPress:V=>V.key==="Enter"&&!F&&D()}),I&&c.jsx("div",{className:"text-red-400 text-sm mb-3 bg-red-500/10 border border-red-500/20 rounded-lg p-2",children:I}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:D,disabled:F,className:"flex-1 bg-primary text-white p-3 rounded-lg hover:bg-primary/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:F?"登入中...":"登入"}),c.jsx("button",{onClick:()=>p(!1),disabled:F,className:"flex-1 bg-white/10 text-white p-3 rounded-lg hover:bg-white/20 transition-colors disabled:opacity-50",children:"取消"})]})]})})]})},$Y="/Brainless/assets/logo-cat-CbWHoD5g.png";function GY(){return c.jsx("header",{className:"bg-surface text-white",children:c.jsx("div",{className:"container-custom py-4 md:py-6",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("div",{className:"flex items-center gap-4 relative",children:[c.jsx("img",{src:$Y,alt:"Cat Logo",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full border-2 border-primary p-1 logo logo-glow logo-float"}),c.jsxs("div",{className:"flex flex-col items-start gap-1",children:[c.jsx("h1",{className:"text-2xl sm:text-4xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Brainless"}),c.jsx(B$,{})]})]}),c.jsx(KY,{})]})})})}function zY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const WY=x.forwardRef(zY);function YY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const T2=x.forwardRef(YY);function XY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const qY=x.forwardRef(XY);function JY({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const ZY=x.forwardRef(JY);function eX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))}const nf=x.forwardRef(eX);function tX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const vd=x.forwardRef(tX);function rX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const oj=x.forwardRef(rX);function nX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const iX=x.forwardRef(nX);function sX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const cb=x.forwardRef(sX);function aX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const db=x.forwardRef(aX);function oX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Kh=x.forwardRef(oX);function AX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const fb=x.forwardRef(AX);function lX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const uX=x.forwardRef(lX);function cX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const ts=x.forwardRef(cX);function dX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const rs=x.forwardRef(dX);function fX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const hX=x.forwardRef(fX);function gX({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Aj=x.forwardRef(gX);function mX(t){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 20v-7m0 0l6-6.5H6L12 13zm-4-9h8m-8 0l-2-2m10 2l2-2"})})}const F2=[{path:"/sandwich",label:"三明治計算器",icon:c.jsx(nf,{className:"w-5 h-5"})},{path:"/cashier",label:"收銀管理",icon:c.jsx(qY,{className:"w-5 h-5"})},{path:"/coffee-beans",label:"咖啡豆管理",icon:c.jsx(cb,{className:"w-5 h-5"})},{path:"/schedule",label:"班表管理",icon:c.jsx(vd,{className:"w-5 h-5"})},{path:"/daily-reports",label:"報表生成器",icon:c.jsx(fb,{className:"w-5 h-5"})},{path:"/poursteady",label:"手沖機調整",icon:c.jsx(ZY,{className:"w-5 h-5"})},{path:"/alcohol",label:"酒精計算",icon:c.jsx(mX,{className:"w-5 h-5"})}];function pX(){const[t,e]=x.useState(!1),[r,n]=x.useState(!0),[i,s]=x.useState("");if(x.useEffect(()=>{let o=!0;const A=rj.onAuthStateChanged(async l=>{if(o){if(l)try{const u=await BY(l.uid);o&&(e(u),s(""))}catch(u){console.error("檢查管理員狀態失敗:",u),o&&(e(!1),s("權限檢查失敗"))}else o&&(e(!1),s(""));o&&n(!1)}});return()=>{o=!1,A()}},[]),r)return c.jsx("nav",{className:"bg-surface sticky top-0 z-50 shadow-lg",children:c.jsx("div",{className:"container-custom py-2 sm:py-4",children:c.jsxs("div",{className:"flex justify-center gap-2 sm:gap-4",children:[F2.map(({path:o,label:A,icon:l})=>c.jsxs("div",{className:"flex flex-col items-center w-[5.5rem] sm:w-28 min-h-[4.5rem] sm:min-h-20 p-2 sm:p-3 rounded-lg animate-pulse",children:[c.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-white/10 rounded mb-1.5 sm:mb-2"}),c.jsx("div",{className:"w-12 h-3 bg-white/10 rounded text-xs sm:text-sm"})]},o)),c.jsxs("div",{className:"flex flex-col items-center w-[5.5rem] sm:w-28 min-h-[4.5rem] sm:min-h-20 p-2 sm:p-3 rounded-lg animate-pulse",children:[c.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-white/10 rounded mb-1.5 sm:mb-2"}),c.jsx("div",{className:"w-12 h-3 bg-white/10 rounded text-xs sm:text-sm"})]})]})})});const a=[...F2,...t?[{path:"/admin",label:"管理設定",icon:c.jsx(db,{className:"w-5 h-5"})}]:[]];return c.jsx("nav",{className:"bg-surface sticky top-0 z-50 shadow-lg",children:c.jsxs("div",{className:"container-custom py-2 sm:py-4",children:[i&&c.jsx("div",{className:"mb-4 bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"text-amber-500",children:"⚠️"}),c.jsx("p",{className:"text-amber-400 text-sm",children:i})]})}),c.jsx("div",{className:"flex justify-center gap-2 sm:gap-4",children:a.map(({path:o,label:A,icon:l})=>c.jsxs(y$,{to:o,className:({isActive:u})=>`
                flex flex-col items-center
                w-[5.5rem] sm:w-28
                min-h-[4.5rem] sm:min-h-20
                p-2 sm:p-3
                rounded-lg
                transition-all duration-200
                ${u?"text-primary bg-primary/10":"text-text-secondary hover:text-text-primary hover:bg-white/5"}
              `,children:[c.jsx("div",{className:"mb-1.5 sm:mb-2",children:lA.cloneElement(l,{className:"w-6 h-6 sm:w-7 sm:h-7"})}),c.jsx("div",{className:"text-xs sm:text-sm text-center leading-tight",children:A})]},o))})]})})}function vX({children:t}){return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(GY,{}),c.jsx(pX,{}),c.jsx("main",{className:"py-6",children:c.jsx("div",{className:"container-custom",children:t})})]})}function yX(){return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary border-t-transparent"}),c.jsx("p",{className:"text-text-secondary animate-pulse",children:"載入中..."})]})})}function wX(){return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h1",{className:"text-4xl font-bold text-red-500",children:"出錯了！"}),c.jsx("p",{className:"text-text-secondary",children:"抱歉，頁面載入時發生錯誤。"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"重新載入"})]})})}class xX extends lA.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r),this.setState({error:e,errorInfo:r})}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsx("div",{className:"bg-red-500/20 border border-red-400/30 rounded-xl p-8 max-w-md mx-4",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-4xl mb-4",children:"⚠️"}),c.jsx("h2",{className:"text-xl font-bold text-red-300 mb-4",children:"班表管理出現錯誤"}),c.jsx("p",{className:"text-gray-300 mb-6",children:"系統遇到意外錯誤，請重新整理頁面或聯繫管理員"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-300 rounded-lg transition-all duration-200",children:"重新整理頁面"}),!1]})})}):this.props.children}}function bX(t){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 21.5c4.5 0 7.5-3 7.5-7.5C19.5 8.5 12 2.5 12 2.5S4.5 8.5 4.5 14c0 4.5 3 7.5 7.5 7.5z"})})}const _i={hot:[40,78,120,162,200,230],cold:{"150ml":[40,58,80,102,120,150],"140ml":[40,58,80,102,120,140],"130ml":[40,58,80,102,120,130]}},$h={hot:[40,38,42,42,38,30],cold:{"150ml":[40,18,22,22,18,30],"140ml":[40,18,22,22,18,20],"130ml":[40,18,22,22,18,10]}};function BX(){const[t,e]=x.useState("hot"),[r,n]=x.useState("150ml"),[i,s]=x.useState({hot:Array(6).fill(""),cold:Array(6).fill("")}),a=(u,d)=>{const f=[...i[t]];f[u]=d,f.map((g,m)=>g===""?_i[t][m]:Number(g)),s({...i,[t]:f})},o=()=>{s({...i,[t]:Array(6).fill("")})},A=u=>{n(u),s({...i,cold:Array(6).fill("")})},l=u=>{const d=i[t][u];return t==="hot"?d===""?_i.hot[u]:Number(d):d===""?_i.cold[r][u]:Number(d)};return c.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6 sm:space-y-8",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:c.jsx(bX,{className:"w-6 h-6 text-primary"})}),c.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Poursteady 注水量調整"})]}),c.jsx("button",{onClick:o,className:`
            w-full sm:w-auto px-4 py-2 rounded-lg font-medium
            transition-all duration-200
            border border-white/10
            hover:bg-white/5
          `,children:"重設"})]}),c.jsxs("div",{className:"flex gap-2 bg-surface/30 p-1.5 rounded-xl w-full sm:w-fit",children:[c.jsx("button",{onClick:()=>e("hot"),className:`
            flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
            transition-all duration-200
            ${t==="hot"?"bg-gradient-to-br from-rose-500 to-amber-500 text-white shadow-lg shadow-rose-500/20":"text-text-secondary hover:bg-white/5"}
          `,children:"熱手沖"}),c.jsx("button",{onClick:()=>e("cold"),className:`
            flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
            transition-all duration-200
            ${t==="cold"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
          `,children:"冰手沖"})]}),t==="cold"&&c.jsxs("div",{className:"flex gap-2 bg-surface/30 p-1.5 rounded-xl w-full sm:w-fit",children:[c.jsx("button",{onClick:()=>A("150ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="150ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"150ml"}),c.jsx("button",{onClick:()=>A("140ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="140ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"140ml"}),c.jsx("button",{onClick:()=>A("130ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="130ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"130ml"})]}),c.jsx("div",{className:"grid gap-4",children:(t==="hot"?_i.hot:_i.cold[r]).map((u,d)=>{const f=l(d),g=d>0?l(d-1):0,m=d===0?f:f-g,p=t==="hot"?$h.hot[d]:$h.cold[r][d],v=Math.round(m-p);return c.jsx("div",{className:`
                bg-gradient-to-br from-surface/30 to-surface/20
                rounded-xl p-5 space-y-4 border border-white/5
                transition-all duration-300 hover:shadow-lg
                ${t==="hot"?"hover:border-rose-500/20":"hover:border-blue-500/20"}
              `,children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`
                    w-8 h-8 rounded-full flex items-center justify-center font-bold
                    ${t==="hot"?"bg-gradient-to-br from-rose-400/20 to-amber-400/20 text-rose-400":"bg-gradient-to-br from-blue-400/20 to-cyan-400/20 text-blue-400"}
                  `,children:d+1}),c.jsxs("div",{children:[c.jsxs("div",{className:"font-medium",children:["第 ",d+1," 段注水"]}),c.jsxs("div",{className:"text-sm text-text-secondary",children:["累計標準: ",u," ml",c.jsxs("span",{className:"block sm:inline sm:ml-2",children:["單段標準: ",p," ml"]})]})]})]}),c.jsx("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-end",children:c.jsxs("div",{className:"w-full sm:w-32 text-center",children:[c.jsx("input",{type:"number",value:i[t][d],onChange:y=>a(d,y.target.value),placeholder:_i[t][d],step:"0.1",className:`
                        w-full sm:w-24 text-center rounded-lg px-2 py-1.5 text-lg font-bold
                        bg-white/5 border border-white/10 focus:outline-none
                        focus:ring-1 ${t==="hot"?"focus:ring-rose-500":"focus:ring-blue-500"}
                      `}),v!==0&&c.jsxs("div",{className:`text-xs mt-1 ${v>0?"text-green-400":"text-red-400"}`,children:[v>0?`+${v}`:v," ml"]})]})})]})},d)})}),c.jsx("div",{className:`
        bg-gradient-to-br from-surface/30 to-surface/20
        rounded-xl p-5 border border-white/5
        ${t==="hot"?"hover:border-rose-500/20":"hover:border-blue-500/20"}
      `,children:c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-text-secondary",children:"總注水量"}),c.jsxs("div",{className:"text-2xl sm:text-3xl font-bold mt-1",children:[l(5)," ml"]}),(()=>{const u=l(5),d=t==="hot"?_i.hot[5]:_i.cold[r][5],f=Math.round(u-d);return f!==0?c.jsxs("div",{className:`text-sm mt-1 ${f>0?"text-green-400":"text-red-400"}`,children:[f>0?`+${f}`:f," ml"]}):null})()]}),c.jsxs("div",{className:"text-right w-full sm:w-auto",children:[c.jsx("div",{className:"text-sm text-text-secondary",children:"標準總量"}),c.jsxs("div",{className:"text-xl mt-1",children:[t==="hot"?_i.hot[5]:_i.cold[r][5]," ml"]}),c.jsx("div",{className:`
              text-xs mt-2 px-2 py-1 rounded-full w-fit ml-auto
              ${t==="hot"?"bg-rose-500/10 text-rose-400":"bg-blue-500/10 text-blue-400"}
            `,children:t==="hot"?"熱手沖":"冰手沖"})]})]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`
            w-1 h-5 rounded-full
            ${t==="hot"?"bg-rose-400":"bg-blue-400"}
          `}),c.jsx("h2",{className:"font-medium",children:"需調整水量"})]}),c.jsx("div",{className:"grid gap-2",children:(t==="hot"?$h.hot:$h.cold[r]).map((u,d)=>{const f=l(d),g=d>0?l(d-1):0,m=d===0?f:f-g,p=Math.round(u-m);return p===0?null:c.jsxs("div",{className:`
                  flex items-center justify-between
                  px-4 py-2 rounded-lg
                  ${t==="hot"?"bg-rose-500/5":"bg-blue-500/5"}
                `,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`
                    w-6 h-6 rounded-full 
                    flex items-center justify-center 
                    text-sm font-medium
                    ${t==="hot"?"bg-rose-400/10 text-rose-400":"bg-blue-400/10 text-blue-400"}
                  `,children:d+1}),c.jsxs("span",{children:["第 ",d+1," 段注水"]})]}),c.jsxs("span",{className:`
                  text-sm px-3 py-1 rounded-full font-medium
                  ${p>0?"bg-green-400/10 text-green-400":"bg-red-400/10 text-red-400"}
                `,children:[p>0?`+${p}`:p," ml"]})]},d)})})]})]})}function CX(t){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 20v-7m0 0l6-6.5H6L12 13zm-4-9h8m-8 0l-2-2m10 2l2-2"})})}function EX(){const[t,e]=x.useState([{volume:"",concentration:"",unit:"ml",id:Date.now()}]),[r,n]=x.useState({method:"volume",volume:"",cubes:"",cubeWeight:""}),[i,s]=x.useState(null),[a,o]=x.useState("ml"),A=(p,v,y)=>{if(!p)return"";const w=parseFloat(p);return v===y?w:v==="shot"?w*30:w/30},l=()=>{e([...t,{volume:"",concentration:"",unit:"ml",id:Date.now()}])},u=p=>{t.length>1&&e(t.filter(v=>v.id!==p))},d=(p,v,y)=>{e(t.map(w=>w.id===p?{...w,[v]:y}:w))},f=p=>{e(t.map(v=>{if(v.id!==p)return v;const y=v.unit==="shot"?"ml":"shot";return{...v,unit:y,volume:A(v.volume,v.unit,y).toString()}}))},g=()=>{const p=t.reduce((I,{volume:T,concentration:F,unit:C})=>{const _=parseFloat(T)||0,S=C==="shot"?_*30:_,P=parseFloat(F)||0;return I+S*(P/100)},0),v=t.reduce((I,{volume:T,unit:F})=>{const C=parseFloat(T)||0;return I+(F==="shot"?C*30:C)},0);let y=0;if(r.method==="volume")y=parseFloat(r.volume)||0;else{const I=parseFloat(r.cubes)||0,T=parseFloat(r.cubeWeight)||0;y=I*T}const w=v+y,B=p/w*100;s({originalConcentration:p/v*100,finalConcentration:B,totalVolume:w,pureAlcohol:p,meltedIceVolume:y})},m=()=>{e([{volume:"",concentration:"",unit:"ml",id:Date.now()}]),n({method:"volume",volume:"",cubes:"",cubeWeight:""}),s(null)};return c.jsx("div",{className:"container-custom py-8",children:c.jsx("div",{className:"max-w-2xl mx-auto px-4",children:c.jsxs("div",{className:"bg-surface rounded-2xl p-6 shadow-xl",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsxs("div",{className:"inline-flex items-center justify-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-blue-500/20 to-cyan-500/20",children:c.jsx(CX,{className:"w-8 h-8 text-blue-400"})}),c.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"酒精濃度計算器"})]})}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white/5 rounded-xl p-6 space-y-4",children:[c.jsxs("h2",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-5 bg-blue-400 rounded-full"}),"酒類清單"]}),c.jsx("div",{className:"space-y-4",children:t.map((p,v)=>c.jsxs("div",{className:"bg-white/5 rounded-lg p-4 transition-all duration-200 hover:bg-white/10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"text-sm font-medium text-blue-400",children:["酒類 ",v+1]}),t.length>1&&c.jsx("button",{onClick:()=>u(p.id),className:"p-1 rounded-lg hover:bg-red-500/10 text-red-400 transition-colors",children:c.jsx(Aj,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("label",{className:"text-sm text-text-secondary",children:"容量"}),c.jsx("button",{onClick:()=>f(p.id),className:`text-xs px-2 py-0.5 rounded-full bg-blue-500/10 
                                     hover:bg-blue-500/20 transition-colors text-blue-400`,children:p.unit==="shot"?"ml":"shot"})]}),c.jsx("input",{type:"number",value:p.volume,onChange:y=>d(p.id,"volume",y.target.value),className:"input-field w-full",placeholder:p.unit==="shot"?"1 shot = 30ml":"輸入毫升",min:"0",step:p.unit==="shot"?"0.5":"1"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"濃度 (%)"}),c.jsx("input",{type:"number",value:p.concentration,onChange:y=>d(p.id,"concentration",y.target.value),className:"input-field w-full",placeholder:"輸入濃度",min:"0",max:"100"})]})]})]},p.id))}),c.jsx("button",{onClick:l,className:`w-full py-3 rounded-lg border-2 border-dashed border-blue-500/30
                         hover:bg-blue-500/5 text-blue-400
                         transition-all duration-200 group`,children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx(ts,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),c.jsx("span",{className:"text-sm font-medium",children:"添加酒類"})]})})]}),c.jsxs("div",{className:"bg-white/5 rounded-xl p-6",children:[c.jsxs("h2",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-5 bg-blue-400 rounded-full"}),"融冰計算"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{onClick:()=>n(p=>({...p,method:"volume"})),className:`p-3 rounded-lg transition-all duration-200 ${r.method==="volume"?"bg-blue-500 text-white shadow-lg shadow-blue-500/25":"bg-white/5 hover:bg-white/10 text-text-secondary"}`,children:[c.jsx("div",{className:"text-sm font-medium",children:"直接輸入體積"}),c.jsx("div",{className:"text-xs mt-1 opacity-60",children:"手動輸入融冰量"})]}),c.jsxs("button",{onClick:()=>n(p=>({...p,method:"cubes"})),className:`p-3 rounded-lg transition-all duration-200 ${r.method==="cubes"?"bg-blue-500 text-white shadow-lg shadow-blue-500/25":"bg-white/5 hover:bg-white/10 text-text-secondary"}`,children:[c.jsx("div",{className:"text-sm font-medium",children:"計算冰塊體積"}),c.jsx("div",{className:"text-xs mt-1 opacity-60",children:"根據冰塊計算"})]})]}),c.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:r.method==="volume"?c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"融冰體積 (ml)"}),c.jsx("input",{type:"number",value:r.volume,onChange:p=>n(v=>({...v,volume:p.target.value})),className:"input-field w-full",placeholder:"輸入預計融化的體積",min:"0"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"冰塊數量"}),c.jsx("input",{type:"number",value:r.cubes,onChange:p=>n(v=>({...v,cubes:p.target.value})),className:"input-field w-full",placeholder:"輸入數量",min:"0"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"每個冰塊重量 (g)"}),c.jsx("input",{type:"number",value:r.cubeWeight,onChange:p=>n(v=>({...v,cubeWeight:p.target.value})),className:"input-field w-full",placeholder:"輸入冰塊重量",min:"0"})]})]}),r.cubes&&r.cubeWeight&&c.jsxs("div",{className:"text-sm bg-blue-500/10 text-blue-400 rounded-lg p-3",children:["預計融化體積：",(parseFloat(r.cubes)*parseFloat(r.cubeWeight)).toFixed(0)," ml"]})]})})]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:g,className:`flex-1 py-3 rounded-lg bg-gradient-to-r from-blue-500 to-cyan-500
                         text-white font-medium shadow-lg shadow-blue-500/25
                         hover:shadow-xl hover:shadow-blue-500/40 
                         transition-all duration-200`,children:"計算結果"}),c.jsx("button",{onClick:m,className:`flex-1 py-3 rounded-lg bg-white/5 hover:bg-white/10 
                         text-text-secondary transition-all duration-200`,children:"重設"})]}),i&&c.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fade-in",children:[c.jsxs("div",{className:"col-span-2 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg p-4",children:[c.jsx("div",{className:"text-sm text-gray-300",children:i.meltedIceVolume>0?"加入融冰後濃度":"酒精濃度"}),c.jsxs("div",{className:"text-3xl font-bold text-blue-400 mt-1",children:[i.finalConcentration.toFixed(2),"%"]}),i.meltedIceVolume>0&&c.jsxs("div",{className:"text-sm text-gray-300 mt-2",children:["調酒前濃度：",i.originalConcentration.toFixed(2),"%"]})]}),c.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[c.jsx("div",{className:"text-sm text-text-secondary",children:"總容量"}),c.jsx("div",{className:"text-xl font-bold mt-1",children:a==="shot"?`${(i.totalVolume/30).toFixed(1)} shot`:`${i.totalVolume.toFixed(0)} ml`}),c.jsx("div",{className:"text-sm text-text-secondary mt-1",children:a==="shot"?`${i.totalVolume.toFixed(0)} ml`:`${(i.totalVolume/30).toFixed(1)} shot`}),i.meltedIceVolume>0&&c.jsxs("div",{className:"text-sm text-text-secondary mt-1",children:["含融冰：",i.meltedIceVolume.toFixed(0)," ml"]})]}),c.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[c.jsx("div",{className:"text-sm text-text-secondary",children:"純酒精含量"}),c.jsx("div",{className:"text-xl font-bold mt-1",children:a==="shot"?`${(i.pureAlcohol/30).toFixed(1)} shot`:`${i.pureAlcohol.toFixed(0)} ml`}),c.jsx("div",{className:"text-sm text-text-secondary mt-1",children:a==="shot"?`${i.pureAlcohol.toFixed(0)} ml`:`${(i.pureAlcohol/30).toFixed(1)} shot`})]})]})]})]})})})}function _X(t,e){const[r,n]=x.useState(()=>{try{const i=window.localStorage.getItem(t);return i?JSON.parse(i):e}catch(i){return console.error(i),e}});return x.useEffect(()=>{try{window.localStorage.setItem(t,JSON.stringify(r))}catch(i){console.error(i)}},[t,r]),[r,n]}const Ee={common:{loading:"載入中...",error:"出錯了！",retry:"重試",save:"儲存",cancel:"取消",confirm:"確認",delete:"刪除",edit:"編輯"},sandwich:{title:"三明治計算器",subtitle:"選擇拉奶，選擇成功",inputsTitle:"計算輸入",inputsSubtitle:"輸入現有數量",existingHam:"現有的火腿三明治",existingSalami:"現有的臘腸三明治",distribution:"分配方式",distributionEven:"平均分配",distributionHam:"優先火腿",distributionSalami:"優先臘腸",extraBagsLabel:"額外需要的麵包包數",calculate:"計算結果",reset:"重設輸入",resultsTitle:"計算結果",resultsSubtitle:"製作需求總覽",needHam:"需製作的火腿三明治",needSalami:"需製作的臘腸三明治",needBags:"需要的麵包數量",totalNeed:"總計需求",emptyHint:"點擊計算按鈕查看結果"},sandwichUi:{summaryTarget:"目標",summaryExisting:"現有",summaryToMake:"需製作",unitPiece:"個",unitBag:"包",capacityTitle:"容量與分配資訊",capacityFormula:"容量 = 包數 × 每包數量",capacityLeftover:"剩餘切片 = 容量 − 需求",capacityDistributionTitle:"分配方式",capacityEvenDetail:"平均分配：多出的切片會均分到火腿與臘腸",capacityHamDetail:"優先火腿：多出的切片全分給火腿",capacitySalamiDetail:"優先臘腸：多出的切片全分給臘腸",capacityActual:"本次實際分配",hamProgress:"火腿達成度",salamiProgress:"臘腸達成度",inputPlaceholderNumber:"輸入個數",tooltipEven:"平均分配多出的切片",tooltipHam:"多出的切片優先給火腿",tooltipSalami:"多出的切片優先給臘腸"},settings:{title:"基本設定",subtitle:"調整計算參數",breadPerBag:"每包麵包的數量",targetHam:"目標火腿三明治數量",targetSalami:"目標臘腸三明治數量",done:"完成設定"}};function il(t){const e=parseInt(t,10);return Number.isFinite(e)?e:0}function U2(t,e){const r=Math.max(1,il(e.breadPerBag)),n=Math.max(0,il(e.targetHam)),i=Math.max(0,il(e.targetSalami)),s=Math.max(0,il(t.existingHam)),a=Math.max(0,il(t.existingSalami)),o=Math.max(0,il(t.extraBags)),A=t.distribution||"even",l=Math.max(0,n-s),u=Math.max(0,i-a),d=l+u,g=Math.max(0,Math.ceil(d/r))+o,m=g*r,p=Math.max(0,m-d);let v=0,y=0;switch(A){case"ham":v=p;break;case"salami":y=p;break;default:v=Math.floor(p/2),y=p-v}const w=l+v,B=u+y;return{totalHamNeeded:w,totalSalamiNeeded:B,bagsNeeded:g,totalTarget:n+i,totalExisting:s+a,baseHamNeeded:l,baseSalamiNeeded:u,baseTotalNeeded:d,totalSlices:m,extraSlices:p,extraHam:v,extraSalami:y}}function IX(){const t={breadPerBag:8,targetHam:60,targetSalami:30},[e,r]=_X("sandwich_settings",t),[n,i]=x.useState({existingHam:"",existingSalami:"",extraBags:0,distribution:"even"}),[s,a]=x.useState(!1),[o,A]=x.useState(e),[l,u]=x.useState(null),[d,f]=x.useState(!0),[g,m]=x.useState(null),[p,v]=x.useState(!1);x.useEffect(()=>{let C;try{C=tf(Fi(or,"settings","sandwich"),_=>{_.exists()?r(_.data()):$o(_.ref,e).catch(S=>{console.error("創建設定文件失敗:",S)}),f(!1)},_=>{console.error("讀取設定錯誤:",_),m("無法連接到 Firebase，使用本地設定"),f(!1)})}catch(_){console.error("Firebase 初始化錯誤:",_),m("Firebase 連接失敗，使用本地設定"),f(!1)}return()=>{C&&C()}},[]),x.useEffect(()=>{s&&A(e)},[s,e]);const y=async C=>{r(C);try{await $o(Fi(or,"settings","sandwich"),C)}catch(_){console.error("更新設定錯誤:",_),m("無法同步到 Firebase，設定已保存到本地")}},w=async()=>{await y(o),a(!1)},B=()=>{const C=U2(n,e);u(C)},I=x.useMemo(()=>U2(n,e),[n,e]),T=()=>{i({existingHam:"",existingSalami:"",extraBags:0,distribution:"even"}),u(null)},F=[{value:"even",label:Ee.sandwich.distributionEven},{value:"ham",label:Ee.sandwich.distributionHam},{value:"salami",label:Ee.sandwich.distributionSalami}];return c.jsx("div",{className:"container-custom py-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent mb-2",children:Ee.sandwich.title}),c.jsx("p",{className:"text-text-secondary",children:Ee.sandwich.subtitle})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[c.jsxs("div",{className:"card bg-gradient-to-br from-surface/80 to-surface/60 border-primary/20",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:c.jsx(nf,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg sm:text-xl font-bold text-primary",children:Ee.sandwich.inputsTitle}),c.jsx("p",{className:"text-xs sm:text-sm text-text-secondary",children:Ee.sandwich.inputsSubtitle})]})]}),c.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-lg bg-primary/20 hover:bg-primary/30 border border-primary/30 text-primary transition-all duration-200 hover:scale-110",title:Ee.settings.title,children:c.jsx(db,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),d?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"})}):g?c.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 mb-4",children:c.jsxs("div",{className:"flex items-center gap-2 text-amber-400",children:[c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),c.jsx("span",{className:"text-sm font-medium",children:g})]})}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsxs("div",{className:"rounded-lg bg-white/5 border border-white/10 p-3 text-center",children:[c.jsx("div",{className:"text-xs text-text-secondary",children:Ee.sandwichUi.summaryTarget}),c.jsx("div",{className:"text-base font-semibold",children:I.totalTarget})]}),c.jsxs("div",{className:"rounded-lg bg-white/5 border border-white/10 p-3 text-center",children:[c.jsx("div",{className:"text-xs text-text-secondary",children:Ee.sandwichUi.summaryExisting}),c.jsx("div",{className:"text-base font-semibold text-text-secondary",children:I.totalExisting})]}),c.jsxs("div",{className:"rounded-lg bg-primary/10 border border-primary/30 p-3 text-center",children:[c.jsx("div",{className:"text-xs text-text-secondary",children:Ee.sandwichUi.summaryToMake}),c.jsx("div",{className:"text-lg sm:text-xl font-bold text-primary",children:I.baseTotalNeeded})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ee.sandwich.existingHam}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"number",className:"input-field w-full pr-10",placeholder:Ee.sandwichUi.inputPlaceholderNumber,min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:n.existingHam,onChange:C=>i({...n,existingHam:C.target.value})}),c.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-text-secondary text-sm",children:Ee.sandwichUi.unitPiece})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ee.sandwich.existingSalami}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"number",className:"input-field w-full pr-10",placeholder:Ee.sandwichUi.inputPlaceholderNumber,min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:n.existingSalami,onChange:C=>i({...n,existingSalami:C.target.value})}),c.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-text-secondary text-sm",children:Ee.sandwichUi.unitPiece})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ee.sandwich.distribution}),c.jsx("div",{role:"radiogroup","aria-label":Ee.sandwich.distribution,className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:F.map(C=>c.jsx("button",{role:"radio","aria-checked":n.distribution===C.value,title:C.value==="even"?Ee.sandwichUi.tooltipEven:C.value==="ham"?Ee.sandwichUi.tooltipHam:Ee.sandwichUi.tooltipSalami,onClick:()=>i({...n,distribution:C.value}),className:`px-3 py-2 sm:px-4 sm:py-3 rounded-lg transition-all duration-200 text-sm sm:text-base ${n.distribution===C.value?"bg-primary/20 border border-primary/30 text-primary":"bg-white/5 hover:bg-white/10 text-text-secondary border border-transparent"}`,children:c.jsx("span",{className:"font-medium",children:C.label})},C.value))})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm text-text-secondary mb-2",children:[Ee.sandwich.extraBagsLabel,"：",n.extraBags]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"range",min:"0",max:"5",step:"1",value:n.extraBags,"aria-label":Ee.sandwich.extraBagsLabel,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onTouchStart:()=>v(!0),onTouchEnd:()=>v(!1),onChange:C=>i(_=>({..._,extraBags:parseInt(C.target.value,10)||0})),className:`w-full h-3 bg-white/10 rounded-lg appearance-none cursor-pointer
                                touch-manipulation
                                [&::-webkit-slider-thumb]:appearance-none
                                [&::-webkit-slider-thumb]:w-6
                                [&::-webkit-slider-thumb]:h-6
                                [&::-webkit-slider-thumb]:rounded-full
                                [&::-webkit-slider-thumb]:bg-primary
                                [&::-webkit-slider-thumb]:cursor-pointer
                                [&::-webkit-slider-thumb]:hover:bg-primary/80
                                [&::-webkit-slider-thumb]:transition-all
                                [&::-webkit-slider-thumb]:shadow-lg
                                [&::-moz-range-thumb]:appearance-none
                                [&::-moz-range-thumb]:border-0
                                [&::-moz-range-thumb]:w-6
                                [&::-moz-range-thumb]:h-6
                                [&::-moz-range-thumb]:rounded-full
                                [&::-moz-range-thumb]:bg-primary
                                [&::-moz-range-thumb]:cursor-pointer
                                [&::-moz-range-thumb]:hover:bg-primary/80
                                [&::-moz-range-thumb]:transition-all
                                [&::-moz-range-thumb]:shadow-lg`}),p&&c.jsx("div",{className:"absolute -top-7",style:{left:`${n.extraBags/5*100}%`,transform:"translateX(-50%)"},children:c.jsx("div",{className:"px-2 py-0.5 rounded bg-primary/80 text-white text-xs shadow",children:n.extraBags})})]}),c.jsxs("div",{className:"flex justify-between text-xs text-text-secondary mt-2 px-1",children:[c.jsx("span",{children:"0"}),c.jsx("span",{children:"1"}),c.jsx("span",{children:"2"}),c.jsx("span",{children:"3"}),c.jsx("span",{children:"4"}),c.jsx("span",{children:"5"})]})]}),c.jsxs("div",{className:"space-y-3 pt-4",children:[c.jsx("button",{onClick:B,className:"btn-primary w-full py-3 sm:py-4 text-sm sm:text-base",children:Ee.sandwich.calculate}),c.jsx("button",{onClick:T,className:`w-full px-3 py-2 sm:px-4 sm:py-3 bg-white/5 hover:bg-white/10 
                              text-text-secondary rounded-lg transition-all duration-200 text-sm sm:text-base`,children:Ee.sandwich.reset})]})]})]}),c.jsxs("div",{className:"card bg-gradient-to-br from-surface/60 to-surface/40 border-primary/20",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:c.jsx(oj,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg sm:text-xl font-bold text-primary",children:Ee.sandwich.resultsTitle}),c.jsx("p",{className:"text-xs sm:text-sm text-text-secondary",children:Ee.sandwich.resultsSubtitle})]})]}),l?c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalHamNeeded}),c.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Ee.sandwich.needHam,"（",Ee.sandwichUi.unitPiece,"）"]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalSalamiNeeded}),c.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Ee.sandwich.needSalami,"（",Ee.sandwichUi.unitPiece,"）"]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:l.bagsNeeded}),c.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Ee.sandwich.needBags,"（",Ee.sandwichUi.unitBag,"）"]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalHamNeeded+l.totalSalamiNeeded}),c.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Ee.sandwich.totalNeed,"（",Ee.sandwichUi.unitPiece,"）"]})]}),c.jsxs("div",{className:"rounded-xl p-4 bg-white/5 border border-white/10 space-y-1.5",children:[c.jsx("div",{className:"text-sm font-semibold",children:Ee.sandwichUi.capacityTitle}),c.jsxs("div",{className:"text-xs text-text-secondary",children:[Ee.sandwichUi.capacityFormula,"：",l.bagsNeeded," × ",e.breadPerBag," = ",c.jsx("span",{className:"text-white font-medium",children:l.totalSlices})]}),c.jsxs("div",{className:"text-xs text-text-secondary",children:[Ee.sandwichUi.capacityLeftover,"：",c.jsx("span",{className:"text-white font-medium",children:l.extraSlices})]}),c.jsxs("div",{className:"text-xs text-text-secondary mt-2",children:[Ee.sandwichUi.capacityDistributionTitle,"：",c.jsxs("span",{className:"ml-1",children:[n.distribution==="even"&&Ee.sandwichUi.capacityEvenDetail,n.distribution==="ham"&&Ee.sandwichUi.capacityHamDetail,n.distribution==="salami"&&Ee.sandwichUi.capacitySalamiDetail]})]}),c.jsxs("div",{className:"text-xs text-text-secondary",children:[Ee.sandwichUi.capacityActual,"：",c.jsxs("span",{className:"ml-1 text-white font-medium",children:["火腿 +",l.extraHam]}),c.jsx("span",{className:"mx-2",children:"/"}),c.jsxs("span",{className:"text-white font-medium",children:["臘腸 +",l.extraSalami]})]})]})]}):c.jsxs("div",{className:"text-center py-12 text-text-secondary",children:[c.jsx(nf,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:Ee.sandwich.emptyHint})]})]})]}),s&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-surface/95 backdrop-blur-md border border-white/20 rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:c.jsx(db,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-primary",children:Ee.settings.title}),c.jsx("p",{className:"text-sm text-text-secondary",children:Ee.settings.subtitle})]})]}),c.jsx("button",{onClick:()=>a(!1),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ee.settings.breadPerBag}),c.jsx("input",{type:"number",className:"input-field w-full",min:1,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.breadPerBag,onChange:C=>A(_=>({..._,breadPerBag:parseInt(C.target.value,10)||1}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ee.settings.targetHam}),c.jsx("input",{type:"number",className:"input-field w-full",min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.targetHam,onChange:C=>A(_=>({..._,targetHam:parseInt(C.target.value,10)||0}))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Ee.settings.targetSalami}),c.jsx("input",{type:"number",className:"input-field w-full",min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.targetSalami,onChange:C=>A(_=>({..._,targetSalami:parseInt(C.target.value,10)||0}))})]})]}),c.jsxs("div",{className:"flex gap-3 mt-6",children:[c.jsx("button",{className:"flex-1 px-4 py-2 bg-primary/20 hover:bg-primary/30 text-primary rounded-lg transition-colors",onClick:w,children:Ee.settings.done}),c.jsx("button",{className:"flex-1 px-4 py-2 bg-white/5 hover:bg-white/10 text-text-secondary rounded-lg transition-colors",onClick:()=>a(!1),children:Ee.common.cancel})]})]})})]})})}const qi={brewing:{pourOver:["水洗","日曬","阿寶","台灣豆","Geisha"],espresso:["ESP","水洗"]},retail:["水洗","日曬","阿寶","季節","台灣豆","Geisha"]},Tr=["台灣豆","Geisha"],Gh={bagWeight:121,ikeaBoxWeight:365,beanWeightPerPack:19};function SX(){const[t,e]=x.useState(!1);x.useEffect(()=>{if(t)document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=`-${window.scrollY}px`;else{const D=document.body.style.top;document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.top="",D&&window.scrollTo(0,parseInt(D||"0")*-1)}return()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.top=""}},[t]);const r=x.useRef(null),[n,i]=x.useState({brewing:{pourOver:{},espresso:{}},retail:{}}),[s,a]=x.useState("bag"),[o,A]=x.useState(!1),[l,u]=x.useState({}),[d,f]=x.useState("brewing"),[g,m]=x.useState("original"),[p,v]=x.useState(()=>{const D=localStorage.getItem("coffeeBeanWeightSettings");if(D)try{return JSON.parse(D)}catch(V){return console.error("解析重量設定失敗:",V),Gh}return Gh}),[y,w]=x.useState(()=>{const D=localStorage.getItem("coffeeBeanCalculations");if(D)try{return JSON.parse(D)}catch(V){return console.error("解析計算欄位失敗:",V),[{id:1,totalWeight:"",estimatedPacks:0}]}return[{id:1,totalWeight:"",estimatedPacks:0}]});x.useEffect(()=>{const D=localStorage.getItem("coffeeBeanInventory");D&&i(JSON.parse(D));const V=localStorage.getItem("coffeeBeanWeightMode");V&&a(V)},[]),x.useEffect(()=>{localStorage.setItem("coffeeBeanWeightSettings",JSON.stringify(p))},[p]),x.useEffect(()=>{localStorage.setItem("coffeeBeanInventory",JSON.stringify(n))},[n]),x.useEffect(()=>{localStorage.setItem("coffeeBeanCalculations",JSON.stringify(y))},[y]),x.useEffect(()=>{localStorage.setItem("coffeeBeanWeightMode",s)},[s]),x.useEffect(()=>{const D=()=>{const V=document.getElementById("brewing-section"),j=document.getElementById("retail-section");if(V&&j){const Y=V.getBoundingClientRect(),M=j.getBoundingClientRect();Y.top<window.innerHeight/2&&Y.bottom>window.innerHeight/2?f("brewing"):M.top<window.innerHeight/2&&M.bottom>window.innerHeight/2&&f("retail")}};return window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[]);const B=(D,V,j)=>{var Y;if(!((Y=n[D][V])!=null&&Y[j])){const G=Tr.includes(j)?{store:[""]}:{store:[""],breakRoom:[""]};i(W=>{var L;return{...W,[D]:{...W[D],[V]:{...(L=W[D])==null?void 0:L[V],[j]:G}}}})}},I=(D,V,j,Y)=>{B(D,V,j),i(M=>{var G,W,L;return{...M,[D]:{...M[D],[V]:{...M[D][V],[j]:{...(G=M[D][V])==null?void 0:G[j],[Y]:[...((L=(W=M[D][V])==null?void 0:W[j])==null?void 0:L[Y])||[""],""]}}}}})},T=(D,V,j,Y,M,G)=>{B(D,V,j),i(W=>{var L,Be,we,Qe;return{...W,[D]:{...W[D],[V]:{...W[D][V],[j]:{...(L=W[D][V])==null?void 0:L[j],[Y]:((Qe=(we=(Be=W[D][V])==null?void 0:Be[j])==null?void 0:we[Y])==null?void 0:Qe.map((ze,zt)=>zt===M?G:ze))||[""]}}}}})},F=(D,V,j,Y,M)=>{i(G=>{var W,L,Be,we;return{...G,[D]:{...G[D],[V]:{...G[D][V],[j]:{...(W=G[D][V])==null?void 0:W[j],[Y]:((we=(Be=(L=G[D][V])==null?void 0:L[j])==null?void 0:Be[Y])==null?void 0:we.filter((Qe,ze)=>ze!==M))||[""]}}}}})},C=D=>(D==null?void 0:D.reduce((V,j)=>V+(parseInt(j)||0),0))||0,_=D=>{if(!D)return 0;let V=0;return D.store&&(V+=C(D.store)),D.breakRoom&&(V+=C(D.breakRoom)),V},S=D=>{if(!D)return 0;const V=s==="bag"?p.bagWeight:p.ikeaBoxWeight,j=D-V;return j<=0?0:Math.round(j/p.beanWeightPerPack*10)/10},P=(D,V)=>{v(j=>({...j,[D]:parseFloat(V)||0}))},Q=()=>{const D=Math.max(...y.map(V=>V.id),0)+1;w(V=>[...V,{id:D,totalWeight:"",estimatedPacks:0}])},k=D=>{y.length>1&&w(V=>V.filter(j=>j.id!==D))},N=(D,V)=>{w(j=>j.map(Y=>Y.id===D?{...Y,totalWeight:V,estimatedPacks:S(V)}:Y))},ae=()=>{A(!0);const D={};qi.brewing.pourOver.forEach(V=>{const j=n.brewing.pourOver[V],Y=C((j==null?void 0:j.store)||[]),M=Tr.includes(V)?0:C((j==null?void 0:j.breakRoom)||[]);D[`brewing-pourOver-${V}`]={store:Y.toString(),breakRoom:M.toString(),category:"brewing",subCategory:"pourOver",beanType:V}}),qi.brewing.espresso.forEach(V=>{const j=n.brewing.espresso[V],Y=C((j==null?void 0:j.store)||[]),M=Tr.includes(V)?0:C((j==null?void 0:j.breakRoom)||[]);D[`brewing-espresso-${V}`]={store:Y.toString(),breakRoom:M.toString(),category:"brewing",subCategory:"espresso",beanType:V}}),qi.retail.forEach(V=>{const j=n.retail[V],Y=C((j==null?void 0:j.store)||[]),M=Tr.includes(V)?0:C((j==null?void 0:j.breakRoom)||[]);D[`retail-${V}`]={store:Y.toString(),breakRoom:M.toString(),category:"retail",subCategory:null,beanType:V}}),u(D)},be=()=>{Object.entries(l).forEach(([D,V])=>{const{category:j,subCategory:Y,beanType:M,store:G,breakRoom:W}=V;i(j==="retail"?L=>({...L,retail:{...L.retail,[M]:{store:[G],...Tr.includes(M)?{}:{breakRoom:[W]}}}}):L=>({...L,[j]:{...L[j],[Y]:{...L[j][Y],[M]:{store:[G],...Tr.includes(M)?{}:{breakRoom:[W]}}}}}))}),A(!1),u({})},me=()=>{A(!1),u({})},pe=(D,V,j)=>{u(Y=>({...Y,[D]:{...Y[D],[V]:j}}))},J=()=>{confirm("確定要重置所有數據嗎？此操作無法復原。")&&(i({brewing:{pourOver:{},espresso:{}},retail:{}}),w([{id:1,totalWeight:"",estimatedPacks:0}]),v(Gh),a("bag"),A(!1),u({}),localStorage.removeItem("coffeeBeanInventory"),localStorage.removeItem("coffeeBeanWeightSettings"),localStorage.removeItem("coffeeBeanCalculations"),localStorage.removeItem("coffeeBeanWeightMode"))},ie=()=>{confirm("確定要回復原本的重量設定嗎？")&&(v(Gh),localStorage.removeItem("coffeeBeanWeightSettings"))},ue=()=>{const D=[];return qi.brewing.pourOver.forEach(V=>{const j=n.brewing.pourOver[V],Y=C((j==null?void 0:j.store)||[]),M=Tr.includes(V)?0:C((j==null?void 0:j.breakRoom)||[]),G=Y+M;D.push({category:"出杯豆",beanType:V,storeTotal:Y,breakRoomTotal:M,grandTotal:G})}),qi.brewing.espresso.forEach(V=>{const j=n.brewing.espresso[V],Y=C((j==null?void 0:j.store)||[]),M=Tr.includes(V)?0:C((j==null?void 0:j.breakRoom)||[]),G=Y+M;D.push({category:"義式豆",beanType:V,storeTotal:Y,breakRoomTotal:M,grandTotal:G})}),qi.retail.forEach(V=>{const j=n.retail[V],Y=C((j==null?void 0:j.store)||[]),M=Tr.includes(V)?0:C((j==null?void 0:j.breakRoom)||[]),G=Y+M;D.push({category:"賣豆",beanType:V,storeTotal:Y,breakRoomTotal:M,grandTotal:G})}),D},Se=()=>{const D=ue(),V=new Date().toLocaleDateString("zh-TW"),j={};return D.forEach(Y=>{j[Y.category]||(j[Y.category]=[]),j[Y.category].push(Y)}),`
      <div style="font-family: 'Microsoft JhengHei', Arial, sans-serif; max-width: 900px; margin: 0 auto; padding: 30px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); color: #2c3e50; min-height: 100vh;">
        <div style="background: white; border-radius: 15px; padding: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
          <div style="text-align: center; margin-bottom: 40px;">
            <h1 style="color: #2c3e50; margin: 0; font-size: 32px; font-weight: 700; text-shadow: 2px 2px 4px rgba(0,0,0,0.1);">咖啡豆盤點表</h1>
            <p style="color: #7f8c8d; margin: 10px 0 0 0; font-size: 16px;">盤點日期：${V}</p>
          </div>
          
          ${Object.entries(j).map(([Y,M])=>`
            <div style="margin-bottom: 30px;">
              <h2 style="color: white; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 12px 25px; border-radius: 10px 10px 0 0; margin: 0; font-size: 18px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                ${Y}
              </h2>
              
              <table style="width: 100%; border-collapse: collapse; background: white; border-radius: 0 0 10px 10px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.08);">
                <thead>
                  <tr style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); height: 40px;">
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">豆種</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">店面庫存</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">員休室庫存</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">總計</th>
                  </tr>
                </thead>
                <tbody>
                  ${M.map((G,W)=>`
                    <tr style="${W%2===0?"background: #f8f9fa;":"background: white;"}">
                      <td style="padding: 12px 15px; text-align: center; font-weight: 600; color: #2c3e50; border-bottom: 1px solid #ecf0f1;">${G.beanType}</td>
                      <td style="padding: 12px 15px; text-align: center; color: #34495e; border-bottom: 1px solid #ecf0f1;">${G.storeTotal}</td>
                      <td style="padding: 12px 15px; text-align: center; color: #34495e; border-bottom: 1px solid #ecf0f1;">${G.breakRoomTotal}</td>
                      <td style="padding: 12px 15px; text-align: center; font-weight: 700; color: #27ae60; background: linear-gradient(135deg, #a8e6cf 0%, #dcedc1 100%); border-bottom: 1px solid #ecf0f1;">${G.grandTotal}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          `).join("")}
        </div>
      </div>
    `},ne=()=>{const D=ue(),V=new Date().toLocaleDateString("zh-TW"),j={};return D.forEach(Y=>{j[Y.category]||(j[Y.category]=[]),j[Y.category].push(Y)}),`
      <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 900px; margin: 0 auto; padding: 40px; background: #13131a; color: #ffffff; min-height: 100vh; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;">
        <div style="background: #1e1e2e; border-radius: 20px; padding: 50px; box-shadow: 0 20px 40px rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1);">
          <div style="text-align: center; margin-bottom: 50px;">
            <h1 style="color: #6366f1; margin: 0; font-size: 36px; font-weight: 600; letter-spacing: -0.5px;">咖啡豆盤點表</h1>
            <p style="color: #94a3b8; margin: 12px 0 0 0; font-size: 17px; font-weight: 400;">盤點日期：${V}</p>
          </div>
          
          ${Object.entries(j).map(([Y,M])=>`
            <div style="margin-bottom: 40px;">
              <h2 style="color: #ffffff; background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); padding: 16px 24px; border-radius: 12px; margin: 0 0 24px 0; font-size: 20px; font-weight: 600; text-align: center; border: none; box-shadow: 0 8px 32px rgba(99, 102, 241, 0.2);">
                ${Y}
              </h2>
              
              <div style="background: #1e1e2e; border-radius: 16px; overflow: hidden; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 8px 32px rgba(0,0,0,0.2);">
                <table style="width: 100%; border-collapse: collapse; background: #1e1e2e;">
                  <thead>
                    <tr style="background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); height: 48px;">
                      <th style="padding: 0 20px; text-align: left; vertical-align: middle; font-weight: 600; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">豆種</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">店面庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">員休室庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">總計</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${M.map((G,W)=>`
                      <tr style="background: ${W%2===0?"#1e1e2e":"rgba(255,255,255,0.02)"}; transition: all 0.3s ease;">
                        <td style="padding: 16px 20px; text-align: left; font-weight: 500; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.05);">${G.beanType}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #3b82f6; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.05); font-weight: 500;">${G.storeTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #10b981; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.05); font-weight: 500;">${G.breakRoomTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; font-weight: 600; color: #6366f1; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.05); background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);">${G.grandTotal}</td>
                      </tr>
                    `).join("")}
                  </tbody>
                </table>
              </div>
            </div>
          `).join("")}
        </div>
      </div>
    `},Pe=()=>{const D=ue(),V=new Date().toLocaleDateString("zh-TW"),j={};return D.forEach(Y=>{j[Y.category]||(j[Y.category]=[]),j[Y.category].push(Y)}),`
      <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 800px; margin: 0 auto; padding: 40px; background: #fafafa; color: #1d1d1f; min-height: 100vh;">
        <div style="background: white; border-radius: 20px; padding: 50px; box-shadow: 0 8px 32px rgba(0,0,0,0.08);">
          <div style="text-align: center; margin-bottom: 50px;">
            <h1 style="color: #1d1d1f; margin: 0; font-size: 36px; font-weight: 600; letter-spacing: -0.5px;">咖啡豆盤點表</h1>
            <p style="color: #86868b; margin: 12px 0 0 0; font-size: 17px; font-weight: 400;">盤點日期：${V}</p>
          </div>
          
          ${Object.entries(j).map(([Y,M])=>`
            <div style="margin-bottom: 40px;">
              <h2 style="color: #1d1d1f; background: #f5f5f7; padding: 16px 24px; border-radius: 12px; margin: 0 0 24px 0; font-size: 20px; font-weight: 600; text-align: center; border: none;">
                ${Y}
              </h2>
              
              <div style="background: white; border-radius: 16px; overflow: hidden; border: 1px solid #e5e5e7;">
                <table style="width: 100%; border-collapse: collapse; background: white;">
                  <thead>
                    <tr style="background: #f5f5f7; height: 48px;">
                      <th style="padding: 0 20px; text-align: left; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">豆種</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">店面庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">員休室庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">總計</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${M.map((G,W)=>`
                      <tr style="background: ${W%2===0?"#fafafa":"white"};">
                        <td style="padding: 16px 20px; text-align: left; font-weight: 500; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${G.beanType}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #515154; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${G.storeTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #515154; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${G.breakRoomTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; font-weight: 600; color: #007aff; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${G.grandTotal}</td>
                      </tr>
                    `).join("")}
                  </tbody>
                </table>
              </div>
            </div>
          `).join("")}
        </div>
      </div>
    `},Ye=async()=>{try{let D;try{D=(await ds(async()=>{const{default:W}=await Promise.resolve().then(()=>rre);return{default:W}},void 0)).default}catch(W){console.error("html2canvas 載入失敗:",W),alert("匯出功能暫時無法使用，請重新整理頁面後再試");return}let V;g==="minimalist"?V=Pe():g==="web-consistent"?V=ne():V=Se();const j=document.createElement("div");j.innerHTML=V,j.style.position="absolute",j.style.left="-9999px",j.style.top="0",j.style.width="900px",j.style.height="auto",j.style.overflow="visible",document.body.appendChild(j),await new Promise(W=>setTimeout(W,500));const Y=await D(j.firstElementChild,{backgroundColor:g==="minimalist"?"#fafafa":g==="web-consistent"?"#13131a":"#ffffff",scale:1,useCORS:!0,allowTaint:!0,logging:!0,width:900,height:j.firstElementChild.scrollHeight,scrollX:0,scrollY:0,windowWidth:900,windowHeight:j.firstElementChild.scrollHeight});if(document.body.removeChild(j),!Y||Y.width===0||Y.height===0)throw new Error("Canvas 渲染失敗");const M=document.createElement("a");let G;g==="minimalist"?G="Minimalist":g==="web-consistent"?G="網頁風格":G="原始風格",M.download=`咖啡豆盤點表_${G}_${new Date().toLocaleDateString("zh-TW")}.png`,M.href=Y.toDataURL("image/png",1),M.click()}catch(D){console.error("匯出圖片失敗:",D),alert(`匯出圖片失敗：${D.message}`)}};return c.jsxs("div",{className:"container-custom py-6 space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-primary/20 to-primary/10 border border-primary/20",children:c.jsx(cb,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-primary to-purple-400 bg-clip-text text-transparent",children:"咖啡豆管理工具"}),c.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"庫存管理與重量換算"})]})]}),c.jsxs("div",{className:"flex gap-2",children:[o?c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:be,className:"px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-500/30 text-blue-400 hover:from-blue-500/30 hover:to-cyan-500/30 hover:border-blue-500/50 transition-all duration-200 flex items-center gap-2",children:[c.jsx(cb,{className:"w-4 h-4"}),"儲存盤點"]}),c.jsx("button",{onClick:me,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 hover:bg-red-500/20 hover:border-red-500/50 transition-all duration-200",children:"取消"})]}):c.jsxs("button",{onClick:ae,className:"px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30 text-green-400 hover:from-green-500/30 hover:to-emerald-500/30 hover:border-green-500/50 transition-all duration-200 flex items-center gap-2",children:[c.jsx(nf,{className:"w-4 h-4"}),"快速盤點"]}),c.jsx("button",{onClick:J,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 hover:bg-red-500/20 hover:border-red-500/50 transition-all duration-200",children:"重置數據"})]})]}),c.jsxs("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",ref:r,children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-primary mb-1",children:"咖啡豆盤點表"}),c.jsx("p",{className:"text-sm text-text-secondary",children:"即時更新庫存數量"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-surface/40 rounded-lg border border-white/10",children:[c.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[c.jsx("input",{type:"radio",value:"original",checked:g==="original",onChange:D=>m(D.target.value),className:"text-blue-400 w-3 h-3"}),c.jsx("span",{children:"原始風格"})]}),c.jsx("div",{className:"w-px h-4 bg-white/20"}),c.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[c.jsx("input",{type:"radio",value:"minimalist",checked:g==="minimalist",onChange:D=>m(D.target.value),className:"text-blue-400 w-3 h-3"}),c.jsx("span",{children:"Minimalist"})]}),c.jsx("div",{className:"w-px h-4 bg-white/20"}),c.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[c.jsx("input",{type:"radio",value:"web-consistent",checked:g==="web-consistent",onChange:D=>m(D.target.value),className:"text-blue-400 w-3 h-3"}),c.jsx("span",{children:"網頁風格"})]})]}),c.jsxs("button",{onClick:Ye,className:"px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-400/30 text-blue-400 hover:from-blue-500/30 hover:to-cyan-500/30 hover:border-blue-500/50 transition-all duration-200 flex items-center gap-2",children:[c.jsx(WY,{className:"w-4 h-4"}),"匯出圖片"]})]})]}),c.jsxs("div",{id:"brewing-section",className:"space-y-4",children:[c.jsxs("div",{className:"sticky top-0 z-30 flex items-center gap-3 mb-4 p-4 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-xl border border-blue-400/20 backdrop-blur-md",children:[c.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-blue-400 to-purple-400 rounded-full"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-blue-400",children:"出杯豆"}),c.jsx("p",{className:"text-sm text-blue-300/70",children:"用於製作飲品的咖啡豆"})]}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 animate-pulse"}),c.jsx("span",{className:"text-xs text-blue-300 font-medium",children:"當前區域"})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"sticky top-16 z-20 flex items-center gap-3 mb-3 p-3 bg-gradient-to-r from-blue-500/5 to-cyan-500/5 rounded-lg border border-blue-400/10 backdrop-blur-sm",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),c.jsx("h4",{className:"text-md font-semibold text-blue-300",children:"手沖豆"}),c.jsx("span",{className:"text-xs text-blue-300/60",children:"手沖咖啡專用"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:qi.brewing.pourOver.map(D=>{const V=Tr.includes(D),j=n.brewing.pourOver[D],Y=`brewing-pourOver-${D}`,M=l[Y];return c.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h5",{className:"font-semibold text-sm text-primary",children:D}),c.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),c.jsx("input",{type:"number",value:(M==null?void 0:M.store)||"0",onChange:G=>pe(Y,"store",G.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!V&&c.jsxs("div",{children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),c.jsx("input",{type:"number",value:(M==null?void 0:M.breakRoom)||"0",onChange:G=>pe(Y,"breakRoom",G.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),c.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:c.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt((M==null?void 0:M.store)||0)+parseInt((M==null?void 0:M.breakRoom)||0)," 包"]})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),c.jsx("button",{onClick:()=>I("brewing","pourOver",D,"store"),className:"p-1.5 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors hover:scale-110 transform",children:c.jsx(ts,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.store)||[""]).map((G,W)=>c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("input",{type:"number",value:G,onChange:L=>T("brewing","pourOver",D,"store",W,L.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-2 px-3 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all",inputMode:"decimal"}),((j==null?void 0:j.store)||[]).length>1&&c.jsx("button",{onClick:()=>F("brewing","pourOver",D,"store",W),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(rs,{className:"w-3 h-3"})})]},W))})]}),!V&&c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),c.jsx("button",{onClick:()=>I("brewing","pourOver",D,"breakRoom"),className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:c.jsx(ts,{className:"w-3 h-3"})})]}),c.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.breakRoom)||[""]).map((G,W)=>c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("input",{type:"number",value:G,onChange:L=>T("brewing","pourOver",D,"breakRoom",W,L.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.breakRoom)||[]).length>1&&c.jsx("button",{onClick:()=>F("brewing","pourOver",D,"breakRoom",W),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(rs,{className:"w-3 h-3"})})]},W))})]}),c.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-primary/10 to-transparent rounded-lg p-2",children:c.jsxs("span",{className:"text-xs font-semibold text-primary",children:[D,"：總共 ",_(j)," 包"]})})]})]},D)})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"sticky top-16 z-20 flex items-center gap-3 mb-3 p-3 bg-gradient-to-r from-purple-500/5 to-pink-500/5 rounded-lg border border-purple-400/10 backdrop-blur-sm",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),c.jsx("h4",{className:"text-md font-semibold text-purple-300",children:"義式豆"}),c.jsx("span",{className:"text-xs text-purple-300/60",children:"義式咖啡專用"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:qi.brewing.espresso.map(D=>{const V=Tr.includes(D),j=n.brewing.espresso[D],Y=`brewing-espresso-${D}`,M=l[Y];return c.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h5",{className:"font-semibold text-sm text-primary",children:D}),c.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),c.jsx("input",{type:"number",value:(M==null?void 0:M.store)||"0",onChange:G=>pe(Y,"store",G.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!V&&c.jsxs("div",{children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),c.jsx("input",{type:"number",value:(M==null?void 0:M.breakRoom)||"0",onChange:G=>pe(Y,"breakRoom",G.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),c.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:c.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt((M==null?void 0:M.store)||0)+parseInt((M==null?void 0:M.breakRoom)||0)," 包"]})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),c.jsx("button",{onClick:()=>I("brewing","espresso",D,"store"),className:"p-1 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors",children:c.jsx(ts,{className:"w-3 h-3"})})]}),c.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.store)||[""]).map((G,W)=>c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("input",{type:"number",value:G,onChange:L=>T("brewing","espresso",D,"store",W,L.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.store)||[]).length>1&&c.jsx("button",{onClick:()=>F("brewing","espresso",D,"store",W),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(rs,{className:"w-3 h-3"})})]},W))})]}),!V&&c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),c.jsx("button",{onClick:()=>I("brewing","espresso",D,"breakRoom"),className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:c.jsx(ts,{className:"w-3 h-3"})})]}),c.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.breakRoom)||[""]).map((G,W)=>c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("input",{type:"number",value:G,onChange:L=>T("brewing","espresso",D,"breakRoom",W,L.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.breakRoom)||[]).length>1&&c.jsx("button",{onClick:()=>F("brewing","espresso",D,"breakRoom",W),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(rs,{className:"w-3 h-3"})})]},W))})]}),c.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-primary/10 to-transparent rounded-lg p-2",children:c.jsxs("span",{className:"text-xs font-semibold text-primary",children:[D,"：總共 ",_(j)," 包"]})})]})]},D)})})]})]}),c.jsxs("div",{id:"retail-section",className:"space-y-4 mt-8",children:[c.jsxs("div",{className:"sticky top-0 z-30 flex items-center gap-3 mb-4 p-4 bg-gradient-to-r from-orange-500/10 to-yellow-500/10 rounded-xl border border-orange-400/20 backdrop-blur-md",children:[c.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-orange-400 to-yellow-400 rounded-full"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-orange-400",children:"賣豆"}),c.jsx("p",{className:"text-sm text-orange-300/70",children:"用於販售的咖啡豆"})]}),c.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-400 animate-pulse"}),c.jsx("span",{className:"text-xs text-orange-300 font-medium",children:"當前區域"})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:qi.retail.map(D=>{const V=Tr.includes(D),j=n.retail[D],Y=`retail-${D}`,M=l[Y];return c.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h5",{className:"font-semibold text-sm text-primary",children:D}),c.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),c.jsx("input",{type:"number",value:(M==null?void 0:M.store)||"0",onChange:G=>pe(Y,"store",G.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!V&&c.jsxs("div",{children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),c.jsx("input",{type:"number",value:(M==null?void 0:M.breakRoom)||"0",onChange:G=>pe(Y,"breakRoom",G.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),c.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:c.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt((M==null?void 0:M.store)||0)+parseInt((M==null?void 0:M.breakRoom)||0)," 包"]})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),c.jsx("button",{onClick:()=>{if(!n.retail[D]){const W=Tr.includes(D)?{store:[""]}:{store:[""],breakRoom:[""]};i(L=>({...L,retail:{...L.retail,[D]:W}}))}i(G=>{var W;return{...G,retail:{...G.retail,[D]:{...G.retail[D],store:[...((W=G.retail[D])==null?void 0:W.store)||[""],""]}}}})},className:"p-1 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors",children:c.jsx(ts,{className:"w-3 h-3"})})]}),c.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.store)||[""]).map((G,W)=>c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("input",{type:"number",value:G,onChange:L=>{if(!n.retail[D]){const we=Tr.includes(D)?{store:[""]}:{store:[""],breakRoom:[""]};i(Qe=>({...Qe,retail:{...Qe.retail,[D]:we}}))}i(Be=>{var we,Qe;return{...Be,retail:{...Be.retail,[D]:{...Be.retail[D],store:((Qe=(we=Be.retail[D])==null?void 0:we.store)==null?void 0:Qe.map((ze,zt)=>zt===W?L.target.value:ze))||[""]}}}})},placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.store)||[]).length>1&&c.jsx("button",{onClick:()=>{i(L=>{var Be,we;return{...L,retail:{...L.retail,[D]:{...L.retail[D],store:((we=(Be=L.retail[D])==null?void 0:Be.store)==null?void 0:we.filter((Qe,ze)=>ze!==W))||[""]}}}})},className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(rs,{className:"w-3 h-3"})})]},W))})]}),!V&&c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),c.jsx("button",{onClick:()=>{if(!n.retail[D]){const W=Tr.includes(D)?{store:[""]}:{store:[""],breakRoom:[""]};i(L=>({...L,retail:{...L.retail,[D]:W}}))}i(G=>{var W;return{...G,retail:{...G.retail,[D]:{...G.retail[D],breakRoom:[...((W=G.retail[D])==null?void 0:W.breakRoom)||[""],""]}}}})},className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:c.jsx(ts,{className:"w-3 h-3"})})]}),c.jsx("div",{className:"space-y-1.5",children:((j==null?void 0:j.breakRoom)||[""]).map((G,W)=>c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("input",{type:"number",value:G,onChange:L=>{if(!n.retail[D]){const we=Tr.includes(D)?{store:[""]}:{store:[""],breakRoom:[""]};i(Qe=>({...Qe,retail:{...Qe.retail,[D]:we}}))}i(Be=>{var we,Qe;return{...Be,retail:{...Be.retail,[D]:{...Be.retail[D],breakRoom:((Qe=(we=Be.retail[D])==null?void 0:we.breakRoom)==null?void 0:Qe.map((ze,zt)=>zt===W?L.target.value:ze))||[""]}}}})},placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((j==null?void 0:j.breakRoom)||[]).length>1&&c.jsx("button",{onClick:()=>{i(L=>{var Be,we;return{...L,retail:{...L.retail,[D]:{...L.retail[D],breakRoom:((we=(Be=L.retail[D])==null?void 0:Be.breakRoom)==null?void 0:we.filter((Qe,ze)=>ze!==W))||[""]}}}})},className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(rs,{className:"w-3 h-3"})})]},W))})]}),c.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-primary/10 to-transparent rounded-lg p-2",children:c.jsxs("span",{className:"text-xs font-semibold text-primary",children:[D,"：總共 ",_(j)," 包"]})})]})]},D)})})]})]}),c.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50",children:c.jsx("div",{className:"bg-surface/90 backdrop-blur-md border border-white/20 rounded-full px-4 py-2 shadow-lg",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("button",{onClick:()=>{var D;return(D=document.getElementById("brewing-section"))==null?void 0:D.scrollIntoView({behavior:"smooth"})},className:`flex items-center gap-2 px-3 py-1 rounded-full transition-all duration-300 ${d==="brewing"?"bg-blue-400/20 text-blue-400":"text-gray-400 hover:text-blue-300"}`,children:[c.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${d==="brewing"?"bg-blue-400":"bg-gray-400"}`}),c.jsx("span",{className:"text-sm font-medium",children:"出杯豆"})]}),c.jsx("div",{className:"w-px h-4 bg-gray-600"}),c.jsxs("button",{onClick:()=>{var D;return(D=document.getElementById("retail-section"))==null?void 0:D.scrollIntoView({behavior:"smooth"})},className:`flex items-center gap-2 px-3 py-1 rounded-full transition-all duration-300 ${d==="retail"?"bg-orange-400/20 text-orange-400":"text-gray-400 hover:text-orange-300"}`,children:[c.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${d==="retail"?"bg-orange-400":"bg-gray-400"}`}),c.jsx("span",{className:"text-sm font-medium",children:"賣豆"})]})]})})}),c.jsx("button",{onClick:()=>e(!0),className:"fixed bottom-6 right-6 p-4 bg-gradient-to-r from-primary/20 to-purple-500/20 border border-primary/30 text-primary hover:from-primary/30 hover:to-purple-500/30 hover:border-primary/50 transition-all duration-200 rounded-full shadow-lg hover:shadow-xl z-50 hover:scale-110 transform",children:c.jsx(nf,{className:"w-6 h-6"})}),t&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:D=>{D.target===D.currentTarget&&e(!1)},children:c.jsxs("div",{className:"bg-surface/95 backdrop-blur-md border border-white/20 rounded-2xl p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl",onClick:D=>D.stopPropagation(),children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-primary mb-1",children:"重量換算計算器"}),c.jsx("p",{className:"text-sm text-text-secondary",children:"估算豆包數量"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:ie,className:"px-3 py-1.5 text-xs font-medium rounded-lg border border-amber-500/30 text-amber-400 hover:bg-amber-500/10 hover:border-amber-500/50 transition-all duration-200 flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-400"}),"回復設定"]}),c.jsx("button",{onClick:()=>e(!1),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(Aj,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-amber-400 to-orange-400 rounded-full"}),c.jsx("h3",{className:"text-lg font-bold text-primary",children:"計算模式"})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/10 hover:border-amber-400/30 transition-all duration-200 cursor-pointer bg-gradient-to-br from-surface/40 to-surface/20",children:[c.jsx("input",{type:"radio",value:"bag",checked:s==="bag",onChange:D=>a(D.target.value),className:"text-amber-400 w-4 h-4"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),c.jsx("span",{className:"font-medium",children:"外包裝袋"})]})]}),c.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/10 hover:border-amber-400/30 transition-all duration-200 cursor-pointer bg-gradient-to-br from-surface/40 to-surface/20",children:[c.jsx("input",{type:"radio",value:"ikea",checked:s==="ikea",onChange:D=>a(D.target.value),className:"text-amber-400 w-4 h-4"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),c.jsx("span",{className:"font-medium",children:"IKEA 盒子"})]})]})]})]}),c.jsxs("div",{className:"space-y-4 mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-400 to-purple-400 rounded-full"}),c.jsx("h3",{className:"text-lg font-bold text-primary",children:"重量設定"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-xl p-4 border border-white/10",children:[c.jsxs("label",{className:"block text-sm font-semibold mb-3 text-primary flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),s==="bag"?"外包裝袋重量":"IKEA 盒重量"," (g)"]}),c.jsx("input",{type:"number",value:s==="bag"?p.bagWeight:p.ikeaBoxWeight,onChange:D=>P(s==="bag"?"bagWeight":"ikeaBoxWeight",D.target.value),className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all",placeholder:"輸入重量",inputMode:"decimal"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-xl p-4 border border-white/10",children:[c.jsxs("label",{className:"block text-sm font-semibold mb-3 text-primary flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"每包豆子重量 (g)"]}),c.jsx("input",{type:"number",value:p.beanWeightPerPack,onChange:D=>P("beanWeightPerPack",D.target.value),className:"input-field w-full text-sm py-2.5 px-3 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",placeholder:"輸入重量",inputMode:"decimal"})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{onClick:Q,className:"px-4 py-2.5 text-sm font-medium rounded-lg bg-gradient-to-r from-primary/20 to-purple-500/20 border border-primary/30 text-primary hover:from-primary/30 hover:to-purple-500/30 hover:border-primary/50 transition-all duration-200 flex items-center gap-2",children:[c.jsx(ts,{className:"w-4 h-4"}),"新增計算欄位"]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-green-400 to-emerald-400 rounded-full"}),c.jsx("h3",{className:"text-lg font-bold text-primary",children:"計算結果"})]}),y.map(D=>c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-4 border border-white/10 hover:border-primary/30 transition-all duration-200 hover:shadow-lg hover:shadow-primary/10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("h5",{className:"font-semibold text-primary",children:["計算欄位 #",D.id]}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/60"})]}),y.length>1&&c.jsx("button",{onClick:()=>k(D.id),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:c.jsx(rs,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-lg p-3 border border-white/10",children:[c.jsxs("label",{className:"block text-sm font-semibold mb-2 text-text-secondary flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"總重量 (g)"]}),c.jsx("input",{type:"number",value:D.totalWeight,onChange:V=>N(D.id,V.target.value),placeholder:"輸入總重量",className:"input-field w-full text-sm py-2 px-3 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-lg p-3 border border-white/10",children:[c.jsxs("label",{className:"block text-sm font-semibold mb-2 text-text-secondary flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"估算包數"]}),c.jsxs("div",{className:"w-full text-sm py-3 px-4 rounded-lg bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-400/30 text-center font-bold text-green-400 hover:border-green-500/50 transition-all",children:[D.estimatedPacks," 包"]})]})]})]},D.id))]})]})})]})}function TX(t){return c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),c.jsx("polyline",{points:"14,2 14,8 20,8"})]})}function FX(t){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}function UX(){const[t,e]=x.useState("");x.useState(!1);const[r,n]=x.useState(0),[i,s]=x.useState(!1),[a,o]=x.useState(""),[A,l]=x.useState(!1),u=[{value:"1",label:"1月"},{value:"2",label:"2月"},{value:"3",label:"3月"},{value:"4",label:"4月"},{value:"5",label:"5月"},{value:"6",label:"6月"},{value:"7",label:"7月"},{value:"8",label:"8月"},{value:"9",label:"9月"},{value:"10",label:"10月"},{value:"11",label:"11月"},{value:"12",label:"12月"}],d=g=>[31,28,31,30,31,30,31,31,30,31,30,31][parseInt(g)-1],f=()=>{if(!t)return;const g=`DailyReport_${t}_Month.zip`,m=`https://raw.githubusercontent.com/greedysisyphus/Brainless/main/public/reports/${g}`,p=document.createElement("a");p.href=m,p.download=g,document.body.appendChild(p),p.click(),document.body.removeChild(p)};return c.jsx("div",{className:"container-custom py-6",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx(TX,{className:"w-8 h-8 text-primary"}),c.jsx("h1",{className:"text-2xl font-bold mb-2 text-center",children:"報表生成器"})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("blockquote",{className:"italic text-gray-400 text-center text-base",children:["「我愛改檔名」",c.jsx("span",{className:"block text-xs text-gray-500 mt-1 text-center",children:"— 紅葉"})]})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("h2",{className:"text-lg font-semibold text-primary mb-4 flex items-center gap-2",children:[c.jsx(vd,{className:"w-5 h-5"}),"選擇月份"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-text-secondary",children:"選擇要生成日報表的月份"}),c.jsxs("select",{value:t,onChange:g=>e(g.target.value),className:"input-field w-full max-w-xs",children:[c.jsx("option",{value:"",children:"請選擇月份"}),u.map(g=>c.jsxs("option",{value:g.value,children:[g.label," (",d(g.value),"天)"]},g.value))]}),t&&c.jsxs("div",{className:"text-sm text-text-secondary",children:["將生成 ",d(t)," 個日報表檔案"]})]})]})}),c.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("h2",{className:"text-lg font-semibold text-primary mb-4 flex items-center gap-2",children:[c.jsx(FX,{className:"w-5 h-5"}),"生成日報表"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-text-secondary",children:"點擊下方按鈕開始生成整月日報表"}),c.jsx("button",{onClick:f,disabled:!t,className:"btn-primary w-full max-w-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"下載日報表"})]})]})}),a&&c.jsx("div",{className:"card backdrop-blur-sm bg-red-500/10 border border-red-500/30",children:c.jsxs("div",{className:"p-4 flex items-center gap-3",children:[c.jsx(uX,{className:"w-5 h-5 text-red-400"}),c.jsx("span",{className:"text-red-400",children:a})]})}),A&&c.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-lg font-semibold text-primary",children:"生成進度"}),c.jsxs("span",{className:"text-sm text-text-secondary",children:[Math.round(r),"%"]})]}),c.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-primary to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${r}%`}})}),i&&c.jsxs("div",{className:"mt-4 flex items-center gap-2 text-green-400",children:[c.jsx(iX,{className:"w-5 h-5"}),c.jsx("span",{children:"日報表生成完成！"})]})]})})]})]})})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hb=function(t,e){return hb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},hb(t,e)};function bi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");hb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gb=function(){return gb=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},gb.apply(this,arguments)};function Rr(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{l(n.next(u))}catch(d){a(d)}}function A(u){try{l(n.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):i(u.value).then(o,A)}l((n=n.apply(t,[])).next())})}function Fr(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(u){return A([l,u])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function zh(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var Ps=function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),$0=function(t,e){return Ps.fromClientRect(t,e.getBoundingClientRect())},PX=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Ps(0,0,n,i)},G0=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},jt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},P2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",NX=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Wh=0;Wh<P2.length;Wh++)NX[P2.charCodeAt(Wh)]=Wh;var N2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$c=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Yh=0;Yh<N2.length;Yh++)$c[N2.charCodeAt(Yh)]=Yh;var QX=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=$c[t.charCodeAt(n)],a=$c[t.charCodeAt(n+1)],o=$c[t.charCodeAt(n+2)],A=$c[t.charCodeAt(n+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|A&63;return l},kX=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},OX=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},rA=5,_E=11,zy=2,DX=_E-rA,lj=65536>>rA,jX=1<<rA,Wy=jX-1,RX=1024>>rA,MX=lj+RX,LX=MX,HX=32,VX=LX+HX,KX=65536>>_E,$X=1<<DX,GX=$X-1,Q2=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},zX=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},WX=function(t,e){var r=QX(t),n=Array.isArray(r)?OX(r):new Uint32Array(r),i=Array.isArray(r)?kX(r):new Uint16Array(r),s=24,a=Q2(i,s/2,n[4]/2),o=n[5]===2?Q2(i,(s+n[4])/2):zX(n,Math.ceil((s+n[4])/4));return new YX(n[0],n[1],n[2],n[3],a,o)},YX=function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>rA],r=(r<<zy)+(e&Wy),this.data[r];if(e<=65535)return r=this.index[lj+(e-55296>>rA)],r=(r<<zy)+(e&Wy),this.data[r];if(e<this.highStart)return r=VX-KX+(e>>_E),r=this.index[r],r+=e>>rA&GX,r=this.index[r],r=(r<<zy)+(e&Wy),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),k2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",XX=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Xh=0;Xh<k2.length;Xh++)XX[k2.charCodeAt(Xh)]=Xh;var qX="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",O2=50,JX=1,uj=2,cj=3,ZX=4,eq=5,D2=7,dj=8,j2=9,wa=10,mb=11,R2=12,pb=13,tq=14,Gc=15,vb=16,qh=17,bc=18,rq=19,M2=20,yb=21,Bc=22,Yy=23,sl=24,dn=25,zc=26,Wc=27,al=28,nq=29,Lo=30,iq=31,Jh=32,Zh=33,wb=34,xb=35,bb=36,sf=37,Bb=38,sm=39,am=40,Xy=41,fj=42,sq=43,aq=[9001,65288],hj="!",Oe="×",eg="÷",Cb=WX(qX),Ji=[Lo,bb],Eb=[JX,uj,cj,eq],gj=[wa,dj],L2=[Wc,zc],oq=Eb.concat(gj),H2=[Bb,sm,am,wb,xb],Aq=[Gc,pb],lq=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(s,a){var o=Cb.get(s);if(o>O2?(i.push(!0),o-=O2):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),r.push(vb);if(o===ZX||o===mb){if(a===0)return n.push(a),r.push(Lo);var A=r[a-1];return oq.indexOf(A)===-1?(n.push(n[a-1]),r.push(A)):(n.push(a),r.push(Lo))}if(n.push(a),o===iq)return r.push(e==="strict"?yb:sf);if(o===fj||o===nq)return r.push(Lo);if(o===sq)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(sf):r.push(Lo);r.push(o)}),[n,r,i]},qy=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=r;s<=n.length;){s++;var a=n[s];if(a===e)return!0;if(a!==wa)break}if(i===wa)for(var s=r;s>0;){s--;var o=n[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var A=r;A<=n.length;){A++;var a=n[A];if(a===e)return!0;if(a!==wa)break}if(o!==wa)break}return!1},V2=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===wa)r--;else return n}return 0},uq=function(t,e,r,n,i){if(r[n]===0)return Oe;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return Oe;var a=s-1,o=s+1,A=e[s],l=a>=0?e[a]:0,u=e[o];if(A===uj&&u===cj)return Oe;if(Eb.indexOf(A)!==-1)return hj;if(Eb.indexOf(u)!==-1||gj.indexOf(u)!==-1)return Oe;if(V2(s,e)===dj)return eg;if(Cb.get(t[s])===mb||(A===Jh||A===Zh)&&Cb.get(t[o])===mb||A===D2||u===D2||A===j2||[wa,pb,Gc].indexOf(A)===-1&&u===j2||[qh,bc,rq,sl,al].indexOf(u)!==-1||V2(s,e)===Bc||qy(Yy,Bc,s,e)||qy([qh,bc],yb,s,e)||qy(R2,R2,s,e))return Oe;if(A===wa)return eg;if(A===Yy||u===Yy)return Oe;if(u===vb||A===vb)return eg;if([pb,Gc,yb].indexOf(u)!==-1||A===tq||l===bb&&Aq.indexOf(A)!==-1||A===al&&u===bb||u===M2||Ji.indexOf(u)!==-1&&A===dn||Ji.indexOf(A)!==-1&&u===dn||A===Wc&&[sf,Jh,Zh].indexOf(u)!==-1||[sf,Jh,Zh].indexOf(A)!==-1&&u===zc||Ji.indexOf(A)!==-1&&L2.indexOf(u)!==-1||L2.indexOf(A)!==-1&&Ji.indexOf(u)!==-1||[Wc,zc].indexOf(A)!==-1&&(u===dn||[Bc,Gc].indexOf(u)!==-1&&e[o+1]===dn)||[Bc,Gc].indexOf(A)!==-1&&u===dn||A===dn&&[dn,al,sl].indexOf(u)!==-1)return Oe;if([dn,al,sl,qh,bc].indexOf(u)!==-1)for(var d=s;d>=0;){var f=e[d];if(f===dn)return Oe;if([al,sl].indexOf(f)!==-1)d--;else break}if([Wc,zc].indexOf(u)!==-1)for(var d=[qh,bc].indexOf(A)!==-1?a:s;d>=0;){var f=e[d];if(f===dn)return Oe;if([al,sl].indexOf(f)!==-1)d--;else break}if(Bb===A&&[Bb,sm,wb,xb].indexOf(u)!==-1||[sm,wb].indexOf(A)!==-1&&[sm,am].indexOf(u)!==-1||[am,xb].indexOf(A)!==-1&&u===am||H2.indexOf(A)!==-1&&[M2,zc].indexOf(u)!==-1||H2.indexOf(u)!==-1&&A===Wc||Ji.indexOf(A)!==-1&&Ji.indexOf(u)!==-1||A===sl&&Ji.indexOf(u)!==-1||Ji.concat(dn).indexOf(A)!==-1&&u===Bc&&aq.indexOf(t[o])===-1||Ji.concat(dn).indexOf(u)!==-1&&A===bc)return Oe;if(A===Xy&&u===Xy){for(var g=r[s],m=1;g>0&&(g--,e[g]===Xy);)m++;if(m%2!==0)return Oe}return A===Jh&&u===Zh?Oe:eg},cq=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=lq(t,e.lineBreak),n=r[0],i=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[dn,Lo,fj].indexOf(o)!==-1?sf:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,A){return o&&t[A]>=19968&&t[A]<=40959}):void 0;return[n,i,a]},dq=function(){function t(e,r,n,i){this.codePoints=e,this.required=r===hj,this.start=n,this.end=i}return t.prototype.slice=function(){return jt.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),fq=function(t,e){var r=G0(t),n=cq(r,e),i=n[0],s=n[1],a=n[2],o=r.length,A=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var u=Oe;l<o&&(u=uq(r,s,i,++l,a))===Oe;);if(u!==Oe||l===o){var d=new dq(r,u,A,l);return A=l,{value:d,done:!1}}return{done:!0,value:null}}}},hq=1,gq=2,Df=4,K2=8,ap=10,$2=47,yd=92,mq=9,pq=32,tg=34,Cc=61,vq=35,yq=36,wq=37,rg=39,ng=40,Ec=41,xq=95,Jr=45,bq=33,Bq=60,Cq=62,Eq=64,_q=91,Iq=93,Sq=61,Tq=123,ig=63,Fq=125,G2=124,Uq=126,Pq=128,z2=65533,Jy=42,Go=43,Nq=44,Qq=58,kq=59,af=46,Oq=0,Dq=8,jq=11,Rq=14,Mq=31,Lq=127,Ii=-1,mj=48,pj=97,vj=101,Hq=102,Vq=117,Kq=122,yj=65,wj=69,xj=70,$q=85,Gq=90,Pr=function(t){return t>=mj&&t<=57},zq=function(t){return t>=55296&&t<=57343},ol=function(t){return Pr(t)||t>=yj&&t<=xj||t>=pj&&t<=Hq},Wq=function(t){return t>=pj&&t<=Kq},Yq=function(t){return t>=yj&&t<=Gq},Xq=function(t){return Wq(t)||Yq(t)},qq=function(t){return t>=Pq},sg=function(t){return t===ap||t===mq||t===pq},op=function(t){return Xq(t)||qq(t)||t===xq},W2=function(t){return op(t)||Pr(t)||t===Jr},Jq=function(t){return t>=Oq&&t<=Dq||t===jq||t>=Rq&&t<=Mq||t===Lq},la=function(t,e){return t!==yd?!1:e!==ap},ag=function(t,e,r){return t===Jr?op(e)||la(e,r):op(t)?!0:!!(t===yd&&la(t,e))},Zy=function(t,e,r){return t===Go||t===Jr?Pr(e)?!0:e===af&&Pr(r):Pr(t===af?e:t)},Zq=function(t){var e=0,r=1;(t[e]===Go||t[e]===Jr)&&(t[e]===Jr&&(r=-1),e++);for(var n=[];Pr(t[e]);)n.push(t[e++]);var i=n.length?parseInt(jt.apply(void 0,n),10):0;t[e]===af&&e++;for(var s=[];Pr(t[e]);)s.push(t[e++]);var a=s.length,o=a?parseInt(jt.apply(void 0,s),10):0;(t[e]===wj||t[e]===vj)&&e++;var A=1;(t[e]===Go||t[e]===Jr)&&(t[e]===Jr&&(A=-1),e++);for(var l=[];Pr(t[e]);)l.push(t[e++]);var u=l.length?parseInt(jt.apply(void 0,l),10):0;return r*(i+o*Math.pow(10,-a))*Math.pow(10,A*u)},eJ={type:2},tJ={type:3},rJ={type:4},nJ={type:13},iJ={type:8},sJ={type:21},aJ={type:9},oJ={type:10},AJ={type:11},lJ={type:12},uJ={type:14},og={type:23},cJ={type:1},dJ={type:25},fJ={type:24},hJ={type:26},gJ={type:27},mJ={type:28},pJ={type:29},vJ={type:31},_b={type:32},bj=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(G0(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==_b;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case tg:return this.consumeStringToken(tg);case vq:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(W2(r)||la(n,i)){var s=ag(r,n,i)?gq:hq,a=this.consumeName();return{type:5,value:a,flags:s}}break;case yq:if(this.peekCodePoint(0)===Cc)return this.consumeCodePoint(),nJ;break;case rg:return this.consumeStringToken(rg);case ng:return eJ;case Ec:return tJ;case Jy:if(this.peekCodePoint(0)===Cc)return this.consumeCodePoint(),uJ;break;case Go:if(Zy(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Nq:return rJ;case Jr:var o=e,A=this.peekCodePoint(0),l=this.peekCodePoint(1);if(Zy(o,A,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(ag(o,A,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===Jr&&l===Cq)return this.consumeCodePoint(),this.consumeCodePoint(),fJ;break;case af:if(Zy(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case $2:if(this.peekCodePoint(0)===Jy)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===Jy&&(u=this.consumeCodePoint(),u===$2))return this.consumeToken();if(u===Ii)return this.consumeToken()}break;case Qq:return hJ;case kq:return gJ;case Bq:if(this.peekCodePoint(0)===bq&&this.peekCodePoint(1)===Jr&&this.peekCodePoint(2)===Jr)return this.consumeCodePoint(),this.consumeCodePoint(),dJ;break;case Eq:var d=this.peekCodePoint(0),f=this.peekCodePoint(1),g=this.peekCodePoint(2);if(ag(d,f,g)){var a=this.consumeName();return{type:7,value:a}}break;case _q:return mJ;case yd:if(la(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Iq:return pJ;case Sq:if(this.peekCodePoint(0)===Cc)return this.consumeCodePoint(),iJ;break;case Tq:return AJ;case Fq:return lJ;case Vq:case $q:var m=this.peekCodePoint(0),p=this.peekCodePoint(1);return m===Go&&(ol(p)||p===ig)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case G2:if(this.peekCodePoint(0)===Cc)return this.consumeCodePoint(),aJ;if(this.peekCodePoint(0)===G2)return this.consumeCodePoint(),sJ;break;case Uq:if(this.peekCodePoint(0)===Cc)return this.consumeCodePoint(),oJ;break;case Ii:return _b}return sg(e)?(this.consumeWhiteSpace(),vJ):Pr(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):op(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:jt(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();ol(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===ig&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(jt.apply(void 0,e.map(function(A){return A===ig?mj:A})),16),s=parseInt(jt.apply(void 0,e.map(function(A){return A===ig?xj:A})),16);return{type:30,start:i,end:s}}var a=parseInt(jt.apply(void 0,e),16);if(this.peekCodePoint(0)===Jr&&ol(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];ol(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var s=parseInt(jt.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===ng?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ng?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ii)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===rg||r===tg){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ii||this.peekCodePoint(0)===Ec)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),og)}for(;;){var i=this.consumeCodePoint();if(i===Ii||i===Ec)return{type:22,value:jt.apply(void 0,e)};if(sg(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ii||this.peekCodePoint(0)===Ec?(this.consumeCodePoint(),{type:22,value:jt.apply(void 0,e)}):(this.consumeBadUrlRemnants(),og);if(i===tg||i===rg||i===ng||Jq(i))return this.consumeBadUrlRemnants(),og;if(i===yd)if(la(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),og;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;sg(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Ec||e===Ii)return;la(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=jt.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===Ii||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===ap)return this._value.splice(0,n),cJ;if(i===yd){var s=this._value[n+1];s!==Ii&&s!==void 0&&(s===ap?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):la(i,s)&&(r+=this.consumeStringSlice(n),r+=jt(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Df,n=this.peekCodePoint(0);for((n===Go||n===Jr)&&e.push(this.consumeCodePoint());Pr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===af&&Pr(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=K2;Pr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===wj||n===vj)&&((i===Go||i===Jr)&&Pr(s)||Pr(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=K2;Pr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Zq(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(ag(i,s,a)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return i===wq?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(ol(e)){for(var r=jt(e);ol(this.peekCodePoint(0))&&r.length<6;)r+=jt(this.consumeCodePoint());sg(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||zq(n)||n>1114111?z2:n}return e===Ii?z2:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(W2(r))e+=jt(r);else if(la(r,this.peekCodePoint(0)))e+=jt(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),Bj=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new bj;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||wJ(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?_b:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),jf=function(t){return t.type===15},Ru=function(t){return t.type===17},Ze=function(t){return t.type===20},yJ=function(t){return t.type===0},Ib=function(t,e){return Ze(t)&&t.value===e},Cj=function(t){return t.type!==31},pu=function(t){return t.type!==31&&t.type!==4},$i=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},wJ=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},to=function(t){return t.type===17||t.type===15},Vt=function(t){return t.type===16||to(t)},Ej=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},xr={type:17,number:0,flags:Df},IE={type:16,number:50,flags:Df},xa={type:16,number:100,flags:Df},Yc=function(t,e,r){var n=t[0],i=t[1];return[ot(n,e),ot(typeof i<"u"?i:n,r)]},ot=function(t,e){if(t.type===16)return t.number/100*e;if(jf(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},_j="deg",Ij="grad",Sj="rad",Tj="turn",z0={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case _j:return Math.PI*e.number/180;case Ij:return Math.PI/200*e.number;case Sj:return e.number;case Tj:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Fj=function(t){return t.type===15&&(t.unit===_j||t.unit===Ij||t.unit===Sj||t.unit===Tj)},Uj=function(t){var e=t.filter(Ze).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[xr,xr];case"to top":case"bottom":return Wn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[xr,xa];case"to right":case"left":return Wn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[xa,xa];case"to bottom":case"top":return Wn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[xa,xr];case"to left":case"right":return Wn(270)}return 0},Wn=function(t){return Math.PI*t/180},Ma={name:"color",parse:function(t,e){if(e.type===18){var r=xJ[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return ba(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return ba(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return ba(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return ba(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=bs[e.value.toUpperCase()];if(typeof o<"u")return o}return bs.TRANSPARENT}},La=function(t){return(255&t)===0},sr=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},ba=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},Y2=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},X2=function(t,e){var r=e.filter(pu);if(r.length===3){var n=r.map(Y2),i=n[0],s=n[1],a=n[2];return ba(i,s,a,1)}if(r.length===4){var o=r.map(Y2),i=o[0],s=o[1],a=o[2],A=o[3];return ba(i,s,a,A)}return 0};function ew(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var q2=function(t,e){var r=e.filter(pu),n=r[0],i=r[1],s=r[2],a=r[3],o=(n.type===17?Wn(n.number):z0.parse(t,n))/(Math.PI*2),A=Vt(i)?i.number/100:0,l=Vt(s)?s.number/100:0,u=typeof a<"u"&&Vt(a)?ot(a,1):1;if(A===0)return ba(l*255,l*255,l*255,1);var d=l<=.5?l*(A+1):l+A-l*A,f=l*2-d,g=ew(f,d,o+1/3),m=ew(f,d,o),p=ew(f,d,o-1/3);return ba(g*255,m*255,p*255,u)},xJ={hsl:q2,hsla:q2,rgb:X2,rgba:X2},wd=function(t,e){return Ma.parse(t,Bj.create(e).parseComponentValue())},bs={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},bJ={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Ze(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},BJ={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},W0=function(t,e){var r=Ma.parse(t,e[0]),n=e[1];return n&&Vt(n)?{color:r,stop:n}:{color:r,stop:null}},J2=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=xr),n.stop===null&&(n.stop=xa);for(var i=[],s=0,a=0;a<t.length;a++){var o=t[a].stop;if(o!==null){var A=ot(o,e);A>s?i.push(A):i.push(s),s=A}else i.push(null)}for(var l=null,a=0;a<i.length;a++){var u=i[a];if(u===null)l===null&&(l=a);else if(l!==null){for(var d=a-l,f=i[l-1],g=(u-f)/(d+1),m=1;m<=d;m++)i[l+m-1]=g*m;l=null}}return t.map(function(p,v){var y=p.color;return{color:y,stop:Math.max(Math.min(1,i[v]/e),0)}})},CJ=function(t,e,r){var n=e/2,i=r/2,s=ot(t[0],e)-n,a=i-ot(t[1],r);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},EJ=function(t,e,r){var n=typeof t=="number"?t:CJ(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,a=r/2,o=i/2,A=Math.sin(n-Math.PI/2)*o,l=Math.cos(n-Math.PI/2)*o;return[i,s-l,s+l,a-A,a+A]},ui=function(t,e){return Math.sqrt(t*t+e*e)},Z2=function(t,e,r,n,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(a,o){var A=o[0],l=o[1],u=ui(r-A,n-l);return(i?u<a.optimumDistance:u>a.optimumDistance)?{optimumCorner:o,optimumDistance:u}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},_J=function(t,e,r,n,i){var s=0,a=0;switch(t.size){case 0:t.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)s=a=Math.min(ui(e,r),ui(e,r-i),ui(e-n,r),ui(e-n,r-i));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),A=Z2(n,i,e,r,!0),l=A[0],u=A[1];s=ui(l-e,(u-r)/o),a=o*s}break;case 1:t.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)s=a=Math.max(ui(e,r),ui(e,r-i),ui(e-n,r),ui(e-n,r-i));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),d=Z2(n,i,e,r,!1),l=d[0],u=d[1];s=ui(l-e,(u-r)/o),a=o*s}break}return Array.isArray(t.size)&&(s=ot(t.size[0],n),a=t.size.length===2?ot(t.size[1],i):s),[s,a]},IJ=function(t,e){var r=Wn(180),n=[];return $i(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){r=Uj(i);return}else if(Fj(a)){r=z0.parse(t,a);return}}var o=W0(t,i);n.push(o)}),{angle:r,stops:n,type:1}},Ag=function(t,e){var r=Wn(180),n=[];return $i(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=Uj(i);return}else if(Fj(a)){r=(z0.parse(t,a)+Wn(270))%Wn(360);return}}var o=W0(t,i);n.push(o)}),{angle:r,stops:n,type:1}},SJ=function(t,e){var r=Wn(180),n=[],i=1,s=0,a=3,o=[];return $i(e).forEach(function(A,l){var u=A[0];if(l===0){if(Ze(u)&&u.value==="linear"){i=1;return}else if(Ze(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var d=Ma.parse(t,u.values[0]);n.push({stop:xr,color:d})}else if(u.name==="to"){var d=Ma.parse(t,u.values[0]);n.push({stop:xa,color:d})}else if(u.name==="color-stop"){var f=u.values.filter(pu);if(f.length===2){var d=Ma.parse(t,f[1]),g=f[0];Ru(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:d})}}}}),i===1?{angle:(r+Wn(180))%Wn(360),stops:n,type:i}:{size:a,shape:s,stops:n,position:o,type:i}},Pj="closest-side",Nj="farthest-side",Qj="closest-corner",kj="farthest-corner",Oj="circle",Dj="ellipse",jj="cover",Rj="contain",TJ=function(t,e){var r=0,n=3,i=[],s=[];return $i(e).forEach(function(a,o){var A=!0;if(o===0){var l=!1;A=a.reduce(function(d,f){if(l)if(Ze(f))switch(f.value){case"center":return s.push(IE),d;case"top":case"left":return s.push(xr),d;case"right":case"bottom":return s.push(xa),d}else(Vt(f)||to(f))&&s.push(f);else if(Ze(f))switch(f.value){case Oj:return r=0,!1;case Dj:return r=1,!1;case"at":return l=!0,!1;case Pj:return n=0,!1;case jj:case Nj:return n=1,!1;case Rj:case Qj:return n=2,!1;case kj:return n=3,!1}else if(to(f)||Vt(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return d},A)}if(A){var u=W0(t,a);i.push(u)}}),{size:n,shape:r,stops:i,position:s,type:2}},lg=function(t,e){var r=0,n=3,i=[],s=[];return $i(e).forEach(function(a,o){var A=!0;if(o===0?A=a.reduce(function(u,d){if(Ze(d))switch(d.value){case"center":return s.push(IE),!1;case"top":case"left":return s.push(xr),!1;case"right":case"bottom":return s.push(xa),!1}else if(Vt(d)||to(d))return s.push(d),!1;return u},A):o===1&&(A=a.reduce(function(u,d){if(Ze(d))switch(d.value){case Oj:return r=0,!1;case Dj:return r=1,!1;case Rj:case Pj:return n=0,!1;case Nj:return n=1,!1;case Qj:return n=2,!1;case jj:case kj:return n=3,!1}else if(to(d)||Vt(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return u},A)),A){var l=W0(t,a);i.push(l)}}),{size:n,shape:r,stops:i,position:s,type:2}},FJ=function(t){return t.type===1},UJ=function(t){return t.type===2},SE={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=Mj[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function PJ(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Mj[t.name])}var Mj={"linear-gradient":IJ,"-moz-linear-gradient":Ag,"-ms-linear-gradient":Ag,"-o-linear-gradient":Ag,"-webkit-linear-gradient":Ag,"radial-gradient":TJ,"-moz-radial-gradient":lg,"-ms-radial-gradient":lg,"-o-radial-gradient":lg,"-webkit-radial-gradient":lg,"-webkit-gradient":SJ},NJ={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return pu(n)&&PJ(n)}).map(function(n){return SE.parse(t,n)})}},QJ={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Ze(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},kJ={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return $i(e).map(function(r){return r.filter(Vt)}).map(Ej)}},OJ={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return $i(e).map(function(r){return r.filter(Ze).map(function(n){return n.value}).join(" ")}).map(DJ)}},DJ=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},zl;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(zl||(zl={}));var jJ={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return $i(e).map(function(r){return r.filter(RJ)})}},RJ=function(t){return Ze(t)||Vt(t)},Y0=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},MJ=Y0("top"),LJ=Y0("right"),HJ=Y0("bottom"),VJ=Y0("left"),X0=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return Ej(r.filter(Vt))}}},KJ=X0("top-left"),$J=X0("top-right"),GJ=X0("bottom-right"),zJ=X0("bottom-left"),q0=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},WJ=q0("top"),YJ=q0("right"),XJ=q0("bottom"),qJ=q0("left"),J0=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return jf(r)?r.number:0}}},JJ=J0("top"),ZJ=J0("right"),eZ=J0("bottom"),tZ=J0("left"),rZ={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},nZ={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},iZ={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Ze).reduce(function(r,n){return r|sZ(n.value)},0)}},sZ=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},aZ={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},oZ={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Ap;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Ap||(Ap={}));var AZ={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Ap.STRICT;case"normal":default:return Ap.NORMAL}}},lZ={name:"line-height",initialValue:"normal",prefix:!1,type:4},eF=function(t,e){return Ze(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Vt(t)?ot(t,e):e},uZ={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:SE.parse(t,e)}},cZ={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Sb={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Z0=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},dZ=Z0("top"),fZ=Z0("right"),hZ=Z0("bottom"),gZ=Z0("left"),mZ={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Ze).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},pZ={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},ev=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},vZ=ev("top"),yZ=ev("right"),wZ=ev("bottom"),xZ=ev("left"),bZ={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},BZ={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},CZ={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Ib(e[0],"none")?[]:$i(e).map(function(r){for(var n={color:bs.TRANSPARENT,offsetX:xr,offsetY:xr,blur:xr},i=0,s=0;s<r.length;s++){var a=r[s];to(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:n.blur=a,i++):n.color=Ma.parse(t,a)}return n})}},EZ={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},_Z={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=TZ[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},IZ=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},SZ=function(t){var e=t.filter(function(A){return A.type===17}).map(function(A){return A.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,i,s,a,o]:null},TZ={matrix:IZ,matrix3d:SZ},tF={type:16,number:50,flags:Df},FZ=[tF,tF],UZ={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Vt);return r.length!==2?FZ:[r[0],r[1]]}},PZ={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},xd;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(xd||(xd={}));var NZ={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return xd.BREAK_ALL;case"keep-all":return xd.KEEP_ALL;case"normal":default:return xd.NORMAL}}},QZ={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Ru(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Lj={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},kZ={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Ru(e)?e.number:1}},OZ={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},DZ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Ze).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},jZ={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},RZ={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},MZ={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Ru(e))return e.number;if(Ze(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},LZ={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Ze).map(function(r){return r.value})}},HZ={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Xt=function(t,e){return(t&e)!==0},VZ={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},KZ={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(Cj),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var A=o&&Ru(o)?o.number:1;n.push({counter:a.value,increment:A})}}return n}},$Z={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(Cj),i=0;i<n.length;i++){var s=n[i],a=n[i+1];if(Ze(s)&&s.value!=="none"){var o=a&&Ru(a)?a.number:0;r.push({counter:s.value,reset:o})}}return r}},GZ={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(jf).map(function(r){return Lj.parse(t,r)})}},zZ={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(yJ);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;n.push({open:a,close:o})}return n}},rF=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},WZ={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Ib(e[0],"none")?[]:$i(e).map(function(r){for(var n={color:255,offsetX:xr,offsetY:xr,blur:xr,spread:xr,inset:!1},i=0,s=0;s<r.length;s++){var a=r[s];Ib(a,"inset")?n.inset=!0:to(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:i===2?n.blur=a:n.spread=a,i++):n.color=Ma.parse(t,a)}return n})}},YZ={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(Ze).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},XZ={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},qZ={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return jf(e)?e.number:0}},JZ=function(){function t(e,r){var n,i;this.animationDuration=ce(e,GZ,r.animationDuration),this.backgroundClip=ce(e,bJ,r.backgroundClip),this.backgroundColor=ce(e,BJ,r.backgroundColor),this.backgroundImage=ce(e,NJ,r.backgroundImage),this.backgroundOrigin=ce(e,QJ,r.backgroundOrigin),this.backgroundPosition=ce(e,kJ,r.backgroundPosition),this.backgroundRepeat=ce(e,OJ,r.backgroundRepeat),this.backgroundSize=ce(e,jJ,r.backgroundSize),this.borderTopColor=ce(e,MJ,r.borderTopColor),this.borderRightColor=ce(e,LJ,r.borderRightColor),this.borderBottomColor=ce(e,HJ,r.borderBottomColor),this.borderLeftColor=ce(e,VJ,r.borderLeftColor),this.borderTopLeftRadius=ce(e,KJ,r.borderTopLeftRadius),this.borderTopRightRadius=ce(e,$J,r.borderTopRightRadius),this.borderBottomRightRadius=ce(e,GJ,r.borderBottomRightRadius),this.borderBottomLeftRadius=ce(e,zJ,r.borderBottomLeftRadius),this.borderTopStyle=ce(e,WJ,r.borderTopStyle),this.borderRightStyle=ce(e,YJ,r.borderRightStyle),this.borderBottomStyle=ce(e,XJ,r.borderBottomStyle),this.borderLeftStyle=ce(e,qJ,r.borderLeftStyle),this.borderTopWidth=ce(e,JJ,r.borderTopWidth),this.borderRightWidth=ce(e,ZJ,r.borderRightWidth),this.borderBottomWidth=ce(e,eZ,r.borderBottomWidth),this.borderLeftWidth=ce(e,tZ,r.borderLeftWidth),this.boxShadow=ce(e,WZ,r.boxShadow),this.color=ce(e,rZ,r.color),this.direction=ce(e,nZ,r.direction),this.display=ce(e,iZ,r.display),this.float=ce(e,aZ,r.cssFloat),this.fontFamily=ce(e,jZ,r.fontFamily),this.fontSize=ce(e,RZ,r.fontSize),this.fontStyle=ce(e,HZ,r.fontStyle),this.fontVariant=ce(e,LZ,r.fontVariant),this.fontWeight=ce(e,MZ,r.fontWeight),this.letterSpacing=ce(e,oZ,r.letterSpacing),this.lineBreak=ce(e,AZ,r.lineBreak),this.lineHeight=ce(e,lZ,r.lineHeight),this.listStyleImage=ce(e,uZ,r.listStyleImage),this.listStylePosition=ce(e,cZ,r.listStylePosition),this.listStyleType=ce(e,Sb,r.listStyleType),this.marginTop=ce(e,dZ,r.marginTop),this.marginRight=ce(e,fZ,r.marginRight),this.marginBottom=ce(e,hZ,r.marginBottom),this.marginLeft=ce(e,gZ,r.marginLeft),this.opacity=ce(e,kZ,r.opacity);var s=ce(e,mZ,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=ce(e,pZ,r.overflowWrap),this.paddingTop=ce(e,vZ,r.paddingTop),this.paddingRight=ce(e,yZ,r.paddingRight),this.paddingBottom=ce(e,wZ,r.paddingBottom),this.paddingLeft=ce(e,xZ,r.paddingLeft),this.paintOrder=ce(e,YZ,r.paintOrder),this.position=ce(e,BZ,r.position),this.textAlign=ce(e,bZ,r.textAlign),this.textDecorationColor=ce(e,OZ,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=ce(e,DZ,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=ce(e,CZ,r.textShadow),this.textTransform=ce(e,EZ,r.textTransform),this.transform=ce(e,_Z,r.transform),this.transformOrigin=ce(e,UZ,r.transformOrigin),this.visibility=ce(e,PZ,r.visibility),this.webkitTextStrokeColor=ce(e,XZ,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=ce(e,qZ,r.webkitTextStrokeWidth),this.wordBreak=ce(e,NZ,r.wordBreak),this.zIndex=ce(e,QZ,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return La(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Xt(this.display,4)||Xt(this.display,33554432)||Xt(this.display,268435456)||Xt(this.display,536870912)||Xt(this.display,67108864)||Xt(this.display,134217728)},t}(),ZZ=function(){function t(e,r){this.content=ce(e,VZ,r.content),this.quotes=ce(e,zZ,r.quotes)}return t}(),nF=function(){function t(e,r){this.counterIncrement=ce(e,KZ,r.counterIncrement),this.counterReset=ce(e,$Z,r.counterReset)}return t}(),ce=function(t,e,r){var n=new bj,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var s=new Bj(n.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(t,Ze(a)?a.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return z0.parse(t,s.parseComponentValue());case"color":return Ma.parse(t,s.parseComponentValue());case"image":return SE.parse(t,s.parseComponentValue());case"length":var o=s.parseComponentValue();return to(o)?o:xr;case"length-percentage":var A=s.parseComponentValue();return Vt(A)?A:xr;case"time":return Lj.parse(t,s.parseComponentValue())}break}},eee="data-html2canvas-debug",tee=function(t){var e=t.getAttribute(eee);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Tb=function(t,e){var r=tee(t);return r===1||e===r},Gi=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Tb(r,3))debugger;this.styles=new JZ(e,window.getComputedStyle(r,null)),Pb(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=$0(this.context,r),Tb(r,4)&&(this.flags|=16)}return t}(),ree="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",iF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ug=0;ug<iF.length;ug++)Xc[iF.charCodeAt(ug)]=ug;var nee=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=Xc[t.charCodeAt(n)],a=Xc[t.charCodeAt(n+1)],o=Xc[t.charCodeAt(n+2)],A=Xc[t.charCodeAt(n+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|A&63;return l},iee=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},see=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},nA=5,TE=11,tw=2,aee=TE-nA,Hj=65536>>nA,oee=1<<nA,rw=oee-1,Aee=1024>>nA,lee=Hj+Aee,uee=lee,cee=32,dee=uee+cee,fee=65536>>TE,hee=1<<aee,gee=hee-1,sF=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},mee=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},pee=function(t,e){var r=nee(t),n=Array.isArray(r)?see(r):new Uint32Array(r),i=Array.isArray(r)?iee(r):new Uint16Array(r),s=24,a=sF(i,s/2,n[4]/2),o=n[5]===2?sF(i,(s+n[4])/2):mee(n,Math.ceil((s+n[4])/4));return new vee(n[0],n[1],n[2],n[3],a,o)},vee=function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>nA],r=(r<<tw)+(e&rw),this.data[r];if(e<=65535)return r=this.index[Hj+(e-55296>>nA)],r=(r<<tw)+(e&rw),this.data[r];if(e<this.highStart)return r=dee-fee+(e>>TE),r=this.index[r],r+=e>>nA&gee,r=this.index[r],r=(r<<tw)+(e&rw),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),aF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yee=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var cg=0;cg<aF.length;cg++)yee[aF.charCodeAt(cg)]=cg;var wee=1,nw=2,iw=3,oF=4,AF=5,xee=7,lF=8,sw=9,aw=10,uF=11,cF=12,dF=13,fF=14,ow=15,bee=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Bee=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},Cee=pee(ree),Rn="×",Aw="÷",Eee=function(t){return Cee.get(t)},_ee=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],a=e[r];if(s===nw&&a===iw)return Rn;if(s===nw||s===iw||s===oF||a===nw||a===iw||a===oF)return Aw;if(s===lF&&[lF,sw,uF,cF].indexOf(a)!==-1||(s===uF||s===sw)&&(a===sw||a===aw)||(s===cF||s===aw)&&a===aw||a===dF||a===AF||a===xee||s===wee)return Rn;if(s===dF&&a===fF){for(;i===AF;)i=e[--n];if(i===fF)return Rn}if(s===ow&&a===ow){for(var o=0;i===ow;)o++,i=e[--n];if(o%2===0)return Rn}return Aw},Iee=function(t){var e=bee(t),r=e.length,n=0,i=0,s=e.map(Eee);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=Rn;n<r&&(a=_ee(e,s,++n))===Rn;);if(a!==Rn||n===r){var o=Bee.apply(null,e.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},See=function(t){for(var e=Iee(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},Tee=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(n),s===e)return!0}}return!1},Fee=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=G0(n.data).map(function(A){return jt(A)}),s=0,a={},o=i.every(function(A,l){r.setStart(n,s),r.setEnd(n,s+A.length);var u=r.getBoundingClientRect();s+=A.length;var d=u.x>a.x||u.y>a.y;return a=u,l===0?!0:d});return t.body.removeChild(e),o},Uee=function(){return typeof new Image().crossOrigin<"u"},Pee=function(){return typeof new XMLHttpRequest().responseType=="string"},Nee=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},hF=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Qee=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var a=Fb(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),gF(a).then(function(o){n.drawImage(o,0,0);var A=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var l=t.createElement("div");return l.style.backgroundImage="url("+s+")",l.style.height=r+"px",hF(A)?gF(Fb(r,r,0,0,l)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),hF(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Fb=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},gF=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},pr={get SUPPORT_RANGE_BOUNDS(){var t=Tee(document);return Object.defineProperty(pr,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=pr.SUPPORT_RANGE_BOUNDS&&Fee(document);return Object.defineProperty(pr,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Nee(document);return Object.defineProperty(pr,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Qee(document):Promise.resolve(!1);return Object.defineProperty(pr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Uee();return Object.defineProperty(pr,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Pee();return Object.defineProperty(pr,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(pr,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(pr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},bd=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),kee=function(t,e,r,n){var i=jee(e,r),s=[],a=0;return i.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(pr.SUPPORT_RANGE_BOUNDS){var A=mF(n,a,o.length).getClientRects();if(A.length>1){var l=FE(o),u=0;l.forEach(function(f){s.push(new bd(f,Ps.fromDOMRectList(t,mF(n,u+a,f.length).getClientRects()))),u+=f.length})}else s.push(new bd(o,Ps.fromDOMRectList(t,A)))}else{var d=n.splitText(o.length);s.push(new bd(o,Oee(t,n))),n=d}else pr.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),s},Oee=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=$0(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return Ps.EMPTY},mF=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},FE=function(t){if(pr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return See(t)},Dee=function(t,e){if(pr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return Mee(t,e)},jee=function(t,e){return e.letterSpacing!==0?FE(t):Dee(t,e)},Ree=[32,160,4961,65792,65793,4153,4241],Mee=function(t,e){for(var r=fq(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var a=i.value.slice(),o=G0(a),A="";o.forEach(function(l){Ree.indexOf(l)===-1?A+=jt(l):(A.length&&n.push(A),n.push(jt(l)),A="")}),A.length&&n.push(A)}};!(i=r.next()).done;)s();return n},Lee=function(){function t(e,r,n){this.text=Hee(r.data,n.textTransform),this.textBounds=kee(e,this.text,n,r)}return t}(),Hee=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Vee,Kee);case 2:return t.toUpperCase();default:return t}},Vee=/(^|\s|:|-|\(|\))([a-z])/g,Kee=function(t,e,r){return t.length>0?e+r.toUpperCase():t},Vj=function(t){bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Gi),Kj=function(t){bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(Gi),$j=function(t){bi(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=new XMLSerializer,a=$0(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Gi),Gj=function(t){bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Gi),Ub=function(t){bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(Gi),$ee=[{type:15,flags:0,unit:"px",number:3}],Gee=[{type:16,flags:0,number:50}],zee=function(t){return t.width>t.height?new Ps(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Ps(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Wee=function(t){var e=t.type===Yee?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},lp="checkbox",up="radio",Yee="password",pF=707406591,UE=function(t){bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=Wee(n),(i.type===lp||i.type===up)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=zee(i.bounds)),i.type){case lp:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=$ee;break;case up:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Gee;break}return i}return e}(Gi),zj=function(t){bi(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(Gi),Wj=function(t){bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Gi),Yj=function(t){bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=qj(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?wd(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):bs.TRANSPARENT,a=n.contentWindow.document.body?wd(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):bs.TRANSPARENT;i.backgroundColor=La(s)?La(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e}(Gi),Xee=["OL","UL","MENU"],om=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,Jj(i)&&i.data.trim().length>0)r.textNodes.push(new Lee(t,i,r.styles));else if(Ql(i))if(rR(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return om(t,o,r,n)});else{var a=Xj(t,i);a.styles.isVisible()&&(qee(i,a,n)?a.flags|=4:Jee(a.styles)&&(a.flags|=2),Xee.indexOf(i.tagName)!==-1&&(a.flags|=8),r.elements.push(a),i.slot,i.shadowRoot?om(t,i.shadowRoot,a,n):!cp(i)&&!Zj(i)&&!dp(i)&&om(t,i,a,n))}},Xj=function(t,e){return Nb(e)?new Vj(t,e):eR(e)?new Kj(t,e):Zj(e)?new $j(t,e):Zee(e)?new Gj(t,e):ete(e)?new Ub(t,e):tte(e)?new UE(t,e):dp(e)?new zj(t,e):cp(e)?new Wj(t,e):tR(e)?new Yj(t,e):new Gi(t,e)},qj=function(t,e){var r=Xj(t,e);return r.flags|=4,om(t,e,r,r),r},qee=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||PE(t)&&r.styles.isTransparent()},Jee=function(t){return t.isPositioned()||t.isFloating()},Jj=function(t){return t.nodeType===Node.TEXT_NODE},Ql=function(t){return t.nodeType===Node.ELEMENT_NODE},Pb=function(t){return Ql(t)&&typeof t.style<"u"&&!Am(t)},Am=function(t){return typeof t.className=="object"},Zee=function(t){return t.tagName==="LI"},ete=function(t){return t.tagName==="OL"},tte=function(t){return t.tagName==="INPUT"},rte=function(t){return t.tagName==="HTML"},Zj=function(t){return t.tagName==="svg"},PE=function(t){return t.tagName==="BODY"},eR=function(t){return t.tagName==="CANVAS"},vF=function(t){return t.tagName==="VIDEO"},Nb=function(t){return t.tagName==="IMG"},tR=function(t){return t.tagName==="IFRAME"},yF=function(t){return t.tagName==="STYLE"},nte=function(t){return t.tagName==="SCRIPT"},cp=function(t){return t.tagName==="TEXTAREA"},dp=function(t){return t.tagName==="SELECT"},rR=function(t){return t.tagName==="SLOT"},wF=function(t){return t.tagName.indexOf("-")>0},ite=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(o){var A=r.counters[o.counter];A&&o.increment!==0&&(s=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var A=r.counters[o.counter];a.push(o.counter),A||(A=r.counters[o.counter]=[]),A.push(o.reset)}),a},t}(),xF={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},bF={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},ste={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},ate={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Al=function(t,e,r,n,i,s){return t<e||t>r?of(t,i,s.length>0):n.integers.reduce(function(a,o,A){for(;t>=o;)t-=o,a+=n.values[A];return a},"")+s},nR=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},Dt=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(nR(Math.abs(t),s,n,function(a){return jt(Math.floor(a%s)+e)})+i)},To=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return nR(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},pl=1,sa=2,aa=4,qc=8,Zi=function(t,e,r,n,i,s){if(t<-9999||t>9999)return of(t,4,i.length>0);var a=Math.abs(t),o=i;if(a===0)return e[0]+o;for(var A=0;a>0&&A<=4;A++){var l=a%10;l===0&&Xt(s,pl)&&o!==""?o=e[l]+o:l>1||l===1&&A===0||l===1&&A===1&&Xt(s,sa)||l===1&&A===1&&Xt(s,aa)&&t>100||l===1&&A>1&&Xt(s,qc)?o=e[l]+(A>0?r[A-1]:"")+o:l===1&&A>0&&(o=r[A-1]+o),a=Math.floor(a/10)}return(t<0?n:"")+o},BF="十百千萬",CF="拾佰仟萬",EF="マイナス",lw="마이너스",of=function(t,e,r){var n=r?". ":"",i=r?"、":"",s=r?", ":"",a=r?" ":"";switch(e){case 0:return"•"+a;case 1:return"◦"+a;case 2:return"◾"+a;case 5:var o=Dt(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return To(t,"〇一二三四五六七八九",i);case 6:return Al(t,1,3999,xF,3,n).toLowerCase();case 7:return Al(t,1,3999,xF,3,n);case 8:return Dt(t,945,969,!1,n);case 9:return Dt(t,97,122,!1,n);case 10:return Dt(t,65,90,!1,n);case 11:return Dt(t,1632,1641,!0,n);case 12:case 49:return Al(t,1,9999,bF,3,n);case 35:return Al(t,1,9999,bF,3,n).toLowerCase();case 13:return Dt(t,2534,2543,!0,n);case 14:case 30:return Dt(t,6112,6121,!0,n);case 15:return To(t,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return To(t,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return Zi(t,"零一二三四五六七八九",BF,"負",i,sa|aa|qc);case 47:return Zi(t,"零壹貳參肆伍陸柒捌玖",CF,"負",i,pl|sa|aa|qc);case 42:return Zi(t,"零一二三四五六七八九",BF,"负",i,sa|aa|qc);case 41:return Zi(t,"零壹贰叁肆伍陆柒捌玖",CF,"负",i,pl|sa|aa|qc);case 26:return Zi(t,"〇一二三四五六七八九","十百千万",EF,i,0);case 25:return Zi(t,"零壱弐参四伍六七八九","拾百千万",EF,i,pl|sa|aa);case 31:return Zi(t,"영일이삼사오육칠팔구","십백천만",lw,s,pl|sa|aa);case 33:return Zi(t,"零一二三四五六七八九","十百千萬",lw,s,0);case 32:return Zi(t,"零壹貳參四五六七八九","拾百千",lw,s,pl|sa|aa);case 18:return Dt(t,2406,2415,!0,n);case 20:return Al(t,1,19999,ate,3,n);case 21:return Dt(t,2790,2799,!0,n);case 22:return Dt(t,2662,2671,!0,n);case 22:return Al(t,1,10999,ste,3,n);case 23:return To(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return To(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Dt(t,3302,3311,!0,n);case 28:return To(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return To(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return Dt(t,3792,3801,!0,n);case 37:return Dt(t,6160,6169,!0,n);case 38:return Dt(t,4160,4169,!0,n);case 39:return Dt(t,2918,2927,!0,n);case 40:return Dt(t,1776,1785,!0,n);case 43:return Dt(t,3046,3055,!0,n);case 44:return Dt(t,3174,3183,!0,n);case 45:return Dt(t,3664,3673,!0,n);case 46:return Dt(t,3872,3881,!0,n);case 3:default:return Dt(t,48,57,!0,n)}},iR="data-html2canvas-ignore",_F=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new ite,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=ote(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,A=o.document,l=ute(i).then(function(){return Rr(n,void 0,void 0,function(){var u,d;return Fr(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(hte),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),u=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,lte(A)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(A,d)}).then(function(){return i})]:[2,i]}})})});return A.open(),A.write(dte(document.doctype)+"<html></html>"),fte(this.referenceElement.ownerDocument,s,a),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),l},t.prototype.createElementClone=function(e){if(Tb(e,2))debugger;if(eR(e))return this.createCanvasClone(e);if(vF(e))return this.createVideoClone(e);if(yF(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return Nb(r)&&(Nb(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),wF(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return uw(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var A=o.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!Ql(r)||!nte(r)&&!r.hasAttribute(iR)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Ql(r)||!yF(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Ql(s)&&rR(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(r,o,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(Jj(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Ql(e)&&(Pb(e)||Am(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&Pb(i)&&(this.clonedReferenceElement=i),PE(i)&&pte(i);var A=this.counters.parse(new nF(this.context,s)),l=this.resolvePseudoContent(e,i,a,Bd.BEFORE);wF(e)&&(r=!0),vF(e)||this.cloneChildNodes(e,i,r),l&&i.insertBefore(l,i.firstChild);var u=this.resolvePseudoContent(e,i,o,Bd.AFTER);return u&&i.appendChild(u),this.counters.pop(A),(s&&(this.options.copyStyles||Am(e))&&!tR(e)||r)&&uw(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(cp(e)||dp(e))&&(cp(i)||dp(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var s=this;if(n){var a=n.content,o=r.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new nF(this.context,n));var A=new ZZ(this.context,n),l=o.createElement("html2canvaspseudoelement");uw(n,l),A.content.forEach(function(d){if(d.type===0)l.appendChild(o.createTextNode(d.value));else if(d.type===22){var f=o.createElement("img");f.src=d.value,f.style.opacity="1",l.appendChild(f)}else if(d.type===18){if(d.name==="attr"){var g=d.values.filter(Ze);g.length&&l.appendChild(o.createTextNode(e.getAttribute(g[0].value)||""))}else if(d.name==="counter"){var m=d.values.filter(pu),p=m[0],v=m[1];if(p&&Ze(p)){var y=s.counters.getCounterValue(p.value),w=v&&Ze(v)?Sb.parse(s.context,v.value):3;l.appendChild(o.createTextNode(of(y,w,!1)))}}else if(d.name==="counters"){var B=d.values.filter(pu),p=B[0],I=B[1],v=B[2];if(p&&Ze(p)){var T=s.counters.getCounterValues(p.value),F=v&&Ze(v)?Sb.parse(s.context,v.value):3,C=I&&I.type===0?I.value:"",_=T.map(function(Q){return of(Q,F,!1)}).join(C);l.appendChild(o.createTextNode(_))}}}else if(d.type===20)switch(d.value){case"open-quote":l.appendChild(o.createTextNode(rF(A.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(rF(A.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(d.value))}}),l.className=Qb+" "+kb;var u=i===Bd.BEFORE?" "+Qb:" "+kb;return Am(r)?r.className.baseValue+=u:r.className+=u,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Bd;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Bd||(Bd={}));var ote=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(iR,"true"),t.body.appendChild(r),r},Ate=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},lte=function(t){return Promise.all([].slice.call(t.images,0).map(Ate))},ute=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},cte=["all","d","content"],uw=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);cte.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},dte=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},fte=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},hte=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},gte=":before",mte=":after",Qb="___html2canvas___pseudoelement_before",kb="___html2canvas___pseudoelement_after",IF=`{
    content: "" !important;
    display: none !important;
}`,pte=function(t){vte(t,"."+Qb+gte+IF+`
         .`+kb+mte+IF)},vte=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},sR=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),yte=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(dw(e)||Bte(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Rr(this,void 0,void 0,function(){var r,n,i,s,a=this;return Fr(this,function(o){switch(o.label){case 0:return r=sR.isSameOrigin(e),n=!cw(e)&&this._options.useCORS===!0&&pr.SUPPORT_CORS_IMAGES&&!r,i=!cw(e)&&!r&&!dw(e)&&typeof this._options.proxy=="string"&&pr.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!cw(e)&&!dw(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(A,l){var u=new Image;u.onload=function(){return A(u)},u.onerror=l,(Cte(s)||n)&&(u.crossOrigin="anonymous"),u.src=s,u.complete===!0&&setTimeout(function(){return A(u)},500),a._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=pr.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(o==="text")s(A.response);else{var d=new FileReader;d.addEventListener("load",function(){return s(d.result)},!1),d.addEventListener("error",function(f){return a(f)},!1),d.readAsDataURL(A.response)}else a("Failed to proxy resource "+i+" with status code "+A.status)},A.onerror=a;var l=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=o),r._options.imageTimeout){var u=r._options.imageTimeout;A.timeout=u,A.ontimeout=function(){return a("Timed out ("+u+"ms) proxying "+i)}}A.send()})},t}(),wte=/^data:image\/svg\+xml/i,xte=/^data:image\/.*;base64,/i,bte=/^data:image\/.*/i,Bte=function(t){return pr.SUPPORT_SVG_DRAWING||!Ete(t)},cw=function(t){return bte.test(t)},Cte=function(t){return xte.test(t)},dw=function(t){return t.substr(0,4)==="blob"},Ete=function(t){return t.substr(-3).toLowerCase()==="svg"||wte.test(t)},le=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),ll=function(t,e,r){return new le(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},dg=function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=ll(this.start,this.startControl,e),i=ll(this.startControl,this.endControl,e),s=ll(this.endControl,this.end,e),a=ll(n,i,e),o=ll(i,s,e),A=ll(a,o,e);return r?new t(this.start,n,a,A):new t(A,o,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Hn=function(t){return t.type===1},_te=function(){function t(e){var r=e.styles,n=e.bounds,i=Yc(r.borderTopLeftRadius,n.width,n.height),s=i[0],a=i[1],o=Yc(r.borderTopRightRadius,n.width,n.height),A=o[0],l=o[1],u=Yc(r.borderBottomRightRadius,n.width,n.height),d=u[0],f=u[1],g=Yc(r.borderBottomLeftRadius,n.width,n.height),m=g[0],p=g[1],v=[];v.push((s+A)/n.width),v.push((m+d)/n.width),v.push((a+p)/n.height),v.push((l+f)/n.height);var y=Math.max.apply(Math,v);y>1&&(s/=y,a/=y,A/=y,l/=y,d/=y,f/=y,m/=y,p/=y);var w=n.width-A,B=n.height-f,I=n.width-d,T=n.height-p,F=r.borderTopWidth,C=r.borderRightWidth,_=r.borderBottomWidth,S=r.borderLeftWidth,P=ot(r.paddingTop,e.bounds.width),Q=ot(r.paddingRight,e.bounds.width),k=ot(r.paddingBottom,e.bounds.width),N=ot(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?gt(n.left+S/3,n.top+F/3,s-S/3,a-F/3,We.TOP_LEFT):new le(n.left+S/3,n.top+F/3),this.topRightBorderDoubleOuterBox=s>0||a>0?gt(n.left+w,n.top+F/3,A-C/3,l-F/3,We.TOP_RIGHT):new le(n.left+n.width-C/3,n.top+F/3),this.bottomRightBorderDoubleOuterBox=d>0||f>0?gt(n.left+I,n.top+B,d-C/3,f-_/3,We.BOTTOM_RIGHT):new le(n.left+n.width-C/3,n.top+n.height-_/3),this.bottomLeftBorderDoubleOuterBox=m>0||p>0?gt(n.left+S/3,n.top+T,m-S/3,p-_/3,We.BOTTOM_LEFT):new le(n.left+S/3,n.top+n.height-_/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?gt(n.left+S*2/3,n.top+F*2/3,s-S*2/3,a-F*2/3,We.TOP_LEFT):new le(n.left+S*2/3,n.top+F*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?gt(n.left+w,n.top+F*2/3,A-C*2/3,l-F*2/3,We.TOP_RIGHT):new le(n.left+n.width-C*2/3,n.top+F*2/3),this.bottomRightBorderDoubleInnerBox=d>0||f>0?gt(n.left+I,n.top+B,d-C*2/3,f-_*2/3,We.BOTTOM_RIGHT):new le(n.left+n.width-C*2/3,n.top+n.height-_*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||p>0?gt(n.left+S*2/3,n.top+T,m-S*2/3,p-_*2/3,We.BOTTOM_LEFT):new le(n.left+S*2/3,n.top+n.height-_*2/3),this.topLeftBorderStroke=s>0||a>0?gt(n.left+S/2,n.top+F/2,s-S/2,a-F/2,We.TOP_LEFT):new le(n.left+S/2,n.top+F/2),this.topRightBorderStroke=s>0||a>0?gt(n.left+w,n.top+F/2,A-C/2,l-F/2,We.TOP_RIGHT):new le(n.left+n.width-C/2,n.top+F/2),this.bottomRightBorderStroke=d>0||f>0?gt(n.left+I,n.top+B,d-C/2,f-_/2,We.BOTTOM_RIGHT):new le(n.left+n.width-C/2,n.top+n.height-_/2),this.bottomLeftBorderStroke=m>0||p>0?gt(n.left+S/2,n.top+T,m-S/2,p-_/2,We.BOTTOM_LEFT):new le(n.left+S/2,n.top+n.height-_/2),this.topLeftBorderBox=s>0||a>0?gt(n.left,n.top,s,a,We.TOP_LEFT):new le(n.left,n.top),this.topRightBorderBox=A>0||l>0?gt(n.left+w,n.top,A,l,We.TOP_RIGHT):new le(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||f>0?gt(n.left+I,n.top+B,d,f,We.BOTTOM_RIGHT):new le(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=m>0||p>0?gt(n.left,n.top+T,m,p,We.BOTTOM_LEFT):new le(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?gt(n.left+S,n.top+F,Math.max(0,s-S),Math.max(0,a-F),We.TOP_LEFT):new le(n.left+S,n.top+F),this.topRightPaddingBox=A>0||l>0?gt(n.left+Math.min(w,n.width-C),n.top+F,w>n.width+C?0:Math.max(0,A-C),Math.max(0,l-F),We.TOP_RIGHT):new le(n.left+n.width-C,n.top+F),this.bottomRightPaddingBox=d>0||f>0?gt(n.left+Math.min(I,n.width-S),n.top+Math.min(B,n.height-_),Math.max(0,d-C),Math.max(0,f-_),We.BOTTOM_RIGHT):new le(n.left+n.width-C,n.top+n.height-_),this.bottomLeftPaddingBox=m>0||p>0?gt(n.left+S,n.top+Math.min(T,n.height-_),Math.max(0,m-S),Math.max(0,p-_),We.BOTTOM_LEFT):new le(n.left+S,n.top+n.height-_),this.topLeftContentBox=s>0||a>0?gt(n.left+S+N,n.top+F+P,Math.max(0,s-(S+N)),Math.max(0,a-(F+P)),We.TOP_LEFT):new le(n.left+S+N,n.top+F+P),this.topRightContentBox=A>0||l>0?gt(n.left+Math.min(w,n.width+S+N),n.top+F+P,w>n.width+S+N?0:A-S+N,l-(F+P),We.TOP_RIGHT):new le(n.left+n.width-(C+Q),n.top+F+P),this.bottomRightContentBox=d>0||f>0?gt(n.left+Math.min(I,n.width-(S+N)),n.top+Math.min(B,n.height+F+P),Math.max(0,d-(C+Q)),f-(_+k),We.BOTTOM_RIGHT):new le(n.left+n.width-(C+Q),n.top+n.height-(_+k)),this.bottomLeftContentBox=m>0||p>0?gt(n.left+S+N,n.top+T,Math.max(0,m-(S+N)),p-(_+k),We.BOTTOM_LEFT):new le(n.left+S+N,n.top+n.height-(_+k))}return t}(),We;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(We||(We={}));var gt=function(t,e,r,n,i){var s=4*((Math.sqrt(2)-1)/3),a=r*s,o=n*s,A=t+r,l=e+n;switch(i){case We.TOP_LEFT:return new dg(new le(t,l),new le(t,l-o),new le(A-a,e),new le(A,e));case We.TOP_RIGHT:return new dg(new le(t,e),new le(t+a,e),new le(A,l-o),new le(A,l));case We.BOTTOM_RIGHT:return new dg(new le(A,e),new le(A,e+o),new le(t+a,l),new le(t,l));case We.BOTTOM_LEFT:default:return new dg(new le(A,l),new le(A-a,l),new le(t,e+o),new le(t,e))}},fp=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Ite=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},hp=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Ste=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),fg=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),Tte=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),Fte=function(t){return t.type===0},aR=function(t){return t.type===1},Ute=function(t){return t.type===2},SF=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},Pte=function(t,e,r,n,i){return t.map(function(s,a){switch(a){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+i);case 3:return s.add(e,r+i)}return s})},oR=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),AR=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new _te(this.container),this.container.styles.opacity<1&&this.effects.push(new Tte(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Ste(n,i,s))}if(this.container.styles.overflowX!==0){var a=fp(this.curves),o=hp(this.curves);SF(a,o)?this.effects.push(new fg(a,6)):(this.effects.push(new fg(a,2)),this.effects.push(new fg(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(A){return!aR(A)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=fp(n.curves),o=hp(n.curves);SF(a,o)||i.unshift(new fg(o,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(A){return Xt(A.target,e)})},t}(),Ob=function(t,e,r,n){t.container.elements.forEach(function(i){var s=Xt(i.flags,4),a=Xt(i.flags,2),o=new AR(i,t);Xt(i.styles.display,2048)&&n.push(o);var A=Xt(i.flags,8)?[]:n;if(s||a){var l=s||i.styles.isPositioned()?r:e,u=new oR(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var f=0;l.negativeZIndex.some(function(m,p){return d>m.element.container.styles.zIndex.order?(f=p,!1):f>0}),l.negativeZIndex.splice(f,0,u)}else if(d>0){var g=0;l.positiveZIndex.some(function(m,p){return d>=m.element.container.styles.zIndex.order?(g=p+1,!1):g>0}),l.positiveZIndex.splice(g,0,u)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?l.nonPositionedFloats.push(u):l.nonPositionedInlineLevel.push(u);Ob(o,u,s?u:r,A)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),Ob(o,e,r,A);Xt(i.flags,8)&&lR(i,A)})},lR=function(t,e){for(var r=t instanceof Ub?t.start:1,n=t instanceof Ub?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof Gj&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=of(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},Nte=function(t){var e=new AR(t,null),r=new oR(e),n=[];return Ob(e,r,r,n),lR(e.container,n),r},TF=function(t,e){switch(e){case 0:return Yn(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Yn(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Yn(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Yn(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Qte=function(t,e){switch(e){case 0:return Yn(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Yn(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Yn(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Yn(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},kte=function(t,e){switch(e){case 0:return Yn(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Yn(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Yn(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Yn(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Ote=function(t,e){switch(e){case 0:return hg(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return hg(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return hg(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return hg(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},hg=function(t,e){var r=[];return Hn(t)?r.push(t.subdivide(.5,!1)):r.push(t),Hn(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Yn=function(t,e,r,n){var i=[];return Hn(t)?i.push(t.subdivide(.5,!1)):i.push(t),Hn(r)?i.push(r.subdivide(.5,!0)):i.push(r),Hn(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Hn(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},uR=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},gp=function(t){var e=t.styles,r=t.bounds,n=ot(e.paddingLeft,r.width),i=ot(e.paddingRight,r.width),s=ot(e.paddingTop,r.width),a=ot(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},Dte=function(t,e){return t===0?e.bounds:t===2?gp(e):uR(e)},jte=function(t,e){return t===0?e.bounds:t===2?gp(e):uR(e)},fw=function(t,e,r){var n=Dte(vl(t.styles.backgroundOrigin,e),t),i=jte(vl(t.styles.backgroundClip,e),t),s=Rte(vl(t.styles.backgroundSize,e),r,n),a=s[0],o=s[1],A=Yc(vl(t.styles.backgroundPosition,e),n.width-a,n.height-o),l=Mte(vl(t.styles.backgroundRepeat,e),A,s,n,i),u=Math.round(n.left+A[0]),d=Math.round(n.top+A[1]);return[l,u,d,a,o]},ul=function(t){return Ze(t)&&t.value===zl.AUTO},gg=function(t){return typeof t=="number"},Rte=function(t,e,r){var n=e[0],i=e[1],s=e[2],a=t[0],o=t[1];if(!a)return[0,0];if(Vt(a)&&o&&Vt(o))return[ot(a,r.width),ot(o,r.height)];var A=gg(s);if(Ze(a)&&(a.value===zl.CONTAIN||a.value===zl.COVER)){if(gg(s)){var l=r.width/r.height;return l<s!=(a.value===zl.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var u=gg(n),d=gg(i),f=u||d;if(ul(a)&&(!o||ul(o))){if(u&&d)return[n,i];if(!A&&!f)return[r.width,r.height];if(f&&A){var g=u?n:i*s,m=d?i:n/s;return[g,m]}var p=u?n:r.width,v=d?i:r.height;return[p,v]}if(A){var y=0,w=0;return Vt(a)?y=ot(a,r.width):Vt(o)&&(w=ot(o,r.height)),ul(a)?y=w*s:(!o||ul(o))&&(w=y/s),[y,w]}var B=null,I=null;if(Vt(a)?B=ot(a,r.width):o&&Vt(o)&&(I=ot(o,r.height)),B!==null&&(!o||ul(o))&&(I=u&&d?B/n*i:r.height),I!==null&&ul(a)&&(B=u&&d?I/i*n:r.width),B!==null&&I!==null)return[B,I];throw new Error("Unable to calculate background-size for element")},vl=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},Mte=function(t,e,r,n,i){var s=e[0],a=e[1],o=r[0],A=r[1];switch(t){case 2:return[new le(Math.round(n.left),Math.round(n.top+a)),new le(Math.round(n.left+n.width),Math.round(n.top+a)),new le(Math.round(n.left+n.width),Math.round(A+n.top+a)),new le(Math.round(n.left),Math.round(A+n.top+a))];case 3:return[new le(Math.round(n.left+s),Math.round(n.top)),new le(Math.round(n.left+s+o),Math.round(n.top)),new le(Math.round(n.left+s+o),Math.round(n.height+n.top)),new le(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new le(Math.round(n.left+s),Math.round(n.top+a)),new le(Math.round(n.left+s+o),Math.round(n.top+a)),new le(Math.round(n.left+s+o),Math.round(n.top+a+A)),new le(Math.round(n.left+s),Math.round(n.top+a+A))];default:return[new le(Math.round(i.left),Math.round(i.top)),new le(Math.round(i.left+i.width),Math.round(i.top)),new le(Math.round(i.left+i.width),Math.round(i.height+i.top)),new le(Math.round(i.left),Math.round(i.height+i.top))]}},Lte="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",FF="Hidden Text",Hte=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),i.src=Lte,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(FF)),n.appendChild(s),n.appendChild(i);var o=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(FF)),n.style.lineHeight="normal",i.style.verticalAlign="super";var A=i.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:A}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),cR=function(){function t(e,r){this.context=e,this.options=r}return t}(),Vte=1e4,Kte=function(t){bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new Hte(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),Ute(r)&&(this.ctx.globalAlpha=r.opacity),Fte(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),aR(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Rr(this,void 0,void 0,function(){var n;return Fr(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Rr(this,void 0,void 0,function(){return Fr(this,function(n){switch(n.label){case 0:if(Xt(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var a=FE(r.text);a.reduce(function(o,A){return s.ctx.fillText(A,o,r.bounds.top+i),o+s.ctx.measureText(A).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=Yte(r.fontFamily).join(", "),s=jf(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(r,n){return Rr(this,void 0,void 0,function(){var i,s,a,o,A,l,u,d,f=this;return Fr(this,function(g){return i=this.createFontStyle(n),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(a,o),l=A.baseline,u=A.middle,d=n.paintOrder,r.textBounds.forEach(function(m){d.forEach(function(p){switch(p){case 0:f.ctx.fillStyle=sr(n.color),f.renderTextWithLetterSpacing(m,n.letterSpacing,l);var v=n.textShadow;v.length&&m.text.trim().length&&(v.slice(0).reverse().forEach(function(y){f.ctx.shadowColor=sr(y.color),f.ctx.shadowOffsetX=y.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=y.offsetY.number*f.options.scale,f.ctx.shadowBlur=y.blur.number,f.renderTextWithLetterSpacing(m,n.letterSpacing,l)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=sr(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+l),m.bounds.width,1);break;case 2:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:f.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+u),m.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&m.text.trim().length&&(f.ctx.strokeStyle=sr(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+l)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=gp(r),a=hp(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Rr(this,void 0,void 0,function(){var n,i,s,a,o,A,w,w,l,u,d,f,I,g,m,T,p,v,y,w,B,I,T;return Fr(this,function(F){switch(F.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,a=0,o=n.textNodes,F.label=1;case 1:return a<o.length?(A=o[a],[4,this.renderTextNode(A,s)]):[3,4];case 2:F.sent(),F.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof Vj))return[3,8];F.label=5;case 5:return F.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return w=F.sent(),this.renderReplacedElement(n,i,w),[3,8];case 7:return F.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Kj&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof $j))return[3,12];F.label=9;case 9:return F.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return w=F.sent(),this.renderReplacedElement(n,i,w),[3,12];case 11:return F.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Yj&&n.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,l.render(n.tree)]):[3,14];case 13:u=F.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),F.label=14;case 14:if(n instanceof UE&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===lp?n.checked&&(this.ctx.save(),this.path([new le(n.bounds.left+d*.39363,n.bounds.top+d*.79),new le(n.bounds.left+d*.16,n.bounds.top+d*.5549),new le(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new le(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new le(n.bounds.left+d*.72983,n.bounds.top+d*.23),new le(n.bounds.left+d*.84,n.bounds.top+d*.34085),new le(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=sr(pF),this.ctx.fill(),this.ctx.restore()):n.type===up&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=sr(pF),this.ctx.fill(),this.ctx.restore())),$te(n)&&n.value.length){switch(f=this.createFontStyle(s),I=f[0],g=f[1],m=this.fontMetrics.getMetrics(I,g).baseline,this.ctx.font=I,this.ctx.fillStyle=sr(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=zte(n.styles.textAlign),T=gp(n),p=0,n.styles.textAlign){case 1:p+=T.width/2;break;case 2:p+=T.width;break}v=T.add(p,0,0,-T.height/2+1),this.ctx.save(),this.path([new le(T.left,T.top),new le(T.left+T.width,T.top),new le(T.left+T.width,T.top+T.height),new le(T.left,T.top+T.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new bd(n.value,v),s.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Xt(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];w=void 0,B=y.url,F.label=15;case 15:return F.trys.push([15,17,,18]),[4,this.context.cache.match(B)];case 16:return w=F.sent(),this.ctx.drawImage(w,n.bounds.left-(w.width+10),n.bounds.top),[3,18];case 17:return F.sent(),this.context.logger.error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(I=this.createFontStyle(s)[0],this.ctx.font=I,this.ctx.fillStyle=sr(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",T=new Ps(n.bounds.left,n.bounds.top+ot(n.styles.paddingTop,n.bounds.width),n.bounds.width,eF(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new bd(r.listValue,T),s.letterSpacing,eF(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),F.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Rr(this,void 0,void 0,function(){var n,i,y,s,a,y,o,A,y,l,u,y,d,f,y,g,m,y,p,v,y;return Fr(this,function(w){switch(w.label){case 0:if(Xt(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:w.sent(),n=0,i=r.negativeZIndex,w.label=2;case 2:return n<i.length?(y=i[n],[4,this.renderStack(y)]):[3,5];case 3:w.sent(),w.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:w.sent(),s=0,a=r.nonInlineLevel,w.label=7;case 7:return s<a.length?(y=a[s],[4,this.renderNode(y)]):[3,10];case 8:w.sent(),w.label=9;case 9:return s++,[3,7];case 10:o=0,A=r.nonPositionedFloats,w.label=11;case 11:return o<A.length?(y=A[o],[4,this.renderStack(y)]):[3,14];case 12:w.sent(),w.label=13;case 13:return o++,[3,11];case 14:l=0,u=r.nonPositionedInlineLevel,w.label=15;case 15:return l<u.length?(y=u[l],[4,this.renderStack(y)]):[3,18];case 16:w.sent(),w.label=17;case 17:return l++,[3,15];case 18:d=0,f=r.inlineLevel,w.label=19;case 19:return d<f.length?(y=f[d],[4,this.renderNode(y)]):[3,22];case 20:w.sent(),w.label=21;case 21:return d++,[3,19];case 22:g=0,m=r.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return g<m.length?(y=m[g],[4,this.renderStack(y)]):[3,26];case 24:w.sent(),w.label=25;case 25:return g++,[3,23];case 26:p=0,v=r.positiveZIndex,w.label=27;case 27:return p<v.length?(y=v[p],[4,this.renderStack(y)]):[3,30];case 28:w.sent(),w.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var a=Hn(i)?i.start:i;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),Hn(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var A=o.getContext("2d");return A.drawImage(r,0,0,r.width,r.height,0,0,n,i),o},e.prototype.renderBackgroundImage=function(r){return Rr(this,void 0,void 0,function(){var n,i,s,a,o,A;return Fr(this,function(l){switch(l.label){case 0:n=r.styles.backgroundImage.length-1,i=function(u){var d,f,g,P,me,pe,N,ae,_,m,P,me,pe,N,ae,p,v,y,w,B,I,T,F,C,_,S,P,Q,k,N,ae,be,me,pe,J,ie,ue,Se,ne,Pe,Ye,D;return Fr(this,function(V){switch(V.label){case 0:if(u.type!==0)return[3,5];d=void 0,f=u.url,V.label=1;case 1:return V.trys.push([1,3,,4]),[4,s.context.cache.match(f)];case 2:return d=V.sent(),[3,4];case 3:return V.sent(),s.context.logger.error("Error loading background-image "+f),[3,4];case 4:return d&&(g=fw(r,n,[d.width,d.height,d.width/d.height]),P=g[0],me=g[1],pe=g[2],N=g[3],ae=g[4],_=s.ctx.createPattern(s.resizeImage(d,N,ae),"repeat"),s.renderRepeat(P,_,me,pe)),[3,6];case 5:FJ(u)?(m=fw(r,n,[null,null,null]),P=m[0],me=m[1],pe=m[2],N=m[3],ae=m[4],p=EJ(u.angle,N,ae),v=p[0],y=p[1],w=p[2],B=p[3],I=p[4],T=document.createElement("canvas"),T.width=N,T.height=ae,F=T.getContext("2d"),C=F.createLinearGradient(y,B,w,I),J2(u.stops,v).forEach(function(j){return C.addColorStop(j.stop,sr(j.color))}),F.fillStyle=C,F.fillRect(0,0,N,ae),N>0&&ae>0&&(_=s.ctx.createPattern(T,"repeat"),s.renderRepeat(P,_,me,pe))):UJ(u)&&(S=fw(r,n,[null,null,null]),P=S[0],Q=S[1],k=S[2],N=S[3],ae=S[4],be=u.position.length===0?[IE]:u.position,me=ot(be[0],N),pe=ot(be[be.length-1],ae),J=_J(u,me,pe,N,ae),ie=J[0],ue=J[1],ie>0&&ue>0&&(Se=s.ctx.createRadialGradient(Q+me,k+pe,0,Q+me,k+pe,ie),J2(u.stops,ie*2).forEach(function(j){return Se.addColorStop(j.stop,sr(j.color))}),s.path(P),s.ctx.fillStyle=Se,ie!==ue?(ne=r.bounds.left+.5*r.bounds.width,Pe=r.bounds.top+.5*r.bounds.height,Ye=ue/ie,D=1/Ye,s.ctx.save(),s.ctx.translate(ne,Pe),s.ctx.transform(1,0,0,Ye,0,0),s.ctx.translate(-ne,-Pe),s.ctx.fillRect(Q,D*(k-Pe)+Pe,N,ae*D),s.ctx.restore()):s.ctx.fill())),V.label=6;case 6:return n--,[2]}})},s=this,a=0,o=r.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return a<o.length?(A=o[a],[5,i(A)]):[3,4];case 2:l.sent(),l.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return Rr(this,void 0,void 0,function(){return Fr(this,function(s){return this.path(TF(i,n)),this.ctx.fillStyle=sr(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,s){return Rr(this,void 0,void 0,function(){var a,o;return Fr(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return A.sent(),[2];case 2:return a=Qte(s,i),this.path(a),this.ctx.fillStyle=sr(r),this.ctx.fill(),o=kte(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Rr(this,void 0,void 0,function(){var n,i,s,a,o,A,l,u,d=this;return Fr(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!La(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=Gte(vl(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),La(n.backgroundColor)||(this.ctx.fillStyle=sr(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){d.ctx.save();var m=fp(r.curves),p=g.inset?0:Vte,v=Pte(m,-p+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(d.path(m),d.ctx.clip(),d.mask(v)):(d.mask(m),d.ctx.clip(),d.path(v)),d.ctx.shadowOffsetX=g.offsetX.number+p,d.ctx.shadowOffsetY=g.offsetY.number,d.ctx.shadowColor=sr(g.color),d.ctx.shadowBlur=g.blur.number,d.ctx.fillStyle=g.inset?sr(g.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),f.label=2;case 2:o=0,A=0,l=s,f.label=3;case 3:return A<l.length?(u=l[A],u.style!==0&&!La(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,r.curves)];case 10:f.sent(),f.label=11;case 11:o++,f.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,s,a){return Rr(this,void 0,void 0,function(){var o,A,l,u,d,f,g,m,p,v,y,w,B,I,T,F,T,F;return Fr(this,function(C){return this.ctx.save(),o=Ote(s,i),A=TF(s,i),a===2&&(this.path(A),this.ctx.clip()),Hn(A[0])?(l=A[0].start.x,u=A[0].start.y):(l=A[0].x,u=A[0].y),Hn(A[1])?(d=A[1].end.x,f=A[1].end.y):(d=A[1].x,f=A[1].y),i===0||i===2?g=Math.abs(l-d):g=Math.abs(u-f),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(A.slice(0,2)),m=n<3?n*3:n*2,p=n<3?n*2:n,a===3&&(m=n,p=n),v=!0,g<=m*2?v=!1:g<=m*2+p?(y=g/(2*m+p),m*=y,p*=y):(w=Math.floor((g+p)/(m+p)),B=(g-w*m)/(w-1),I=(g-(w+1)*m)/w,p=I<=0||Math.abs(p-B)<Math.abs(p-I)?B:I),v&&(a===3?this.ctx.setLineDash([0,m+p]):this.ctx.setLineDash([m,p])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=sr(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Hn(A[0])&&(T=A[3],F=A[0],this.ctx.beginPath(),this.formatPath([new le(T.end.x,T.end.y),new le(F.start.x,F.start.y)]),this.ctx.stroke()),Hn(A[1])&&(T=A[1],F=A[2],this.ctx.beginPath(),this.formatPath([new le(T.end.x,T.end.y),new le(F.start.x,F.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Rr(this,void 0,void 0,function(){var n;return Fr(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Nte(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(cR),$te=function(t){return t instanceof Wj||t instanceof zj?!0:t instanceof UE&&t.type!==up&&t.type!==lp},Gte=function(t,e){switch(t){case 0:return fp(e);case 2:return Ite(e);case 1:default:return hp(e)}},zte=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Wte=["-apple-system","system-ui"],Yte=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return Wte.indexOf(e)===-1}):t},Xte=function(t){bi(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return Rr(this,void 0,void 0,function(){var n,i;return Fr(this,function(s){switch(s.label){case 0:return n=Fb(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,qte(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(cR),qte=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Jte=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,zh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,zh([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,zh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,zh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),Zte=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new Jte({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new yte(this,e)}return t.instanceCount=1,t}(),dR=function(t,e){return e===void 0&&(e={}),ere(t,e)};typeof window<"u"&&sR.setContext(window);var ere=function(t,e){return Rr(void 0,void 0,void 0,function(){var r,n,i,s,a,o,A,l,u,d,f,g,m,p,v,y,w,B,I,T,C,F,C,_,S,P,Q,k,N,ae,be,me,pe,J,ie,ue,Se,ne,Pe,Ye;return Fr(this,function(D){switch(D.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(_=e.allowTaint)!==null&&_!==void 0?_:!1,imageTimeout:(S=e.imageTimeout)!==null&&S!==void 0?S:15e3,proxy:e.proxy,useCORS:(P=e.useCORS)!==null&&P!==void 0?P:!1},s=gb({logging:(Q=e.logging)!==null&&Q!==void 0?Q:!0,cache:e.cache},i),a={windowWidth:(k=e.windowWidth)!==null&&k!==void 0?k:n.innerWidth,windowHeight:(N=e.windowHeight)!==null&&N!==void 0?N:n.innerHeight,scrollX:(ae=e.scrollX)!==null&&ae!==void 0?ae:n.pageXOffset,scrollY:(be=e.scrollY)!==null&&be!==void 0?be:n.pageYOffset},o=new Ps(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),A=new Zte(s,o),l=(me=e.foreignObjectRendering)!==null&&me!==void 0?me:!1,u={allowTaint:(pe=e.allowTaint)!==null&&pe!==void 0?pe:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},A.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),d=new _F(A,t,u),f=d.clonedReferenceElement,f?[4,d.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=D.sent(),m=PE(f)||rte(f)?PX(f.ownerDocument):$0(A,f),p=m.width,v=m.height,y=m.left,w=m.top,B=tre(A,f,e.backgroundColor),I={canvas:e.canvas,backgroundColor:B,scale:(ie=(J=e.scale)!==null&&J!==void 0?J:n.devicePixelRatio)!==null&&ie!==void 0?ie:1,x:((ue=e.x)!==null&&ue!==void 0?ue:0)+y,y:((Se=e.y)!==null&&Se!==void 0?Se:0)+w,width:(ne=e.width)!==null&&ne!==void 0?ne:Math.ceil(p),height:(Pe=e.height)!==null&&Pe!==void 0?Pe:Math.ceil(v)},l?(A.logger.debug("Document cloned, using foreign object rendering"),C=new Xte(A,I),[4,C.render(f)]):[3,3];case 2:return T=D.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+y+","+w+" with size "+p+"x"+v+" using computed rendering"),A.logger.debug("Starting DOM parsing"),F=qj(A,f),B===F.styles.backgroundColor&&(F.styles.backgroundColor=bs.TRANSPARENT),A.logger.debug("Starting renderer for element at "+I.x+","+I.y+" with size "+I.width+"x"+I.height),C=new Kte(A,I),[4,C.render(F)];case 4:T=D.sent(),D.label=5;case 5:return(!((Ye=e.removeContainer)!==null&&Ye!==void 0)||Ye)&&(_F.destroy(g)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,T]}})})},tre=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?wd(t,getComputedStyle(n.documentElement).backgroundColor):bs.TRANSPARENT,s=n.body?wd(t,getComputedStyle(n.body).backgroundColor):bs.TRANSPARENT,a=typeof r=="string"?wd(t,r):r===null?bs.TRANSPARENT:4294967295;return e===n.documentElement?La(i)?La(s)?a:s:i:a};const rre=Object.freeze(Object.defineProperty({__proto__:null,default:dR},Symbol.toStringTag,{value:"Module"})),UF=({selectedDate:t,onDateSelect:e,className:r=""})=>{const[n,i]=x.useState(t?new Date(t):new Date),[s,a]=x.useState(n.getMonth()),[o,A]=x.useState(n.getFullYear()),l=v=>["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][v],u=()=>["日","一","二","三","四","五","六"],d=(v,y)=>new Date(v,y,1).getDay(),f=(v,y)=>new Date(v,y+1,0).getDate(),g=()=>{const v=d(o,s),y=f(o,s),w=[];for(let B=0;B<v;B++)w.push(c.jsx("div",{className:"h-7 w-7 flex items-center justify-center"},`empty-${B}`));for(let B=1;B<=y;B++){const I=new Date(o,s,B),T=t&&t.getFullYear()===o&&t.getMonth()===s&&t.getDate()===B,F=new Date().toDateString()===I.toDateString();w.push(c.jsx("button",{onClick:()=>e(I),className:`
            h-7 w-7 rounded text-xs font-medium transition-all duration-200
            flex items-center justify-center
            hover:bg-green-400/20 hover:scale-105
            ${T?"bg-green-400 text-white shadow-lg":F?"bg-blue-400/20 text-blue-400 border border-blue-400/30":"text-gray-300 hover:text-white"}
          `,children:B},B))}return w},m=()=>{s===0?(a(11),A(o-1)):a(s-1)},p=()=>{s===11?(a(0),A(o+1)):a(s+1)};return c.jsxs("div",{className:`bg-gradient-to-br from-surface/80 to-surface/60 rounded-lg p-3 border border-white/20 shadow-lg backdrop-blur-sm ${r}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("button",{onClick:m,className:"p-1.5 rounded-md bg-white/10 hover:bg-white/20 transition-colors",children:c.jsx("svg",{className:"w-4 h-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),c.jsxs("h3",{className:"text-sm font-bold text-white",children:[o,"年 ",l(s)]}),c.jsx("button",{onClick:p,className:"p-1.5 rounded-md bg-white/10 hover:bg-white/20 transition-colors",children:c.jsx("svg",{className:"w-4 h-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),c.jsx("div",{className:"grid grid-cols-7 mb-1.5",children:u().map(v=>c.jsx("div",{className:"h-6 w-7 flex items-center justify-center text-xs font-medium text-gray-400",children:v},v))}),c.jsx("div",{className:"grid grid-cols-7",children:g()})]})},nre=({startDate:t,endDate:e,onStartDateSelect:r,onEndDateSelect:n,className:i=""})=>{const[s,a]=x.useState(!1),[o,A]=x.useState(!1),l=u=>u?`${u.getFullYear()}年${u.getMonth()+1}月${u.getDate()}日`:"";return c.jsxs("div",{className:`space-y-4 ${i}`,children:[c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-300",children:"開始日期"}),c.jsx("button",{onClick:()=>{a(!s),A(!1)},className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-left hover:bg-white/20 transition-colors focus:border-green-400/50 text-sm",children:t?l(t):"選擇開始日期"}),s&&c.jsx("div",{className:"mt-1.5",children:c.jsx(UF,{selectedDate:t,onDateSelect:u=>{r(u),a(!1)}})})]}),c.jsxs("div",{className:"space-y-1.5",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-300",children:"結束日期"}),c.jsx("button",{onClick:()=>{A(!o),a(!1)},className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-left hover:bg-white/20 transition-colors focus:border-green-400/50 text-sm",children:e?l(e):"選擇結束日期"}),o&&c.jsx("div",{className:"mt-1.5",children:c.jsx(UF,{selectedDate:e,onDateSelect:u=>{n(u),A(!1)}})})]})]})},ire=({size:t="md",color:e="blue",text:r="載入中..."})=>{const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"},i={blue:"border-blue-400",green:"border-green-400",red:"border-red-400",yellow:"border-yellow-400",purple:"border-purple-400",pink:"border-pink-400"};return c.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[c.jsx("div",{className:`animate-spin rounded-full border-b-2 ${n[t]} ${i[e]}`}),r&&c.jsx("p",{className:"text-sm text-gray-400",children:r})]})},sre=({isLoading:t,children:e,text:r="載入中..."})=>c.jsxs("div",{className:"relative",children:[e,t&&c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:c.jsx("div",{className:"bg-surface/90 rounded-xl p-6 border border-white/20",children:c.jsx(ire,{size:"lg",text:r})})})]}),OA=(t,e,r={})=>e(),fR=t=>()=>{},mn={early:{color:"pink",icon:c.jsx("svg",{className:"w-5 h-5 text-pink-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),title:"早班統計",gradient:"from-pink-500/20 to-rose-500/20",border:"border-pink-400/30"},night:{color:"blue",icon:c.jsx("svg",{className:"w-5 h-5 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),title:"晚班統計",gradient:"from-blue-500/20 to-indigo-500/20",border:"border-blue-400/30"},consecutive:{color:"orange",icon:c.jsx("svg",{className:"w-5 h-5 text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),title:"連續上班",gradient:"from-orange-500/20 to-yellow-500/20",border:"border-orange-400/30"},stockLover:{color:"emerald",icon:c.jsx("svg",{className:"w-5 h-5 text-emerald-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),title:"熱愛進貨",gradient:"from-emerald-500/20 to-green-500/20",border:"border-emerald-400/30"}},mg=({title:t,icon:e,themeColor:r,children:n,isLoading:i})=>c.jsxs("div",{className:`bg-gradient-to-br ${mn[r].gradient} rounded-2xl p-4 border ${mn[r].border} shadow-xl backdrop-blur-sm`,children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx("div",{className:`w-10 h-10 rounded-full bg-${mn[r].color}-500/20 border border-${mn[r].color}-400/30 flex items-center justify-center mr-3`,children:e}),c.jsx("h3",{className:`text-lg font-bold text-${mn[r].color}-300`,children:t})]}),c.jsx(sre,{isLoading:i,children:n})]}),are=({schedule:t,names:e,showAll:r=!1})=>{const i=OA("早班統計計算",()=>{const a=[],o=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();Object.keys(t).forEach(d=>{var g;if(d==="_lastUpdated")return;let f=0;for(let m=1;m<=o;m++)((g=t[d])==null?void 0:g[m])==="早"&&f++;a.push({employeeId:d,name:e[d]||d,count:f})});const A=a.sort((d,f)=>f.count-d.count);let l=1,u=null;return A.map((d,f)=>(u!==null&&d.count!==u&&(l=f+1),u=d.count,{...d,rank:l}))},{logThreshold:5}),s=r?i:i.slice(0,5);return c.jsx("div",{className:"space-y-3",children:i.length>0?s.map(a=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500/30 border border-pink-400/50 flex items-center justify-center text-xs font-bold text-pink-300",children:a.rank}),c.jsx("span",{className:"text-white font-medium text-sm",children:a.name})]}),c.jsxs("div",{className:"text-pink-300 font-bold text-sm",children:[a.count," 次"]})]},a.employeeId)):c.jsxs("div",{className:"text-center py-6 text-gray-400",children:[c.jsx("div",{className:"text-4xl mb-2",children:"🌅"}),c.jsx("div",{children:"本月無早班記錄"})]})})},ore=({schedule:t,names:e,showAll:r=!1})=>{const i=OA("晚班統計計算",()=>{const a=[],o=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();Object.keys(t).forEach(d=>{var g;if(d==="_lastUpdated")return;let f=0;for(let m=1;m<=o;m++)((g=t[d])==null?void 0:g[m])==="晚"&&f++;a.push({employeeId:d,name:e[d]||d,count:f})});const A=a.sort((d,f)=>f.count-d.count);let l=1,u=null;return A.map((d,f)=>(u!==null&&d.count!==u&&(l=f+1),u=d.count,{...d,rank:l}))},{logThreshold:5}),s=r?i:i.slice(0,5);return c.jsx("div",{className:"space-y-3",children:i.length>0?s.map(a=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500/30 border border-blue-400/50 flex items-center justify-center text-xs font-bold text-blue-300",children:a.rank}),c.jsx("span",{className:"text-white font-medium text-sm",children:a.name})]}),c.jsxs("div",{className:"text-blue-300 font-bold text-sm",children:[a.count," 次"]})]},a.employeeId)):c.jsxs("div",{className:"text-center py-6 text-gray-400",children:[c.jsx("div",{className:"text-4xl mb-2",children:"🌙"}),c.jsx("div",{children:"本月無晚班記錄"})]})})},Are=({schedule:t,names:e,showAll:r=!1})=>{const i=OA("連續上班統計計算",()=>{const a=[],o=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();Object.keys(t).forEach(d=>{var m;if(d==="_lastUpdated")return;let f=0,g=0;for(let p=1;p<=o;p++){const v=(m=t[d])==null?void 0:m[p];v&&v!=="休"?g++:(f=Math.max(f,g),g=0)}f=Math.max(f,g),a.push({employeeId:d,name:e[d]||d,maxConsecutive:f})});const A=a.sort((d,f)=>f.maxConsecutive-d.maxConsecutive);let l=1,u=null;return A.map((d,f)=>(u!==null&&d.maxConsecutive!==u&&(l=f+1),u=d.maxConsecutive,{...d,rank:l}))},{logThreshold:5}),s=r?i:i.slice(0,5);return c.jsx("div",{className:"space-y-3",children:i.length>0?s.map(a=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-500/30 border border-orange-400/50 flex items-center justify-center text-xs font-bold text-orange-300",children:a.rank}),c.jsx("span",{className:"text-white font-medium text-sm",children:a.name})]}),c.jsxs("div",{className:"text-orange-300 font-bold text-sm",children:[a.maxConsecutive," 天"]})]},a.employeeId)):c.jsxs("div",{className:"text-center py-6 text-gray-400",children:[c.jsx("div",{className:"text-4xl mb-2",children:"⚡"}),c.jsx("div",{children:"本月無連續上班記錄"})]})})},lre=({schedule:t,names:e,showAll:r=!1})=>{const i=OA("熱愛進貨統計計算",()=>{const a=[],o=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();Object.keys(t).forEach(d=>{d!=="_lastUpdated"&&a.push({employeeId:d,name:e[d]||d,count:0})});for(let d=1;d<=o;d++)new Date(new Date().getFullYear(),new Date().getMonth(),d).getDay()===3&&Object.keys(t).forEach(m=>{var v;if(m==="_lastUpdated")return;const p=(v=t[m])==null?void 0:v[d];if(p==="中"||p==="晚"){const y=a.find(w=>w.employeeId===m);y&&y.count++}});const A=a.sort((d,f)=>f.count-d.count);let l=1,u=null;return A.map((d,f)=>(u!==null&&d.count!==u&&(l=f+1),u=d.count,{...d,rank:l}))},{logThreshold:5}),s=r?i:i.slice(0,5);return c.jsx("div",{className:"space-y-3",children:i.length>0?s.map(a=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/30 border border-emerald-400/50 flex items-center justify-center text-xs font-bold text-emerald-300",children:a.rank}),c.jsx("span",{className:"text-white font-medium text-sm",children:a.name})]}),c.jsxs("div",{className:"text-emerald-300 font-bold text-sm",children:[a.count," 次"]})]},a.employeeId)):c.jsxs("div",{className:"text-center py-6 text-gray-400",children:[c.jsx("div",{className:"text-4xl mb-2",children:"📦"}),c.jsx("div",{children:"本月無進貨記錄"})]})})};function ure({schedule:t,names:e,loadingStates:r,selectedEmployee:n,allSchedules:i,selectedMonth:s}){const a=fR(),[o,A]=lA.useState(!1);return lA.useEffect(()=>{a()}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(mg,{title:mn.early.title,icon:mn.early.icon,themeColor:"early",isLoading:r.statistics,children:c.jsx(are,{schedule:t,names:e,showAll:o})}),c.jsx(mg,{title:mn.night.title,icon:mn.night.icon,themeColor:"night",isLoading:r.statistics,children:c.jsx(ore,{schedule:t,names:e,showAll:o})}),c.jsx(mg,{title:mn.consecutive.title,icon:mn.consecutive.icon,themeColor:"consecutive",isLoading:r.statistics,children:c.jsx(Are,{schedule:t,names:e,showAll:o})}),c.jsx(mg,{title:mn.stockLover.title,icon:mn.stockLover.icon,themeColor:"stockLover",isLoading:r.statistics,children:c.jsx(lre,{schedule:t,names:e,showAll:o})})]}),c.jsx("div",{className:"flex justify-center",children:c.jsx("button",{onClick:()=>A(!o),className:"px-8 py-3 bg-gradient-to-r from-blue-500/20 to-purple-500/20 hover:from-blue-500/30 hover:to-purple-500/30 border border-blue-400/30 text-blue-300 rounded-xl transition-all duration-200 text-sm font-medium shadow-lg backdrop-blur-sm",children:o?"收起所有排名":"查看全部排名"})})]})}function hR(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=hR(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function $e(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=hR(t))&&(n&&(n+=" "),n+=e);return n}var tv={},gR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(gR);var NE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(NE);var QE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(QE);var rv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){const n=[],i=r.length;if(i===0)return n;let s=0,a="",o="",A=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const l=r[s];o?l==="\\"&&s+1<i?(s++,a+=r[s]):l===o?o="":a+=l:A?l==='"'||l==="'"?o=l:l==="]"?(A=!1,n.push(a),a=""):a+=l:l==="["?(A=!0,a&&(n.push(a),a="")):l==="."?a&&(n.push(a),a=""):a+=l,s++}return a&&n.push(a),n}t.toPath=e})(rv);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gR,r=NE,n=QE,i=rv;function s(o,A,l){if(o==null)return l;switch(typeof A){case"string":{if(e.isUnsafeProperty(A))return l;const u=o[A];return u===void 0?r.isDeepKey(A)?s(o,i.toPath(A),l):l:u}case"number":case"symbol":{typeof A=="number"&&(A=n.toKey(A));const u=o[A];return u===void 0?l:u}default:{if(Array.isArray(A))return a(o,A,l);if(Object.is(A==null?void 0:A.valueOf(),-0)?A="-0":A=String(A),e.isUnsafeProperty(A))return l;const u=o[A];return u===void 0?l:u}}}function a(o,A,l){if(A.length===0)return l;let u=o;for(let d=0;d<A.length;d++){if(u==null||e.isUnsafeProperty(A[d]))return l;u=u[A[d]]}return u===void 0?l:u}t.get=s})(tv);var cre=tv.get;const ro=Ki(cre);var mR={exports:{}},st={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE=Symbol.for("react.transitional.element"),OE=Symbol.for("react.portal"),nv=Symbol.for("react.fragment"),iv=Symbol.for("react.strict_mode"),sv=Symbol.for("react.profiler"),av=Symbol.for("react.consumer"),ov=Symbol.for("react.context"),Av=Symbol.for("react.forward_ref"),lv=Symbol.for("react.suspense"),uv=Symbol.for("react.suspense_list"),cv=Symbol.for("react.memo"),dv=Symbol.for("react.lazy"),dre=Symbol.for("react.view_transition"),fre=Symbol.for("react.client.reference");function ii(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kE:switch(t=t.type,t){case nv:case sv:case iv:case lv:case uv:case dre:return t;default:switch(t=t&&t.$$typeof,t){case ov:case Av:case dv:case cv:return t;case av:return t;default:return e}}case OE:return e}}}st.ContextConsumer=av;st.ContextProvider=ov;st.Element=kE;st.ForwardRef=Av;st.Fragment=nv;st.Lazy=dv;st.Memo=cv;st.Portal=OE;st.Profiler=sv;st.StrictMode=iv;st.Suspense=lv;st.SuspenseList=uv;st.isContextConsumer=function(t){return ii(t)===av};st.isContextProvider=function(t){return ii(t)===ov};st.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kE};st.isForwardRef=function(t){return ii(t)===Av};st.isFragment=function(t){return ii(t)===nv};st.isLazy=function(t){return ii(t)===dv};st.isMemo=function(t){return ii(t)===cv};st.isPortal=function(t){return ii(t)===OE};st.isProfiler=function(t){return ii(t)===sv};st.isStrictMode=function(t){return ii(t)===iv};st.isSuspense=function(t){return ii(t)===lv};st.isSuspenseList=function(t){return ii(t)===uv};st.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===nv||t===sv||t===iv||t===lv||t===uv||typeof t=="object"&&t!==null&&(t.$$typeof===dv||t.$$typeof===cv||t.$$typeof===ov||t.$$typeof===av||t.$$typeof===Av||t.$$typeof===fre||t.getModuleId!==void 0)};st.typeOf=ii;mR.exports=st;var hre=mR.exports,ur=t=>t===0?0:t>0?1:-1,In=t=>typeof t=="number"&&t!=+t,zo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,de=t=>(typeof t=="number"||t instanceof Number)&&!In(t),Hi=t=>de(t)||typeof t=="string",gre=0,Af=t=>{var e=++gre;return"".concat(t||"").concat(e)},zr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(e)&&typeof e!="string")return n;var s;if(zo(e)){if(r==null)return n;var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return In(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},pR=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1},PF=(t,e)=>de(t)&&de(e)?r=>t+r*(e-t):()=>e;function hi(t,e,r){return de(t)&&de(e)?t+r*(e-t):e}function vR(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):ro(n,e))===r)}var ht=t=>t===null||typeof t>"u",Rf=t=>ht(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),mre=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function DE(t){if(typeof t!="string")return!1;var e=mre;return e.includes(t)}var pre=["viewBox","children"],NF=["points","pathLength"],hw={svg:pre,polygon:NF,polyline:NF},jE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(x.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{DE(i)&&(n[i]=s=>r[i](r,s))}),n},vre=(t,e,r)=>n=>(t(e,r,n),null),Mf=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var s=t[i];DE(i)&&typeof s=="function"&&(n||(n={}),n[i]=vre(s,e,r))}),n},yre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function yR(t){if(typeof t!="string")return!1;var e=yre;return e.includes(t)}function Ls(t){var e=Object.entries(t).filter(r=>{var[n]=r;return yR(n)});return Object.fromEntries(e)}var QF=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",kF=null,gw=null,wR=t=>{if(t===kF&&Array.isArray(gw))return gw;var e=[];return x.Children.forEach(t,r=>{ht(r)||(hre.isFragment(r)?e=e.concat(wR(r.props.children)):e.push(r))}),gw=e,kF=t,e};function Lf(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>QF(i)):n=[QF(e)],wR(t).forEach(i=>{var s=ro(i,"type.displayName")||ro(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var xR=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,wre=(t,e,r,n)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(i=n&&(hw==null?void 0:hw[n]))!==null&&i!==void 0?i:[],a=e.startsWith("data-"),o=typeof t!="function"&&(!!n&&s.includes(e)||yR(e)),A=!!r&&DE(e);return a||o||A},yt=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var a;wre((a=n)===null||a===void 0?void 0:a[s],s,e,r)&&(i[s]=n[s])}),i},xre=["children","width","height","viewBox","className","style","title","desc"];function Db(){return Db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Db.apply(null,arguments)}function bre(t,e){if(t==null)return{};var r,n,i=Bre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Bre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var RE=x.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:o,title:A,desc:l}=t,u=bre(t,xre),d=s||{width:n,height:i,x:0,y:0},f=$e("recharts-surface",a);return x.createElement("svg",Db({},yt(u,!0,"svg"),{className:f,width:n,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:e}),x.createElement("title",null,A),x.createElement("desc",null,l),r)}),Cre=["children","className"];function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jb.apply(null,arguments)}function Ere(t,e){if(t==null)return{};var r,n,i=_re(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function _re(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Dr=x.forwardRef((t,e)=>{var{children:r,className:n}=t,i=Ere(t,Cre),s=$e("recharts-layer",n);return x.createElement("g",jb({className:s},yt(i,!0),{ref:e}),r)}),bR=x.createContext(null),Ire=()=>x.useContext(bR);function at(t){return function(){return t}}const BR=Math.cos,mp=Math.sin,Bi=Math.sqrt,pp=Math.PI,fv=2*pp,Rb=Math.PI,Mb=2*Rb,Qo=1e-6,Sre=Mb-Qo;function CR(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Tre(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return CR;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Fre{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?CR:Tre(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,A=n-e,l=i-r,u=a-e,d=o-r,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>Qo)if(!(Math.abs(d*A-l*u)>Qo)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-a,m=i-o,p=A*A+l*l,v=g*g+m*m,y=Math.sqrt(p),w=Math.sqrt(f),B=s*Math.tan((Rb-Math.acos((p+f-v)/(2*y*w)))/2),I=B/w,T=B/y;Math.abs(I-1)>Qo&&this._append`L${e+I*u},${r+I*d}`,this._append`A${s},${s},0,0,${+(d*g>u*m)},${this._x1=e+T*A},${this._y1=r+T*l}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),A=n*Math.sin(i),l=e+o,u=r+A,d=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>Qo||Math.abs(this._y1-u)>Qo)&&this._append`L${l},${u}`,n&&(f<0&&(f=f%Mb+Mb),f>Sre?this._append`A${n},${n},0,1,${d},${e-o},${r-A}A${n},${n},0,1,${d},${this._x1=l},${this._y1=u}`:f>Qo&&this._append`A${n},${n},0,${+(f>=Rb)},${d},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function ME(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Fre(e)}function LE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ER(t){this._context=t}ER.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function hv(t){return new ER(t)}function _R(t){return t[0]}function IR(t){return t[1]}function SR(t,e){var r=at(!0),n=null,i=hv,s=null,a=ME(o);t=typeof t=="function"?t:t===void 0?_R:at(t),e=typeof e=="function"?e:e===void 0?IR:at(e);function o(A){var l,u=(A=LE(A)).length,d,f=!1,g;for(n==null&&(s=i(g=a())),l=0;l<=u;++l)!(l<u&&r(d=A[l],l,A))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(d,l,A),+e(d,l,A));if(g)return s=null,g+""||null}return o.x=function(A){return arguments.length?(t=typeof A=="function"?A:at(+A),o):t},o.y=function(A){return arguments.length?(e=typeof A=="function"?A:at(+A),o):e},o.defined=function(A){return arguments.length?(r=typeof A=="function"?A:at(!!A),o):r},o.curve=function(A){return arguments.length?(i=A,n!=null&&(s=i(n)),o):i},o.context=function(A){return arguments.length?(A==null?n=s=null:s=i(n=A),o):n},o}function pg(t,e,r){var n=null,i=at(!0),s=null,a=hv,o=null,A=ME(l);t=typeof t=="function"?t:t===void 0?_R:at(+t),e=typeof e=="function"?e:at(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?IR:at(+r);function l(d){var f,g,m,p=(d=LE(d)).length,v,y=!1,w,B=new Array(p),I=new Array(p);for(s==null&&(o=a(w=A())),f=0;f<=p;++f){if(!(f<p&&i(v=d[f],f,d))===y)if(y=!y)g=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=f-1;m>=g;--m)o.point(B[m],I[m]);o.lineEnd(),o.areaEnd()}y&&(B[f]=+t(v,f,d),I[f]=+e(v,f,d),o.point(n?+n(v,f,d):B[f],r?+r(v,f,d):I[f]))}if(w)return o=null,w+""||null}function u(){return SR().defined(i).curve(a).context(s)}return l.x=function(d){return arguments.length?(t=typeof d=="function"?d:at(+d),n=null,l):t},l.x0=function(d){return arguments.length?(t=typeof d=="function"?d:at(+d),l):t},l.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:at(+d),l):n},l.y=function(d){return arguments.length?(e=typeof d=="function"?d:at(+d),r=null,l):e},l.y0=function(d){return arguments.length?(e=typeof d=="function"?d:at(+d),l):e},l.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:at(+d),l):r},l.lineX0=l.lineY0=function(){return u().x(t).y(e)},l.lineY1=function(){return u().x(t).y(r)},l.lineX1=function(){return u().x(n).y(e)},l.defined=function(d){return arguments.length?(i=typeof d=="function"?d:at(!!d),l):i},l.curve=function(d){return arguments.length?(a=d,s!=null&&(o=a(s)),l):a},l.context=function(d){return arguments.length?(d==null?s=o=null:o=a(s=d),l):s},l}class TR{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Ure(t){return new TR(t,!0)}function Pre(t){return new TR(t,!1)}const HE={draw(t,e){const r=Bi(e/pp);t.moveTo(r,0),t.arc(0,0,r,0,fv)}},Nre={draw(t,e){const r=Bi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},FR=Bi(1/3),Qre=FR*2,kre={draw(t,e){const r=Bi(e/Qre),n=r*FR;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Ore={draw(t,e){const r=Bi(e),n=-r/2;t.rect(n,n,r,r)}},Dre=.8908130915292852,UR=mp(pp/10)/mp(7*pp/10),jre=mp(fv/10)*UR,Rre=-BR(fv/10)*UR,Mre={draw(t,e){const r=Bi(e*Dre),n=jre*r,i=Rre*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=fv*s/5,o=BR(a),A=mp(a);t.lineTo(A*r,-o*r),t.lineTo(o*n-A*i,A*n+o*i)}t.closePath()}},mw=Bi(3),Lre={draw(t,e){const r=-Bi(e/(mw*3));t.moveTo(0,r*2),t.lineTo(-mw*r,-r),t.lineTo(mw*r,-r),t.closePath()}},kn=-.5,On=Bi(3)/2,Lb=1/Bi(12),Hre=(Lb/2+1)*3,Vre={draw(t,e){const r=Bi(e/Hre),n=r/2,i=r*Lb,s=n,a=r*Lb+r,o=-s,A=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,A),t.lineTo(kn*n-On*i,On*n+kn*i),t.lineTo(kn*s-On*a,On*s+kn*a),t.lineTo(kn*o-On*A,On*o+kn*A),t.lineTo(kn*n+On*i,kn*i-On*n),t.lineTo(kn*s+On*a,kn*a-On*s),t.lineTo(kn*o+On*A,kn*A-On*o),t.closePath()}};function Kre(t,e){let r=null,n=ME(i);t=typeof t=="function"?t:at(t||HE),e=typeof e=="function"?e:at(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:at(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:at(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function vp(){}function yp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function PR(t){this._context=t}PR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $re(t){return new PR(t)}function NR(t){this._context=t}NR.prototype={areaStart:vp,areaEnd:vp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:yp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gre(t){return new NR(t)}function QR(t){this._context=t}QR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:yp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zre(t){return new QR(t)}function kR(t){this._context=t}kR.prototype={areaStart:vp,areaEnd:vp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Wre(t){return new kR(t)}function OF(t){return t<0?-1:1}function DF(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(OF(s)+OF(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function jF(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function pw(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function wp(t){this._context=t}wp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pw(this,this._t0,jF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,pw(this,jF(this,r=DF(this,t,e)),r);break;default:pw(this,this._t0,r=DF(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function OR(t){this._context=new DR(t)}(OR.prototype=Object.create(wp.prototype)).point=function(t,e){wp.prototype.point.call(this,e,t)};function DR(t){this._context=t}DR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function Yre(t){return new wp(t)}function Xre(t){return new OR(t)}function jR(t){this._context=t}jR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=RF(t),i=RF(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function RF(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function qre(t){return new jR(t)}function gv(t,e){this._context=t,this._t=e}gv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Jre(t){return new gv(t,.5)}function Zre(t){return new gv(t,0)}function ene(t){return new gv(t,1)}function vu(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Hb(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function tne(t,e){return t[e]}function rne(t){const e=[];return e.key=t,e}function nne(){var t=at([]),e=Hb,r=vu,n=tne;function i(s){var a=Array.from(t.apply(this,arguments),rne),o,A=a.length,l=-1,u;for(const d of s)for(o=0,++l;o<A;++o)(a[o][l]=[0,+n(d,a[o].key,l,s)]).data=d;for(o=0,u=LE(e(a));o<A;++o)a[u[o]].index=o;return r(a,u),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:at(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:at(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?Hb:typeof s=="function"?s:at(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??vu,i):r},i}function ine(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}vu(t,e)}}function sne(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}vu(t,e)}}function ane(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,A=0,l=0;o<a;++o){for(var u=t[e[o]],d=u[n][1]||0,f=u[n-1][1]||0,g=(d-f)/2,m=0;m<o;++m){var p=t[e[m]],v=p[n][1]||0,y=p[n-1][1]||0;g+=v-y}A+=d,l+=g*d}i[n-1][1]+=i[n-1][0]=r,A&&(r-=l/A)}i[n-1][1]+=i[n-1][0]=r,vu(t,e)}}var one=["type","size","sizeType"];function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vb.apply(null,arguments)}function MF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MF(Object(r),!0).forEach(function(n){Ane(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ane(t,e,r){return(e=lne(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lne(t){var e=une(t,"string");return typeof e=="symbol"?e:e+""}function une(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cne(t,e){if(t==null)return{};var r,n,i=dne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function dne(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var RR={symbolCircle:HE,symbolCross:Nre,symbolDiamond:kre,symbolSquare:Ore,symbolStar:Mre,symbolTriangle:Lre,symbolWye:Vre},fne=Math.PI/180,hne=t=>{var e="symbol".concat(Rf(t));return RR[e]||HE},gne=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*fne;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},mne=(t,e)=>{RR["symbol".concat(Rf(t))]=e},VE=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=cne(t,one),s=LF(LF({},i),{},{type:e,size:r,sizeType:n}),a=()=>{var d=hne(e),f=Kre().type(d).size(gne(r,n,e));return f()},{className:o,cx:A,cy:l}=s,u=yt(s,!0);return A===+A&&l===+l&&r===+r?x.createElement("path",Vb({},u,{className:$e("recharts-symbols",o),transform:"translate(".concat(A,", ").concat(l,")"),d:a()})):null};VE.registerSymbol=mne;function Kb(){return Kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kb.apply(null,arguments)}function HF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HF(Object(r),!0).forEach(function(n){KE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KE(t,e,r){return(e=vne(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vne(t){var e=yne(t,"string");return typeof e=="symbol"?e:e+""}function yne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var li=32;class $E extends x.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,i=li/2,s=li/6,a=li/3,o=e.inactive?n:e.color,A=r??e.type;if(A==="none")return null;if(A==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:li,y2:i,className:"recharts-legend-icon"});if(A==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(li,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(A==="rect")return x.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(li/8,"h").concat(li,"v").concat(li*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(x.isValidElement(e.legendIcon)){var l=pne({},e);return delete l.legendIcon,x.cloneElement(e.legendIcon,l)}return x.createElement(VE,{fill:o,cx:i,cy:i,size:li,sizeType:"diameter",type:A})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:a}=this.props,o={x:0,y:0,width:li,height:li},A={display:n==="horizontal"?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,d)=>{var f=u.formatter||i,g=$e({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:u.inactive});if(u.type==="none")return null;var m=u.inactive?s:u.color,p=f?f(u.value,u,d):u.value;return x.createElement("li",Kb({className:g,style:A,key:"legend-item-".concat(d)},Mf(this.props,u,d)),x.createElement(RE,{width:r,height:r,viewBox:o,style:l,"aria-label":"".concat(p," legend icon")},this.renderIcon(u,a)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},p))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}KE($E,"displayName","Legend");KE($E,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var MR={},LR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],o=n(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(LR);var GE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(GE);var HR={},mv={},VR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(VR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VR;function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(mv);var KR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(KR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mv,r=KR;function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(HR);var $R={},GR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tv;function r(n){return function(i){return e.get(i,n)}}t.property=r})(GR);var zR={},vw={},yw={},zE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(zE);var WE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(WE);var pv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(pv);var VF;function wne(){return VF||(VF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YE(),r=zE,n=WE,i=pv;function s(d,f,g){return typeof g!="function"?e.isMatch(d,f):a(d,f,function m(p,v,y,w,B,I){const T=g(p,v,y,w,B,I);return T!==void 0?!!T:a(p,v,m,I)},new Map)}function a(d,f,g,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,g,m);case"function":return Object.keys(f).length>0?a(d,{...f},g,m):i.eq(d,f);default:return r.isObject(d)?typeof f=="string"?f==="":!0:i.eq(d,f)}}function o(d,f,g,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,g,m);if(f instanceof Map)return A(d,f,g,m);if(f instanceof Set)return u(d,f,g,m);const p=Object.keys(f);if(d==null)return p.length===0;if(p.length===0)return!0;if(m&&m.has(f))return m.get(f)===d;m&&m.set(f,d);try{for(let v=0;v<p.length;v++){const y=p[v];if(!n.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!g(d[y],f[y],y,d,f,m))return!1}return!0}finally{m&&m.delete(f)}}function A(d,f,g,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,v]of f.entries()){const y=d.get(p);if(g(y,v,p,d,f,m)===!1)return!1}return!0}function l(d,f,g,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let v=0;v<f.length;v++){const y=f[v];let w=!1;for(let B=0;B<d.length;B++){if(p.has(B))continue;const I=d[B];let T=!1;if(g(I,y,v,d,f,m)&&(T=!0),T){p.add(B),w=!0;break}}if(!w)return!1}return!0}function u(d,f,g,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],g,m):!1}t.isMatchWith=s,t.isSetMatch=u}(yw)),yw}var KF;function YE(){return KF||(KF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wne();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r}(vw)),vw}var WR={},XE={},qE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(qE);var vv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(vv);var yv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",A="[object Map]",l="[object Set]",u="[object Array]",d="[object Function]",f="[object ArrayBuffer]",g="[object Object]",m="[object Error]",p="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",w="[object Uint16Array]",B="[object Uint32Array]",I="[object BigUint64Array]",T="[object Int8Array]",F="[object Int16Array]",C="[object Int32Array]",_="[object BigInt64Array]",S="[object Float32Array]",P="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=f,t.arrayTag=u,t.bigInt64ArrayTag=_,t.bigUint64ArrayTag=I,t.booleanTag=i,t.dataViewTag=p,t.dateTag=o,t.errorTag=m,t.float32ArrayTag=S,t.float64ArrayTag=P,t.functionTag=d,t.int16ArrayTag=F,t.int32ArrayTag=C,t.int8ArrayTag=T,t.mapTag=A,t.numberTag=n,t.objectTag=g,t.regexpTag=e,t.setTag=l,t.stringTag=r,t.symbolTag=a,t.uint16ArrayTag=w,t.uint32ArrayTag=B,t.uint8ArrayTag=v,t.uint8ClampedArrayTag=y})(yv);var YR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(YR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qE,r=vv,n=yv,i=WE,s=YR;function a(u,d){return o(u,void 0,u,new Map,d)}function o(u,d,f,g=new Map,m=void 0){const p=m==null?void 0:m(u,d,f,g);if(p!=null)return p;if(i.isPrimitive(u))return u;if(g.has(u))return g.get(u);if(Array.isArray(u)){const v=new Array(u.length);g.set(u,v);for(let y=0;y<u.length;y++)v[y]=o(u[y],y,f,g,m);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;g.set(u,v);for(const[y,w]of u)v.set(y,o(w,y,f,g,m));return v}if(u instanceof Set){const v=new Set;g.set(u,v);for(const y of u)v.add(o(y,void 0,f,g,m));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(s.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);g.set(u,v);for(let y=0;y<u.length;y++)v[y]=o(u[y],y,f,g,m);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return g.set(u,v),A(v,u,f,g,m),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return g.set(u,v),A(v,u,f,g,m),v}if(u instanceof Blob){const v=new Blob([u],{type:u.type});return g.set(u,v),A(v,u,f,g,m),v}if(u instanceof Error){const v=new u.constructor;return g.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,A(v,u,f,g,m),v}if(typeof u=="object"&&l(u)){const v=Object.create(Object.getPrototypeOf(u));return g.set(u,v),A(v,u,f,g,m),v}return u}function A(u,d,f=u,g,m){const p=[...Object.keys(d),...e.getSymbols(d)];for(let v=0;v<p.length;v++){const y=p[v],w=Object.getOwnPropertyDescriptor(u,y);(w==null||w.writable)&&(u[y]=o(d[y],y,f,g,m))}}function l(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=A})(XE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XE;function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(WR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YE(),r=WR;function n(i){return i=r.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=n})(zR);var XR={},qR={},JR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XE,r=yv;function n(i,s){return e.cloneDeepWith(i,(a,o,A,l)=>{const u=s==null?void 0:s(a,o,A,l);if(u!=null)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(d,i),d}case r.argumentsTag:{const d={};return e.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}t.cloneDeepWith=n})(JR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JR;function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(qR);var ZR={},JE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(JE);var eM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vv;function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(eM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NE,r=JE,n=eM,i=rv;function s(a,o){let A;if(Array.isArray(o)?A=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?A=i.toPath(o):A=[o],A.length===0)return!1;let l=a;for(let u=0;u<A.length;u++){const d=A[u];if((l==null||!Object.hasOwn(l,d))&&!((Array.isArray(l)||n.isArguments(l))&&r.isIndex(d)&&d<l.length))return!1;l=l[d]}return!0}t.has=s})(ZR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YE(),r=QE,n=qR,i=tv,s=ZR;function a(o,A){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return A=n.cloneDeep(A),function(l){const u=i.get(l,o);return u===void 0?s.has(l,o):A===void 0?u===void 0:e.isMatch(u,A)}}t.matchesProperty=a})(XR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GE,r=GR,n=zR,i=XR;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}t.iteratee=s})($R);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LR,r=GE,n=HR,i=$R;function s(a,o=r.identity){return n.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}t.uniqBy=s})(MR);var xne=MR.uniqBy;const $F=Ki(xne);function tM(t,e,r){return e===!0?$F(t,r):typeof e=="function"?$F(t,e):t}var rM={exports:{}},nM={},iM={exports:{}},sM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yu=x;function bne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bne=typeof Object.is=="function"?Object.is:bne,Cne=yu.useState,Ene=yu.useEffect,_ne=yu.useLayoutEffect,Ine=yu.useDebugValue;function Sne(t,e){var r=e(),n=Cne({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return _ne(function(){i.value=r,i.getSnapshot=e,ww(i)&&s({inst:i})},[t,r,e]),Ene(function(){return ww(i)&&s({inst:i}),t(function(){ww(i)&&s({inst:i})})},[t]),Ine(r),r}function ww(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Bne(t,r)}catch{return!0}}function Tne(t,e){return e()}var Fne=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Tne:Sne;sM.useSyncExternalStore=yu.useSyncExternalStore!==void 0?yu.useSyncExternalStore:Fne;iM.exports=sM;var Une=iM.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv=x,Pne=Une;function Nne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qne=typeof Object.is=="function"?Object.is:Nne,kne=Pne.useSyncExternalStore,One=wv.useRef,Dne=wv.useEffect,jne=wv.useMemo,Rne=wv.useDebugValue;nM.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=One(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=jne(function(){function A(g){if(!l){if(l=!0,u=g,g=n(g),i!==void 0&&a.hasValue){var m=a.value;if(i(m,g))return d=m}return d=g}if(m=d,Qne(u,g))return m;var p=n(g);return i!==void 0&&i(m,p)?(u=g,m):(u=g,d=p)}var l=!1,u,d,f=r===void 0?null:r;return[function(){return A(e())},f===null?void 0:function(){return A(f())}]},[e,r,n,i]);var o=kne(t,s[0],s[1]);return Dne(function(){a.hasValue=!0,a.value=o},[o]),Rne(o),o};rM.exports=nM;var Mne=rM.exports,ZE=x.createContext(null),Lne=t=>t,Ft=()=>{var t=x.useContext(ZE);return t?t.store.dispatch:Lne},lm=()=>{},Hne=()=>lm,Vne=(t,e)=>t===e;function ye(t){var e=x.useContext(ZE);return Mne.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Hne,e?e.store.getState:lm,e?e.store.getState:lm,e?t:lm,Vne)}function Kne(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function $ne(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Gne(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var GF=t=>Array.isArray(t)?t:[t];function zne(t){const e=Array.isArray(t[0])?t[0]:t;return Gne(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Wne(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var Yne=class{constructor(t){this.value=t}deref(){return this.value}},Xne=typeof WeakRef<"u"?WeakRef:Yne,qne=0,zF=1;function vg(){return{s:qne,v:void 0,o:null,p:null}}function aM(t,e={}){let r=vg();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var d;let o=r;const{length:A}=arguments;for(let f=0,g=A;f<g;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let p=o.o;p===null&&(o.o=p=new WeakMap);const v=p.get(m);v===void 0?(o=vg(),p.set(m,o)):o=v}else{let p=o.p;p===null&&(o.p=p=new Map);const v=p.get(m);v===void 0?(o=vg(),p.set(m,o)):o=v}}const l=o;let u;if(o.s===zF)u=o.v;else if(u=t.apply(null,arguments),s++,n){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&n(f,u)&&(u=f,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new Xne(u):u}return l.s=zF,l.v=u,u}return a.clearCache=()=>{r=vg(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function Jne(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,o,A={},l=i.pop();typeof l=="object"&&(A=l,l=i.pop()),Kne(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const u={...r,...A},{memoize:d,memoizeOptions:f=[],argsMemoize:g=aM,argsMemoizeOptions:m=[],devModeChecks:p={}}=u,v=GF(f),y=GF(m),w=zne(i),B=d(function(){return s++,l.apply(null,arguments)},...v),I=g(function(){a++;const F=Wne(w,arguments);return o=B.apply(null,F),o},...y);return Object.assign(I,{resultFunc:l,memoizedResultFunc:B,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var $=Jne(aM),Zne=Object.assign((t,e=$)=>{$ne(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,o,A)=>(a[r[A]]=o,a),{}))},{withTypes:()=>Zne}),oM={},AM={},lM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=e(n),o=e(i);if(a===o&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=r})(lM);var uM={},e1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(e1);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e1,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(uM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lM,r=uM,n=rv;function i(s,a,o,A){if(s==null)return[];o=A?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(g=>String(g));const l=(g,m)=>{let p=g;for(let v=0;v<m.length&&p!=null;++v)p=p[m[v]];return p},u=(g,m)=>m==null||g==null?m:typeof g=="object"&&"key"in g?Object.hasOwn(m,g.key)?m[g.key]:l(m,g.path):typeof g=="function"?g(m):Array.isArray(g)?l(m,g):typeof m=="object"?m[g]:m,d=a.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return s.map(g=>({original:g,criteria:d.map(m=>u(m,g))})).slice().sort((g,m)=>{for(let p=0;p<d.length;p++){const v=e.compareValues(g.criteria[p],m.criteria[p],o[p]);if(v!==0)return v}return 0}).map(g=>g.original)}t.orderBy=i})(AM);var cM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],s=Math.floor(n),a=(o,A)=>{for(let l=0;l<o.length;l++){const u=o[l];Array.isArray(u)&&A<s?a(u,A+1):i.push(u)}};return a(r,0),i}t.flatten=e})(cM);var t1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JE,r=mv,n=zE,i=pv;function s(a,o,A){return n.isObject(A)&&(typeof o=="number"&&r.isArrayLike(A)&&e.isIndex(o)&&o<A.length||typeof o=="string"&&o in A)?i.eq(A[o],a):!1}t.isIterateeCall=s})(t1);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AM,r=cM,n=t1;function i(s,...a){const o=a.length;return o>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,r.flatten(a),["asc"])}t.sortBy=i})(oM);var eie=oM.sortBy;const xv=Ki(eie);var dM=t=>t.legend.settings,tie=t=>t.legend.size,rie=t=>t.legend.payload,nie=$([rie,dM],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?xv(n,r):n});function iie(){return ye(nie)}var yg=1;function fM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>yg||Math.abs(a.left-e.left)>yg||Math.abs(a.top-e.top)>yg||Math.abs(a.width-e.width)>yg)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function gr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var sie=typeof Symbol=="function"&&Symbol.observable||"@@observable",WF=sie,xw=()=>Math.random().toString(36).substring(7).split("").join("."),aie={INIT:`@@redux/INIT${xw()}`,REPLACE:`@@redux/REPLACE${xw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${xw()}`},xp=aie;function r1(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function hM(t,e,r){if(typeof t!="function")throw new Error(gr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(gr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(gr(1));return r(hM)(t,e)}let n=t,i=e,s=new Map,a=s,o=0,A=!1;function l(){a===s&&(a=new Map,s.forEach((v,y)=>{a.set(y,v)}))}function u(){if(A)throw new Error(gr(3));return i}function d(v){if(typeof v!="function")throw new Error(gr(4));if(A)throw new Error(gr(5));let y=!0;l();const w=o++;return a.set(w,v),function(){if(y){if(A)throw new Error(gr(6));y=!1,l(),a.delete(w),s=null}}}function f(v){if(!r1(v))throw new Error(gr(7));if(typeof v.type>"u")throw new Error(gr(8));if(typeof v.type!="string")throw new Error(gr(17));if(A)throw new Error(gr(9));try{A=!0,i=n(i,v)}finally{A=!1}return(s=a).forEach(w=>{w()}),v}function g(v){if(typeof v!="function")throw new Error(gr(10));n=v,f({type:xp.REPLACE})}function m(){const v=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(gr(11));function w(){const I=y;I.next&&I.next(u())}return w(),{unsubscribe:v(w)}},[WF](){return this}}}return f({type:xp.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:g,[WF]:m}}function oie(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:xp.INIT})>"u")throw new Error(gr(12));if(typeof r(void 0,{type:xp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gr(13))})}function gM(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{oie(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let A=!1;const l={};for(let u=0;u<n.length;u++){const d=n[u],f=r[d],g=a[d],m=f(g,o);if(typeof m>"u")throw o&&o.type,new Error(gr(14));l[d]=m,A=A||m!==g}return A=A||n.length!==Object.keys(a).length,A?l:a}}function bp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function Aie(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(gr(15))};const a={getState:i.getState,dispatch:(A,...l)=>s(A,...l)},o=t.map(A=>A(a));return s=bp(...o)(i.dispatch),{...i,dispatch:s}}}function mM(t){return r1(t)&&"type"in t&&typeof t.type=="string"}var pM=Symbol.for("immer-nothing"),YF=Symbol.for("immer-draftable"),Sn=Symbol.for("immer-state");function mi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var wu=Object.getPrototypeOf;function BA(t){return!!t&&!!t[Sn]}function Ns(t){var e;return t?vM(t)||Array.isArray(t)||!!t[YF]||!!((e=t.constructor)!=null&&e[YF])||Bv(t)||Cv(t):!1}var lie=Object.prototype.constructor.toString();function vM(t){if(!t||typeof t!="object")return!1;const e=wu(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===lie}function Bp(t,e){bv(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function bv(t){const e=t[Sn];return e?e.type_:Array.isArray(t)?1:Bv(t)?2:Cv(t)?3:0}function $b(t,e){return bv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function yM(t,e,r){const n=bv(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function uie(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Bv(t){return t instanceof Map}function Cv(t){return t instanceof Set}function ko(t){return t.copy_||t.base_}function Gb(t,e){if(Bv(t))return new Map(t);if(Cv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=vM(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Sn];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(wu(t),n)}else{const n=wu(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function n1(t,e=!1){return Ev(t)||BA(t)||!Ns(t)||(bv(t)>1&&(t.set=t.add=t.clear=t.delete=cie),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>n1(n,!0))),t}function cie(){mi(2)}function Ev(t){return Object.isFrozen(t)}var die={};function CA(t){const e=die[t];return e||mi(0,t),e}var lf;function wM(){return lf}function fie(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function XF(t,e){e&&(CA("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function zb(t){Wb(t),t.drafts_.forEach(hie),t.drafts_=null}function Wb(t){t===lf&&(lf=t.parent_)}function qF(t){return lf=fie(lf,t)}function hie(t){const e=t[Sn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function JF(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Sn].modified_&&(zb(e),mi(4)),Ns(t)&&(t=Cp(e,t),e.parent_||Ep(e,t)),e.patches_&&CA("Patches").generateReplacementPatches_(r[Sn].base_,t,e.patches_,e.inversePatches_)):t=Cp(e,r,[]),zb(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==pM?t:void 0}function Cp(t,e,r){if(Ev(e))return e;const n=e[Sn];if(!n)return Bp(e,(i,s)=>ZF(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Ep(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),Bp(s,(o,A)=>ZF(t,n,i,o,A,r,a)),Ep(t,i,!1),r&&t.patches_&&CA("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function ZF(t,e,r,n,i,s,a){if(BA(i)){const o=s&&e&&e.type_!==3&&!$b(e.assigned_,n)?s.concat(n):void 0,A=Cp(t,i,o);if(yM(r,n,A),BA(A))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Ns(i)&&!Ev(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Cp(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Ep(t,i)}}function Ep(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&n1(e,r)}function gie(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:wM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=i1;r&&(i=[n],s=uf);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var i1={get(t,e){if(e===Sn)return t;const r=ko(t);if(!$b(r,e))return mie(t,r,e);const n=r[e];return t.finalized_||!Ns(n)?n:n===bw(t.base_,e)?(Bw(t),t.copy_[e]=Xb(n,t)):n},has(t,e){return e in ko(t)},ownKeys(t){return Reflect.ownKeys(ko(t))},set(t,e,r){const n=xM(ko(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=bw(ko(t),e),s=i==null?void 0:i[Sn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(uie(r,i)&&(r!==void 0||$b(t.base_,e)))return!0;Bw(t),Yb(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return bw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Bw(t),Yb(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=ko(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){mi(11)},getPrototypeOf(t){return wu(t.base_)},setPrototypeOf(){mi(12)}},uf={};Bp(i1,(t,e)=>{uf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});uf.deleteProperty=function(t,e){return uf.set.call(this,t,e,void 0)};uf.set=function(t,e,r){return i1.set.call(this,t[0],e,r,t[0])};function bw(t,e){const r=t[Sn];return(r?ko(r):t)[e]}function mie(t,e,r){var i;const n=xM(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function xM(t,e){if(!(e in t))return;let r=wu(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=wu(r)}}function Yb(t){t.modified_||(t.modified_=!0,t.parent_&&Yb(t.parent_))}function Bw(t){t.copy_||(t.copy_=Gb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var pie=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(A=s,...l){return a.produce(A,u=>r.call(this,u,...l))}}typeof r!="function"&&mi(6),n!==void 0&&typeof n!="function"&&mi(7);let i;if(Ns(e)){const s=qF(this),a=Xb(e,void 0);let o=!0;try{i=r(a),o=!1}finally{o?zb(s):Wb(s)}return XF(s,n),JF(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===pM&&(i=void 0),this.autoFreeze_&&n1(i,!0),n){const s=[],a=[];CA("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else mi(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,A=>e(A,...o));let n,i;return[this.produce(e,r,(a,o)=>{n=a,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ns(t)||mi(8),BA(t)&&(t=Bs(t));const e=qF(this),r=Xb(t,void 0);return r[Sn].isManual_=!0,Wb(e),r}finishDraft(t,e){const r=t&&t[Sn];(!r||!r.isManual_)&&mi(9);const{scope_:n}=r;return XF(n,e),JF(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=CA("Patches").applyPatches_;return BA(t)?n(t,e):this.produce(t,i=>n(i,e))}};function Xb(t,e){const r=Bv(t)?CA("MapSet").proxyMap_(t,e):Cv(t)?CA("MapSet").proxySet_(t,e):gie(t,e);return(e?e.scope_:wM()).drafts_.push(r),r}function Bs(t){return BA(t)||mi(10,t),bM(t)}function bM(t){if(!Ns(t)||Ev(t))return t;const e=t[Sn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Gb(t,e.scope_.immer_.useStrictShallowCopy_)}else r=Gb(t,!0);return Bp(r,(n,i)=>{yM(r,n,bM(i))}),e&&(e.finalized_=!1),r}var Tn=new pie,BM=Tn.produce;Tn.produceWithPatches.bind(Tn);Tn.setAutoFreeze.bind(Tn);Tn.setUseStrictShallowCopy.bind(Tn);Tn.applyPatches.bind(Tn);Tn.createDraft.bind(Tn);Tn.finishDraft.bind(Tn);function CM(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var vie=CM(),yie=CM,wie=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bp:bp.apply(null,arguments)};function ri(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Cn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>mM(n)&&n.type===t,r}var EM=class Jc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Jc.prototype)}static get[Symbol.species](){return Jc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Jc(...e[0].concat(this)):new Jc(...e.concat(this))}};function eU(t){return Ns(t)?BM(t,()=>{}):t}function wg(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function xie(t){return typeof t=="boolean"}var bie=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new EM;return r&&(xie(r)?a.push(vie):a.push(yie(r.extraArgument))),a},Bie="RTK_autoBatch",tU=t=>e=>{setTimeout(e,t)},Cie=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const o=new Set,A=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:tU(10):t.type==="callback"?t.queueNotification:tU(t.timeout),l=()=>{a=!1,s&&(s=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const d=()=>i&&u(),f=n.subscribe(d);return o.add(u),()=>{f(),o.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[Bie]),s=!i,s&&(a||(a=!0,A(l))),n.dispatch(u)}finally{i=!0}}})},Eie=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new EM(t);return n&&i.push(Cie(typeof n=="object"?n:void 0)),i};function _ie(t){const e=bie(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:s=!0,preloadedState:a=void 0,enhancers:o=void 0}=t;let A;if(typeof r=="function")A=r;else if(r1(r))A=gM(r);else throw new Error(Cn(1));let l;typeof n=="function"?l=n(e):l=e();let u=bp;i&&(u=wie({trace:!1,...typeof i=="object"&&i}));const d=Aie(...l),f=Eie(d);let g=typeof o=="function"?o(f):f();const m=u(...g);return hM(A,a,m)}function _M(t){const e={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Cn(28));if(o in e)throw new Error(Cn(29));return e[o]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function Iie(t){return typeof t=="function"}function Sie(t,e){let[r,n,i]=_M(e),s;if(Iie(t))s=()=>eU(t());else{const o=eU(t);s=()=>o}function a(o=s(),A){let l=[r[A.type],...n.filter(({matcher:u})=>u(A)).map(({reducer:u})=>u)];return l.filter(u=>!!u).length===0&&(l=[i]),l.reduce((u,d)=>{if(d)if(BA(u)){const g=d(u,A);return g===void 0?u:g}else{if(Ns(u))return BM(u,f=>d(f,A));{const f=d(u,A);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},o)}return a.getInitialState=s,a}var Tie="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Fie=(t=21)=>{let e="",r=t;for(;r--;)e+=Tie[Math.random()*64|0];return e},Uie=Symbol.for("rtk-slice-createasyncthunk");function Pie(t,e){return`${t}/${e}`}function Nie({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[Uie];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Cn(11));const o=(typeof i.reducers=="function"?i.reducers(kie()):i.reducers)||{},A=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(I,T){const F=typeof I=="string"?I:I.type;if(!F)throw new Error(Cn(12));if(F in l.sliceCaseReducersByType)throw new Error(Cn(13));return l.sliceCaseReducersByType[F]=T,u},addMatcher(I,T){return l.sliceMatchers.push({matcher:I,reducer:T}),u},exposeAction(I,T){return l.actionCreators[I]=T,u},exposeCaseReducer(I,T){return l.sliceCaseReducersByName[I]=T,u}};A.forEach(I=>{const T=o[I],F={reducerName:I,type:Pie(s,I),createNotation:typeof i.reducers=="function"};Die(T)?Rie(F,T,u,e):Oie(F,T,u)});function d(){const[I={},T=[],F=void 0]=typeof i.extraReducers=="function"?_M(i.extraReducers):[i.extraReducers],C={...I,...l.sliceCaseReducersByType};return Sie(i.initialState,_=>{for(let S in C)_.addCase(S,C[S]);for(let S of l.sliceMatchers)_.addMatcher(S.matcher,S.reducer);for(let S of T)_.addMatcher(S.matcher,S.reducer);F&&_.addDefaultCase(F)})}const f=I=>I,g=new Map,m=new WeakMap;let p;function v(I,T){return p||(p=d()),p(I,T)}function y(){return p||(p=d()),p.getInitialState()}function w(I,T=!1){function F(_){let S=_[I];return typeof S>"u"&&T&&(S=wg(m,F,y)),S}function C(_=f){const S=wg(g,T,()=>new WeakMap);return wg(S,_,()=>{const P={};for(const[Q,k]of Object.entries(i.selectors??{}))P[Q]=Qie(k,_,()=>wg(m,_,y),T);return P})}return{reducerPath:I,getSelectors:C,get selectors(){return C(F)},selectSlice:F}}const B={name:s,reducer:v,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:y,...w(a),injectInto(I,{reducerPath:T,...F}={}){const C=T??a;return I.inject({reducerPath:C,reducer:v},F),{...B,...w(C,!0)}}};return B}}function Qie(t,e,r,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=r()),t(o,...a)}return i.unwrapped=t,i}var Nn=Nie();function kie(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Oie({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!jie(n))throw new Error(Cn(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?ri(t,a):ri(t))}function Die(t){return t._reducerDefinitionType==="asyncThunk"}function jie(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Rie({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Cn(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:A,settled:l,options:u}=r,d=i(t,s,u);n.exposeAction(e,d),a&&n.addCase(d.fulfilled,a),o&&n.addCase(d.pending,o),A&&n.addCase(d.rejected,A),l&&n.addMatcher(d.settled,l),n.exposeCaseReducer(e,{fulfilled:a||xg,pending:o||xg,rejected:A||xg,settled:l||xg})}function xg(){}var Mie="task",IM="listener",SM="completed",s1="cancelled",Lie=`task-${s1}`,Hie=`task-${SM}`,qb=`${IM}-${s1}`,Vie=`${IM}-${SM}`,_v=class{constructor(t){Ay(this,"name","TaskAbortError");Ay(this,"message");this.code=t,this.message=`${Mie} ${s1} (reason: ${t})`}},a1=(t,e)=>{if(typeof t!="function")throw new TypeError(Cn(32))},_p=()=>{},TM=(t,e=_p)=>(t.catch(e),t),FM=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),iA=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},sA=t=>{if(t.aborted){const{reason:e}=t;throw new _v(e)}};function UM(t,e){let r=_p;return new Promise((n,i)=>{const s=()=>i(new _v(t.reason));if(t.aborted){s();return}r=FM(t,s),e.finally(()=>r()).then(n,i)}).finally(()=>{r=_p})}var Kie=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof _v?"cancelled":"rejected",error:r}}finally{e==null||e()}},Ip=t=>e=>TM(UM(t,e).then(r=>(sA(t),r))),PM=t=>{const e=Ip(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Wl}=Object,rU={},Iv="listenerMiddleware",$ie=(t,e)=>{const r=n=>FM(t,()=>iA(n,t.reason));return(n,i)=>{a1(n);const s=new AbortController;r(s);const a=Kie(async()=>{sA(t),sA(s.signal);const o=await n({pause:Ip(s.signal),delay:PM(s.signal),signal:s.signal});return sA(s.signal),o},()=>iA(s,Hie));return i!=null&&i.autoJoin&&e.push(a.catch(_p)),{result:Ip(t)(a),cancel(){iA(s,Lie)}}}},Gie=(t,e)=>{const r=async(n,i)=>{sA(e);let s=()=>{};const o=[new Promise((A,l)=>{let u=t({predicate:n,effect:(d,f)=>{f.unsubscribe(),A([d,f.getState(),f.getOriginalState()])}});s=()=>{u(),l()}})];i!=null&&o.push(new Promise(A=>setTimeout(A,i,null)));try{const A=await UM(e,Promise.race(o));return sA(e),A}finally{s()}};return(n,i)=>TM(r(n,i))},NM=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=ri(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Cn(21));return a1(s),{predicate:i,type:e,effect:s}},QM=Wl(t=>{const{type:e,predicate:r,effect:n}=NM(t);return{id:Fie(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Cn(22))}}},{withTypes:()=>QM}),nU=(t,e)=>{const{type:r,effect:n,predicate:i}=NM(e);return Array.from(t.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},Jb=t=>{t.pending.forEach(e=>{iA(e,qb)})},zie=t=>()=>{t.forEach(Jb),t.clear()},iU=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},kM=Wl(ri(`${Iv}/add`),{withTypes:()=>kM}),Wie=ri(`${Iv}/removeAll`),OM=Wl(ri(`${Iv}/remove`),{withTypes:()=>OM}),Yie=(...t)=>{console.error(`${Iv}/error`,...t)},Hf=(t={})=>{const e=new Map,{extra:r,onError:n=Yie}=t;a1(n);const i=u=>(u.unsubscribe=()=>e.delete(u.id),e.set(u.id,u),d=>{u.unsubscribe(),d!=null&&d.cancelActive&&Jb(u)}),s=u=>{const d=nU(e,u)??QM(u);return i(d)};Wl(s,{withTypes:()=>s});const a=u=>{const d=nU(e,u);return d&&(d.unsubscribe(),u.cancelActive&&Jb(d)),!!d};Wl(a,{withTypes:()=>a});const o=async(u,d,f,g)=>{const m=new AbortController,p=Gie(s,m.signal),v=[];try{u.pending.add(m),await Promise.resolve(u.effect(d,Wl({},f,{getOriginalState:g,condition:(y,w)=>p(y,w).then(Boolean),take:p,delay:PM(m.signal),pause:Ip(m.signal),extra:r,signal:m.signal,fork:$ie(m.signal,v),unsubscribe:u.unsubscribe,subscribe:()=>{e.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((y,w,B)=>{y!==m&&(iA(y,qb),B.delete(y))})},cancel:()=>{iA(m,qb),u.pending.delete(m)},throwIfCancelled:()=>{sA(m.signal)}})))}catch(y){y instanceof _v||iU(n,y,{raisedBy:"effect"})}finally{await Promise.all(v),iA(m,Vie),u.pending.delete(m)}},A=zie(e);return{middleware:u=>d=>f=>{if(!mM(f))return d(f);if(kM.match(f))return s(f.payload);if(Wie.match(f)){A();return}if(OM.match(f))return a(f.payload);let g=u.getState();const m=()=>{if(g===rU)throw new Error(Cn(23));return g};let p;try{if(p=d(f),e.size>0){const v=u.getState(),y=Array.from(e.values());for(const w of y){let B=!1;try{B=w.predicate(f,v,g)}catch(I){B=!1,iU(n,I,{raisedBy:"predicate"})}B&&o(w,f,u,m)}}}finally{g=rU}return p},startListening:s,stopListening:a,clearListeners:A}};function Cn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Xie={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},DM=Nn({name:"chartLayout",initialState:Xie,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:qie,setLayout:Jie,setChartSize:Zie,setScale:ese}=DM.actions,tse=DM.reducer;function sU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sU(Object(r),!0).forEach(function(n){rse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rse(t,e,r){return(e=nse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nse(t){var e=ise(t,"string");return typeof e=="symbol"?e:e+""}function ise(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sp=Math.PI/180,sse=t=>t*180/Math.PI,$t=(t,e,r,n)=>({x:t+Math.cos(-Sp*n)*r,y:e+Math.sin(-Sp*n)*r}),jM=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},ase=(t,e)=>{var{x:r,y:n}=t,{x:i,y:s}=e;return Math.sqrt((r-i)**2+(n-s)**2)},ose=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:s}=e,a=ase({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(r-i)/a,A=Math.acos(o);return n>s&&(A=2*Math.PI-A),{radius:a,angle:sse(A),angleInRadian:A}},Ase=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:e-s*360,endAngle:r-s*360}},lse=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return t+a*360},use=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:s}=ose({x:r,y:n},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:A,endAngle:l}=Ase(e),u=s,d;if(A<=l){for(;u>l;)u-=360;for(;u<A;)u+=360;d=u>=A&&u<=l}else{for(;u>A;)u-=360;for(;u<l;)u+=360;d=u>=l&&u<=A}return d?aU(aU({},e),{},{radius:i,angle:lse(u,e)}):null},bve=t=>!x.isValidElement(t)&&typeof t!="function"&&typeof t!="boolean"&&t!=null?t.className:"";function RM(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function oU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oU(Object(r),!0).forEach(function(n){cse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cse(t,e,r){return(e=dse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dse(t){var e=fse(t,"string");return typeof e=="symbol"?e:e+""}function fse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nt(t,e,r){return ht(t)||ht(e)?r:Hi(e)?ro(t,e,r):typeof e=="function"?e(t):r}var hse=(t,e,r,n,i)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var A=0;A<o;A++){var l=A>0?r[A-1].coordinate:r[o-1].coordinate,u=r[A].coordinate,d=A>=o-1?r[0].coordinate:r[A+1].coordinate,f=void 0;if(ur(u-l)!==ur(d-u)){var g=[];if(ur(d-u)===ur(i[1]-i[0])){f=d;var m=u+i[1]-i[0];g[0]=Math.min(m,(m+l)/2),g[1]=Math.max(m,(m+l)/2)}else{f=l;var p=d+i[1]-i[0];g[0]=Math.min(u,(p+u)/2),g[1]=Math.max(u,(p+u)/2)}var v=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(t>v[0]&&t<=v[1]||t>=g[0]&&t<=g[1]){({index:a}=r[A]);break}}else{var y=Math.min(l,d),w=Math.max(l,d);if(t>(y+u)/2&&t<=(w+u)/2){({index:a}=r[A]);break}}}else if(e){for(var B=0;B<o;B++)if(B===0&&t<=(e[B].coordinate+e[B+1].coordinate)/2||B>0&&B<o-1&&t>(e[B].coordinate+e[B-1].coordinate)/2&&t<=(e[B].coordinate+e[B+1].coordinate)/2||B===o-1&&t>(e[B].coordinate+e[B-1].coordinate)/2){({index:a}=e[B]);break}}return a},gse=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&de(t[s]))return Vn(Vn({},t),{},{[s]:t[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&de(t[a]))return Vn(Vn({},t),{},{[a]:t[a]+(i||0)})}return t},go=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",MM=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var i,s,a=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===r&&(s=!0),o.coordinate));return i||a.push(e),s||a.push(r),a},LM=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:o,isCategorical:A,categoricalDomain:l,tickCount:u,ticks:d,niceTicks:f,axisType:g}=t;if(!a)return null;var m=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,p=i==="category"&&a.bandwidth?a.bandwidth()/m:0;if(p=g==="angleAxis"&&s&&s.length>=2?ur(s[0]-s[1])*2*p:p,d||f){var v=(d||f||[]).map((y,w)=>{var B=n?n.indexOf(y):y;return{coordinate:a(B)+p,value:y,offset:p,index:w}});return v.filter(y=>!In(y.coordinate))}return A&&l?l.map((y,w)=>({coordinate:a(y)+p,value:y,index:w,offset:p})):a.ticks&&u!=null?a.ticks(u).map((y,w)=>({coordinate:a(y)+p,value:y,offset:p,index:w})):a.domain().map((y,w)=>({coordinate:a(y)+p,value:n?n[y]:y,index:w,offset:p}))},AU=1e-4,mse=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-AU,s=Math.max(n[0],n[1])+AU,a=t(e[0]),o=t(e[r-1]);(a<i||a>s||o<i||o>s)&&t.domain([e[0],e[r-1]])}},pse=(t,e)=>{if(!e||e.length!==2||!de(e[0])||!de(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!de(t[0])||t[0]<r)&&(i[0]=r),(!de(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},vse=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0,a=0;a<e;++a){var o=In(t[a][r][1])?t[a][r][0]:t[a][r][1];o>=0?(t[a][r][0]=i,t[a][r][1]=i+o,i=t[a][r][1]):(t[a][r][0]=s,t[a][r][1]=s+o,s=t[a][r][1])}},yse=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0;s<e;++s){var a=In(t[s][r][1])?t[s][r][0]:t[s][r][1];a>=0?(t[s][r][0]=i,t[s][r][1]=i+a,i=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},wse={sign:vse,expand:ine,none:vu,silhouette:sne,wiggle:ane,positive:yse},xse=(t,e,r)=>{var n=wse[r],i=nne().keys(e).value((s,a)=>+nt(s,a,0)).order(Hb).offset(n);return i(t)};function bse(t){return t==null?void 0:String(t)}function lU(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ht(i[e.dataKey])){var o=vR(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var A=nt(i,ht(a)?e.dataKey:a);return ht(A)?null:e.scale(A)}var uU=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return r[a]?r[a].coordinate+n:null;var o=nt(s,e.dataKey,e.scale.domain()[a]);return ht(o)?null:e.scale(o)-i/2+n},Bse=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},Cse=t=>{var e=t.flat(2).filter(de);return[Math.min(...e),Math.max(...e)]},Ese=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],_se=(t,e,r)=>{if(t!=null)return Ese(Object.keys(t).reduce((n,i)=>{var s=t[i],{stackedData:a}=s,o=a.reduce((A,l)=>{var u=RM(l,e,r),d=Cse(u);return[Math.min(A[0],d[0]),Math.max(A[1],d[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},cU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cf=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=xv(e,u=>u.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var A=i[a],l=i[a-1];s=Math.min((A.coordinate||0)-(l.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function fU(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:s}=t;return Vn(Vn({},e),{},{dataKey:r,payload:n,value:i,name:s})}function Mu(t,e){if(t)return String(t);if(typeof e=="string")return e}function Ise(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return n?use({x:t,y:e},n):null}var Sse=(t,e,r,n)=>{var i=e.find(l=>l&&l.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:a}=n;return Vn(Vn(Vn({},n),$t(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:A}=n;return Vn(Vn(Vn({},n),$t(n.cx,n.cy,o,A)),{},{angle:A,radius:o})}return{x:0,y:0}},Tse=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Hs=t=>t.layout.width,Vs=t=>t.layout.height,Fse=t=>t.layout.scale,HM=t=>t.layout.margin,o1=$(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),A1=$(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),VM="data-recharts-item-index",KM="data-recharts-item-data-key",Sv=60;function hU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hU(Object(r),!0).forEach(function(n){Use(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Use(t,e,r){return(e=Pse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pse(t){var e=Nse(t,"string");return typeof e=="symbol"?e:e+""}function Nse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qse=t=>t.brush.height,er=$([Hs,Vs,HM,Qse,o1,A1,dM,tie],(t,e,r,n,i,s,a,o)=>{var A=s.reduce((m,p)=>{var{orientation:v}=p;if(!p.mirror&&!p.hide){var y=typeof p.width=="number"?p.width:Sv;return na(na({},m),{},{[v]:m[v]+y})}return m},{left:r.left||0,right:r.right||0}),l=i.reduce((m,p)=>{var{orientation:v}=p;return!p.mirror&&!p.hide?na(na({},m),{},{[v]:ro(m,"".concat(v))+p.height}):m},{top:r.top||0,bottom:r.bottom||0}),u=na(na({},l),A),d=u.bottom;u.bottom+=n,u=gse(u,a,o);var f=t-u.left-u.right,g=e-u.top-u.bottom;return na(na({brushBottom:d},u),{},{width:Math.max(f,0),height:Math.max(g,0)})}),kse=$(er,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),$M=$(Hs,Vs,(t,e)=>({x:0,y:0,width:t,height:e})),Ose=x.createContext(null),An=()=>x.useContext(Ose)!=null,Tv=t=>t.brush,Fv=$([Tv,er,HM],(t,e,r)=>({height:t.height,x:de(t.x)?t.x:e.left,y:de(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:de(t.width)?t.width:e.width})),l1=()=>{var t,e=An(),r=ye(kse),n=ye(Fv),i=(t=ye(Tv))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},Dse={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},GM=()=>{var t;return(t=ye(er))!==null&&t!==void 0?t:Dse},u1=()=>ye(Hs),c1=()=>ye(Vs),jse={top:0,right:0,bottom:0,left:0},Rse=()=>{var t;return(t=ye(e=>e.layout.margin))!==null&&t!==void 0?t:jse},Le=t=>t.layout.layoutType,Uv=()=>ye(Le),Mse={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},zM=Nn({name:"legend",initialState:Mse,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=Bs(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:gU,setLegendSettings:Lse,addLegendPayload:WM,removeLegendPayload:YM}=zM.actions,Hse=zM.reducer,Vse=["contextPayload"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zb.apply(null,arguments)}function mU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mU(Object(r),!0).forEach(function(n){d1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d1(t,e,r){return(e=Kse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kse(t){var e=$se(t,"string");return typeof e=="symbol"?e:e+""}function $se(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gse(t,e){if(t==null)return{};var r,n,i=zse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function zse(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Wse(t){return t.value}function Yse(t){var{contextPayload:e}=t,r=Gse(t,Vse),n=tM(e,t.payloadUniqBy,Wse),i=xu(xu({},r),{},{payload:n});return x.isValidElement(t.content)?x.cloneElement(t.content,i):typeof t.content=="function"?x.createElement(t.content,i):x.createElement($E,i)}function Xse(t,e,r,n,i,s){var{layout:a,align:o,verticalAlign:A}=e,l,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&a==="vertical"?l={left:((n||0)-s.width)/2}:l=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(A==="middle"?u={top:((i||0)-s.height)/2}:u=A==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),xu(xu({},l),u)}function qse(t){var e=Ft();return x.useEffect(()=>{e(Lse(t))},[e,t]),null}function Jse(t){var e=Ft();return x.useEffect(()=>(e(gU(t)),()=>{e(gU({width:0,height:0}))}),[e,t]),null}function Zse(t){var e=iie(),r=Ire(),n=Rse(),{width:i,height:s,wrapperStyle:a,portal:o}=t,[A,l]=fM([e]),u=u1(),d=c1(),f=u-(n.left||0)-(n.right||0),g=EA.getWidthOrHeight(t.layout,s,i,f),m=o?a:xu(xu({position:"absolute",width:(g==null?void 0:g.width)||i||"auto",height:(g==null?void 0:g.height)||s||"auto"},Xse(a,t,n,u,d,A)),a),p=o??r;if(p==null)return null;var v=x.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:l},x.createElement(qse,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),x.createElement(Jse,{width:A.width,height:A.height}),x.createElement(Yse,Zb({},t,g,{margin:n,chartWidth:u,chartHeight:d,contextPayload:e})));return _C.createPortal(v,p)}class EA extends x.PureComponent{static getWidthOrHeight(e,r,n,i){return e==="vertical"&&de(r)?{height:r}:e==="horizontal"?{width:n||i}:null}render(){return x.createElement(Zse,this.props)}}d1(EA,"displayName","Legend");d1(EA,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function eB(){return eB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eB.apply(null,arguments)}function pU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pU(Object(r),!0).forEach(function(n){eae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eae(t,e,r){return(e=tae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tae(t){var e=rae(t,"string");return typeof e=="symbol"?e:e+""}function rae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nae(t){return Array.isArray(t)&&Hi(t[0])&&Hi(t[1])?t.join(" ~ "):t}var iae=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:A,labelClassName:l,label:u,labelFormatter:d,accessibilityLayer:f=!1}=t,g=()=>{if(s&&s.length){var T={padding:0,margin:0},F=(o?xv(s,o):s).map((C,_)=>{if(C.type==="none")return null;var S=C.formatter||a||nae,{value:P,name:Q}=C,k=P,N=Q;{var ae=S(P,Q,C,_,s);if(Array.isArray(ae))[k,N]=ae;else if(ae!=null)k=ae;else return null}var be=Cw({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:be},Hi(N)?x.createElement("span",{className:"recharts-tooltip-item-name"},N):null,Hi(N)?x.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,x.createElement("span",{className:"recharts-tooltip-item-value"},k),x.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:T},F)}return null},m=Cw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),p=Cw({margin:0},i),v=!ht(u),y=v?u:"",w=$e("recharts-default-tooltip",A),B=$e("recharts-tooltip-label",l);v&&d&&s!==void 0&&s!==null&&(y=d(u,s));var I=f?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",eB({className:w,style:m},I),x.createElement("p",{className:B,style:p},x.isValidElement(y)?y:"".concat(y)),g())},_c="recharts-tooltip-wrapper",sae={visibility:"hidden"};function aae(t){var{coordinate:e,translateX:r,translateY:n}=t;return $e(_c,{["".concat(_c,"-right")]:de(r)&&e&&de(e.x)&&r>=e.x,["".concat(_c,"-left")]:de(r)&&e&&de(e.x)&&r<e.x,["".concat(_c,"-bottom")]:de(n)&&e&&de(e.y)&&n>=e.y,["".concat(_c,"-top")]:de(n)&&e&&de(e.y)&&n<e.y})}function vU(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:A,viewBoxDimension:l}=t;if(s&&de(s[n]))return s[n];var u=r[n]-o-(i>0?i:0),d=r[n]+i;if(e[n])return a[n]?u:d;var f=A[n];if(f==null)return 0;if(a[n]){var g=u,m=f;return g<m?Math.max(d,f):Math.max(u,f)}if(l==null)return 0;var p=d+o,v=f+l;return p>v?Math.max(u,f):Math.max(d,f)}function oae(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Aae(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:A}=t,l,u,d;return a.height>0&&a.width>0&&r?(u=vU({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:A,viewBoxDimension:A.width}),d=vU({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:A,viewBoxDimension:A.height}),l=oae({translateX:u,translateY:d,useTranslate3d:o})):l=sae,{cssProperties:l,cssClasses:aae({translateX:u,translateY:d,coordinate:r})}}function yU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yU(Object(r),!0).forEach(function(n){tB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tB(t,e,r){return(e=lae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lae(t){var e=uae(t,"string");return typeof e=="symbol"?e:e+""}function uae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class cae extends x.PureComponent{constructor(){super(...arguments),tB(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),tB(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:A,offset:l,position:u,reverseDirection:d,useTranslate3d:f,viewBox:g,wrapperStyle:m,lastBoundingBox:p,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:w,cssProperties:B}=Aae({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:l,position:u,reverseDirection:d,tooltipBox:{height:p.height,width:p.width},useTranslate3d:f,viewBox:g}),I=y?{}:bg(bg({transition:A&&e?"transform ".concat(n,"ms ").concat(i):void 0},B),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),T=bg(bg({},I),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},m);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:T,ref:v},s)}}var dae=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),DA={isSsr:dae()},XM=()=>ye(t=>t.rootProps.accessibilityLayer);function Fn(t){return Number.isFinite(t)}function bu(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function rB(){return rB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rB.apply(null,arguments)}function wU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wU(Object(r),!0).forEach(function(n){fae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fae(t,e,r){return(e=hae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hae(t){var e=gae(t,"string");return typeof e=="symbol"?e:e+""}function gae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bU={curveBasisClosed:Gre,curveBasisOpen:zre,curveBasis:$re,curveBumpX:Ure,curveBumpY:Pre,curveLinearClosed:Wre,curveLinear:hv,curveMonotoneX:Yre,curveMonotoneY:Xre,curveNatural:qre,curveStep:Jre,curveStepAfter:ene,curveStepBefore:Zre},Bg=t=>Fn(t.x)&&Fn(t.y),Ic=t=>t.x,Sc=t=>t.y,mae=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(Rf(t));return(r==="curveMonotone"||r==="curveBump")&&e?bU["".concat(r).concat(e==="vertical"?"Y":"X")]:bU[r]||hv},pae=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=t,a=mae(e,i),o=s?r.filter(Bg):r,A;if(Array.isArray(n)){var l=s?n.filter(d=>Bg(d)):n,u=o.map((d,f)=>xU(xU({},d),{},{base:l[f]}));return i==="vertical"?A=pg().y(Sc).x1(Ic).x0(d=>d.base.x):A=pg().x(Ic).y1(Sc).y0(d=>d.base.y),A.defined(Bg).curve(a),A(u)}return i==="vertical"&&de(n)?A=pg().y(Sc).x1(Ic).x0(n):de(n)?A=pg().x(Ic).y1(Sc).y0(n):A=SR().x(Ic).y(Sc),A.defined(Bg).curve(a),A(o)},f1=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var s=r&&r.length?pae(t):n;return x.createElement("path",rB({},Ls(t),jE(t),{className:$e("recharts-curve",e),d:s===null?void 0:s,ref:i}))},vae=["x","y","top","left","width","height","className"];function nB(){return nB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nB.apply(null,arguments)}function BU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BU(Object(r),!0).forEach(function(n){wae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wae(t,e,r){return(e=xae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xae(t){var e=bae(t,"string");return typeof e=="symbol"?e:e+""}function bae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bae(t,e){if(t==null)return{};var r,n,i=Cae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Cae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Eae=(t,e,r,n,i,s)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(r),_ae=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:o}=t,A=Bae(t,vae),l=yae({x:e,y:r,top:n,left:i,width:s,height:a},A);return!de(e)||!de(r)||!de(s)||!de(a)||!de(n)||!de(i)?null:x.createElement("path",nB({},yt(l,!0),{className:$e("recharts-cross",o),d:Eae(e,r,s,a,n,i)}))};function Iae(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function CU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CU(Object(r),!0).forEach(function(n){Tae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tae(t,e,r){return(e=Fae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fae(t){var e=Uae(t,"string");return typeof e=="symbol"?e:e+""}function Uae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qn(t,e){var r=Sae({},t),n=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&n[o]!==void 0&&(a[o]=n[o]),a),r);return s}var qM={},JM={},ZM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}t.isPlainObject=e})(ZM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZM,r=qE,n=vv,i=yv,s=pv;function a(l,u,d){return o(l,u,void 0,void 0,void 0,void 0,d)}function o(l,u,d,f,g,m,p){const v=p(l,u,d,f,g,m);if(v!==void 0)return v;if(typeof l==typeof u)switch(typeof l){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return l===u;case"number":return l===u||Object.is(l,u);case"function":return l===u;case"object":return A(l,u,m,p)}return A(l,u,m,p)}function A(l,u,d,f){if(Object.is(l,u))return!0;let g=n.getTag(l),m=n.getTag(u);if(g===i.argumentsTag&&(g=i.objectTag),m===i.argumentsTag&&(m=i.objectTag),g!==m)return!1;switch(g){case i.stringTag:return l.toString()===u.toString();case i.numberTag:{const y=l.valueOf(),w=u.valueOf();return s.eq(y,w)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(l.valueOf(),u.valueOf());case i.regexpTag:return l.source===u.source&&l.flags===u.flags;case i.functionTag:return l===u}d=d??new Map;const p=d.get(l),v=d.get(u);if(p!=null&&v!=null)return p===u;d.set(l,u),d.set(u,l);try{switch(g){case i.mapTag:{if(l.size!==u.size)return!1;for(const[y,w]of l.entries())if(!u.has(y)||!o(w,u.get(y),y,l,u,d,f))return!1;return!0}case i.setTag:{if(l.size!==u.size)return!1;const y=Array.from(l.values()),w=Array.from(u.values());for(let B=0;B<y.length;B++){const I=y[B],T=w.findIndex(F=>o(I,F,void 0,l,u,d,f));if(T===-1)return!1;w.splice(T,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(l)!==Buffer.isBuffer(u)||l.length!==u.length)return!1;for(let y=0;y<l.length;y++)if(!o(l[y],u[y],y,l,u,d,f))return!1;return!0}case i.arrayBufferTag:return l.byteLength!==u.byteLength?!1:A(new Uint8Array(l),new Uint8Array(u),d,f);case i.dataViewTag:return l.byteLength!==u.byteLength||l.byteOffset!==u.byteOffset?!1:A(new Uint8Array(l),new Uint8Array(u),d,f);case i.errorTag:return l.name===u.name&&l.message===u.message;case i.objectTag:{if(!(A(l.constructor,u.constructor,d,f)||e.isPlainObject(l)&&e.isPlainObject(u)))return!1;const w=[...Object.keys(l),...r.getSymbols(l)],B=[...Object.keys(u),...r.getSymbols(u)];if(w.length!==B.length)return!1;for(let I=0;I<w.length;I++){const T=w[I],F=l[T];if(!Object.hasOwn(u,T))return!1;const C=u[T];if(!o(F,C,T,l,u,d,f))return!1}return!0}default:return!1}}finally{d.delete(l),d.delete(u)}}t.isEqualWith=a})(JM);var eL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(eL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JM,r=eL;function n(i,s){return e.isEqualWith(i,s,r.noop)}t.isEqual=n})(qM);var Pae=qM.isEqual;const Nae=Ki(Pae);var Tp=1e-4,tL=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],rL=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),EU=(t,e)=>r=>{var n=tL(t,e);return rL(n,r)},Qae=(t,e)=>r=>{var n=tL(t,e),i=[...n.map((s,a)=>s*a).slice(1),0];return rL(i,r)},_U=function(){for(var e,r,n,i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var A=a[0].split("(");A[0]==="cubic-bezier"&&A[1].split(")")[0].split(",").length===4&&([e,n,r,i]=A[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else a.length===4&&([e,n,r,i]=a);var l=EU(e,r),u=EU(n,i),d=Qae(e,r),f=m=>m>1?1:m<0?0:m,g=m=>{for(var p=m>1?1:m,v=p,y=0;y<8;++y){var w=l(v)-p,B=d(v);if(Math.abs(w-p)<Tp||B<Tp)return u(v);v=f(v-w/B)}return u(v)};return g.isStepper=!1,g},kae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,s=(a,o,A)=>{var l=-(a-o)*r,u=A*n,d=A+(l-u)*i/1e3,f=A*i/1e3+a;return Math.abs(f-o)<Tp&&Math.abs(d)<Tp?[o,0]:[f,d]};return s.isStepper=!0,s.dt=i,s},nL=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _U(t);case"spring":return kae();default:if(t.split("(")[0]==="cubic-bezier")return _U(t)}return typeof t=="function"?t:null};function IU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IU(Object(r),!0).forEach(function(n){Oae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oae(t,e,r){return(e=Dae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dae(t){var e=jae(t,"string");return typeof e=="symbol"?e:e+""}function jae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rae=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Mae=(t,e,r)=>t.map(n=>"".concat(Rae(n)," ").concat(e,"ms ").concat(r)).join(","),Lae=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),df=(t,e)=>Object.keys(e).reduce((r,n)=>SU(SU({},r),{},{[n]:t(n,e[n])}),{});function TU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TU(Object(r),!0).forEach(function(n){Hae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hae(t,e,r){return(e=Vae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vae(t){var e=Kae(t,"string");return typeof e=="symbol"?e:e+""}function Kae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fp=(t,e,r)=>t+(e-t)*r,iB=t=>{var{from:e,to:r}=t;return e!==r},iL=(t,e,r)=>{var n=df((i,s)=>{if(iB(s)){var[a,o]=t(s.from,s.to,s.velocity);return wr(wr({},s),{},{from:a,velocity:o})}return s},e);return r<1?df((i,s)=>iB(s)?wr(wr({},s),{},{velocity:Fp(s.velocity,n[i].velocity,r),from:Fp(s.from,n[i].from,r)}):s,e):iL(t,n,r-1)};function $ae(t,e,r,n,i,s){var a,o=n.reduce((f,g)=>wr(wr({},f),{},{[g]:{from:t[g],velocity:0,to:e[g]}}),{}),A=()=>df((f,g)=>g.from,o),l=()=>!Object.values(o).filter(iB).length,u=null,d=f=>{a||(a=f);var g=f-a,m=g/r.dt;o=iL(r,o,m),i(wr(wr(wr({},t),e),A())),a=f,l()||(u=s.setTimeout(d))};return()=>(u=s.setTimeout(d),()=>{u()})}function Gae(t,e,r,n,i,s,a){var o=null,A=i.reduce((d,f)=>wr(wr({},d),{},{[f]:[t[f],e[f]]}),{}),l,u=d=>{l||(l=d);var f=(d-l)/n,g=df((p,v)=>Fp(...v,r(f)),A);if(s(wr(wr(wr({},t),e),g)),f<1)o=a.setTimeout(u);else{var m=df((p,v)=>Fp(...v,r(1)),A);s(wr(wr(wr({},t),e),m))}};return()=>(o=a.setTimeout(u),()=>{o()})}const sL=(t,e,r,n,i,s)=>{var a=Lae(t,e);return r.isStepper===!0?$ae(t,e,r,a,i,s):Gae(t,e,r,n,a,i,s)};function zae(t){var e,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[A,...l]=o;if(typeof A=="number"){i=t.setTimeout(s.bind(null,l),A);return}s(A),i=t.setTimeout(s.bind(null,l));return}typeof a=="string"&&(e=a,r(e)),typeof a=="object"&&(e=a,r(e)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>t}}class Wae{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function Yae(){return zae(new Wae)}var Xae=x.createContext(Yae);function aL(t,e){var r=x.useContext(Xae);return x.useMemo(()=>e??r(t),[t,e,r])}var qae=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function sB(){return sB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sB.apply(null,arguments)}function Jae(t,e){if(t==null)return{};var r,n,i=Zae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Zae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function FU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ia(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FU(Object(r),!0).forEach(function(n){Wo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wo(t,e,r){return(e=eoe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eoe(t){var e=toe(t,"string");return typeof e=="symbol"?e:e+""}function toe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class h1 extends x.PureComponent{constructor(e,r){super(e,r),Wo(this,"mounted",!1),Wo(this,"manager",void 0),Wo(this,"stopJSAnimation",null),Wo(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:s,to:a,children:o,duration:A,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||A<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:a});return}if(s){if(typeof o=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:r}=this.props;this.mounted=!0,!(!e||!r)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:s,to:a,from:o}=this.props,{style:A}=this.state;if(n){if(!r){var l={style:i?{[i]:a}:a};this.state&&A&&(i&&A[i]!==a||!i&&A!==a)&&this.setState(l);return}if(!(Nae(e.to,a)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=u||s?o:e.to;if(this.state&&A){var f={style:i?{[i]:d}:d};(i&&A[i]!==d||!i&&A!==d)&&this.setState(f)}this.runAnimation(ia(ia({},this.props),{},{from:d,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:r,to:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:A}=e,l=sL(r,n,nL(s),i,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=l()};this.manager.start([A,a,u,i,o])}runAnimation(e){var{begin:r,duration:n,attributeName:i,to:s,easing:a,onAnimationStart:o,onAnimationEnd:A,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof l=="function"||a==="spring"){this.runJSAnimation(e);return}var u=i?{[i]:s}:s,d=Mae(Object.keys(u),n,a);this.manager.start([o,r,ia(ia({},u),{},{transition:d}),n,A])}render(){var e=this.props,{children:r,begin:n,duration:i,attributeName:s,easing:a,isActive:o,from:A,to:l,canBegin:u,onAnimationEnd:d,shouldReAnimate:f,onAnimationReStart:g,animationManager:m}=e,p=Jae(e,qae),v=x.Children.count(r),y=this.state.style;if(typeof r=="function")return r(y);if(!o||v===0||i<=0)return r;var w=B=>{var{style:I={},className:T}=B.props,F=x.cloneElement(B,ia(ia({},p),{},{style:ia(ia({},I),y),className:T}));return F};return v===1?w(x.Children.only(r)):x.createElement("div",null,x.Children.map(r,B=>w(B)))}}Wo(h1,"displayName","Animate");Wo(h1,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Up(t){var e,r=aL((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return x.createElement(h1,sB({},t,{animationManager:r}))}function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pp.apply(null,arguments)}var UU=(t,e,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,o=r>=0?1:-1,A=n>=0&&r>=0||n<0&&r<0?1:0,l;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],d=0,f=4;d<f;d++)u[d]=i[d]>s?s:i[d];l="M".concat(t,",").concat(e+a*u[0]),u[0]>0&&(l+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(A,",").concat(t+o*u[0],",").concat(e)),l+="L ".concat(t+r-o*u[1],",").concat(e),u[1]>0&&(l+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(A,`,
        `).concat(t+r,",").concat(e+a*u[1])),l+="L ".concat(t+r,",").concat(e+n-a*u[2]),u[2]>0&&(l+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(A,`,
        `).concat(t+r-o*u[2],",").concat(e+n)),l+="L ".concat(t+o*u[3],",").concat(e+n),u[3]>0&&(l+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(A,`,
        `).concat(t,",").concat(e+n-a*u[3])),l+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);l="M ".concat(t,",").concat(e+a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+o*g,",").concat(e,`
            L `).concat(t+r-o*g,",").concat(e,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+r,",").concat(e+a*g,`
            L `).concat(t+r,",").concat(e+n-a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+r-o*g,",").concat(e+n,`
            L `).concat(t+o*g,",").concat(e+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t,",").concat(e+n-a*g," Z")}else l="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return l},roe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oL=t=>{var e=Qn(t,roe),r=x.useRef(null),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&i(y)}catch{}},[]);var{x:s,y:a,width:o,height:A,radius:l,className:u}=e,{animationEasing:d,animationDuration:f,animationBegin:g,isAnimationActive:m,isUpdateAnimationActive:p}=e;if(s!==+s||a!==+a||o!==+o||A!==+A||o===0||A===0)return null;var v=$e("recharts-rectangle",u);return p?x.createElement(Up,{canBegin:n>0,from:{width:o,height:A,x:s,y:a},to:{width:o,height:A,x:s,y:a},duration:f,animationEasing:d,isActive:p},y=>{var{width:w,height:B,x:I,y:T}=y;return x.createElement(Up,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,isActive:m,easing:d},x.createElement("path",Pp({},yt(e,!0),{className:v,d:UU(I,T,w,B,l),ref:r})))}):x.createElement("path",Pp({},yt(e,!0),{className:v,d:UU(s,a,o,A,l)}))};function AL(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:s}=t,a=$t(e,r,n,i),o=$t(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function aB(){return aB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aB.apply(null,arguments)}var noe=(t,e)=>{var r=ur(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},Cg=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:A}=t,l=o*(a?1:-1)+n,u=Math.asin(o/l)/Sp,d=A?i:i+s*u,f=$t(e,r,l,d),g=$t(e,r,n,d),m=A?i-s*u:i,p=$t(e,r,l*Math.cos(u*Sp),m);return{center:f,circleTangency:g,lineTangency:p,theta:u}},lL=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=t,o=noe(s,a),A=s+o,l=$t(e,r,i,s),u=$t(e,r,i,A),d="M ".concat(l.x,",").concat(l.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>A),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var f=$t(e,r,n,s),g=$t(e,r,n,A);d+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=A),`,
            `).concat(f.x,",").concat(f.y," Z")}else d+="L ".concat(e,",").concat(r," Z");return d},ioe=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:A,endAngle:l}=t,u=ur(l-A),{circleTangency:d,lineTangency:f,theta:g}=Cg({cx:e,cy:r,radius:i,angle:A,sign:u,cornerRadius:s,cornerIsExternal:o}),{circleTangency:m,lineTangency:p,theta:v}=Cg({cx:e,cy:r,radius:i,angle:l,sign:-u,cornerRadius:s,cornerIsExternal:o}),y=o?Math.abs(A-l):Math.abs(A-l)-g-v;if(y<0)return a?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):lL({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:A,endAngle:l});var w="M ".concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
  `);if(n>0){var{circleTangency:B,lineTangency:I,theta:T}=Cg({cx:e,cy:r,radius:n,angle:A,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:F,lineTangency:C,theta:_}=Cg({cx:e,cy:r,radius:n,angle:l,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),S=o?Math.abs(A-l):Math.abs(A-l)-T-_;if(S<0&&s===0)return"".concat(w,"L").concat(e,",").concat(r,"Z");w+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(S>180),",").concat(+(u>0),",").concat(B.x,",").concat(B.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(I.x,",").concat(I.y,"Z")}else w+="L".concat(e,",").concat(r,"Z");return w},soe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uL=t=>{var e=Qn(t,soe),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:A,startAngle:l,endAngle:u,className:d}=e;if(s<i||l===u)return null;var f=$e("recharts-sector",d),g=s-i,m=zr(a,g,0,!0),p;return m>0&&Math.abs(l-u)<360?p=ioe({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:o,cornerIsExternal:A,startAngle:l,endAngle:u}):p=lL({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:l,endAngle:u}),x.createElement("path",aB({},yt(e,!0),{className:f,d:p}))};function aoe(t,e,r){var n,i,s,a;if(t==="horizontal")n=e.x,s=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:o,cy:A,innerRadius:l,outerRadius:u,angle:d}=e,f=$t(o,A,l,d),g=$t(o,A,u,d);n=f.x,i=f.y,s=g.x,a=g.y}else return AL(e);return[{x:n,y:i},{x:s,y:a}]}var cL={},dL={},fL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e1;function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(fL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fL;function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(dL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t1,r=dL;function n(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),A=new Array(o);for(let l=0;l<o;l++)A[l]=i,i+=a;return A}t.range=n})(cL);var ooe=cL.range;const hL=Ki(ooe);function Ha(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Aoe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function g1(t){let e,r,n;t.length!==2?(e=Ha,r=(o,A)=>Ha(t(o),A),n=(o,A)=>t(o)-A):(e=t===Ha||t===Aoe?t:loe,r=t,n=t);function i(o,A,l=0,u=o.length){if(l<u){if(e(A,A)!==0)return u;do{const d=l+u>>>1;r(o[d],A)<0?l=d+1:u=d}while(l<u)}return l}function s(o,A,l=0,u=o.length){if(l<u){if(e(A,A)!==0)return u;do{const d=l+u>>>1;r(o[d],A)<=0?l=d+1:u=d}while(l<u)}return l}function a(o,A,l=0,u=o.length){const d=i(o,A,l,u-1);return d>l&&n(o[d-1],A)>-n(o[d],A)?d-1:d}return{left:i,center:a,right:s}}function loe(){return 0}function gL(t){return t===null?NaN:+t}function*uoe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const coe=g1(Ha),Vf=coe.right;g1(gL).center;class PU extends Map{constructor(e,r=hoe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(NU(this,e))}has(e){return super.has(NU(this,e))}set(e,r){return super.set(doe(this,e),r)}delete(e){return super.delete(foe(this,e))}}function NU({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function doe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function foe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function hoe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function goe(t=Ha){if(t===Ha)return mL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function mL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const moe=Math.sqrt(50),poe=Math.sqrt(10),voe=Math.sqrt(2);function Np(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=moe?10:s>=poe?5:s>=voe?2:1;let o,A,l;return i<0?(l=Math.pow(10,-i)/a,o=Math.round(t*l),A=Math.round(e*l),o/l<t&&++o,A/l>e&&--A,l=-l):(l=Math.pow(10,i)*a,o=Math.round(t/l),A=Math.round(e/l),o*l<t&&++o,A*l>e&&--A),A<o&&.5<=r&&r<2?Np(t,e,r*2):[o,A,l]}function oB(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?Np(e,t,r):Np(t,e,r);if(!(s>=i))return[];const o=s-i+1,A=new Array(o);if(n)if(a<0)for(let l=0;l<o;++l)A[l]=(s-l)/-a;else for(let l=0;l<o;++l)A[l]=(s-l)*a;else if(a<0)for(let l=0;l<o;++l)A[l]=(i+l)/-a;else for(let l=0;l<o;++l)A[l]=(i+l)*a;return A}function AB(t,e,r){return e=+e,t=+t,r=+r,Np(t,e,r)[2]}function lB(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?AB(e,t,r):AB(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function QU(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function kU(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function pL(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?mL:goe(i);n>r;){if(n-r>600){const A=n-r+1,l=e-r+1,u=Math.log(A),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(A-d)/A)*(l-A/2<0?-1:1),g=Math.max(r,Math.floor(e-l*d/A+f)),m=Math.min(n,Math.floor(e+(A-l)*d/A+f));pL(t,e,g,m,i)}const s=t[e];let a=r,o=n;for(Tc(t,r,e),i(t[n],s)>0&&Tc(t,r,n);a<o;){for(Tc(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?Tc(t,r,o):(++o,Tc(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Tc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function yoe(t,e,r){if(t=Float64Array.from(uoe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return kU(t);if(e>=1)return QU(t);var n,i=(n-1)*e,s=Math.floor(i),a=QU(pL(t,s).subarray(0,s+1)),o=kU(t.subarray(s+1));return a+(o-a)*(i-s)}}function woe(t,e,r=gL){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function xoe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function si(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ks(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const uB=Symbol("implicit");function m1(){var t=new PU,e=[],r=[],n=uB;function i(s){let a=t.get(s);if(a===void 0){if(n!==uB)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new PU;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return m1(e,r).unknown(n)},si.apply(i,arguments),i}function p1(){var t=m1().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,A=0,l=0,u=.5;delete t.unknown;function d(){var f=e().length,g=i<n,m=g?i:n,p=g?n:i;s=(p-m)/Math.max(1,f-A+l*2),o&&(s=Math.floor(s)),m+=(p-m-s*(f-A))*u,a=s*(1-A),o&&(m=Math.round(m),a=Math.round(a));var v=xoe(f).map(function(y){return m+s*y});return r(g?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,o=!0,d()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(o=!!f,d()):o},t.padding=function(f){return arguments.length?(A=Math.min(1,l=+f),d()):A},t.paddingInner=function(f){return arguments.length?(A=Math.min(1,f),d()):A},t.paddingOuter=function(f){return arguments.length?(l=+f,d()):l},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},t.copy=function(){return p1(e(),[n,i]).round(o).paddingInner(A).paddingOuter(l).align(u)},si.apply(d(),arguments)}function vL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return vL(e())},t}function boe(){return vL(p1.apply(null,arguments).paddingInner(1))}function v1(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function yL(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Kf(){}var ff=.7,Qp=1/ff,Yl="\\s*([+-]?\\d+)\\s*",hf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Boe=/^#([0-9a-f]{3,8})$/,Coe=new RegExp(`^rgb\\(${Yl},${Yl},${Yl}\\)$`),Eoe=new RegExp(`^rgb\\(${Mi},${Mi},${Mi}\\)$`),_oe=new RegExp(`^rgba\\(${Yl},${Yl},${Yl},${hf}\\)$`),Ioe=new RegExp(`^rgba\\(${Mi},${Mi},${Mi},${hf}\\)$`),Soe=new RegExp(`^hsl\\(${hf},${Mi},${Mi}\\)$`),Toe=new RegExp(`^hsla\\(${hf},${Mi},${Mi},${hf}\\)$`),OU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};v1(Kf,gf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:DU,formatHex:DU,formatHex8:Foe,formatHsl:Uoe,formatRgb:jU,toString:jU});function DU(){return this.rgb().formatHex()}function Foe(){return this.rgb().formatHex8()}function Uoe(){return wL(this).formatHsl()}function jU(){return this.rgb().formatRgb()}function gf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Boe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?RU(e):r===3?new rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Eg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Eg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Coe.exec(t))?new rn(e[1],e[2],e[3],1):(e=Eoe.exec(t))?new rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_oe.exec(t))?Eg(e[1],e[2],e[3],e[4]):(e=Ioe.exec(t))?Eg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Soe.exec(t))?HU(e[1],e[2]/100,e[3]/100,1):(e=Toe.exec(t))?HU(e[1],e[2]/100,e[3]/100,e[4]):OU.hasOwnProperty(t)?RU(OU[t]):t==="transparent"?new rn(NaN,NaN,NaN,0):null}function RU(t){return new rn(t>>16&255,t>>8&255,t&255,1)}function Eg(t,e,r,n){return n<=0&&(t=e=r=NaN),new rn(t,e,r,n)}function Poe(t){return t instanceof Kf||(t=gf(t)),t?(t=t.rgb(),new rn(t.r,t.g,t.b,t.opacity)):new rn}function cB(t,e,r,n){return arguments.length===1?Poe(t):new rn(t,e,r,n??1)}function rn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}v1(rn,cB,yL(Kf,{brighter(t){return t=t==null?Qp:Math.pow(Qp,t),new rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ff:Math.pow(ff,t),new rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rn(aA(this.r),aA(this.g),aA(this.b),kp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MU,formatHex:MU,formatHex8:Noe,formatRgb:LU,toString:LU}));function MU(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}`}function Noe(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}${Yo((isNaN(this.opacity)?1:this.opacity)*255)}`}function LU(){const t=kp(this.opacity);return`${t===1?"rgb(":"rgba("}${aA(this.r)}, ${aA(this.g)}, ${aA(this.b)}${t===1?")":`, ${t})`}`}function kp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function aA(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Yo(t){return t=aA(t),(t<16?"0":"")+t.toString(16)}function HU(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new pi(t,e,r,n)}function wL(t){if(t instanceof pi)return new pi(t.h,t.s,t.l,t.opacity);if(t instanceof Kf||(t=gf(t)),!t)return new pi;if(t instanceof pi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,A=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=A<.5?s+i:2-s-i,a*=60):o=A>0&&A<1?0:a,new pi(a,o,A,t.opacity)}function Qoe(t,e,r,n){return arguments.length===1?wL(t):new pi(t,e,r,n??1)}function pi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}v1(pi,Qoe,yL(Kf,{brighter(t){return t=t==null?Qp:Math.pow(Qp,t),new pi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ff:Math.pow(ff,t),new pi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new rn(Ew(t>=240?t-240:t+120,i,n),Ew(t,i,n),Ew(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new pi(VU(this.h),_g(this.s),_g(this.l),kp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=kp(this.opacity);return`${t===1?"hsl(":"hsla("}${VU(this.h)}, ${_g(this.s)*100}%, ${_g(this.l)*100}%${t===1?")":`, ${t})`}`}}));function VU(t){return t=(t||0)%360,t<0?t+360:t}function _g(t){return Math.max(0,Math.min(1,t||0))}function Ew(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const y1=t=>()=>t;function koe(t,e){return function(r){return t+r*e}}function Ooe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Doe(t){return(t=+t)==1?xL:function(e,r){return r-e?Ooe(e,r,t):y1(isNaN(e)?r:e)}}function xL(t,e){var r=e-t;return r?koe(t,r):y1(isNaN(t)?e:t)}const KU=function t(e){var r=Doe(e);function n(i,s){var a=r((i=cB(i)).r,(s=cB(s)).r),o=r(i.g,s.g),A=r(i.b,s.b),l=xL(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=A(u),i.opacity=l(u),i+""}}return n.gamma=t,n}(1);function joe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function Roe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Moe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Lu(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function Loe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Op(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Hoe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Lu(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var dB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_w=new RegExp(dB.source,"g");function Voe(t){return function(){return t}}function Koe(t){return function(e){return t(e)+""}}function $oe(t,e){var r=dB.lastIndex=_w.lastIndex=0,n,i,s,a=-1,o=[],A=[];for(t=t+"",e=e+"";(n=dB.exec(t))&&(i=_w.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,A.push({i:a,x:Op(n,i)})),r=_w.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?A[0]?Koe(A[0].x):Voe(e):(e=A.length,function(l){for(var u=0,d;u<e;++u)o[(d=A[u]).i]=d.x(l);return o.join("")})}function Lu(t,e){var r=typeof e,n;return e==null||r==="boolean"?y1(e):(r==="number"?Op:r==="string"?(n=gf(e))?(e=n,KU):$oe:e instanceof gf?KU:e instanceof Date?Loe:Roe(e)?joe:Array.isArray(e)?Moe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Hoe:Op)(t,e)}function w1(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Goe(t,e){e===void 0&&(e=t,t=Lu);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function zoe(t){return function(){return t}}function Dp(t){return+t}var $U=[0,1];function Hr(t){return t}function fB(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:zoe(isNaN(e)?NaN:.5)}function Woe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Yoe(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=fB(i,n),s=r(a,s)):(n=fB(n,i),s=r(s,a)),function(o){return s(n(o))}}function Xoe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=fB(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var A=Vf(t,o,1,n)-1;return s[A](i[A](o))}}function $f(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Pv(){var t=$U,e=$U,r=Lu,n,i,s,a=Hr,o,A,l;function u(){var f=Math.min(t.length,e.length);return a!==Hr&&(a=Woe(t[0],t[f-1])),o=f>2?Xoe:Yoe,A=l=null,d}function d(f){return f==null||isNaN(f=+f)?s:(A||(A=o(t.map(n),e,r)))(n(a(f)))}return d.invert=function(f){return a(i((l||(l=o(e,t.map(n),Op)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,Dp),u()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),r=w1,u()},d.clamp=function(f){return arguments.length?(a=f?!0:Hr,u()):a!==Hr},d.interpolate=function(f){return arguments.length?(r=f,u()):r},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,g){return n=f,i=g,u()}}function x1(){return Pv()(Hr,Hr)}function qoe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jp(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Bu(t){return t=jp(Math.abs(t)),t?t[1]:NaN}function Joe(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],A=0;i>0&&o>0&&(A+o+1>n&&(o=Math.max(1,n-A)),s.push(r.substring(i-=o,i+o)),!((A+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Zoe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var eAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mf(t){if(!(e=eAe.exec(t)))throw new Error("invalid format: "+t);var e;return new b1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}mf.prototype=b1.prototype;function b1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}b1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tAe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var bL;function rAe(t,e){var r=jp(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(bL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+jp(t,Math.max(0,e+s-1))[0]}function GU(t,e){var r=jp(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const zU={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:qoe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>GU(t*100,e),r:GU,s:rAe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function WU(t){return t}var YU=Array.prototype.map,XU=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function nAe(t){var e=t.grouping===void 0||t.thousands===void 0?WU:Joe(YU.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?WU:Zoe(YU.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",A=t.nan===void 0?"NaN":t.nan+"";function l(d){d=mf(d);var f=d.fill,g=d.align,m=d.sign,p=d.symbol,v=d.zero,y=d.width,w=d.comma,B=d.precision,I=d.trim,T=d.type;T==="n"?(w=!0,T="g"):zU[T]||(B===void 0&&(B=12),I=!0,T="g"),(v||f==="0"&&g==="=")&&(v=!0,f="0",g="=");var F=p==="$"?r:p==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",C=p==="$"?n:/[%p]/.test(T)?a:"",_=zU[T],S=/[defgprs%]/.test(T);B=B===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function P(Q){var k=F,N=C,ae,be,me;if(T==="c")N=_(Q)+N,Q="";else{Q=+Q;var pe=Q<0||1/Q<0;if(Q=isNaN(Q)?A:_(Math.abs(Q),B),I&&(Q=tAe(Q)),pe&&+Q==0&&m!=="+"&&(pe=!1),k=(pe?m==="("?m:o:m==="-"||m==="("?"":m)+k,N=(T==="s"?XU[8+bL/3]:"")+N+(pe&&m==="("?")":""),S){for(ae=-1,be=Q.length;++ae<be;)if(me=Q.charCodeAt(ae),48>me||me>57){N=(me===46?i+Q.slice(ae+1):Q.slice(ae))+N,Q=Q.slice(0,ae);break}}}w&&!v&&(Q=e(Q,1/0));var J=k.length+Q.length+N.length,ie=J<y?new Array(y-J+1).join(f):"";switch(w&&v&&(Q=e(ie+Q,ie.length?y-N.length:1/0),ie=""),g){case"<":Q=k+Q+N+ie;break;case"=":Q=k+ie+Q+N;break;case"^":Q=ie.slice(0,J=ie.length>>1)+k+Q+N+ie.slice(J);break;default:Q=ie+k+Q+N;break}return s(Q)}return P.toString=function(){return d+""},P}function u(d,f){var g=l((d=mf(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Bu(f)/3)))*3,p=Math.pow(10,-m),v=XU[8+m/3];return function(y){return g(p*y)+v}}return{format:l,formatPrefix:u}}var Ig,B1,BL;iAe({thousands:",",grouping:[3],currency:["$",""]});function iAe(t){return Ig=nAe(t),B1=Ig.format,BL=Ig.formatPrefix,Ig}function sAe(t){return Math.max(0,-Bu(Math.abs(t)))}function aAe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bu(e)/3)))*3-Bu(Math.abs(t)))}function oAe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Bu(e)-Bu(t))+1}function CL(t,e,r,n){var i=lB(t,e,r),s;switch(n=mf(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=aAe(i,a))&&(n.precision=s),BL(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=oAe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=sAe(i))&&(n.precision=s-(n.type==="%")*2);break}}return B1(n)}function mo(t){var e=t.domain;return t.ticks=function(r){var n=e();return oB(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return CL(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],A,l,u=10;for(o<a&&(l=a,a=o,o=l,l=i,i=s,s=l);u-- >0;){if(l=AB(a,o,r),l===A)return n[i]=a,n[s]=o,e(n);if(l>0)a=Math.floor(a/l)*l,o=Math.ceil(o/l)*l;else if(l<0)a=Math.ceil(a*l)/l,o=Math.floor(o*l)/l;else break;A=l}return t},t}function EL(){var t=x1();return t.copy=function(){return $f(t,EL())},si.apply(t,arguments),mo(t)}function _L(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Dp),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return _L(t).unknown(e)},t=arguments.length?Array.from(t,Dp):[0,1],mo(r)}function IL(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function qU(t){return Math.log(t)}function JU(t){return Math.exp(t)}function AAe(t){return-Math.log(-t)}function lAe(t){return-Math.exp(-t)}function uAe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function cAe(t){return t===10?uAe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function dAe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ZU(t){return(e,r)=>-t(-e,r)}function C1(t){const e=t(qU,JU),r=e.domain;let n=10,i,s;function a(){return i=dAe(n),s=cAe(n),r()[0]<0?(i=ZU(i),s=ZU(s),t(AAe,lAe)):t(qU,JU),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const A=r();let l=A[0],u=A[A.length-1];const d=u<l;d&&([l,u]=[u,l]);let f=i(l),g=i(u),m,p;const v=o==null?10:+o;let y=[];if(!(n%1)&&g-f<v){if(f=Math.floor(f),g=Math.ceil(g),l>0){for(;f<=g;++f)for(m=1;m<n;++m)if(p=f<0?m/s(-f):m*s(f),!(p<l)){if(p>u)break;y.push(p)}}else for(;f<=g;++f)for(m=n-1;m>=1;--m)if(p=f>0?m/s(-f):m*s(f),!(p<l)){if(p>u)break;y.push(p)}y.length*2<v&&(y=oB(l,u,v))}else y=oB(f,g,Math.min(g-f,v)).map(s);return d?y.reverse():y},e.tickFormat=(o,A)=>{if(o==null&&(o=10),A==null&&(A=n===10?"s":","),typeof A!="function"&&(!(n%1)&&(A=mf(A)).precision==null&&(A.trim=!0),A=B1(A)),o===1/0)return A;const l=Math.max(1,n*o/e.ticks().length);return u=>{let d=u/s(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=l?A(u):""}},e.nice=()=>r(IL(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function SL(){const t=C1(Pv()).domain([1,10]);return t.copy=()=>$f(t,SL()).base(t.base()),si.apply(t,arguments),t}function eP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function tP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function E1(t){var e=1,r=t(eP(e),tP(e));return r.constant=function(n){return arguments.length?t(eP(e=+n),tP(e)):e},mo(r)}function TL(){var t=E1(Pv());return t.copy=function(){return $f(t,TL()).constant(t.constant())},si.apply(t,arguments)}function rP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function fAe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hAe(t){return t<0?-t*t:t*t}function _1(t){var e=t(Hr,Hr),r=1;function n(){return r===1?t(Hr,Hr):r===.5?t(fAe,hAe):t(rP(r),rP(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},mo(e)}function I1(){var t=_1(Pv());return t.copy=function(){return $f(t,I1()).exponent(t.exponent())},si.apply(t,arguments),t}function gAe(){return I1.apply(null,arguments).exponent(.5)}function nP(t){return Math.sign(t)*t*t}function mAe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function FL(){var t=x1(),e=[0,1],r=!1,n;function i(s){var a=mAe(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(nP(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Dp)).map(nP)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return FL(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},si.apply(i,arguments),mo(i)}function UL(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=woe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[Vf(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Ha),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return UL().domain(t).range(e).unknown(n)},si.apply(s,arguments)}function PL(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(A){return A!=null&&A<=A?i[Vf(n,A,0,r)]:s}function o(){var A=-1;for(n=new Array(r);++A<r;)n[A]=((A+1)*e-(A-r)*t)/(r+1);return a}return a.domain=function(A){return arguments.length?([t,e]=A,t=+t,e=+e,o()):[t,e]},a.range=function(A){return arguments.length?(r=(i=Array.from(A)).length-1,o()):i.slice()},a.invertExtent=function(A){var l=i.indexOf(A);return l<0?[NaN,NaN]:l<1?[t,n[0]]:l>=r?[n[r-1],e]:[n[l-1],n[l]]},a.unknown=function(A){return arguments.length&&(s=A),a},a.thresholds=function(){return n.slice()},a.copy=function(){return PL().domain([t,e]).range(i).unknown(s)},si.apply(mo(a),arguments)}function NL(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[Vf(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return NL().domain(t).range(e).unknown(r)},si.apply(i,arguments)}const Iw=new Date,Sw=new Date;function tr(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const A=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return A;let l;do A.push(l=new Date(+s)),e(s,o),t(s);while(l<s&&s<a);return A},i.filter=s=>tr(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(Iw.setTime(+s),Sw.setTime(+a),t(Iw),t(Sw),Math.floor(r(Iw,Sw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Rp=tr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Rp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?tr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Rp);Rp.range;const vs=1e3,Xn=vs*60,ys=Xn*60,Qs=ys*24,S1=Qs*7,iP=Qs*30,Tw=Qs*365,Xo=tr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*vs)},(t,e)=>(e-t)/vs,t=>t.getUTCSeconds());Xo.range;const T1=tr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vs)},(t,e)=>{t.setTime(+t+e*Xn)},(t,e)=>(e-t)/Xn,t=>t.getMinutes());T1.range;const F1=tr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Xn)},(t,e)=>(e-t)/Xn,t=>t.getUTCMinutes());F1.range;const U1=tr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vs-t.getMinutes()*Xn)},(t,e)=>{t.setTime(+t+e*ys)},(t,e)=>(e-t)/ys,t=>t.getHours());U1.range;const P1=tr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ys)},(t,e)=>(e-t)/ys,t=>t.getUTCHours());P1.range;const Gf=tr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Xn)/Qs,t=>t.getDate()-1);Gf.range;const Nv=tr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qs,t=>t.getUTCDate()-1);Nv.range;const QL=tr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qs,t=>Math.floor(t/Qs));QL.range;function jA(t){return tr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Xn)/S1)}const Qv=jA(0),Mp=jA(1),pAe=jA(2),vAe=jA(3),Cu=jA(4),yAe=jA(5),wAe=jA(6);Qv.range;Mp.range;pAe.range;vAe.range;Cu.range;yAe.range;wAe.range;function RA(t){return tr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/S1)}const kv=RA(0),Lp=RA(1),xAe=RA(2),bAe=RA(3),Eu=RA(4),BAe=RA(5),CAe=RA(6);kv.range;Lp.range;xAe.range;bAe.range;Eu.range;BAe.range;CAe.range;const N1=tr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());N1.range;const Q1=tr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Q1.range;const ks=tr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ks.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ks.range;const Os=tr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Os.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:tr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Os.range;function kL(t,e,r,n,i,s){const a=[[Xo,1,vs],[Xo,5,5*vs],[Xo,15,15*vs],[Xo,30,30*vs],[s,1,Xn],[s,5,5*Xn],[s,15,15*Xn],[s,30,30*Xn],[i,1,ys],[i,3,3*ys],[i,6,6*ys],[i,12,12*ys],[n,1,Qs],[n,2,2*Qs],[r,1,S1],[e,1,iP],[e,3,3*iP],[t,1,Tw]];function o(l,u,d){const f=u<l;f&&([l,u]=[u,l]);const g=d&&typeof d.range=="function"?d:A(l,u,d),m=g?g.range(l,+u+1):[];return f?m.reverse():m}function A(l,u,d){const f=Math.abs(u-l)/d,g=g1(([,,v])=>v).right(a,f);if(g===a.length)return t.every(lB(l/Tw,u/Tw,d));if(g===0)return Rp.every(Math.max(lB(l,u,d),1));const[m,p]=a[f/a[g-1][2]<a[g][2]/f?g-1:g];return m.every(p)}return[o,A]}const[EAe,_Ae]=kL(Os,Q1,kv,QL,P1,F1),[IAe,SAe]=kL(ks,N1,Qv,Gf,U1,T1);function Fw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Uw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Fc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function TAe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,A=t.shortMonths,l=Uc(i),u=Pc(i),d=Uc(s),f=Pc(s),g=Uc(a),m=Pc(a),p=Uc(o),v=Pc(o),y=Uc(A),w=Pc(A),B={a:pe,A:J,b:ie,B:ue,c:null,d:uP,e:uP,f:JAe,g:Ale,G:ule,H:YAe,I:XAe,j:qAe,L:OL,m:ZAe,M:ele,p:Se,q:ne,Q:fP,s:hP,S:tle,u:rle,U:nle,V:ile,w:sle,W:ale,x:null,X:null,y:ole,Y:lle,Z:cle,"%":dP},I={a:Pe,A:Ye,b:D,B:V,c:null,d:cP,e:cP,f:gle,g:Ele,G:Ile,H:dle,I:fle,j:hle,L:jL,m:mle,M:ple,p:j,q:Y,Q:fP,s:hP,S:vle,u:yle,U:wle,V:xle,w:ble,W:Ble,x:null,X:null,y:Cle,Y:_le,Z:Sle,"%":dP},T={a:P,A:Q,b:k,B:N,c:ae,d:AP,e:AP,f:$Ae,g:oP,G:aP,H:lP,I:lP,j:LAe,L:KAe,m:MAe,M:HAe,p:S,q:RAe,Q:zAe,s:WAe,S:VAe,u:QAe,U:kAe,V:OAe,w:NAe,W:DAe,x:be,X:me,y:oP,Y:aP,Z:jAe,"%":GAe};B.x=F(r,B),B.X=F(n,B),B.c=F(e,B),I.x=F(r,I),I.X=F(n,I),I.c=F(e,I);function F(M,G){return function(W){var L=[],Be=-1,we=0,Qe=M.length,ze,zt,zi;for(W instanceof Date||(W=new Date(+W));++Be<Qe;)M.charCodeAt(Be)===37&&(L.push(M.slice(we,Be)),(zt=sP[ze=M.charAt(++Be)])!=null?ze=M.charAt(++Be):zt=ze==="e"?" ":"0",(zi=G[ze])&&(ze=zi(W,zt)),L.push(ze),we=Be+1);return L.push(M.slice(we,Be)),L.join("")}}function C(M,G){return function(W){var L=Fc(1900,void 0,1),Be=_(L,M,W+="",0),we,Qe;if(Be!=W.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(G&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(we=Uw(Fc(L.y,0,1)),Qe=we.getUTCDay(),we=Qe>4||Qe===0?Lp.ceil(we):Lp(we),we=Nv.offset(we,(L.V-1)*7),L.y=we.getUTCFullYear(),L.m=we.getUTCMonth(),L.d=we.getUTCDate()+(L.w+6)%7):(we=Fw(Fc(L.y,0,1)),Qe=we.getDay(),we=Qe>4||Qe===0?Mp.ceil(we):Mp(we),we=Gf.offset(we,(L.V-1)*7),L.y=we.getFullYear(),L.m=we.getMonth(),L.d=we.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),Qe="Z"in L?Uw(Fc(L.y,0,1)).getUTCDay():Fw(Fc(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(Qe+5)%7:L.w+L.U*7-(Qe+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,Uw(L)):Fw(L)}}function _(M,G,W,L){for(var Be=0,we=G.length,Qe=W.length,ze,zt;Be<we;){if(L>=Qe)return-1;if(ze=G.charCodeAt(Be++),ze===37){if(ze=G.charAt(Be++),zt=T[ze in sP?G.charAt(Be++):ze],!zt||(L=zt(M,W,L))<0)return-1}else if(ze!=W.charCodeAt(L++))return-1}return L}function S(M,G,W){var L=l.exec(G.slice(W));return L?(M.p=u.get(L[0].toLowerCase()),W+L[0].length):-1}function P(M,G,W){var L=g.exec(G.slice(W));return L?(M.w=m.get(L[0].toLowerCase()),W+L[0].length):-1}function Q(M,G,W){var L=d.exec(G.slice(W));return L?(M.w=f.get(L[0].toLowerCase()),W+L[0].length):-1}function k(M,G,W){var L=y.exec(G.slice(W));return L?(M.m=w.get(L[0].toLowerCase()),W+L[0].length):-1}function N(M,G,W){var L=p.exec(G.slice(W));return L?(M.m=v.get(L[0].toLowerCase()),W+L[0].length):-1}function ae(M,G,W){return _(M,e,G,W)}function be(M,G,W){return _(M,r,G,W)}function me(M,G,W){return _(M,n,G,W)}function pe(M){return a[M.getDay()]}function J(M){return s[M.getDay()]}function ie(M){return A[M.getMonth()]}function ue(M){return o[M.getMonth()]}function Se(M){return i[+(M.getHours()>=12)]}function ne(M){return 1+~~(M.getMonth()/3)}function Pe(M){return a[M.getUTCDay()]}function Ye(M){return s[M.getUTCDay()]}function D(M){return A[M.getUTCMonth()]}function V(M){return o[M.getUTCMonth()]}function j(M){return i[+(M.getUTCHours()>=12)]}function Y(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var G=F(M+="",B);return G.toString=function(){return M},G},parse:function(M){var G=C(M+="",!1);return G.toString=function(){return M},G},utcFormat:function(M){var G=F(M+="",I);return G.toString=function(){return M},G},utcParse:function(M){var G=C(M+="",!0);return G.toString=function(){return M},G}}}var sP={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,FAe=/^%/,UAe=/[\\^$*+?|[\]().{}]/g;function Ge(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function PAe(t){return t.replace(UAe,"\\$&")}function Uc(t){return new RegExp("^(?:"+t.map(PAe).join("|")+")","i")}function Pc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function NAe(t,e,r){var n=dr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function QAe(t,e,r){var n=dr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function kAe(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function OAe(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function DAe(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function aP(t,e,r){var n=dr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function oP(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function jAe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function RAe(t,e,r){var n=dr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function MAe(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function AP(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function LAe(t,e,r){var n=dr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function lP(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function HAe(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function VAe(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function KAe(t,e,r){var n=dr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function $Ae(t,e,r){var n=dr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function GAe(t,e,r){var n=FAe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function zAe(t,e,r){var n=dr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function WAe(t,e,r){var n=dr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function uP(t,e){return Ge(t.getDate(),e,2)}function YAe(t,e){return Ge(t.getHours(),e,2)}function XAe(t,e){return Ge(t.getHours()%12||12,e,2)}function qAe(t,e){return Ge(1+Gf.count(ks(t),t),e,3)}function OL(t,e){return Ge(t.getMilliseconds(),e,3)}function JAe(t,e){return OL(t,e)+"000"}function ZAe(t,e){return Ge(t.getMonth()+1,e,2)}function ele(t,e){return Ge(t.getMinutes(),e,2)}function tle(t,e){return Ge(t.getSeconds(),e,2)}function rle(t){var e=t.getDay();return e===0?7:e}function nle(t,e){return Ge(Qv.count(ks(t)-1,t),e,2)}function DL(t){var e=t.getDay();return e>=4||e===0?Cu(t):Cu.ceil(t)}function ile(t,e){return t=DL(t),Ge(Cu.count(ks(t),t)+(ks(t).getDay()===4),e,2)}function sle(t){return t.getDay()}function ale(t,e){return Ge(Mp.count(ks(t)-1,t),e,2)}function ole(t,e){return Ge(t.getFullYear()%100,e,2)}function Ale(t,e){return t=DL(t),Ge(t.getFullYear()%100,e,2)}function lle(t,e){return Ge(t.getFullYear()%1e4,e,4)}function ule(t,e){var r=t.getDay();return t=r>=4||r===0?Cu(t):Cu.ceil(t),Ge(t.getFullYear()%1e4,e,4)}function cle(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ge(e/60|0,"0",2)+Ge(e%60,"0",2)}function cP(t,e){return Ge(t.getUTCDate(),e,2)}function dle(t,e){return Ge(t.getUTCHours(),e,2)}function fle(t,e){return Ge(t.getUTCHours()%12||12,e,2)}function hle(t,e){return Ge(1+Nv.count(Os(t),t),e,3)}function jL(t,e){return Ge(t.getUTCMilliseconds(),e,3)}function gle(t,e){return jL(t,e)+"000"}function mle(t,e){return Ge(t.getUTCMonth()+1,e,2)}function ple(t,e){return Ge(t.getUTCMinutes(),e,2)}function vle(t,e){return Ge(t.getUTCSeconds(),e,2)}function yle(t){var e=t.getUTCDay();return e===0?7:e}function wle(t,e){return Ge(kv.count(Os(t)-1,t),e,2)}function RL(t){var e=t.getUTCDay();return e>=4||e===0?Eu(t):Eu.ceil(t)}function xle(t,e){return t=RL(t),Ge(Eu.count(Os(t),t)+(Os(t).getUTCDay()===4),e,2)}function ble(t){return t.getUTCDay()}function Ble(t,e){return Ge(Lp.count(Os(t)-1,t),e,2)}function Cle(t,e){return Ge(t.getUTCFullYear()%100,e,2)}function Ele(t,e){return t=RL(t),Ge(t.getUTCFullYear()%100,e,2)}function _le(t,e){return Ge(t.getUTCFullYear()%1e4,e,4)}function Ile(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Eu(t):Eu.ceil(t),Ge(t.getUTCFullYear()%1e4,e,4)}function Sle(){return"+0000"}function dP(){return"%"}function fP(t){return+t}function hP(t){return Math.floor(+t/1e3)}var cl,ML,LL;Tle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tle(t){return cl=TAe(t),ML=cl.format,cl.parse,LL=cl.utcFormat,cl.utcParse,cl}function Fle(t){return new Date(t)}function Ule(t){return t instanceof Date?+t:+new Date(+t)}function k1(t,e,r,n,i,s,a,o,A,l){var u=x1(),d=u.invert,f=u.domain,g=l(".%L"),m=l(":%S"),p=l("%I:%M"),v=l("%I %p"),y=l("%a %d"),w=l("%b %d"),B=l("%B"),I=l("%Y");function T(F){return(A(F)<F?g:o(F)<F?m:a(F)<F?p:s(F)<F?v:n(F)<F?i(F)<F?y:w:r(F)<F?B:I)(F)}return u.invert=function(F){return new Date(d(F))},u.domain=function(F){return arguments.length?f(Array.from(F,Ule)):f().map(Fle)},u.ticks=function(F){var C=f();return t(C[0],C[C.length-1],F??10)},u.tickFormat=function(F,C){return C==null?T:l(C)},u.nice=function(F){var C=f();return(!F||typeof F.range!="function")&&(F=e(C[0],C[C.length-1],F??10)),F?f(IL(C,F)):u},u.copy=function(){return $f(u,k1(t,e,r,n,i,s,a,o,A,l))},u}function Ple(){return si.apply(k1(IAe,SAe,ks,N1,Qv,Gf,U1,T1,Xo,ML).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Nle(){return si.apply(k1(EAe,_Ae,Os,Q1,kv,Nv,P1,F1,Xo,LL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ov(){var t=0,e=1,r,n,i,s,a=Hr,o=!1,A;function l(d){return d==null||isNaN(d=+d)?A:a(i===0?.5:(d=(s(d)-r)*i,o?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([t,e]=d,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),l):[t,e]},l.clamp=function(d){return arguments.length?(o=!!d,l):o},l.interpolator=function(d){return arguments.length?(a=d,l):a};function u(d){return function(f){var g,m;return arguments.length?([g,m]=f,a=d(g,m),l):[a(0),a(1)]}}return l.range=u(Lu),l.rangeRound=u(w1),l.unknown=function(d){return arguments.length?(A=d,l):A},function(d){return s=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),l}}function po(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function HL(){var t=mo(Ov()(Hr));return t.copy=function(){return po(t,HL())},Ks.apply(t,arguments)}function VL(){var t=C1(Ov()).domain([1,10]);return t.copy=function(){return po(t,VL()).base(t.base())},Ks.apply(t,arguments)}function KL(){var t=E1(Ov());return t.copy=function(){return po(t,KL()).constant(t.constant())},Ks.apply(t,arguments)}function O1(){var t=_1(Ov());return t.copy=function(){return po(t,O1()).exponent(t.exponent())},Ks.apply(t,arguments)}function Qle(){return O1.apply(null,arguments).exponent(.5)}function $L(){var t=[],e=Hr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Vf(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ha),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>yoe(t,s/n))},r.copy=function(){return $L(e).domain(t)},Ks.apply(r,arguments)}function Dv(){var t=0,e=.5,r=1,n=1,i,s,a,o,A,l=Hr,u,d=!1,f;function g(p){return isNaN(p=+p)?f:(p=.5+((p=+u(p))-s)*(n*p<n*s?o:A),l(d?Math.max(0,Math.min(1,p)):p))}g.domain=function(p){return arguments.length?([t,e,r]=p,i=u(t=+t),s=u(e=+e),a=u(r=+r),o=i===s?0:.5/(s-i),A=s===a?0:.5/(a-s),n=s<i?-1:1,g):[t,e,r]},g.clamp=function(p){return arguments.length?(d=!!p,g):d},g.interpolator=function(p){return arguments.length?(l=p,g):l};function m(p){return function(v){var y,w,B;return arguments.length?([y,w,B]=v,l=Goe(p,[y,w,B]),g):[l(0),l(.5),l(1)]}}return g.range=m(Lu),g.rangeRound=m(w1),g.unknown=function(p){return arguments.length?(f=p,g):f},function(p){return u=p,i=p(t),s=p(e),a=p(r),o=i===s?0:.5/(s-i),A=s===a?0:.5/(a-s),n=s<i?-1:1,g}}function GL(){var t=mo(Dv()(Hr));return t.copy=function(){return po(t,GL())},Ks.apply(t,arguments)}function zL(){var t=C1(Dv()).domain([.1,1,10]);return t.copy=function(){return po(t,zL()).base(t.base())},Ks.apply(t,arguments)}function WL(){var t=E1(Dv());return t.copy=function(){return po(t,WL()).constant(t.constant())},Ks.apply(t,arguments)}function D1(){var t=_1(Dv());return t.copy=function(){return po(t,D1()).exponent(t.exponent())},Ks.apply(t,arguments)}function kle(){return D1.apply(null,arguments).exponent(.5)}const Zc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:p1,scaleDiverging:GL,scaleDivergingLog:zL,scaleDivergingPow:D1,scaleDivergingSqrt:kle,scaleDivergingSymlog:WL,scaleIdentity:_L,scaleImplicit:uB,scaleLinear:EL,scaleLog:SL,scaleOrdinal:m1,scalePoint:boe,scalePow:I1,scaleQuantile:UL,scaleQuantize:PL,scaleRadial:FL,scaleSequential:HL,scaleSequentialLog:VL,scaleSequentialPow:O1,scaleSequentialQuantile:$L,scaleSequentialSqrt:Qle,scaleSequentialSymlog:KL,scaleSqrt:gAe,scaleSymlog:TL,scaleThreshold:NL,scaleTime:Ple,scaleUtc:Nle,tickFormat:CL},Symbol.toStringTag,{value:"Module"}));var vo=t=>t.chartData,j1=$([vo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),jv=(t,e,r,n)=>n?j1(t):vo(t);function _u(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(Fn(e)&&Fn(r))return!0}return!1}function gP(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Ole(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,s;if(Fn(r))i=r;else if(typeof r=="function")return;if(Fn(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(_u(a))return a}}function Dle(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(_u(n))return gP(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(de(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&cU.test(i)){var A=cU.exec(i);if(A==null||e==null)a=void 0;else{var l=+A[1];a=e[0]-l}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(de(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&dU.test(s)){var u=dU.exec(s);if(u==null||e==null)o=void 0;else{var d=+u[1];o=e[1]+d}}else o=e==null?void 0:e[1];var f=[a,o];if(_u(f))return e==null?f:gP(f,e,r)}}}var Hu=1e9,jle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},M1,wt=!0,ni="[DecimalError] ",oA=ni+"Invalid argument: ",R1=ni+"Exponent out of range: ",Vu=Math.floor,Oo=Math.pow,Rle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yn,Ar=1e7,dt=7,YL=9007199254740991,Hp=Vu(YL/dt),ge={};ge.absoluteValue=ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ge.comparedTo=ge.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*dt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ge.dividedBy=ge.div=function(t){return Cs(this,new this.constructor(t))};ge.dividedToIntegerBy=ge.idiv=function(t){var e=this,r=e.constructor;return it(Cs(e,new r(t),0,1),r.precision)};ge.equals=ge.eq=function(t){return!this.cmp(t)};ge.exponent=function(){return Gt(this)};ge.greaterThan=ge.gt=function(t){return this.cmp(t)>0};ge.greaterThanOrEqualTo=ge.gte=function(t){return this.cmp(t)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(t){return this.cmp(t)<0};ge.lessThanOrEqualTo=ge.lte=function(t){return this.cmp(t)<1};ge.logarithm=ge.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(yn))throw Error(ni+"NaN");if(r.s<1)throw Error(ni+(r.s?"NaN":"-Infinity"));return r.eq(yn)?new n(0):(wt=!1,e=Cs(pf(r,s),pf(t,s),s),wt=!0,it(e,i))};ge.minus=ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JL(e,t):XL(e,(t.s=-t.s,t))};ge.modulo=ge.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ni+"NaN");return r.s?(wt=!1,e=Cs(r,t,0,1).times(t),wt=!0,r.minus(e)):it(new n(r),i)};ge.naturalExponential=ge.exp=function(){return qL(this)};ge.naturalLogarithm=ge.ln=function(){return pf(this)};ge.negated=ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ge.plus=ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?XL(e,t):JL(e,(t.s=-t.s,t))};ge.precision=ge.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(oA+t);if(e=Gt(i)+1,n=i.d.length-1,r=n*dt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ge.squareRoot=ge.sqrt=function(){var t,e,r,n,i,s,a,o=this,A=o.constructor;if(o.s<1){if(!o.s)return new A(0);throw Error(ni+"NaN")}for(t=Gt(o),wt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Qi(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Vu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new A(e)):n=new A(i.toString()),r=A.precision,i=a=r+3;;)if(s=n,n=s.plus(Cs(o,s,a+2)).times(.5),Qi(s.d).slice(0,a)===(e=Qi(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(it(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return wt=!0,it(n,r)};ge.times=ge.mul=function(t){var e,r,n,i,s,a,o,A,l,u=this,d=u.constructor,f=u.d,g=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,r=u.e+t.e,A=f.length,l=g.length,A<l&&(s=f,f=g,g=s,a=A,A=l,l=a),s=[],a=A+l,n=a;n--;)s.push(0);for(n=l;--n>=0;){for(e=0,i=A+n;i>n;)o=s[i]+g[n]*f[i-n-1]+e,s[i--]=o%Ar|0,e=o/Ar|0;s[i]=(s[i]+e)%Ar|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,wt?it(t,d.precision):t};ge.toDecimalPlaces=ge.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Vi(t,0,Hu),e===void 0?e=n.rounding:Vi(e,0,8),it(r,t+Gt(r)+1,e))};ge.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=_A(n,!0):(Vi(t,0,Hu),e===void 0?e=i.rounding:Vi(e,0,8),n=it(new i(n),t+1,e),r=_A(n,!0,t+1)),r};ge.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?_A(i):(Vi(t,0,Hu),e===void 0?e=s.rounding:Vi(e,0,8),n=it(new s(i),t+Gt(i)+1,e),r=_A(n.abs(),!1,t+Gt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ge.toInteger=ge.toint=function(){var t=this,e=t.constructor;return it(new e(t),Gt(t)+1,e.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(t){var e,r,n,i,s,a,o=this,A=o.constructor,l=12,u=+(t=new A(t));if(!t.s)return new A(yn);if(o=new A(o),!o.s){if(t.s<1)throw Error(ni+"Infinity");return o}if(o.eq(yn))return o;if(n=A.precision,t.eq(yn))return it(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=u<0?-u:u)<=YL){for(i=new A(yn),e=Math.ceil(n/dt+4),wt=!1;r%2&&(i=i.times(o),pP(i.d,e)),r=Vu(r/2),r!==0;)o=o.times(o),pP(o.d,e);return wt=!0,t.s<0?new A(yn).div(i):it(i,n)}}else if(s<0)throw Error(ni+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,wt=!1,i=t.times(pf(o,n+l)),wt=!0,i=qL(i),i.s=s,i};ge.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=Gt(i),n=_A(i,r<=s.toExpNeg||r>=s.toExpPos)):(Vi(t,1,Hu),e===void 0?e=s.rounding:Vi(e,0,8),i=it(new s(i),t,e),r=Gt(i),n=_A(i,t<=r||r<=s.toExpNeg,t)),n};ge.toSignificantDigits=ge.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Vi(t,1,Hu),e===void 0?e=n.rounding:Vi(e,0,8)),it(new n(r),t,e)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Gt(t),r=t.constructor;return _A(t,e<=r.toExpNeg||e>=r.toExpPos)};function XL(t,e){var r,n,i,s,a,o,A,l,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),wt?it(e,d):e;if(A=t.d,l=e.d,a=t.e,i=e.e,A=A.slice(),s=a-i,s){for(s<0?(n=A,s=-s,o=l.length):(n=l,i=a,o=A.length),a=Math.ceil(d/dt),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=A.length,s=l.length,o-s<0&&(s=o,n=l,l=A,A=n),r=0;s;)r=(A[--s]=A[s]+l[s]+r)/Ar|0,A[s]%=Ar;for(r&&(A.unshift(r),++i),o=A.length;A[--o]==0;)A.pop();return e.d=A,e.e=i,wt?it(e,d):e}function Vi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(oA+t)}function Qi(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=dt-n.length,r&&(s+=ua(r)),s+=n;a=t[e],n=a+"",r=dt-n.length,r&&(s+=ua(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Cs=function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%Ar|0,a=s/Ar|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,A;if(s!=a)A=s>a?1:-1;else for(o=A=0;o<s;o++)if(n[o]!=i[o]){A=n[o]>i[o]?1:-1;break}return A}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*Ar+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,A,l,u,d,f,g,m,p,v,y,w,B,I,T,F,C,_,S=n.constructor,P=n.s==i.s?1:-1,Q=n.d,k=i.d;if(!n.s)return new S(n);if(!i.s)throw Error(ni+"Division by zero");for(A=n.e-i.e,C=k.length,T=Q.length,g=new S(P),m=g.d=[],l=0;k[l]==(Q[l]||0);)++l;if(k[l]>(Q[l]||0)&&--A,s==null?w=s=S.precision:a?w=s+(Gt(n)-Gt(i))+1:w=s,w<0)return new S(0);if(w=w/dt+2|0,l=0,C==1)for(u=0,k=k[0],w++;(l<T||u)&&w--;l++)B=u*Ar+(Q[l]||0),m[l]=B/k|0,u=B%k|0;else{for(u=Ar/(k[0]+1)|0,u>1&&(k=t(k,u),Q=t(Q,u),C=k.length,T=Q.length),I=C,p=Q.slice(0,C),v=p.length;v<C;)p[v++]=0;_=k.slice(),_.unshift(0),F=k[0],k[1]>=Ar/2&&++F;do u=0,o=e(k,p,C,v),o<0?(y=p[0],C!=v&&(y=y*Ar+(p[1]||0)),u=y/F|0,u>1?(u>=Ar&&(u=Ar-1),d=t(k,u),f=d.length,v=p.length,o=e(d,p,f,v),o==1&&(u--,r(d,C<f?_:k,f))):(u==0&&(o=u=1),d=k.slice()),f=d.length,f<v&&d.unshift(0),r(p,d,v),o==-1&&(v=p.length,o=e(k,p,C,v),o<1&&(u++,r(p,C<v?_:k,v))),v=p.length):o===0&&(u++,p=[0]),m[l++]=u,o&&p[0]?p[v++]=Q[I]||0:(p=[Q[I]],v=1);while((I++<T||p[0]!==void 0)&&w--)}return m[0]||m.shift(),g.e=A,it(g,a?s+Gt(g)+1:s)}}();function qL(t,e){var r,n,i,s,a,o,A=0,l=0,u=t.constructor,d=u.precision;if(Gt(t)>16)throw Error(R1+Gt(t));if(!t.s)return new u(yn);for(e==null?(wt=!1,o=d):o=e,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),l+=5;for(n=Math.log(Oo(2,l))/Math.LN10*2+5|0,o+=n,r=i=s=new u(yn),u.precision=o;;){if(i=it(i.times(t),o),r=r.times(++A),a=s.plus(Cs(i,r,o)),Qi(a.d).slice(0,o)===Qi(s.d).slice(0,o)){for(;l--;)s=it(s.times(s),o);return u.precision=d,e==null?(wt=!0,it(s,d)):s}s=a}}function Gt(t){for(var e=t.e*dt,r=t.d[0];r>=10;r/=10)e++;return e}function Pw(t,e,r){if(e>t.LN10.sd())throw wt=!0,r&&(t.precision=r),Error(ni+"LN10 precision limit exceeded");return it(new t(t.LN10),e)}function ua(t){for(var e="";t--;)e+="0";return e}function pf(t,e){var r,n,i,s,a,o,A,l,u,d=1,f=10,g=t,m=g.d,p=g.constructor,v=p.precision;if(g.s<1)throw Error(ni+(g.s?"NaN":"-Infinity"));if(g.eq(yn))return new p(0);if(e==null?(wt=!1,l=v):l=e,g.eq(10))return e==null&&(wt=!0),Pw(p,l);if(l+=f,p.precision=l,r=Qi(m),n=r.charAt(0),s=Gt(g),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=Qi(g.d),n=r.charAt(0),d++;s=Gt(g),n>1?(g=new p("0."+r),s++):g=new p(n+"."+r.slice(1))}else return A=Pw(p,l+2,v).times(s+""),g=pf(new p(n+"."+r.slice(1)),l-f).plus(A),p.precision=v,e==null?(wt=!0,it(g,v)):g;for(o=a=g=Cs(g.minus(yn),g.plus(yn),l),u=it(g.times(g),l),i=3;;){if(a=it(a.times(u),l),A=o.plus(Cs(a,new p(i),l)),Qi(A.d).slice(0,l)===Qi(o.d).slice(0,l))return o=o.times(2),s!==0&&(o=o.plus(Pw(p,l+2,v).times(s+""))),o=Cs(o,new p(d),l),p.precision=v,e==null?(wt=!0,it(o,v)):o;o=A,i+=2}}function mP(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Vu(r/dt),t.d=[],n=(r+1)%dt,r<0&&(n+=dt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=dt;n<i;)t.d.push(+e.slice(n,n+=dt));e=e.slice(n),n=dt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),wt&&(t.e>Hp||t.e<-Hp))throw Error(R1+r)}else t.s=0,t.e=0,t.d=[0];return t}function it(t,e,r){var n,i,s,a,o,A,l,u,d=t.d;for(a=1,s=d[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=dt,i=e,l=d[u=0];else{if(u=Math.ceil((n+1)/dt),s=d.length,u>=s)return t;for(l=s=d[u],a=1;s>=10;s/=10)a++;n%=dt,i=n-dt+a}if(r!==void 0&&(s=Oo(10,a-i-1),o=l/s%10|0,A=e<0||d[u+1]!==void 0||l%s,A=r<4?(o||A)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||A||r==6&&(n>0?i>0?l/Oo(10,a-i):0:d[u-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return A?(s=Gt(t),d.length=1,e=e-s-1,d[0]=Oo(10,(dt-e%dt)%dt),t.e=Vu(-e/dt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=u,s=1,u--):(d.length=u+1,s=Oo(10,dt-n),d[u]=i>0?(l/Oo(10,a-i)%Oo(10,i)|0)*s:0),A)for(;;)if(u==0){(d[0]+=s)==Ar&&(d[0]=1,++t.e);break}else{if(d[u]+=s,d[u]!=Ar)break;d[u--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(wt&&(t.e>Hp||t.e<-Hp))throw Error(R1+Gt(t));return t}function JL(t,e){var r,n,i,s,a,o,A,l,u,d,f=t.constructor,g=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),wt?it(e,g):e;if(A=t.d,d=e.d,n=e.e,l=t.e,A=A.slice(),a=l-n,a){for(u=a<0,u?(r=A,a=-a,o=d.length):(r=d,n=l,o=A.length),i=Math.max(Math.ceil(g/dt),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=A.length,o=d.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(A[i]!=d[i]){u=A[i]<d[i];break}a=0}for(u&&(r=A,A=d,d=r,e.s=-e.s),o=A.length,i=d.length-o;i>0;--i)A[o++]=0;for(i=d.length;i>a;){if(A[--i]<d[i]){for(s=i;s&&A[--s]===0;)A[s]=Ar-1;--A[s],A[i]+=Ar}A[i]-=d[i]}for(;A[--o]===0;)A.pop();for(;A[0]===0;A.shift())--n;return A[0]?(e.d=A,e.e=n,wt?it(e,g):e):new f(0)}function _A(t,e,r){var n,i=Gt(t),s=Qi(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+ua(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ua(-i-1)+s,r&&(n=r-a)>0&&(s+=ua(n))):i>=a?(s+=ua(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+ua(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=ua(n))),t.s<0?"-"+s:s}function pP(t,e){if(t.length>e)return t.length=e,!0}function ZL(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(oA+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return mP(a,s.toString())}else if(typeof s!="string")throw Error(oA+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,Rle.test(s))mP(a,s);else throw Error(oA+s)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ZL,i.config=i.set=Mle,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Mle(t){if(!t||typeof t!="object")throw Error(ni+"Object expected");var e,r,n,i=["precision",1,Hu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Vu(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(oA+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(oA+r+": "+n);return this}var M1=ZL(jle);yn=new M1(1);const Xe=M1;var Lle=t=>t,e5={"@@functional/placeholder":!0},t5=t=>t===e5,vP=t=>function e(){return arguments.length===0||arguments.length===1&&t5(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},r5=(t,e)=>t===1?e:vP(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==e5).length;return s>=t?e(...n):r5(t-s,vP(function(){for(var a=arguments.length,o=new Array(a),A=0;A<a;A++)o[A]=arguments[A];var l=n.map(u=>t5(u)?o.shift():u);return e(...l,...o)}))}),Rv=t=>r5(t.length,t),hB=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},Hle=Rv((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),Vle=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Lle;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,A)=>A(o),s(...arguments))}},gB=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),n5=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e&&i.every((a,o)=>{var A;return a===((A=e)===null||A===void 0?void 0:A[o])})||(e=i,r=t(...i)),r}};function i5(t){var e;return t===0?e=1:e=Math.floor(new Xe(t).abs().log(10).toNumber())+1,e}function s5(t,e,r){for(var n=new Xe(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}Rv((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});Rv((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});Rv((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var a5=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},o5=(t,e,r)=>{if(t.lte(0))return new Xe(0);var n=i5(t.toNumber()),i=new Xe(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new Xe(Math.ceil(s.div(a).toNumber())).add(r).mul(a),A=o.mul(i);return e?new Xe(A.toNumber()):new Xe(Math.ceil(A.toNumber()))},Kle=(t,e,r)=>{var n=new Xe(1),i=new Xe(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Xe(10).pow(i5(t)-1),i=new Xe(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Xe(Math.floor(t)))}else t===0?i=new Xe(Math.floor((e-1)/2)):r||(i=new Xe(Math.floor(t)));var a=Math.floor((e-1)/2),o=Vle(Hle(A=>i.add(new Xe(A-a).mul(n)).toNumber()),hB);return o(0,e)},A5=function(e,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var a=o5(new Xe(r).sub(e).div(n-1),i,s),o;e<=0&&r>=0?o=new Xe(0):(o=new Xe(e).add(r).div(2),o=o.sub(new Xe(o).mod(a)));var A=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new Xe(r).sub(o).div(a).toNumber()),u=A+l+1;return u>n?A5(e,r,n,i,s+1):(u<n&&(l=r>0?l+(n-u):l,A=r>0?A:A+(n-u)),{step:a,tickMin:o.sub(new Xe(A).mul(a)),tickMax:o.add(new Xe(l).mul(a))})};function $le(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,o]=a5([e,r]);if(a===-1/0||o===1/0){var A=o===1/0?[a,...hB(0,n-1).map(()=>1/0)]:[...hB(0,n-1).map(()=>-1/0),o];return e>r?gB(A):A}if(a===o)return Kle(a,n,i);var{step:l,tickMin:u,tickMax:d}=A5(a,o,s,i,0),f=s5(u,d.add(new Xe(.1).mul(l)),l);return e>r?gB(f):f}function Gle(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=a5([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var o=Math.max(e,2),A=o5(new Xe(a).sub(s).div(o-1),i,0),l=[...s5(new Xe(s),new Xe(a),A),a];return i===!1&&(l=l.map(u=>Math.round(u))),r>n?gB(l):l}var zle=n5($le),Wle=n5(Gle),l5=t=>t.rootProps.maxBarSize,Yle=t=>t.rootProps.barGap,u5=t=>t.rootProps.barCategoryGap,Xle=t=>t.rootProps.barSize,zf=t=>t.rootProps.stackOffset,L1=t=>t.options.chartName,H1=t=>t.rootProps.syncId,c5=t=>t.rootProps.syncMethod,V1=t=>t.options.eventEmitter,As={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},pn={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Mv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},qle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:As.angleAxisId,includeHidden:!1,name:void 0,reversed:As.reversed,scale:As.scale,tick:As.tick,tickCount:void 0,ticks:void 0,type:As.type,unit:void 0},Jle={allowDataOverflow:pn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pn.scale,tick:pn.tick,tickCount:pn.tickCount,ticks:void 0,type:pn.type,unit:void 0},Zle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:As.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:As.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:As.scale,tick:As.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},eue={allowDataOverflow:pn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pn.scale,tick:pn.tick,tickCount:pn.tickCount,ticks:void 0,type:"category",unit:void 0},K1=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Zle:qle,$1=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?eue:Jle,Lv=t=>t.polarOptions,G1=$([Hs,Vs,er],jM),d5=$([Lv,G1],(t,e)=>{if(t!=null)return zr(t.innerRadius,e,0)}),f5=$([Lv,G1],(t,e)=>{if(t!=null)return zr(t.outerRadius,e,e*.8)}),tue=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},h5=$([Lv],tue),Bve=$([K1,h5],Mv),g5=$([G1,d5,f5],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]}),Cve=$([$1,g5],Mv),m5=$([Le,Lv,d5,f5,Hs,Vs],(t,e,r,n,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:a,cy:o,startAngle:A,endAngle:l}=e;return{cx:zr(a,i,i/2),cy:zr(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:A,endAngle:l,clockWise:!1}}}),Bt=(t,e)=>e,Wf=(t,e,r)=>r;function z1(t){return t==null?void 0:t.id}var rr=t=>{var e=Le(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Ku=t=>t.tooltip.settings.axisId,nr=t=>{var e=rr(t),r=Ku(t);return Yf(t,e,r)};function p5(t,e,r){var{chartData:n=[]}=e,i=r==null?void 0:r.dataKey,s=new Map;return t.forEach(a=>{var o,A=(o=a.data)!==null&&o!==void 0?o:n;if(!(A==null||A.length===0)){var l=z1(a);A.forEach((u,d)=>{var f=i==null?d:String(nt(u,i,null)),g=nt(u,a.dataKey,0),m;s.has(f)?m=s.get(f):m={},Object.assign(m,{[l]:g}),s.set(f,m)})}}),Array.from(s.values())}function Hv(t){return t.stackId!=null&&t.dataKey!=null}function yP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(r),!0).forEach(function(n){rue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rue(t,e,r){return(e=nue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nue(t){var e=iue(t,"string");return typeof e=="symbol"?e:e+""}function iue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mB=[0,"auto"],fn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},$s=(t,e)=>{var r=t.cartesianAxis.xAxis[e];return r??fn},hn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:mB,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Sv},yo=(t,e)=>{var r=t.cartesianAxis.yAxis[e];return r??hn},sue={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},W1=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??sue},Lt=(t,e,r)=>{switch(e){case"xAxis":return $s(t,r);case"yAxis":return yo(t,r);case"zAxis":return W1(t,r);case"angleAxis":return K1(t,r);case"radiusAxis":return $1(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},aue=(t,e,r)=>{switch(e){case"xAxis":return $s(t,r);case"yAxis":return yo(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Yf=(t,e,r)=>{switch(e){case"xAxis":return $s(t,r);case"yAxis":return yo(t,r);case"angleAxis":return K1(t,r);case"radiusAxis":return $1(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},v5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Y1(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var Vv=t=>t.graphicalItems.cartesianItems,oue=$([Bt,Wf],Y1),X1=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),Xf=$([Vv,Lt,oue],X1),y5=$([Xf],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Hv)),w5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),x5=$([Xf],w5),q1=t=>t.map(e=>e.data).filter(Boolean).flat(1),Aue=$([Xf],q1),J1=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},Z1=$([Aue,jv],J1),e_=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:nt(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:nt(i,n)}))):t.map(n=>({value:n})),Kv=$([Z1,Lt,Xf],e_);function b5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function MA(t){return t.filter(e=>Hi(e)||e instanceof Date).map(Number).filter(e=>In(e)===!1)}function lue(t,e,r){return!r||typeof e!="number"||In(e)?[]:r.length?MA(r.flatMap(n=>{var i=nt(t,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Fn(s)||!Fn(a)))return[e-s,e+a]})):[]}var uue=$([y5,jv,nr],p5),B5=(t,e,r)=>{var n={},i=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,o]=s,A=o.map(z1);return[a,{stackedData:xse(t,A,r),graphicalItems:o}]}))},pB=$([uue,y5,zf],B5),C5=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var s=_se(t,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},cue=$([pB,vo,Bt],C5),E5=(t,e,r,n,i)=>r.length>0?t.flatMap(s=>r.flatMap(a=>{var o,A,l=(o=n[a.id])===null||o===void 0?void 0:o.filter(d=>b5(i,d)),u=nt(s,(A=e.dataKey)!==null&&A!==void 0?A:a.dataKey);return{value:u,errorDomain:lue(s,u,l)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(s=>({value:nt(s,e.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]})),$v=t=>t.errorBars,_5=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>b5(r,n));$([x5,$v,Bt],_5);var due=$([Z1,Lt,x5,$v,Bt],E5);function fue(t){var{value:e}=t;if(Hi(e)||e instanceof Date)return e}var wP=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=MA(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},hue=(t,e,r)=>{var n=t.map(fue).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&pR(n))?hL(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},t_=t=>{var e;if(t==null||!("domain"in t))return mB;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=MA(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:mB},Kp=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},I5=t=>t.referenceElements.dots,$u=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),gue=$([I5,Bt,Wf],$u),S5=t=>t.referenceElements.areas,mue=$([S5,Bt,Wf],$u),T5=t=>t.referenceElements.lines,pue=$([T5,Bt,Wf],$u),F5=(t,e)=>{var r=MA(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},vue=$(gue,Bt,F5),U5=(t,e)=>{var r=MA(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},yue=$([mue,Bt],U5),P5=(t,e)=>{var r=MA(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},wue=$(pue,Bt,P5),xue=$(vue,wue,yue,(t,e,r)=>Kp(t,r,e)),N5=$([Lt],t_),r_=(t,e,r,n,i,s,a)=>{var o=Ole(e,t.allowDataOverflow);if(o!=null)return o;var A=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",l=A?Kp(r,i,wP(n)):Kp(i,wP(n));return Dle(e,l,t.allowDataOverflow)},bue=$([Lt,N5,cue,due,xue,Le,Bt],r_),Bue=[0,1],n_=(t,e,r,n,i,s,a)=>{if(!((t==null||r==null||r.length===0)&&a===void 0)){var{dataKey:o,type:A}=t,l=go(e,s);return l&&o==null?hL(0,r.length):A==="category"?hue(n,t,l):i==="expand"?Bue:a}},i_=$([Lt,Le,Z1,Kv,zf,Bt,bue],n_),Q5=(t,e,r,n,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Rf(s));return o in Zc?o:"point"}}},Gu=$([Lt,Le,v5,L1,Bt],Q5);function Cue(t){if(t!=null){if(t in Zc)return Zc[t]();var e="scale".concat(Rf(t));if(e in Zc)return Zc[e]()}}function s_(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=Cue(e);if(i!=null){var s=i.domain(r).range(n);return mse(s),s}}}var a_=(t,e,r)=>{var n=t_(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&_u(t))return zle(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&_u(t))return Wle(t,e.tickCount,e.allowDecimals)}},o_=$([i_,Yf,Gu],a_),A_=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&_u(e)&&Array.isArray(r)&&r.length>0){var i=e[0],s=r[0],a=e[1],o=r[r.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},Eue=$([Lt,i_,o_,Bt],A_),_ue=$(Kv,Lt,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(MA(t.map(o=>o.value))).sort((o,A)=>o-A);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),k5=$(_ue,Le,u5,er,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!Fn(t))return 0;var s=e==="vertical"?n.height:n.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=zr(r,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),Iue=(t,e)=>{var r=$s(t,e);return r==null||typeof r.padding!="string"?0:k5(t,"xAxis",e,r.padding)},Sue=(t,e)=>{var r=yo(t,e);return r==null||typeof r.padding!="string"?0:k5(t,"yAxis",e,r.padding)},Tue=$($s,Iue,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),Fue=$(yo,Sue,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),Uue=$([er,Tue,Fv,Tv,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),Pue=$([er,Le,Fue,Fv,Tv,(t,e,r)=>r],(t,e,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),qf=(t,e,r,n)=>{var i;switch(e){case"xAxis":return Uue(t,r,n);case"yAxis":return Pue(t,r,n);case"zAxis":return(i=W1(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return h5(t);case"radiusAxis":return g5(t,r);default:return}},O5=$([Lt,qf],Mv),zu=$([Lt,Gu,Eue,O5],s_);$([Xf,$v,Bt],_5);function D5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Gv=(t,e)=>e,zv=(t,e,r)=>r,Nue=$(o1,Gv,zv,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(D5)),Que=$(A1,Gv,zv,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(D5)),j5=(t,e)=>({width:t.width,height:e.height}),kue=(t,e)=>{var r=typeof e.width=="number"?e.width:Sv;return{width:r,height:t.height}},R5=$(er,$s,j5),Oue=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},Due=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},jue=$(Vs,er,Nue,Gv,zv,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var A=j5(e,o);a==null&&(a=Oue(e,n,t));var l=n==="top"&&!i||n==="bottom"&&i;s[o.id]=a-Number(l)*A.height,a+=(l?-1:1)*A.height}),s}),Rue=$(Hs,er,Que,Gv,zv,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var A=kue(e,o);a==null&&(a=Due(e,n,t));var l=n==="left"&&!i||n==="right"&&i;s[o.id]=a-Number(l)*A.width,a+=(l?-1:1)*A.width}),s}),Mue=(t,e)=>{var r=er(t),n=$s(t,e);if(n!=null){var i=jue(t,n.orientation,n.mirror),s=i[e];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},Lue=(t,e)=>{var r=er(t),n=yo(t,e);if(n!=null){var i=Rue(t,n.orientation,n.mirror),s=i[e];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},M5=$(er,yo,(t,e)=>{var r=typeof e.width=="number"?e.width:Sv;return{width:r,height:t.height}}),xP=(t,e,r)=>{switch(e){case"xAxis":return R5(t,r).width;case"yAxis":return M5(t,r).height;default:return}},L5=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,o=go(t,n),A=e.map(l=>l.value);if(a&&o&&s==="category"&&i&&pR(A))return A}},l_=$([Le,Kv,Lt,Bt],L5),H5=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=go(t,n);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},u_=$([Le,Kv,Yf,Bt],H5),bP=$([Le,aue,Gu,zu,l_,u_,qf,o_,Bt],(t,e,r,n,i,s,a,o,A)=>{if(e==null)return null;var l=go(t,A);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:A,categoricalDomain:s,duplicateDomain:i,isCategorical:l,niceTicks:o,range:a,realScaleType:r,scale:n}}),Hue=(t,e,r,n,i,s,a,o,A)=>{if(!(e==null||n==null)){var l=go(t,A),{type:u,ticks:d,tickCount:f}=e,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/g:0;m=A==="angleAxis"&&s!=null&&s.length>=2?ur(s[0]-s[1])*2*m:m;var p=d||i;if(p){var v=p.map((y,w)=>{var B=a?a.indexOf(y):y;return{index:w,coordinate:n(B)+m,value:y,offset:m}});return v.filter(y=>!In(y.coordinate))}return l&&o?o.map((y,w)=>({coordinate:n(y)+m,value:y,index:w,offset:m})):n.ticks?n.ticks(f).map(y=>({coordinate:n(y)+m,value:y,offset:m})):n.domain().map((y,w)=>({coordinate:n(y)+m,value:a?a[y]:y,index:w,offset:m}))}},V5=$([Le,Yf,Gu,zu,o_,qf,l_,u_,Bt],Hue),Vue=(t,e,r,n,i,s,a)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=go(t,a),{tickCount:A}=e,l=0;return l=a==="angleAxis"&&(n==null?void 0:n.length)>=2?ur(n[0]-n[1])*2*l:l,o&&s?s.map((u,d)=>({coordinate:r(u)+l,value:u,index:d,offset:l})):r.ticks?r.ticks(A).map(u=>({coordinate:r(u)+l,value:u,offset:l})):r.domain().map((u,d)=>({coordinate:r(u)+l,value:i?i[u]:u,index:d,offset:l}))}},no=$([Le,Yf,zu,qf,l_,u_,Bt],Vue),io=$(Lt,zu,(t,e)=>{if(!(t==null||e==null))return Vp(Vp({},t),{},{scale:e})}),Kue=$([Lt,Gu,i_,O5],s_);$((t,e,r)=>W1(t,r),Kue,(t,e)=>{if(!(t==null||e==null))return Vp(Vp({},t),{},{scale:e})});var $ue=$([Le,o1,A1],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),K5=t=>t.options.defaultTooltipEventType,$5=t=>t.options.validateTooltipEventTypes;function G5(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function c_(t,e){var r=K5(t),n=$5(t);return G5(e,r,n)}function Gue(t){return ye(e=>c_(e,t))}var z5=(t,e)=>{var r,n=Number(e);if(!(In(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},zue=t=>t.tooltip.settings,ha={active:!1,index:null,dataKey:void 0,coordinate:void 0},Wue={itemInteraction:{click:ha,hover:ha},axisInteraction:{click:ha,hover:ha},keyboardInteraction:ha,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},W5=Nn({name:"tooltip",initialState:Wue,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=Bs(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Yue,removeTooltipEntrySettings:Xue,setTooltipSettingsState:que,setActiveMouseOverItemIndex:Y5,mouseLeaveItem:Jue,mouseLeaveChart:X5,setActiveClickItemIndex:Zue,setMouseOverAxisIndex:q5,setMouseClickAxisIndex:ece,setSyncInteraction:vB,setKeyboardInteraction:yB}=W5.actions,tce=W5.reducer;function BP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(r),!0).forEach(function(n){rce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rce(t,e,r){return(e=nce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nce(t){var e=ice(t,"string");return typeof e=="symbol"?e:e+""}function ice(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sce(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function ace(t){return t.index!=null}var J5=(t,e,r,n)=>{if(e==null)return ha;var i=sce(t,e,r);if(i==null)return ha;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(ace(i)){if(s)return Sg(Sg({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Sg(Sg({},ha),{},{coordinate:i.coordinate})},d_=(t,e)=>{var r=t==null?void 0:t.index;if(r==null)return null;var n=Number(r);if(!Fn(n))return r;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(n,s)))},Z5=(t,e,r,n,i,s,a,o)=>{if(!(s==null||o==null)){var A=a[0],l=A==null?void 0:o(A.positions,s);if(l!=null)return l;var u=i==null?void 0:i[Number(s)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:u.coordinate}}}},e3=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Jf=t=>t.options.tooltipPayloadSearcher,Wu=t=>t.tooltip;function CP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(r),!0).forEach(function(n){oce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oce(t,e,r){return(e=Ace(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ace(t){var e=lce(t,"string");return typeof e=="symbol"?e:e+""}function lce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uce(t,e){return t??e}var t3=(t,e,r,n,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:A,dataStartIndex:l,dataEndIndex:u}=r,d=[];return t.reduce((f,g)=>{var m,{dataDefinedOnItem:p,settings:v}=g,y=uce(p,o),w=Array.isArray(y)?RM(y,l,u):y,B=(m=v==null?void 0:v.dataKey)!==null&&m!==void 0?m:n==null?void 0:n.dataKey,I=v==null?void 0:v.nameKey,T;if(n!=null&&n.dataKey&&Array.isArray(w)&&!Array.isArray(w[0])&&a==="axis"?T=vR(w,n.dataKey,i):T=s(w,e,A,I),Array.isArray(T))T.forEach(C=>{var _=EP(EP({},v),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});f.push(fU({tooltipEntrySettings:_,dataKey:C.dataKey,payload:C.payload,value:nt(C.payload,C.dataKey),name:C.name}))});else{var F;f.push(fU({tooltipEntrySettings:v,dataKey:B,payload:T,value:nt(T,B),name:(F=nt(T,I))!==null&&F!==void 0?F:v==null?void 0:v.name}))}return f},d)}},f_=$([nr,Le,v5,L1,rr],Q5),cce=$([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),dce=$([rr,Ku],Y1),Zf=$([cce,nr,dce],X1),fce=$([Zf],t=>t.filter(Hv)),hce=$([Zf],q1),Yu=$([hce,vo],J1),gce=$([fce,vo,nr],p5),h_=$([Yu,nr,Zf],e_),mce=$([nr],t_),pce=$([Zf],t=>t.filter(Hv)),vce=$([gce,pce,zf],B5),yce=$([vce,vo,rr],C5),wce=$([Zf],w5),xce=$([Yu,nr,wce,$v,rr],E5),bce=$([I5,rr,Ku],$u),Bce=$([bce,rr],F5),Cce=$([S5,rr,Ku],$u),Ece=$([Cce,rr],U5),_ce=$([T5,rr,Ku],$u),Ice=$([_ce,rr],P5),Sce=$([Bce,Ice,Ece],Kp),Tce=$([nr,mce,yce,xce,Sce,Le,rr],r_),r3=$([nr,Le,Yu,h_,zf,rr,Tce],n_),Fce=$([r3,nr,f_],a_),Uce=$([nr,r3,Fce,rr],A_),n3=t=>{var e=rr(t),r=Ku(t),n=!1;return qf(t,e,r,n)},i3=$([nr,n3],Mv),s3=$([nr,f_,Uce,i3],s_),Pce=$([Le,h_,nr,rr],L5),Nce=$([Le,h_,nr,rr],H5),Qce=(t,e,r,n,i,s,a,o)=>{if(e){var{type:A}=e,l=go(t,o);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=A==="category"&&n.bandwidth?n.bandwidth()/u:0;return d=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ur(i[0]-i[1])*2*d:d,l&&a?a.map((f,g)=>({coordinate:n(f)+d,value:f,index:g,offset:d})):n.domain().map((f,g)=>({coordinate:n(f)+d,value:s?s[f]:f,index:g,offset:d}))}}},Gs=$([Le,nr,f_,s3,n3,Pce,Nce,rr],Qce),g_=$([K5,$5,zue],(t,e,r)=>G5(r.shared,t,e)),a3=t=>t.tooltip.settings.trigger,m_=t=>t.tooltip.settings.defaultIndex,Wv=$([Wu,g_,a3,m_],J5),so=$([Wv,Yu],d_),o3=$([Gs,so],z5),A3=$([Wv],t=>{if(t)return t.dataKey}),l3=$([Wu,g_,a3,m_],e3),kce=$([Hs,Vs,Le,er,Gs,m_,l3,Jf],Z5),Oce=$([Wv,kce],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Dce=$([Wv],t=>t.active),jce=$([l3,so,vo,nr,o3,Jf,g_],t3),Rce=$([jce],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function _P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(r),!0).forEach(function(n){Mce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mce(t,e,r){return(e=Lce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lce(t){var e=Hce(t,"string");return typeof e=="symbol"?e:e+""}function Hce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vce=()=>ye(nr),Kce=()=>{var t=Vce(),e=ye(Gs),r=ye(s3);return cf(IP(IP({},t),{},{scale:r}),e)},$ce=()=>ye(L1),p_=(t,e)=>e,u3=(t,e,r)=>r,v_=(t,e,r,n)=>n,Gce=$(Gs,t=>xv(t,e=>e.coordinate)),y_=$([Wu,p_,u3,v_],J5),c3=$([y_,Yu],d_),zce=(t,e,r)=>{if(e!=null){var n=Wu(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},d3=$([Wu,p_,u3,v_],e3),$p=$([Hs,Vs,Le,er,Gs,v_,d3,Jf],Z5),Wce=$([y_,$p],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),f3=$(Gs,c3,z5),Yce=$([d3,c3,vo,nr,f3,Jf,p_],t3),Xce=$([y_],t=>({isActive:t.active,activeIndex:t.index})),qce=(t,e,r,n,i,s,a,o)=>{if(!(!t||!e||!n||!i||!s)){var A=Ise(t.chartX,t.chartY,e,r,o);if(A){var l=Tse(A,e),u=hse(l,a,s,n,i),d=Sse(e,s,u,A);return{activeIndex:String(u),activeCoordinate:d}}}};function wB(){return wB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wB.apply(null,arguments)}function SP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(r),!0).forEach(function(n){Jce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jce(t,e,r){return(e=Zce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zce(t){var e=ede(t,"string");return typeof e=="symbol"?e:e+""}function ede(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tde(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:o,tooltipEventType:A,chartName:l}=t,u=e,d=r,f=n;if(!o||!u||l!=="ScatterChart"&&A!=="axis")return null;var g,m;if(l==="ScatterChart")g=u,m=_ae;else if(l==="BarChart")g=Iae(a,u,i,s),m=oL;else if(a==="radial"){var{cx:p,cy:v,radius:y,startAngle:w,endAngle:B}=AL(u);g={cx:p,cy:v,startAngle:w,endAngle:B,innerRadius:y,outerRadius:y},m=uL}else g={points:aoe(a,u,i)},m=f1;var I=typeof o=="object"&&"className"in o?o.className:void 0,T=Tg(Tg(Tg(Tg({stroke:"#ccc",pointerEvents:"none"},i),g),yt(o,!1)),{},{payload:d,payloadIndex:f,className:$e("recharts-tooltip-cursor",I)});return x.isValidElement(o)?x.cloneElement(o,T):x.createElement(m,T)}function rde(t){var e=Kce(),r=GM(),n=Uv(),i=$ce();return x.createElement(tde,wB({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var h3=x.createContext(null),nde=()=>x.useContext(h3),g3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(A,l,u){this.fn=A,this.context=l,this.once=u||!1}function s(A,l,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new i(u,d||A,f),m=r?r+l:l;return A._events[m]?A._events[m].fn?A._events[m]=[A._events[m],g]:A._events[m].push(g):(A._events[m]=g,A._eventsCount++),A}function a(A,l){--A._eventsCount===0?A._events=new n:delete A._events[l]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},o.prototype.listeners=function(l){var u=r?r+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,g=d.length,m=new Array(g);f<g;f++)m[f]=d[f].fn;return m},o.prototype.listenerCount=function(l){var u=r?r+l:l,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(l,u,d,f,g,m){var p=r?r+l:l;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,w,B;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,f),!0;case 5:return v.fn.call(v.context,u,d,f,g),!0;case 6:return v.fn.call(v.context,u,d,f,g,m),!0}for(B=1,w=new Array(y-1);B<y;B++)w[B-1]=arguments[B];v.fn.apply(v.context,w)}else{var I=v.length,T;for(B=0;B<I;B++)switch(v[B].once&&this.removeListener(l,v[B].fn,void 0,!0),y){case 1:v[B].fn.call(v[B].context);break;case 2:v[B].fn.call(v[B].context,u);break;case 3:v[B].fn.call(v[B].context,u,d);break;case 4:v[B].fn.call(v[B].context,u,d,f);break;default:if(!w)for(T=1,w=new Array(y-1);T<y;T++)w[T-1]=arguments[T];v[B].fn.apply(v[B].context,w)}}return!0},o.prototype.on=function(l,u,d){return s(this,l,u,d,!1)},o.prototype.once=function(l,u,d){return s(this,l,u,d,!0)},o.prototype.removeListener=function(l,u,d,f){var g=r?r+l:l;if(!this._events[g])return this;if(!u)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===u&&(!f||m.once)&&(!d||m.context===d)&&a(this,g);else{for(var p=0,v=[],y=m.length;p<y;p++)(m[p].fn!==u||f&&!m[p].once||d&&m[p].context!==d)&&v.push(m[p]);v.length?this._events[g]=v.length===1?v[0]:v:a(this,g)}return this},o.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(g3);var ide=g3.exports;const sde=Ki(ide);var vf=new sde,xB="recharts.syncEvent.tooltip",TP="recharts.syncEvent.brush";function w_(t,e){if(e){var r=Number.parseInt(e,10);if(!In(r))return t==null?void 0:t[r]}}var ade={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},m3=Nn({name:"options",initialState:ade,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ode=m3.reducer,{createEventEmitter:Ade}=m3.actions;function lde(t){return t.tooltip.syncInteraction}var ude={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},p3=Nn({name:"chartData",initialState:ude,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:FP,setDataStartEndIndexes:cde,setComputedData:Eve}=p3.actions,dde=p3.reducer,v3=()=>{};function fde(){var t=ye(H1),e=ye(V1),r=Ft(),n=ye(c5),i=ye(Gs),s=Uv(),a=l1(),o=ye(A=>A.rootProps.className);x.useEffect(()=>{if(t==null)return v3;var A=(l,u,d)=>{if(e!==d&&t===l){if(n==="index"){r(u);return}if(i!=null){var f;if(typeof n=="function"){var g={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},m=n(i,g);f=i[m]}else n==="value"&&(f=i.find(F=>String(F.value)===u.payload.label));var{coordinate:p}=u.payload;if(f==null||u.payload.active===!1||p==null||a==null){r(vB({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:v,y}=p,w=Math.min(v,a.x+a.width),B=Math.min(y,a.y+a.height),I={x:s==="horizontal"?f.coordinate:w,y:s==="horizontal"?B:f.coordinate},T=vB({active:u.payload.active,coordinate:I,dataKey:u.payload.dataKey,index:String(f.index),label:u.payload.label});r(T)}}};return vf.on(xB,A),()=>{vf.off(xB,A)}},[o,r,e,t,n,i,s,a])}function hde(){var t=ye(H1),e=ye(V1),r=Ft();x.useEffect(()=>{if(t==null)return v3;var n=(i,s,a)=>{e!==a&&t===i&&r(cde(s))};return vf.on(TP,n),()=>{vf.off(TP,n)}},[r,e,t])}function gde(){var t=Ft();x.useEffect(()=>{t(Ade())},[t]),fde(),hde()}function mde(t,e,r,n,i,s){var a=ye(f=>zce(f,t,e)),o=ye(V1),A=ye(H1),l=ye(c5),u=ye(lde),d=u==null?void 0:u.active;x.useEffect(()=>{if(!d&&A!=null&&o!=null){var f=vB({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});vf.emit(xB,A,f,o)}},[d,r,a,i,n,o,A,l,s])}function UP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(r),!0).forEach(function(n){pde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pde(t,e,r){return(e=vde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vde(t){var e=yde(t,"string");return typeof e=="symbol"?e:e+""}function yde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wde(t){return t.dataKey}function xde(t,e){return x.isValidElement(t)?x.cloneElement(t,e):typeof t=="function"?x.createElement(t,e):x.createElement(iae,e)}var NP=[],bde={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!DA.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ba(t){var e=Qn(t,bde),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:o,isAnimationActive:A,offset:l,payloadUniqBy:u,position:d,reverseDirection:f,useTranslate3d:g,wrapperStyle:m,cursor:p,shared:v,trigger:y,defaultIndex:w,portal:B,axisId:I}=e,T=Ft(),F=typeof w=="number"?String(w):w;x.useEffect(()=>{T(que({shared:v,trigger:y,axisId:I,active:r,defaultIndex:F}))},[T,v,y,I,r,F]);var C=l1(),_=XM(),S=Gue(v),{activeIndex:P,isActive:Q}=ye(D=>Xce(D,S,y,F)),k=ye(D=>Yce(D,S,y,F)),N=ye(D=>f3(D,S,y,F)),ae=ye(D=>Wce(D,S,y,F)),be=k,me=nde(),pe=r??Q,[J,ie]=fM([be,pe]),ue=S==="axis"?N:void 0;mde(S,y,ae,ue,P,pe);var Se=B??me;if(Se==null)return null;var ne=be??NP;pe||(ne=NP),o&&ne.length&&(ne=tM(be.filter(D=>D.value!=null&&(D.hide!==!0||e.includeHidden)),u,wde));var Pe=ne.length>0,Ye=x.createElement(cae,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:A,active:pe,coordinate:ae,hasPayload:Pe,offset:l,position:d,reverseDirection:f,useTranslate3d:g,viewBox:C,wrapperStyle:m,lastBoundingBox:J,innerRef:ie,hasPortalFromProps:!!B},xde(a,PP(PP({},e),{},{payload:ne,label:ue,active:pe,coordinate:ae,accessibilityLayer:_})));return x.createElement(x.Fragment,null,_C.createPortal(Ye,Se),pe&&x.createElement(rde,{cursor:p,tooltipEventType:S,coordinate:ae,payload:be,index:P}))}var y3={},w3={},x3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:s}={}){let a,o=null;const A=s!=null&&s.includes("leading"),l=s==null||s.includes("trailing"),u=()=>{o!==null&&(r.apply(a,o),a=void 0,o=null)},d=()=>{l&&u(),p()};let f=null;const g=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,d()},n)},m=()=>{f!==null&&(clearTimeout(f),f=null)},p=()=>{m(),a=void 0,o=null},v=()=>{u()},y=function(...w){if(i!=null&&i.aborted)return;a=this,o=w;const B=f==null;g(),A&&B&&u()};return y.schedule=g,y.cancel=p,y.flush=v,i==null||i.addEventListener("abort",p,{once:!0}),y}t.debounce=e})(x3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x3;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:A}=s,l=Array(2);a&&(l[0]="leading"),o&&(l[1]="trailing");let u,d=null;const f=e.debounce(function(...p){u=n.apply(this,p),d=null},i,{edges:l}),g=function(...p){return A!=null&&(d===null&&(d=Date.now()),Date.now()-d>=A)?(u=n.apply(this,p),d=Date.now(),f.cancel(),f.schedule(),u):(f.apply(this,p),u)},m=()=>(f.flush(),u);return g.cancel=f.cancel,g.flush=m,g}t.debounce=r})(w3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w3;function r(n,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(n,i,{leading:a,maxWait:i,trailing:o})}t.throttle=r})(y3);var Bde=y3.throttle;const Cde=Ki(Bde);var Cd=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function QP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(r),!0).forEach(function(n){Ede(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ede(t,e,r){return(e=_de(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _de(t){var e=Ide(t,"string");return typeof e=="symbol"?e:e+""}function Ide(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ca=x.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:o,maxHeight:A,children:l,debounce:u=0,id:d,className:f,onResize:g,style:m={}}=t,p=x.useRef(null),v=x.useRef();v.current=g,x.useImperativeHandle(e,()=>p.current);var[y,w]=x.useState({containerWidth:n.width,containerHeight:n.height}),B=x.useCallback((T,F)=>{w(C=>{var _=Math.round(T),S=Math.round(F);return C.containerWidth===_&&C.containerHeight===S?C:{containerWidth:_,containerHeight:S}})},[]);x.useEffect(()=>{var T=S=>{var P,{width:Q,height:k}=S[0].contentRect;B(Q,k),(P=v.current)===null||P===void 0||P.call(v,Q,k)};u>0&&(T=Cde(T,u,{trailing:!0,leading:!1}));var F=new ResizeObserver(T),{width:C,height:_}=p.current.getBoundingClientRect();return B(C,_),F.observe(p.current),()=>{F.disconnect()}},[B,u]);var I=x.useMemo(()=>{var{containerWidth:T,containerHeight:F}=y;if(T<0||F<0)return null;Cd(zo(i)||zo(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),Cd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var C=zo(i)?T:i,_=zo(s)?F:s;return r&&r>0&&(C?_=C/r:_&&(C=_*r),A&&_>A&&(_=A)),Cd(C>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,_,i,s,a,o,r),x.Children.map(l,S=>x.cloneElement(S,{width:C,height:_,style:Nw({width:C,height:_},S.props.style)}))},[r,l,s,A,o,a,y,i]);return x.createElement("div",{id:d?"".concat(d):void 0,className:$e("recharts-responsive-container",f),style:Nw(Nw({},m),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:A}),ref:p},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},I))}),Xu=t=>null;Xu.displayName="Cell";function Sde(t,e,r){return(e=Tde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tde(t){var e=Fde(t,"string");return typeof e=="symbol"?e:e+""}function Fde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ude{constructor(e){Sde(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function kP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(r),!0).forEach(function(n){Nde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nde(t,e,r){return(e=Qde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qde(t){var e=kde(t,"string");return typeof e=="symbol"?e:e+""}function kde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ode={cacheSize:2e3,enableCache:!0},b3=Pde({},Ode),OP=new Ude(b3.cacheSize),Dde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DP="recharts_measurement_span";function jde(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var jP=(t,e)=>{try{var r=document.getElementById(DP);r||(r=document.createElement("span"),r.setAttribute("id",DP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Dde,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ed=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||DA.isSsr)return{width:0,height:0};if(!b3.enableCache)return jP(e,r);var n=jde(e,r),i=OP.get(n);if(i)return i;var s=jP(e,r);return OP.set(n,s),s},RP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Mde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,B3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Lde=Object.keys(B3),kl="NaN";function Hde(t,e){return t*B3[e]}class Xr{static parse(e){var r,[,n,i]=(r=Mde.exec(e))!==null&&r!==void 0?r:[];return new Xr(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,In(e)&&(this.unit=""),r!==""&&!Rde.test(r)&&(this.num=NaN,this.unit=""),Lde.includes(r)&&(this.num=Hde(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new Xr(NaN,""):new Xr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Xr(NaN,""):new Xr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Xr(NaN,""):new Xr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Xr(NaN,""):new Xr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return In(this.num)}}function C3(t){if(t.includes(kl))return kl;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,s]=(r=RP.exec(e))!==null&&r!==void 0?r:[],a=Xr.parse(n??""),o=Xr.parse(s??""),A=i==="*"?a.multiply(o):a.divide(o);if(A.isNaN())return kl;e=e.replace(RP,A.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var l,[,u,d,f]=(l=MP.exec(e))!==null&&l!==void 0?l:[],g=Xr.parse(u??""),m=Xr.parse(f??""),p=d==="+"?g.add(m):g.subtract(m);if(p.isNaN())return kl;e=e.replace(MP,p.toString())}return e}var LP=/\(([^()]*)\)/;function Vde(t){for(var e=t,r;(r=LP.exec(e))!=null;){var[,n]=r;e=e.replace(LP,C3(n))}return e}function Kde(t){var e=t.replace(/\s+/g,"");return e=Vde(e),e=C3(e),e}function $de(t){try{return Kde(t)}catch{return kl}}function Qw(t){var e=$de(t.slice(5,-1));return e===kl?"":e}var Gde=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zde=["dx","dy","angle","className","breakAll"];function bB(){return bB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bB.apply(null,arguments)}function HP(t,e){if(t==null)return{};var r,n,i=Wde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Wde(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var E3=/[ \f\n\r\t\v\u2028\u2029]+/,_3=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];ht(e)||(r?i=e.toString().split(""):i=e.toString().split(E3));var s=i.map(o=>({word:o,width:Ed(o,n).width})),a=r?0:Ed(" ",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Yde=(t,e,r,n,i)=>{var{maxLines:s,children:a,style:o,breakAll:A}=t,l=de(s),u=a,d=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce((k,N)=>{var{word:ae,width:be}=N,me=k[k.length-1];if(me&&(n==null||i||me.width+be+r<Number(n)))me.words.push(ae),me.width+=be+r;else{var pe={words:[ae],width:be};k.push(pe)}return k},[])},f=d(e),g=P=>P.reduce((Q,k)=>Q.width>k.width?Q:k);if(!l||i)return f;var m=f.length>s||g(f).width>Number(n);if(!m)return f;for(var p="…",v=P=>{var Q=u.slice(0,P),k=_3({breakAll:A,style:o,children:Q+p}).wordsWithComputedWidth,N=d(k),ae=N.length>s||g(N).width>Number(n);return[ae,N]},y=0,w=u.length-1,B=0,I;y<=w&&B<=u.length-1;){var T=Math.floor((y+w)/2),F=T-1,[C,_]=v(F),[S]=v(T);if(!C&&!S&&(y=T+1),C&&S&&(w=T-1),!C&&S){I=_;break}B++}return I||f},VP=t=>{var e=ht(t)?[]:t.toString().split(E3);return[{words:e}]},Xde=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=t;if((e||r)&&!DA.isSsr){var o,A,l=_3({breakAll:s,children:n,style:i});if(l){var{wordsWithComputedWidth:u,spaceWidth:d}=l;o=u,A=d}else return VP(n);return Yde({breakAll:s,children:n,maxLines:a,style:i},o,A,e,r)}return VP(n)},KP="#808080",Yv=x.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:A="end",fill:l=KP}=t,u=HP(t,Gde),d=x.useMemo(()=>Xde({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:a,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,a,u.style,u.width]),{dx:f,dy:g,angle:m,className:p,breakAll:v}=u,y=HP(u,zde);if(!Hi(r)||!Hi(n))return null;var w=r+(de(f)?f:0),B=n+(de(g)?g:0),I;switch(A){case"start":I=Qw("calc(".concat(s,")"));break;case"middle":I=Qw("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:I=Qw("calc(".concat(d.length-1," * -").concat(i,")"));break}var T=[];if(a){var F=d[0].width,{width:C}=u;T.push("scale(".concat(de(C)?C/F:1,")"))}return m&&T.push("rotate(".concat(m,", ").concat(w,", ").concat(B,")")),T.length&&(y.transform=T.join(" ")),x.createElement("text",bB({},yt(y,!0),{ref:e,x:w,y:B,className:$e("recharts-text",p),textAnchor:o,fill:l.includes("url")?KP:l}),d.map((_,S)=>{var P=_.words.join(v?"":" ");return x.createElement("tspan",{x:w,dy:S===0?I:i,key:"".concat(P,"-").concat(S)},P)}))});Yv.displayName="Text";var qde=["offset"],Jde=["labelRef"];function $P(t,e){if(t==null)return{};var r,n,i=Zde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Zde(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function GP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(r),!0).forEach(function(n){efe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function efe(t,e,r){return(e=tfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tfe(t){var e=rfe(t,"string");return typeof e=="symbol"?e:e+""}function rfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ls(){return ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ls.apply(null,arguments)}var nfe=t=>{var{value:e,formatter:r}=t,n=ht(t.children)?e:t.children;return typeof r=="function"?r(n):n},x_=t=>t!=null&&typeof t=="function",ife=(t,e)=>{var r=ur(e-t),n=Math.min(Math.abs(e-t),360);return r*n},sfe=(t,e,r,n)=>{var{position:i,offset:s,className:a}=t,{cx:o,cy:A,innerRadius:l,outerRadius:u,startAngle:d,endAngle:f,clockWise:g}=n,m=(l+u)/2,p=ife(d,f),v=p>=0?1:-1,y,w;i==="insideStart"?(y=d+v*s,w=g):i==="insideEnd"?(y=f-v*s,w=!g):i==="end"&&(y=f+v*s,w=g),w=p<=0?w:!w;var B=$t(o,A,m,y),I=$t(o,A,m,y+(w?1:-1)*359),T="M".concat(B.x,",").concat(B.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(w?0:1,`,
    `).concat(I.x,",").concat(I.y),F=ht(t.id)?Af("recharts-radial-line-"):t.id;return x.createElement("text",ls({},r,{dominantBaseline:"central",className:$e("recharts-radial-bar-label",a)}),x.createElement("defs",null,x.createElement("path",{id:F,d:T})),x.createElement("textPath",{xlinkHref:"#".concat(F)},e))},afe=(t,e,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:A}=t,l=(o+A)/2;if(r==="outside"){var{x:u,y:d}=$t(n,i,a+e,l);return{x:u,y:d,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(s+a)/2,{x:g,y:m}=$t(n,i,f,l);return{x:g,y:m,textAnchor:"middle",verticalAnchor:"middle"}},ofe=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,{x:s,y:a,width:o,height:A}=e,l=A>=0?1:-1,u=l*n,d=l>0?"end":"start",f=l>0?"start":"end",g=o>=0?1:-1,m=g*n,p=g>0?"end":"start",v=g>0?"start":"end";if(i==="top"){var y={x:s+o/2,y:a-l*n,textAnchor:"middle",verticalAnchor:d};return Pt(Pt({},y),r?{height:Math.max(a-r.y,0),width:o}:{})}if(i==="bottom"){var w={x:s+o/2,y:a+A+u,textAnchor:"middle",verticalAnchor:f};return Pt(Pt({},w),r?{height:Math.max(r.y+r.height-(a+A),0),width:o}:{})}if(i==="left"){var B={x:s-m,y:a+A/2,textAnchor:p,verticalAnchor:"middle"};return Pt(Pt({},B),r?{width:Math.max(B.x-r.x,0),height:A}:{})}if(i==="right"){var I={x:s+o+m,y:a+A/2,textAnchor:v,verticalAnchor:"middle"};return Pt(Pt({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:A}:{})}var T=r?{width:o,height:A}:{};return i==="insideLeft"?Pt({x:s+m,y:a+A/2,textAnchor:v,verticalAnchor:"middle"},T):i==="insideRight"?Pt({x:s+o-m,y:a+A/2,textAnchor:p,verticalAnchor:"middle"},T):i==="insideTop"?Pt({x:s+o/2,y:a+u,textAnchor:"middle",verticalAnchor:f},T):i==="insideBottom"?Pt({x:s+o/2,y:a+A-u,textAnchor:"middle",verticalAnchor:d},T):i==="insideTopLeft"?Pt({x:s+m,y:a+u,textAnchor:v,verticalAnchor:f},T):i==="insideTopRight"?Pt({x:s+o-m,y:a+u,textAnchor:p,verticalAnchor:f},T):i==="insideBottomLeft"?Pt({x:s+m,y:a+A-u,textAnchor:v,verticalAnchor:d},T):i==="insideBottomRight"?Pt({x:s+o-m,y:a+A-u,textAnchor:p,verticalAnchor:d},T):i&&typeof i=="object"&&(de(i.x)||zo(i.x))&&(de(i.y)||zo(i.y))?Pt({x:s+zr(i.x,o),y:a+zr(i.y,A),textAnchor:"end",verticalAnchor:"end"},T):Pt({x:s+o/2,y:a+A/2,textAnchor:"middle",verticalAnchor:"middle"},T)},Afe=t=>"cx"in t&&de(t.cx);function vn(t){var{offset:e=5}=t,r=$P(t,qde),n=Pt({offset:e},r),{viewBox:i,position:s,value:a,children:o,content:A,className:l="",textBreakAll:u,labelRef:d}=n,f=ye(m5),g=l1(),m=s==="center"?g:f??g,p=i||m;if(!p||ht(a)&&ht(o)&&!x.isValidElement(A)&&typeof A!="function")return null;var v=Pt(Pt({},n),{},{viewBox:p});if(x.isValidElement(A)){var y=$P(v,Jde);return x.cloneElement(A,y)}var w;if(typeof A=="function"){if(w=x.createElement(A,v),x.isValidElement(w))return w}else w=nfe(n);var B=Afe(p),I=yt(n,!0);if(B&&(s==="insideStart"||s==="insideEnd"||s==="end"))return sfe(n,w,I,p);var T=B?afe(p,n.offset,n.position):ofe(n,p);return x.createElement(Yv,ls({ref:d,className:$e("recharts-label",l)},I,T,{breakAll:u}),w)}vn.displayName="Label";var I3=t=>{var{cx:e,cy:r,angle:n,startAngle:i,endAngle:s,r:a,radius:o,innerRadius:A,outerRadius:l,x:u,y:d,top:f,left:g,width:m,height:p,clockWise:v,labelViewBox:y}=t;if(y)return y;if(de(m)&&de(p)){if(de(u)&&de(d))return{x:u,y:d,width:m,height:p};if(de(f)&&de(g))return{x:f,y:g,width:m,height:p}}if(de(u)&&de(d))return{x:u,y:d,width:0,height:0};if(de(e)&&de(r))return{cx:e,cy:r,startAngle:i||n||0,endAngle:s||n||0,innerRadius:A||0,outerRadius:l||o||a||0,clockWise:v};if(t.viewBox)return t.viewBox},lfe=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?x.createElement(vn,ls({key:"label-implicit"},n)):Hi(t)?x.createElement(vn,ls({key:"label-implicit",value:t},n)):x.isValidElement(t)?t.type===vn?x.cloneElement(t,Pt({key:"label-implicit"},n)):x.createElement(vn,ls({key:"label-implicit",content:t},n)):x_(t)?x.createElement(vn,ls({key:"label-implicit",content:t},n)):t&&typeof t=="object"?x.createElement(vn,ls({},t,{key:"label-implicit"},n)):null},ufe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:i,labelRef:s}=e,a=I3(e),o=Lf(i,vn).map((l,u)=>x.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)}));if(!n)return o;var A=lfe(e.label,r||a,s);return[A,...o]};vn.parseViewBox=I3;vn.renderCallByParent=ufe;var S3={},T3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(T3);var F3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(F3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T3,r=F3,n=mv;function i(s){if(n.isArrayLike(s))return e.last(r.toArray(s))}t.last=i})(S3);var cfe=S3.last;const dfe=Ki(cfe);var ffe=["valueAccessor"],hfe=["data","dataKey","clockWise","id","textBreakAll"];function Gp(){return Gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gp.apply(null,arguments)}function zP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(r),!0).forEach(function(n){gfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gfe(t,e,r){return(e=mfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mfe(t){var e=pfe(t,"string");return typeof e=="symbol"?e:e+""}function pfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YP(t,e){if(t==null)return{};var r,n,i=vfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function vfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var yfe=t=>Array.isArray(t.value)?dfe(t.value):t.value;function Va(t){var{valueAccessor:e=yfe}=t,r=YP(t,ffe),{data:n,dataKey:i,clockWise:s,id:a,textBreakAll:o}=r,A=YP(r,hfe);return!n||!n.length?null:x.createElement(Dr,{className:"recharts-label-list"},n.map((l,u)=>{var d=ht(i)?e(l,u):nt(l&&l.payload,i),f=ht(a)?{}:{id:"".concat(a,"-").concat(u)};return x.createElement(vn,Gp({},yt(l,!0),A,f,{parentViewBox:l.parentViewBox,value:d,textBreakAll:o,viewBox:vn.parseViewBox(ht(s)?l:WP(WP({},l),{},{clockWise:s})),key:"label-".concat(u),index:u}))}))}Va.displayName="LabelList";function wfe(t,e){return t?t===!0?x.createElement(Va,{key:"labelList-implicit",data:e}):x.isValidElement(t)||x_(t)?x.createElement(Va,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?x.createElement(Va,Gp({data:e},t,{key:"labelList-implicit"})):null:null}function xfe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:n}=t,i=Lf(n,Va).map((a,o)=>x.cloneElement(a,{data:e,key:"labelList-".concat(o)}));if(!r)return i;var s=wfe(t.label,e);return[s,...i]}Va.renderCallByParent=xfe;function BB(){return BB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BB.apply(null,arguments)}var U3=t=>{var{cx:e,cy:r,r:n,className:i}=t,s=$e("recharts-dot",i);return e===+e&&r===+r&&n===+n?x.createElement("circle",BB({},Ls(t),jE(t),{className:s,cx:e,cy:r,r:n})):null},P3=t=>t.graphicalItems.polarItems,bfe=$([Bt,Wf],Y1),b_=$([P3,Lt,bfe],X1),Bfe=$([b_],q1),B_=$([Bfe,j1],J1),Cfe=$([B_,Lt,b_],e_),Efe=$([B_,Lt,b_],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var s,a=nt(n,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:nt(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),XP=()=>{},_fe=$([Lt,N5,XP,Efe,XP,Le,Bt],r_),N3=$([Lt,Le,B_,Cfe,zf,Bt,_fe],n_),Ife=$([N3,Lt,Gu],a_),_ve=$([Lt,N3,Ife,Bt],A_),Sfe={radiusAxis:{},angleAxis:{}},Q3=Nn({name:"polarAxis",initialState:Sfe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Ive,removeRadiusAxis:Sve,addAngleAxis:Tve,removeAngleAxis:Fve}=Q3.actions,Tfe=Q3.reducer;function qP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(r),!0).forEach(function(n){Ffe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ffe(t,e,r){return(e=Ufe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ufe(t){var e=Pfe(t,"string");return typeof e=="symbol"?e:e+""}function Pfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nfe=(t,e)=>e,C_=$([P3,Nfe],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),Qfe=[],E_=(t,e,r)=>(r==null?void 0:r.length)===0?Qfe:r,k3=$([j1,C_,E_],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>JP(JP({},e.presentationProps),s.props))),i!=null)return i}}),kfe=$([k3,C_,E_],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var s,a=nt(n,e.nameKey,e.name),o;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=e.fill,{value:Mu(a,e.dataKey),color:o,payload:n,type:e.legendType}})}),Ofe=$([k3,C_,E_,er],(t,e,r,n)=>{if(!(e==null||t==null))return Ihe({offset:n,pieSettings:e,displayedData:t,cells:r})}),O3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(O3);var Dfe=O3.isPlainObject;const jfe=Ki(Dfe);function zp(){return zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zp.apply(null,arguments)}var ZP=(t,e,r,n,i)=>{var s=r-n,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+r,",").concat(e),a+="L ".concat(t+r-s/2,",").concat(e+i),a+="L ".concat(t+r-s/2-n,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},Rfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mfe=t=>{var e=Qn(t,Rfe),r=x.useRef(),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&i(v)}catch{}},[]);var{x:s,y:a,upperWidth:o,lowerWidth:A,height:l,className:u}=e,{animationEasing:d,animationDuration:f,animationBegin:g,isUpdateAnimationActive:m}=e;if(s!==+s||a!==+a||o!==+o||A!==+A||l!==+l||o===0&&A===0||l===0)return null;var p=$e("recharts-trapezoid",u);return m?x.createElement(Up,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:l,x:s,y:a},to:{upperWidth:o,lowerWidth:A,height:l,x:s,y:a},duration:f,animationEasing:d,isActive:m},v=>{var{upperWidth:y,lowerWidth:w,height:B,x:I,y:T}=v;return x.createElement(Up,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,easing:d},x.createElement("path",zp({},yt(e,!0),{className:p,d:ZP(I,T,y,w,B),ref:r})))}):x.createElement("g",null,x.createElement("path",zp({},yt(e,!0),{className:p,d:ZP(s,a,o,A,l)})))},Lfe=["option","shapeType","propTransformer","activeClassName","isActive"];function Hfe(t,e){if(t==null)return{};var r,n,i=Vfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Vfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function eN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(r),!0).forEach(function(n){Kfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kfe(t,e,r){return(e=$fe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $fe(t){var e=Gfe(t,"string");return typeof e=="symbol"?e:e+""}function Gfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zfe(t,e){return Wp(Wp({},e),t)}function Wfe(t,e){return t==="symbols"}function tN(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return x.createElement(oL,r);case"trapezoid":return x.createElement(Mfe,r);case"sector":return x.createElement(uL,r);case"symbols":if(Wfe(e))return x.createElement(VE,r);break;default:return null}}function Yfe(t){return x.isValidElement(t)?t.props:t}function D3(t){var{option:e,shapeType:r,propTransformer:n=zfe,activeClassName:i="recharts-active-shape",isActive:s}=t,a=Hfe(t,Lfe),o;if(x.isValidElement(e))o=x.cloneElement(e,Wp(Wp({},a),Yfe(e)));else if(typeof e=="function")o=e(a);else if(jfe(e)&&typeof e!="boolean"){var A=n(e,a);o=x.createElement(tN,{shapeType:r,elementProps:A})}else{var l=a;o=x.createElement(tN,{shapeType:r,elementProps:l})}return s?x.createElement(Dr,{className:i},o):o}var __=(t,e)=>{var r=Ft();return(n,i)=>s=>{t==null||t(n,i,s),r(Y5({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},I_=t=>{var e=Ft();return(r,n)=>i=>{t==null||t(r,n,i),e(Jue())}},S_=(t,e)=>{var r=Ft();return(n,i)=>s=>{t==null||t(n,i,s),r(Zue({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function T_(t){var{fn:e,args:r}=t,n=Ft(),i=An();return x.useEffect(()=>{if(!i){var s=e(r);return n(Yue(s)),()=>{n(Xue(s))}}},[e,r,n,i]),null}var j3=()=>{};function R3(t){var{legendPayload:e}=t,r=Ft(),n=An();return x.useEffect(()=>n?j3:(r(WM(e)),()=>{r(YM(e))}),[r,n,e]),null}function Xfe(t){var{legendPayload:e}=t,r=Ft(),n=ye(Le);return x.useEffect(()=>n!=="centric"&&n!=="radial"?j3:(r(WM(e)),()=>{r(YM(e))}),[r,n,e]),null}function F_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(Af(e)),n=x.useRef(t);return n.current!==t&&(r.current=Af(e),n.current=t),r.current}var kw,qfe=()=>{var[t]=x.useState(()=>Af("uid-"));return t},Jfe=(kw=NN.useId)!==null&&kw!==void 0?kw:qfe;function Zfe(t,e){var r=Jfe();return e||(t?"".concat(t,"-").concat(r):r)}var ehe=x.createContext(void 0),U_=t=>{var{id:e,type:r,children:n}=t,i=Zfe("recharts-".concat(r),e);return x.createElement(ehe.Provider,{value:i},n(i))},the={cartesianItems:[],polarItems:[]},M3=Nn({name:"graphicalItems",initialState:the,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=Bs(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=Bs(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=Bs(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:rhe,replaceCartesianGraphicalItem:nhe,removeCartesianGraphicalItem:ihe,addPolarGraphicalItem:she,removePolarGraphicalItem:ahe}=M3.actions,ohe=M3.reducer;function L3(t){var e=Ft(),r=x.useRef(null);return x.useEffect(()=>{r.current===null?e(rhe(t)):r.current!==t&&e(nhe({prev:r.current,next:t})),r.current=t},[e,t]),x.useEffect(()=>()=>{r.current&&(e(ihe(r.current)),r.current=null)},[e]),null}function Ahe(t){var e=Ft();return x.useEffect(()=>(e(she(t)),()=>{e(ahe(t))}),[e,t]),null}function lhe(){}var uhe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},rN={t:0},Ow={t:1};function P_(t){var e=Qn(t,uhe),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:A,children:l}=e,u=aL("JavascriptAnimate",e.animationManager),[d,f]=x.useState(r?rN:Ow),g=x.useRef(null);return x.useEffect(()=>{r||f(Ow)},[r]),x.useEffect(()=>{if(!r||!n)return lhe;var m=sL(rN,Ow,nL(s),i,f,u.getTimeoutController()),p=()=>{g.current=m()};return u.start([A,a,p,i,o]),()=>{u.stop(),g.current&&g.current(),o()}},[r,n,i,s,a,A,o,u]),l(d.t)}var che=["onMouseEnter","onClick","onMouseLeave"],dhe=["id"],fhe=["id"];function N_(t,e){if(t==null)return{};var r,n,i=hhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function hhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function nN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(r),!0).forEach(function(n){ghe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ghe(t,e,r){return(e=mhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mhe(t){var e=phe(t,"string");return typeof e=="symbol"?e:e+""}function phe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ds(){return Ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ds.apply(null,arguments)}function vhe(t){var e=x.useMemo(()=>Lf(t.children,Xu),[t.children]),r=ye(n=>kfe(n,t.id,e));return r==null?null:x.createElement(Xfe,{legendPayload:r})}function yhe(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:o,hide:A,tooltipType:l}=t;return{dataDefinedOnItem:n==null?void 0:n.map(u=>u.tooltipPayload),positions:n==null?void 0:n.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:r,name:Mu(o,e),hide:A,type:l,color:a,unit:""}}}var whe=(t,e)=>t>e?"start":t<e?"end":"middle",xhe=(t,e,r)=>typeof e=="function"?e(t):zr(e,r,r*.8),bhe=(t,e,r)=>{var{top:n,left:i,width:s,height:a}=e,o=jM(s,a),A=i+zr(t.cx,s,s/2),l=n+zr(t.cy,a,a/2),u=zr(t.innerRadius,o,0),d=xhe(r,t.outerRadius,o),f=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:A,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}},Bhe=(t,e)=>{var r=ur(e-t),n=Math.min(Math.abs(e-t),360);return r*n},Che=(t,e)=>{if(x.isValidElement(t))return x.cloneElement(t,e);if(typeof t=="function")return t(e);var r=$e("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return x.createElement(f1,Ds({},e,{type:"linear",className:r}))},Ehe=(t,e,r)=>{if(x.isValidElement(t))return x.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),x.isValidElement(n)))return n;var i=$e("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return x.createElement(Yv,Ds({},e,{alignmentBaseline:"middle",className:i}),n)};function _he(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!e)return null;var o=Ls(r),A=yt(i,!1),l=yt(s,!1),u=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,d=e.map((f,g)=>{var m=(f.startAngle+f.endAngle)/2,p=$t(f.cx,f.cy,f.outerRadius+u,m),v=kt(kt(kt(kt({},o),f),{},{stroke:"none"},A),{},{index:g,textAnchor:whe(p.x,f.cx)},p),y=kt(kt(kt(kt({},o),f),{},{fill:"none",stroke:f.fill},l),{},{index:g,points:[$t(f.cx,f.cy,f.outerRadius,m),p],key:"line"});return x.createElement(Dr,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(g)},s&&Che(s,y),Ehe(i,v,nt(f,a)))});return x.createElement(Dr,{className:"recharts-pie-labels"},d)}function H3(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:s}=t,a=ye(so),{onMouseEnter:o,onClick:A,onMouseLeave:l}=i,u=N_(i,che),d=__(o,i.dataKey),f=I_(l),g=S_(A,i.dataKey);return e==null?null:x.createElement(x.Fragment,null,e.map((m,p)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&e.length!==1)return null;var v=r&&String(p)===a,y=a?n:null,w=v?r:y,B=kt(kt({},m),{},{stroke:m.stroke,tabIndex:-1,[VM]:p,[KM]:i.dataKey});return x.createElement(Dr,Ds({tabIndex:-1,className:"recharts-pie-sector"},Mf(u,m,p),{onMouseEnter:d(m,p),onMouseLeave:f(m,p),onClick:g(m,p),key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(p)}),x.createElement(D3,Ds({option:w,isActive:v,shapeType:"sector"},B)))}),x.createElement(_he,{sectors:e,props:i,showLabels:s}))}function Ihe(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:s}=t,{cornerRadius:a,startAngle:o,endAngle:A,dataKey:l,nameKey:u,tooltipType:d}=r,f=Math.abs(r.minAngle),g=Bhe(o,A),m=Math.abs(g),p=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,v=n.filter(F=>nt(F,l,0)!==0).length,y=(m>=360?v:v-1)*p,w=m-v*f-y,B=n.reduce((F,C)=>{var _=nt(C,l,0);return F+(de(_)?_:0)},0),I;if(B>0){var T;I=n.map((F,C)=>{var _=nt(F,l,0),S=nt(F,u,C),P=bhe(r,s,F),Q=(de(_)?_:0)/B,k,N=kt(kt({},F),i&&i[C]&&i[C].props);C?k=T.endAngle+ur(g)*p*(_!==0?1:0):k=o;var ae=k+ur(g)*((_!==0?f:0)+Q*w),be=(k+ae)/2,me=(P.innerRadius+P.outerRadius)/2,pe=[{name:S,value:_,payload:N,dataKey:l,type:d}],J=$t(P.cx,P.cy,me,be);return T=kt(kt(kt(kt({},r.presentationProps),{},{percent:Q,cornerRadius:a,name:S,tooltipPayload:pe,midAngle:be,middleRadius:me,tooltipPosition:J},N),P),{},{value:nt(F,l),startAngle:k,endAngle:ae,payload:N,paddingAngle:ur(g)*p}),T})}return I}function She(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:o,activeShape:A,inactiveShape:l,onAnimationStart:u,onAnimationEnd:d}=e,f=F_(e,"recharts-pie-"),g=r.current,[m,p]=x.useState(!0),v=x.useCallback(()=>{typeof d=="function"&&d(),p(!1)},[d]),y=x.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return x.createElement(P_,{begin:s,duration:a,isActive:i,easing:o,onAnimationStart:y,onAnimationEnd:v,key:f},w=>{var B=[],I=n&&n[0],T=I.startAngle;return n.forEach((F,C)=>{var _=g&&g[C],S=C>0?ro(F,"paddingAngle",0):0;if(_){var P=PF(_.endAngle-_.startAngle,F.endAngle-F.startAngle),Q=kt(kt({},F),{},{startAngle:T+S,endAngle:T+P(w)+S});B.push(Q),T=Q.endAngle}else{var{endAngle:k,startAngle:N}=F,ae=PF(0,k-N),be=ae(w),me=kt(kt({},F),{},{startAngle:T+S,endAngle:T+be+S});B.push(me),T=me.endAngle}}),r.current=B,x.createElement(Dr,null,x.createElement(H3,{sectors:B,activeShape:A,inactiveShape:l,allOtherPieProps:e,showLabels:!m}))})}function The(t){var{sectors:e,isAnimationActive:r,activeShape:n,inactiveShape:i}=t,s=x.useRef(null),a=s.current;return r&&e&&e.length&&(!a||a!==e)?x.createElement(She,{props:t,previousSectorsRef:s}):x.createElement(H3,{sectors:e,activeShape:n,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function Fhe(t){var{hide:e,className:r,rootTabIndex:n}=t,i=$e("recharts-pie",r);return e?null:x.createElement(Dr,{tabIndex:n,className:i},x.createElement(The,t))}var Uhe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!DA.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Phe(t){var{id:e}=t,r=N_(t,dhe),n=x.useMemo(()=>Lf(t.children,Xu),[t.children]),i=ye(s=>Ofe(s,e,n));return x.createElement(x.Fragment,null,x.createElement(T_,{fn:yhe,args:kt(kt({},t),{},{sectors:i})}),x.createElement(Fhe,Ds({},r,{sectors:i})))}function Q_(t){var e=Qn(t,Uhe),{id:r}=e,n=N_(e,fhe),i=Ls(n);return x.createElement(U_,{id:r,type:"pie"},s=>x.createElement(x.Fragment,null,x.createElement(Ahe,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),x.createElement(vhe,Ds({},n,{id:s})),x.createElement(Phe,Ds({},n,{id:s})),n.children))}Q_.displayName="Pie";var Nhe=$([er],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Qhe=$([Nhe,Hs,Vs],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),k_=()=>ye(Qhe),khe=()=>ye(Rce);function iN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(r),!0).forEach(function(n){Ohe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ohe(t,e,r){return(e=Dhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dhe(t){var e=jhe(t,"string");return typeof e=="symbol"?e:e+""}function jhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rhe=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var a=sN(sN({index:r,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},yt(i,!1)),jE(i)),o;return x.isValidElement(i)?o=x.cloneElement(i,a):typeof i=="function"?o=i(a):o=x.createElement(U3,a),x.createElement(Dr,{className:"recharts-active-dot"},o)};function Mhe(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,s=ye(so),a=khe();if(e==null||a==null)return null;var o=e.find(A=>a.includes(A.payload));return ht(o)?null:Rhe({point:o,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n})}var Lhe="Invariant failed";function Hhe(t,e){throw new Error(Lhe)}var Vhe=["x","y"];function CB(){return CB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CB.apply(null,arguments)}function aN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aN(Object(r),!0).forEach(function(n){Khe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Khe(t,e,r){return(e=$he(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $he(t){var e=Ghe(t,"string");return typeof e=="symbol"?e:e+""}function Ghe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zhe(t,e){if(t==null)return{};var r,n,i=Whe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Whe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Yhe(t,e){var{x:r,y:n}=t,i=zhe(t,Vhe),s="".concat(r),a=parseInt(s,10),o="".concat(n),A=parseInt(o,10),l="".concat(e.height||i.height),u=parseInt(l,10),d="".concat(e.width||i.width),f=parseInt(d,10);return Nc(Nc(Nc(Nc(Nc({},e),i),a?{x:a}:{}),A?{y:A}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function V3(t){return x.createElement(D3,CB({shapeType:"rectangle",propTransformer:Yhe,activeClassName:"recharts-active-bar"},t))}var Xhe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(de(e))return e;var s=de(n)||ht(n);return s?e(n,i):(s||Hhe(),r)}},qhe={},Jhe=Nn({name:"errorBars",initialState:qhe,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),Zhe=Jhe.reducer,ege=["children"];function tge(t,e){if(t==null)return{};var r,n,i=rge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function rge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var nge={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ige=x.createContext(nge);function K3(t){var{children:e}=t,r=tge(t,ege);return x.createElement(ige.Provider,{value:r},e)}function O_(t,e){var r,n,i=ye(l=>$s(l,t)),s=ye(l=>yo(l,e)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:fn.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:hn.allowDataOverflow,A=a||o;return{needClip:A,needClipX:a,needClipY:o}}function $3(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=k_(),{needClipX:s,needClipY:a,needClip:o}=O_(e,r);if(!o)return null;var{x:A,y:l,width:u,height:d}=i;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:s?A:A-u/2,y:a?l:l-d/2,width:s?u:u*2,height:a?d:d*2}))}var sge=["onMouseEnter","onMouseLeave","onClick"],age=["value","background","tooltipPosition"],oge=["id"],Age=["onMouseEnter","onClick","onMouseLeave"];function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iu.apply(null,arguments)}function oN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(r),!0).forEach(function(n){lge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lge(t,e,r){return(e=uge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uge(t){var e=cge(t,"string");return typeof e=="symbol"?e:e+""}function cge(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yp(t,e){if(t==null)return{};var r,n,i=dge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function dge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var fge=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Mu(r,e),payload:t}]};function hge(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:o}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:Mu(s,e),hide:a,type:t.tooltipType,color:t.fill,unit:o}}}function gge(t){var e=ye(so),{data:r,dataKey:n,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:o,onClick:A}=s,l=Yp(s,sge),u=__(a,n),d=I_(o),f=S_(A,n);if(!i||r==null)return null;var g=yt(i,!1);return x.createElement(x.Fragment,null,r.map((m,p)=>{var{value:v,background:y,tooltipPosition:w}=m,B=Yp(m,age);if(!y)return null;var I=u(m,p),T=d(m,p),F=f(m,p),C=Qr(Qr(Qr(Qr(Qr({option:i,isActive:String(p)===e},B),{},{fill:"#eee"},y),g),Mf(l,m,p)),{},{onMouseEnter:I,onMouseLeave:T,onClick:F,dataKey:n,index:p,className:"recharts-bar-background-rectangle"});return x.createElement(V3,Iu({key:"background-bar-".concat(p)},C))}))}function G3(t){var{data:e,props:r,showLabels:n}=t,i=Ls(r),s=Yp(i,oge),{shape:a,dataKey:o,activeBar:A}=r,l=ye(so),u=ye(A3),{onMouseEnter:d,onClick:f,onMouseLeave:g}=r,m=Yp(r,Age),p=__(d,o),v=I_(g),y=S_(f,o);return e?x.createElement(x.Fragment,null,e.map((w,B)=>{var I=A&&String(B)===l&&(u==null||o===u),T=I?A:a,F=Qr(Qr(Qr({},s),w),{},{isActive:I,option:T,index:B,dataKey:o});return x.createElement(Dr,Iu({className:"recharts-bar-rectangle"},Mf(m,w,B),{onMouseEnter:p(w,B),onMouseLeave:v(w,B),onClick:y(w,B),key:"rectangle-".concat(w==null?void 0:w.x,"-").concat(w==null?void 0:w.y,"-").concat(w==null?void 0:w.value,"-").concat(B)}),x.createElement(V3,F))}),n&&Va.renderCallByParent(r,e)):null}function mge(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:A,onAnimationEnd:l,onAnimationStart:u}=e,d=r.current,f=F_(e,"recharts-bar-"),[g,m]=x.useState(!1),p=x.useCallback(()=>{typeof l=="function"&&l(),m(!1)},[l]),v=x.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return x.createElement(P_,{begin:a,duration:o,isActive:s,easing:A,onAnimationEnd:p,onAnimationStart:v,key:f},y=>{var w=y===1?n:n==null?void 0:n.map((B,I)=>{var T=d&&d[I];if(T)return Qr(Qr({},B),{},{x:hi(T.x,B.x,y),y:hi(T.y,B.y,y),width:hi(T.width,B.width,y),height:hi(T.height,B.height,y)});if(i==="horizontal"){var F=hi(0,B.height,y);return Qr(Qr({},B),{},{y:B.y+B.height-F,height:F})}var C=hi(0,B.width,y);return Qr(Qr({},B),{},{width:C})});return y>0&&(r.current=w??null),w==null?null:x.createElement(Dr,null,x.createElement(G3,{props:e,data:w,showLabels:!g}))})}function pge(t){var{data:e,isAnimationActive:r}=t,n=x.useRef(null);return r&&e&&e.length&&(n.current==null||n.current!==e)?x.createElement(mge,{previousRectanglesRef:n,props:t}):x.createElement(G3,{props:t,data:e,showLabels:!0})}var z3=0,vge=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:nt(t,e)}};class yge extends x.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:o,background:A,id:l}=this.props;if(e)return null;var u=$e("recharts-bar",i),d=l;return x.createElement(Dr,{className:u,id:l},o&&x.createElement("defs",null,x.createElement($3,{clipPathId:d,xAxisId:s,yAxisId:a})),x.createElement(Dr,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},x.createElement(gge,{data:r,dataKey:n,background:A,allOtherBarProps:this.props}),x.createElement(pge,this.props)),this.props.children)}}var wge={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!DA.isSsr,legendType:"rect",minPointSize:z3,xAxisId:0,yAxisId:0};function xge(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:A,animationEasing:l,isAnimationActive:u}=t,{needClip:d}=O_(e,r),f=Uv(),g=An(),m=Lf(t.children,Xu),p=ye(w=>Wge(w,e,r,g,t.id,m));if(f!=="vertical"&&f!=="horizontal")return null;var v,y=p==null?void 0:p[0];return y==null||y.height==null||y.width==null?v=0:v=f==="vertical"?y.height/2:y.width/2,x.createElement(K3,{xAxisId:e,yAxisId:r,data:p,dataPointFormatter:vge,errorBarOffset:v},x.createElement(yge,Iu({},t,{layout:f,needClip:d,data:p,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:A,animationEasing:l,isAnimationActive:u})))}function bge(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:A,yAxisTicks:l,stackedData:u,displayedData:d,offset:f,cells:g}=t,m=e==="horizontal"?o:a,p=u?m.scale.domain():null,v=Bse({numericAxis:m});return d.map((y,w)=>{var B,I,T,F,C,_;u?B=pse(u[w],p):(B=nt(y,r),Array.isArray(B)||(B=[v,B]));var S=Xhe(n,z3)(B[1],w);if(e==="horizontal"){var P,[Q,k]=[o.scale(B[0]),o.scale(B[1])];I=uU({axis:a,ticks:A,bandSize:s,offset:i.offset,entry:y,index:w}),T=(P=k??Q)!==null&&P!==void 0?P:void 0,F=i.size;var N=Q-k;if(C=In(N)?0:N,_={x:I,y:f.top,width:F,height:f.height},Math.abs(S)>0&&Math.abs(C)<Math.abs(S)){var ae=ur(C||S)*(Math.abs(S)-Math.abs(C));T-=ae,C+=ae}}else{var[be,me]=[a.scale(B[0]),a.scale(B[1])];if(I=be,T=uU({axis:o,ticks:l,bandSize:s,offset:i.offset,entry:y,index:w}),F=me-be,C=i.size,_={x:f.left,y:T,width:f.width,height:C},Math.abs(S)>0&&Math.abs(F)<Math.abs(S)){var pe=ur(F||S)*(Math.abs(S)-Math.abs(F));F+=pe}}if(I==null||T==null||F==null||C==null)return null;var J=Qr(Qr({},y),{},{x:I,y:T,width:F,height:C,value:u?B:B[1],payload:y,background:_,tooltipPosition:{x:I+F/2,y:T+C/2}},g&&g[w]&&g[w].props);return J}).filter(Boolean)}function ga(t){var e=Qn(t,wge),r=An();return x.createElement(U_,{id:e.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(R3,{legendPayload:fge(e)}),x.createElement(T_,{fn:hge,args:e}),x.createElement(L3,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:bse(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),x.createElement(xge,Iu({},e,{id:n}))))}ga.displayName="Bar";function AN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(r),!0).forEach(function(n){Bge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bge(t,e,r){return(e=Cge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cge(t){var e=Ege(t,"string");return typeof e=="symbol"?e:e+""}function Ege(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ge=(t,e)=>e,Ige=(t,e,r)=>r,Sge=(t,e,r,n)=>n,Tge=(t,e,r,n,i)=>i,eh=$([Vv,Tge],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),Fge=$([eh],t=>t==null?void 0:t.maxBarSize),Uge=(t,e,r,n,i,s)=>s,lN=(t,e,r)=>{var n=r??t;if(!ht(n))return zr(n,e,0)},Pge=$([Le,Vv,_ge,Ige,Sge],(t,e,r,n,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Nge=(t,e,r,n)=>{var i=Le(t);return i==="horizontal"?pB(t,"yAxis",r,n):pB(t,"xAxis",e,n)},Qge=(t,e,r)=>{var n=Le(t);return n==="horizontal"?xP(t,"xAxis",e):xP(t,"yAxis",r)},kge=(t,e,r)=>{var n={},i=t.filter(Hv),s=t.filter(l=>l.stackId==null),a=i.reduce((l,u)=>(l[u.stackId]||(l[u.stackId]=[]),l[u.stackId].push(u),l),n),o=Object.entries(a).map(l=>{var[u,d]=l,f=d.map(m=>m.dataKey),g=lN(e,r,d[0].barSize);return{stackId:u,dataKeys:f,barSize:g}}),A=s.map(l=>{var u=[l.dataKey].filter(f=>f!=null),d=lN(e,r,l.barSize);return{stackId:void 0,dataKeys:u,barSize:d}});return[...o,...A]},Oge=$([Pge,Xle,Qge],kge),Dge=(t,e,r,n,i)=>{var s,a,o=eh(t,e,r,n,i);if(o!=null){var A=Le(t),l=l5(t),{maxBarSize:u}=o,d=ht(u)?l:u,f,g;return A==="horizontal"?(f=io(t,"xAxis",e,n),g=no(t,"xAxis",e,n)):(f=io(t,"yAxis",r,n),g=no(t,"yAxis",r,n)),(s=(a=cf(f,g,!0))!==null&&a!==void 0?a:d)!==null&&s!==void 0?s:0}},W3=(t,e,r,n)=>{var i=Le(t),s,a;return i==="horizontal"?(s=io(t,"xAxis",e,n),a=no(t,"xAxis",e,n)):(s=io(t,"yAxis",r,n),a=no(t,"yAxis",r,n)),cf(s,a)};function jge(t,e,r,n,i){var s=n.length;if(!(s<1)){var a=zr(t,r,0,!0),o,A=[];if(Fn(n[0].barSize)){var l=!1,u=r/s,d=n.reduce((y,w)=>y+(w.barSize||0),0);d+=(s-1)*a,d>=r&&(d-=(s-1)*a,a=0),d>=r&&u>0&&(l=!0,u*=.9,d=s*u);var f=(r-d)/2>>0,g={offset:f-a,size:0};o=n.reduce((y,w)=>{var B,I={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:g.offset+g.size+a,size:l?u:(B=w.barSize)!==null&&B!==void 0?B:0}},T=[...y,I];return g=T[T.length-1].position,T},A)}else{var m=zr(e,r,0,!0);r-2*m-(s-1)*a<=0&&(a=0);var p=(r-2*m-(s-1)*a)/s;p>1&&(p>>=0);var v=Fn(i)?Math.min(p,i):p;o=n.reduce((y,w,B)=>[...y,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m+(p+a)*B+(p-v)/2,size:v}}],A)}return o}}var Rge=(t,e,r,n,i,s,a)=>{var o=ht(a)?e:a,A=jge(r,n,i!==s?i:s,t,o);return i!==s&&A!=null&&(A=A.map(l=>Fg(Fg({},l),{},{position:Fg(Fg({},l.position),{},{offset:l.position.offset-i/2})}))),A},Mge=$([Oge,l5,Yle,u5,Dge,W3,Fge],Rge),Lge=(t,e,r,n)=>io(t,"xAxis",e,n),Hge=(t,e,r,n)=>io(t,"yAxis",r,n),Vge=(t,e,r,n)=>no(t,"xAxis",e,n),Kge=(t,e,r,n)=>no(t,"yAxis",r,n),$ge=$([Mge,eh],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),Gge=(t,e)=>{var r=z1(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},zge=$([Nge,eh],Gge),Wge=$([er,Lge,Hge,Vge,Kge,$ge,Le,jv,W3,zge,eh,Uge],(t,e,r,n,i,s,a,o,A,l,u,d)=>{var{chartData:f,dataStartIndex:g,dataEndIndex:m}=o;if(!(u==null||s==null||a!=="horizontal"&&a!=="vertical"||e==null||r==null||n==null||i==null||A==null)){var{data:p}=u,v;if(p!=null&&p.length>0?v=p:v=f==null?void 0:f.slice(g,m+1),v!=null)return bge({layout:a,barSettings:u,pos:s,bandSize:A,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:l,displayedData:v,offset:t,cells:d})}}),Y3=t=>{var{chartData:e}=t,r=Ft(),n=An();return x.useEffect(()=>n?()=>{}:(r(FP(e)),()=>{r(FP(void 0))}),[e,r,n]),null},uN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Yge=Nn({name:"brush",initialState:uN,reducers:{setBrushSettings(t,e){return e.payload==null?uN:e.payload}}}),Xge=Yge.reducer;function qge(t,e,r){return(e=Jge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jge(t){var e=Zge(t,"string");return typeof e=="symbol"?e:e+""}function Zge(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class D_{static create(e){return new D_(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}qge(D_,"EPS",1e-4);function eme(t){return(t%180+180)%180}var tme=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=eme(i),a=s*Math.PI/180,o=Math.atan(n/r),A=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(A)},rme={dots:[],areas:[],lines:[]},nme=Nn({name:"referenceElements",initialState:rme,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=Bs(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=Bs(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=Bs(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),ime=nme.reducer,sme=x.createContext(void 0),ame=t=>{var{children:e}=t,[r]=x.useState("".concat(Af("recharts"),"-clip")),n=k_();if(n==null)return null;var{x:i,y:s,width:a,height:o}=n;return x.createElement(sme.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function Dw(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function X3(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function ome(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return tme(n,r)}function Ame(t,e,r){var n=r==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function Xp(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function lme(t,e){return X3(t,e+1)}function ume(t,e,r,n,i){for(var s=(n||[]).slice(),{start:a,end:o}=e,A=0,l=1,u=a,d=function(){var m=n==null?void 0:n[A];if(m===void 0)return{v:X3(n,l)};var p=A,v,y=()=>(v===void 0&&(v=r(m,p)),v),w=m.coordinate,B=A===0||Xp(t,w,y,u,o);B||(A=0,u=a,l+=1),B&&(u=w+t*(y()/2+i),A+=l)},f;l<=s.length;)if(f=d(),f)return f.v;return[]}function cN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ur(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cN(Object(r),!0).forEach(function(n){cme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cme(t,e,r){return(e=dme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dme(t){var e=fme(t,"string");return typeof e=="symbol"?e:e+""}function fme(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hme(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:o}=e,{end:A}=e,l=function(f){var g=s[f],m,p=()=>(m===void 0&&(m=r(g,f)),m);if(f===a-1){var v=t*(g.coordinate+t*p()/2-A);s[f]=g=Ur(Ur({},g),{},{tickCoord:v>0?g.coordinate-v*t:g.coordinate})}else s[f]=g=Ur(Ur({},g),{},{tickCoord:g.coordinate});var y=Xp(t,g.tickCoord,p,o,A);y&&(A=g.tickCoord-t*(p()/2+i),s[f]=Ur(Ur({},g),{},{isShow:!0}))},u=a-1;u>=0;u--)l(u);return s}function gme(t,e,r,n,i,s){var a=(n||[]).slice(),o=a.length,{start:A,end:l}=e;if(s){var u=n[o-1],d=r(u,o-1),f=t*(u.coordinate+t*d/2-l);a[o-1]=u=Ur(Ur({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var g=Xp(t,u.tickCoord,()=>d,A,l);g&&(l=u.tickCoord-t*(d/2+i),a[o-1]=Ur(Ur({},u),{},{isShow:!0}))}for(var m=s?o-1:o,p=function(w){var B=a[w],I,T=()=>(I===void 0&&(I=r(B,w)),I);if(w===0){var F=t*(B.coordinate-t*T()/2-A);a[w]=B=Ur(Ur({},B),{},{tickCoord:F<0?B.coordinate-F*t:B.coordinate})}else a[w]=B=Ur(Ur({},B),{},{tickCoord:B.coordinate});var C=Xp(t,B.tickCoord,T,A,l);C&&(A=B.tickCoord+t*(T()/2+i),a[w]=Ur(Ur({},B),{},{isShow:!0}))},v=0;v<m;v++)p(v);return a}function j_(t,e,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:A,tickFormatter:l,unit:u,angle:d}=t;if(!i||!i.length||!n)return[];if(de(A)||DA.isSsr){var f;return(f=lme(i,de(A)?A:0))!==null&&f!==void 0?f:[]}var g=[],m=o==="top"||o==="bottom"?"width":"height",p=u&&m==="width"?Ed(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=(B,I)=>{var T=typeof l=="function"?l(B.value,I):B.value;return m==="width"?ome(Ed(T,{fontSize:e,letterSpacing:r}),p,d):Ed(T,{fontSize:e,letterSpacing:r})[m]},y=i.length>=2?ur(i[1].coordinate-i[0].coordinate):1,w=Ame(s,y,m);return A==="equidistantPreserveStart"?ume(y,w,v,i,a):(A==="preserveStart"||A==="preserveStartEnd"?g=gme(y,w,v,i,a,A==="preserveStartEnd"):g=hme(y,w,v,i,a),g.filter(B=>B.isShow))}var mme=["viewBox"],pme=["viewBox"];function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ol.apply(null,arguments)}function dN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dN(Object(r),!0).forEach(function(n){R_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fN(t,e){if(t==null)return{};var r,n,i=vme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function vme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function R_(t,e,r){return(e=yme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yme(t){var e=wme(t,"string");return typeof e=="symbol"?e:e+""}function wme(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class wo extends x.Component{constructor(e){super(e),this.tickRefs=x.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,r){var{viewBox:n}=e,i=fN(e,mme),s=this.props,{viewBox:a}=s,o=fN(s,pme);return!Dw(n,a)||!Dw(i,o)||!Dw(r,this.state)}getTickLineCoord(e){var{x:r,y:n,width:i,height:s,orientation:a,tickSize:o,mirror:A,tickMargin:l}=this.props,u,d,f,g,m,p,v=A?-1:1,y=e.tickSize||o,w=de(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,g=n+ +!A*s,f=g-v*y,p=f-v*l,m=w;break;case"left":f=g=e.coordinate,d=r+ +!A*i,u=d-v*y,m=u-v*l,p=w;break;case"right":f=g=e.coordinate,d=r+ +A*i,u=d+v*y,m=u+v*l,p=w;break;default:u=d=e.coordinate,g=n+ +A*s,f=g+v*y,p=f+v*l,m=w;break}return{line:{x1:u,y1:f,x2:d,y2:g},tick:{x:m,y:p}}}getTickTextAnchor(){var{orientation:e,mirror:r}=this.props,n;switch(e){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:e,mirror:r}=this.props;switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:e,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:o}=this.props,A=Wt(Wt(Wt({},yt(this.props,!1)),yt(o,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var l=+(s==="top"&&!a||s==="bottom"&&a);A=Wt(Wt({},A),{},{x1:e,y1:r+l*i,x2:e+n,y2:r+l*i})}else{var u=+(s==="left"&&!a||s==="right"&&a);A=Wt(Wt({},A),{},{x1:e+u*n,y1:r,x2:e+u*n,y2:r+i})}return x.createElement("line",Ol({},A,{className:$e("recharts-cartesian-axis-line",ro(o,"className"))}))}static renderTickItem(e,r,n){var i,s=$e(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(e))i=x.cloneElement(e,Wt(Wt({},r),{},{className:s}));else if(typeof e=="function")i=e(Wt(Wt({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=$e(a,e.className)),i=x.createElement(Yv,Ol({},r,{className:a}),n)}return i}renderTicks(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:o,unit:A,padding:l}=this.props,u=j_(Wt(Wt({},this.props),{},{ticks:n}),e,r),d=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),g=Ls(this.props),m=yt(a,!1),p=Wt(Wt({},g),{},{fill:"none"},yt(i,!1)),v=u.map((y,w)=>{var{line:B,tick:I}=this.getTickLineCoord(y),T=Wt(Wt(Wt(Wt({textAnchor:d,verticalAnchor:f},g),{},{stroke:"none",fill:s},m),I),{},{index:w,payload:y,visibleTicksCount:u.length,tickFormatter:o,padding:l});return x.createElement(Dr,Ol({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},Mf(this.props,y,w)),i&&x.createElement("line",Ol({},p,B,{className:$e("recharts-cartesian-axis-tick-line",ro(i,"className"))})),a&&wo.renderTickItem(a,T,"".concat(typeof o=="function"?o(y.value,w):y.value).concat(A||"")))});return v.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},v):null}render(){var{axisLine:e,width:r,height:n,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:x.createElement(Dr,{className:$e("recharts-cartesian-axis",i),ref:o=>{if(o){var A=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(A);var l=A[0];if(l){var u=window.getComputedStyle(l).fontSize,d=window.getComputedStyle(l).letterSpacing;(u!==this.state.fontSize||d!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(l).fontSize,letterSpacing:window.getComputedStyle(l).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),vn.renderCallByParent(this.props))}}R_(wo,"displayName","CartesianAxis");R_(wo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xme=["x1","y1","x2","y2","key"],bme=["offset"],Bme=["xAxisId","yAxisId"],Cme=["xAxisId","yAxisId"];function hN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hN(Object(r),!0).forEach(function(n){Eme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eme(t,e,r){return(e=_me(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _me(t){var e=Ime(t,"string");return typeof e=="symbol"?e:e+""}function Ime(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qo.apply(null,arguments)}function qp(t,e){if(t==null)return{};var r,n,i=Sme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Sme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Tme=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:o}=t;return x.createElement("rect",{x:n,y:i,ry:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function q3(t,e){var r;if(x.isValidElement(t))r=x.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:s,y2:a,key:o}=e,A=qp(e,xme),l=Ls(A),u=qp(l,bme);r=x.createElement("line",qo({},u,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:o}))}return r}function Fme(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var s=qp(t,Bme),a=i.map((o,A)=>{var l=kr(kr({},s),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(A),index:A});return q3(n,l)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Ume(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var s=qp(t,Cme),a=i.map((o,A)=>{var l=kr(kr({},s),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(A),index:A});return q3(n,l)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Pme(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:o,horizontal:A=!0}=t;if(!A||!e||!e.length)return null;var l=o.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==l[0]&&l.unshift(0);var u=l.map((d,f)=>{var g=!l[f+1],m=g?i+a-d:l[f+1]-d;if(m<=0)return null;var p=f%e.length;return x.createElement("rect",{key:"react-".concat(f),y:d,x:n,height:m,width:s,stroke:"none",fill:e[p],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function Nme(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:o,verticalPoints:A}=t;if(!e||!r||!r.length)return null;var l=A.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==l[0]&&l.unshift(0);var u=l.map((d,f)=>{var g=!l[f+1],m=g?i+a-d:l[f+1]-d;if(m<=0)return null;var p=f%r.length;return x.createElement("rect",{key:"react-".concat(f),x:d,y:s,width:m,height:o,stroke:"none",fill:r[p],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var Qme=(t,e)=>{var{xAxis:r,width:n,height:i,offset:s}=t;return MM(j_(kr(kr(kr({},wo.defaultProps),r),{},{ticks:LM(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,e)},kme=(t,e)=>{var{yAxis:r,width:n,height:i,offset:s}=t;return MM(j_(kr(kr(kr({},wo.defaultProps),r),{},{ticks:LM(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,e)},Ome={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function AA(t){var e=u1(),r=c1(),n=GM(),i=kr(kr({},Qn(t,Ome)),{},{x:de(t.x)?t.x:n.left,y:de(t.y)?t.y:n.top,width:de(t.width)?t.width:n.width,height:de(t.height)?t.height:n.height}),{xAxisId:s,yAxisId:a,x:o,y:A,width:l,height:u,syncWithTicks:d,horizontalValues:f,verticalValues:g}=i,m=An(),p=ye(S=>bP(S,"xAxis",s,m)),v=ye(S=>bP(S,"yAxis",a,m));if(!de(l)||l<=0||!de(u)||u<=0||!de(o)||o!==+o||!de(A)||A!==+A)return null;var y=i.verticalCoordinatesGenerator||Qme,w=i.horizontalCoordinatesGenerator||kme,{horizontalPoints:B,verticalPoints:I}=i;if((!B||!B.length)&&typeof w=="function"){var T=f&&f.length,F=w({yAxis:v?kr(kr({},v),{},{ticks:T?f:v.ticks}):void 0,width:e,height:r,offset:n},T?!0:d);Cd(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(B=F)}if((!I||!I.length)&&typeof y=="function"){var C=g&&g.length,_=y({xAxis:p?kr(kr({},p),{},{ticks:C?g:p.ticks}):void 0,width:e,height:r,offset:n},C?!0:d);Cd(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(I=_)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Tme,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(Pme,qo({},i,{horizontalPoints:B})),x.createElement(Nme,qo({},i,{verticalPoints:I})),x.createElement(Fme,qo({},i,{offset:n,horizontalPoints:B,xAxis:p,yAxis:v})),x.createElement(Ume,qo({},i,{offset:n,verticalPoints:I,xAxis:p,yAxis:v})))}AA.displayName="CartesianGrid";var J3=(t,e,r,n)=>io(t,"xAxis",e,n),Z3=(t,e,r,n)=>no(t,"xAxis",e,n),eH=(t,e,r,n)=>io(t,"yAxis",r,n),tH=(t,e,r,n)=>no(t,"yAxis",r,n),Dme=$([Le,J3,eH,Z3,tH],(t,e,r,n,i)=>go(t,"xAxis")?cf(e,n,!1):cf(r,i,!1)),jme=(t,e,r,n,i)=>i;function Rme(t){return t.type==="line"}var Mme=$([Vv,jme],(t,e)=>t.filter(Rme).find(r=>r.id===e)),Lme=$([Le,J3,eH,Z3,tH,Mme,Dme,jv],(t,e,r,n,i,s,a,o)=>{var{chartData:A,dataStartIndex:l,dataEndIndex:u}=o;if(!(s==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||a==null)){var{dataKey:d,data:f}=s,g;if(f!=null&&f.length>0?g=f:g=A==null?void 0:A.slice(l,u+1),g!=null)return Ape({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:d,bandSize:a,displayedData:g})}}),Hme=["id"],Vme=["type","layout","connectNulls","needClip"],Kme=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function gN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gN(Object(r),!0).forEach(function(n){$me(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $me(t,e,r){return(e=Gme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gme(t){var e=zme(t,"string");return typeof e=="symbol"?e:e+""}function zme(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M_(t,e){if(t==null)return{};var r,n,i=Wme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Wme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function IA(){return IA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IA.apply(null,arguments)}var Yme=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Mu(r,e),payload:t}]};function Xme(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:s,name:a,hide:o,unit:A}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Mu(a,e),hide:o,type:t.tooltipType,color:t.stroke,unit:A}}}var rH=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function qme(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var Jme=(t,e,r)=>{var n=r.reduce((d,f)=>d+f);if(!n)return rH(e,t);for(var i=Math.floor(t/n),s=t%n,a=e-t,o=[],A=0,l=0;A<r.length;l+=r[A],++A)if(l+r[A]>s){o=[...r.slice(0,A),s-l];break}var u=o.length%2===0?[0,a]:[a];return[...qme(r,i),...o,...u].map(d=>"".concat(d,"px")).join(", ")};function Zme(t,e){var r;if(x.isValidElement(t))r=x.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=$e("recharts-line-dot",typeof t!="boolean"?t.className:"");r=x.createElement(U3,IA({},e,{className:n}))}return r}function epe(t,e){return t==null?!1:e?!0:t.length===1}function tpe(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:s,needClip:a}=n;if(!epe(r,i))return null;var o=M_(n,Hme),A=xR(i),l=Ls(o),u=yt(i,!0),d=r.map((g,m)=>{var p=gi(gi(gi({key:"dot-".concat(m),r:3},l),u),{},{index:m,cx:g.x,cy:g.y,dataKey:s,value:g.value,payload:g.payload,points:r});return Zme(i,p)}),f={clipPath:a?"url(#clipPath-".concat(A?"":"dots-").concat(e,")"):void 0};return x.createElement(Dr,IA({className:"recharts-line-dots",key:"dots"},f),d)}function EB(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:s,showLabels:a}=t,{type:o,layout:A,connectNulls:l,needClip:u}=s,d=M_(s,Vme),f=gi(gi({},yt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):void 0,points:n,type:o,layout:A,connectNulls:l,strokeDasharray:i??s.strokeDasharray});return x.createElement(x.Fragment,null,(n==null?void 0:n.length)>1&&x.createElement(f1,IA({},f,{pathRef:r})),x.createElement(tpe,{points:n,clipPathId:e,props:s}),a&&Va.renderCallByParent(s,n))}function rpe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function npe(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:o,isAnimationActive:A,animationBegin:l,animationDuration:u,animationEasing:d,animateNewValues:f,width:g,height:m,onAnimationEnd:p,onAnimationStart:v}=r,y=i.current,w=F_(r,"recharts-line-"),[B,I]=x.useState(!1),T=x.useCallback(()=>{typeof p=="function"&&p(),I(!1)},[p]),F=x.useCallback(()=>{typeof v=="function"&&v(),I(!0)},[v]),C=rpe(n.current),_=s.current;return x.createElement(P_,{begin:l,duration:u,isActive:A,easing:d,onAnimationEnd:T,onAnimationStart:F,key:w},S=>{var P=hi(_,C+_,S),Q=Math.min(P,C),k;if(o){var N="".concat(o).split(/[,\s]+/gim).map(me=>parseFloat(me));k=Jme(Q,C,N)}else k=rH(C,Q);if(y){var ae=y.length/a.length,be=S===1?a:a.map((me,pe)=>{var J=Math.floor(pe*ae);if(y[J]){var ie=y[J];return gi(gi({},me),{},{x:hi(ie.x,me.x,S),y:hi(ie.y,me.y,S)})}return f?gi(gi({},me),{},{x:hi(g*2,me.x,S),y:hi(m/2,me.y,S)}):gi(gi({},me),{},{x:me.x,y:me.y})});return i.current=be,x.createElement(EB,{props:r,points:be,clipPathId:e,pathRef:n,showLabels:!B,strokeDasharray:k})}return S>0&&C>0&&(i.current=a,s.current=Q),x.createElement(EB,{props:r,points:a,clipPathId:e,pathRef:n,showLabels:!B,strokeDasharray:k})})}function ipe(t){var{clipPathId:e,props:r}=t,{points:n,isAnimationActive:i}=r,s=x.useRef(null),a=x.useRef(0),o=x.useRef(null),A=s.current;return i&&n&&n.length&&A!==n?x.createElement(npe,{props:r,clipPathId:e,previousPointsRef:s,longestAnimatedLengthRef:a,pathRef:o}):x.createElement(EB,{props:r,points:n,clipPathId:e,pathRef:o,showLabels:!0})}var spe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:nt(t.payload,e)});class ape extends x.Component{render(){var e,{hide:r,dot:n,points:i,className:s,xAxisId:a,yAxisId:o,top:A,left:l,width:u,height:d,id:f,needClip:g}=this.props;if(r)return null;var m=$e("recharts-line",s),p=f,{r:v=3,strokeWidth:y=2}=(e=yt(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},w=xR(n),B=v*2+y;return x.createElement(x.Fragment,null,x.createElement(Dr,{className:m},g&&x.createElement("defs",null,x.createElement($3,{clipPathId:p,xAxisId:a,yAxisId:o}),!w&&x.createElement("clipPath",{id:"clipPath-dots-".concat(p)},x.createElement("rect",{x:l-B/2,y:A-B/2,width:u+B,height:d+B}))),x.createElement(ipe,{props:this.props,clipPathId:p}),x.createElement(K3,{xAxisId:a,yAxisId:o,data:i,dataPointFormatter:spe,errorBarOffset:0},this.props.children)),x.createElement(Mhe,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var nH={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!DA.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function ope(t){var e=Qn(t,nH),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:A,hide:l,isAnimationActive:u,label:d,legendType:f,xAxisId:g,yAxisId:m,id:p}=e,v=M_(e,Kme),{needClip:y}=O_(g,m),w=k_(),B=Uv(),I=An(),T=ye(P=>Lme(P,g,m,I,p));if(B!=="horizontal"&&B!=="vertical"||T==null||w==null)return null;var{height:F,width:C,x:_,y:S}=w;return x.createElement(ape,IA({},v,{id:p,connectNulls:o,dot:A,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:u,hide:l,label:d,legendType:f,xAxisId:g,yAxisId:m,points:T,layout:B,height:F,width:C,left:_,top:S,needClip:y}))}function Ape(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:o,displayedData:A}=t;return A.map((l,u)=>{var d=nt(l,a);if(e==="horizontal"){var f=lU({axis:r,ticks:i,bandSize:o,entry:l,index:u}),g=ht(d)?null:n.scale(d);return{x:f,y:g,value:d,payload:l}}var m=ht(d)?null:r.scale(d),p=lU({axis:n,ticks:s,bandSize:o,entry:l,index:u});return m==null||p==null?null:{x:m,y:p,value:d,payload:l}}).filter(Boolean)}function Ea(t){var e=Qn(t,nH),r=An();return x.createElement(U_,{id:e.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(R3,{legendPayload:Yme(e)}),x.createElement(T_,{fn:Xme,args:e}),x.createElement(L3,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),x.createElement(ope,IA({},e,{id:n}))))}Ea.displayName="Line";function mN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(r),!0).forEach(function(n){lpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lpe(t,e,r){return(e=upe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function upe(t){var e=cpe(t,"string");return typeof e=="symbol"?e:e+""}function cpe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dpe={xAxis:{},yAxis:{},zAxis:{}},iH=Nn({name:"cartesianAxis",initialState:dpe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=pN(pN({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:fpe,removeXAxis:hpe,addYAxis:gpe,removeYAxis:mpe,addZAxis:Uve,removeZAxis:Pve,updateYAxisWidth:ppe}=iH.actions,vpe=iH.reducer,ype=["children"],wpe=["dangerouslySetInnerHTML","ticks"];function sH(t,e,r){return(e=xpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xpe(t){var e=bpe(t,"string");return typeof e=="symbol"?e:e+""}function bpe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _B(){return _B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_B.apply(null,arguments)}function aH(t,e){if(t==null)return{};var r,n,i=Bpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Bpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Cpe(t){var e=Ft(),r=x.useMemo(()=>{var s=aH(t,ype);return s},[t]),n=ye(s=>$s(s,r.id)),i=r===n;return x.useEffect(()=>(e(fpe(r)),()=>{e(hpe(r))}),[r,e]),i?t.children:null}var Epe=t=>{var{xAxisId:e,className:r}=t,n=ye($M),i=An(),s="xAxis",a=ye(d=>zu(d,s,e,i)),o=ye(d=>V5(d,s,e,i)),A=ye(d=>R5(d,e)),l=ye(d=>Mue(d,e));if(A==null||l==null)return null;var u=aH(t,wpe);return x.createElement(wo,_B({},u,{scale:a,x:l.x,y:l.y,width:A.width,height:A.height,className:$e("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o}))},_pe=t=>{var e,r,n,i,s;return x.createElement(Cpe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},x.createElement(Epe,t))};class Ka extends x.Component{render(){return x.createElement(_pe,this.props)}}sH(Ka,"displayName","XAxis");sH(Ka,"defaultProps",{allowDataOverflow:fn.allowDataOverflow,allowDecimals:fn.allowDecimals,allowDuplicatedCategory:fn.allowDuplicatedCategory,height:fn.height,hide:!1,mirror:fn.mirror,orientation:fn.orientation,padding:fn.padding,reversed:fn.reversed,scale:fn.scale,tickCount:fn.tickCount,type:fn.type,xAxisId:0});var Ipe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){e.forEach(u=>{if(u){var d=u.getBoundingClientRect();d.width>a&&(a=d.width)}});var o=r?r.getBoundingClientRect().width:0,A=i+s,l=a+A+o+(r?n:0);return Math.round(l)}return 0},Spe=["dangerouslySetInnerHTML","ticks"];function oH(t,e,r){return(e=Tpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tpe(t){var e=Fpe(t,"string");return typeof e=="symbol"?e:e+""}function Fpe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IB(){return IB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IB.apply(null,arguments)}function Upe(t,e){if(t==null)return{};var r,n,i=Ppe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ppe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Npe(t){var e=Ft();return x.useEffect(()=>(e(gpe(t)),()=>{e(mpe(t))}),[t,e]),null}var Qpe=t=>{var e,{yAxisId:r,className:n,width:i,label:s}=t,a=x.useRef(null),o=x.useRef(null),A=ye($M),l=An(),u=Ft(),d="yAxis",f=ye(y=>zu(y,d,r,l)),g=ye(y=>M5(y,r)),m=ye(y=>Lue(y,r)),p=ye(y=>V5(y,d,r,l));if(x.useLayoutEffect(()=>{var y;if(!(i!=="auto"||!g||x_(s)||x.isValidElement(s))){var w=a.current,B=w==null||(y=w.tickRefs)===null||y===void 0?void 0:y.current,{tickSize:I,tickMargin:T}=w.props,F=Ipe({ticks:B,label:o.current,labelGapWithTick:5,tickSize:I,tickMargin:T});Math.round(g.width)!==Math.round(F)&&u(ppe({id:r,width:F}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,g==null?void 0:g.width,g,u,s,r,i]),g==null||m==null)return null;var v=Upe(t,Spe);return x.createElement(wo,IB({},v,{ref:a,labelRef:o,scale:f,x:m.x,y:m.y,width:g.width,height:g.height,className:$e("recharts-".concat(d," ").concat(d),n),viewBox:A,ticks:p}))},kpe=t=>{var e,r,n,i,s;return x.createElement(x.Fragment,null,x.createElement(Npe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),x.createElement(Qpe,t))},Ope={allowDataOverflow:hn.allowDataOverflow,allowDecimals:hn.allowDecimals,allowDuplicatedCategory:hn.allowDuplicatedCategory,hide:!1,mirror:hn.mirror,orientation:hn.orientation,padding:hn.padding,reversed:hn.reversed,scale:hn.scale,tickCount:hn.tickCount,type:hn.type,width:hn.width,yAxisId:0};class $a extends x.Component{render(){return x.createElement(kpe,this.props)}}oH($a,"displayName","YAxis");oH($a,"defaultProps",Ope);var Dpe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th=x;function jpe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rpe=typeof Object.is=="function"?Object.is:jpe,Mpe=th.useSyncExternalStore,Lpe=th.useRef,Hpe=th.useEffect,Vpe=th.useMemo,Kpe=th.useDebugValue;Dpe.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=Lpe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Vpe(function(){function A(g){if(!l){if(l=!0,u=g,g=n(g),i!==void 0&&a.hasValue){var m=a.value;if(i(m,g))return d=m}return d=g}if(m=d,Rpe(u,g))return m;var p=n(g);return i!==void 0&&i(m,p)?(u=g,m):(u=g,d=p)}var l=!1,u,d,f=r===void 0?null:r;return[function(){return A(e())},f===null?void 0:function(){return A(f())}]},[e,r,n,i]);var o=Mpe(t,s[0],s[1]);return Hpe(function(){a.hasValue=!0,a.value=o},[o]),Kpe(o),o};function $pe(t){t()}function Gpe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){$pe(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var vN={notify(){},get:()=>[]};function zpe(t,e){let r,n=vN,i=0,s=!1;function a(p){u();const v=n.subscribe(p);let y=!1;return()=>{y||(y=!0,v(),d())}}function o(){n.notify()}function A(){m.onStateChange&&m.onStateChange()}function l(){return s}function u(){i++,r||(r=t.subscribe(A),n=Gpe())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=vN)}function f(){s||(s=!0,u())}function g(){s&&(s=!1,d())}const m={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:A,isSubscribed:l,trySubscribe:f,tryUnsubscribe:g,getListeners:()=>n};return m}var Wpe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ype=Wpe(),Xpe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qpe=Xpe(),Jpe=()=>Ype||qpe?x.useLayoutEffect:x.useEffect,Zpe=Jpe(),jw=Symbol.for("react-redux-context"),Rw=typeof globalThis<"u"?globalThis:{};function e0e(){if(!x.createContext)return{};const t=Rw[jw]??(Rw[jw]=new Map);let e=t.get(x.createContext);return e||(e=x.createContext(null),t.set(x.createContext,e)),e}var t0e=e0e();function r0e(t){const{children:e,context:r,serverState:n,store:i}=t,s=x.useMemo(()=>{const A=zpe(i);return{store:i,subscription:A,getServerState:n?()=>n:void 0}},[i,n]),a=x.useMemo(()=>i.getState(),[i]);Zpe(()=>{const{subscription:A}=s;return A.onStateChange=A.notifyNestedSubs,A.trySubscribe(),a!==i.getState()&&A.notifyNestedSubs(),()=>{A.tryUnsubscribe(),A.onStateChange=void 0}},[s,a]);const o=r||t0e;return x.createElement(o.Provider,{value:s},e)}var n0e=r0e,i0e=(t,e)=>e,L_=$([i0e,Le,m5,rr,i3,Gs,Gce,er],qce),H_=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},AH=ri("mouseClick"),lH=Hf();lH.startListening({actionCreator:AH,effect:(t,e)=>{var r=t.payload,n=L_(e.getState(),H_(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(ece({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var SB=ri("mouseMove"),uH=Hf();uH.startListening({actionCreator:SB,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=c_(n,n.tooltip.settings.shared),s=L_(n,H_(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(q5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(X5()))}});function s0e(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var yN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},cH=Nn({name:"rootProps",initialState:yN,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:yN.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),a0e=cH.reducer,{updateOptions:o0e}=cH.actions,dH=Nn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:A0e}=dH.actions,l0e=dH.reducer,fH=ri("keyDown"),hH=ri("focus"),V_=Hf();V_.startListening({actionCreator:fH,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(d_(i,Yu(r))),o=Gs(r);if(s==="Enter"){var A=$p(r,"axis","hover",String(i.index));e.dispatch(yB({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:A}));return}var l=$ue(r),u=l==="left-to-right"?1:-1,d=s==="ArrowRight"?1:-1,f=a+d*u;if(!(o==null||f>=o.length||f<0)){var g=$p(r,"axis","hover",String(f));e.dispatch(yB({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});V_.startListening({actionCreator:hH,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=$p(r,"axis","hover",String(s));e.dispatch(yB({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var jn=ri("externalEvent"),gH=Hf();gH.startListening({actionCreator:jn,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:Oce(r),activeDataKey:A3(r),activeIndex:so(r),activeLabel:o3(r),activeTooltipIndex:so(r),isTooltipActive:Dce(r)};t.payload.handler(n,t.payload.reactEvent)}}});var u0e=$([Wu],t=>t.tooltipItemPayloads),c0e=$([u0e,Jf,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,r);return a}}}),mH=ri("touchMove"),pH=Hf();pH.startListening({actionCreator:mH,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=c_(n,n.tooltip.settings.shared);if(i==="axis"){var s=L_(n,H_({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(q5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=r.touches[0],A=document.elementFromPoint(o.clientX,o.clientY);if(!A||!A.getAttribute)return;var l=A.getAttribute(VM),u=(a=A.getAttribute(KM))!==null&&a!==void 0?a:void 0,d=c0e(e.getState(),l,u);e.dispatch(Y5({activeDataKey:u,activeIndex:l,activeCoordinate:d}))}}});var d0e=gM({brush:Xge,cartesianAxis:vpe,chartData:dde,errorBars:Zhe,graphicalItems:ohe,layout:tse,legend:Hse,options:ode,polarAxis:Tfe,polarOptions:l0e,referenceElements:ime,rootProps:a0e,tooltip:tce}),f0e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return _ie({reducer:d0e,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([lH.middleware,uH.middleware,V_.middleware,gH.middleware,pH.middleware]),devTools:{serialize:{replacer:s0e},name:"recharts-".concat(r)}})};function vH(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=An(),s=x.useRef(null);if(i)return r;s.current==null&&(s.current=f0e(e,n));var a=ZE;return x.createElement(n0e,{context:a,store:s.current},r)}function yH(t){var{layout:e,width:r,height:n,margin:i}=t,s=Ft(),a=An();return x.useEffect(()=>{a||(s(Jie(e)),s(Zie({width:r,height:n})),s(qie(i)))},[s,a,e,r,n,i]),null}function wH(t){var e=Ft();return x.useEffect(()=>{e(o0e(t))},[e,t]),null}var h0e=["children"];function g0e(t,e){if(t==null)return{};var r,n,i=m0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function m0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Jp(){return Jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jp.apply(null,arguments)}var p0e={width:"100%",height:"100%"},v0e=x.forwardRef((t,e)=>{var r=u1(),n=c1(),i=XM();if(!bu(r)||!bu(n))return null;var{children:s,otherAttributes:a,title:o,desc:A}=t,l,u;return typeof a.tabIndex=="number"?l=a.tabIndex:l=i?0:void 0,typeof a.role=="string"?u=a.role:u=i?"application":void 0,x.createElement(RE,Jp({},a,{title:o,desc:A,role:u,tabIndex:l,width:r,height:n,style:p0e,ref:e}),s)}),y0e=t=>{var{children:e}=t,r=ye(Fv);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return x.createElement(RE,{width:n,height:i,x:a,y:s},e)},wN=x.forwardRef((t,e)=>{var{children:r}=t,n=g0e(t,h0e),i=An();return i?x.createElement(y0e,null,r):x.createElement(v0e,Jp({ref:e},n),r)});function w0e(){var t=Ft(),[e,r]=x.useState(null),n=ye(Fse);return x.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Fn(s)&&s!==n&&t(ese(s))}},[e,t,n]),r}function xN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x0e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(r),!0).forEach(function(n){b0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b0e(t,e,r){return(e=B0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B0e(t){var e=C0e(t,"string");return typeof e=="symbol"?e:e+""}function C0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E0e=x.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:A,onMouseEnter:l,onMouseLeave:u,onMouseMove:d,onMouseUp:f,onTouchEnd:g,onTouchMove:m,onTouchStart:p,style:v,width:y}=t,w=Ft(),[B,I]=x.useState(null),[T,F]=x.useState(null);gde();var C=w0e(),_=x.useCallback(ne=>{C(ne),typeof e=="function"&&e(ne),I(ne),F(ne)},[C,e,I,F]),S=x.useCallback(ne=>{w(AH(ne)),w(jn({handler:s,reactEvent:ne}))},[w,s]),P=x.useCallback(ne=>{w(SB(ne)),w(jn({handler:l,reactEvent:ne}))},[w,l]),Q=x.useCallback(ne=>{w(X5()),w(jn({handler:u,reactEvent:ne}))},[w,u]),k=x.useCallback(ne=>{w(SB(ne)),w(jn({handler:d,reactEvent:ne}))},[w,d]),N=x.useCallback(()=>{w(hH())},[w]),ae=x.useCallback(ne=>{w(fH(ne.key))},[w]),be=x.useCallback(ne=>{w(jn({handler:a,reactEvent:ne}))},[w,a]),me=x.useCallback(ne=>{w(jn({handler:o,reactEvent:ne}))},[w,o]),pe=x.useCallback(ne=>{w(jn({handler:A,reactEvent:ne}))},[w,A]),J=x.useCallback(ne=>{w(jn({handler:f,reactEvent:ne}))},[w,f]),ie=x.useCallback(ne=>{w(jn({handler:p,reactEvent:ne}))},[w,p]),ue=x.useCallback(ne=>{w(mH(ne)),w(jn({handler:m,reactEvent:ne}))},[w,m]),Se=x.useCallback(ne=>{w(jn({handler:g,reactEvent:ne}))},[w,g]);return x.createElement(h3.Provider,{value:B},x.createElement(bR.Provider,{value:T},x.createElement("div",{className:$e("recharts-wrapper",n),style:x0e({position:"relative",cursor:"default",width:y,height:i},v),onClick:S,onContextMenu:be,onDoubleClick:me,onFocus:N,onKeyDown:ae,onMouseDown:pe,onMouseEnter:P,onMouseLeave:Q,onMouseMove:k,onMouseUp:J,onTouchEnd:Se,onTouchMove:ue,onTouchStart:ie,ref:_},r)))}),_0e=["children","className","width","height","style","compact","title","desc"];function I0e(t,e){if(t==null)return{};var r,n,i=S0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function S0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var xH=x.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:s,style:a,compact:o,title:A,desc:l}=t,u=I0e(t,_0e),d=Ls(u);return o?x.createElement(wN,{otherAttributes:d,title:A,desc:l},r):x.createElement(E0e,{className:n,style:a,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},x.createElement(wN,{otherAttributes:d,title:A,desc:l,ref:e},x.createElement(ame,null,r)))}),T0e=["width","height"];function TB(){return TB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TB.apply(null,arguments)}function F0e(t,e){if(t==null)return{};var r,n,i=U0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function U0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var P0e={top:5,right:5,bottom:5,left:5},N0e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:P0e,reverseStackOrder:!1,syncMethod:"index"},bH=x.forwardRef(function(e,r){var n,i=Qn(e.categoricalChartProps,N0e),{width:s,height:a}=i,o=F0e(i,T0e);if(!bu(s)||!bu(a))return null;var{chartName:A,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=e,g={chartName:A,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(vH,{preloadedState:{options:g},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:A},x.createElement(Y3,{chartData:f.data}),x.createElement(yH,{width:s,height:a,layout:i.layout,margin:i.margin}),x.createElement(wH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(xH,TB({},o,{width:s,height:a,ref:r})))}),Q0e=["axis"],K_=x.forwardRef((t,e)=>x.createElement(bH,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Q0e,tooltipPayloadSearcher:w_,categoricalChartProps:t,ref:e})),k0e=["axis","item"],FB=x.forwardRef((t,e)=>x.createElement(bH,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:k0e,tooltipPayloadSearcher:w_,categoricalChartProps:t,ref:e}));function O0e(t){var e=Ft();return x.useEffect(()=>{e(A0e(t))},[e,t]),null}var D0e=["width","height","layout"];function UB(){return UB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UB.apply(null,arguments)}function j0e(t,e){if(t==null)return{};var r,n,i=R0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function R0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var M0e={top:5,right:5,bottom:5,left:5},L0e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:M0e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},H0e=x.forwardRef(function(e,r){var n,i=Qn(e.categoricalChartProps,L0e),{width:s,height:a,layout:o}=i,A=j0e(i,D0e);if(!bu(s)||!bu(a))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f}=e,g={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(vH,{preloadedState:{options:g},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:l},x.createElement(Y3,{chartData:i.data}),x.createElement(yH,{width:s,height:a,layout:o,margin:i.margin}),x.createElement(wH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(O0e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(xH,UB({width:s,height:a},A,{ref:r})))}),V0e=["item"],K0e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},BH=x.forwardRef((t,e)=>{var r=Qn(t,K0e);return x.createElement(H0e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:V0e,tooltipPayloadSearcher:w_,categoricalChartProps:r,ref:e})});const $0e=({schedule:t})=>{const r=OA("班次類型分布計算",()=>{const n={early:0,middle:0,night:0,rest:0,special:0},i=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(s=>{var a;if(s!=="_lastUpdated")for(let o=1;o<=i;o++){const A=(a=t[s])==null?void 0:a[o];if(A)switch(A){case"早":n.early++;break;case"中":n.middle++;break;case"晚":n.night++;break;case"休":n.rest++;break;case"特":n.special++;break}}}),[{name:"早班",value:n.early,color:"#ec4899"},{name:"中班",value:n.middle,color:"#06b6d4"},{name:"晚班",value:n.night,color:"#3b82f6"},{name:"休假",value:n.rest,color:"#6b7280"},{name:"特休",value:n.special,color:"#f97316"}].filter(s=>s.value>0)},{logThreshold:5});return c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-6 text-green-300 text-center",children:"班次類型分布"}),c.jsx(Ca,{width:"100%",height:300,children:c.jsxs(BH,{children:[c.jsx(Q_,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:n,percent:i})=>`${n} ${(i*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((n,i)=>c.jsx(Xu,{fill:n.color},`cell-${i}`))}),c.jsx(Ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}})]})})]})},G0e=({schedule:t,names:e})=>{const r=()=>OA("班次趨勢計算",()=>{const a=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),o=[],A=new Set;Object.keys(t).forEach(u=>{var d;if(u!=="_lastUpdated")for(let f=1;f<=a;f++){const g=(d=t[u])==null?void 0:d[f];g&&A.add(g)}});const l=Array.from(A).filter(u=>u!=="休");for(let u=1;u<=a;u++){const d={date:`${u}日`};l.forEach(f=>{let g=0;Object.keys(t).forEach(m=>{var p;m!=="_lastUpdated"&&((p=t[m])==null?void 0:p[u])===f&&g++}),d[f]=g}),o.push(d)}return{data:o,availableShifts:l}},{logThreshold:5}),{data:n,availableShifts:i}=r(),s=a=>({早:"#ec4899",中:"#06b6d4",晚:"#3b82f6",特:"#f97316"})[a]||"#6b7280";return c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-6 text-blue-300 text-center",children:"班次趨勢變化"}),c.jsx(Ca,{width:"100%",height:400,children:c.jsxs(K_,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(AA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),c.jsx(Ka,{dataKey:"date",stroke:"#ffffff80",tick:{fontSize:12}}),c.jsx($a,{stroke:"#ffffff80"}),c.jsx(Ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}}),c.jsx(EA,{}),i.map(a=>c.jsx(Ea,{type:"monotone",dataKey:a,stroke:s(a),strokeWidth:2,name:a,dot:{fill:s(a),strokeWidth:2,r:3},activeDot:{r:5,stroke:s(a),strokeWidth:2}},a))]})}),c.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-5 gap-4",children:i.map(a=>c.jsxs("div",{className:"text-center p-3 bg-surface/20 rounded-lg border border-white/10",children:[c.jsx("div",{className:"text-2xl font-bold",style:{color:s(a)},children:n.reduce((o,A)=>o+(A[a]||0),0)}),c.jsxs("div",{className:"text-sm text-gray-400",children:[a,"班總計"]})]},a))})]})},z0e=({schedule:t,names:e})=>{const n=OA("班次分布計算",()=>{const i=[],s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();return Object.keys(t).forEach(a=>{var l;if(a==="_lastUpdated")return;const o=e[a]||a,A={early:0,middle:0,night:0,rest:0,special:0};for(let u=1;u<=s;u++){const d=(l=t[a])==null?void 0:l[u];if(d)switch(d){case"早":A.early++;break;case"中":A.middle++;break;case"晚":A.night++;break;case"休":A.rest++;break;case"特":A.special++;break}}i.push({name:o,...A})}),i.sort((a,o)=>{var u,d;const A=parseInt(((u=a.name.match(/\d+/))==null?void 0:u[0])||"0"),l=parseInt(((d=o.name.match(/\d+/))==null?void 0:d[0])||"0");return A-l})},{logThreshold:5});return c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-6 text-purple-300 text-center",children:"各同事班次分布"}),c.jsx(Ca,{width:"100%",height:400,children:c.jsxs(FB,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(AA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),c.jsx(Ka,{dataKey:"name",stroke:"#ffffff80"}),c.jsx($a,{stroke:"#ffffff80"}),c.jsx(Ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}}),c.jsx(EA,{}),c.jsx(ga,{dataKey:"early",stackId:"a",fill:"#ec4899",name:"早班"}),c.jsx(ga,{dataKey:"middle",stackId:"a",fill:"#06b6d4",name:"中班"}),c.jsx(ga,{dataKey:"night",stackId:"a",fill:"#3b82f6",name:"晚班"}),c.jsx(ga,{dataKey:"rest",stackId:"a",fill:"#6b7280",name:"休假"}),c.jsx(ga,{dataKey:"special",stackId:"a",fill:"#f97316",name:"特休"})]})})]})};function W0e({schedule:t,names:e}){const r=fR();return lA.useEffect(()=>{r()}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[c.jsx($0e,{schedule:t}),c.jsx(G0e,{schedule:t,names:e}),c.jsx("div",{className:"lg:col-span-2",children:c.jsx(z0e,{schedule:t,names:e})})]})}x.lazy(()=>ds(()=>import("./ChartAnalysis-Dja1gN80.js"),[]));const Ti=["7-11 新街門市","A21 環北站","7-11 高萱門市","A18 桃園高鐵站","A16 橫山站","大園農會","不搭車"],bN={"A21 環北站":{name:"A21 環北站",originalPrice:65,monthlyPass:{30:1260,90:3564,120:3888}},"A19 體育園區站":{name:"A19 體育園區站",originalPrice:40,monthlyPass:{30:735,90:2079,120:2268}},"7-11 高萱門市":{name:"A19 體育園區站",originalPrice:40,monthlyPass:{30:735,90:2079,120:2268}},"A18 桃園高鐵站":{name:"A18 桃園高鐵站",originalPrice:35,monthlyPass:{30:630,90:1782,120:1944}}},Y0e={name:"TPass 799",price:799,days:30,description:"A7-A22 無限搭乘 30天"},Mw={K:"早",L:"中",Y:"晚",A:"晚",月休:"休",SS:"特",R:"休",KK:"早",LL:"中",YY:"晚",早班:"早",中班:"中",晚班:"晚"},Qc={早:"#ec4899",中:"#06b6d4",晚:"#3b82f6",休:"#6b7280",特:"#f97316"},Ug=(t=[])=>{const e=[],r=new Date,n=r.getFullYear(),i=r.getMonth()+1,s=`${n}-${i.toString().padStart(2,"0")}`;return t.length>0?t.sort((o,A)=>A.key.localeCompare(o.key)).forEach(o=>{let A=o.label;o.key===s&&(A+=" (當月)"),e.push({key:o.key,label:A,year:parseInt(o.key.split("-")[0]),month:parseInt(o.key.split("-")[1]),lastUpdated:o.lastUpdated})}):e.push({key:s,label:`${n}年${i}月 (當月)`,year:n,month:i}),e},X0e=()=>{const t=[],e=new Date;for(let s=12;s>=1;s--){const a=new Date(e.getFullYear(),e.getMonth()-s,1),o=a.getFullYear(),A=a.getMonth()+1,l=`${o}-${A.toString().padStart(2,"0")}`,u=`${o}年${A}月`;t.push({key:l,label:u,year:o,month:A})}const r=e.getFullYear(),n=e.getMonth()+1,i=`${r}-${n.toString().padStart(2,"0")}`;t.push({key:i,label:`${r}年${n}月 (當月)`,year:r,month:n});for(let s=1;s<=6;s++){const a=new Date(e.getFullYear(),e.getMonth()+s,1),o=a.getFullYear(),A=a.getMonth()+1,l=`${o}-${A.toString().padStart(2,"0")}`;let u=`${o}年${A}月`;s===1&&(u+=" (下個月)"),t.push({key:l,label:u,year:o,month:A})}return t};function q0e(){const[t,e]=x.useState("display"),[r,n]=x.useState({}),[i,s]=x.useState({}),[a,o]=x.useState(()=>{const O=new Date,R=O.getFullYear(),Z=O.getMonth()+1;return`${R}-${Z.toString().padStart(2,"0")}`}),[A,l]=x.useState({}),[u,d]=x.useState({}),[f,g]=x.useState([]);x.useState(!1);const[m,p]=x.useState({}),[v,y]=x.useState({}),[w,B]=x.useState("date"),[I,T]=x.useState("all"),[F,C]=x.useState(null),[_,S]=x.useState("week1"),[P,Q]=x.useState(null),[k,N]=x.useState(null),[ae,be]=x.useState([]),[me,pe]=x.useState({start:1,end:31}),[J,ie]=x.useState([]),[ue,Se]=x.useState("charts"),[ne,Pe]=x.useState("chart"),[Ye,D]=x.useState(null),[V,j]=x.useState({startDate:null,endDate:null}),[Y,M]=x.useState(!1),[G,W]=x.useState({statistics:!1,charts:!1,export:!1,import:!1}),[L,Be]=x.useState(""),[we,Qe]=x.useState(null),[ze,zt]=x.useState("");x.useState("current");const[zi,qu]=x.useState(""),[zs,Ju]=x.useState("import"),[LA,Ws]=x.useState({id:"",name:"",pickupLocation:Ti[0]});x.useEffect(()=>{xo(),Zu()},[]),x.useEffect(()=>{if(f.length>0){const O=new Date,R=O.getFullYear(),Z=O.getMonth()+1,X=`${R}-${Z.toString().padStart(2,"0")}`;if(f.some(oe=>oe.key===X))o(X);else{const oe=f[0];oe&&o(oe.key)}}},[f]),x.useEffect(()=>{ue==="charts"?N(null):ue==="overlap"&&Q(null)},[ue]),x.useEffect(()=>{const O=tf(Fi(or,"schedule","currentMonth"),Z=>{if(Z.exists()){const X=Z.data();n(X),l(ee=>({...ee,current:X._lastUpdated}))}}),R=tf(Fi(or,"schedule","nextMonth"),Z=>{if(Z.exists()){const X=Z.data();s(X),l(ee=>({...ee,next:X._lastUpdated}))}});return()=>{O(),R()}},[]);const xo=async()=>{try{const O=await md(hd(or,"schedule")),R={},Z=[];O.forEach(ee=>{const oe=ee.data();R[ee.id]=oe,ee.id.match(/^\d{4}-\d{2}$/)&&Z.push({key:ee.id,label:`${ee.id.split("-")[0]}年${ee.id.split("-")[1]}月`,lastUpdated:oe._lastUpdated})}),d(R),g(Z.sort((ee,oe)=>oe.key.localeCompare(ee.key)));const X={};R.currentMonth&&(n(R.currentMonth),X.current=R.currentMonth._lastUpdated),R.nextMonth&&(s(R.nextMonth),X.next=R.nextMonth._lastUpdated),Z.forEach(ee=>{X[ee.key]=ee.lastUpdated}),l(X)}catch(O){console.error("載入班表資料失敗:",O)}},Zu=async()=>{try{const O=await md(hd(or,"names")),R={};O.forEach(ee=>{R[ee.id]=ee.data().name}),p(R);const Z=await md(hd(or,"pickupLocations")),X={};Z.forEach(ee=>{X[ee.id]=ee.data().location}),y(X)}catch(O){console.error("載入同事資料失敗:",O)}},ir=async()=>{try{for(const[O,R]of Object.entries(m))await $o(Fi(or,"names",O),{name:R});for(const[O,R]of Object.entries(v))await $o(Fi(or,"pickupLocations",O),{location:R});alert("同事資料已儲存")}catch(O){console.error("儲存同事資料失敗:",O),alert("儲存失敗")}},fr=()=>{confirm("確定要清空所有同事資料嗎？")&&(p({}),y({}))},HA=()=>{const{id:O,name:R,pickupLocation:Z}=LA;if(!O||!R){alert("請填寫職員編號和姓名");return}if(m[O]){alert("職員編號已存在");return}p(X=>({...X,[O]:R})),y(X=>({...X,[O]:Z})),Ws({id:"",name:"",pickupLocation:Ti[0]})},rh=O=>{confirm(`確定要刪除 ${m[O]} 嗎？`)&&(p(R=>{const Z={...R};return delete Z[O],Z}),y(R=>{const Z={...R};return delete Z[O],Z}))},nh=(O,R)=>{p(Z=>({...Z,[O]:R}))},Xv=(O,R)=>{y(Z=>({...Z,[O]:R}))},bo=()=>{if(!L.trim()){zt("請輸入資料");return}try{const O=L.trim().split(`
`),R={};let Z=null,X=0;for(const ee of O){if(X++,!ee.trim())continue;console.log(`處理第 ${X} 行:`,ee);const oe=ee.split("	");if(console.log("分割後的欄位:",oe),X<=2){console.log("跳過標題行或日期行");continue}const _e=oe[0].trim(),He=oe[1].trim();if(_e&&He&&_e.match(/^A\d+$/)&&(console.log("發現同事資料行:",_e,He),oe[2]&&oe[2].trim()==="班別排班")){Z={id:_e,name:He,schedule:[]};const je=oe.slice(3);console.log("班表資料:",je);const Te=je.map(ai=>{const lt=ai.trim();return lt?Mw[lt]?Mw[lt]:lt:""});console.log("處理後的班表:",Te);const Et=He.replace(/\d+/g,"").trim();R[_e]={name:Et,schedule:Te}}}Qe(R),zt("")}catch{zt("解析資料時發生錯誤")}},ih=async()=>{if(!we){alert("請先解析資料");return}if(!zi){alert("請選擇要儲存的月份");return}try{const O={};for(const[R,Z]of Object.entries(we)){if(!R||R.trim()===""){console.warn("跳過空的職員編號");continue}O[R]={},Z.schedule.forEach((X,ee)=>{const oe=`${ee+1}`;X&&X.trim()&&(O[R][oe]=X)}),console.log(`同事 ${R}: ${Object.keys(O[R]).length} 個班次`)}O._lastUpdated=new Date().toISOString(),console.log("準備上傳資料:",O),console.log("資料結構檢查:");for(const[R,Z]of Object.entries(O))R!=="_lastUpdated"&&console.log(`- ${R}: ${Object.keys(Z).length} 個班次`);await $o(Fi(or,"schedule",zi),O),console.log("班表上傳成功");for(const[R,Z]of Object.entries(we))if(!m[R])try{await $o(Fi(or,"names",R),{name:Z.name}),console.log(`同事 ${R} 姓名已更新`)}catch(X){console.warn(`更新同事 ${R} 姓名失敗:`,X)}await xo(),alert(`班表已成功儲存到 ${zi}！`),Be(""),Qe(null),qu("")}catch(O){console.error("上傳班表失敗:",O);let R="上傳失敗";O.code==="permission-denied"?R="權限不足，請檢查 Firebase 安全規則":O.code==="unavailable"?R="網路連線問題，請檢查網路連線":O.message&&(R=`上傳失敗: ${O.message}`),alert(R)}},VA=()=>{let O;a==="current"?O=r:a==="next"?O=i:O=u[a]||{};const R=Object.keys(O).filter(ee=>ee!=="_lastUpdated"),Z=(ee,oe)=>{var je,Te;const _e=parseInt(((je=ee.match(/\d+/))==null?void 0:je[0])||"0"),He=parseInt(((Te=oe.match(/\d+/))==null?void 0:Te[0])||"0");return _e-He};let X=R;return F?X=[F]:J.length>0&&(X=J),X.sort(Z)},Ct=()=>a==="current"?r:a==="next"?i:u[a]||{},qv=O=>{if(!O)return null;const R={totalMonths:0,totalShifts:0,earlyShifts:0,midShifts:0,nightShifts:0,restDays:0,specialShifts:0,averageShiftsPerMonth:0,averageEarlyPerMonth:0,averageMidPerMonth:0,averageNightPerMonth:0,averageRestPerMonth:0,averageSpecialPerMonth:0};return Object.keys(u).forEach(Z=>{if(Z==="_lastUpdated")return;const ee=u[Z][O];ee&&(R.totalMonths++,Object.keys(ee).forEach(oe=>{if(oe==="_lastUpdated")return;const _e=ee[oe];if(_e)switch(R.totalShifts++,_e){case"早":R.earlyShifts++;break;case"中":R.midShifts++;break;case"晚":R.nightShifts++;break;case"休":R.restDays++;break;case"特":R.specialShifts++;break}}))}),R.totalMonths>0&&(R.averageShiftsPerMonth=Math.round(R.totalShifts/R.totalMonths),R.averageEarlyPerMonth=Math.round(R.earlyShifts/R.totalMonths),R.averageMidPerMonth=Math.round(R.midShifts/R.totalMonths),R.averageNightPerMonth=Math.round(R.nightShifts/R.totalMonths),R.averageRestPerMonth=Math.round(R.restDays/R.totalMonths),R.averageSpecialPerMonth=Math.round(R.specialShifts/R.totalMonths)),R},Jv=()=>new Date().getDate(),KA=O=>{const R=new Date,Z=[];for(let X=0;X<O;X++){const ee=new Date(R);ee.setDate(R.getDate()+X),Z.push(ee.getDate())}return Z},Bo=()=>{switch(I){case"today":return[Jv()];case"3days":return KA(3);case"7days":return KA(7);case"custom":return Array.from({length:me.end-me.start+1},(X,ee)=>me.start+ee);default:let O,R;if(a==="current"){const X=new Date;O=X.getFullYear(),R=X.getMonth()+1}else if(a==="next"){const X=new Date;O=X.getFullYear(),R=X.getMonth()+2}else{const[X,ee]=a.split("-");O=parseInt(X),R=parseInt(ee)}const Z=new Date(O,R,0).getDate();return Array.from({length:Z},(X,ee)=>ee+1)}},sh=O=>{const R=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),Z=1,X=R;if(!O||!v[O])return null;const ee=v[O];if(ee==="不搭車"||!bN[ee])return null;const _e=Ct()[O];if(!_e)return null;let He=0,je=0;for(let Xs=Z;Xs<=X;Xs++){const un=_e[Xs];un&&un!=="休"&&un!=="特"&&(je++,un==="早"?He+=1:(un==="中"||un==="晚")&&(He+=2))}if(He===0)return null;const Te=bN[ee],Et=He*Te.originalPrice,ai=Math.ceil(Et*.7),lt=[];Object.entries(Te.monthlyPass).forEach(([Xs,un])=>{const zA=parseInt(Xs),WA=un,oh=un/(zA/30);lt.push({days:zA,price:un,totalCost:WA,averagePricePerMonth:oh,savings:Et-WA})});const ln=Y0e.price,Ys=ln/30,jr=Math.ceil((ln-Et)/Te.originalPrice),Ci=()=>Et>=ln?{type:"recommended",text:"TPass比原價划算，強烈推薦！"}:jr<=5?{type:"consider",text:`只需額外搭乘${jr}次即可回本，建議考慮`}:jr<=10?{type:"maybe",text:`需要額外搭乘${jr}次才回本，可考慮其他方案`}:{type:"not-recommended",text:`需要額外搭乘${jr}次才回本，不建議`};return{employeeId:O,employeeName:m[O]||O,location:ee,workDays:je,totalTrips:He,originalTotal:Et,citizenCardTotal:ai,monthlyPassOptions:lt,tpassTotal:ln,tpassDailyCost:Ys,breakEvenTrips:jr,tpassRecommendation:Ci(),recommendations:[]}},Co=()=>{const O=GA();O&&(document.body.appendChild(O),setTimeout(()=>{dR(O,{backgroundColor:"#ffffff",scale:2,useCORS:!0,allowTaint:!0}).then(R=>{const Z=document.createElement("a");Z.download=`乘車表_${a==="current"?"當月":"下個月"}_${new Date().toISOString().split("T")[0]}.png`,Z.href=R.toDataURL(),Z.click(),document.body.removeChild(O)}).catch(R=>{console.error("匯出失敗:",R),document.body.removeChild(O)})},500))},ec=()=>{const O=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),R=[];for(let Z=1;Z<=Math.ceil(O/7);Z++){const X=(Z-1)*7+1,ee=Math.min(Z*7,O);R.push(c.jsxs("option",{value:`week${Z}`,children:[new Date().getMonth()+1,"月",X,"日 - ",new Date().getMonth()+1,"月",ee,"日"]},`week${Z}`))}return R},$A=x.useCallback(()=>{const O=Ct();let R,Z;if(Y&&V.startDate&&V.endDate){if(R=V.startDate.getDate(),Z=V.endDate.getDate(),R>Z){alert("開始日期不能大於結束日期");return}const ee=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();if(R<1||Z>ee){alert(`日期範圍必須在 1-${ee} 之間`);return}}else{const ee=parseInt(_.replace("week",""));R=(ee-1)*7+1,Z=Math.min(ee*7,new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate())}let X="";for(let ee=R;ee<=Z;ee++){const oe={};Object.keys(O).forEach(_e=>{var Te;if(_e==="_lastUpdated")return;const He=v[_e];if(!He||He==="不搭車")return;((Te=O[_e])==null?void 0:Te[ee])==="早"&&(oe[He]=(oe[He]||0)+1)}),X+=`${new Date().getMonth()+1}/${ee}
`,Object.keys(oe).length>0&&["A21 環北站","7-11 高萱門市","7-11 新街門市","A18 桃園高鐵站"].forEach(He=>{oe[He]&&(X+=`${He}${oe[He]}人
`)}),X+=`
`}navigator.clipboard.writeText(X.trim()).then(()=>{alert("Line 群文字已複製到剪貼簿！")}).catch(()=>{prompt("請複製以下文字：",X.trim())})},[Y,V,_,v]),Wi=()=>{const O=Ct(),R={};Object.keys(O).forEach(X=>{X!=="_lastUpdated"&&(R[X]={})});const Z=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let X=1;X<=Z;X++){const ee={};Object.keys(O).forEach(oe=>{var He;if(oe==="_lastUpdated")return;const _e=(He=O[oe])==null?void 0:He[X];_e&&_e!=="休"&&(ee[_e]||(ee[_e]=[]),ee[_e].push(oe))}),Object.keys(ee).forEach(oe=>{const _e=ee[oe];for(let He=0;He<_e.length;He++)for(let je=He+1;je<_e.length;je++){const Te=_e[He],Et=_e[je];R[Te][Et]||(R[Te][Et]=0),R[Et][Te]||(R[Et][Te]=0),R[Te][Et]++,R[Et][Te]++}}),ee.早&&ee.中&&ee.早.forEach(oe=>{ee.中.forEach(_e=>{R[oe][_e]||(R[oe][_e]=0),R[_e][oe]||(R[_e][oe]=0),R[oe][_e]++,R[_e][oe]++})}),ee.中&&ee.晚&&ee.中.forEach(oe=>{ee.晚.forEach(_e=>{R[oe][_e]||(R[oe][_e]=0),R[_e][oe]||(R[_e][oe]=0),R[oe][_e]++,R[_e][oe]++})})}return R},ah=O=>{const Z=Wi()[O]||{};return Object.entries(Z).map(([X,ee])=>({employeeId:X,name:m[X]||X,count:ee})).sort((X,ee)=>ee.count-X.count).filter(X=>X.count>0)},GA=()=>{const O=Ct(),R=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),Z={};for(let je=1;je<=R;je++)Z[je]={},Ti.forEach(Te=>{Z[je][Te]=0});Object.keys(O).forEach(je=>{var Et;if(je==="_lastUpdated")return;const Te=v[je];if(!(!Te||Te==="不搭車"))for(let ai=1;ai<=R;ai++)((Et=O[je])==null?void 0:Et[ai])==="早"&&Z[ai][Te]++});const X=document.createElement("div");X.style.cssText=`
      position: fixed;
      top: -9999px;
      left: -9999px;
      width: 1200px;
      background: white;
      padding: 40px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      color: #333;
    `;const ee=document.createElement("h1");ee.textContent=`${new Date().getFullYear()}年${new Date().getMonth()+1}月 乘車統計表`,ee.style.cssText=`
      text-align: center;
      font-size: 32px;
      font-weight: bold;
      margin-bottom: 30px;
      color: #2c3e50;
    `,X.appendChild(ee);const oe=document.createElement("div");oe.style.cssText=`
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
      margin-top: 20px;
    `,["日","一","二","三","四","五","六"].forEach(je=>{const Te=document.createElement("div");Te.textContent=je,Te.style.cssText=`
        text-align: center;
        font-weight: bold;
        font-size: 18px;
        padding: 15px 10px;
        background: #f8f9fa;
        border-radius: 8px;
        color: #495057;
      `,oe.appendChild(Te)});const He=new Date(new Date().getFullYear(),new Date().getMonth(),1).getDay();for(let je=0;je<He;je++){const Te=document.createElement("div");Te.style.cssText=`
        height: 120px;
        background: #f8f9fa;
        border-radius: 8px;
      `,oe.appendChild(Te)}for(let je=1;je<=R;je++){const Te=document.createElement("div");Te.style.cssText=`
        height: 120px;
        border: 2px solid #e9ecef;
        border-radius: 8px;
        padding: 8px;
        background: white;
        position: relative;
      `;const Et=document.createElement("div");if(Et.textContent=je,Et.style.cssText=`
        font-size: 16px;
        font-weight: bold;
        color: #495057;
        margin-bottom: 8px;
        text-align: center;
      `,Te.appendChild(Et),Ti.some(lt=>{var ln;return lt!=="不搭車"&&((ln=Z[je])==null?void 0:ln[lt])>0}))Ti.filter(lt=>lt!=="不搭車").forEach(lt=>{var Ys;const ln=((Ys=Z[je])==null?void 0:Ys[lt])||0;if(ln>0){const jr=document.createElement("div");jr.style.cssText=`
               font-size: 12px;
               margin: 2px 0;
               color: #333;
               text-align: center;
             `,jr.textContent=`${lt}: ${ln}人`,Te.appendChild(jr)}});else{const lt=document.createElement("div");lt.textContent="無乘車",lt.style.cssText=`
           font-size: 12px;
           color: #6c757d;
           text-align: center;
           margin-top: 20px;
         `,Te.appendChild(lt)}oe.appendChild(Te)}return X.appendChild(oe),X};return c.jsxs("div",{className:"container-custom py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"班表管理工具"}),c.jsx("p",{className:"text-center text-text-secondary",children:"早班好"})]}),c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx("div",{className:"bg-surface/40 rounded-xl p-1 border border-white/10 w-full max-w-4xl",children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-1",children:[c.jsxs("button",{onClick:()=>e("display"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="display"?"bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-blue-400 border border-blue-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[c.jsx(vd,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"顯示班表"}),c.jsx("span",{className:"sm:hidden",children:"班表"})]}),c.jsxs("button",{onClick:()=>e("transport"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="transport"?"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 text-yellow-400 border border-yellow-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[c.jsx(hX,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"交通及車費試算"}),c.jsx("span",{className:"sm:hidden",children:"交通"})]}),c.jsxs("button",{onClick:()=>e("statistics"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="statistics"?"bg-gradient-to-r from-purple-500/20 to-pink-500/20 text-purple-400 border border-purple-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[c.jsx(oj,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"統計功能"}),c.jsx("span",{className:"sm:hidden",children:"統計"})]}),c.jsxs("button",{onClick:()=>e("import"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="import"?"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-400 border border-green-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[c.jsx(Kh,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"匯入與轉換班表"}),c.jsx("span",{className:"sm:hidden",children:"匯入"})]})]})})}),t==="display"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 md:p-6 lg:p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"月份"}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:a,onChange:O=>o(O.target.value),className:"w-full px-3 py-2 md:px-4 md:py-3 bg-white/10 border border-white/20 rounded-xl focus:border-blue-400/50 focus:bg-white/20 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200 appearance-none cursor-pointer text-sm md:text-base",children:Ug(f).map(O=>c.jsx("option",{value:O.key,children:O.label},O.key))}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"顯示模式"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:w,onChange:O=>B(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"date",children:"日期視圖"}),c.jsx("option",{value:"employee",children:"同事視圖"}),c.jsx("option",{value:"partner",children:"搭班視圖"})]}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-green-300 group-hover:text-green-200 transition-colors",children:"篩選"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:I,onChange:O=>T(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-green-400/50 focus:bg-white/20 focus:ring-2 focus:ring-green-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"all",children:"全部"}),c.jsx("option",{value:"today",children:"今天"}),c.jsx("option",{value:"3days",children:"接下來 3 天"}),c.jsx("option",{value:"7days",children:"接下來 7 天"}),c.jsx("option",{value:"custom",children:"自定義範圍"})]}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300 group-hover:text-orange-200 transition-colors",children:"選擇同事"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:F||"",onChange:O=>C(O.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-orange-400/50 focus:bg-white/20 focus:ring-2 focus:ring-orange-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"",children:"顯示所有同事"}),Object.keys(Ct()).filter(O=>O!=="_lastUpdated").sort((O,R)=>{var ee,oe;const Z=parseInt(((ee=O.match(/\d+/))==null?void 0:ee[0])||"0"),X=parseInt(((oe=R.match(/\d+/))==null?void 0:oe[0])||"0");return Z-X}).map(O=>c.jsx("option",{value:O,children:m[O]||O},O))]}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),A[a]&&c.jsx("div",{className:"mt-6 flex items-center justify-center",children:c.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-surface/30 rounded-full border border-white/10",children:[c.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsxs("span",{className:"text-sm text-gray-300",children:["最後更新：",new Date(A[a]).toLocaleString()]})]})})]}),(I==="custom"||ae.length>0||J.length>0)&&c.jsxs("div",{className:"bg-gradient-to-br from-surface/50 to-surface/30 rounded-2xl p-4 md:p-6 border border-white/15 shadow-lg backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-semibold mb-4 text-cyan-300",children:"進階篩選"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[I==="custom"&&c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-cyan-300",children:"日期範圍"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"number",min:"1",max:"31",value:me.start,onChange:O=>pe(R=>({...R,start:parseInt(O.target.value)})),className:"w-1/2 px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:border-cyan-400/50 focus:bg-white/20 text-sm",placeholder:"開始日期"}),c.jsx("span",{className:"text-gray-400 self-center",children:"至"}),c.jsx("input",{type:"number",min:"1",max:"31",value:me.end,onChange:O=>pe(R=>({...R,end:parseInt(O.target.value)})),className:"w-1/2 px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:border-cyan-400/50 focus:bg-white/20 text-sm",placeholder:"結束日期"})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-pink-300",children:"班次篩選"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:["早","中","晚","休","特"].map(O=>c.jsx("button",{onClick:()=>{ae.includes(O)?be(R=>R.filter(Z=>Z!==O)):be(R=>[...R,O])},className:`px-3 py-1 rounded-lg text-xs font-medium transition-all ${ae.includes(O)?"bg-pink-500 text-white border border-pink-400":"bg-white/10 text-gray-300 border border-white/20 hover:bg-white/20"}`,children:O},O))})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300",children:"多同事選擇"}),c.jsx("div",{className:"max-h-32 overflow-y-auto",children:Object.keys(Ct()).filter(O=>O!=="_lastUpdated").sort((O,R)=>{var ee,oe;const Z=parseInt(((ee=O.match(/\d+/))==null?void 0:ee[0])||"0"),X=parseInt(((oe=R.match(/\d+/))==null?void 0:oe[0])||"0");return Z-X}).map(O=>c.jsxs("label",{className:"flex items-center gap-2 mb-1 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:J.includes(O),onChange:R=>{R.target.checked?ie(Z=>[...Z,O]):ie(Z=>Z.filter(X=>X!==O))},className:"w-4 h-4 text-orange-500 bg-white/10 border-white/20 rounded focus:ring-orange-400/50"}),c.jsx("span",{className:"text-sm text-gray-300",children:m[O]||O})]},O))})]})]}),c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx("button",{onClick:()=>{be([]),ie([]),pe({start:1,end:31}),T("all")},className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-300 rounded-lg transition-all text-sm",children:"清除所有篩選"})})]}),c.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:w==="date"?c.jsx(J0e,{schedule:Ct(),names:m,displayDates:Bo(),filteredEmployees:VA(),selectedShifts:ae}):w==="employee"?c.jsx(Z0e,{schedule:Ct(),names:m,displayDates:Bo(),filteredEmployees:VA(),selectedShifts:ae}):w==="partner"?c.jsx(ove,{schedule:Ct(),names:m,displayDates:Bo(),selectedEmployee:F}):c.jsx(nve,{schedule:Ct(),names:m,displayDates:Bo(),filteredEmployees:VA(),selectedShifts:ae})})]}),t==="transport"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-surface/60 rounded-2xl p-2 border border-white/20",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>Pe("chart"),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${ne==="chart"?"bg-blue-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"乘車表"}),c.jsx("button",{onClick:()=>Pe("fare"),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${ne==="fare"?"bg-purple-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"車費試算"})]})}),ne==="chart"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-yellow-300 group-hover:text-yellow-200 transition-colors",children:"月份"}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:a,onChange:O=>o(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-yellow-400/50 focus:bg-white/20 focus:ring-2 focus:ring-yellow-400/20 transition-all duration-200 appearance-none cursor-pointer",children:Ug(f).map(O=>c.jsx("option",{value:O.key,children:O.label},O.key))}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-yellow-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300 group-hover:text-orange-200 transition-colors",children:"匯出"}),c.jsxs("button",{onClick:()=>Co(),className:"w-full px-4 py-3 bg-gradient-to-r from-blue-500/20 to-purple-500/20 hover:from-blue-500/30 hover:to-purple-500/30 border border-blue-400/30 text-blue-300 rounded-xl transition-all duration-200 font-medium",children:[c.jsx(Kh,{className:"w-4 h-4 inline mr-2"}),"匯出乘車表"]})]})]})}),c.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[c.jsx("h3",{className:"text-lg font-bold text-green-300",children:"乘車文字生成"}),c.jsxs("div",{className:"text-sm text-gray-400",children:["更新時間: ",A[a]?new Date(A[a]).toLocaleString():"無資料"]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex space-x-2 mb-4",children:[c.jsx("button",{onClick:()=>M(!1),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${Y?"bg-white/10 text-gray-300 hover:bg-white/20":"bg-green-500/20 text-green-300 border border-green-400/30"}`,children:"週次選擇"}),c.jsx("button",{onClick:()=>M(!0),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${Y?"bg-green-500/20 text-green-300 border border-green-400/30":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"指定日期範圍"})]}),!Y&&c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("select",{value:_,onChange:O=>S(O.target.value),className:"flex-1 px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-green-400/50 focus:bg-white/20 focus:ring-2 focus:ring-green-400/20 transition-all duration-200 appearance-none cursor-pointer",children:ec()}),c.jsxs("button",{onClick:()=>$A(),className:"px-6 py-3 bg-gradient-to-r from-green-500/20 to-teal-500/20 hover:from-green-500/30 hover:to-teal-500/30 border border-green-400/30 text-green-300 rounded-xl transition-all duration-200 font-medium whitespace-nowrap",children:[c.jsx(fb,{className:"w-4 h-4 inline mr-2"}),"生成"]})]}),Y&&c.jsxs("div",{className:"space-y-4",children:[c.jsx(nre,{startDate:V.startDate,endDate:V.endDate,onStartDateSelect:O=>j(R=>({...R,startDate:O})),onEndDateSelect:O=>j(R=>({...R,endDate:O}))}),c.jsxs("button",{onClick:()=>$A(),className:"w-full px-6 py-3 bg-gradient-to-r from-green-500/20 to-teal-500/20 hover:from-green-500/30 hover:to-teal-500/30 border border-green-400/30 text-green-300 rounded-xl transition-all duration-200 font-medium",children:[c.jsx(fb,{className:"w-4 h-4 inline mr-2"}),"生成乘車文字"]})]})]})]})})]}),c.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:c.jsx(eve,{schedule:Ct(),names:m,pickupLocations:v})})]}),ne==="fare"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"月份"}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:a,onChange:O=>o(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:Ug(f).map(O=>c.jsx("option",{value:O.key,children:O.label},O.key))}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"選擇同事"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:Ye||"",onChange:O=>D(O.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-blue-400/50 focus:bg-white/20 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"",children:"請選擇同事"}),Object.keys(Ct()).filter(O=>O!=="_lastUpdated").sort((O,R)=>{var ee,oe;const Z=parseInt(((ee=O.match(/\d+/))==null?void 0:ee[0])||"0"),X=parseInt(((oe=R.match(/\d+/))==null?void 0:oe[0])||"0");return Z-X}).map(O=>c.jsx("option",{value:O,children:m[O]||O},O))]}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]})}),c.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:c.jsx(ave,{schedule:Ct(),names:m,pickupLocations:v,selectedEmployee:Ye,calculateFare:sh})})]})]}),t==="statistics"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"月份"}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:a,onChange:O=>o(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:Ug(f).map(O=>c.jsx("option",{value:O.key,children:O.label},O.key))}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"統計類型"}),c.jsx("div",{className:"bg-surface/40 rounded-xl p-1 border border-white/10",children:c.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[c.jsx("button",{onClick:()=>Se("charts"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${ue==="charts"?"bg-green-500/20 text-green-300 border border-green-400/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"圖表分析"}),c.jsx("button",{onClick:()=>Se("overlap"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${ue==="overlap"?"bg-blue-500/20 text-blue-300 border border-blue-400/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"搭班統計表"})]})})]}),c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-gray-300 group-hover:text-gray-200 transition-colors",children:"更新時間"}),c.jsx("div",{className:"px-4 py-3 bg-surface/30 rounded-xl border border-white/10",children:c.jsx("span",{className:"text-sm text-gray-300",children:A[a]?new Date(A[a]).toLocaleString():"無資料"})})]})]})}),ue==="overlap"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 md:p-6 lg:p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsxs("div",{className:"flex items-center justify-center mb-6 md:mb-8",children:[c.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 lg:w-12 lg:h-12 rounded-full bg-blue-500/20 border border-blue-400/30 flex items-center justify-center mr-2 md:mr-3",children:c.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),c.jsx("h3",{className:"text-lg md:text-xl lg:text-2xl font-bold text-blue-300",children:"搭班統計表"})]}),c.jsx(tve,{schedule:Ct(),names:m,onEmployeeClick:N})]}),k&&c.jsx(rve,{employeeId:k,employeeName:m[k]||k,ranking:ah(k),onClose:()=>N(null)})]}),ue==="charts"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx(ure,{schedule:Ct(),names:m,loadingStates:G,selectedEmployee:F,allSchedules:u,selectedMonth:a}),c.jsx(W0e,{schedule:Ct(),names:m}),c.jsx(ive,{schedule:Ct(),names:m}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-300 text-center",children:"個人統計儀表板"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300",children:"選擇同事"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:P||"",onChange:O=>Q(O.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[c.jsx("option",{value:"",children:"請選擇一個同事查看個人統計"}),Object.keys(Ct()).filter(O=>O!=="_lastUpdated").sort((O,R)=>{var ee,oe;const Z=parseInt(((ee=O.match(/\d+/))==null?void 0:ee[0])||"0"),X=parseInt(((oe=R.match(/\d+/))==null?void 0:oe[0])||"0");return Z-X}).map(O=>c.jsx("option",{value:O,children:m[O]||O},O))]}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:c.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsx(sve,{schedule:Ct(),names:m,selectedEmployee:P,crossMonthStats:qv(P),selectedMonth:a})]})]})]}),t==="import"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx("div",{className:"bg-surface/40 rounded-xl p-1 border border-white/10 w-full max-w-2xl",children:c.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[c.jsxs("button",{onClick:()=>Ju("import"),className:`px-6 py-3 rounded-lg transition-all text-sm md:text-base ${zs==="import"?"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-400 border border-green-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[c.jsx(Kh,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-2"}),"匯入班表"]}),c.jsxs("button",{onClick:()=>Ju("manage"),className:`px-6 py-3 rounded-lg transition-all text-sm md:text-base ${zs==="manage"?"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 text-blue-400 border border-blue-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[c.jsx(vd,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-2"}),"月份管理"]})]})})}),zs==="import"&&c.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-green-300",children:"匯入班表"}),c.jsxs("div",{className:"mb-6 p-4 bg-surface/40 rounded-lg border border-white/10",children:[c.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-300",children:"班別代碼說明"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:Object.entries(Mw).map(([O,R])=>c.jsxs("div",{className:"flex items-center gap-2 p-2 bg-surface/20 rounded border border-white/10",children:[c.jsx("span",{className:"font-mono bg-white/10 px-2 py-1 rounded text-green-300 font-medium",children:O}),c.jsxs("span",{className:"text-gray-300 font-medium",children:["= ",R]})]},O))})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold mb-2",children:"目標月份"}),c.jsxs("select",{value:zi,onChange:O=>qu(O.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-green-400/50 focus:bg-white/10",children:[c.jsx("option",{value:"",children:"請選擇月份"}),X0e().map(O=>c.jsx("option",{value:O.key,children:O.label},O.key))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Excel 資料"}),c.jsx("textarea",{value:L,onChange:O=>Be(O.target.value),placeholder:"從 Excel 複製資料並貼上這裡...",className:"w-full h-32 px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-green-400/50 focus:bg-white/10 resize-none"})]})]}),ze&&c.jsx("div",{className:"mt-6 p-4 bg-red-600/20 border border-red-500/30 rounded-xl text-red-300 font-medium",children:ze}),c.jsxs("div",{className:"mt-4 flex gap-3",children:[c.jsx("button",{onClick:bo,className:"px-6 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-300 rounded-lg transition-all font-medium",children:"解析資料"}),we&&c.jsx("button",{onClick:ih,className:"px-6 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-300 rounded-lg transition-all font-medium",children:"上傳班表"})]}),we&&c.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-300",children:"預覽表格"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0,border:"none"},children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[c.jsx("th",{className:"text-left p-3 text-blue-300 font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"職員編號"}),c.jsx("th",{className:"text-left p-3 text-purple-300 font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"姓名"}),Array.from({length:31},(O,R)=>c.jsx("th",{className:"text-center p-3 text-green-300 font-medium",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:R+1},R))]})}),c.jsx("tbody",{children:Object.entries(we).sort(([O],[R])=>{var ee,oe;const Z=parseInt(((ee=O.match(/\d+/))==null?void 0:ee[0])||"0"),X=parseInt(((oe=R.match(/\d+/))==null?void 0:oe[0])||"0");return Z-X}).map(([O,R])=>c.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[c.jsx("td",{className:"p-3 text-gray-400 font-medium",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:O}),c.jsx("td",{className:"p-3 text-white font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:R.name}),R.schedule.map((Z,X)=>c.jsx("td",{className:"p-2 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:Z?c.jsx("div",{className:`
                                  px-3 py-2 rounded-lg text-center text-xs font-bold
                                  ${Z==="早"?"bg-pink-500 text-white":Z==="中"?"bg-cyan-500 text-white":Z==="晚"?"bg-blue-500 text-white":Z==="休"?"bg-gray-500 text-white":Z==="特"?"bg-orange-500 text-white":Z==="排"?"bg-yellow-500 text-white":"bg-gray-700 text-gray-300"}
                                `,children:Z}):c.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})},X))]},O))})]})})]}),zs==="manage"&&c.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-300",children:"月份管理"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"text-lg font-semibold mb-4 text-cyan-300",children:"已儲存的月份"}),f.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(O=>c.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10 hover:border-white/20 transition-all",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h5",{className:"text-white font-semibold",children:O.label}),c.jsx("span",{className:"text-xs text-gray-400",children:O.lastUpdated?new Date(O.lastUpdated).toLocaleDateString():"未知"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>{o(O.key),e("display")},className:"px-3 py-1 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-300 rounded text-sm transition-all",children:"查看"}),c.jsx("button",{onClick:()=>{o(O.key),e("statistics")},className:"px-3 py-1 bg-purple-500/20 hover:bg-purple-500/30 border border-purple-400/30 text-purple-300 rounded text-sm transition-all",children:"分析"})]})]},O.key))}):c.jsx("div",{className:"text-center py-8 text-gray-400",children:"尚未儲存任何月份資料"})]}),c.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[c.jsx("h4",{className:"text-lg font-semibold mb-4 text-orange-300",children:"快速操作"}),c.jsxs("div",{className:"flex flex-wrap gap-4",children:[c.jsxs("button",{onClick:xo,className:"px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-400 rounded-lg transition-all flex items-center gap-2",children:[c.jsx(T2,{className:"w-4 h-4"}),"重新載入資料"]}),c.jsxs("button",{onClick:()=>{o("current"),e("display")},className:"px-4 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-400 rounded-lg transition-all flex items-center gap-2",children:[c.jsx(vd,{className:"w-4 h-4"}),"回到當月"]})]})]})]})]}),c.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-400",children:"同事基本資料管理"}),c.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[c.jsxs("button",{onClick:Zu,className:"px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-400 rounded-lg transition-all flex items-center gap-2",children:[c.jsx(T2,{className:"w-4 h-4"}),"從 Firebase 讀取資料"]}),c.jsxs("button",{onClick:ir,className:"px-4 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-400 rounded-lg transition-all flex items-center gap-2",children:[c.jsx(Kh,{className:"w-4 h-4"}),"儲存姓名與上車地點"]}),c.jsxs("button",{onClick:fr,className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-400 rounded-lg transition-all flex items-center gap-2",children:[c.jsx(rs,{className:"w-4 h-4"}),"清空所有資料"]})]}),c.jsxs("div",{className:"bg-surface/20 rounded-lg p-4 mb-6 border border-white/5",children:[c.jsx("h4",{className:"text-lg font-semibold mb-4 text-orange-400",children:"新增同事"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold mb-2",children:"職員編號"}),c.jsx("input",{type:"text",value:LA.id,onChange:O=>Ws(R=>({...R,id:O.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",placeholder:"例如：A45"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold mb-2",children:"姓名"}),c.jsx("input",{type:"text",value:LA.name,onChange:O=>Ws(R=>({...R,name:O.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",placeholder:"輸入姓名"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold mb-2",children:"上車地點"}),c.jsx("select",{value:LA.pickupLocation,onChange:O=>Ws(R=>({...R,pickupLocation:O.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",children:Ti.map(O=>c.jsx("option",{value:O,children:O},O))})]})]}),c.jsxs("button",{onClick:HA,className:"mt-4 px-6 py-2 bg-orange-500/20 hover:bg-orange-500/30 border border-orange-400/30 text-orange-400 rounded-lg transition-all flex items-center gap-2",children:[c.jsx(ts,{className:"w-4 h-4"}),"新增同事"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-white/10",children:[c.jsx("th",{className:"text-left p-2 text-blue-400",children:"職員編號"}),c.jsx("th",{className:"text-left p-2 text-purple-400",children:"姓名"}),c.jsx("th",{className:"text-left p-2 text-green-400",children:"上車地點"}),c.jsx("th",{className:"text-center p-2 text-red-400",children:"操作"})]})}),c.jsx("tbody",{children:Object.keys(m).sort((O,R)=>{const Z=parseInt(O.replace(/\D/g,""))||0,X=parseInt(R.replace(/\D/g,""))||0;return Z-X}).map(O=>c.jsxs("tr",{className:"border-b border-white/5",children:[c.jsx("td",{className:"p-2 text-text-secondary",children:O}),c.jsx("td",{className:"p-2",children:c.jsx("input",{type:"text",value:m[O]||"",onChange:R=>nh(O,R.target.value),className:"w-full px-2 py-1 bg-white/5 border border-white/10 rounded focus:border-purple-400/50 focus:bg-white/10"})}),c.jsx("td",{className:"p-2",children:c.jsx("select",{value:v[O]||Ti[0],onChange:R=>Xv(O,R.target.value),className:"w-full px-2 py-1 bg-white/5 border border-white/10 rounded focus:border-green-400/50 focus:bg-white/10",children:Ti.map(R=>c.jsx("option",{value:R,children:R},R))})}),c.jsx("td",{className:"p-2 text-center",children:c.jsx("button",{onClick:()=>rh(O),className:"px-3 py-1 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-400 rounded transition-all",children:c.jsx(rs,{className:"w-4 h-4"})})})]},O))})]})})]})]})]})}function J0e({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i}){return c.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:c.jsx("div",{className:"bg-surface/60 rounded-xl shadow-xl border border-white/20 backdrop-blur-sm min-w-full",children:c.jsx("div",{className:"w-full",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-xs md:text-sm",style:{borderCollapse:"collapse",borderSpacing:0,border:"none"},children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[c.jsx("th",{className:"text-center p-2 md:p-3 text-purple-300 font-semibold sticky left-0 z-10 bg-surface/95",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"姓名"}),r.map(s=>{const a=s===new Date().getDate();return c.jsxs("th",{className:`text-center p-1 md:p-3 font-medium relative ${a?"text-primary":"text-green-300"}`,style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},title:a?"今天":void 0,"data-today":a?"true":void 0,children:[c.jsx("div",{className:`relative text-xs font-semibold inline-flex items-center justify-center w-7 h-7 rounded ${a?"bg-primary/20 ring-2 ring-primary":""}`,children:s}),c.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),s).getDay()]})]},s)})]})}),c.jsx("tbody",{children:n.map((s,a)=>c.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200 group","data-employee-id":s,"data-row-index":a,children:[c.jsx("td",{className:"p-2 md:p-3 text-white font-semibold text-xs md:text-sm sticky left-0 z-10 bg-surface/95 group-hover:bg-surface/100 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:c.jsx("span",{className:"group-hover:text-primary transition-colors",children:e[s]||s})}),r.map(o=>{var u;const A=(u=t[s])==null?void 0:u[o],l=o===new Date().getDate();return i&&i.length>0&&(!A||!i.includes(A))?c.jsx("td",{className:"p-1 md:p-2 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:c.jsx("div",{className:`w-full h-6 md:h-8 rounded-lg border ${l?"bg-primary/5 border-primary/30":"bg-surface/10 border-white/5"} opacity-50`})},o):c.jsx("td",{className:`p-1 md:p-2 text-center ${l?"bg-primary/5":""}`,style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:A?c.jsx("div",{className:`
                                px-2 py-1 md:px-3 md:py-2 rounded-lg text-center text-xs font-bold
                                ${l?"ring-2 ring-primary/50 ":""}${A==="早"?"bg-pink-500 text-white":A==="中"?"bg-cyan-500 text-white":A==="晚"?"bg-blue-500 text-white":A==="休"?"bg-gray-500 text-white":A==="特"?"bg-orange-500 text-white":"bg-gray-700 text-gray-300"}
                              `,children:A}):c.jsx("div",{className:`w-full h-6 md:h-8 rounded-lg border ${l?"bg-primary/5 border-primary/30":"bg-surface/20 border-white/10"}`})},o)})]},s))})]})})})})})}function Z0e({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i}){const s=a=>{switch(a){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}};return c.jsx("div",{className:"space-y-6",children:n.map(a=>c.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm hover:shadow-2xl transition-all duration-300",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"text-lg font-semibold text-white mb-1",children:e[a]||a}),c.jsxs("p",{className:"text-sm text-gray-400",children:["職員編號：",a]})]}),c.jsx("div",{className:"grid grid-cols-7 gap-3",children:r.map(o=>{var l;const A=(l=t[a])==null?void 0:l[o];return i&&i.length>0&&(!A||!i.includes(A))?c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-xs text-gray-400 mb-2 font-medium",children:o}),c.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/10 border border-white/5 opacity-50"})]},o):c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-xs text-gray-400 mb-2 font-medium",children:o}),A?c.jsx("div",{className:`
                      px-3 py-2 rounded-lg text-center text-xs font-bold
                      transition-all duration-200 hover:shadow-lg hover:scale-105
                      ${s(A)}
                    `,children:A}):c.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})]},o)})})]},a))})}function eve({schedule:t,names:e,pickupLocations:r}){const n=()=>{const o=new Date,A=o.getFullYear(),l=o.getMonth()+1;return new Date(A,l,0).getDate()},s=(()=>{const o=n(),A={};for(let l=1;l<=o;l++)A[l]={},Ti.forEach(u=>{A[l][u]=0});return Object.keys(t).forEach(l=>{var d;if(l==="_lastUpdated")return;const u=r[l];if(!(!u||u==="不搭車"))for(let f=1;f<=o;f++)((d=t[l])==null?void 0:d[f])==="早"&&A[f][u]++}),A})(),a=n();return c.jsxs("div",{id:"transport-chart",className:"bg-surface/60 rounded-xl p-6 border border-white/20",children:[c.jsx("h3",{className:"text-xl font-bold mb-6 text-yellow-300 text-center",children:"當月乘車統計表"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0},children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[c.jsx("th",{className:"text-left p-3 text-yellow-300 font-semibold",style:{border:"none !important"},children:"上車地點"}),Array.from({length:a},(o,A)=>A+1).map(o=>c.jsxs("th",{className:"text-center p-2 text-green-300 font-medium",style:{border:"none !important"},children:[c.jsx("div",{className:"text-xs font-semibold",children:o}),c.jsx("div",{className:"text-xs text-gray-400",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),o).getDay()]})]},o))]})}),c.jsx("tbody",{children:Ti.filter(o=>o!=="不搭車").map(o=>c.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[c.jsx("td",{className:"p-3 text-white font-semibold",style:{border:"none !important"},children:o}),Array.from({length:a},(A,l)=>l+1).map(A=>{var u;const l=((u=s[A])==null?void 0:u[o])||0;return c.jsx("td",{className:"p-2 text-center",style:{border:"none !important"},children:l>0?c.jsx("div",{className:"px-3 py-2 rounded-lg text-center text-xs font-bold bg-yellow-500/20 border border-yellow-400/30 text-yellow-300",children:l}):c.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})},A)})]},o))})]})})]})}function tve({schedule:t,names:e,onEmployeeClick:r}){const n=()=>{const u={},d={};Object.keys(t).forEach(g=>{g!=="_lastUpdated"&&(u[g]={},d[g]={})});const f=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let g=1;g<=f;g++){const m={};Object.keys(t).forEach(p=>{var y;if(p==="_lastUpdated")return;const v=(y=t[p])==null?void 0:y[g];v&&v!=="休"&&(m[v]||(m[v]=[]),m[v].push(p))}),Object.keys(m).forEach(p=>{const v=m[p];for(let y=0;y<v.length;y++)for(let w=y+1;w<v.length;w++){const B=v[y],I=v[w];u[B][I]||(u[B][I]=0),u[I][B]||(u[I][B]=0),d[B][I]||(d[B][I]=[]),d[I][B]||(d[I][B]=[]),u[B][I]++,u[I][B]++,d[B][I].push({day:g,shift:p}),d[I][B].push({day:g,shift:p})}}),m.早&&m.中&&m.早.forEach(p=>{m.中.forEach(v=>{u[p][v]||(u[p][v]=0),u[v][p]||(u[v][p]=0),d[p][v]||(d[p][v]=[]),d[v][p]||(d[v][p]=[]),u[p][v]++,u[v][p]++,d[p][v].push({day:g,shift:"早-中"}),d[v][p].push({day:g,shift:"中-早"})})}),m.中&&m.晚&&m.中.forEach(p=>{m.晚.forEach(v=>{u[p][v]||(u[p][v]=0),u[v][p]||(u[v][p]=0),d[p][v]||(d[p][v]=[]),d[v][p]||(d[v][p]=[]),u[p][v]++,u[v][p]++,d[p][v].push({day:g,shift:"中-晚"}),d[v][p].push({day:g,shift:"晚-中"})})})}return{overlapStats:u,overlapDetails:d}},{overlapStats:i,overlapDetails:s}=n(),a=Object.keys(t).filter(u=>u!=="_lastUpdated").sort((u,d)=>{var m,p;const f=parseInt(((m=u.match(/\d+/))==null?void 0:m[0])||"0"),g=parseInt(((p=d.match(/\d+/))==null?void 0:p[0])||"0");return f-g}),A=(()=>{let u=0,d=0,f=0;return a.forEach(g=>{a.forEach(m=>{var p;if(g!==m){const v=((p=i[g])==null?void 0:p[m])||0;v>0&&(u+=v,d=Math.max(d,v),f++)}})}),{totalOverlaps:u,maxOverlap:d,averageOverlap:f>0?(u/f).toFixed(1):0,totalPairs:f}})(),l=(u,d)=>{if(u===0)return"bg-surface/20 border-white/10 text-gray-400";const f=Math.min(u/d,1);return f>.7?"bg-purple-500/40 border-purple-400/50 text-purple-200":f>.4?"bg-purple-500/30 border-purple-400/40 text-purple-300":"bg-purple-500/20 border-purple-400/30 text-purple-300"};return c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold mb-6 text-purple-300 text-center",children:"搭班統計表"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0},children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[c.jsx("th",{className:"text-left p-3 text-purple-300 font-semibold",style:{border:"none !important"},children:"同事"}),a.map(u=>c.jsx("th",{className:"text-center p-3 text-purple-300 font-medium",style:{border:"none !important"},children:e[u]||u},u))]})}),c.jsx("tbody",{children:a.map(u=>c.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[c.jsx("td",{className:"p-3 text-white font-semibold cursor-pointer hover:text-purple-300 transition-colors",style:{border:"none !important"},onClick:()=>r(u),children:e[u]||u}),a.map(d=>{var g;const f=((g=i[u])==null?void 0:g[d])||0;return c.jsx("td",{className:"p-3 text-center",style:{border:"none !important"},children:u===d?c.jsx("div",{className:"w-8 h-8 rounded-lg bg-surface/20 border border-white/10 flex items-center justify-center text-gray-400",children:"-"}):f>0?c.jsx("div",{className:`px-3 py-2 rounded-lg text-center text-xs font-bold border cursor-pointer hover:scale-105 transition-all ${l(f,A.maxOverlap)}`,title:`${e[u]||u} 與 ${e[d]||d} 搭班 ${f} 次`,children:f}):c.jsx("div",{className:"w-8 h-8 rounded-lg bg-surface/10 border border-white/5 flex items-center justify-center text-gray-500 opacity-50",children:"-"})},d)})]},u))})]})})]})}function rve({employeeId:t,employeeName:e,ranking:r,onClose:n}){const[i,s]=x.useState(null),o=(()=>{const A=r.reduce((d,f)=>d+f.count,0),l=r.length>0?(A/r.length).toFixed(1):0,u=r.length>0?r[0].count:0;return{totalOverlaps:A,avgOverlaps:l,maxOverlaps:u}})();return c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-surface/95 rounded-2xl p-8 border border-white/20 shadow-2xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-purple-300",children:[e," 的搭班詳情"]}),c.jsx("button",{onClick:n,className:"p-2 hover:bg-surface/30 rounded-lg text-gray-300 hover:text-white transition-all duration-200",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[c.jsx("div",{className:"text-2xl font-bold text-purple-300",children:o.totalOverlaps}),c.jsx("div",{className:"text-sm text-gray-400",children:"總搭班次數"})]}),c.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-300",children:o.avgOverlaps}),c.jsx("div",{className:"text-sm text-gray-400",children:"平均搭班次數"})]}),c.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[c.jsx("div",{className:"text-2xl font-bold text-green-300",children:o.maxOverlaps}),c.jsx("div",{className:"text-sm text-gray-400",children:"最高搭班次數"})]})]}),r.length>0?c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"text-lg font-semibold text-purple-300 mb-4",children:"搭班排行"}),r.map((A,l)=>c.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border cursor-pointer transition-all hover:scale-105 ${i===A.employeeId?"bg-purple-500/30 border-purple-400/50":"bg-surface/20 border-white/10 hover:bg-surface/30"}`,onClick:()=>s(i===A.employeeId?null:A.employeeId),children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:`w-8 h-8 rounded-full border flex items-center justify-center font-bold text-sm ${l===0?"bg-yellow-500/20 border-yellow-400/30 text-yellow-300":l===1?"bg-gray-500/20 border-gray-400/30 text-gray-300":l===2?"bg-orange-500/20 border-orange-400/30 text-orange-300":"bg-purple-500/20 border-purple-400/30 text-purple-300"}`,children:l+1}),c.jsx("div",{children:c.jsx("span",{className:"text-white font-medium",children:A.name})})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-purple-300 font-bold",children:[A.count," 次"]}),c.jsxs("div",{className:"text-xs text-gray-400",children:[(A.count/o.totalOverlaps*100).toFixed(1),"%"]})]})]},A.employeeId))]}):c.jsx("div",{className:"text-center py-8 text-gray-400",children:"本月無搭班記錄"})]})})}function nve({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i}){const s=a=>{switch(a){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}};return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"3D 班表視圖"}),c.jsx("p",{className:"text-gray-400",children:"立體展示班次安排"})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:n.map(a=>c.jsx("div",{className:"group perspective-1000",children:c.jsx("div",{className:"relative transform-style-preserve-3d transition-all duration-500 group-hover:rotate-y-12",children:c.jsxs("div",{className:"bg-gradient-to-br from-surface/80 to-surface/60 rounded-2xl p-6 border border-white/20 shadow-2xl backdrop-blur-sm transform-style-preserve-3d",children:[c.jsxs("div",{className:"transform-style-preserve-3d",children:[c.jsxs("div",{className:"mb-6 text-center",children:[c.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:e[a]||a}),c.jsxs("p",{className:"text-sm text-gray-400",children:["職員編號：",a]})]}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:r.map((o,A)=>{var u;const l=(u=t[a])==null?void 0:u[o];return i&&i.length>0&&(!l||!i.includes(l))?c.jsxs("div",{className:"relative group/item",children:[c.jsx("div",{className:"w-full h-16 rounded-lg bg-surface/10 border border-white/5 opacity-50 transform transition-all duration-300 group-hover/item:scale-110 group-hover/item:rotate-y-6"}),c.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-xs text-gray-500",children:c.jsx("span",{children:o})})]},o):c.jsx("div",{className:"relative group/item",children:c.jsx("div",{className:`
                            w-full h-16 rounded-lg text-center text-xs font-bold
                            transform transition-all duration-300 
                            group-hover/item:scale-110 group-hover/item:rotate-y-6 group-hover/item:shadow-xl
                            ${l?s(l):"bg-surface/20 border border-white/10"}
                          `,children:c.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[c.jsx("span",{className:"text-xs opacity-75",children:o}),c.jsx("span",{className:"font-bold",children:l||""})]})})},o)})})]}),c.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]})})},a))})]})}function ive({schedule:t,names:e}){const n=(()=>{const i={},s=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();let a={early:0,middle:0,night:0,rest:0,special:0};Object.keys(t).forEach(l=>{var u;if(l!=="_lastUpdated")for(let d=1;d<=s;d++){const f=(u=t[l])==null?void 0:u[d];if(f)switch(f){case"早":a.early++;break;case"中":a.middle++;break;case"晚":a.night++;break;case"休":a.rest++;break;case"特":a.special++;break}}});const o=Object.keys(t).filter(l=>l!=="_lastUpdated").length,A={early:a.early/o,middle:a.middle/o,night:a.night/o,rest:a.rest/o,special:a.special/o};return Object.keys(t).forEach(l=>{var g;if(l==="_lastUpdated")return;const u=e[l]||l,d={early:0,middle:0,night:0,rest:0,special:0};for(let m=1;m<=s;m++){const p=(g=t[l])==null?void 0:g[m];if(p)switch(p){case"早":d.early++;break;case"中":d.middle++;break;case"晚":d.night++;break;case"休":d.rest++;break;case"特":d.special++;break}}const f={name:u,earlyBias:((d.early-A.early)/A.early*100).toFixed(1),middleBias:((d.middle-A.middle)/A.middle*100).toFixed(1),nightBias:((d.night-A.night)/A.night*100).toFixed(1),restBias:((d.rest-A.rest)/A.rest*100).toFixed(1),specialBias:((d.special-A.special)/A.special*100).toFixed(1)};i[u]=f}),Object.values(i).sort((l,u)=>{var p,v;const d=Object.keys(e).find(y=>e[y]===l.name)||l.name,f=Object.keys(e).find(y=>e[y]===u.name)||u.name,g=parseInt(((p=d.match(/\d+/))==null?void 0:p[0])||"0"),m=parseInt(((v=f.match(/\d+/))==null?void 0:v[0])||"0");return g-m})})();return c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-6 text-orange-300 text-center",children:"班次分配偏差度分析"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-white/20",children:[c.jsx("th",{className:"text-left p-3 text-white font-semibold",children:"同事"}),c.jsx("th",{className:"text-center p-3 text-pink-300 font-semibold",children:"早班偏差"}),c.jsx("th",{className:"text-center p-3 text-cyan-300 font-semibold",children:"中班偏差"}),c.jsx("th",{className:"text-center p-3 text-blue-300 font-semibold",children:"晚班偏差"}),c.jsx("th",{className:"text-center p-3 text-gray-300 font-semibold",children:"休假偏差"}),c.jsx("th",{className:"text-center p-3 text-orange-300 font-semibold",children:"特休偏差"})]})}),c.jsx("tbody",{children:n.map((i,s)=>c.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5",children:[c.jsx("td",{className:"p-3 text-white font-medium",children:i.name}),c.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.earlyBias)>0?"text-green-400":"text-red-400"}`,children:[i.earlyBias,"%"]}),c.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.middleBias)>0?"text-green-400":"text-red-400"}`,children:[i.middleBias,"%"]}),c.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.nightBias)>0?"text-green-400":"text-red-400"}`,children:[i.nightBias,"%"]}),c.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.restBias)>0?"text-green-400":"text-red-400"}`,children:[i.restBias,"%"]}),c.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(i.specialBias)>0?"text-green-400":"text-red-400"}`,children:[i.specialBias,"%"]})]},s))})]})})]})}function sve({schedule:t,names:e,selectedEmployee:r,crossMonthStats:n,selectedMonth:i}){if(!r)return c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-300 text-center",children:"個人統計儀表板"}),c.jsx("p",{className:"text-center text-gray-400",children:"請選擇一個同事查看個人統計"})]});const a=x.useMemo(()=>{var p;if(!r||!t[r])return{name:e[r]||r,early:0,middle:0,night:0,rest:0,special:0,total:0};const g={name:e[r]||r,early:0,middle:0,night:0,rest:0,special:0,total:0},m=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let v=1;v<=m;v++){const y=(p=t[r])==null?void 0:p[v];if(y)switch(y){case"早":g.early++,g.total++;break;case"中":g.middle++,g.total++;break;case"晚":g.night++,g.total++;break;case"休":g.rest++;break;case"特":g.special++,g.total++;break}}return g},[r,t,e]),o=x.useMemo(()=>[{name:"早班",value:a.early,color:Qc.早},{name:"中班",value:a.middle,color:Qc.中},{name:"晚班",value:a.night,color:Qc.晚},{name:"休假",value:a.rest,color:Qc.休},{name:"特休",value:a.special,color:Qc.特}].filter(g=>g.value>0),[a]),A=x.useMemo(()=>{var y;if(!r||!t[r])return[];const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),m=[];let p=0,v=0;for(let w=1;w<=g;w++){const B=(y=t[r])==null?void 0:y[w];B&&B!=="休"?p++:(p>0&&(v++,m.push({period:`期間${v}`,consecutiveDays:p,trend:p>=6?"高":p>=4?"中":"低"})),p=0)}return p>0&&(v++,m.push({period:`期間${v}`,consecutiveDays:p,trend:p>=6?"高":p>=4?"中":"低"})),m},[r,t]);x.useMemo(()=>{var p,v;if(!r||!t[r])return[];const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),m=[];for(let y=1;y<g;y++){const w=(p=t[r])==null?void 0:p[y],B=(v=t[r])==null?void 0:v[y+1];w&&B&&m.push({from:w,to:B,day:y})}return m},[r,t]);const l=()=>{var p;const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),m=[];for(let v=1;v<=g;v++){let y=0,w=0;for(let B=1;B<=v;B++){const I=(p=t[r])==null?void 0:p[B];I&&I!=="休"?y++:(y>0&&(y>=7?w=3:y>=5?w=2:w=1),y=0)}y>0&&(y>=7?w=3:y>=5?w=2:w=1),m.push({date:`${v}日`,consecutiveDays:y,riskLevel:w})}return m},u=()=>{var p,v;const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),m={};for(let y=1;y<g;y++){const w=(p=t[r])==null?void 0:p[y],B=(v=t[r])==null?void 0:v[y+1];if(w&&B){const I=`${w}→${B}`;m[I]=(m[I]||0)+1}}return Object.entries(m).sort(([,y],[,w])=>w-y).slice(0,10).map(([y,w])=>({transition:y,value:w}))},d=()=>{var p,v;const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),m={};for(let y=1;y<g;y++){const w=(p=t[r])==null?void 0:p[y],B=(v=t[r])==null?void 0:v[y+1];if(w&&B){const I=`${w}→${B}`;if(!m[I]){const[T,F]=I.split("→");m[I]={from:T,to:F,count:0}}m[I].count++}}return Object.values(m).sort((y,w)=>w.count-y.count)},f=g=>{switch(g){case"早":return"#ec4899";case"中":return"#06b6d4";case"晚":return"#3b82f6";case"休":return"#6b7280";case"特":return"#f97316";default:return"#9ca3af"}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[c.jsxs("div",{className:"text-center p-4 bg-pink-500/20 rounded-lg border border-pink-400/30",children:[c.jsx("div",{className:"text-2xl font-bold text-pink-300",children:a.early}),c.jsx("div",{className:"text-sm text-pink-200",children:"早班"})]}),c.jsxs("div",{className:"text-center p-4 bg-cyan-500/20 rounded-lg border border-cyan-400/30",children:[c.jsx("div",{className:"text-2xl font-bold text-cyan-300",children:a.middle}),c.jsx("div",{className:"text-sm text-cyan-200",children:"中班"})]}),c.jsxs("div",{className:"text-center p-4 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-300",children:a.night}),c.jsx("div",{className:"text-sm text-blue-200",children:"晚班"})]}),c.jsxs("div",{className:"text-center p-4 bg-gray-500/20 rounded-lg border border-gray-400/30",children:[c.jsx("div",{className:"text-2xl font-bold text-gray-300",children:a.rest}),c.jsx("div",{className:"text-sm text-gray-200",children:"休假"})]}),c.jsxs("div",{className:"text-center p-4 bg-orange-500/20 rounded-lg border border-orange-400/30",children:[c.jsx("div",{className:"text-2xl font-bold text-orange-300",children:a.special}),c.jsx("div",{className:"text-sm text-orange-200",children:"特休"})]})]}),c.jsxs("div",{className:"text-center p-4 bg-surface/40 rounded-lg border border-white/10",children:[c.jsxs("div",{className:"text-lg font-semibold text-white",children:["總工作天數：",a.total," 天"]}),c.jsxs("div",{className:"text-sm text-gray-400",children:["工作率：",(a.total/31*100).toFixed(1),"%"]})]}),n&&n.totalMonths>0&&c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-bold mb-4 text-green-300 text-center",children:"跨月份平均值統計"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-4",children:[c.jsxs("div",{className:"text-center p-3 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[c.jsx("div",{className:"text-lg font-bold text-blue-300",children:n.totalMonths}),c.jsx("div",{className:"text-xs text-blue-200",children:"統計月份"})]}),(()=>{const g={early:a.early,middle:a.middle,night:a.night,rest:a.rest},m=(B,I)=>{const T=B-I;return{value:T,isPositive:T>0,isZero:T===0}},p=m(g.early,n.averageEarlyPerMonth),v=m(g.middle,n.averageMidPerMonth),y=m(g.night,n.averageNightPerMonth),w=m(g.rest,n.averageRestPerMonth);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"text-center p-3 bg-pink-500/20 rounded-lg border border-pink-400/30",children:[c.jsx("div",{className:"text-lg font-bold text-pink-300",children:n.averageEarlyPerMonth}),c.jsx("div",{className:"text-xs text-pink-200",children:"平均早班/月"}),c.jsxs("div",{className:`text-xs mt-1 ${p.isPositive?"text-green-400":p.isZero?"text-gray-400":"text-red-400"}`,children:[p.isPositive?"+":"",p.value," vs 本月"]})]}),c.jsxs("div",{className:"text-center p-3 bg-cyan-500/20 rounded-lg border border-cyan-400/30",children:[c.jsx("div",{className:"text-lg font-bold text-cyan-300",children:n.averageMidPerMonth}),c.jsx("div",{className:"text-xs text-cyan-200",children:"平均中班/月"}),c.jsxs("div",{className:`text-xs mt-1 ${v.isPositive?"text-green-400":v.isZero?"text-gray-400":"text-red-400"}`,children:[v.isPositive?"+":"",v.value," vs 本月"]})]}),c.jsxs("div",{className:"text-center p-3 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[c.jsx("div",{className:"text-lg font-bold text-blue-300",children:n.averageNightPerMonth}),c.jsx("div",{className:"text-xs text-blue-200",children:"平均晚班/月"}),c.jsxs("div",{className:`text-xs mt-1 ${y.isPositive?"text-green-400":y.isZero?"text-gray-400":"text-red-400"}`,children:[y.isPositive?"+":"",y.value," vs 本月"]})]}),c.jsxs("div",{className:"text-center p-3 bg-gray-500/20 rounded-lg border border-gray-400/30",children:[c.jsx("div",{className:"text-lg font-bold text-gray-300",children:n.averageRestPerMonth}),c.jsx("div",{className:"text-xs text-gray-200",children:"平均休假/月"}),c.jsxs("div",{className:`text-xs mt-1 ${w.isPositive?"text-green-400":w.isZero?"text-gray-400":"text-red-400"}`,children:[w.isPositive?"+":"",w.value," vs 本月"]})]})]})})()]}),c.jsxs("div",{className:"text-center text-sm text-gray-400",children:["基於 ",n.totalMonths," 個月份的資料計算 | ",c.jsx("span",{className:"text-green-400",children:"綠色"})," = 高於平均值 | ",c.jsx("span",{className:"text-red-400",children:"紅色"})," = 低於平均值"]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-bold mb-4 text-purple-300 text-center",children:"班次佔比"}),c.jsx(Ca,{width:"100%",height:300,children:c.jsxs(BH,{children:[c.jsx(Q_,{data:o,cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percent:m})=>`${g} ${(m*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.map((g,m)=>c.jsx(Xu,{fill:g.color},`cell-${m}`))}),c.jsx(Ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}})]})})]}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-bold mb-4 text-blue-300 text-center",children:"每日班次分布"}),c.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["日","一","二","三","四","五","六"].map(g=>c.jsx("div",{className:"text-center text-sm font-semibold text-gray-400 py-2",children:g},g))}),c.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:new Date(new Date().getFullYear(),new Date().getMonth(),1).getDay()},(g,m)=>c.jsx("div",{className:"h-8 bg-surface/20 rounded border border-white/5"},`empty-${m}`)),Array.from({length:new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate()},(g,m)=>{var B;const p=m+1,v=(B=t[r])==null?void 0:B[p],y=I=>{switch(I){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-surface/20 text-gray-400 border border-white/10"}},w=I=>{switch(I){case"早":return"早班";case"中":return"中班";case"晚":return"晚班";case"休":return"休假";case"特":return"特休";default:return"無班次"}};return c.jsx("div",{className:`h-8 rounded border flex items-center justify-center text-xs font-bold transition-all hover:scale-110 cursor-pointer ${y(v)}`,title:`${p}日 - ${w(v)}`,children:p},p)})]}),c.jsxs("div",{className:"mt-4 flex flex-wrap justify-center gap-3 text-xs",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded"}),c.jsx("span",{className:"text-gray-300",children:"早班"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 bg-cyan-500 rounded"}),c.jsx("span",{className:"text-gray-300",children:"中班"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),c.jsx("span",{className:"text-gray-300",children:"晚班"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded"}),c.jsx("span",{className:"text-gray-300",children:"休假"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded"}),c.jsx("span",{className:"text-gray-300",children:"特休"})]})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-bold mb-4 text-orange-300 text-center",children:"連續上班天數分析"}),c.jsx(Ca,{width:"100%",height:300,children:c.jsxs(FB,{data:A,margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(AA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),c.jsx(Ka,{dataKey:"period",stroke:"#ffffff80"}),c.jsx($a,{stroke:"#ffffff80"}),c.jsx(Ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"},formatter:(g,m)=>[g,{highRisk:"高 (≥6天)",mediumRisk:"中 (4-5天)",lowRisk:"低 (1-3天)"}[m]||m]}),c.jsx(EA,{}),c.jsx(ga,{dataKey:"consecutiveDays",fill:"#f97316",name:"連續天數"})]})}),c.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{className:"flex items-center justify-center p-2 bg-red-500/20 rounded-lg border border-red-400/30",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),c.jsx("span",{className:"text-red-300",children:"高 (≥6天)"})]}),c.jsxs("div",{className:"flex items-center justify-center p-2 bg-orange-500/20 rounded-lg border border-orange-400/30",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500 mr-2"}),c.jsx("span",{className:"text-orange-300",children:"中 (4-5天)"})]}),c.jsxs("div",{className:"flex items-center justify-center p-2 bg-green-500/20 rounded-lg border border-green-400/30",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),c.jsx("span",{className:"text-green-300",children:"低 (1-3天)"})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-bold mb-4 text-blue-300 text-center",children:"連續上班頻率趨勢"}),c.jsx(Ca,{width:"100%",height:300,children:c.jsxs(K_,{data:l(),margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(AA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),c.jsx(Ka,{dataKey:"date",stroke:"#ffffff80"}),c.jsx($a,{stroke:"#ffffff80",domain:[0,6]}),c.jsx(Ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}}),c.jsx(EA,{}),c.jsx(Ea,{type:"monotone",dataKey:"consecutiveDays",stroke:"#8b5cf6",strokeWidth:3,name:"連續天數"}),c.jsx(Ea,{type:"monotone",dataKey:"riskLevel",stroke:"#ef4444",strokeWidth:2,name:"等級"})]})})]})]}),c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[c.jsx("h4",{className:"text-lg font-bold mb-4 text-purple-300 text-center",children:"班次轉換關係圖"}),c.jsx(Ca,{width:"100%",height:300,children:c.jsxs(FB,{data:u(),margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(AA,{strokeDasharray:"3 3",stroke:"#ffffff20"}),c.jsx(Ka,{dataKey:"transition",stroke:"#ffffff80"}),c.jsx($a,{stroke:"#ffffff80"}),c.jsx(Ba,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"},formatter:(g,m,p)=>[`${p.payload.transition}: ${g}次`,"轉換次數"]}),c.jsx(ga,{dataKey:"value",fill:"#8b5cf6"})]})}),c.jsx("div",{className:"mt-4 grid grid-cols-2 lg:grid-cols-4 gap-4",children:d().slice(0,8).map((g,m)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:f(g.from)},children:g.from}),c.jsx("span",{className:"text-gray-400",children:"→"}),c.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:f(g.to)},children:g.to})]}),c.jsx("div",{className:"text-purple-300 font-bold",children:g.count})]},m))})]})})]})}function ave({schedule:t,names:e,pickupLocations:r,selectedEmployee:n,calculateFare:i}){const[s,a]=x.useState(!1),[o,A]=x.useState(null);if(x.useEffect(()=>{n?(a(!0),setTimeout(()=>{const g=i(n);A(g),a(!1)},500)):A(null)},[n,i]),!n)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"請選擇一位同事來計算車費"}),c.jsx("div",{className:"text-gray-500 text-sm",children:"選擇同事後，將顯示該同事的車費分析"})]});if(s)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),c.jsx("div",{className:"text-gray-400 text-lg",children:"正在計算車費..."})]});if(!o)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"無法計算車費"}),c.jsx("div",{className:"text-gray-500 text-sm",children:"該同事可能不搭車或沒有班表資料"})]});const l=[{name:"原價",cost:o.originalTotal,type:"original"},{name:"桃園市民卡 7折",cost:o.citizenCardTotal,type:"citizen"},...o.monthlyPassOptions.map(g=>({name:`${g.days}天定期票`,cost:g.averagePricePerMonth,type:"monthly",days:g.days,savings:g.savings,averagePricePerMonth:g.averagePricePerMonth,price:g.price,originalPrice:g.totalCost})),{name:"TPass 799",cost:o.tpassTotal,type:"tpass"}],d=((g,m)=>{const p={bestValue:null,mostFlexible:null,bestForFrequent:null,bestForOccasional:null};return p.bestValue=m.reduce((v,y)=>y.cost<v.cost?y:v),p.mostFlexible=m.find(v=>v.type==="original"||v.type==="citizen")||p.bestValue,g.totalTrips>20?p.bestForFrequent=m.find(v=>v.type==="tpass")||p.bestValue:g.totalTrips<10?p.bestForOccasional=m.find(v=>v.type==="original"||v.type==="citizen")||p.bestValue:(p.bestForFrequent=p.bestValue,p.bestForOccasional=p.bestValue),p})(o,l),f=d.bestValue;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-xl p-6 border border-blue-400/30",children:[c.jsx("h3",{className:"text-xl font-bold text-blue-300 mb-4",children:"車費試算結果"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:o.employeeName}),c.jsx("div",{className:"text-sm text-gray-400",children:"同事"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-green-300",children:o.location}),c.jsx("div",{className:"text-sm text-gray-400",children:"上車地點"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-purple-300",children:[o.totalTrips," 次"]}),c.jsx("div",{className:"text-sm text-gray-400",children:"總搭乘次數"})]})]})]}),c.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/20",children:[c.jsx("h4",{className:"text-lg font-semibold text-purple-300 mb-4",children:"車費方案比較"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4",children:l.map((g,m)=>{var p,v,y;return c.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border transition-all duration-300 relative transform hover:scale-105 hover:shadow-lg animate-fade-in-up ${g.cost===f.cost?"bg-green-500/20 border-green-400/50 text-green-300 ring-2 ring-green-400/30":"bg-surface/20 border-white/20 text-white hover:bg-surface/30"}`,style:{animationDelay:`${m*100}ms`,animationFillMode:"both"},children:[c.jsxs("div",{className:"absolute -top-2 -right-2 flex flex-col gap-1",children:[g.cost===f.cost&&c.jsx("div",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg animate-pulse",children:"🏆 最划算"}),g.cost===((p=d.mostFlexible)==null?void 0:p.cost)&&g.type!=="original"&&c.jsx("div",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"🎯 最靈活"}),g.cost===((v=d.bestForFrequent)==null?void 0:v.cost)&&o.totalTrips>20&&c.jsx("div",{className:"bg-purple-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"⚡ 常搭推薦"}),g.cost===((y=d.bestForOccasional)==null?void 0:y.cost)&&o.totalTrips<10&&c.jsx("div",{className:"bg-orange-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"💡 偶爾搭"})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g.type==="original"&&c.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),g.type==="citizen"&&c.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V4a2 2 0 114 0v2m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})}),g.type==="monthly"&&c.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),g.type==="tpass"&&c.jsx("svg",{className:"w-5 h-5 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),c.jsx("span",{className:"font-semibold text-sm",children:g.name})]}),c.jsxs("div",{className:"text-xl sm:text-2xl font-bold mb-2 transition-all duration-300 animate-price-change",children:["$",g.cost]}),g.type==="monthly"&&c.jsx("div",{className:"text-xs text-gray-400 mb-1",children:c.jsxs("span",{className:"text-xs text-gray-500",children:["票券原價 $",g.originalPrice]})}),g.type==="tpass"&&c.jsx("div",{className:"text-xs text-gray-400",children:"A22-A7 坐到哭"})]},m)})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-r from-indigo-500/20 to-purple-500/20 rounded-xl p-6 border border-indigo-400/30",children:[c.jsx("h4",{className:"text-xl font-bold text-indigo-300 mb-6",children:"車費分析儀表板"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",Math.min(...l.map(g=>g.cost))]}),c.jsx("div",{className:"text-sm text-gray-400",children:"最低費用"})]}),c.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-red-400",children:["$",Math.max(...l.map(g=>g.cost))]}),c.jsx("div",{className:"text-sm text-gray-400",children:"最高費用"})]}),c.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-orange-400",children:["$",o.originalTotal-Math.min(...l.map(g=>g.cost))]}),c.jsx("div",{className:"text-sm text-gray-400",children:"最大節省"})]}),c.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-400",children:l.length}),c.jsx("div",{className:"text-sm text-gray-400",children:"方案數量"})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 via-teal-500/5 to-cyan-500/10 rounded-xl p-6 border border-emerald-400/20 shadow-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[c.jsx("h5",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-emerald-300 to-teal-300 bg-clip-text text-transparent",children:"搭乘次數 vs 費用效益分析"}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[c.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-emerald-400"}),c.jsx("span",{className:"hidden sm:inline",children:"即時分析"})]})]}),c.jsx(Ca,{width:"100%",height:200,className:"sm:h-[250px]",children:c.jsxs(K_,{data:Array.from({length:40},(g,m)=>{const p=m+1,v=p*o.originalTotal/o.totalTrips,y=Math.ceil(v*.7),w=799,B=o.monthlyPassOptions.find(T=>T.days===120),I=B?B.averagePricePerMonth:486;return{trips:p,原價:Math.round(v),市民卡:y,TPass:w,"120天票":Math.round(I)}}),children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"originalGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.8}),c.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:.1})]}),c.jsxs("linearGradient",{id:"citizenGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),c.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),c.jsxs("linearGradient",{id:"tpassGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.8}),c.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:.1})]}),c.jsxs("linearGradient",{id:"monthlyGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),c.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})]}),c.jsx(AA,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),c.jsx(Ka,{dataKey:"trips",stroke:"#9ca3af",fontSize:10,className:"sm:text-xs",tickLine:!1,axisLine:{stroke:"#4b5563",strokeWidth:1},interval:"preserveStartEnd",label:{value:"搭乘次數",position:"insideBottom",offset:-5,style:{textAnchor:"middle",fill:"#9ca3af",fontSize:"11px",fontWeight:"500"}}}),c.jsx($a,{stroke:"#9ca3af",fontSize:10,className:"sm:text-xs",tickLine:!1,axisLine:{stroke:"#4b5563",strokeWidth:1},tickFormatter:g=>`$${g}`,width:50,label:{value:"費用",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9ca3af",fontSize:"11px",fontWeight:"500"}}}),c.jsx(Ba,{formatter:(g,m)=>[`$${g}`,m],labelFormatter:g=>`搭乘 ${g} 次`,contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"12px",color:"#fff",boxShadow:"0 10px 25px rgba(0,0,0,0.3)",padding:"12px"},cursor:{stroke:"#6b7280",strokeWidth:1,strokeDasharray:"3 3"}}),c.jsx(Ea,{type:"monotone",dataKey:"原價",stroke:"#ef4444",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#ef4444",strokeWidth:1,fill:"#fff"}}),c.jsx(Ea,{type:"monotone",dataKey:"市民卡",stroke:"#3b82f6",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#3b82f6",strokeWidth:1,fill:"#fff"}}),c.jsx(Ea,{type:"monotone",dataKey:"TPass",stroke:"#f59e0b",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#f59e0b",strokeWidth:1,fill:"#fff"}}),c.jsx(Ea,{type:"monotone",dataKey:"120天票",stroke:"#10b981",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#10b981",strokeWidth:1,fill:"#fff"}})]})}),c.jsx("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 bg-surface/20 rounded-lg border border-emerald-400/10",children:c.jsxs("div",{className:"text-xs sm:text-sm text-gray-300 leading-relaxed",children:["此圖顯示不同搭乘次數下各方案的費用變化，幫助您了解在什麼情況下哪種方案最划算。",c.jsx("span",{className:"text-emerald-300 font-medium",children:"交叉點"}),"表示方案間的轉換時機。"]})})]})]})]})}function ove({schedule:t,names:e,displayDates:r,selectedEmployee:n}){if(!n)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"請選擇一位同事來查看搭班情況"}),c.jsx("div",{className:"text-gray-500 text-sm",children:"在左側選擇同事後，將顯示該同事每天的搭班同事"})]});const i=o=>{var d;const A=(d=t[n])==null?void 0:d[o];if(!A||A==="休")return[];const l=[];Object.keys(t).forEach(f=>{var m;if(f==="_lastUpdated"||f===n)return;const g=(m=t[f])==null?void 0:m[o];!g||g==="休"||(g===A?l.push({id:f,name:e[f]||f,shift:g,type:"同班"}):(A==="早"&&g==="中"||A==="中"&&g==="晚"||A==="中"&&g==="早"||A==="晚"&&g==="中")&&l.push({id:f,name:e[f]||f,shift:g,type:"跨班"}))});const u={早:1,中:2,晚:3};return l.sort((f,g)=>{const m=u[f.shift]||999,p=u[g.shift]||999;return m-p}),l},s=o=>{switch(o){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}},a=o=>{switch(o){case"同班":return"bg-green-500/20 border-green-400/30 text-green-300";case"跨班":return"bg-purple-500/20 border-purple-400/30 text-purple-300";default:return"bg-gray-500/20 border-gray-400/30 text-gray-300"}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-xl p-4 sm:p-6 border border-purple-400/30",children:[c.jsx("h3",{className:"text-lg sm:text-xl font-bold text-purple-300 mb-2",children:"每日搭班視圖"}),c.jsx("div",{className:"flex items-center gap-2 sm:gap-4",children:c.jsxs("div",{className:"text-white font-semibold text-sm sm:text-base",children:["同事：",c.jsx("span",{className:"text-purple-300",children:e[n]||n})]})})]}),c.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 gap-2 sm:gap-3 md:gap-4",children:r.map(o=>{var d;const A=o===new Date().getDate(),l=(d=t[n])==null?void 0:d[o],u=i(o);return c.jsxs("div",{className:`bg-surface/60 rounded-xl p-2 sm:p-3 md:p-4 border transition-all duration-200 ${A?"border-primary/50 bg-primary/10 ring-2 ring-primary/30":"border-white/20 hover:border-white/30"}`,children:[c.jsxs("div",{className:"text-center mb-2 sm:mb-3",children:[c.jsx("div",{className:`text-sm sm:text-base md:text-lg font-bold ${A?"text-primary":"text-white"}`,children:o}),c.jsx("div",{className:"text-xs text-gray-400 hidden sm:block",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),o).getDay()]})]}),c.jsxs("div",{className:"mb-2 sm:mb-3",children:[c.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"我的班次"}),l?c.jsx("div",{className:`px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-center text-xs sm:text-sm font-bold ${s(l)}`,children:l}):c.jsx("div",{className:"px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-center text-xs sm:text-sm text-gray-400 bg-surface/20 border border-white/10",children:"無班次"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-xs text-gray-400 mb-1 sm:mb-2",children:["搭班同事 (",u.length,")"]}),u.length>0?c.jsx("div",{className:"space-y-1 sm:space-y-2",children:u.map(f=>c.jsxs("div",{className:`p-1 sm:p-2 rounded-lg border text-xs ${a(f.type)}`,children:[c.jsx("div",{className:"font-medium mb-0.5 sm:mb-1 text-xs sm:text-xs truncate",children:f.name}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs opacity-80 hidden sm:inline",children:f.type}),c.jsx("div",{className:`px-1 sm:px-2 py-0.5 sm:py-1 rounded text-xs font-bold ${s(f.shift)}`,children:f.shift})]})]},f.id))}):c.jsx("div",{className:"text-xs text-gray-500 text-center py-1 sm:py-2",children:l&&l!=="休"?"無搭班同事":"休息日"})]})]},o)})})]})}function Ave(){const[t,e]=x.useState(""),[r,n]=x.useState(""),i=()=>{if(!t.trim()){n("請輸入測試資料");return}const s=t.trim().split(`
`);let a=`資料格式分析結果：

`;a+=`總行數: ${s.length}

`,s.forEach((o,A)=>{if(!o.trim()){a+=`第 ${A+1} 行: 空白行
`;return}a+=`第 ${A+1} 行: "${o}"
`;const l=o.split("	"),u=o.split(/\s+/);a+=`  Tab 分隔: ${l.length} 個欄位
`,a+=`  空格分隔: ${u.length} 個欄位
`,l.length>=2?(a+=`  職員編號: "${l[0].trim()}"
`,a+=`  姓名: "${l[1].trim()}"
`,a+=`  班表欄位數: ${l.length-2}
`):u.length>=2?(a+=`  職員編號: "${u[0].trim()}"
`,a+=`  姓名: "${u[1].trim()}"
`,a+=`  班表欄位數: ${u.length-2}
`):a+=`  ❌ 格式錯誤：欄位數不足
`,a+=`
`}),n(a)};return c.jsxs("div",{className:"container-custom py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"資料格式測試工具"}),c.jsx("p",{className:"text-center text-text-secondary",children:"檢查 Excel 資料格式是否正確"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-400",children:"輸入測試資料"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-semibold mb-2",children:"從 Excel 複製的資料"}),c.jsx("textarea",{value:t,onChange:s=>e(s.target.value),placeholder:"請從 Excel 複製資料並貼上這裡...",className:"w-full h-64 px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-blue-400/50 focus:bg-white/10 resize-none"})]}),c.jsx("button",{onClick:i,className:"px-6 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-400 rounded-lg transition-all",children:"分析資料格式"})]}),c.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-green-400",children:"分析結果"}),c.jsx("div",{className:"bg-surface/20 rounded-lg p-4 border border-white/5",children:c.jsx("pre",{className:"text-sm text-text-secondary whitespace-pre-wrap font-mono",children:r||"請輸入資料並點擊「分析資料格式」"})})]})]}),c.jsxs("div",{className:"mt-8 bg-surface/40 rounded-xl p-6 border border-white/10",children:[c.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-400",children:"正確的資料格式"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2 text-orange-400",children:"Excel 格式要求"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary",children:[c.jsx("li",{children:"第一欄：職員編號（如 A45、A51）"}),c.jsx("li",{children:"第二欄：姓名（如 林小余、黃紅葉）"}),c.jsx("li",{children:"第三欄開始：每日班表（如 K、Y、L、月休）"}),c.jsx("li",{children:"欄位之間用 Tab 鍵分隔"}),c.jsx("li",{children:"每行代表一位同仁的完整班表"})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2 text-green-400",children:"範例資料"}),c.jsx("div",{className:"bg-surface/20 rounded-lg p-4 border border-white/5",children:c.jsx("pre",{className:"text-sm text-text-secondary font-mono",children:`A45	林小余	K	K	Y	L	月休	Y
A51	黃紅葉	K	K	Y	L	K	Y
A60	李Ashley	Y	L	K	Y	L	K`})})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-2 text-red-400",children:"常見問題"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary",children:[c.jsx("li",{children:"複製時沒有包含 Tab 分隔符"}),c.jsx("li",{children:"職員編號或姓名為空"}),c.jsx("li",{children:"資料行數不足"}),c.jsx("li",{children:"包含多餘的空格或特殊字符"})]})]})]})]})]})}const lve=x.lazy(()=>ds(()=>import("./CashierManagement-jxxX2N6G.js"),[])),uve=x.lazy(()=>ds(()=>import("./AdminPanel-BOpGLY0M.js"),[]));function cve(){const[t,e]=x.useState({checked:!1,connected:!1,error:null});return x.useEffect(()=>{(async()=>{try{const n=await xY();e({checked:!0,connected:n,error:n?null:"無法連接到 Firebase"})}catch(n){console.error("檢查 Firebase 連接時出錯:",n),e({checked:!0,connected:!1,error:n.message||"無法連接到 Firebase"})}})()},[]),c.jsx(xX,{children:c.jsx(g$,{children:c.jsxs(vX,{children:[t.checked&&!t.connected&&c.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 m-4",children:[c.jsx("h3",{className:"text-amber-500 font-bold mb-2",children:"Firebase 連接警告"}),c.jsxs("p",{className:"text-sm text-text-secondary",children:["應用程序無法連接到 Firebase 服務。部分功能可能無法正常工作。",t.error&&c.jsxs("span",{className:"block mt-1",children:["錯誤: ",t.error]})]}),c.jsx("p",{className:"text-xs text-text-secondary mt-2",children:"您仍然可以使用應用程序，但數據將不會同步到雲端。"})]}),c.jsx(x.Suspense,{fallback:c.jsx(yX,{}),children:c.jsxs(o$,{children:[c.jsx(Dn,{path:"/",element:c.jsx(s$,{to:"/sandwich",replace:!0})}),c.jsx(Dn,{path:"/sandwich",element:c.jsx(IX,{})}),c.jsx(Dn,{path:"/cashier",element:c.jsx(lve,{})}),c.jsx(Dn,{path:"/alcohol",element:c.jsx(EX,{})}),c.jsx(Dn,{path:"/coffee-beans",element:c.jsx(SX,{})}),c.jsx(Dn,{path:"/daily-reports",element:c.jsx(UX,{})}),c.jsx(Dn,{path:"/schedule",element:c.jsx(q0e,{})}),c.jsx(Dn,{path:"/data-tester",element:c.jsx(Ave,{})}),c.jsx(Dn,{path:"/poursteady",element:c.jsx(BX,{})}),c.jsx(Dn,{path:"/admin",element:c.jsx(uve,{})}),c.jsx(Dn,{path:"*",element:c.jsx(wX,{})})]})})]})})})}Lw.createRoot(document.getElementById("root")).render(c.jsx(lA.StrictMode,{children:c.jsx(cve,{})}));export{Ft as $,$ as A,Gu as B,_ve as C,s_ as D,Le as E,nf as F,Cfe as G,Yf as H,Bt as I,H5 as J,Ife as K,l_ as L,Hue as M,Vue as N,$1 as O,K1 as P,Cve as Q,lA as R,Bve as S,ye as T,Ls as U,m5 as V,$t as W,GE as X,$R as Y,Ki as Z,ds as _,T2 as a,Ka as a$,Ive as a0,Sve as a1,Dr as a2,vn as a3,pn as a4,Mf as a5,bve as a6,Yv as a7,Tve as a8,Fve as a9,z1 as aA,Qn as aB,R3 as aC,L3 as aD,bse as aE,Uv as aF,$ce as aG,O_ as aH,k_ as aI,xR as aJ,$3 as aK,lU as aL,de as aM,f1 as aN,hi as aO,In as aP,Fn as aQ,H0e as aR,w_ as aS,bH as aT,Ca as aU,BH as aV,Q_ as aW,Xu as aX,Ba as aY,FB as aZ,AA as a_,An as aa,As as ab,U3 as ac,go as ad,cf as ae,P3 as af,j1 as ag,U_ as ah,Ahe as ai,Xfe as aj,T_ as ak,Mu as al,nt as am,dfe as an,ht as ao,DA as ap,Mhe as aq,Va as ar,F_ as as,P_ as at,PF as au,Vv as av,jv as aw,io as ax,no as ay,pB as az,Aj as b,$a as b0,EA as b1,ga as b2,K_ as b3,Ea as b4,yY as b5,_C as c,aj as d,mW as e,mu as f,VY as g,Fi as h,or as i,c as j,md as k,hd as l,wve as m,yve as n,xve as o,LY as p,rj as q,x as r,$o as s,BY as t,Hk as u,vve as v,tf as w,pW as x,$e as y,yt as z};
